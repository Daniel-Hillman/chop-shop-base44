const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/WaveformVisualization-DKyQ2tMh.js","assets/CanvasRenderer-B1XfccUk.js","assets/VisualEnhancementEngine-Bv-cAWMG.js","assets/InteractionManager-Bm6YdUAt.js"])))=>i.map(i=>d[i]);
function e(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var n,r,i={exports:{}},s={};var a,o,l=(r||(r=1,i.exports=function(){if(n)return s;n=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(t,n,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==n.key&&(i=""+n.key),"key"in n)for(var s in r={},n)"key"!==s&&(r[s]=n[s]);else r=n;return n=r.ref,{$$typeof:e,type:t,key:i,ref:void 0!==n?n:null,props:r}}return s.Fragment=t,s.jsx=r,s.jsxs=r,s}()),i.exports),c={exports:{}},u={};function d(){if(a)return u;a=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function E(t,n,r,i,s,a){return r=a.ref,{$$typeof:e,type:t,key:n,ref:void 0!==r?r:null,props:a}}function C(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var T=/\/+/g;function _(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function I(){}function A(n,r,i,s,a){var o=typeof n;"undefined"!==o&&"boolean"!==o||(n=null);var l,c,u=!1;if(null===n)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(n.$$typeof){case e:case t:u=!0;break;case h:return A((u=n._init)(n._payload),r,i,s,a)}}if(u)return a=a(n),u=""===s?"."+_(n,0):s,x(a)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),A(a,r,i,"",function(e){return e})):null!=a&&(C(a)&&(l=a,c=i+(null==a.key||n&&n.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+u,a=E(l.type,c,void 0,0,0,l.props)),r.push(a)),1;u=0;var d,p=""===s?".":s+":";if(x(n))for(var m=0;m<n.length;m++)u+=A(s=n[m],r,i,o=p+_(s,m),a);else if("function"==typeof(m=null===(d=n)||"object"!=typeof d?null:"function"==typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(n=m.call(n),m=0;!(s=n.next()).done;)u+=A(s=s.value,r,i,o=p+_(s,m++),a);else if("object"===o){if("function"==typeof n.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(I,I):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(n),r,i,s,a);throw r=String(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.")}return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",function(e){return t.call(n,e,i++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)};function D(){}return u.Children={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},u.Component=v,u.Fragment=n,u.Profiler=i,u.PureComponent=b,u.StrictMode=r,u.Suspense=c,u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,u.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},u.cache=function(e){return function(){return e.apply(null,arguments)}},u.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!k.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];r.children=a}return E(e.type,i,void 0,0,0,r)},u.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},u.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return E(e,s,void 0,0,0,i)},u.createRef=function(){return{current:null}},u.forwardRef=function(e){return{$$typeof:l,render:e}},u.isValidElement=C,u.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},u.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},u.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(D,R)}catch(s){R(s)}finally{S.T=t}},u.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},u.use=function(e){return S.H.use(e)},u.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},u.useCallback=function(e,t){return S.H.useCallback(e,t)},u.useContext=function(e){return S.H.useContext(e)},u.useDebugValue=function(){},u.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},u.useEffect=function(e,t,n){var r=S.H;if("function"==typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},u.useId=function(){return S.H.useId()},u.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},u.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},u.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},u.useMemo=function(e,t){return S.H.useMemo(e,t)},u.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},u.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},u.useRef=function(e){return S.H.useRef(e)},u.useState=function(e){return S.H.useState(e)},u.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},u.useTransition=function(){return S.H.useTransition()},u.version="19.1.1",u}function h(){return o||(o=1,c.exports=d()),c.exports}var f=h();const p=t(f),m=e({__proto__:null,default:p},[f]);var g,v,y={exports:{}},b={},w={exports:{}},x={};function S(){return v||(v=1,w.exports=(g||(g=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,a=s>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<s&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,m=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var i=n(c);null!==i;){if(null===i.callback)r(c);else{if(!(i.startTime<=e))break;r(c),i.sortIndex=i.expirationTime,t(l,i)}i=n(c)}}function x(e){if(m=!1,w(e),!p)if(null!==n(l))p=!0,k||(k=!0,S());else{var t=n(c);null!==t&&P(x,t.startTime-e)}}var S,k=!1,E=-1,C=5,T=-1;function _(){return!(!g&&e.unstable_now()-T<C)}function I(){if(g=!1,k){var t=e.unstable_now();T=t;var i=!0;try{e:{p=!1,m&&(m=!1,y(E),E=-1),f=!0;var s=h;try{t:{for(w(t),d=n(l);null!==d&&!(d.expirationTime>t&&_());){var a=d.callback;if("function"==typeof a){d.callback=null,h=d.priorityLevel;var o=a(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof o){d.callback=o,w(t),i=!0;break t}d===n(l)&&r(l),w(t)}else r(l);d=n(l)}if(null!==d)i=!0;else{var u=n(c);null!==u&&P(x,u.startTime-t),i=!1}}break e}finally{d=null,h=s,f=!1}i=void 0}}finally{i?S():k=!1}}}if("function"==typeof b)S=function(){b(I)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,N=A.port2;A.port1.onmessage=I,S=function(){N.postMessage(null)}}else S=function(){v(I,0)};function P(t,n){E=v(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(C=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,i,s){var a=e.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?a+s:a,r){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return r={id:u++,callback:i,priorityLevel:r,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(r.sortIndex=s,t(c,r),null===n(l)&&r===n(c)&&(m?(y(E),E=-1):m=!0,P(x,s-a))):(r.sortIndex=o,t(l,r),p||f||(p=!0,k||(k=!0,S()))),r},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(x)),x)),w.exports}var k,E,C,T,_={exports:{}},I={};function A(){if(k)return I;k=1;var e=h();function t(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}return I.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,I.createPortal=function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(t(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,n,null,r)},I.flushSync=function(e){var t=s.T,n=r.p;try{if(s.T=null,r.p=2,e)return e()}finally{s.T=t,r.p=n,r.d.f()}},I.preconnect=function(e,t){"string"==typeof e&&(t?t="string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,r.d.C(e,t))},I.prefetchDNS=function(e){"string"==typeof e&&r.d.D(e)},I.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,i=a(n,t.crossOrigin),s="string"==typeof t.integrity?t.integrity:void 0,o="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?r.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:o}):"script"===n&&r.d.X(e,{crossOrigin:i,integrity:s,fetchPriority:o,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},I.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=a(t.as,t.crossOrigin);r.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&r.d.M(e)},I.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,i=a(n,t.crossOrigin);r.d.L(e,n,{crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},I.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=a(t.as,t.crossOrigin);r.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else r.d.m(e)},I.requestFormReset=function(e){r.d.r(e)},I.unstable_batchedUpdates=function(e,t){return e(t)},I.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},I.useFormStatus=function(){return s.H.useHostTransitionStatus()},I.version="19.1.1",I}function N(){if(E)return _.exports;return E=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),_.exports=A(),_.exports}
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function P(){if(C)return b;C=1;var e=S(),t=h(),n=N();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function s(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function a(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function o(e){if(s(e)!==e)throw Error(r(188))}function l(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=l(e)))return t;e=e.sibling}return null}var c=Object.assign,u=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),w=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function R(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=P&&e[P]||e["@@iterator"])?e:null}var D=Symbol.for("react.client.reference");function M(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===D?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case p:return"Fragment";case g:return"Profiler";case m:return"StrictMode";case k:return"Suspense";case E:return"SuspenseList";case I:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case f:return"Portal";case w:return(e.displayName||"Context")+".Provider";case y:return(e._context.displayName||"Context")+".Consumer";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:M(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return M(e(t))}catch(n){}}return null}var L=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},U=[],z=-1;function V(e){return{current:e}}function B(e){0>z||(e.current=U[z],U[z]=null,z--)}function H(e,t){z++,U[z]=e.current,e.current=t}var $=V(null),W=V(null),q=V(null),K=V(null);function G(e,t){switch(H(q,t),H(W,e),H($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ad(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=od(t=ad(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B($),H($,e)}function Y(){B($),B(W),B(q)}function Q(e){null!==e.memoizedState&&H(K,e);var t=$.current,n=od(t,e.type);t!==n&&(H(W,e),H($,n))}function J(e){W.current===e&&(B($),B(W)),K.current===e&&(B(K),Qd._currentValue=F)}var X=Object.prototype.hasOwnProperty,Z=e.unstable_scheduleCallback,ee=e.unstable_cancelCallback,te=e.unstable_shouldYield,ne=e.unstable_requestPaint,re=e.unstable_now,ie=e.unstable_getCurrentPriorityLevel,se=e.unstable_ImmediatePriority,ae=e.unstable_UserBlockingPriority,oe=e.unstable_NormalPriority,le=e.unstable_LowPriority,ce=e.unstable_IdlePriority,ue=e.log,de=e.unstable_setDisableYieldValue,he=null,fe=null;function pe(e){if("function"==typeof ue&&de(e),fe&&"function"==typeof fe.setStrictMode)try{fe.setStrictMode(he,e)}catch(t){}}var me=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ge(e)/ve|0)|0},ge=Math.log,ve=Math.LN2;var ye=256,be=4194304;function we(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xe(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~s)?i=we(r):0!==(a&=o)?i=we(a):n||0!==(n=o&~e)&&(i=we(n)):0!==(o=r&~s)?i=we(o):0!==a?i=we(a):n||0!==(n=r&~e)&&(i=we(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&4194048&n)?t:i}function Se(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function ke(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ee(){var e=ye;return!(4194048&(ye<<=1))&&(ye=256),e}function Ce(){var e=be;return!(62914560&(be<<=1))&&(be=4194304),e}function Te(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _e(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ie(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-me(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ae(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-me(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ne(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pe(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Re(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:dh(e.type)}var De=Math.random().toString(36).slice(2),Me="__reactFiber$"+De,Le="__reactProps$"+De,je="__reactContainer$"+De,Oe="__reactEvents$"+De,Fe="__reactListeners$"+De,Ue="__reactHandles$"+De,ze="__reactResources$"+De,Ve="__reactMarker$"+De;function Be(e){delete e[Me],delete e[Le],delete e[Oe],delete e[Fe],delete e[Ue]}function He(e){var t=e[Me];if(t)return t;for(var n=e.parentNode;n;){if(t=n[je]||n[Me]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xd(e);null!==e;){if(n=e[Me])return n;e=xd(e)}return t}n=(e=n).parentNode}return null}function $e(e){if(e=e[Me]||e[je]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function We(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function qe(e){var t=e[ze];return t||(t=e[ze]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ke(e){e[Ve]=!0}var Ge=new Set,Ye={};function Qe(e,t){Je(e,t),Je(e+"Capture",t)}function Je(e,t){for(Ye[e]=t,e=0;e<t.length;e++)Ge.add(t[e])}var Xe,Ze,et=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tt={},nt={};function rt(e,t,n){if(i=t,X.call(nt,i)||!X.call(tt,i)&&(et.test(i)?nt[i]=!0:(tt[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function it(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function st(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function at(e){if(void 0===Xe)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",Ze=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Xe+e+Ze}var ot=!1;function lt(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"==typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?at(n):""}function ct(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return lt(e.type,!1);case 11:return lt(e.type.render,!1);case 1:return lt(e.type,!0);case 31:return at("Activity");default:return""}}function ut(e){try{var t="";do{t+=ct(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){e._valueTracker||(e._valueTracker=function(e){var t=ht(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,r,i,s,a,o){e.name="",null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?wt(e,a,dt(t)):null!=n?wt(e,a,dt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+dt(o):e.removeAttribute("name")}function bt(e,t,n,r,i,s,a,o){if(null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.type=s),null!=t||null!=n){if(("submit"===s||"reset"===s)&&null==t)return;n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.name=a)}function wt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function St(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(r(92));if(L(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i)}function Et(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ct=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||Ct.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function _t(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var s in t)i=t[s],t.hasOwnProperty(s)&&n[s]!==i&&Tt(e,s,i)}else for(var a in t)t.hasOwnProperty(a)&&Tt(e,a,t[a])}function It(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Nt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Rt=null;function Dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Mt=null,Lt=null;function jt(e){var t=$e(e);if(t&&(e=t.stateNode)){var n=e[Le]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=i[Le]||null;if(!s)throw Error(r(90));yt(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&pt(i)}break e;case"textarea":St(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var Ot=!1;function Ft(e,t,n){if(Ot)return e(t,n);Ot=!0;try{return e(t)}finally{if(Ot=!1,(null!==Mt||null!==Lt)&&(Hc(),Mt&&(t=Mt,e=Lt,Lt=Mt=null,jt(t),e)))for(t=0;t<e.length;t++)jt(e[t])}}function Ut(e,t){var n=e.stateNode;if(null===n)return null;var i=n[Le]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var zt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Vt=!1;if(zt)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Lh){Vt=!1}var Ht=null,$t=null,Wt=null;function qt(){if(Wt)return Wt;var e,t,n=$t,r=n.length,i="value"in Ht?Ht.value:Ht.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Wt=i.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Yt(){return!1}function Qt(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Gt:Yt,this.isPropagationStopped=Yt,this}return c(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Jt,Xt,Zt,en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tn=Qt(en),nn=c({},en,{view:0,detail:0}),rn=Qt(nn),sn=c({},nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zt&&(Zt&&"mousemove"===e.type?(Jt=e.screenX-Zt.screenX,Xt=e.screenY-Zt.screenY):Xt=Jt=0,Zt=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),an=Qt(sn),on=Qt(c({},sn,{dataTransfer:0})),ln=Qt(c({},nn,{relatedTarget:0})),cn=Qt(c({},en,{animationName:0,elapsedTime:0,pseudoElement:0})),un=Qt(c({},en,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=Qt(c({},en,{data:0})),hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=pn[e])&&!!t[e]}function gn(){return mn}var vn=Qt(c({},nn,{key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),yn=Qt(c({},sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=Qt(c({},nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gn})),wn=Qt(c({},en,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=Qt(c({},sn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=Qt(c({},en,{newState:0,oldState:0})),kn=[9,13,27,32],En=zt&&"CompositionEvent"in window,Cn=null;zt&&"documentMode"in document&&(Cn=document.documentMode);var Tn=zt&&"TextEvent"in window&&!Cn,_n=zt&&(!En||Cn&&8<Cn&&11>=Cn),In=String.fromCharCode(32),An=!1;function Nn(e,t){switch(e){case"keyup":return-1!==kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dn[e.type]:"textarea"===t}function Ln(e,t,n,r){Mt?Lt?Lt.push(r):Lt=[r]:Mt=r,0<(t=qu(t,"onChange")).length&&(n=new tn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var jn=null,On=null;function Fn(e){Fu(e,0)}function Un(e){if(pt(We(e)))return e}function zn(e,t){if("change"===e)return t}var Vn=!1;if(zt){var Bn;if(zt){var Hn="oninput"in document;if(!Hn){var $n=document.createElement("div");$n.setAttribute("oninput","return;"),Hn="function"==typeof $n.oninput}Bn=Hn}else Bn=!1;Vn=Bn&&(!document.documentMode||9<document.documentMode)}function Wn(){jn&&(jn.detachEvent("onpropertychange",qn),On=jn=null)}function qn(e){if("value"===e.propertyName&&Un(On)){var t=[];Ln(t,On,e,Dt(e)),Ft(Fn,t)}}function Kn(e,t,n){"focusin"===e?(Wn(),On=n,(jn=t).attachEvent("onpropertychange",qn)):"focusout"===e&&Wn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Un(On)}function Yn(e,t){if("click"===e)return Un(t)}function Qn(e,t){if("input"===e||"change"===e)return Un(t)}var Jn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Xn(e,t){if(Jn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!X.call(t,i)||!Jn(e[i],t[i]))return!1}return!0}function Zn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function er(e,t){var n,r=Zn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zn(r)}}function tr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?tr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function nr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ir=zt&&"documentMode"in document&&11>=document.documentMode,sr=null,ar=null,or=null,lr=!1;function cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;lr||null==sr||sr!==mt(r)||("selectionStart"in(r=sr)&&rr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Xn(or,r)||(or=r,0<(r=qu(ar,"onSelect")).length&&(t=new tn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sr)))}function ur(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},hr={},fr={};function pr(e){if(hr[e])return hr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in fr)return hr[e]=n[t];return e}zt&&(fr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var mr=pr("animationend"),gr=pr("animationiteration"),vr=pr("animationstart"),yr=pr("transitionrun"),br=pr("transitionstart"),wr=pr("transitioncancel"),xr=pr("transitionend"),Sr=new Map,kr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,t){Sr.set(e,t),Qe(t,[e])}kr.push("scrollEnd");var Cr=new WeakMap;function Tr(e,t){if("object"==typeof e&&null!==e){var n=Cr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ut(t)},Cr.set(e,t),t)}return{value:e,source:t,stack:ut(t)}}var _r=[],Ir=0,Ar=0;function Nr(){for(var e=Ir,t=Ar=Ir=0;t<e;){var n=_r[t];_r[t++]=null;var r=_r[t];_r[t++]=null;var i=_r[t];_r[t++]=null;var s=_r[t];if(_r[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==s&&Mr(n,i,s)}}function Pr(e,t,n,r){_r[Ir++]=e,_r[Ir++]=t,_r[Ir++]=n,_r[Ir++]=r,Ar|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Rr(e,t,n,r){return Pr(e,t,n,r),Lr(e)}function Dr(e,t){return Pr(e,null,null,t),Lr(e)}function Mr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-me(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function Lr(e){if(50<Mc)throw Mc=0,Lc=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var jr={};function Or(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(e,t,n,r){return new Or(e,t,n,r)}function Ur(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zr(e,t){var n=e.alternate;return null===n?((n=Fr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Vr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Br(e,t,n,i,s,a){var o=0;if(i=e,"function"==typeof e)Ur(e)&&(o=1);else if("string"==typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,$.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case I:return(e=Fr(31,n,t,s)).elementType=I,e.lanes=a,e;case p:return Hr(n.children,s,a,t);case m:o=8,s|=24;break;case g:return(e=Fr(12,n,t,2|s)).elementType=g,e.lanes=a,e;case k:return(e=Fr(13,n,t,s)).elementType=k,e.lanes=a,e;case E:return(e=Fr(19,n,t,s)).elementType=E,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case v:case w:o=10;break e;case y:o=9;break e;case x:o=11;break e;case T:o=14;break e;case _:o=16,i=null;break e}o=29,n=Error(r(130,null===e?"null":typeof e,"")),i=null}return(t=Fr(o,n,t,s)).elementType=e,t.type=i,t.lanes=a,t}function Hr(e,t,n,r){return(e=Fr(7,e,r,t)).lanes=n,e}function $r(e,t,n){return(e=Fr(6,e,null,t)).lanes=n,e}function Wr(e,t,n){return(t=Fr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qr=[],Kr=0,Gr=null,Yr=0,Qr=[],Jr=0,Xr=null,Zr=1,ei="";function ti(e,t){qr[Kr++]=Yr,qr[Kr++]=Gr,Gr=e,Yr=t}function ni(e,t,n){Qr[Jr++]=Zr,Qr[Jr++]=ei,Qr[Jr++]=Xr,Xr=e;var r=Zr;e=ei;var i=32-me(r)-1;r&=~(1<<i),n+=1;var s=32-me(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Zr=1<<32-me(t)+i|n<<i|r,ei=s+e}else Zr=1<<s|n<<i|r,ei=e}function ri(e){null!==e.return&&(ti(e,1),ni(e,1,0))}function ii(e){for(;e===Gr;)Gr=qr[--Kr],qr[Kr]=null,Yr=qr[--Kr],qr[Kr]=null;for(;e===Xr;)Xr=Qr[--Jr],Qr[Jr]=null,ei=Qr[--Jr],Qr[Jr]=null,Zr=Qr[--Jr],Qr[Jr]=null}var si=null,ai=null,oi=!1,li=null,ci=!1,ui=Error(r(519));function di(e){throw vi(Tr(Error(r(418,"")),e)),ui}function hi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Me]=e,t[Le]=r,n){case"dialog":Uu("cancel",t),Uu("close",t);break;case"iframe":case"object":case"embed":Uu("load",t);break;case"video":case"audio":for(n=0;n<ju.length;n++)Uu(ju[n],t);break;case"source":Uu("error",t);break;case"img":case"image":case"link":Uu("error",t),Uu("load",t);break;case"details":Uu("toggle",t);break;case"input":Uu("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ft(t);break;case"select":Uu("invalid",t);break;case"textarea":Uu("invalid",t),kt(t,r.value,r.defaultValue,r.children),ft(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Xu(t.textContent,n)?(null!=r.popover&&(Uu("beforetoggle",t),Uu("toggle",t)),null!=r.onScroll&&Uu("scroll",t),null!=r.onScrollEnd&&Uu("scrollend",t),null!=r.onClick&&(t.onclick=Zu),t=!0):t=!1,t||di(e)}function fi(e){for(si=e.return;si;)switch(si.tag){case 5:case 13:return void(ci=!1);case 27:case 3:return void(ci=!0);default:si=si.return}}function pi(e){if(e!==si)return!1;if(!oi)return fi(e),oi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ld(e.type,e.memoizedProps)),t=!t),t&&ai&&di(e),fi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ai=bd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ai=null}}else 27===n?(n=ai,md(e.type)?(e=wd,wd=null,ai=e):ai=n):ai=si?bd(e.stateNode.nextSibling):null;return!0}function mi(){ai=si=null,oi=!1}function gi(){var e=li;return null!==e&&(null===xc?xc=e:xc.push.apply(xc,e),li=null),e}function vi(e){null===li?li=[e]:li.push(e)}var yi=V(null),bi=null,wi=null;function xi(e,t,n){H(yi,t._currentValue),t._currentValue=n}function Si(e){e._currentValue=yi.current,B(yi)}function ki(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ei(e,t,n,i){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var a=s.dependencies;if(null!==a){var o=s.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ki(a.return,n,e),i||(o=null);break e}a=l.next}}else if(18===s.tag){if(null===(o=s.return))throw Error(r(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),ki(o,n,e),o=null}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===e){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}}function Ci(e,t,n,i){e=null;for(var s=t,a=!1;null!==s;){if(!a)if(524288&s.flags)a=!0;else if(262144&s.flags)break;if(10===s.tag){var o=s.alternate;if(null===o)throw Error(r(387));if(null!==(o=o.memoizedProps)){var l=s.type;Jn(s.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(s===K.current){if(null===(o=s.alternate))throw Error(r(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(Qd):e=[Qd])}s=s.return}null!==e&&Ei(t,e,n,i),t.flags|=262144}function Ti(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _i(e){bi=e,wi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ii(e){return Ni(bi,e)}function Ai(e,t){return null===bi&&_i(e),Ni(e,t)}function Ni(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===wi){if(null===e)throw Error(r(308));wi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else wi=wi.next=t;return n}var Pi="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ri=e.unstable_scheduleCallback,Di=e.unstable_NormalPriority,Mi={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Li(){return{controller:new Pi,data:new Map,refCount:0}}function ji(e){e.refCount--,0===e.refCount&&Ri(Di,function(){e.controller.abort()})}var Oi=null,Fi=0,Ui=0,zi=null;function Vi(){if(0===--Fi&&null!==Oi){null!==zi&&(zi.status="fulfilled");var e=Oi;Oi=null,Ui=0,zi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Bi=j.S;j.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Oi){var n=Oi=[];Fi=0,Ui=Pu(),zi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Fi++,t.then(Vi,Vi)}(0,t),null!==Bi&&Bi(e,t)};var Hi=V(null);function $i(){var e=Hi.current;return null!==e?e:sc.pooledCache}function Wi(e,t){H(Hi,null===t?Hi.current:t.pool)}function qi(){var e=$i();return null===e?null:{parent:Mi._currentValue,pool:e}}var Ki=Error(r(460)),Gi=Error(r(474)),Yi=Error(r(542)),Qi={then:function(){}};function Ji(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xi(){}function Zi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xi,Xi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ns(e=t.reason),e;default:if("string"==typeof t.status)t.then(Xi,Xi);else{if(null!==(e=sc)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ns(e=t.reason),e}throw es=t,Ki}}var es=null;function ts(){if(null===es)throw Error(r(459));var e=es;return es=null,e}function ns(e){if(e===Ki||e===Yi)throw Error(r(483))}var rs=!1;function is(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ss(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function as(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function os(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&ic){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Lr(e),Mr(e,null,n),t}return Pr(e,r,t,n),Lr(e)}function ls(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ae(e,n)}}function cs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var us=!1;function ds(){if(us){if(null!==zi)throw zi}}function hs(e,t,n,r){us=!1;var i=e.updateQueue;rs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===a?s=u:a.next=u,a=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===o?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,d=u=l=null,o=s;;){var f=-536870913&o.lane,p=f!==o.lane;if(p?(oc&f)===f:(r&f)===f){0!==f&&f===Ui&&(us=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;f=t;var v=n;switch(g.tag){case 1:if("function"==typeof(m=g.payload)){h=m.call(v,h,f);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=g.payload)?m.call(v,h,f):m))break e;h=c({},h,f);break e;case 2:rs=!0}}null!==(f=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(u=d=p,l=h):d=d.next=p,a|=f;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===d&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,null===s&&(i.shared.lanes=0),mc|=a,e.lanes=a,e.memoizedState=h}}function fs(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function ps(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)fs(n[e],t)}var ms=V(null),gs=V(0);function vs(e,t){H(gs,e=fc),H(ms,t),fc=e|t.baseLanes}function ys(){H(gs,fc),H(ms,ms.current)}function bs(){fc=gs.current,B(ms),B(gs)}var ws=0,xs=null,Ss=null,ks=null,Es=!1,Cs=!1,Ts=!1,_s=0,Is=0,As=null,Ns=0;function Ps(){throw Error(r(321))}function Rs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function Ds(e,t,n,r,i,s){return ws=s,xs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=null===e||null===e.memoizedState?Ka:Ga,Ts=!1,s=n(r,i),Ts=!1,Cs&&(s=Ls(t,n,r,i)),Ms(e),s}function Ms(e){j.H=qa;var t=null!==Ss&&null!==Ss.next;if(ws=0,ks=Ss=xs=null,Es=!1,Is=0,As=null,t)throw Error(r(300));null===e||Ao||null!==(e=e.dependencies)&&Ti(e)&&(Ao=!0)}function Ls(e,t,n,i){xs=e;var s=0;do{if(Cs&&(As=null),Is=0,Cs=!1,25<=s)throw Error(r(301));if(s+=1,ks=Ss=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}j.H=Ya,a=t(n,i)}while(Cs);return a}function js(){var e=j.H,t=e.useState()[0];return t="function"==typeof t.then?Bs(t):t,e=e.useState()[0],(null!==Ss?Ss.memoizedState:null)!==e&&(xs.flags|=1024),t}function Os(){var e=0!==_s;return _s=0,e}function Fs(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Us(e){if(Es){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Es=!1}ws=0,ks=Ss=xs=null,Cs=!1,Is=_s=0,As=null}function zs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ks?xs.memoizedState=ks=e:ks=ks.next=e,ks}function Vs(){if(null===Ss){var e=xs.alternate;e=null!==e?e.memoizedState:null}else e=Ss.next;var t=null===ks?xs.memoizedState:ks.next;if(null!==t)ks=t,Ss=e;else{if(null===e){if(null===xs.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(Ss=e).memoizedState,baseState:Ss.baseState,baseQueue:Ss.baseQueue,queue:Ss.queue,next:null},null===ks?xs.memoizedState=ks=e:ks=ks.next=e}return ks}function Bs(e){var t=Is;return Is+=1,null===As&&(As=[]),e=Zi(As,e,t),t=xs,null===(null===ks?t.memoizedState:ks.next)&&(t=t.alternate,j.H=null===t||null===t.memoizedState?Ka:Ga),e}function Hs(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Bs(e);if(e.$$typeof===w)return Ii(e)}throw Error(r(438,String(e)))}function $s(e){var t=null,n=xs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=xs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},xs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=A;return t.index++,n}function Ws(e,t){return"function"==typeof t?t(e):t}function qs(e){return Ks(Vs(),Ss,e)}function Ks(e,t,n){var i=e.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=n;var s=e.baseQueue,a=i.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}t.baseQueue=s=a,i.pending=null}if(a=e.baseState,null===s)e.memoizedState=a;else{var l=o=null,c=null,u=t=s.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(oc&h)===h:(ws&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Ui&&(d=!0);else{if((ws&f)===f){u=u.next,f===Ui&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=a):c=c.next=h,xs.lanes|=f,mc|=f}h=u.action,Ts&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=a):c=c.next=f,xs.lanes|=h,mc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=a:c.next=l,!Jn(a,e.memoizedState)&&(Ao=!0,d&&null!==(n=zi)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=c,i.lastRenderedState=a}return null===s&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Gs(e){var t=Vs(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,a=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);Jn(a,t.memoizedState)||(Ao=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Ys(e,t,n){var i=xs,s=Vs(),a=oi;if(a){if(void 0===n)throw Error(r(407));n=n()}else n=t();var o=!Jn((Ss||s).memoizedState,n);if(o&&(s.memoizedState=n,Ao=!0),s=s.queue,ya(2048,8,Xs.bind(null,i,s,e),[e]),s.getSnapshot!==t||o||null!==ks&&1&ks.memoizedState.tag){if(i.flags|=2048,ma(9,{destroy:void 0,resource:void 0},Js.bind(null,i,s,n,t),null),null===sc)throw Error(r(349));a||124&ws||Qs(i,t,n)}return n}function Qs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=xs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},xs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Js(e,t,n,r){t.value=n,t.getSnapshot=r,Zs(t)&&ea(e)}function Xs(e,t,n){return n(function(){Zs(t)&&ea(e)})}function Zs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(r){return!0}}function ea(e){var t=Dr(e,2);null!==t&&Fc(t,e,2)}function ta(e){var t=zs();if("function"==typeof e){var n=e;if(e=n(),Ts){pe(!0);try{n()}finally{pe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:e},t}function na(e,t,n,r){return e.baseState=n,Ks(e,Ss,"function"==typeof r?r:Ws)}function ra(e,t,n,i,s){if(Ha(e))throw Error(r(485));if(null!==(e=t.action)){var a={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==j.T?n(!0):a.isTransition=!1,i(a),null===(n=t.pending)?(a.next=t.pending=a,ia(t,a)):(a.next=n.next,t.pending=n.next=a)}}function ia(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=j.T,a={};j.T=a;try{var o=n(i,r),l=j.S;null!==l&&l(a,o),sa(e,t,o)}catch(c){oa(e,t,c)}finally{j.T=s}}else try{sa(e,t,s=n(i,r))}catch(u){oa(e,t,u)}}function sa(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){aa(e,t,n)},function(n){return oa(e,t,n)}):aa(e,t,n)}function aa(e,t,n){t.status="fulfilled",t.value=n,la(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ia(e,n)))}function oa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,la(t),t=t.next}while(t!==r)}e.action=null}function la(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ca(e,t){return t}function ua(e,t){if(oi){var n=sc.formState;if(null!==n){e:{var r=xs;if(oi){if(ai){t:{for(var i=ai,s=ci;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=bd(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){ai=bd(i.nextSibling),r="F!"===i.data;break e}}di(r)}r=!1}r&&(t=n[0])}}return(n=zs()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:t},n.queue=r,n=za.bind(null,xs,r),r.dispatch=n,r=ta(!1),s=Ba.bind(null,xs,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=zs()).queue=i,n=ra.bind(null,xs,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function da(e){return ha(Vs(),Ss,e)}function ha(e,t,n){if(t=Ks(e,t,ca)[0],e=qs(Ws)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=Bs(t)}catch(a){if(a===Ki)throw Yi;throw a}else r=t;var i=(t=Vs()).queue,s=i.dispatch;return n!==t.memoizedState&&(xs.flags|=2048,ma(9,{destroy:void 0,resource:void 0},fa.bind(null,i,n),null)),[r,s,e]}function fa(e,t){e.action=t}function pa(e){var t=Vs(),n=Ss;if(null!==n)return ha(t,n,e);Vs(),t=t.memoizedState;var r=(n=Vs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ma(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=xs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},xs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ga(){return Vs().memoizedState}function va(e,t,n,r){var i=zs();r=void 0===r?null:r,xs.flags|=e,i.memoizedState=ma(1|t,{destroy:void 0,resource:void 0},n,r)}function ya(e,t,n,r){var i=Vs();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==Ss&&null!==r&&Rs(r,Ss.memoizedState.deps)?i.memoizedState=ma(t,s,n,r):(xs.flags|=e,i.memoizedState=ma(1|t,s,n,r))}function ba(e,t){va(8390656,8,e,t)}function wa(e,t){ya(2048,8,e,t)}function xa(e,t){return ya(4,2,e,t)}function Sa(e,t){return ya(4,4,e,t)}function ka(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Ea(e,t,n){n=null!=n?n.concat([e]):null,ya(4,4,ka.bind(null,t,e),n)}function Ca(){}function Ta(e,t){var n=Vs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Rs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _a(e,t){var n=Vs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Rs(t,r[1]))return r[0];if(r=e(),Ts){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[r,t],r}function Ia(e,t,n){return void 0===n||1073741824&ws?e.memoizedState=t:(e.memoizedState=n,e=Oc(),xs.lanes|=e,mc|=e,n)}function Aa(e,t,n,r){return Jn(n,t)?n:null!==ms.current?(e=Ia(e,n,r),Jn(e,t)||(Ao=!0),e):42&ws?(e=Oc(),xs.lanes|=e,mc|=e,t):(Ao=!0,e.memoizedState=n)}function Na(e,t,n,r,i){var s=O.p;O.p=0!==s&&8>s?s:8;var a,o,l,c=j.T,u={};j.T=u,Ba(e,!1,t,n);try{var d=i(),h=j.S;if(null!==h&&h(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)Va(e,t,(a=r,o=[],l={status:"pending",value:null,reason:null,then:function(e){o.push(e)}},d.then(function(){l.status="fulfilled",l.value=a;for(var e=0;e<o.length;e++)(0,o[e])(a)},function(e){for(l.status="rejected",l.reason=e,e=0;e<o.length;e++)(0,o[e])(void 0)}),l),jc());else Va(e,t,r,jc())}catch(f){Va(e,t,{then:function(){},status:"rejected",reason:f},jc())}finally{O.p=s,j.T=c}}function Pa(){}function Ra(e,t,n,i){if(5!==e.tag)throw Error(r(476));var s=Da(e).queue;Na(e,s,t,F,null===n?Pa:function(){return Ma(e),n(i)})}function Da(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:F},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ma(e){Va(e,Da(e).next.queue,{},jc())}function La(){return Ii(Qd)}function ja(){return Vs().memoizedState}function Oa(){return Vs().memoizedState}function Fa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=jc(),r=os(t,e=as(n),n);return null!==r&&(Fc(r,t,n),ls(r,t,n)),t={cache:Li()},void(e.payload=t)}t=t.return}}function Ua(e,t,n){var r=jc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ha(e)?$a(t,n):null!==(n=Rr(e,t,n,r))&&(Fc(n,e,r),Wa(n,t,r))}function za(e,t,n){Va(e,t,n,jc())}function Va(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ha(e))$a(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Jn(o,a))return Pr(e,t,i,0),null===sc&&Nr(),!1}catch(l){}if(null!==(n=Rr(e,t,i,r)))return Fc(n,e,r),Wa(n,t,r),!0}return!1}function Ba(e,t,n,i){if(i={lane:2,revertLane:Pu(),action:i,hasEagerState:!1,eagerState:null,next:null},Ha(e)){if(t)throw Error(r(479))}else null!==(t=Rr(e,n,i,2))&&Fc(t,e,2)}function Ha(e){var t=e.alternate;return e===xs||null!==t&&t===xs}function $a(e,t){Cs=Es=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wa(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ae(e,n)}}var qa={readContext:Ii,use:Hs,useCallback:Ps,useContext:Ps,useEffect:Ps,useImperativeHandle:Ps,useLayoutEffect:Ps,useInsertionEffect:Ps,useMemo:Ps,useReducer:Ps,useRef:Ps,useState:Ps,useDebugValue:Ps,useDeferredValue:Ps,useTransition:Ps,useSyncExternalStore:Ps,useId:Ps,useHostTransitionStatus:Ps,useFormState:Ps,useActionState:Ps,useOptimistic:Ps,useMemoCache:Ps,useCacheRefresh:Ps},Ka={readContext:Ii,use:Hs,useCallback:function(e,t){return zs().memoizedState=[e,void 0===t?null:t],e},useContext:Ii,useEffect:ba,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,va(4194308,4,ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return va(4194308,4,e,t)},useInsertionEffect:function(e,t){va(4,2,e,t)},useMemo:function(e,t){var n=zs();t=void 0===t?null:t;var r=e();if(Ts){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=zs();if(void 0!==n){var i=n(t);if(Ts){pe(!0);try{n(t)}finally{pe(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Ua.bind(null,xs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},zs().memoizedState=e},useState:function(e){var t=(e=ta(e)).queue,n=za.bind(null,xs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ca,useDeferredValue:function(e,t){return Ia(zs(),e,t)},useTransition:function(){var e=ta(!1);return e=Na.bind(null,xs,e.queue,!0,!1),zs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=xs,s=zs();if(oi){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===sc)throw Error(r(349));124&oc||Qs(i,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,ba(Xs.bind(null,i,a,e),[e]),i.flags|=2048,ma(9,{destroy:void 0,resource:void 0},Js.bind(null,i,a,n,t),null),n},useId:function(){var e=zs(),t=sc.identifierPrefix;if(oi){var n=ei;t=""+t+"R"+(n=(Zr&~(1<<32-me(Zr)-1)).toString(32)+n),0<(n=_s++)&&(t+="H"+n.toString(32)),t+=""}else t=""+t+"r"+(n=Ns++).toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:La,useFormState:ua,useActionState:ua,useOptimistic:function(e){var t=zs();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ba.bind(null,xs,!0,n),n.dispatch=t,[e,t]},useMemoCache:$s,useCacheRefresh:function(){return zs().memoizedState=Fa.bind(null,xs)}},Ga={readContext:Ii,use:Hs,useCallback:Ta,useContext:Ii,useEffect:wa,useImperativeHandle:Ea,useInsertionEffect:xa,useLayoutEffect:Sa,useMemo:_a,useReducer:qs,useRef:ga,useState:function(){return qs(Ws)},useDebugValue:Ca,useDeferredValue:function(e,t){return Aa(Vs(),Ss.memoizedState,e,t)},useTransition:function(){var e=qs(Ws)[0],t=Vs().memoizedState;return["boolean"==typeof e?e:Bs(e),t]},useSyncExternalStore:Ys,useId:ja,useHostTransitionStatus:La,useFormState:da,useActionState:da,useOptimistic:function(e,t){return na(Vs(),0,e,t)},useMemoCache:$s,useCacheRefresh:Oa},Ya={readContext:Ii,use:Hs,useCallback:Ta,useContext:Ii,useEffect:wa,useImperativeHandle:Ea,useInsertionEffect:xa,useLayoutEffect:Sa,useMemo:_a,useReducer:Gs,useRef:ga,useState:function(){return Gs(Ws)},useDebugValue:Ca,useDeferredValue:function(e,t){var n=Vs();return null===Ss?Ia(n,e,t):Aa(n,Ss.memoizedState,e,t)},useTransition:function(){var e=Gs(Ws)[0],t=Vs().memoizedState;return["boolean"==typeof e?e:Bs(e),t]},useSyncExternalStore:Ys,useId:ja,useHostTransitionStatus:La,useFormState:pa,useActionState:pa,useOptimistic:function(e,t){var n=Vs();return null!==Ss?na(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:$s,useCacheRefresh:Oa},Qa=null,Ja=0;function Xa(e){var t=Ja;return Ja+=1,null===Qa&&(Qa=[]),Zi(Qa,e,t)}function Za(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function eo(e,t){if(t.$$typeof===u)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function to(e){return(0,e._init)(e._payload)}function no(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=zr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=$r(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===p?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===_&&to(i)===t.type)?(Za(t=s(t,n.props),n),t.return=e,t):(Za(t=Br(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wr(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function h(e,t,n,r,i){return null===t||7!==t.tag?((t=Hr(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function m(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=$r(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case d:return Za(n=Br(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=Wr(t,e.mode,n)).return=e,t;case _:return m(e,t=(0,t._init)(t._payload),n)}if(L(t)||R(t))return(t=Hr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return m(e,Xa(t),n);if(t.$$typeof===w)return m(e,Ai(e,t),n);eo(e,t)}return null}function g(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case d:return n.key===i?c(e,t,n,r):null;case f:return n.key===i?u(e,t,n,r):null;case _:return g(e,t,n=(i=n._init)(n._payload),r)}if(L(n)||R(n))return null!==i?null:h(e,t,n,r,null);if("function"==typeof n.then)return g(e,t,Xa(n),r);if(n.$$typeof===w)return g(e,t,Ai(e,n),r);eo(e,n)}return null}function v(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case d:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case f:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return v(e,t,n,r=(0,r._init)(r._payload),i)}if(L(r)||R(r))return h(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return v(e,t,n,Xa(r),i);if(r.$$typeof===w)return v(e,t,n,Ai(t,r),i);eo(t,r)}return null}function y(l,c,u,h){if("object"==typeof u&&null!==u&&u.type===p&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case d:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===p){if(7===c.tag){n(l,c.sibling),(h=s(c,u.props.children)).return=l,l=h;break e}}else if(c.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===_&&to(b)===c.type){n(l,c.sibling),Za(h=s(c,u.props),u),h.return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===p?((h=Hr(u.props.children,l.mode,h,u.key)).return=l,l=h):(Za(h=Br(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return o(l);case f:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(h=s(c,u.children||[])).return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}(h=Wr(u,l.mode,h)).return=l,l=h}return o(l);case _:return y(l,c,u=(b=u._init)(u._payload),h)}if(L(u))return function(r,s,o,l){for(var c=null,u=null,d=s,h=s=0,f=null;null!==d&&h<o.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var p=g(r,d,o[h],l);if(null===p){null===d&&(d=f);break}e&&d&&null===p.alternate&&t(r,d),s=a(p,s,h),null===u?c=p:u.sibling=p,u=p,d=f}if(h===o.length)return n(r,d),oi&&ti(r,h),c;if(null===d){for(;h<o.length;h++)null!==(d=m(r,o[h],l))&&(s=a(d,s,h),null===u?c=d:u.sibling=d,u=d);return oi&&ti(r,h),c}for(d=i(d);h<o.length;h++)null!==(f=v(d,r,h,o[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),s=a(f,s,h),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach(function(e){return t(r,e)}),oi&&ti(r,h),c}(l,c,u,h);if(R(u)){if("function"!=typeof(b=R(u)))throw Error(r(150));return function(s,o,l,c){if(null==l)throw Error(r(151));for(var u=null,d=null,h=o,f=o=0,p=null,y=l.next();null!==h&&!y.done;f++,y=l.next()){h.index>f?(p=h,h=null):p=h.sibling;var b=g(s,h,y.value,c);if(null===b){null===h&&(h=p);break}e&&h&&null===b.alternate&&t(s,h),o=a(b,o,f),null===d?u=b:d.sibling=b,d=b,h=p}if(y.done)return n(s,h),oi&&ti(s,f),u;if(null===h){for(;!y.done;f++,y=l.next())null!==(y=m(s,y.value,c))&&(o=a(y,o,f),null===d?u=y:d.sibling=y,d=y);return oi&&ti(s,f),u}for(h=i(h);!y.done;f++,y=l.next())null!==(y=v(h,s,f,y.value,c))&&(e&&null!==y.alternate&&h.delete(null===y.key?f:y.key),o=a(y,o,f),null===d?u=y:d.sibling=y,d=y);return e&&h.forEach(function(e){return t(s,e)}),oi&&ti(s,f),u}(l,c,u=b.call(u),h)}if("function"==typeof u.then)return y(l,c,Xa(u),h);if(u.$$typeof===w)return y(l,c,Ai(l,u),h);eo(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(h=s(c,u)).return=l,l=h):(n(l,c),(h=$r(u,l.mode,h)).return=l,l=h),o(l)):n(l,c)}return function(e,t,n,r){try{Ja=0;var i=y(e,t,n,r);return Qa=null,i}catch(a){if(a===Ki||a===Yi)throw a;var s=Fr(29,a,null,e.mode);return s.lanes=r,s.return=e,s}}}var ro=no(!0),io=no(!1),so=V(null),ao=null;function oo(e){var t=e.alternate;H(ho,1&ho.current),H(so,e),null===ao&&(null===t||null!==ms.current||null!==t.memoizedState)&&(ao=e)}function lo(e){if(22===e.tag){if(H(ho,ho.current),H(so,e),null===ao){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ao=e)}}else co()}function co(){H(ho,ho.current),H(so,so.current)}function uo(e){B(so),ao===e&&(ao=null),B(ho)}var ho=V(0);function fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||yd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function po(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:c({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=jc(),i=as(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=os(e,i,r))&&(Fc(t,e,r),ls(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=jc(),i=as(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=os(e,i,r))&&(Fc(t,e,r),ls(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jc(),r=as(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=os(e,r,n))&&(Fc(t,e,n),ls(t,e,n))}};function go(e,t,n,r,i,s,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,r)||!Xn(i,s))}function vo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function yo(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=c({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var bo="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)};function wo(e){bo(e)}function xo(e){}function So(e){bo(e)}function ko(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Eo(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Co(e,t,n){return(n=as(n)).tag=3,n.payload={element:null},n.callback=function(){ko(e,t)},n}function To(e){return(e=as(e)).tag=3,e}function _o(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){Eo(t,n,r)}}var a=n.stateNode;null!==a&&"function"==typeof a.componentDidCatch&&(e.callback=function(){Eo(t,n,r),"function"!=typeof i&&(null===Tc?Tc=new Set([this]):Tc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Io=Error(r(461)),Ao=!1;function No(e,t,n,r){t.child=null===e?io(t,null,n,r):ro(t,e.child,n,r)}function Po(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return _i(t),r=Ds(e,t,n,a,s,i),o=Os(),null===e||Ao?(oi&&o&&ri(t),t.flags|=1,No(e,t,r,i),t.child):(Fs(e,t,i),Jo(e,t,i))}function Ro(e,t,n,r,i){if(null===e){var s=n.type;return"function"!=typeof s||Ur(s)||void 0!==s.defaultProps||null!==n.compare?((e=Br(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Do(e,t,s,r,i))}if(s=e.child,!Xo(e,i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(a,r)&&e.ref===t.ref)return Jo(e,t,i)}return t.flags|=1,(e=zr(s,r)).ref=t.ref,e.return=t,t.child=e}function Do(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Xn(s,r)&&e.ref===t.ref){if(Ao=!1,t.pendingProps=r=s,!Xo(e,i))return t.lanes=e.lanes,Jo(e,t,i);131072&e.flags&&(Ao=!0)}}return Oo(e,t,n,r,i)}function Mo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(128&t.flags){if(r=null!==s?s.baseLanes|n:n,null!==e){for(i=t.child=e.child,s=0;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Lo(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Lo(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Wi(0,null!==s?s.cachePool:null),null!==s?vs(t,s):ys(),lo(t)}else null!==s?(Wi(0,s.cachePool),vs(t,s),co(),t.memoizedState=null):(null!==e&&Wi(0,null),ys(),co());return No(e,t,i,n),t.child}function Lo(e,t,n,r){var i=$i();return i=null===i?null:{parent:Mi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Wi(0,null),ys(),lo(t),null!==e&&Ci(e,t,r,!0),null}function jo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Oo(e,t,n,r,i){return _i(t),n=Ds(e,t,n,r,void 0,i),r=Os(),null===e||Ao?(oi&&r&&ri(t),t.flags|=1,No(e,t,n,i),t.child):(Fs(e,t,i),Jo(e,t,i))}function Fo(e,t,n,r,i,s){return _i(t),t.updateQueue=null,n=Ls(t,r,n,i),Ms(e),r=Os(),null===e||Ao?(oi&&r&&ri(t),t.flags|=1,No(e,t,n,s),t.child):(Fs(e,t,s),Jo(e,t,s))}function Uo(e,t,n,r,i){if(_i(t),null===t.stateNode){var s=jr,a=n.contextType;"object"==typeof a&&null!==a&&(s=Ii(a)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=mo,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},is(t),a=n.contextType,s.context="object"==typeof a&&null!==a?Ii(a):jr,s.state=t.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(po(t,n,a,r),s.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(a=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&mo.enqueueReplaceState(s,s.state,null),hs(t,r,s,i),ds(),s.state=t.memoizedState),"function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=yo(n,o);s.props=l;var c=s.context,u=n.contextType;a=jr,"object"==typeof u&&null!==u&&(a=Ii(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o||c!==a)&&vo(t,s,r,a),rs=!1;var h=t.memoizedState;s.state=h,hs(t,r,s,i),ds(),c=t.memoizedState,o||h!==c||rs?("function"==typeof d&&(po(t,n,d,r),c=t.memoizedState),(l=rs||go(t,n,l,r,h,c,a))?(u||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ss(e,t),u=yo(n,a=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,l=jr,"object"==typeof c&&null!==c&&(l=Ii(c)),(c="function"==typeof(o=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==d||h!==l)&&vo(t,s,r,l),rs=!1,h=t.memoizedState,s.state=h,hs(t,r,s,i),ds();var f=t.memoizedState;a!==d||h!==f||rs||null!==e&&null!==e.dependencies&&Ti(e.dependencies)?("function"==typeof o&&(po(t,n,o,r),f=t.memoizedState),(u=rs||go(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Ti(e.dependencies))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,jo(e,t),r=!!(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=ro(t,e.child,null,i),t.child=ro(t,null,n,i)):No(e,t,n,i),t.memoizedState=s.state,e=t.child):e=Jo(e,t,i),e}function zo(e,t,n,r){return mi(),t.flags|=256,No(e,t,n,r),t.child}var Vo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bo(e){return{baseLanes:e,cachePool:qi()}}function Ho(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=yc),e}function $o(e,t,n){var i,s=t.pendingProps,a=!1,o=!!(128&t.flags);if((i=o)||(i=(null===e||null!==e.memoizedState)&&!!(2&ho.current)),i&&(a=!0,t.flags&=-129),i=!!(32&t.flags),t.flags&=-33,null===e){if(oi){if(a?oo(t):co(),oi){var l,c=ai;if(l=c){e:{for(l=c,c=ci;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=bd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Xr?{id:Zr,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},(l=Fr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,si=t,ai=null,l=!0):l=!1}l||di(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return yd(c)?t.lanes=32:t.lanes=536870912,null;uo(t)}return c=s.children,s=s.fallback,a?(co(),c=qo({mode:"hidden",children:c},a=t.mode),s=Hr(s,a,n,null),c.return=t,s.return=t,c.sibling=s,t.child=c,(a=t.child).memoizedState=Bo(n),a.childLanes=Ho(e,i,n),t.memoizedState=Vo,s):(oo(t),Wo(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(oo(t),t.flags&=-257,t=Ko(e,t,n)):null!==t.memoizedState?(co(),t.child=e.child,t.flags|=128,t=null):(co(),a=s.fallback,c=t.mode,s=qo({mode:"visible",children:s.children},c),(a=Hr(a,c,n,null)).flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,ro(t,e.child,null,n),(s=t.child).memoizedState=Bo(n),s.childLanes=Ho(e,i,n),t.memoizedState=Vo,t=a);else if(oo(t),yd(c)){if(i=c.nextSibling&&c.nextSibling.dataset)var u=i.dgst;i=u,(s=Error(r(419))).stack="",s.digest=i,vi({value:s,source:null,stack:null}),t=Ko(e,t,n)}else if(Ao||Ci(e,t,n,!1),i=0!==(n&e.childLanes),Ao||i){if(null!==(i=sc)&&(0!==(s=0!==((s=42&(s=n&-n)?1:Ne(s))&(i.suspendedLanes|n))?0:s)&&s!==l.retryLane))throw l.retryLane=s,Dr(e,s),Fc(i,e,s),Io;"$?"===c.data||Yc(),t=Ko(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ai=bd(c.nextSibling),si=t,oi=!0,li=null,ci=!1,null!==e&&(Qr[Jr++]=Zr,Qr[Jr++]=ei,Qr[Jr++]=Xr,Zr=e.id,ei=e.overflow,Xr=t),(t=Wo(t,s.children)).flags|=4096);return t}return a?(co(),a=s.fallback,c=t.mode,u=(l=e.child).sibling,(s=zr(l,{mode:"hidden",children:s.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?a=zr(u,a):(a=Hr(a,c,n,null)).flags|=2,a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,null===(c=e.child.memoizedState)?c=Bo(n):(null!==(l=c.cachePool)?(u=Mi._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=qi(),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=Ho(e,i,n),t.memoizedState=Vo,s):(oo(t),e=(n=e.child).sibling,(n=zr(n,{mode:"visible",children:s.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function Wo(e,t){return(t=qo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qo(e,t){return(e=Fr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ko(e,t,n){return ro(t,e.child,null,n),(e=Wo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Go(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ki(e.return,t,n)}function Yo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Qo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(No(e,t,r.children,n),2&(r=ho.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Go(e,n,t);else if(19===e.tag)Go(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(H(ho,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===fo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Yo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===fo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Yo(t,!0,n,null,s);break;case"together":Yo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),mc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ci(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=zr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ti(e))}function Zo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ao=!0;else{if(!(Xo(e,n)||128&t.flags))return Ao=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),xi(0,Mi,e.memoizedState.cache),mi();break;case 27:case 5:Q(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:xi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(oo(t),t.flags|=128,null):0!==(n&t.child.childLanes)?$o(e,t,n):(oo(t),null!==(e=Jo(e,t,n))?e.sibling:null);oo(t);break;case 19:var i=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Ci(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Qo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),H(ho,ho.current),r)break;return null;case 22:case 23:return t.lanes=0,Mo(e,t,n);case 24:xi(0,Mi,e.memoizedState.cache)}return Jo(e,t,n)}(e,t,n);Ao=!!(131072&e.flags)}else Ao=!1,oi&&1048576&t.flags&&ni(t,Yr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,s=i._init;if(i=s(i._payload),t.type=i,"function"!=typeof i){if(null!=i){if((s=i.$$typeof)===x){t.tag=11,t=Po(null,t,i,e,n);break e}if(s===T){t.tag=14,t=Ro(null,t,i,e,n);break e}}throw t=M(i)||i,Error(r(306,t,""))}Ur(i)?(e=yo(i,e),t.tag=1,t=Uo(null,t,i,e,n)):(t.tag=0,t=Oo(null,t,i,e,n))}return t;case 0:return Oo(e,t,t.type,t.pendingProps,n);case 1:return Uo(e,t,i=t.type,s=yo(i,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(r(387));i=t.pendingProps;var a=t.memoizedState;s=a.element,ss(e,t),hs(t,i,null,n);var o=t.memoizedState;if(i=o.cache,xi(0,Mi,i),i!==a.cache&&Ei(t,[Mi],n,!0),ds(),i=o.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=zo(e,t,i,n);break e}if(i!==s){vi(s=Tr(Error(r(424)),t)),t=zo(e,t,i,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ai=bd(e.firstChild),si=t,oi=!0,li=null,ci=!0,n=io(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mi(),i===s){t=Jo(e,t,n);break e}No(e,t,i,n)}t=t.child}return t;case 26:return jo(e,t),null===e?(n=Nd(t.type,null,t.pendingProps,null))?t.memoizedState=n:oi||(n=t.type,e=t.pendingProps,(i=sd(q.current).createElement(n))[Me]=t,i[Le]=e,nd(i,n,e),Ke(i),t.stateNode=i):t.memoizedState=Nd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&oi&&(i=t.stateNode=Sd(t.type,t.pendingProps,q.current),si=t,ci=!0,s=ai,md(t.type)?(wd=s,ai=bd(i.firstChild)):ai=s),No(e,t,t.pendingProps.children,n),jo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&oi&&((s=i=ai)&&(null!==(i=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ve])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=bd(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,ci))?(t.stateNode=i,si=t,ai=bd(i.firstChild),ci=!1,s=!0):s=!1),s||di(t)),Q(t),s=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,i=a.children,ld(s,a)?i=null:null!==o&&ld(s,o)&&(t.flags|=32),null!==t.memoizedState&&(s=Ds(e,t,js,null,null,n),Qd._currentValue=s),jo(e,t),No(e,t,i,n),t.child;case 6:return null===e&&oi&&((e=n=ai)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=bd(e.nextSibling)))return null}return e}(n,t.pendingProps,ci))?(t.stateNode=n,si=t,ai=null,e=!0):e=!1),e||di(t)),null;case 13:return $o(e,t,n);case 4:return G(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=ro(t,null,i,n):No(e,t,i,n),t.child;case 11:return Po(e,t,t.type,t.pendingProps,n);case 7:return No(e,t,t.pendingProps,n),t.child;case 8:case 12:return No(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,xi(0,t.type,i.value),No(e,t,i.children,n),t.child;case 9:return s=t.type._context,i=t.pendingProps.children,_i(t),i=i(s=Ii(s)),t.flags|=1,No(e,t,i,n),t.child;case 14:return Ro(e,t,t.type,t.pendingProps,n);case 15:return Do(e,t,t.type,t.pendingProps,n);case 19:return Qo(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},null===e?((n=qo(i,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=zr(e.child,i)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Mo(e,t,n);case 24:return _i(t),i=Ii(Mi),null===e?(null===(s=$i())&&(s=sc,a=Li(),s.pooledCache=a,a.refCount++,null!==a&&(s.pooledCacheLanes|=n),s=a),t.memoizedState={parent:i,cache:s},is(t),xi(0,Mi,s)):(0!==(e.lanes&n)&&(ss(e,t),hs(t,null,null,n),ds()),s=e.memoizedState,a=t.memoizedState,s.parent!==i?(s={parent:i,cache:i},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),xi(0,Mi,i)):(i=a.cache,xi(0,Mi,i),i!==s.cache&&Ei(t,[Mi],n,!0))),No(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function el(e){e.flags|=4}function tl(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!Hd(t)){if(null!==(t=so.current)&&((4194048&oc)===oc?null!==ao:(62914560&oc)!==oc&&!(536870912&oc)||t!==ao))throw es=Qi,Gi;e.flags|=8192}}function nl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ce():536870912,e.lanes|=t,bc|=t)}function rl(e,t){if(!oi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function il(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function sl(e,t,n){var i=t.pendingProps;switch(ii(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return il(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Si(Mi),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(pi(t)?el(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,gi())),il(t),null;case 26:return n=t.memoizedState,null===e?(el(t),null!==n?(il(t),tl(t,n)):(il(t),t.flags&=-16777217)):n?n!==e.memoizedState?(el(t),il(t),tl(t,n)):(il(t),t.flags&=-16777217):(e.memoizedProps!==i&&el(t),il(t),t.flags&=-16777217),null;case 27:J(t),n=q.current;var s=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==i&&el(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return il(t),null}e=$.current,pi(t)?hi(t):(e=Sd(s,i,n),t.stateNode=e,el(t))}return il(t),null;case 5:if(J(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&el(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return il(t),null}if(e=$.current,pi(t))hi(t);else{switch(s=sd(q.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof i.is?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e="string"==typeof i.is?s.createElement(n,{is:i.is}):s.createElement(n)}}e[Me]=t,e[Le]=i;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(nd(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&el(t)}}return il(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&el(t);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));if(e=q.current,pi(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(s=si))switch(s.tag){case 27:case 5:i=s.memoizedProps}e[Me]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||Xu(e.nodeValue,n)))||di(t)}else(e=sd(e).createTextNode(i))[Me]=t,t.stateNode=e}return il(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=pi(t),null!==i&&null!==i.dehydrated){if(null===e){if(!s)throw Error(r(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(r(317));s[Me]=t}else mi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;il(t),s=!1}else s=gi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return 256&t.flags?(uo(t),t):(uo(t),null)}if(uo(t),128&t.flags)return t.lanes=n,t;if(n=null!==i,e=null!==e&&null!==e.memoizedState,n){s=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(s=i.alternate.memoizedState.cachePool.pool);var a=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(a=i.memoizedState.cachePool.pool),a!==s&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),nl(t,t.updateQueue),il(t),null;case 4:return Y(),null===e&&Bu(t.stateNode.containerInfo),il(t),null;case 10:return Si(t.type),il(t),null;case 19:if(B(ho),null===(s=t.memoizedState))return il(t),null;if(i=!!(128&t.flags),null===(a=s.rendering))if(i)rl(s,!1);else{if(0!==pc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=fo(e))){for(t.flags|=128,rl(s,!1),e=a.updateQueue,t.updateQueue=e,nl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Vr(n,e),n=n.sibling;return H(ho,1&ho.current|2),t.child}e=e.sibling}null!==s.tail&&re()>Ec&&(t.flags|=128,i=!0,rl(s,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=fo(a))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,nl(t,e),rl(s,!0),null===s.tail&&"hidden"===s.tailMode&&!a.alternate&&!oi)return il(t),null}else 2*re()-s.renderingStartTime>Ec&&536870912!==n&&(t.flags|=128,i=!0,rl(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=s.last)?e.sibling=a:t.child=a,s.last=a)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=re(),t.sibling=null,e=ho.current,H(ho,i?1&e|2:1&e),t):(il(t),null);case 22:case 23:return uo(t),bs(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?!!(536870912&n)&&!(128&t.flags)&&(il(t),6&t.subtreeFlags&&(t.flags|=8192)):il(t),null!==(n=t.updateQueue)&&nl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&B(Hi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Si(Mi),il(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function al(e,t){switch(ii(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Si(Mi),Y(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 13:if(uo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));mi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(ho),null;case 4:return Y(),null;case 10:return Si(t.type),null;case 22:case 23:return uo(t),bs(),null!==e&&B(Hi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Si(Mi),null;default:return null}}function ol(e,t){switch(ii(t),t.tag){case 3:Si(Mi),Y();break;case 26:case 27:case 5:J(t);break;case 4:Y();break;case 13:uo(t);break;case 19:B(ho);break;case 10:Si(t.type);break;case 22:case 23:uo(t),bs(),null!==e&&B(Hi);break;case 24:Si(Mi)}}function ll(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){hu(t,t.return,o)}}function cl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(u){hu(i,l,u)}}}r=r.next}while(r!==s)}}catch(u){hu(t,t.return,u)}}function ul(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ps(t,n)}catch(r){hu(e,e.return,r)}}}function dl(e,t,n){n.props=yo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){hu(e,t,r)}}function hl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(i){hu(e,t,i)}}function fl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(i){hu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(s){hu(e,t,s)}else n.current=null}function pl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){hu(e,e.return,i)}}function ml(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,a=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:i.hasOwnProperty(p)||ed(e,t,p,null,i,h)}}for(var f in i){var p=i[f];if(h=n[f],i.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":a=p;break;case"name":s=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(r(137,t));break;default:p!==h&&ed(e,t,f,p,i,h)}}return void yt(e,o,l,c,u,d,a,s);case"select":for(a in p=o=l=f=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:i.hasOwnProperty(a)||ed(e,t,a,null,i,c)}for(s in i)if(a=i[s],c=n[s],i.hasOwnProperty(s)&&(null!=a||null!=c))switch(s){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==c&&ed(e,t,s,a,i,c)}return t=l,n=o,i=p,void(null!=f?xt(e,!!n,f,!1):!!i!=!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(s=n[l],n.hasOwnProperty(l)&&null!=s&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ed(e,t,l,null,i,s)}for(o in i)if(s=i[o],a=n[o],i.hasOwnProperty(o)&&(null!=s||null!=a))switch(o){case"value":f=s;break;case"defaultValue":p=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(r(91));break;default:s!==a&&ed(e,t,o,s,i,a)}return void St(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!i.hasOwnProperty(m))if("selected"===m)e.selected=!1;else ed(e,t,m,null,i,f);for(c in i)if(f=i[c],p=n[c],i.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f;else ed(e,t,c,f,i,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!i.hasOwnProperty(g)&&ed(e,t,g,null,i,f);for(u in i)if(f=i[u],p=n[u],i.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(r(137,t));break;default:ed(e,t,u,f,i,p)}return;default:if(It(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!i.hasOwnProperty(v)&&td(e,t,v,void 0,i,f);for(d in i)f=i[d],p=n[d],!i.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||td(e,t,d,f,i,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!i.hasOwnProperty(y)&&ed(e,t,y,null,i,f);for(h in i)f=i[h],p=n[h],!i.hasOwnProperty(h)||f===p||null==f&&null==p||ed(e,t,h,f,i,p)}(i,e.type,n,t),i[Le]=t}catch(s){hu(e,e.return,s)}}function gl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&md(e.type)||4===e.tag}function vl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&md(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zu));else if(4!==r&&(27===r&&md(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function bl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&md(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(bl(e,t,n),e=e.sibling;null!==e;)bl(e,t,n),e=e.sibling}function wl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);nd(t,r,n),t[Me]=e,t[Le]=n}catch(s){hu(e,e.return,s)}}var xl=!1,Sl=!1,kl=!1,El="function"==typeof WeakSet?WeakSet:Set,Cl=null;function Tl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ul(e,n),4&r&&ll(5,n);break;case 1:if(Ul(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){hu(n,n.return,a)}else{var i=yo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){hu(n,n.return,o)}}64&r&&ul(n),512&r&&hl(n,n.return);break;case 3:if(Ul(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ps(e,t)}catch(a){hu(n,n.return,a)}}break;case 27:null===t&&4&r&&wl(n);case 26:case 5:Ul(e,n),null===t&&4&r&&pl(n),512&r&&hl(n,n.return);break;case 12:Ul(e,n);break;case 13:Ul(e,n),4&r&&Rl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=gu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||xl)){t=null!==t&&null!==t.memoizedState||Sl,i=xl;var s=Sl;xl=r,(Sl=t)&&!s?Vl(e,n,!!(8772&n.subtreeFlags)):Ul(e,n),xl=i,Sl=s}break;case 30:break;default:Ul(e,n)}}function _l(e){var t=e.alternate;null!==t&&(e.alternate=null,_l(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Be(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Il=null,Al=!1;function Nl(e,t,n){for(n=n.child;null!==n;)Pl(e,t,n),n=n.sibling}function Pl(e,t,n){if(fe&&"function"==typeof fe.onCommitFiberUnmount)try{fe.onCommitFiberUnmount(he,n)}catch(s){}switch(n.tag){case 26:Sl||fl(n,t),Nl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Sl||fl(n,t);var r=Il,i=Al;md(n.type)&&(Il=n.stateNode,Al=!1),Nl(e,t,n),kd(n.stateNode),Il=r,Al=i;break;case 5:Sl||fl(n,t);case 6:if(r=Il,i=Al,Il=null,Nl(e,t,n),Al=i,null!==(Il=r))if(Al)try{(9===Il.nodeType?Il.body:"HTML"===Il.nodeName?Il.ownerDocument.body:Il).removeChild(n.stateNode)}catch(a){hu(n,t,a)}else try{Il.removeChild(n.stateNode)}catch(a){hu(n,t,a)}break;case 18:null!==Il&&(Al?(gd(9===(e=Il).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ah(e)):gd(Il,n.stateNode));break;case 4:r=Il,i=Al,Il=n.stateNode.containerInfo,Al=!0,Nl(e,t,n),Il=r,Al=i;break;case 0:case 11:case 14:case 15:Sl||cl(2,n,t),Sl||cl(4,n,t),Nl(e,t,n);break;case 1:Sl||(fl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&dl(n,t,r)),Nl(e,t,n);break;case 21:Nl(e,t,n);break;case 22:Sl=(r=Sl)||null!==n.memoizedState,Nl(e,t,n),Sl=r;break;default:Nl(e,t,n)}}function Rl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ah(e)}catch(n){hu(t,t.return,n)}}function Dl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new El),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new El),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){var r=vu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Ml(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var s=n[i],a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(md(l.type)){Il=l.stateNode,Al=!1;break e}break;case 5:Il=l.stateNode,Al=!1;break e;case 3:case 4:Il=l.stateNode.containerInfo,Al=!0;break e}l=l.return}if(null===Il)throw Error(r(160));Pl(a,o,s),Il=null,Al=!1,null!==(a=s.alternate)&&(a.return=null),s.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)jl(t,e),t=t.sibling}var Ll=null;function jl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ml(t,e),Ol(e),4&i&&(cl(3,e,e.return),ll(3,e),cl(5,e,e.return));break;case 1:Ml(t,e),Ol(e),512&i&&(Sl||null===n||fl(n,n.return)),64&i&&xl&&(null!==(e=e.updateQueue)&&(null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var s=Ll;if(Ml(t,e),Ol(e),512&i&&(Sl||null===n||fl(n,n.return)),4&i){var a=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":(!(a=s.getElementsByTagName("title")[0])||a[Ve]||a[Me]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=s.createElement(i),s.head.insertBefore(a,s.querySelector("head > title"))),nd(a,i,n),a[Me]=e,Ke(a),i=a;break e;case"link":var o=Vd("link","href",s).get(i+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}nd(a=s.createElement(i),i,n),s.head.appendChild(a);break;case"meta":if(o=Vd("meta","content",s).get(i+(n.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}nd(a=s.createElement(i),i,n),s.head.appendChild(a);break;default:throw Error(r(468,i))}a[Me]=e,Ke(a),i=a}e.stateNode=i}else Bd(s,e.type,e.stateNode);else e.stateNode=jd(s,i,e.memoizedProps);else a!==i?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===i?Bd(s,e.type,e.stateNode):jd(s,i,e.memoizedProps)):null===i&&null!==e.stateNode&&ml(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ml(t,e),Ol(e),512&i&&(Sl||null===n||fl(n,n.return)),null!==n&&4&i&&ml(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ml(t,e),Ol(e),512&i&&(Sl||null===n||fl(n,n.return)),32&e.flags){s=e.stateNode;try{Et(s,"")}catch(p){hu(e,e.return,p)}}4&i&&null!=e.stateNode&&ml(e,s=e.memoizedProps,null!==n?n.memoizedProps:s),1024&i&&(kl=!0);break;case 6:if(Ml(t,e),Ol(e),4&i){if(null===e.stateNode)throw Error(r(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(p){hu(e,e.return,p)}}break;case 3:if(zd=null,s=Ll,Ll=Td(t.containerInfo),Ml(t,e),Ll=s,Ol(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ah(t.containerInfo)}catch(p){hu(e,e.return,p)}kl&&(kl=!1,Fl(e));break;case 4:i=Ll,Ll=Td(e.stateNode.containerInfo),Ml(t,e),Ol(e),Ll=i;break;case 12:default:Ml(t,e),Ol(e);break;case 13:Ml(t,e),Ol(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(kc=re()),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Dl(e,i)));break;case 22:s=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=xl,d=Sl;if(xl=u||s,Sl=d||c,Ml(t,e),Sl=d,xl=u,Ol(e),8192&i)e:for(t=e.stateNode,t._visibility=s?-2&t._visibility:1|t._visibility,s&&(null===n||c||xl||Sl||zl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,s)"function"==typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=null!=h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(p){hu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(p){hu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&(null!==(i=e.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,Dl(e,n))));break;case 19:Ml(t,e),Ol(e),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Dl(e,i)));case 30:case 21:}}function Ol(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(gl(i)){n=i;break}i=i.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var s=n.stateNode;bl(e,vl(e),s);break;case 5:var a=n.stateNode;32&n.flags&&(Et(a,""),n.flags&=-33),bl(e,vl(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;yl(e,vl(e),o);break;default:throw Error(r(161))}}catch(l){hu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Fl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Fl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ul(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Tl(e,t.alternate,t),t=t.sibling}function zl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:cl(4,t,t.return),zl(t);break;case 1:fl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&dl(t,t.return,n),zl(t);break;case 27:kd(t.stateNode);case 26:case 5:fl(t,t.return),zl(t);break;case 22:null===t.memoizedState&&zl(t);break;default:zl(t)}e=e.sibling}}function Vl(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Vl(i,s,n),ll(4,s);break;case 1:if(Vl(i,s,n),"function"==typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){hu(r,r.return,c)}if(null!==(i=(r=s).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)fs(l[i],o)}catch(c){hu(r,r.return,c)}}n&&64&a&&ul(s),hl(s,s.return);break;case 27:wl(s);case 26:case 5:Vl(i,s,n),n&&null===r&&4&a&&pl(s),hl(s,s.return);break;case 12:Vl(i,s,n);break;case 13:Vl(i,s,n),n&&4&a&&Rl(i,s);break;case 22:null===s.memoizedState&&Vl(i,s,n),hl(s,s.return);break;case 30:break;default:Vl(i,s,n)}t=t.sibling}}function Bl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&ji(n))}function Hl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&ji(e))}function $l(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Wl(e,t,n,r),t=t.sibling}function Wl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:$l(e,t,n,r),2048&i&&ll(9,t);break;case 1:case 13:default:$l(e,t,n,r);break;case 3:$l(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&ji(e)));break;case 12:if(2048&i){$l(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"==typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){hu(t,t.return,l)}}else $l(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,null!==t.memoizedState?2&s._visibility?$l(e,t,n,r):Kl(e,t):2&s._visibility?$l(e,t,n,r):(s._visibility|=2,ql(e,t,n,r,!!(10256&t.subtreeFlags))),2048&i&&Bl(a,t);break;case 24:$l(e,t,n,r),2048&i&&Hl(t.alternate,t)}}function ql(e,t,n,r,i){for(i=i&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:ql(s,a,o,l,i),ll(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?ql(s,a,o,l,i):Kl(s,a):(u._visibility|=2,ql(s,a,o,l,i)),i&&2048&c&&Bl(a.alternate,a);break;case 24:ql(s,a,o,l,i),i&&2048&c&&Hl(a.alternate,a);break;default:ql(s,a,o,l,i)}t=t.sibling}}function Kl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Kl(n,r),2048&i&&Bl(r.alternate,r);break;case 24:Kl(n,r),2048&i&&Hl(r.alternate,r);break;default:Kl(n,r)}t=t.sibling}}var Gl=8192;function Yl(e){if(e.subtreeFlags&Gl)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 26:Yl(e),e.flags&Gl&&null!==e.memoizedState&&function(e,t,n){if(null===$d)throw Error(r(475));var i=$d;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var s=Pd(n.href),a=e.querySelector(Rd(s));if(a)return null!==(e=a._p)&&"object"==typeof e&&"function"==typeof e.then&&(i.count++,i=qd.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=a,void Ke(a);a=e.ownerDocument||e,n=Dd(n),(s=Ed.get(s))&&Fd(n,s),Ke(a=a.createElement("link"));var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),nd(a,"link",n),t.instance=a}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(i.count++,t=qd.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ll,e.memoizedState,e.memoizedProps);break;case 5:default:Yl(e);break;case 3:case 4:var t=Ll;Ll=Td(e.stateNode.containerInfo),Yl(e),Ll=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Gl,Gl=16777216,Yl(e),Gl=t):Yl(e))}}function Jl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Xl(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Cl=r,tc(r,e)}Jl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Zl(e),e=e.sibling}function Zl(e){switch(e.tag){case 0:case 11:case 15:Xl(e),2048&e.flags&&cl(9,e,e.return);break;case 3:case 12:default:Xl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ec(e)):Xl(e)}}function ec(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Cl=r,tc(r,e)}Jl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:cl(8,t,t.return),ec(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,ec(t));break;default:ec(t)}e=e.sibling}}function tc(e,t){for(;null!==Cl;){var n=Cl;switch(n.tag){case 0:case 11:case 15:cl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:ji(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Cl=r;else e:for(n=e;null!==Cl;){var i=(r=Cl).sibling,s=r.return;if(_l(r),r===n){Cl=null;break e}if(null!==i){i.return=s,Cl=i;break e}Cl=s}}}var nc={getCacheForType:function(e){var t=Ii(Mi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},rc="function"==typeof WeakMap?WeakMap:Map,ic=0,sc=null,ac=null,oc=0,lc=0,cc=null,uc=!1,dc=!1,hc=!1,fc=0,pc=0,mc=0,gc=0,vc=0,yc=0,bc=0,wc=null,xc=null,Sc=!1,kc=0,Ec=1/0,Cc=null,Tc=null,_c=0,Ic=null,Ac=null,Nc=0,Pc=0,Rc=null,Dc=null,Mc=0,Lc=null;function jc(){if(2&ic&&0!==oc)return oc&-oc;if(null!==j.T){return 0!==Ui?Ui:Pu()}return Re()}function Oc(){0===yc&&(yc=536870912&oc&&!oi?536870912:Ee());var e=so.current;return null!==e&&(e.flags|=32),yc}function Fc(e,t,n){(e!==sc||2!==lc&&9!==lc)&&null===e.cancelPendingCommit||(Wc(e,0),Bc(e,oc,yc,!1)),_e(e,n),2&ic&&e===sc||(e===sc&&(!(2&ic)&&(gc|=n),4===pc&&Bc(e,oc,yc,!1)),Eu(e))}function Uc(e,t,n){if(6&ic)throw Error(r(327));for(var i=!n&&!(124&t)&&0===(t&e.expiredLanes)||Se(e,t),s=i?function(e,t){var n=ic;ic|=2;var i=Kc(),s=Gc();sc!==e||oc!==t?(Cc=null,Ec=re()+500,Wc(e,t)):dc=Se(e,t);e:for(;;)try{if(0!==lc&&null!==ac){t=ac;var a=cc;t:switch(lc){case 1:lc=0,cc=null,tu(e,t,a,1);break;case 2:case 9:if(Ji(a)){lc=0,cc=null,eu(t);break}t=function(){2!==lc&&9!==lc||sc!==e||(lc=7),Eu(e)},a.then(t,t);break e;case 3:lc=7;break e;case 4:lc=5;break e;case 7:Ji(a)?(lc=0,cc=null,eu(t)):(lc=0,cc=null,tu(e,t,a,7));break;case 5:var o=null;switch(ac.tag){case 26:o=ac.memoizedState;case 5:case 27:var l=ac;if(!o||Hd(o)){lc=0,cc=null;var c=l.sibling;if(null!==c)ac=c;else{var u=l.return;null!==u?(ac=u,nu(u)):ac=null}break t}}lc=0,cc=null,tu(e,t,a,5);break;case 6:lc=0,cc=null,tu(e,t,a,6);break;case 8:$c(),pc=6;break e;default:throw Error(r(462))}}Xc();break}catch(d){qc(e,d)}return wi=bi=null,j.H=i,j.A=s,ic=n,null!==ac?0:(sc=null,oc=0,Nr(),pc)}(e,t):Qc(e,t,!0),a=i;;){if(0===s){dc&&!i&&Bc(e,t,0,!1);break}if(n=e.current.alternate,!a||Vc(n)){if(2===s){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;s=wc;var c=l.current.memoizedState.isDehydrated;if(c&&(Wc(l,o).flags|=256),2!==(o=Qc(l,o,!1))){if(hc&&!c){l.errorRecoveryDisabledLanes|=a,gc|=a,s=4;break e}a=xc,xc=s,null!==a&&(null===xc?xc=a:xc.push.apply(xc,a))}s=o}if(a=!1,2!==s)continue}}if(1===s){Wc(e,0),Bc(e,t,0,!0);break}e:{switch(i=e,a=s){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:Bc(i,t,yc,!uc);break e;case 2:xc=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(s=kc+300-re())){if(Bc(i,t,yc,!uc),0!==xe(i,0,!0))break e;i.timeoutHandle=ud(zc.bind(null,i,n,xc,Cc,Sc,t,yc,gc,bc,uc,a,2,-0,0),s)}else zc(i,n,xc,Cc,Sc,t,yc,gc,bc,uc,a,0,-0,0)}break}s=Qc(e,t,!1),a=!1}Eu(e)}function zc(e,t,n,i,s,a,o,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||!(16785408&~h))&&($d={stylesheets:null,count:0,unsuspend:Wd},Ql(t),null!==(h=function(){if(null===$d)throw Error(r(475));var e=$d;return e.stylesheets&&0===e.count&&Gd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Gd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(iu.bind(null,e,t,a,n,i,s,o,l,c,d,1,f,p)),void Bc(e,a,o,!u);iu(e,t,a,n,i,s,o,l,c)}function Vc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Jn(s(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bc(e,t,n,r){t&=~vc,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-me(i),a=1<<s;r[s]=-1,i&=~a}0!==n&&Ie(e,n,t)}function Hc(){return!!(6&ic)||(Cu(0),!1)}function $c(){if(null!==ac){if(0===lc)var e=ac.return;else wi=bi=null,Us(e=ac),Qa=null,Ja=0,e=ac;for(;null!==e;)ol(e.alternate,e),e=e.return;ac=null}}function Wc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,dd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),$c(),sc=e,ac=n=zr(e.current,null),oc=t,lc=0,cc=null,uc=!1,dc=Se(e,t),hc=!1,bc=yc=vc=gc=mc=pc=0,xc=wc=null,Sc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-me(r),s=1<<i;t|=e[i],r&=~s}return fc=t,Nr(),n}function qc(e,t){xs=null,j.H=qa,t===Ki||t===Yi?(t=ts(),lc=3):t===Gi?(t=ts(),lc=4):lc=t===Io?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,cc=t,null===ac&&(pc=1,ko(e,Tr(t,e.current)))}function Kc(){var e=j.H;return j.H=qa,null===e?qa:e}function Gc(){var e=j.A;return j.A=nc,e}function Yc(){pc=4,uc||(4194048&oc)!==oc&&null!==so.current||(dc=!0),!(134217727&mc)&&!(134217727&gc)||null===sc||Bc(sc,oc,yc,!1)}function Qc(e,t,n){var r=ic;ic|=2;var i=Kc(),s=Gc();sc===e&&oc===t||(Cc=null,Wc(e,t)),t=!1;var a=pc;e:for(;;)try{if(0!==lc&&null!==ac){var o=ac,l=cc;switch(lc){case 8:$c(),a=6;break e;case 3:case 2:case 9:case 6:null===so.current&&(t=!0);var c=lc;if(lc=0,cc=null,tu(e,o,l,c),n&&dc){a=0;break e}break;default:c=lc,lc=0,cc=null,tu(e,o,l,c)}}Jc(),a=pc;break}catch(u){qc(e,u)}return t&&e.shellSuspendCounter++,wi=bi=null,ic=r,j.H=i,j.A=s,null===ac&&(sc=null,oc=0,Nr()),a}function Jc(){for(;null!==ac;)Zc(ac)}function Xc(){for(;null!==ac&&!te();)Zc(ac)}function Zc(e){var t=Zo(e.alternate,e,fc);e.memoizedProps=e.pendingProps,null===t?nu(e):ac=t}function eu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Fo(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=Fo(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:Us(t);default:ol(n,t),t=Zo(n,t=ac=Vr(t,fc),fc)}e.memoizedProps=e.pendingProps,null===t?nu(e):ac=t}function tu(e,t,n,i){wi=bi=null,Us(t),Qa=null,Ja=0;var s=t.return;try{if(function(e,t,n,i,s){if(n.flags|=32768,null!==i&&"object"==typeof i&&"function"==typeof i.then){if(null!==(t=n.alternate)&&Ci(t,n,s,!0),null!==(n=so.current)){switch(n.tag){case 13:return null===ao?Yc():null===n.alternate&&0===pc&&(pc=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===Qi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),fu(e,i,s)),!1;case 22:return n.flags|=65536,i===Qi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),fu(e,i,s)),!1}throw Error(r(435,n.tag))}return fu(e,i,s),Yc(),!1}if(oi)return null!==(t=so.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,i!==ui&&vi(Tr(e=Error(r(422),{cause:i}),n))):(i!==ui&&vi(Tr(t=Error(r(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,i=Tr(i,n),cs(e,s=Co(e.stateNode,i,s)),4!==pc&&(pc=2)),!1;var a=Error(r(520),{cause:i});if(a=Tr(a,n),null===wc?wc=[a]:wc.push(a),4!==pc&&(pc=2),null===t)return!0;i=Tr(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,cs(n,e=Co(n.stateNode,i,e)),!1;case 1:if(t=n.type,a=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===a||"function"!=typeof a.componentDidCatch||null!==Tc&&Tc.has(a))))return n.flags|=65536,s&=-s,n.lanes|=s,_o(s=To(s),e,n,i),cs(n,s),!1}n=n.return}while(null!==n);return!1}(e,s,t,n,oc))return pc=1,ko(e,Tr(n,e.current)),void(ac=null)}catch(a){if(null!==s)throw ac=s,a;return pc=1,ko(e,Tr(n,e.current)),void(ac=null)}32768&t.flags?(oi||1===i?e=!0:dc||536870912&oc?e=!1:(uc=e=!0,(2===i||9===i||3===i||6===i)&&(null!==(i=so.current)&&13===i.tag&&(i.flags|=16384))),ru(t,e)):nu(t)}function nu(e){var t=e;do{if(32768&t.flags)return void ru(t,uc);e=t.return;var n=sl(t.alternate,t,fc);if(null!==n)return void(ac=n);if(null!==(t=t.sibling))return void(ac=t);ac=t=e}while(null!==t);0===pc&&(pc=5)}function ru(e,t){do{var n=al(e.alternate,e);if(null!==n)return n.flags&=32767,void(ac=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ac=e);ac=e=n}while(null!==e);pc=6,ac=null}function iu(e,t,n,i,s,a,o,l,c){e.cancelPendingCommit=null;do{cu()}while(0!==_c);if(6&ic)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-me(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Ie(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,n,a|=Ar,o,l,c),e===sc&&(ac=sc=null,oc=0),Ac=t,Ic=e,Nc=n,Pc=a,Rc=s,Dc=i,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,Z(oe,function(){return uu(),null})):(e.callbackNode=null,e.callbackPriority=0),i=!!(13878&t.flags),13878&t.subtreeFlags||i){i=j.T,j.T=null,s=O.p,O.p=2,o=ic,ic|=4;try{!function(e,t){if(e=e.containerInfo,rd=ih,rr(e=nr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==a||0!==i&&3!==h.nodeType||(c=o+i),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=o),f===a&&++d===i&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(id={focusedElem:e,selectionRange:n},ih=!1,Cl=t;null!==Cl;)if(e=(t=Cl).child,1024&t.subtreeFlags&&null!==e)e.return=t,Cl=e;else for(;null!==Cl;){switch(a=(t=Cl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==a){e=void 0,n=t,s=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var m=yo(n.type,s,(n.elementType,n.type));e=i.getSnapshotBeforeUpdate(m,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(v){hu(n,n.return,v)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))vd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,Cl=e;break}Cl=t.return}}(e,t)}finally{ic=o,O.p=s,j.T=i}}_c=1,su(),au(),ou()}}function su(){if(1===_c){_c=0;var e=Ic,t=Ac,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=j.T,j.T=null;var r=O.p;O.p=2;var i=ic;ic|=4;try{jl(t,e);var s=id,a=nr(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&tr(o.ownerDocument.documentElement,o)){if(null!==l&&rr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(a=g,g=m,m=a);var v=er(o,m),y=er(o,g);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<d.length;o++){var w=d[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}ih=!!rd,id=rd=null}finally{ic=i,O.p=r,j.T=n}}e.current=t,_c=2}}function au(){if(2===_c){_c=0;var e=Ic,t=Ac,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=j.T,j.T=null;var r=O.p;O.p=2;var i=ic;ic|=4;try{Tl(e,t.alternate,t)}finally{ic=i,O.p=r,j.T=n}}_c=3}}function ou(){if(4===_c||3===_c){_c=0,ne();var e=Ic,t=Ac,n=Nc,r=Dc;10256&t.subtreeFlags||10256&t.flags?_c=5:(_c=0,Ac=Ic=null,lu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Tc=null),Pe(n),t=t.stateNode,fe&&"function"==typeof fe.onCommitFiberRoot)try{fe.onCommitFiberRoot(he,t,void 0,!(128&~t.current.flags))}catch(l){}if(null!==r){t=j.T,i=O.p,O.p=2,j.T=null;try{for(var s=e.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{j.T=t,O.p=i}}3&Nc&&cu(),Eu(e),i=e.pendingLanes,4194090&n&&42&i?e===Lc?Mc++:(Mc=0,Lc=e):Mc=0,Cu(0)}}function lu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,ji(t)))}function cu(e){return su(),au(),ou(),uu()}function uu(){if(5!==_c)return!1;var e=Ic,t=Pc;Pc=0;var n=Pe(Nc),i=j.T,s=O.p;try{O.p=32>n?32:n,j.T=null,n=Rc,Rc=null;var a=Ic,o=Nc;if(_c=0,Ac=Ic=null,Nc=0,6&ic)throw Error(r(331));var l=ic;if(ic|=4,Zl(a.current),Wl(a,a.current,o,n),ic=l,Cu(0,!1),fe&&"function"==typeof fe.onPostCommitFiberRoot)try{fe.onPostCommitFiberRoot(he,a)}catch(c){}return!0}finally{O.p=s,j.T=i,lu(e,t)}}function du(e,t,n){t=Tr(n,t),null!==(e=os(e,t=Co(e.stateNode,t,2),2))&&(_e(e,2),Eu(e))}function hu(e,t,n){if(3===e.tag)du(e,e,n);else for(;null!==t;){if(3===t.tag){du(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Tc||!Tc.has(r))){e=Tr(n,e),null!==(r=os(t,n=To(2),2))&&(_o(n,r,t,e),_e(r,2),Eu(r));break}}t=t.return}}function fu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new rc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(hc=!0,i.add(n),e=pu.bind(null,e,t,n),t.then(e,e))}function pu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,sc===e&&(oc&n)===n&&(4===pc||3===pc&&(62914560&oc)===oc&&300>re()-kc?!(2&ic)&&Wc(e,0):vc|=n,bc===oc&&(bc=0)),Eu(e)}function mu(e,t){0===t&&(t=Ce()),null!==(e=Dr(e,t))&&(_e(e,t),Eu(e))}function gu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),mu(e,n)}function vu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==i&&i.delete(t),mu(e,n)}var yu=null,bu=null,wu=!1,xu=!1,Su=!1,ku=0;function Eu(e){e!==bu&&null===e.next&&(null===bu?yu=bu=e:bu=bu.next=e),xu=!0,wu||(wu=!0,fd(function(){6&ic?Z(se,Tu):_u()}))}function Cu(e,t){if(!Su&&xu){Su=!0;do{for(var n=!1,r=yu;null!==r;){if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-me(42|e)+1)-1,s=201326741&(s&=i&~(a&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Nu(r,s))}else s=oc,!(3&(s=xe(r,r===sc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Se(r,s)||(n=!0,Nu(r,s));r=r.next}}while(n);Su=!1}}function Tu(){_u()}function _u(){xu=wu=!1;var e=0;0!==ku&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==cd&&(cd=e,!0);return cd=null,!1}()&&(e=ku),ku=0);for(var t=re(),n=null,r=yu;null!==r;){var i=r.next,s=Iu(r,t);0===s?(r.next=null,null===n?yu=i:n.next=i,null===i&&(bu=n)):(n=r,(0!==e||3&s)&&(xu=!0)),r=i}Cu(e)}function Iu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-me(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ke(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=oc,n=xe(e,e===(t=sc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===lc||9===lc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ee(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Se(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ee(r),Pe(n)){case 2:case 8:n=ae;break;case 32:default:n=oe;break;case 268435456:n=ce}return r=Au.bind(null,e),n=Z(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ee(r),e.callbackPriority=2,e.callbackNode=null,2}function Au(e,t){if(0!==_c&&5!==_c)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(cu()&&e.callbackNode!==n)return null;var r=oc;return 0===(r=xe(e,e===sc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Uc(e,r,t),Iu(e,re()),null!=e.callbackNode&&e.callbackNode===n?Au.bind(null,e):null)}function Nu(e,t){if(cu())return null;Uc(e,t,!0)}function Pu(){return 0===ku&&(ku=Ee()),ku}function Ru(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Pt(""+e)}function Du(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Mu=0;Mu<kr.length;Mu++){var Lu=kr[Mu];Er(Lu.toLowerCase(),"on"+(Lu[0].toUpperCase()+Lu.slice(1)))}Er(mr,"onAnimationEnd"),Er(gr,"onAnimationIteration"),Er(vr,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(yr,"onTransitionRun"),Er(br,"onTransitionStart"),Er(wr,"onTransitionCancel"),Er(xr,"onTransitionEnd"),Je("onMouseEnter",["mouseout","mouseover"]),Je("onMouseLeave",["mouseout","mouseover"]),Je("onPointerEnter",["pointerout","pointerover"]),Je("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ou=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ju));function Fu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){bo(u)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){bo(u)}i.currentTarget=null,s=l}}}}function Uu(e,t){var n=t[Oe];void 0===n&&(n=t[Oe]=new Set);var r=e+"__bubble";n.has(r)||(Hu(t,e,2,!1),n.add(r))}function zu(e,t,n){var r=0;t&&(r|=4),Hu(n,e,r,t)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function Bu(e){if(!e[Vu]){e[Vu]=!0,Ge.forEach(function(t){"selectionchange"!==t&&(Ou.has(t)||zu(t,!1,e),zu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vu]||(t[Vu]=!0,zu("selectionchange",!1,t))}}function Hu(e,t,n,r){switch(dh(t)){case 2:var i=sh;break;case 8:i=ah;break;default:i=oh}n=i.bind(null,t,n,e),i=void 0,!Vt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $u(e,t,n,r,i){var a=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var l=r.stateNode.containerInfo;if(l===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==l;){if(null===(o=He(l)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=a=o;continue e}l=l.parentNode}}r=r.return}Ft(function(){var r=a,i=Dt(n),o=[];e:{var l=Sr.get(e);if(void 0!==l){var c=tn,u=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":c=vn;break;case"focusin":u="focus",c=ln;break;case"focusout":u="blur",c=ln;break;case"beforeblur":case"afterblur":c=ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=bn;break;case mr:case gr:case vr:c=cn;break;case xr:c=wn;break;case"scroll":case"scrollend":c=rn;break;case"wheel":c=xn;break;case"copy":case"cut":case"paste":c=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=yn;break;case"toggle":case"beforetoggle":c=Sn}var d=!!(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==l?l+"Capture":null:l;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Ut(m,f))&&d.push(Wu(m,g,p)),h)break;m=m.return}0<d.length&&(l=new c(l,u,null,n,i),o.push({event:l,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Rt||!(u=n.relatedTarget||n.fromElement)||!He(u)&&!u[je])&&(c||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?He(u):null)&&(h=s(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=an,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=yn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?l:We(c),p=null==u?l:We(u),(l=new d(g,m+"leave",c,n,i)).target=h,l.relatedTarget=p,g=null,He(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=Ku(p))m++;for(p=0,g=f;g;g=Ku(g))p++;for(;0<m-p;)d=Ku(d),m--;for(;0<p-m;)f=Ku(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Ku(d),f=Ku(f)}d=null}else d=null;null!==c&&Gu(o,l,c,d,!1),null!==u&&null!==h&&Gu(o,h,u,d,!0)}if("select"===(c=(l=r?We(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var v=zn;else if(Mn(l))if(Vn)v=Qn;else{v=Gn;var y=Kn}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&It(r.elementType)&&(v=zn):v=Yn;switch(v&&(v=v(e,r))?Ln(o,v,n,i):(y&&y(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&wt(l,"number",l.value)),y=r?We(r):window,e){case"focusin":(Mn(y)||"true"===y.contentEditable)&&(sr=y,ar=r,or=null);break;case"focusout":or=ar=sr=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,cr(o,n,i);break;case"selectionchange":if(ir)break;case"keydown":case"keyup":cr(o,n,i)}var b;if(En)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Rn?Nn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(_n&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Rn&&(b=qt()):($t="value"in(Ht=i)?Ht.value:Ht.textContent,Rn=!0)),0<(y=qu(r,w)).length&&(w=new dn(w,e,null,n,i),o.push({event:w,listeners:y}),b?w.data=b:null!==(b=Pn(n))&&(w.data=b))),(b=Tn?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(An=!0,In);case"textInput":return(e=t.data)===In&&An?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!En&&Nn(e,t)?(e=qt(),Wt=$t=Ht=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=qu(r,"onBeforeInput")).length&&(y=new dn("onBeforeInput","beforeinput",null,n,i),o.push({event:y,listeners:w}),y.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Ru((i[Le]||null).action),a=r.submitter;a&&null!==(t=(t=a[Le]||null)?Ru(t.formAction):a.getAttribute("formAction"))&&(s=t,a=null);var o=new tn("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==ku){var e=a?Du(i,a):new FormData(i);Ra(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"==typeof s&&(o.preventDefault(),e=a?Du(i,a):new FormData(i),Ra(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(o,e,r,n,i)}Fu(o,t)})}function Wu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Ut(e,n))&&r.unshift(Wu(e,i,s)),null!=(i=Ut(e,t))&&r.push(Wu(e,i,s))),3===e.tag)return r;e=e.return}return[]}function Ku(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Gu(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Ut(n,s))&&a.unshift(Wu(n,c,l)):i||null!=(c=Ut(n,s))&&a.push(Wu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yu=/\r\n?/g,Qu=/\u0000|\uFFFD/g;function Ju(e){return("string"==typeof e?e:""+e).replace(Yu,"\n").replace(Qu,"")}function Xu(e,t){return t=Ju(t),Ju(e)===t}function Zu(){}function ed(e,t,n,i,s,a){switch(n){case"children":"string"==typeof i?"body"===t||"textarea"===t&&""===i||Et(e,i):("number"==typeof i||"bigint"==typeof i)&&"body"!==t&&Et(e,""+i);break;case"className":it(e,"class",i);break;case"tabIndex":it(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":it(e,n,i);break;case"style":_t(e,i,a);break;case"data":if("object"!==t){it(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"==typeof i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Pt(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"==typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof a&&("formAction"===n?("input"!==t&&ed(e,t,"name",s.name,s,null),ed(e,t,"formEncType",s.formEncType,s,null),ed(e,t,"formMethod",s.formMethod,s,null),ed(e,t,"formTarget",s.formTarget,s,null)):(ed(e,t,"encType",s.encType,s,null),ed(e,t,"method",s.method,s,null),ed(e,t,"target",s.target,s,null))),null==i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Pt(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=Zu);break;case"onScroll":null!=i&&Uu("scroll",e);break;case"onScrollEnd":null!=i&&Uu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=s.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"muted":e.muted=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"==typeof i||"boolean"==typeof i||"symbol"==typeof i){e.removeAttribute("xlink:href");break}n=Pt(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"==typeof i||"symbol"==typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Uu("beforetoggle",e),Uu("toggle",e),rt(e,"popover",i);break;case"xlinkActuate":st(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":st(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":st(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":st(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":st(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":st(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":st(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":st(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":st(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":rt(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&rt(e,n=At.get(n)||n,i)}}function td(e,t,n,i,s,a){switch(n){case"style":_t(e,i,a);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=s.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"==typeof i?Et(e,i):("number"==typeof i||"bigint"==typeof i)&&Et(e,""+i);break;case"onScroll":null!=i&&Uu("scroll",e);break;case"onScrollEnd":null!=i&&Uu("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ye.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),"function"==typeof(a=null!=(a=e[Le]||null)?a[n]:null)&&e.removeEventListener(t,a,s),"function"!=typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):rt(e,n,i):("function"!=typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,s)))}}function nd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Uu("error",e),Uu("load",e);var i,s=!1,a=!1;for(i in n)if(n.hasOwnProperty(i)){var o=n[i];if(null!=o)switch(i){case"src":s=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ed(e,t,i,o,n,null)}}return a&&ed(e,t,"srcSet",n.srcSet,n,null),void(s&&ed(e,t,"src",n.src,n,null));case"input":Uu("invalid",e);var l=i=o=a=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(null!=d)switch(s){case"name":a=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(r(137,t));break;default:ed(e,t,s,d,n,null)}}return bt(e,i,l,c,u,o,a,!1),void ft(e);case"select":for(a in Uu("invalid",e),s=o=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"multiple":s=l;default:ed(e,t,a,l,n,null)}return t=i,n=o,e.multiple=!!s,void(null!=t?xt(e,!!s,t,!1):null!=n&&xt(e,!!s,n,!0));case"textarea":for(o in Uu("invalid",e),i=a=s=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":s=l;break;case"defaultValue":a=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(r(91));break;default:ed(e,t,o,l,n,null)}return kt(e,s,a,i),void ft(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(s=n[c]))if("selected"===c)e.selected=s&&"function"!=typeof s&&"symbol"!=typeof s;else ed(e,t,c,s,n,null);return;case"dialog":Uu("beforetoggle",e),Uu("toggle",e),Uu("cancel",e),Uu("close",e);break;case"iframe":case"object":Uu("load",e);break;case"video":case"audio":for(s=0;s<ju.length;s++)Uu(ju[s],e);break;case"image":Uu("error",e),Uu("load",e);break;case"details":Uu("toggle",e);break;case"embed":case"source":case"link":Uu("error",e),Uu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(s=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ed(e,t,u,s,n,null)}return;default:if(It(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(s=n[d])&&td(e,t,d,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(s=n[l])&&ed(e,t,l,s,n,null))}var rd=null,id=null;function sd(e){return 9===e.nodeType?e:e.ownerDocument}function ad(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function od(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ld(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var cd=null;var ud="function"==typeof setTimeout?setTimeout:void 0,dd="function"==typeof clearTimeout?clearTimeout:void 0,hd="function"==typeof Promise?Promise:void 0,fd="function"==typeof queueMicrotask?queueMicrotask:void 0!==hd?function(e){return hd.resolve(null).then(e).catch(pd)}:ud;function pd(e){setTimeout(function(){throw e})}function md(e){return"head"===e}function gd(e,t){var n=t,r=0,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&kd(a.documentElement),2&n&&kd(a.body),4&n)for(kd(n=a.head),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[Ve]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}if(0===i)return e.removeChild(s),void Ah(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Ah(t)}function vd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":vd(n),Be(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function yd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function bd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var wd=null;function xd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function Sd(e,t,n){switch(t=sd(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function kd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Be(e)}var Ed=new Map,Cd=new Set;function Td(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var _d=O.d;O.d={f:function(){var e=_d.f(),t=Hc();return e||t},r:function(e){var t=$e(e);null!==t&&5===t.tag&&"form"===t.type?Ma(t):_d.r(e)},D:function(e){_d.D(e),Ad("dns-prefetch",e,null)},C:function(e,t){_d.C(e,t),Ad("preconnect",e,t)},L:function(e,t,n){_d.L(e,t,n);var r=Id;if(r&&e&&t){var i='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+vt(n.imageSizes)+'"]')):i+='[href="'+vt(e)+'"]';var s=i;switch(t){case"style":s=Pd(e);break;case"script":s=Md(e)}Ed.has(s)||(e=c({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Ed.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Rd(s))||"script"===t&&r.querySelector(Ld(s))||(nd(t=r.createElement("link"),"link",e),Ke(t),r.head.appendChild(t)))}},m:function(e,t){_d.m(e,t);var n=Id;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+vt(r)+'"][href="'+vt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Md(e)}if(!Ed.has(s)&&(e=c({rel:"modulepreload",href:e},t),Ed.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ld(s)))return}nd(r=n.createElement("link"),"link",e),Ke(r),n.head.appendChild(r)}}},X:function(e,t){_d.X(e,t);var n=Id;if(n&&e){var r=qe(n).hoistableScripts,i=Md(e),s=r.get(i);s||((s=n.querySelector(Ld(i)))||(e=c({src:e,async:!0},t),(t=Ed.get(i))&&Ud(e,t),Ke(s=n.createElement("script")),nd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){_d.S(e,t,n);var r=Id;if(r&&e){var i=qe(r).hoistableStyles,s=Pd(e);t=t||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Rd(s)))o.loading=5;else{e=c({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ed.get(s))&&Fd(e,n);var l=a=r.createElement("link");Ke(l),nd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Od(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}},M:function(e,t){_d.M(e,t);var n=Id;if(n&&e){var r=qe(n).hoistableScripts,i=Md(e),s=r.get(i);s||((s=n.querySelector(Ld(i)))||(e=c({src:e,async:!0,type:"module"},t),(t=Ed.get(i))&&Ud(e,t),Ke(s=n.createElement("script")),nd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var Id="undefined"==typeof document?null:document;function Ad(e,t,n){var r=Id;if(r&&"string"==typeof t&&t){var i=vt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),Cd.has(i)||(Cd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(nd(t=r.createElement("link"),"link",e),Ke(t),r.head.appendChild(t)))}}function Nd(e,t,n,i){var s,a,o,l,c=(c=q.current)?Td(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Pd(n.href),(i=(n=qe(c).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Pd(n.href);var u=qe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Rd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Ed.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ed.set(e,n),u||(s=c,a=e,o=n,l=d.state,s.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=s.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),nd(a,"link",o),Ke(a),s.head.appendChild(a))))),t&&null===i)throw Error(r(528,""));return d}if(t&&null!==i)throw Error(r(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Md(n),(i=(n=qe(c).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Pd(e){return'href="'+vt(e)+'"'}function Rd(e){return'link[rel="stylesheet"]['+e+"]"}function Dd(e){return c({},e,{"data-precedence":e.precedence,precedence:null})}function Md(e){return'[src="'+vt(e)+'"]'}function Ld(e){return"script[async]"+e}function jd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(i)return t.instance=i,Ke(i),i;var s=c({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ke(i=(e.ownerDocument||e).createElement("style")),nd(i,"style",s),Od(i,n.precedence,e),t.instance=i;case"stylesheet":s=Pd(n.href);var a=e.querySelector(Rd(s));if(a)return t.state.loading|=4,t.instance=a,Ke(a),a;i=Dd(n),(s=Ed.get(s))&&Fd(i,s),Ke(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),nd(a,"link",i),t.state.loading|=4,Od(a,n.precedence,e),t.instance=a;case"script":return a=Md(n.src),(s=e.querySelector(Ld(a)))?(t.instance=s,Ke(s),s):(i=n,(s=Ed.get(a))&&Ud(i=c({},n),s),Ke(s=(e=e.ownerDocument||e).createElement("script")),nd(s,"link",i),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,Od(i,n.precedence,e));return t.instance}function Od(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Fd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ud(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var zd=null;function Vd(e,t,n){if(null===zd){var r=new Map,i=zd=new Map;i.set(n,r)}else(r=(i=zd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Ve]||s[Me]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function Bd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Hd(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var $d=null;function Wd(){}function qd(){if(this.count--,0===this.count)if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Kd=null;function Gd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Kd=new Map,t.forEach(Yd,e),Kd=null,qd.call(e))}function Yd(e,t){if(!(4&t.state.loading)){var n=Kd.get(e);if(n)var r=n.get(null);else{n=new Map,Kd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(s=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=qd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Qd={$$typeof:w,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function Jd(e,t,n,r,i,s,a,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Te(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Te(0),this.hiddenUpdates=Te(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Xd(e,t,n,r,i,s,a,o,l,c,u,d){return e=new Jd(e,t,n,a,o,l,c,d),t=1,!0===s&&(t|=24),s=Fr(3,null,null,t),e.current=s,s.stateNode=e,(t=Li()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},is(s),e}function Zd(e){return e?e=jr:jr}function eh(e,t,n,r,i,s){i=Zd(i),null===r.context?r.context=i:r.pendingContext=i,(r=as(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=os(e,r,t))&&(Fc(n,0,t),ls(n,e,t))}function th(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nh(e,t){th(e,t),(e=e.alternate)&&th(e,t)}function rh(e){if(13===e.tag){var t=Dr(e,67108864);null!==t&&Fc(t,0,67108864),nh(e,67108864)}}var ih=!0;function sh(e,t,n,r){var i=j.T;j.T=null;var s=O.p;try{O.p=2,oh(e,t,n,r)}finally{O.p=s,j.T=i}}function ah(e,t,n,r){var i=j.T;j.T=null;var s=O.p;try{O.p=8,oh(e,t,n,r)}finally{O.p=s,j.T=i}}function oh(e,t,n,r){if(ih){var i=lh(r);if(null===i)$u(e,t,r,ch,n),wh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return fh=xh(fh,e,t,n,r,i),!0;case"dragenter":return ph=xh(ph,e,t,n,r,i),!0;case"mouseover":return mh=xh(mh,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return gh.set(s,xh(gh.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,vh.set(s,xh(vh.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(wh(e,r),4&t&&-1<bh.indexOf(e)){for(;null!==i;){var s=$e(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=we(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-me(a);o.entanglements[1]|=l,a&=~l}Eu(s),!(6&ic)&&(Ec=re()+500,Cu(0))}}break;case 13:null!==(o=Dr(s,2))&&Fc(o,0,2),Hc(),nh(s,2)}if(null===(s=lh(r))&&$u(e,t,r,ch,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else $u(e,t,r,null,n)}}function lh(e){return uh(e=Dt(e))}var ch=null;function uh(e){if(ch=null,null!==(e=He(e))){var t=s(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=a(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ch=e,null}function dh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ie()){case se:return 2;case ae:return 8;case oe:case le:return 32;case ce:return 268435456;default:return 32}default:return 32}}var hh=!1,fh=null,ph=null,mh=null,gh=new Map,vh=new Map,yh=[],bh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wh(e,t){switch(e){case"focusin":case"focusout":fh=null;break;case"dragenter":case"dragleave":ph=null;break;case"mouseover":case"mouseout":mh=null;break;case"pointerover":case"pointerout":gh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vh.delete(t.pointerId)}}function xh(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=$e(t))&&rh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Sh(e){var t=He(e.target);if(null!==t){var n=s(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=a(n)))return e.blockedOn=t,void function(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}(e.priority,function(){if(13===n.tag){var e=jc();e=Ne(e);var t=Dr(n,e);null!==t&&Fc(t,0,e),nh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function kh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=lh(e.nativeEvent);if(null!==n)return null!==(t=$e(n))&&rh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function Eh(e,t,n){kh(e)&&n.delete(t)}function Ch(){hh=!1,null!==fh&&kh(fh)&&(fh=null),null!==ph&&kh(ph)&&(ph=null),null!==mh&&kh(mh)&&(mh=null),gh.forEach(Eh),vh.forEach(Eh)}function Th(t,n){t.blockedOn===n&&(t.blockedOn=null,hh||(hh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ch)))}var _h=null;function Ih(t){_h!==t&&(_h=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){_h===t&&(_h=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if("function"!=typeof r){if(null===uh(r||n))continue;break}var s=$e(n);null!==s&&(t.splice(e,3),e-=3,Ra(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Ah(e){function t(t){return Th(t,e)}null!==fh&&Th(fh,e),null!==ph&&Th(ph,e),null!==mh&&Th(mh,e),gh.forEach(t),vh.forEach(t);for(var n=0;n<yh.length;n++){var r=yh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yh.length&&null===(n=yh[0]).blockedOn;)Sh(n),null===n.blockedOn&&yh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[Le]||null;if("function"==typeof s)a||Ih(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[Le]||null)o=a.formAction;else if(null!==uh(i))continue}else o=a.action;"function"==typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Ih(n)}}}function Nh(e){this._internalRoot=e}function Ph(e){this._internalRoot=e}Ph.prototype.render=Nh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));eh(t.current,jc(),e,t,null,null)},Ph.prototype.unmount=Nh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;eh(e.current,2,null,e,null,null),Hc(),t[je]=null}},Ph.prototype.unstable_scheduleHydration=function(e){if(e){var t=Re();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yh.length&&0!==t&&t<yh[n].priority;n++);yh.splice(n,0,e),0===n&&Sh(e)}};var Rh=t.version;if("19.1.1"!==Rh)throw Error(r(527,Rh,"19.1.1"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=s(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(null===a)break;var l=a.alternate;if(null===l){if(null!==(i=a.return)){n=i;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return o(a),e;if(l===i)return o(a),t;l=l.sibling}throw Error(r(188))}if(n.return!==i.return)n=a,i=l;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,i=l;break}if(u===i){c=!0,i=a,n=l;break}u=u.sibling}if(!c){for(u=l.child;u;){if(u===n){c=!0,n=l,i=a;break}if(u===i){c=!0,i=l,n=a;break}u=u.sibling}if(!c)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?l(e):null)?null:e.stateNode};var Dh={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.1"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mh.isDisabled&&Mh.supportsFiber)try{he=Mh.inject(Dh),fe=Mh}catch(jh){}}return b.createRoot=function(e,t){if(!i(e))throw Error(r(299));var n=!1,s="",a=wo,o=xo,l=So;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Xd(e,1,!1,null,0,n,s,a,o,l,0,null),e[je]=t.current,Bu(e),new Nh(t)},b.hydrateRoot=function(e,t,n){if(!i(e))throw Error(r(299));var s=!1,a="",o=wo,l=xo,c=So,u=null;return null!=n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Xd(e,1,!0,t,0,s,a,o,l,c,0,u)).context=Zd(null),n=t.current,(a=as(s=Ne(s=jc()))).callback=null,os(n,a,s),n=s,t.current.lanes=n,_e(t,n),Eu(t),e[je]=t.current,Bu(e),new Ph(t)},b.version="19.1.1",b}var R=(T||(T=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),y.exports=P()),y.exports),D=N();const M=t(D);
/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L.apply(this,arguments)}var j,O;(O=j||(j={})).Pop="POP",O.Push="PUSH",O.Replace="REPLACE";const F="popstate";function U(e){return void 0===e&&(e={}),function(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=j.Pop,l=null,c=u();null==c&&(c=0,a.replaceState(L({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function d(){o=j.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:o,location:m.location,delta:t})}function h(e,t){o=j.Push;let n=H(m.location,e,t);c=u()+1;let r=B(n,c),d=m.createHref(n);try{a.pushState(r,"",d)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;i.location.assign(d)}s&&l&&l({action:o,location:m.location,delta:1})}function f(e,t){o=j.Replace;let n=H(m.location,e,t);c=u();let r=B(n,c),i=m.createHref(n);a.replaceState(r,"",i),s&&l&&l({action:o,location:m.location,delta:0})}function p(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:$(e);return n=n.replace(/ $/,"%20"),z(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}let m={get action(){return o},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(F,d),l=e,()=>{i.removeEventListener(F,d),l=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:f,go:e=>a.go(e)};return m}(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return H("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:$(t)},0,e)}function z(e,t){if(!1===e||null==e)throw new Error(t)}function V(e,t){if(!e)try{throw new Error(t)}catch(n){}}function B(e,t){return{usr:e.state,key:e.key,idx:t}}function H(e,t,n,r){return void 0===n&&(n=null),L({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?W(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function $(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function W(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var q,K;function G(e,t,n){return void 0===n&&(n="/"),function(e,t,n){let r="string"==typeof t?W(t):t,i=le(r.pathname||"/",n);if(null==i)return null;let s=Y(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=oe(i);a=se(s[o],e)}return a}(e,t,n)}function Y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(z(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=he([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(z(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),Y(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:ie(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of Q(e.path))i(e,t,r);else i(e,t)}),t}function Q(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=Q(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}(K=q||(q={})).data="data",K.deferred="deferred",K.redirect="redirect",K.error="error";const J=/^:[\w-]+$/,X=3,Z=2,ee=1,te=10,ne=-2,re=e=>"*"===e;function ie(e,t){let n=e.split("/"),r=n.length;return n.some(re)&&(r+=ne),t&&(r+=Z),n.filter(e=>!re(e)).reduce((e,t)=>e+(J.test(t)?X:""===t?ee:te),r)}function se(e,t,n){let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],n=o===r.length-1,l="/"===s?t:t.slice(s.length)||"/",c=ae({path:e.relativePath,caseSensitive:e.caseSensitive,end:n},l),u=e.route;if(!c)return null;Object.assign(i,c.params),a.push({params:i,pathname:he([s,c.pathname]),pathnameBase:fe(he([s,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(s=he([s,c.pathnameBase]))}return a}function ae(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);V("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:a,pattern:e}}function oe(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return V(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function le(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ce(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ue(e,t){let n=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function de(e,t,n,r){let i;void 0===r&&(r=!1),"string"==typeof e?i=W(e):(i=L({},e),z(!i.pathname||!i.pathname.includes("?"),ce("?","pathname","search",i)),z(!i.pathname||!i.pathname.includes("#"),ce("#","pathname","hash",i)),z(!i.search||!i.search.includes("#"),ce("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?W(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:pe(r),hash:me(i)}}(i,s),c=o&&"/"!==o&&o.endsWith("/"),u=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const he=e=>e.join("/").replace(/\/\/+/g,"/"),fe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),pe=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",me=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";const ge=["post","put","patch","delete"];new Set(ge);const ve=["get",...ge];
/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}new Set(ve);const be=f.createContext(null),we=f.createContext(null),xe=f.createContext(null),Se=f.createContext(null),ke=f.createContext({outlet:null,matches:[],isDataRoute:!1}),Ee=f.createContext(null);function Ce(){return null!=f.useContext(Se)}function Te(){return Ce()||z(!1),f.useContext(Se).location}function _e(e){f.useContext(xe).static||f.useLayoutEffect(e)}function Ie(){let{isDataRoute:e}=f.useContext(ke);return e?function(){let{router:e}=function(){let e=f.useContext(be);return e||z(!1),e}(Le.UseNavigateStable),t=Oe(je.UseNavigateStable),n=f.useRef(!1);_e(()=>{n.current=!0});let r=f.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"==typeof r?e.navigate(r):e.navigate(r,ye({fromRouteId:t},i)))},[e,t]);return r}():function(){Ce()||z(!1);let e=f.useContext(be),{basename:t,future:n,navigator:r}=f.useContext(xe),{matches:i}=f.useContext(ke),{pathname:s}=Te(),a=JSON.stringify(ue(i,n.v7_relativeSplatPath)),o=f.useRef(!1);_e(()=>{o.current=!0});let l=f.useCallback(function(n,i){if(void 0===i&&(i={}),!o.current)return;if("number"==typeof n)return void r.go(n);let l=de(n,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:he([t,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)},[t,r,a,s,e]);return l}()}function Ae(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=f.useContext(xe),{matches:i}=f.useContext(ke),{pathname:s}=Te(),a=JSON.stringify(ue(i,r.v7_relativeSplatPath));return f.useMemo(()=>de(e,JSON.parse(a),s,"path"===n),[e,a,s,n])}function Ne(e,t){return function(e,t,n,r){Ce()||z(!1);let{navigator:i}=f.useContext(xe),{matches:s}=f.useContext(ke),a=s[s.length-1],o=a?a.params:{};!a||a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c,u=Te();if(t){var d;let e="string"==typeof t?W(t):t;"/"===l||(null==(d=e.pathname)?void 0:d.startsWith(l))||z(!1),c=e}else c=u;let h=c.pathname||"/",p=h;if("/"!==l){let e=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=G(e,{pathname:p}),g=function(e,t,n,r){var i;void 0===t&&(t=[]);void 0===n&&(n=null);void 0===r&&(r=null);if(null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,o=null==(i=n)?void 0:i.errors;if(null!=o){let e=a.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||z(!1),a=a.slice(0,Math.min(a.length,e+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let e=a[u];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=u),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){l=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}return a.reduceRight((e,r,i)=>{let s,u=!1,d=null,h=null;var p;n&&(s=o&&r.route.id?o[r.route.id]:void 0,d=r.route.errorElement||Re,l&&(c<0&&0===i?(Fe[p="route-fallback"]||(Fe[p]=!0),u=!0,h=null):c===i&&(u=!0,h=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,i+1)),g=()=>{let t;return t=s?d:u?h:r.route.Component?f.createElement(r.route.Component,null):r.route.element?r.route.element:e,f.createElement(Me,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?f.createElement(De,{location:n.location,revalidation:n.revalidation,component:d,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}(m&&m.map(e=>Object.assign({},e,{params:Object.assign({},o,e.params),pathname:he([l,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:he([l,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,n,r);if(t&&g)return f.createElement(Se.Provider,{value:{location:ye({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:j.Pop}},g);return g}(e,t)}function Pe(){let e=function(){var e;let t=f.useContext(Ee),n=function(){let e=f.useContext(we);return e||z(!1),e}(),r=Oe();if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),n?f.createElement("pre",{style:r},n):null,null)}const Re=f.createElement(Pe,null);class De extends f.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){}render(){return void 0!==this.state.error?f.createElement(ke.Provider,{value:this.props.routeContext},f.createElement(Ee.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Me(e){let{routeContext:t,match:n,children:r}=e,i=f.useContext(be);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),f.createElement(ke.Provider,{value:t},r)}var Le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Le||{}),je=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(je||{});function Oe(e){let t=function(){let e=f.useContext(ke);return e||z(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||z(!1),n.route.id}const Fe={};function Ue(e){z(!1)}function ze(e){let{basename:t="/",children:n=null,location:r,navigationType:i=j.Pop,navigator:s,static:a=!1,future:o}=e;Ce()&&z(!1);let l=t.replace(/^\/*/,"/"),c=f.useMemo(()=>({basename:l,navigator:s,static:a,future:ye({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);"string"==typeof r&&(r=W(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=r,g=f.useMemo(()=>{let e=le(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:p,key:m},navigationType:i}},[l,u,d,h,p,m,i]);return null==g?null:f.createElement(xe.Provider,{value:c},f.createElement(Se.Provider,{children:n,value:g}))}function Ve(e){let{children:t,location:n}=e;return Ne(Be(t),n)}function Be(e,t){void 0===t&&(t=[]);let n=[];return f.Children.forEach(e,(e,r)=>{if(!f.isValidElement(e))return;let i=[...t,r];if(e.type===f.Fragment)return void n.push.apply(n,Be(e.props.children,i));e.type!==Ue&&z(!1),e.props.index&&e.props.children&&z(!1);let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Be(e.props.children,i)),n.push(s)}),n}
/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function He(){return He=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},He.apply(this,arguments)}new Promise(()=>{});const $e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(hR){}const We=m.startTransition;function qe(e){let{basename:t,children:n,future:r,window:i}=e,s=f.useRef();null==s.current&&(s.current=U({window:i,v5Compat:!0}));let a=s.current,[o,l]=f.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},u=f.useCallback(e=>{c&&We?We(()=>l(e)):l(e)},[l,c]);return f.useLayoutEffect(()=>a.listen(u),[a,u]),f.useEffect(()=>{return null==(e=r)||e.v7_startTransition,void(null==e||e.v7_relativeSplatPath);var e},[r]),f.createElement(ze,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const Ke="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Ge=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=f.forwardRef(function(e,t){let n,{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,$e),{basename:p}=f.useContext(xe),m=!1;if("string"==typeof c&&Ge.test(c)&&(n=c,Ke))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=le(t.pathname,p);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:m=!0}catch(hR){}let g=function(e,t){let{relative:n}=void 0===t?{}:t;Ce()||z(!1);let{basename:r,navigator:i}=f.useContext(xe),{hash:s,pathname:a,search:o}=Ae(e,{relative:n}),l=a;return"/"!==r&&(l="/"===a?r:he([r,a])),i.createHref({pathname:l,search:o,hash:s})}(c,{relative:i}),v=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=void 0===t?{}:t,l=Ie(),c=Te(),u=Ae(e,{relative:a});return f.useCallback(t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,n)){t.preventDefault();let n=void 0!==r?r:$(c)===$(u);l(e,{replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,u,r,i,n,e,s,a,o])}
/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:d});return f.createElement("a",He({},h,{href:n||g,onClick:m||s?r:function(e){r&&r(e),e.defaultPrevented||v(e)},ref:t,target:l}))});var Qe,Je,Xe,Ze;(Je=Qe||(Qe={})).UseScrollRestoration="useScrollRestoration",Je.UseSubmit="useSubmit",Je.UseSubmitFetcher="useSubmitFetcher",Je.UseFetcher="useFetcher",Je.useViewTransitionState="useViewTransitionState",(Ze=Xe||(Xe={})).UseFetcher="useFetcher",Ze.UseFetchers="useFetchers",Ze.UseScrollRestoration="useScrollRestoration";const et=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},tt=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),nt=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};
/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var rt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>f.createElement("svg",{ref:l,...rt,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:tt("lucide",i),...!s&&!nt(o)&&{"aria-hidden":"true"},...o},[...a.map(([e,t])=>f.createElement(e,t)),...Array.isArray(s)?s:[s]])),st=(e,t)=>{const n=f.forwardRef(({className:n,...r},i)=>{return f.createElement(it,{ref:i,iconNode:t,className:tt(`lucide-${s=et(e),s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...r});var s});return n.displayName=et(e),n},at=st("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),ot=st("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),lt=st("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),ct=st("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ut=st("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),dt=st("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),ht=st("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),ft=st("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),pt=st("gem",[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]]),mt=st("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),gt=st("hard-drive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),vt=st("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),yt=st("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),bt=st("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),wt=st("list-music",[["path",{d:"M21 15V6",key:"h1cx4g"}],["path",{d:"M18.5 18a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z",key:"8saifv"}],["path",{d:"M12 12H3",key:"18klou"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M12 18H3",key:"11ftsu"}]]),xt=st("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),St=st("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]),kt=st("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),Et=st("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]]),Ct=st("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),Tt=st("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]),_t=st("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),It=st("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),At=st("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Nt=st("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Pt=st("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Rt=st("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Dt=st("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Mt=st("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),Lt=st("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),jt=st("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ot=st("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),Ft=st("video-off",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Ut=st("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),zt=st("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),Vt=st("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Bt=st("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Ht=st("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),$t=st("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Wt=st("youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),qt=st("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);
/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function Kt(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Gt(...e){return t=>{let n=!1;const r=e.map(e=>{const r=Kt(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():Kt(e[t],null)}}}}function Yt(...e){return f.useCallback(Gt(...e),e)}function Qt(e){const t=Xt(e),n=f.forwardRef((e,n)=>{const{children:r,...i}=e,s=f.Children.toArray(r),a=s.find(en);if(a){const e=a.props.children,r=s.map(t=>t===a?f.Children.count(e)>1?f.Children.only(null):f.isValidElement(e)?e.props.children:null:t);return l.jsx(t,{...i,ref:n,children:f.isValidElement(e)?f.cloneElement(e,void 0,r):null})}return l.jsx(t,{...i,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}var Jt=Qt("Slot");function Xt(e){const t=f.forwardRef((e,t)=>{const{children:n,...r}=e;if(f.isValidElement(n)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(n),i=function(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...e)=>{const t=s(...e);return i(...e),t}:i&&(n[r]=i):"style"===r?n[r]={...i,...s}:"className"===r&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==f.Fragment&&(i.ref=t?Gt(t,e):e),f.cloneElement(n,i)}return f.Children.count(n)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Zt=Symbol("radix.slottable");function en(e){return f.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Zt}function tn(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=tn(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function nn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=tn(e))&&(r&&(r+=" "),r+=t);return r}const rn=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,sn=nn,an=(e,t)=>n=>{var r;if(null==(null==t?void 0:t.variants))return sn(e,null==n?void 0:n.class,null==n?void 0:n.className);const{variants:i,defaultVariants:s}=t,a=Object.keys(i).map(e=>{const t=null==n?void 0:n[e],r=null==s?void 0:s[e];if(null===t)return null;const a=rn(t)||rn(r);return i[e][a]}),o=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),l=null==t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r,...i}=t;return Object.entries(i).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...s,...o}[t]):{...s,...o}[t]===n})?[...e,n,r]:e},[]);return sn(e,a,l,null==n?void 0:n.class,null==n?void 0:n.className)},on=e=>{const t=dn(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),ln(n,t)||un(e)},getConflictingClassGroupIds:(e,t)=>{const i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i}}},ln=(e,t)=>{if(0===e.length)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?ln(e.slice(1),r):void 0;if(i)return i;if(0===t.validators.length)return;const s=e.join("-");return t.validators.find(({validator:e})=>e(s))?.classGroupId},cn=/^\[(.+)\]$/,un=e=>{if(cn.test(e)){const t=cn.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},dn=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return mn(Object.entries(e.classGroups),n).forEach(([e,n])=>{hn(n,r,e,t)}),r},hn=(e,t,n,r)=>{e.forEach(e=>{if("string"==typeof e){return void((""===e?t:fn(t,e)).classGroupId=n)}if("function"==typeof e)return pn(e)?void hn(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach(([e,i])=>{hn(i,fn(t,e),n,r)})})},fn=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},pn=e=>e.isThemeGetter,mn=(e,t)=>t?e.map(([e,n])=>[e,n.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,n])=>[t+e,n])):e)]):e,gn=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(i,s)=>{n.set(i,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}},vn=e=>{const{separator:t,experimentalParseClassName:n}=e,r=1===t.length,i=t[0],s=t.length,a=e=>{const n=[];let a,o=0,l=0;for(let d=0;d<e.length;d++){let c=e[d];if(0===o){if(c===i&&(r||e.slice(d,d+s)===t)){n.push(e.slice(l,d)),l=d+s;continue}if("/"===c){a=d;continue}}"["===c?o++:"]"===c&&o--}const c=0===n.length?e:e.substring(l),u=c.startsWith("!");return{modifiers:n,hasImportantModifier:u,baseClassName:u?c.substring(1):c,maybePostfixModifierPosition:a&&a>l?a-l:void 0}};return n?e=>n({className:e,parseClassName:a}):a},yn=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)}),t.push(...n.sort()),t},bn=/\s+/;function wn(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=xn(e))&&(r&&(r+=" "),r+=t);return r}const xn=e=>{if("string"==typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=xn(e[r]))&&(n&&(n+=" "),n+=t);return n};function Sn(e,...t){let n,r,i,s=function(o){const l=t.reduce((e,t)=>t(e),e());return n=(e=>({cache:gn(e.cacheSize),parseClassName:vn(e),...on(e)}))(l),r=n.cache.get,i=n.cache.set,s=a,a(o)};function a(e){const t=r(e);if(t)return t;const s=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],a=e.trim().split(bn);let o="";for(let l=a.length-1;l>=0;l-=1){const e=a[l],{modifiers:t,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:d}=n(e);let h=Boolean(d),f=r(h?u.substring(0,d):u);if(!f){if(!h){o=e+(o.length>0?" "+o:o);continue}if(f=r(u),!f){o=e+(o.length>0?" "+o:o);continue}h=!1}const p=yn(t).join(":"),m=c?p+"!":p,g=m+f;if(s.includes(g))continue;s.push(g);const v=i(f,h);for(let n=0;n<v.length;++n){const e=v[n];s.push(m+e)}o=e+(o.length>0?" "+o:o)}return o})(e,n);return i(e,s),s}return function(){return s(wn.apply(null,arguments))}}const kn=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},En=/^\[(?:([a-z-]+):)?(.+)\]$/i,Cn=/^\d+\/\d+$/,Tn=new Set(["px","full","screen"]),_n=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,In=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,An=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Nn=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Pn=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rn=e=>Mn(e)||Tn.has(e)||Cn.test(e),Dn=e=>Kn(e,"length",Gn),Mn=e=>Boolean(e)&&!Number.isNaN(Number(e)),Ln=e=>Kn(e,"number",Mn),jn=e=>Boolean(e)&&Number.isInteger(Number(e)),On=e=>e.endsWith("%")&&Mn(e.slice(0,-1)),Fn=e=>En.test(e),Un=e=>_n.test(e),zn=new Set(["length","size","percentage"]),Vn=e=>Kn(e,zn,Yn),Bn=e=>Kn(e,"position",Yn),Hn=new Set(["image","url"]),$n=e=>Kn(e,Hn,Jn),Wn=e=>Kn(e,"",Qn),qn=()=>!0,Kn=(e,t,n)=>{const r=En.exec(e);return!!r&&(r[1]?"string"==typeof t?r[1]===t:t.has(r[1]):n(r[2]))},Gn=e=>In.test(e)&&!An.test(e),Yn=()=>!1,Qn=e=>Nn.test(e),Jn=e=>Pn.test(e),Xn=Sn(()=>{const e=kn("colors"),t=kn("spacing"),n=kn("blur"),r=kn("brightness"),i=kn("borderColor"),s=kn("borderRadius"),a=kn("borderSpacing"),o=kn("borderWidth"),l=kn("contrast"),c=kn("grayscale"),u=kn("hueRotate"),d=kn("invert"),h=kn("gap"),f=kn("gradientColorStops"),p=kn("gradientColorStopPositions"),m=kn("inset"),g=kn("margin"),v=kn("opacity"),y=kn("padding"),b=kn("saturate"),w=kn("scale"),x=kn("sepia"),S=kn("skew"),k=kn("space"),E=kn("translate"),C=()=>["auto",Fn,t],T=()=>[Fn,t],_=()=>["",Rn,Dn],I=()=>["auto",Mn,Fn],A=()=>["","0",Fn],N=()=>[Mn,Fn];return{cacheSize:500,separator:":",theme:{colors:[qn],spacing:[Rn,Dn],blur:["none","",Un,Fn],brightness:N(),borderColor:[e],borderRadius:["none","","full",Un,Fn],borderSpacing:T(),borderWidth:_(),contrast:N(),grayscale:A(),hueRotate:N(),invert:A(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[On,Dn],inset:C(),margin:C(),opacity:N(),padding:T(),saturate:N(),scale:N(),sepia:A(),skew:N(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",Fn]}],container:["container"],columns:[{columns:[Un]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Fn]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",jn,Fn]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Fn]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",jn,Fn]}],"grid-cols":[{"grid-cols":[qn]}],"col-start-end":[{col:["auto",{span:["full",jn,Fn]},Fn]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[qn]}],"row-start-end":[{row:["auto",{span:[jn,Fn]},Fn]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Fn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Fn]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Fn,t]}],"min-w":[{"min-w":[Fn,t,"min","max","fit"]}],"max-w":[{"max-w":[Fn,t,"none","full","min","max","fit","prose",{screen:[Un]},Un]}],h:[{h:[Fn,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Fn,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Fn,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Fn,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Un,Dn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ln]}],"font-family":[{font:[qn]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Fn]}],"line-clamp":[{"line-clamp":["none",Mn,Ln]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Rn,Fn]}],"list-image":[{"list-image":["none",Fn]}],"list-style-type":[{list:["none","disc","decimal",Fn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Rn,Dn]}],"underline-offset":[{"underline-offset":["auto",Rn,Fn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Bn]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Vn]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$n]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[Rn,Fn]}],"outline-w":[{outline:[Rn,Dn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:_()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Rn,Dn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Un,Wn]}],"shadow-color":[{shadow:[qn]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Un,Fn]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Fn]}],duration:[{duration:N()}],ease:[{ease:["linear","in","out","in-out",Fn]}],delay:[{delay:N()}],animate:[{animate:["none","spin","ping","pulse","bounce",Fn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[jn,Fn]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Fn]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Rn,Dn,Ln]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function Zn(...e){return Xn(nn(e))}const er=an("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),tr=f.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const a=r?Jt:"button";return l.jsx(a,{className:Zn(er({variant:t,size:n,className:e})),ref:s,...i})});function nr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}function rr(e,t=[]){let n=[];const r=()=>{const t=n.map(e=>f.createContext(e));return function(n){const r=n?.[e]||t;return f.useMemo(()=>({[`__scope${e}`]:{...n,[e]:r}}),[n,r])}};return r.scopeName=e,[function(t,r){const i=f.createContext(r),s=n.length;n=[...n,r];const a=t=>{const{scope:n,children:r,...a}=t,o=n?.[e]?.[s]||i,c=f.useMemo(()=>a,Object.values(a));return l.jsx(o.Provider,{value:c,children:r})};return a.displayName=t+"Provider",[a,function(n,a){const o=a?.[e]?.[s]||i,l=f.useContext(o);if(l)return l;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},ir(r,...t)]}function ir(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const r=n.reduce((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]}),{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}tr.displayName="Button";var sr=globalThis?.document?f.useLayoutEffect:()=>{},ar=m[" useId ".trim().toString()]||(()=>{}),or=0;function lr(e){const[t,n]=f.useState(ar());return sr(()=>{n(e=>e??String(or++))},[e]),e||(t?`radix-${t}`:"")}var cr=m[" useInsertionEffect ".trim().toString()]||sr;function ur({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,s,a]=function({defaultProp:e,onChange:t}){const[n,r]=f.useState(e),i=f.useRef(n),s=f.useRef(t);return cr(()=>{s.current=t},[t]),f.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}({defaultProp:t,onChange:n}),o=void 0!==e,l=o?e:i;{const t=f.useRef(void 0!==e);f.useEffect(()=>{const e=t.current;if(e!==o){}t.current=o},[o,r])}const c=f.useCallback(t=>{if(o){const n=function(e){return"function"==typeof e}(t)?t(e):t;n!==e&&a.current?.(n)}else s(t)},[o,e,s,a]);return[l,c]}var dr=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=Qt(`Primitive.${t}`),r=f.forwardRef((e,r)=>{const{asChild:i,...s}=e,a=i?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),l.jsx(a,{...s,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function hr(e,t){e&&D.flushSync(()=>e.dispatchEvent(t))}function fr(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...e)=>t.current?.(...e),[])}var pr,mr="dismissableLayer.update",gr="dismissableLayer.pointerDownOutside",vr="dismissableLayer.focusOutside",yr=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),br=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...c}=e,u=f.useContext(yr),[d,h]=f.useState(null),p=d?.ownerDocument??globalThis?.document,[,m]=f.useState({}),g=Yt(t,e=>h(e)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=v.indexOf(y),w=d?v.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,S=w>=b,k=function(e,t=globalThis?.document){const n=fr(e),r=f.useRef(!1),i=f.useRef(()=>{});return f.useEffect(()=>{const e=e=>{if(e.target&&!r.current){let r=function(){Sr(gr,n,s,{discrete:!0})};const s={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=r,t.addEventListener("click",i.current,{once:!0})):r()}else t.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}(e=>{const t=e.target,n=[...u.branches].some(e=>e.contains(t));S&&!n&&(i?.(e),a?.(e),e.defaultPrevented||o?.())},p),E=function(e,t=globalThis?.document){const n=fr(e),r=f.useRef(!1);return f.useEffect(()=>{const e=e=>{if(e.target&&!r.current){Sr(vr,n,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}(e=>{const t=e.target;[...u.branches].some(e=>e.contains(t))||(s?.(e),a?.(e),e.defaultPrevented||o?.())},p);return function(e,t=globalThis?.document){const n=fr(e);f.useEffect(()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{w===u.layers.size-1&&(r?.(e),!e.defaultPrevented&&o&&(e.preventDefault(),o()))},p),f.useEffect(()=>{if(d)return n&&(0===u.layersWithOutsidePointerEventsDisabled.size&&(pr=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),xr(),()=>{n&&1===u.layersWithOutsidePointerEventsDisabled.size&&(p.body.style.pointerEvents=pr)}},[d,p,n,u]),f.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),xr())},[d,u]),f.useEffect(()=>{const e=()=>m({});return document.addEventListener(mr,e),()=>document.removeEventListener(mr,e)},[]),l.jsx(dr.div,{...c,ref:g,style:{pointerEvents:x?S?"auto":"none":void 0,...e.style},onFocusCapture:nr(e.onFocusCapture,E.onFocusCapture),onBlurCapture:nr(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:nr(e.onPointerDownCapture,k.onPointerDownCapture)})});br.displayName="DismissableLayer";var wr=f.forwardRef((e,t)=>{const n=f.useContext(yr),r=f.useRef(null),i=Yt(t,r);return f.useEffect(()=>{const e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),l.jsx(dr.div,{...e,ref:i})});function xr(){const e=new CustomEvent(mr);document.dispatchEvent(e)}function Sr(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?hr(i,s):i.dispatchEvent(s)}wr.displayName="DismissableLayerBranch";var kr=br,Er=wr,Cr="focusScope.autoFocusOnMount",Tr="focusScope.autoFocusOnUnmount",_r={bubbles:!1,cancelable:!0},Ir=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=e,[o,c]=f.useState(null),u=fr(i),d=fr(s),h=f.useRef(null),p=Yt(t,e=>c(e)),m=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let e=function(e){if(m.paused||!o)return;const t=e.target;o.contains(t)?h.current=t:Rr(h.current,{select:!0})},t=function(e){if(m.paused||!o)return;const t=e.relatedTarget;null!==t&&(o.contains(t)||Rr(h.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&Rr(o)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return o&&r.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[r,o,m.paused]),f.useEffect(()=>{if(o){Dr.add(m);const t=document.activeElement;if(!o.contains(t)){const n=new CustomEvent(Cr,_r);o.addEventListener(Cr,u),o.dispatchEvent(n),n.defaultPrevented||(!function(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Rr(r,{select:t}),document.activeElement!==n)return}((e=Ar(o),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&Rr(o))}return()=>{o.removeEventListener(Cr,u),setTimeout(()=>{const e=new CustomEvent(Tr,_r);o.addEventListener(Tr,d),o.dispatchEvent(e),e.defaultPrevented||Rr(t??document.body,{select:!0}),o.removeEventListener(Tr,d),Dr.remove(m)},0)}}var e},[o,u,d,m]);const g=f.useCallback(e=>{if(!n&&!r)return;if(m.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){const t=e.currentTarget,[r,s]=function(e){const t=Ar(e),n=Nr(t,e),r=Nr(t.reverse(),e);return[n,r]}(t);r&&s?e.shiftKey||i!==s?e.shiftKey&&i===r&&(e.preventDefault(),n&&Rr(s,{select:!0})):(e.preventDefault(),n&&Rr(r,{select:!0})):i===t&&e.preventDefault()}},[n,r,m.paused]);return l.jsx(dr.div,{tabIndex:-1,...a,ref:p,onKeyDown:g})});function Ar(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Nr(e,t){for(const n of e)if(!Pr(n,{upTo:t}))return n}function Pr(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Rr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}Ir.displayName="FocusScope";var Dr=function(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Mr(e,t),e.unshift(t)},remove(t){e=Mr(e,t),e[0]?.resume()}}}();function Mr(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}var Lr=f.forwardRef((e,t)=>{const{container:n,...r}=e,[i,s]=f.useState(!1);sr(()=>s(!0),[]);const a=n||i&&globalThis?.document?.body;return a?M.createPortal(l.jsx(dr.div,{...r,ref:t}),a):null});Lr.displayName="Portal";var jr=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=f.useState(),r=f.useRef(null),i=f.useRef(e),s=f.useRef("none"),a=e?"mounted":"unmounted",[o,l]=function(e,t){return f.useReducer((e,n)=>t[e][n]??e,e)}(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const e=Or(r.current);s.current="mounted"===o?e:"none"},[o]),sr(()=>{const t=r.current,n=i.current;if(n!==e){const r=s.current,a=Or(t);if(e)l("MOUNT");else if("none"===a||"none"===t?.display)l("UNMOUNT");else{l(n&&r!==a?"ANIMATION_OUT":"UNMOUNT")}i.current=e}},[e,l]),sr(()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,a=s=>{const a=Or(r.current).includes(s.animationName);if(s.target===t&&a&&(l("ANIMATION_END"),!i.current)){const r=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=r)})}},o=e=>{e.target===t&&(s.current=Or(r.current))};return t.addEventListener("animationstart",o),t.addEventListener("animationcancel",a),t.addEventListener("animationend",a),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",o),t.removeEventListener("animationcancel",a),t.removeEventListener("animationend",a)}}l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:f.useCallback(e=>{r.current=e?getComputedStyle(e):null,n(e)},[])}}(t),i="function"==typeof n?n({present:r.isPresent}):f.Children.only(n),s=Yt(r.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(i));return"function"==typeof n||r.isPresent?f.cloneElement(i,{ref:s}):null};function Or(e){return e?.animationName||"none"}jr.displayName="Presence";var Fr=0;function Ur(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var zr=function(){return zr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zr.apply(this,arguments)};function Vr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}"function"==typeof SuppressedError&&SuppressedError;var Br="right-scroll-bar-position",Hr="width-before-scroll-bar";function $r(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var Wr="undefined"!=typeof window?f.useLayoutEffect:f.useEffect,qr=new WeakMap;function Kr(e,t){var n,r,i,s=(n=null,r=function(t){return e.forEach(function(e){return $r(e,t)})},(i=f.useState(function(){return{value:n,callback:r,facade:{get current(){return i.value},set current(e){var t=i.value;t!==e&&(i.value=e,i.callback(e,t))}}}})[0]).callback=r,i.facade);return Wr(function(){var t=qr.get(s);if(t){var n=new Set(t),r=new Set(e),i=s.current;n.forEach(function(e){r.has(e)||$r(e,null)}),r.forEach(function(e){n.has(e)||$r(e,i)})}qr.set(s,e)},[e]),s}function Gr(e){return e}var Yr=function(e){var t=e.sideCar,n=Vr(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,zr({},n))};Yr.isSideCarExport=!0;var Qr=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=Gr);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter(function(e){return e!==i})}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var s=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(s)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}}}(null);return t.options=zr({async:!0,ssr:!1},e),t}(),Jr=function(){},Xr=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:Jr,onWheelCapture:Jr,onTouchMoveCapture:Jr}),i=r[0],s=r[1],a=e.forwardProps,o=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,h=e.sideCar,p=e.noRelative,m=e.noIsolation,g=e.inert,v=e.allowPinchZoom,y=e.as,b=void 0===y?"div":y,w=e.gapMode,x=Vr(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,k=Kr([n,t]),E=zr(zr({},x),i);return f.createElement(f.Fragment,null,u&&f.createElement(S,{sideCar:Qr,removeScrollBar:c,shards:d,noRelative:p,noIsolation:m,inert:g,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:w}),a?f.cloneElement(f.Children.only(o),zr(zr({},E),{ref:k})):f.createElement(b,zr({},E,{className:l,ref:k}),o))});Xr.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Xr.classNames={fullWidth:Hr,zeroRight:Br};function Zr(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}var ei=function(){var e=0,t=null;return{add:function(n){var r,i;0==e&&(t=Zr())&&(i=n,(r=t).styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ti=function(){var e,t=(e=ei(),function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])});return function(e){var n=e.styles,r=e.dynamic;return t(n,r),null}},ni={left:0,top:0,right:0,gap:0},ri=function(e){return parseInt(e||"",10)||0},ii=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return ni;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[ri(n),ri(r),ri(i)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},si=ti(),ai="data-scroll-locked",oi=function(e,t,n,r){var i=e.left,s=e.top,a=e.right,o=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(o,"px ").concat(r,";\n  }\n  body[").concat(ai,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(o,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(Br," {\n    right: ").concat(o,"px ").concat(r,";\n  }\n  \n  .").concat(Hr," {\n    margin-right: ").concat(o,"px ").concat(r,";\n  }\n  \n  .").concat(Br," .").concat(Br," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(Hr," .").concat(Hr," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(ai,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(o,"px;\n  }\n")},li=function(){var e=parseInt(document.body.getAttribute(ai)||"0",10);return isFinite(e)?e:0},ci=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=void 0===r?"margin":r;f.useEffect(function(){return document.body.setAttribute(ai,(li()+1).toString()),function(){var e=li()-1;e<=0?document.body.removeAttribute(ai):document.body.setAttribute(ai,e.toString())}},[]);var s=f.useMemo(function(){return ii(i)},[i]);return f.createElement(si,{styles:oi(s,!t,i,n?"":"!important")})},ui=!1;if("undefined"!=typeof window)try{var di=Object.defineProperty({},"passive",{get:function(){return ui=!0,!0}});window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch(fR){ui=!1}var hi=!!ui&&{passive:!1},fi=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},pi=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),mi(e,r)){var i=gi(e,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},mi=function(e,t){return"v"===e?function(e){return fi(e,"overflowY")}(t):function(e){return fi(e,"overflowX")}(t)},gi=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},vi=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},yi=function(e){return[e.deltaX,e.deltaY]},bi=function(e){return e&&"current"in e?e.current:e},wi=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},xi=0,Si=[];function ki(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Ei=(Ci=function(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),i=f.useState(xi++)[0],s=f.useState(ti)[0],a=f.useRef(e);f.useEffect(function(){a.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(bi),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var o=f.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!a.current.allowPinchZoom;var i,s=vi(e),o=n.current,l="deltaX"in e?e.deltaX:o[0]-s[0],c="deltaY"in e?e.deltaY:o[1]-s[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=pi(d,u);if(!h)return!0;if(h?i=d:(i="v"===d?"h":"v",h=pi(d,u)),!h)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=i),!i)return!0;var f=r.current||i;return function(e,t,n,r){var i=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),s=i*r,a=n.target,o=t.contains(a),l=!1,c=s>0,u=0,d=0;do{if(!a)break;var h=gi(e,a),f=h[0],p=h[1]-h[2]-i*f;(f||p)&&mi(e,a)&&(u+=p,d+=f);var m=a.parentNode;a=m&&m.nodeType===Node.DOCUMENT_FRAGMENT_NODE?m.host:m}while(!o&&a!==document.body||o&&(t.contains(a)||t===a));return(c&&Math.abs(u)<1||!c&&Math.abs(d)<1)&&(l=!0),l}(f,t,e,"h"===f?l:c)},[]),l=f.useCallback(function(e){var n=e;if(Si.length&&Si[Si.length-1]===s){var r="deltaY"in n?yi(n):vi(n),i=t.current.filter(function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,i=r,t[0]===i[0]&&t[1]===i[1]);var t,i})[0];if(i&&i.should)n.cancelable&&n.preventDefault();else if(!i){var l=(a.current.shards||[]).map(bi).filter(Boolean).filter(function(e){return e.contains(n.target)});(l.length>0?o(n,l[0]):!a.current.noIsolation)&&n.cancelable&&n.preventDefault()}}},[]),c=f.useCallback(function(e,n,r,i){var s={name:e,delta:n,target:r,should:i,shadowParent:ki(r)};t.current.push(s),setTimeout(function(){t.current=t.current.filter(function(e){return e!==s})},1)},[]),u=f.useCallback(function(e){n.current=vi(e),r.current=void 0},[]),d=f.useCallback(function(t){c(t.type,yi(t),t.target,o(t,e.lockRef.current))},[]),h=f.useCallback(function(t){c(t.type,vi(t),t.target,o(t,e.lockRef.current))},[]);f.useEffect(function(){return Si.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,hi),document.addEventListener("touchmove",l,hi),document.addEventListener("touchstart",u,hi),function(){Si=Si.filter(function(e){return e!==s}),document.removeEventListener("wheel",l,hi),document.removeEventListener("touchmove",l,hi),document.removeEventListener("touchstart",u,hi)}},[]);var p=e.removeScrollBar,m=e.inert;return f.createElement(f.Fragment,null,m?f.createElement(s,{styles:wi(i)}):null,p?f.createElement(ci,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},Qr.useMedium(Ci),Yr);var Ci,Ti=f.forwardRef(function(e,t){return f.createElement(Xr,zr({},e,{ref:t,sideCar:Ei}))});Ti.classNames=Xr.classNames;var _i=new WeakMap,Ii=new WeakMap,Ai={},Ni=0,Pi=function(e){return e&&(e.host||Pi(e.parentNode))},Ri=function(e,t,n,r){var i=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=Pi(t);return n&&e.contains(n)?n:null}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);Ai[n]||(Ai[n]=new WeakMap);var s=Ai[n],a=[],o=new Set,l=new Set(i),c=function(e){e&&!o.has(e)&&(o.add(e),c(e.parentNode))};i.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(o.has(e))u(e);else try{var t=e.getAttribute(r),i=null!==t&&"false"!==t,l=(_i.get(e)||0)+1,c=(s.get(e)||0)+1;_i.set(e,l),s.set(e,c),a.push(e),1===l&&i&&Ii.set(e,!0),1===c&&e.setAttribute(n,"true"),i||e.setAttribute(r,"true")}catch(hR){}})};return u(t),o.clear(),Ni++,function(){a.forEach(function(e){var t=_i.get(e)-1,i=s.get(e)-1;_i.set(e,t),s.set(e,i),t||(Ii.has(e)||e.removeAttribute(r),Ii.delete(e)),i||e.removeAttribute(n)}),--Ni||(_i=new WeakMap,_i=new WeakMap,Ii=new WeakMap,Ai={})}},Di=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),Ri(r,i,n,"aria-hidden")):function(){return null}},Mi="Dialog",[Li,ji]=rr(Mi),[Oi,Fi]=Li(Mi),Ui=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=e,o=f.useRef(null),c=f.useRef(null),[u,d]=ur({prop:r,defaultProp:i??!1,onChange:s,caller:Mi});return l.jsx(Oi,{scope:t,triggerRef:o,contentRef:c,contentId:lr(),titleId:lr(),descriptionId:lr(),open:u,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(e=>!e),[d]),modal:a,children:n})};Ui.displayName=Mi;var zi="DialogTrigger";f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Fi(zi,n),s=Yt(t,i.triggerRef);return l.jsx(dr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":as(i.open),...r,ref:s,onClick:nr(e.onClick,i.onOpenToggle)})}).displayName=zi;var Vi="DialogPortal",[Bi,Hi]=Li(Vi,{forceMount:void 0}),$i=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=Fi(Vi,t);return l.jsx(Bi,{scope:t,forceMount:n,children:f.Children.map(r,e=>l.jsx(jr,{present:n||s.open,children:l.jsx(Lr,{asChild:!0,container:i,children:e})}))})};$i.displayName=Vi;var Wi="DialogOverlay",qi=f.forwardRef((e,t)=>{const n=Hi(Wi,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Fi(Wi,e.__scopeDialog);return s.modal?l.jsx(jr,{present:r||s.open,children:l.jsx(Gi,{...i,ref:t})}):null});qi.displayName=Wi;var Ki=Qt("DialogOverlay.RemoveScroll"),Gi=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Fi(Wi,n);return l.jsx(Ti,{as:Ki,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(dr.div,{"data-state":as(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Yi="DialogContent",Qi=f.forwardRef((e,t)=>{const n=Hi(Yi,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Fi(Yi,e.__scopeDialog);return l.jsx(jr,{present:r||s.open,children:s.modal?l.jsx(Ji,{...i,ref:t}):l.jsx(Xi,{...i,ref:t})})});Qi.displayName=Yi;var Ji=f.forwardRef((e,t)=>{const n=Fi(Yi,e.__scopeDialog),r=f.useRef(null),i=Yt(t,n.contentRef,r);return f.useEffect(()=>{const e=r.current;if(e)return Di(e)},[]),l.jsx(Zi,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:nr(e.onCloseAutoFocus,e=>{e.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:nr(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:nr(e.onFocusOutside,e=>e.preventDefault())})}),Xi=f.forwardRef((e,t)=>{const n=Fi(Yi,e.__scopeDialog),r=f.useRef(!1),i=f.useRef(!1);return l.jsx(Zi,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||n.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const s=t.target,a=n.triggerRef.current?.contains(s);a&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),Zi=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=e,o=Fi(Yi,n),c=f.useRef(null),u=Yt(t,c);return f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ur()),document.body.insertAdjacentElement("beforeend",e[1]??Ur()),Fr++,()=>{1===Fr&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Fr--}},[]),l.jsxs(l.Fragment,{children:[l.jsx(Ir,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(br,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":as(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(us,{titleId:o.titleId}),l.jsx(ds,{contentRef:c,descriptionId:o.descriptionId})]})]})}),es="DialogTitle",ts=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Fi(es,n);return l.jsx(dr.h2,{id:i.titleId,...r,ref:t})});ts.displayName=es;var ns="DialogDescription",rs=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Fi(ns,n);return l.jsx(dr.p,{id:i.descriptionId,...r,ref:t})});rs.displayName=ns;var is="DialogClose",ss=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Fi(is,n);return l.jsx(dr.button,{type:"button",...r,ref:t,onClick:nr(e.onClick,()=>i.onOpenChange(!1))})});function as(e){return e?"open":"closed"}ss.displayName=is;var os="DialogTitleWarning",[ls,cs]=function(e,t){const n=f.createContext(t),r=e=>{const{children:t,...r}=e,i=f.useMemo(()=>r,Object.values(r));return l.jsx(n.Provider,{value:i,children:t})};return r.displayName=e+"Provider",[r,function(r){const i=f.useContext(n);if(i)return i;if(void 0!==t)return t;throw new Error(`\`${r}\` must be used within \`${e}\``)}]}(os,{contentName:Yi,titleName:es,docsSlug:"dialog"}),us=({titleId:e})=>{const t=cs(os),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{if(e){document.getElementById(e)}},[n,e]),null},ds=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cs("DialogDescriptionWarning").contentName}}.`;return f.useEffect(()=>{const n=e.current?.getAttribute("aria-describedby");if(t&&n){document.getElementById(t)}},[n,e,t]),null},hs=qi,fs=Qi,ps=ts,ms=rs,gs=ss;const vs=Ui,ys=$i,bs=f.forwardRef(({className:e,...t},n)=>l.jsx(hs,{ref:n,className:Zn("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));bs.displayName=hs.displayName;const ws=f.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(ys,{children:[l.jsx(bs,{}),l.jsxs(fs,{ref:r,className:Zn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",e),...n,children:[t,l.jsx(gs,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:l.jsx("span",{className:"sr-only",children:"Close"})})]})]}));ws.displayName=fs.displayName;const xs=({className:e,...t})=>l.jsx("div",{className:Zn("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});xs.displayName="DialogHeader";const Ss=({className:e,...t})=>l.jsx("div",{className:Zn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ss.displayName="DialogFooter";const ks=f.forwardRef(({className:e,...t},n)=>l.jsx(ps,{ref:n,className:Zn("text-lg font-semibold leading-none tracking-tight",e),...t}));ks.displayName=ps.displayName;const Es=f.forwardRef(({className:e,...t},n)=>l.jsx(ms,{ref:n,className:Zn("text-sm text-muted-foreground",e),...t}));Es.displayName=ms.displayName;var Cs={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},_s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ts(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new Is;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Is extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const As=function(e){return function(e){const t=Ts(e);return _s.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ns=function(e){try{return _s.decodeString(e,!0)}catch(hR){}return null};function Ps(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&Rs(n)&&(e[n]=Ps(e[n],t[n]));return e}function Rs(e){return"__proto__"!==e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=()=>{try{return Ds().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process)return;const e=Cs.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(hR){return}const t=e&&Ns(e[1]);return t&&JSON.parse(t)})()}catch(hR){return}},Ls=e=>{var t,n;return null===(n=null===(t=Ms())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},js=e=>{const t=Ls(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Os=()=>{var e;return null===(e=Ms())||void 0===e?void 0:e.config},Fs=e=>{var t;return null===(t=Ms())||void 0===t?void 0:t[`_${e}`]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Us{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function zs(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Vs(){var e;const t=null===(e=Ms())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(hR){return!1}}function Bs(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function Hs(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function $s(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ws(){const e=zs();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function qs(){try{return"object"==typeof indexedDB}catch(hR){return!1}}class Ks extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gs.prototype.create)}}class Gs{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(Ys,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new Ks(r,a,n)}}const Ys=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Js(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Xs(n)&&Xs(s)){if(!Js(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Xs(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ea(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function ta(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function na(e,t){const n=new ra(e,t);return n.subscribe.bind(n)}class ra{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ia),void 0===r.error&&(r.error=ia),void 0===r.complete&&(r.complete=ia);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(hR){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(hR){"undefined"!=typeof console&&console.error}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ia(){}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(e){return e&&e._delegate?e._delegate:e}class aa{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let la=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Us;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(hR){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(hR){if(r)return null;throw hR}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch(hR){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(hR){}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===oa?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}};class ca{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new la(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=[];var da,ha;(ha=da||(da={}))[ha.DEBUG=0]="DEBUG",ha[ha.VERBOSE=1]="VERBOSE",ha[ha.INFO=2]="INFO",ha[ha.WARN=3]="WARN",ha[ha.ERROR=4]="ERROR",ha[ha.SILENT=5]="SILENT";const fa={debug:da.DEBUG,verbose:da.VERBOSE,info:da.INFO,warn:da.WARN,error:da.ERROR,silent:da.SILENT},pa=da.INFO,ma={[da.DEBUG]:"log",[da.VERBOSE]:"log",[da.INFO]:"info",[da.WARN]:"warn",[da.ERROR]:"error"},ga=(e,t,...n)=>{if(t<e.logLevel)return;(new Date).toISOString();if(!ma[t])throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class va{constructor(e){this.name=e,this._logLevel=pa,this._logHandler=ga,this._userLogHandler=null,ua.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in da))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?fa[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,da.DEBUG,...e),this._logHandler(this,da.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,da.VERBOSE,...e),this._logHandler(this,da.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,da.INFO,...e),this._logHandler(this,da.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,da.WARN,...e),this._logHandler(this,da.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,da.ERROR,...e),this._logHandler(this,da.ERROR,...e)}}let ya,ba;const wa=new WeakMap,xa=new WeakMap,Sa=new WeakMap,ka=new WeakMap,Ea=new WeakMap;let Ca={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return xa.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Sa.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ia(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ta(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ba||(ba=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(Aa(this),t),Ia(wa.get(this))}:function(...t){return Ia(e.apply(Aa(this),t))}:function(t,...n){const r=e.call(Aa(this),t,...n);return Sa.set(r,t.sort?t.sort():[t]),Ia(r)}}function _a(e){return"function"==typeof e?Ta(e):(e instanceof IDBTransaction&&function(e){if(xa.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});xa.set(e,t)}(e),t=e,(ya||(ya=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Ca):e);var t}function Ia(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Ia(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&wa.set(t,e)}).catch(()=>{}),Ea.set(t,e),t}(e);if(ka.has(e))return ka.get(e);const t=_a(e);return t!==e&&(ka.set(e,t),Ea.set(t,e)),t}const Aa=e=>Ea.get(e);const Na=["get","getKey","getAll","getAllKeys","count"],Pa=["put","add","delete","clear"],Ra=new Map;function Da(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Ra.get(t))return Ra.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Pa.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Na.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,i?"readwrite":"readonly");let a=s.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),i&&s.done]))[0]};return Ra.set(t,s),s}Ca=(e=>({...e,get:(t,n,r)=>Da(t,n)||e.get(t,n,r),has:(t,n)=>!!Da(t,n)||e.has(t,n)}))(Ca);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ma{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const La="@firebase/app",ja="0.10.13",Oa=new va("@firebase/app"),Fa="@firebase/app-compat",Ua="@firebase/analytics-compat",za="@firebase/analytics",Va="@firebase/app-check-compat",Ba="@firebase/app-check",Ha="@firebase/auth",$a="@firebase/auth-compat",Wa="@firebase/database",qa="@firebase/data-connect",Ka="@firebase/database-compat",Ga="@firebase/functions",Ya="@firebase/functions-compat",Qa="@firebase/installations",Ja="@firebase/installations-compat",Xa="@firebase/messaging",Za="@firebase/messaging-compat",eo="@firebase/performance",to="@firebase/performance-compat",no="@firebase/remote-config",ro="@firebase/remote-config-compat",io="@firebase/storage",so="@firebase/storage-compat",ao="@firebase/firestore",oo="@firebase/vertexai-preview",lo="@firebase/firestore-compat",co="firebase",uo="[DEFAULT]",ho={[La]:"fire-core",[Fa]:"fire-core-compat",[za]:"fire-analytics",[Ua]:"fire-analytics-compat",[Ba]:"fire-app-check",[Va]:"fire-app-check-compat",[Ha]:"fire-auth",[$a]:"fire-auth-compat",[Wa]:"fire-rtdb",[qa]:"fire-data-connect",[Ka]:"fire-rtdb-compat",[Ga]:"fire-fn",[Ya]:"fire-fn-compat",[Qa]:"fire-iid",[Ja]:"fire-iid-compat",[Xa]:"fire-fcm",[Za]:"fire-fcm-compat",[eo]:"fire-perf",[to]:"fire-perf-compat",[no]:"fire-rc",[ro]:"fire-rc-compat",[io]:"fire-gcs",[so]:"fire-gcs-compat",[ao]:"fire-fst",[lo]:"fire-fst-compat",[oo]:"fire-vertex","fire-js":"fire-js",[co]:"fire-js-all"},fo=new Map,po=new Map,mo=new Map;function go(e,t){try{e.container.addComponent(t)}catch(hR){Oa.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,hR)}}function vo(e,t){e.container.addOrOverwriteComponent(t)}function yo(e){const t=e.name;if(mo.has(t))return Oa.debug(`There were multiple attempts to register component ${t}.`),!1;mo.set(t,e);for(const n of fo.values())go(n,e);for(const n of po.values())go(n,e);return!0}function bo(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function wo(e){return void 0!==e.options}function xo(e){return void 0!==e.settings}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const So=new Gs("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let ko=class{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw So.create("app-deleted",{appName:this._name})}};
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends ko{constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,s={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,s,r);else{super(e.options,s,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._finalizationRegistry=null,"undefined"!=typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Ao(La,ja,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Io(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw So.create("server-app-deleted")}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="10.14.1";function To(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const r=Object.assign({name:uo,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw So.create("bad-app-name",{appName:String(i)});if(n||(n=Os()),!n)throw So.create("no-options");const s=fo.get(i);if(s){if(Js(n,s.options)&&Js(r,s.config))return s;throw So.create("duplicate-app",{appName:i})}const a=new ca(i);for(const l of mo.values())a.addComponent(l);const o=new ko(n,r,a);return fo.set(i,o),o}function _o(e=uo){const t=fo.get(e);if(!t&&e===uo&&Os())return To();if(!t)throw So.create("no-app",{appName:e});return t}async function Io(e){let t=!1;const n=e.name;if(fo.has(n))t=!0,fo.delete(n);else if(po.has(n)){e.decRefCount()<=0&&(po.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function Ao(e,t,n){var r;let i=null!==(r=ho[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Oa.warn(e.join(" "))}yo(new aa(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}function No(e,t){if(null!==e&&"function"!=typeof e)throw So.create("invalid-log-argument");!function(e,t){for(const n of ua){let r=null;t&&t.level&&(r=fa[t.level]),n.userLogHandler=null===e?null:(t,n,...i)=>{const s=i.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(e=>e).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:da[n].toLowerCase(),message:s,args:i,type:t.name})}}}(e,t)}function Po(e){var t;t=e,ua.forEach(e=>{e.setLogLevel(t)})}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="firebase-heartbeat-store";let Do=null;function Mo(){return Do||(Do=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(e,t),o=Ia(a);return r&&a.addEventListener("upgradeneeded",e=>{r(Ia(a.result),e.oldVersion,e.newVersion,Ia(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Ro)}catch(hR){}}}).catch(e=>{throw So.create("idb-open",{originalErrorMessage:e.message})})),Do}async function Lo(e,t){try{const n=(await Mo()).transaction(Ro,"readwrite"),r=n.objectStore(Ro);await r.put(t,jo(e)),await n.done}catch(hR){if(hR instanceof Ks)Oa.warn(hR.message);else{const t=So.create("idb-set",{originalErrorMessage:null==hR?void 0:hR.message});Oa.warn(t.message)}}}function jo(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Uo(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Fo();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(hR){Oa.warn(hR)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Fo(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),zo(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zo(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=As(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(hR){return Oa.warn(hR),""}}}function Fo(){return(new Date).toISOString().substring(0,10)}class Uo{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!qs()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Mo()).transaction(Ro),n=await t.objectStore(Ro).get(jo(e));return await t.done,n}catch(hR){if(hR instanceof Ks)Oa.warn(hR.message);else{const t=So.create("idb-get",{originalErrorMessage:null==hR?void 0:hR.message});Oa.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Lo(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Lo(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function zo(e){return As(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vo;Vo="",yo(new aa("platform-logger",e=>new Ma(e),"PRIVATE")),yo(new aa("heartbeat",e=>new Oo(e),"PRIVATE")),Ao(La,ja,Vo),Ao(La,ja,"esm2017"),Ao("fire-js","");const Bo=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Ks,SDK_VERSION:Co,_DEFAULT_ENTRY_NAME:uo,_addComponent:go,_addOrOverwriteComponent:vo,_apps:fo,_clearComponents:function(){mo.clear()},_components:mo,_getProvider:bo,_isFirebaseApp:wo,_isFirebaseServerApp:xo,_registerComponent:yo,_removeServiceInstance:function(e,t,n=uo){bo(e,t).clearInstance(n)},_serverApps:po,deleteApp:Io,getApp:_o,getApps:function(){return Array.from(fo.values())},initializeApp:To,initializeServerApp:function(e,t){if(("undefined"!=typeof window||Bs())&&!Bs())throw So.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=wo(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);if(void 0!==r.releaseOnDeref&&delete r.releaseOnDeref,void 0!==t.releaseOnDeref&&"undefined"==typeof FinalizationRegistry)throw So.create("finalization-registry-not-supported",{});const i=""+(s=JSON.stringify(r),[...s].reduce((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0,0));var s;const a=po.get(i);if(a)return a.incRefCount(t.releaseOnDeref),a;const o=new ca(i);for(const c of mo.values())o.addComponent(c);const l=new Eo(n,t,i,o);return po.set(i,l),l},onLog:No,registerVersion:Ao,setLogLevel:Po},Symbol.toStringTag,{value:"Module"}));
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,t){this._delegate=e,this.firebase=t,go(e,new aa("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Io(this._delegate)))}_getService(e,t=uo){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=uo){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){go(this._delegate,e)}_addOrOverwriteComponent(e){vo(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new Gs("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Wo=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function e(){const t=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){const t={},n={__esModule:!0,initializeApp:function(r,i={}){const s=To(r,i);if(Qs(t,s.name))return t[s.name];const a=new e(s,n);return t[s.name]=a,a},app:r,registerVersion:Ao,setLogLevel:Po,onLog:No,apps:null,SDK_VERSION:Co,INTERNAL:{registerComponent:function(t){const i=t.name,s=i.replace("-compat","");if(yo(t)&&"PUBLIC"===t.type){const a=(e=r())=>{if("function"!=typeof e[s])throw $o.create("invalid-app-argument",{appName:i});return e[s]()};void 0!==t.serviceProps&&Ps(a,t.serviceProps),n[s]=a,e.prototype[s]=function(...e){return this._getService.bind(this,i).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[s]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:Bo}};function r(e){if(!Qs(t,e=e||uo))throw $o.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),r.App=e,n}(Ho);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Ps(t,e)},createSubscribe:na,ErrorFactory:Gs,deepExtend:Ps}),t}(),qo=new va("@firebase/app-compat");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
try{const e=Ds();if(void 0!==e.firebase){qo.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const t=e.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&qo.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch(pR){}const Ko=Wo;!
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){Ao("@firebase/app-compat","0.2.43",e)}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Ko.registerVersion("firebase","10.14.1","app-compat");const Go="facebook.com",Yo="github.com",Qo="google.com",Jo="password",Xo="twitter.com",Zo="EMAIL_SIGNIN",el="PASSWORD_RESET",tl="RECOVER_EMAIL",nl="REVERT_SECOND_FACTOR_ADDITION",rl="VERIFY_AND_CHANGE_EMAIL",il="VERIFY_EMAIL";function sl(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const al=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ol=sl,ll=new Gs("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),cl=new va("@firebase/auth");function ul(e,...t){cl.logLevel<=da.ERROR&&cl.error(`Auth (${Co}): ${e}`,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(e,...t){throw gl(e,...t)}function hl(e,...t){return gl(e,...t)}function fl(e,t,n){const r=Object.assign(Object.assign({},ol()),{[t]:n});return new Gs("auth","Firebase",r).create(t,{appName:e.name})}function pl(e){return fl(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ml(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&dl(e,"argument-error"),fl(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gl(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return ll.create(e,...t)}function vl(e,t,...n){if(!e)throw gl(t,...n)}function yl(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ul(t),new Error(t)}function bl(e,t){e||yl(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function xl(){return"http:"===Sl()||"https:"===Sl()}function Sl(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class kl{constructor(e,t){this.shortDelay=e,this.longDelay=t,bl(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zs())||$s()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xl()||Hs()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(e,t){bl(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void yl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void yl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void yl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},_l=new kl(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Al(e,t,n,r,i={}){return Nl(e,i,async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Zs(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Cl.fetch()(Rl(e,e.config.apiHost,n,a),l)})}async function Nl(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Tl),t);try{const t=new Ml(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Ll(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Ll(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Ll(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Ll(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw fl(e,o,a);dl(e,o)}}catch(hR){if(hR instanceof Ks)throw hR;dl(e,"network-request-failed",{message:String(hR)})}}async function Pl(e,t,n,r,i={}){const s=await Al(e,t,n,r,i);return"mfaPendingCredential"in s&&dl(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Rl(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?El(e.config,i):`${e.config.apiScheme}://${i}`}function Dl(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ml{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(hl(this.auth,"network-request-failed")),_l.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ll(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=hl(e,t,r);return i.customData._tokenResponse=n,i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(e){return void 0!==e&&void 0!==e.getResponse}function Ol(e){return void 0!==e&&void 0!==e.enterprise}class Fl{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Dl(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(e,t){return Al(e,"POST","/v1/accounts:lookup",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(hR){}}function Vl(e){return 1e3*Number(e)}function Bl(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ul("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ns(n);return e?JSON.parse(e):(ul("Failed to decode base64 JWT payload"),null)}catch(hR){return ul("Caught error parsing JWT payload as JSON",null==hR?void 0:hR.toString()),null}}function Hl(e){const t=Bl(e);return vl(t,"internal-error"),vl(void 0!==t.exp,"internal-error"),vl(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(e,t,n=!1){if(n)return t;try{return await t}catch(hR){throw hR instanceof Ks&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(hR)&&e.auth.currentUser===e&&await e.auth.signOut(),hR}}class Wl{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(hR){return void("auth/network-request-failed"===(null==hR?void 0:hR.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(e){var t;const n=e.auth,r=await e.getIdToken(),i=await $l(e,Ul(n,{idToken:r}));vl(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Gl(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash||(null==o?void 0:o.length)),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ql(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Gl(e){return e.map(e=>{var{providerId:t}=e,n=Vr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){vl(e.idToken,"internal-error"),vl(void 0!==e.idToken,"internal-error"),vl(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):Hl(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){vl(0!==e.length,"internal-error");const t=Hl(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(vl(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Nl(e,{},async()=>{const n=Zs({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Rl(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Cl.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Yl;return n&&(vl("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(vl("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(vl("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yl,this.toJSON())}_performRefresh(){return yl("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(e,t){vl("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Jl{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Vr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ql(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await $l(this,this.stsTokenManager.getToken(this.auth,e));return vl(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=sa(e),r=await n.getIdToken(t),i=Bl(r);vl(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,a=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:zl(Vl(i.auth_time)),issuedAtTime:zl(Vl(i.iat)),expirationTime:zl(Vl(i.exp)),signInProvider:a||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=sa(e);await Kl(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(vl(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){vl(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Kl(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xo(this.auth.app))return Promise.reject(pl(this.auth));const e=await this.getIdToken();return await $l(this,
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t){return Al(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:S}=t;vl(y&&S,e,"internal-error");const k=Yl.fromJSON(this.name,S);vl("string"==typeof y,e,"internal-error"),Ql(u,e.name),Ql(d,e.name),vl("boolean"==typeof b,e,"internal-error"),vl("boolean"==typeof w,e,"internal-error"),Ql(h,e.name),Ql(f,e.name),Ql(p,e.name),Ql(m,e.name),Ql(g,e.name),Ql(v,e.name);const E=new Jl({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(E.providerData=x.map(e=>Object.assign({},e))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t,n=!1){const r=new Yl;r.updateFromServerResponse(t);const i=new Jl({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Kl(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];vl(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Gl(r.providerUserInfo):[],s=!(r.email&&r.passwordHash||(null==i?void 0:i.length)),a=new Yl;a.updateFromIdToken(n);const o=new Jl({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new ql(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||(null==i?void 0:i.length))};return Object.assign(o,l),o}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=new Map;function Zl(e){bl(e instanceof Function,"Expected a class definition");let t=Xl.get(e);return t?(bl(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Xl.set(e,t),t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ec.type="NONE";const tc=ec;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(e,t,n){return`firebase:${e}:${t}:${n}`}class rc{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=nc(this.userKey,r.apiKey,i),this.fullPersistenceKey=nc("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Jl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new rc(Zl(tc),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Zl(tc);const s=nc(n,e.config.apiKey,e.name);let a=null;for(const l of t)try{const t=await l._get(s);if(t){const n=Jl._fromJSON(e,t);l!==i&&(a=n),i=l;break}}catch(pR){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(pR){}})),new rc(i,e,n)):new rc(i,e,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(lc(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(sc(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(uc(t))return"Blackberry";if(dc(t))return"Webos";if(ac(t))return"Safari";if((t.includes("chrome/")||oc(t))&&!t.includes("edge/"))return"Chrome";if(cc(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function sc(e=zs()){return/firefox\//i.test(e)}function ac(e=zs()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function oc(e=zs()){return/crios\//i.test(e)}function lc(e=zs()){return/iemobile/i.test(e)}function cc(e=zs()){return/android/i.test(e)}function uc(e=zs()){return/blackberry/i.test(e)}function dc(e=zs()){return/webos/i.test(e)}function hc(e=zs()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function fc(e=zs()){return hc(e)||cc(e)||dc(e)||uc(e)||/windows phone/i.test(e)||lc(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(e,t=[]){let n;switch(e){case"Browser":n=ic(zs());break;case"Worker":n=`${ic(zs())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Co}/${r}`}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(hR){r(hR)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(hR){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==hR?void 0:hR.message})}}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bc(this),this.idTokenSubscription=new bc(this),this.beforeStateQueue=new mc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ll,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zl(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await rc.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(hR){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e,!0)):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Ul(this,{idToken:e}),n=await Jl._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(fR){await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(xo(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null==r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null==a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(hR){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(hR))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return vl(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(hR){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Kl(e)}catch(hR){if("auth/network-request-failed"!==(null==hR?void 0:hR.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xo(this.app))return Promise.reject(pl(this));const t=e?sa(e):null;return t&&vl(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&vl(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xo(this.app)?Promise.reject(pl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xo(this.app)?Promise.reject(pl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zl(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return Al(e,"GET","/v2/passwordPolicy",Il(e,t))}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this),t=new gc(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gs("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Al(e,"POST","/v2/accounts:revokeToken",Il(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zl(e)||this._popupRedirectResolver;vl(t,this,"argument-error"),this.redirectPersistenceManager=await rc.create(this,[Zl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(vl(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"==typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return vl(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){cl.logLevel<=da.WARN&&cl.warn(`Auth (${Co}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function yc(e){return sa(e)}class bc{constructor(e){this.auth=e,this.observer=null,this.addObserver=na(e=>this.observer=e)}get next(){return vl(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xc(e){return wc.loadJS(e)}function Sc(e){return`__${e}${Math.floor(1e6*Math.random())}`}class kc{constructor(e){this.type="recaptcha-enterprise",this.auth=yc(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{(async function(e,t){return Al(e,"GET","/v2/recaptchaConfig",Il(e,t))})(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Fl(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})}function r(t,n,r){const i=window.grecaptcha;Ol(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&Ol(window.grecaptcha))r(n,e,i);else{if("undefined"==typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));let t=wc.recaptchaEnterpriseScript;0!==t.length&&(t+=n),xc(t).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function Ec(e,t,n,r=!1){const i=new kc(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Cc(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ec(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"===i.code){const i=await Ec(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(e,t,n){const r=yc(e);vl(r._canInitEmulator,r,"emulator-config-failed"),vl(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=_c(t),{host:a,port:o}=function(e){const t=_c(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ic(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ic(t)}}}(t),l=null===o?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&console.info;"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()}function _c(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ic(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ac{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return yl("not implemented")}_getIdTokenResponse(e){return yl("not implemented")}_linkToIdToken(e,t){return yl("not implemented")}_getReauthenticationResolver(e){return yl("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(e,t){return Al(e,"POST","/v1/accounts:resetPassword",Il(e,t))}async function Pc(e,t){return Al(e,"POST","/v1/accounts:signUp",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Rc(e,t){return Pl(e,"POST","/v1/accounts:signInWithPassword",Il(e,t))}async function Dc(e,t){return Al(e,"POST","/v1/accounts:sendOobCode",Il(e,t))}async function Mc(e,t){return Dc(e,t)}async function Lc(e,t){return Dc(e,t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class jc extends Ac{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new jc(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new jc(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Cc(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Rc);case"emailLink":
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return async function(e,t){return Pl(e,"POST","/v1/accounts:signInWithEmailLink",Il(e,t))}(e,{email:this._email,oobCode:this._password});default:dl(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Cc(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Pc);case"emailLink":return async function(e,t){return Pl(e,"POST","/v1/accounts:signInWithEmailLink",Il(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:dl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oc(e,t){return Pl(e,"POST","/v1/accounts:signInWithIdp",Il(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends Ac{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Fc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):dl("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Vr(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Fc(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Oc(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Oc(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Oc(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Zs(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc={USER_NOT_FOUND:"user-not-found"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class zc extends Ac{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new zc({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new zc({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Pl(e,"POST","/v1/accounts:signInWithPhoneNumber",Il(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Pl(e,"POST","/v1/accounts:signInWithPhoneNumber",Il(e,t));if(n.temporaryProof)throw Ll(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Pl(e,"POST","/v1/accounts:signInWithPhoneNumber",Il(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Uc)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new zc({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e){var t,n,r,i,s,a;const o=ea(ta(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);vl(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=ea(ta(e)).link,n=t?ea(ta(t)).deep_link_id:null,r=ea(ta(e)).deep_link_id;return(r?ea(ta(r)).link:null)||r||n||t||e}(e);try{return new Vc(t)}catch(pR){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(){this.providerId=Bc.PROVIDER_ID}static credential(e,t){return jc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Vc.parseLink(t);return vl(n,"argument-error"),jc._fromEmailAndCode(e,n.code,n.tenantId)}}Bc.PROVIDER_ID="password",Bc.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Bc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Hc{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends Hc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Wc extends $c{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return vl("providerId"in t&&"signInMethod"in t,"argument-error"),Fc._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return vl(e.idToken||e.accessToken,"argument-error"),Fc._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Wc.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Wc.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:a}=e;if(!(n||r||t||i))return null;if(!a)return null;try{return new Wc(a)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:i})}catch(hR){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends $c{constructor(){super("facebook.com")}static credential(e){return Fc._fromParams({providerId:qc.PROVIDER_ID,signInMethod:qc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qc.credentialFromTaggedObject(e)}static credentialFromError(e){return qc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return qc.credential(e.oauthAccessToken)}catch(pR){return null}}}qc.FACEBOOK_SIGN_IN_METHOD="facebook.com",qc.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Kc extends $c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Fc._fromParams({providerId:Kc.PROVIDER_ID,signInMethod:Kc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Kc.credentialFromTaggedObject(e)}static credentialFromError(e){return Kc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Kc.credential(t,n)}catch(pR){return null}}}Kc.GOOGLE_SIGN_IN_METHOD="google.com",Kc.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Gc extends $c{constructor(){super("github.com")}static credential(e){return Fc._fromParams({providerId:Gc.PROVIDER_ID,signInMethod:Gc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gc.credentialFromTaggedObject(e)}static credentialFromError(e){return Gc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Gc.credential(e.oauthAccessToken)}catch(pR){return null}}}Gc.GITHUB_SIGN_IN_METHOD="github.com",Gc.PROVIDER_ID="github.com";class Yc extends Ac{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Oc(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Oc(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Oc(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Yc(n,i):null}static _create(e,t){return new Yc(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc extends Hc{constructor(e){vl(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Qc.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Qc.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Yc.fromJSON(e);return vl(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return Yc._create(n,t)}catch(hR){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends $c{constructor(){super("twitter.com")}static credential(e,t){return Fc._fromParams({providerId:Jc.PROVIDER_ID,signInMethod:Jc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Jc.credentialFromTaggedObject(e)}static credentialFromError(e){return Jc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Jc.credential(t,n)}catch(pR){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Xc(e,t){return Pl(e,"POST","/v1/accounts:signUp",Il(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jc.TWITTER_SIGN_IN_METHOD="twitter.com",Jc.PROVIDER_ID="twitter.com";class Zc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await Jl._fromIdTokenResponse(e,n,r),s=eu(n);return new Zc({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=eu(n);return new Zc({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function eu(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class tu extends Ks{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,tu.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new tu(e,t,n,r)}}function nu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw tu._fromErrorAndOperation(e,n,t,r);throw n})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(e,t){const n=sa(e);await au(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Al(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=ru(r||[]);return n.providerData=n.providerData.filter(e=>i.has(e.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function su(e,t,n=!1){const r=await $l(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Zc._forOperation(e,"link",r)}async function au(e,t,n){await Kl(t);const r=!1===e?"provider-already-linked":"no-such-provider";vl(ru(t.providerData).has(n)===e,t.auth,r)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(e,t,n=!1){const{auth:r}=e;if(xo(r.app))return Promise.reject(pl(r));const i="reauthenticate";try{const s=await $l(e,nu(r,i,t,e),n);vl(s.idToken,r,"internal-error");const a=Bl(s.idToken);vl(a,r,"internal-error");const{sub:o}=a;return vl(e.uid===o,r,"user-mismatch"),Zc._forOperation(e,i,s)}catch(hR){throw"auth/user-not-found"===(null==hR?void 0:hR.code)&&dl(r,"user-mismatch"),hR}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(e,t,n=!1){if(xo(e.app))return Promise.reject(pl(e));const r="signIn",i=await nu(e,r,t),s=await Zc._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function cu(e,t){return lu(yc(e),t)}async function uu(e,t){const n=sa(e);return await au(!1,n,t.providerId),su(n,t)}async function du(e,t){return ou(sa(e),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function hu(e,t){if(xo(e.app))return Promise.reject(pl(e));const n=yc(e),r=await async function(e,t){return Pl(e,"POST","/v1/accounts:signInWithCustomToken",Il(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Zc._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?pu._fromServerResponse(e,t):"totpInfo"in t?mu._fromServerResponse(e,t):dl(e,"internal-error")}}class pu extends fu{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new pu(t)}}class mu extends fu{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new mu(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(e,t,n){var r;vl((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),vl(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(vl(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(vl(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vu(e){const t=yc(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function yu(e,t){await async function(e,t){return Al(e,"POST","/v1/accounts:update",Il(e,t))}(sa(e),{oobCode:t})}async function bu(e,t){const n=sa(e),r=await Nc(n,{oobCode:t}),i=r.requestType;switch(vl(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":vl(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":vl(r.mfaInfo,n,"internal-error");default:vl(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=fu._fromServerResponse(yc(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function wu(e,t){const n={identifier:t,continueUri:xl()?wl():"http://localhost"},{signinMethods:r}=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */await async function(e,t){return Al(e,"POST","/v1/accounts:createAuthUri",Il(e,t))}(sa(e),n);return r||[]}async function xu(e,t){const n=sa(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&gu(n.auth,r,t);const{email:i}=await async function(e,t){return Dc(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Su(e,t,n){const r=sa(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&gu(r.auth,i,n);const{email:s}=await async function(e,t){return Dc(e,t)}(r.auth,i);s!==e.email&&await e.reload()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function ku(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=sa(e),i={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},s=await $l(r,async function(e,t){return Al(e,"POST","/v1/accounts:update",t)}(r.auth,i));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}async function Eu(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await $l(e,async function(e,t){return Al(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class Tu extends Cu{constructor(e,t,n,r){super(e,t,n),this.username=r}}class _u extends Cu{constructor(e,t){super(e,"facebook.com",t)}}class Iu extends Tu{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class Au extends Cu{constructor(e,t){super(e,"google.com",t)}}class Nu extends Tu{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Pu(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=Bl(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Cu(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new _u(s,i);case"github.com":return new Iu(s,i);case"google.com":return new Au(s,i);case"twitter.com":return new Nu(s,i,e.screenName||null);case"custom":case"anonymous":return new Cu(s,null);default:return new Cu(s,r,i)}}(n)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ru{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new Ru("enroll",e,t)}static _fromMfaPendingCredential(e){return new Ru("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Ru._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Ru._fromIdtoken(e.multiFactorSession.idToken)}return null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=yc(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map(e=>fu._fromServerResponse(n,e));vl(r.mfaPendingCredential,n,"internal-error");const s=Ru._fromMfaPendingCredential(r.mfaPendingCredential);return new Du(s,i,async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const a=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Zc._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return vl(t.user,n,"internal-error"),Zc._forOperation(t.user,t.operationType,a);default:dl(n,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Mu{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>fu._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new Mu(e)}async getSession(){return Ru._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await $l(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"==typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await $l(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},Al(r,"POST","/v2/accounts/mfaEnrollment:withdraw",Il(r,i))));this.enrolledFactors=this.enrolledFactors.filter(({uid:e})=>e!==t),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(hR){throw hR}var r,i}}const Lu=new WeakMap;const ju="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ju,"1"),this.storage.removeItem(ju),Promise.resolve(!0)):Promise.resolve(!1)}catch(pR){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends Ou{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fc(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Ws()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Fu.type="LOCAL";const Uu=Fu;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends Ou{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}zu.type="SESSION";const Vu=zu;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Bu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Bu(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null==s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Hu(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bu.receivers=[];class $u{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=Hu("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(){return window}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function qu(){return void 0!==Wu().WorkerGlobalScope&&"function"==typeof Wu().importScripts}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ku="firebaseLocalStorageDb",Gu="firebaseLocalStorage",Yu="fbase_key";class Qu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ju(e,t){return e.transaction([Gu],t?"readwrite":"readonly").objectStore(Gu)}function Xu(){const e=indexedDB.open(Ku,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Gu,{keyPath:Yu})}catch(hR){n(hR)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Gu)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ku);return new Qu(e).toPromise()}(),t(await Xu()))})})}async function Zu(e,t,n){const r=Ju(e,!0).put({[Yu]:t,value:n});return new Qu(r).toPromise()}function ed(e,t){const n=Ju(e,!0).delete(t);return new Qu(n).toPromise()}class td{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Xu()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(hR){if(t++>3)throw hR;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qu()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bu._getInstance(qu()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new $u(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xu();return await Zu(e,ju,"1"),await ed(e,ju),!0}catch(pR){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Zu(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Ju(e,!1).get(t),r=await new Qu(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ed(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Ju(e,!1).getAll();return new Qu(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}td.type="LOCAL";const nd=td;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const rd=1e12;class id{constructor(e){this.auth=e,this.counter=rd,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new sd(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||rd;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||rd;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||rd;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class sd{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;vl(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(hR){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(hR){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ad=Sc("rcb"),od=new kl(3e4,6e4);class ld{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Wu().grecaptcha)||void 0===e?void 0:e.render)}load(e,t=""){return vl(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&jl(Wu().grecaptcha)?Promise.resolve(Wu().grecaptcha):new Promise((n,r)=>{const i=Wu().setTimeout(()=>{r(hl(e,"network-request-failed"))},od.get());Wu()[ad]=()=>{Wu().clearTimeout(i),delete Wu()[ad];const s=Wu().grecaptcha;if(!s||!jl(s))return void r(hl(e,"internal-error"));const a=s.render;s.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};xc(`${wc.recaptchaV2Script}?${Zs({onload:ad,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(i),r(hl(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Wu().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class cd{async load(e){return new id(e)}clearedOneInstance(){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud="recaptcha",dd={theme:"light",type:"image"};let hd=class{constructor(e,t,n=Object.assign({},dd)){this.parameters=n,this.type=ud,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yc(e),this.isInvisible="invisible"===this.parameters.size,vl("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof t?document.getElementById(t):t;vl(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new cd:new ld,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise(n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(hR){return Promise.reject(hR)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){vl(!this.parameters.sitekey,this.auth,"argument-error"),vl(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),vl("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=Wu()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){vl(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){vl(xl()&&!qu(),this.auth,"internal-error"),await function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Al(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);vl(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return vl(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};class fd{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=zc._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function pd(e,t,n){var r;const i=await n.verify();try{let s;if(vl("string"==typeof i,e,"argument-error"),vl(n.type===ud,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){vl("enroll"===t.type,e,"internal-error");const n=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */await function(e,t){return Al(e,"POST","/v2/accounts/mfaEnrollment:start",Il(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{vl("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;vl(n,e,"missing-multi-factor-info");const a=await function(e,t){return Al(e,"POST","/v2/accounts/mfaSignIn:start",Il(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Al(e,"POST","/v1/accounts:sendVerificationCode",Il(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let md=class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=yc(t)}verifyPhoneNumber(e,t){return pd(this.auth,e,sa(t))}static credential(e,t){return zc._fromVerification(e,t)}static credentialFromResult(t){const n=t;return e.credentialFromTaggedObject(n)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?zc._fromTokenResponse(t,n):null}};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function gd(e,t){return t?Zl(t):(vl(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */md.PROVIDER_ID="phone",md.PHONE_SIGN_IN_METHOD="phone";class vd extends Ac{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Oc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Oc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function yd(e){return lu(e.auth,new vd(e),e.bypassAuthState)}function bd(e){const{auth:t,user:n}=e;return vl(n,t,"internal-error"),ou(n,new vd(e),e.bypassAuthState)}async function wd(e){const{auth:t,user:n}=e;return vl(n,t,"internal-error"),su(n,new vd(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(hR){this.reject(hR)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(hR){this.reject(hR)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yd;case"linkViaPopup":case"linkViaRedirect":return wd;case"reauthViaPopup":case"reauthViaRedirect":return bd;default:dl(this.auth,"internal-error")}}resolve(e){bl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=new kl(2e3,1e4);class kd extends xd{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,kd.currentPopupAction&&kd.currentPopupAction.cancel(),kd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return vl(e,this.auth,"internal-error"),e}async onExecution(){bl(1===this.filter.length,"Popup operations only handle one event");const e=Hu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(hl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(hl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hl(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Sd.get())};e()}}kd.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ed=new Map;class Cd extends xd{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Ed.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ad(t),r=Id(e);if(!(await r._isAvailable()))return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(hR){e=()=>Promise.reject(hR)}Ed.set(this.auth._key(),e)}return this.bypassAuthState||Ed.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Td(e,t){return Id(e)._set(Ad(t),"true")}function _d(e,t){Ed.set(e._key(),t)}function Id(e){return Zl(e._redirectPersistence)}function Ad(e){return nc("pendingRedirect",e.config.apiKey,e.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(e,t,n){return async function(e,t,n){if(xo(e.app))return Promise.reject(pl(e));const r=yc(e);ml(e,t,Hc),await r._initializationPromise;const i=gd(r,n);return await Td(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function Pd(e,t,n){return async function(e,t,n){const r=sa(e);if(ml(r.auth,t,Hc),xo(r.auth.app))return Promise.reject(pl(r.auth));await r.auth._initializationPromise;const i=gd(r.auth,n);await Td(i,r.auth);const s=await Md(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function Rd(e,t,n){return async function(e,t,n){const r=sa(e);ml(r.auth,t,Hc),await r.auth._initializationPromise;const i=gd(r.auth,n);await au(!1,r,t.providerId),await Td(i,r.auth);const s=await Md(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function Dd(e,t,n=!1){if(xo(e.app))return Promise.reject(pl(e));const r=yc(e),i=gd(r,t),s=new Cd(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}async function Md(e){const t=Hu(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Od(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Od(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(hl(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jd(e))}saveEventToCache(e){this.cachedEventUids.add(jd(e)),this.lastProcessedEventTime=Date.now()}}function jd(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Od({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}async function Fd(e,t={}){return Al(e,"GET","/v1/projects",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zd=/^https?/;function Vd(e){const t=wl(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!zd.test(n))return!1;if(Ud.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd=new kl(3e4,6e4);function Hd(){const e=Wu().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function $d(e){return new Promise((t,n)=>{var r,i,s;function a(){Hd(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Hd(),n(hl(e,"network-request-failed"))},timeout:Bd.get()})}if(null===(i=null===(r=Wu().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Wu().gapi)||void 0===s?void 0:s.load)){const t=Sc("iframefcb");return Wu()[t]=()=>{gapi.load?a():n(hl(e,"network-request-failed"))},xc(`${wc.gapiScript}?onload=${t}`).catch(e=>n(e))}a()}}).catch(e=>{throw Wd=null,e})}let Wd=null;
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const qd=new kl(5e3,15e3),Kd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yd(e){const t=e.config;vl(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?El(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Co},i=Gd.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Zs(r).slice(1)}`}async function Qd(e){const t=await function(e){return Wd=Wd||$d(e),Wd}(e),n=Wu().gapi;return vl(n,e,"internal-error"),t.open({where:document.body,url:Yd(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kd,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=hl(e,"network-request-failed"),s=Wu().setTimeout(()=>{r(i)},qd.get());function a(){Wu().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Xd{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(hR){}}}function Zd(e,t,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Jd),{width:r.toString(),height:i.toString(),top:s,left:a}),c=zs().toLowerCase();n&&(o=oc(c)?"_blank":n),sc(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=zs()){var t;return hc(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t||"",o),new Xd(null);const d=window.open(t||"",o,u);vl(d,e,"popup-blocked");try{d.focus()}catch(hR){}return new Xd(d)}const eh="__/auth/handler",th="emulator/auth/handler",nh=encodeURIComponent("fac");async function rh(e,t,n,r,i,s){vl(e.config.authDomain,e,"auth-domain-config-required"),vl(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Co,eventId:i};if(t instanceof Hc){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof $c){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${nh}=${encodeURIComponent(l)}`:"";return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${eh}`;return El(e,th)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)}?${Zs(o).slice(1)}${c}`}const ih="webStorageSupport";const sh=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vu,this._completeRedirectFn=Dd,this._overrideRedirectResult=_d}async _openPopup(e,t,n,r){var i;bl(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Zd(e,await rh(e,t,n,wl(),r),Hu())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Wu().location.href=e}(await rh(e,t,n,wl(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(bl(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Qd(e),n=new Ld(e);return t.register("authEvent",t=>{vl(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ih,{type:ih},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[ih];void 0!==i&&t(!!i),dl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Fd(e);for(const n of t)try{if(Vd(n))return}catch(pR){}dl(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return fc()||ac()||hc()}};class ah{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return yl("unexpected MultiFactorSessionType")}}}class oh extends ah{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new oh(e)}_finalizeEnroll(e,t,n){return function(e,t){return Al(e,"POST","/v2/accounts/mfaEnrollment:finalize",Il(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Al(e,"POST","/v2/accounts/mfaSignIn:finalize",Il(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class lh{constructor(){}static assertion(e){return oh._fromCredential(e)}}lh.FACTOR_ID="phone";var ch="@firebase/auth",uh="1.7.9";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class dh{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){vl(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const hh=Fs("authIdTokenMaxAge")||300;let fh=null;var ph;
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function mh(){return window}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wc={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");var i,s;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=hl("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(s=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==s?s:document).appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},ph="Browser",yo(new aa("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=n.options;vl(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const o={apiKey:s,authDomain:a,clientPlatform:ph,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pc(ph)},l=new vc(n,r,i,o);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zl);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),yo(new aa("auth-internal",e=>{const t=yc(e.getProvider("auth").getImmediate());return new dh(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ao(ch,uh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(ph)),Ao(ch,uh,"esm2017");async function gh(e,t,n){var r;const{BuildInfo:i}=mh();bl(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(bl(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")}(t.sessionId),a={};return hc()?a.ibi=i.packageName:cc()?a.apn=i.packageName:dl(e,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=s,rh(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,a)}function vh(e){const{cordova:t}=mh();return new Promise(n=>{t.plugins.browsertab.isAvailable(r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=zs()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}class yh extends Ld{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}async function bh(e){const t=await Sh()._get(kh(e));return t&&await Sh()._remove(kh(e)),t}function wh(e,t){var n,r;const i=function(e){const t=Eh(e),n=t.link?decodeURIComponent(t.link):void 0,r=Eh(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Eh(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Eh(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(hR){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(r=null===(n=null==s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],o=a?hl(a):null;return o?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:o,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function xh(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function Sh(){return Zl(Uu)}function kh(e){return nc("authEvent",e.config.apiKey,e.name)}function Eh(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return ea(n.join("?"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=class{constructor(){this._redirectPersistence=Vu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Dd,this._overrideRedirectResult=_d}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new yh(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){dl(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,a,o,l,c,u;const d=mh();vl("function"==typeof(null===(t=null==d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),vl(void 0!==(null===(n=null==d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),vl("function"==typeof(null===(s=null===(i=null===(r=null==d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),vl("function"==typeof(null===(l=null===(o=null===(a=null==d?void 0:d.cordova)||void 0===a?void 0:a.plugins)||void 0===o?void 0:o.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),vl("function"==typeof(null===(u=null===(c=null==d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Ed.clear(),await this._originValidation(e);const s=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:xh(),postBody:null,tenantId:e.tenantId,error:hl(e,"no-auth-event")}}(e,n,r);await function(e,t){return Sh()._set(kh(e),t)}(e,s);const a=await gh(e,s,t);return async function(e,t,n){const{cordova:r}=mh();let i=()=>{};try{await new Promise((s,a)=>{let o=null;function l(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function c(){o||(o=window.setTimeout(()=>{a(hl(e,"redirect-cancelled-by-user"))},2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),cc()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),o&&window.clearTimeout(o)}})}finally{i()}}(e,i,await vh(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=mh(),n={};hc()?n.iosBundleId=t.packageName:cc()?n.androidPackageName=t.packageName:dl(e,"operation-not-supported-in-this-environment"),await Fd(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=mh(),s=setTimeout(async()=>{await bh(e),t.onEvent(Th())},500),a=async n=>{clearTimeout(s);const r=await bh(e);let i=null;r&&(null==n?void 0:n.url)&&(i=wh(r,n.url)),t.onEvent(i||Th())};void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,a);const o=r,l=`${i.packageName.toLowerCase()}://`;mh().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&a({url:e}),"function"==typeof o)try{o(e)}catch(hR){}}}};function Th(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:hl("no-auth-event")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Ih(e=zs()){return!("file:"!==_h()&&"ionic:"!==_h()&&"capacitor:"!==_h()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ah(e=zs()){return Ws()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=zs()){return/Edge\/\d+/.test(e)}(e)}function Nh(){try{const e=self.localStorage,t=Hu();if(e)return e.setItem(t,"1"),e.removeItem(t),!Ah()||qs()}catch(hR){return Ph()&&qs()}return!1}function Ph(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Rh(){return("http:"===_h()||"https:"===_h()||Hs()||Ih())&&!($s()||Vs())&&Nh()&&!Ph()}function Dh(){return Ih()&&"undefined"!=typeof document}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Mh={LOCAL:"local",NONE:"none",SESSION:"session"},Lh=vl,jh="persistence";async function Oh(e){await e._initializationPromise;const t=Fh(),n=nc(jh,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Fh(){var e;try{return(null===(e="undefined"!=typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(hR){return null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=vl;class zh{constructor(){this.browserResolver=Zl(sh),this.cordovaResolver=Zl(Ch),this.underlyingResolver=null,this._redirectPersistence=Vu,this._completeRedirectFn=Dd,this._overrideRedirectResult=_d}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Dh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Uh(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Dh()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(e){return e.unwrap()}function Bh(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null==t?void 0:t.code)){t.resolver=new qh(e,function(e,t){var n;const r=sa(e),i=t;return vl(t.customData.operationType,r,"argument-error"),vl(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Du._fromError(r,i)}(e,t))}else if(r){const e=Hh(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Hh(e){const{_tokenResponse:t}=e instanceof Ks?e.customData:e;if(!t)return null;if(!(e instanceof Ks)&&"temporaryProof"in t&&"phoneNumber"in t)return md.credentialFromResult(e);const n=t.providerId;if(!n||n===Jo)return null;let r;switch(n){case Qo:r=Kc;break;case Go:r=qc;break;case Yo:r=Gc;break;case Xo:r=Jc;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:a,nonce:o}=t;return i||s||e||a?a?n.startsWith("saml.")?Yc._create(n,a):Fc._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:i}):new Wc(n).credential({idToken:e,accessToken:i,rawNonce:o}):null}return e instanceof Ks?r.credentialFromError(e):r.credentialFromResult(e)}function $h(e,t){return t.catch(t=>{throw t instanceof Ks&&Bh(e,t),t}).then(e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,Hh(r)),additionalUserInfo:Pu(e),user:Kh.getOrCreate(n)};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var r})}async function Wh(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>$h(e,n.confirm(t))}}class qh{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return $h(Vh(this.auth),this.resolver.resolveSignIn(e))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh=class e{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=sa(e);return Lu.has(t)||Lu.set(t,Mu._fromUser(t)),Lu.get(t)}(e)}static getOrCreate(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return $h(this.auth,uu(this._delegate,e))}async linkWithPhoneNumber(e,t){return Wh(this.auth,async function(e,t,n){const r=sa(e);await au(!1,r,"phone");const i=await pd(r.auth,t,sa(n));return new fd(i,e=>uu(r,e))}(this._delegate,e,t))}async linkWithPopup(e){return $h(this.auth,async function(e,t,n){const r=sa(e);ml(r.auth,t,Hc);const i=gd(r.auth,n);return new kd(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,zh))}async linkWithRedirect(e){return await Oh(yc(this.auth)),Rd(this._delegate,e,zh)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return $h(this.auth,du(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Wh(this.auth,async function(e,t,n){const r=sa(e);if(xo(r.auth.app))return Promise.reject(pl(r.auth));const i=await pd(r.auth,t,sa(n));return new fd(i,e=>du(r,e))}(this._delegate,e,t))}reauthenticateWithPopup(e){return $h(this.auth,async function(e,t,n){const r=sa(e);if(xo(r.auth.app))return Promise.reject(hl(r.auth,"operation-not-supported-in-this-environment"));ml(r.auth,t,Hc);const i=gd(r.auth,n);return new kd(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,zh))}async reauthenticateWithRedirect(e){return await Oh(yc(this.auth)),Pd(this._delegate,e,zh)}sendEmailVerification(e){return xu(this._delegate,e)}async unlink(e){return await iu(this._delegate,e),this}updateEmail(e){return function(e,t){const n=sa(e);return xo(n.auth.app)?Promise.reject(pl(n.auth)):Eu(n,t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Eu(sa(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){const n=sa(e);if(xo(n.auth.app))return Promise.reject(pl(n.auth));await su(n,t)}(this._delegate,e)}updateProfile(e){return ku(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Su(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Kh.USER_MAP=new WeakMap;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Gh=vl;class Yh{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Gh(n,"invalid-api-key",{appName:e.name}),Gh(n,"invalid-api-key",{appName:e.name});const r="undefined"!=typeof window?zh:void 0;this._delegate=t.initialize({options:{persistence:Jh(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(al),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Kh.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Tc(this._delegate,e,t)}applyActionCode(e){return yu(this._delegate,e)}checkActionCode(e){return bu(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Nc(sa(e),{oobCode:t,newPassword:n}).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&vu(e),t})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return $h(this._delegate,async function(e,t,n){if(xo(e.app))return Promise.reject(pl(e));const r=yc(e),i=Cc(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xc),s=await i.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&vu(e),t}),a=await Zc._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return wu(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Vc.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){Gh(Rh(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await yc(e)._initializationPromise,Dd(e,t,!1)}(this._delegate,zh);return e?$h(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){yc(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=Qh(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=Qh(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return async function(e,t,n){const r=yc(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};var s,a;s=i,vl((a=n).handleCodeInApp,r,"argument-error"),a&&gu(r,s,a),await Cc(r,i,"getOobCode",Lc)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=yc(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&gu(r,i,n),await Cc(r,i,"getOobCode",Mc)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Lh(Object.values(Mh).includes(t),e,"invalid-persistence-type"),$s()?Lh(t!==Mh.SESSION,e,"unsupported-persistence-type"):Vs()?Lh(t===Mh.NONE,e,"unsupported-persistence-type"):Ph()?Lh(t===Mh.NONE||t===Mh.LOCAL&&qs(),e,"unsupported-persistence-type"):Lh(t===Mh.NONE||Nh(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Mh.SESSION:t=Vu;break;case Mh.LOCAL:t=await Zl(nd)._isAvailable()?nd:Uu;break;case Mh.NONE:t=tc;break;default:return dl("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return $h(this._delegate,async function(e){var t;if(xo(e.app))return Promise.reject(pl(e));const n=yc(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Zc({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Xc(n,{returnSecureToken:!0}),i=await Zc._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return $h(this._delegate,cu(this._delegate,e))}signInWithCustomToken(e){return $h(this._delegate,hu(this._delegate,e))}signInWithEmailAndPassword(e,t){return $h(this._delegate,function(e,t,n){return xo(e.app)?Promise.reject(pl(e)):cu(sa(e),Bc.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&vu(e),t})}(this._delegate,e,t))}signInWithEmailLink(e,t){return $h(this._delegate,async function(e,t,n){if(xo(e.app))return Promise.reject(pl(e));const r=sa(e),i=Bc.credentialWithLink(t,n||wl());return vl(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),cu(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Wh(this._delegate,async function(e,t,n){if(xo(e.app))return Promise.reject(pl(e));const r=yc(e),i=await pd(r,t,sa(n));return new fd(i,e=>cu(r,e))}(this._delegate,e,t))}async signInWithPopup(e){return Gh(Rh(),this._delegate,"operation-not-supported-in-this-environment"),$h(this._delegate,async function(e,t,n){if(xo(e.app))return Promise.reject(hl(e,"operation-not-supported-in-this-environment"));const r=yc(e);ml(e,t,Hc);const i=gd(r,n);return new kd(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,zh))}async signInWithRedirect(e){return Gh(Rh(),this._delegate,"operation-not-supported-in-this-environment"),await Oh(this._delegate),Nd(this._delegate,e,zh)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await bu(sa(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Qh(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Kh.getOrCreate(e)),error:t,complete:n}}function Jh(e,t){const n=function(e,t){const n=Fh();if(!n)return[];const r=nc(jh,e,t);switch(n.getItem(r)){case Mh.NONE:return[tc];case Mh.LOCAL:return[nd,Vu];case Mh.SESSION:return[Vu];default:return[]}}(e,t);if("undefined"==typeof self||n.includes(nd)||n.push(nd),"undefined"!=typeof window)for(const r of[Uu,Vu])n.includes(r)||n.push(r);return n.includes(tc)||n.push(tc),n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yh.Persistence=Mh;class Xh{constructor(){this.providerId="phone",this._delegate=new md(Vh(Ko.auth()))}static credential(e,t){return md.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Xh.PHONE_SIGN_IN_METHOD=md.PHONE_SIGN_IN_METHOD,Xh.PROVIDER_ID=md.PROVIDER_ID;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Zh=vl;class ef{constructor(e,t,n=Ko.app()){var r;Zh(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new hd(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tf;(tf=Ko).INTERNAL.registerComponent(new aa("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Yh(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Zo,PASSWORD_RESET:el,RECOVER_EMAIL:tl,REVERT_SECOND_FACTOR_ADDITION:nl,VERIFY_AND_CHANGE_EMAIL:rl,VERIFY_EMAIL:il}},EmailAuthProvider:Bc,FacebookAuthProvider:qc,GithubAuthProvider:Gc,GoogleAuthProvider:Kc,OAuthProvider:Wc,SAMLAuthProvider:Qc,PhoneAuthProvider:Xh,PhoneMultiFactorGenerator:lh,RecaptchaVerifier:ef,TwitterAuthProvider:Jc,Auth:Yh,AuthCredential:Ac,Error:Ks}).setInstantiationMode("LAZY").setMultipleInstances(!1)),tf.registerVersion("@firebase/auth-compat","0.5.14");var nf,rf,sf={exports:{}};const af=t((nf||(nf=1,rf=sf,function(){var e=window.CustomEvent;function t(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function n(e){e&&e.blur&&e!==document.body&&e.blur()}function r(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1}function i(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function s(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window)new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]});else{var t,n=!1,r=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),i=function(i){if(i.target===e){var s="DOMNodeRemoved";n|=i.type.substr(0,14)===s,window.clearTimeout(t),t=window.setTimeout(r,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(t){e.addEventListener(t,i)})}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}e&&"object"!=typeof e||((e=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),n}).prototype=window.Event.prototype),s.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),a.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var n=document.createEvent("MouseEvents");n.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(n),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),!e){var t=["button","input","keygen","select","textarea"].map(function(e){return e+":not([disabled])"});t.push('[tabindex]:not([disabled]):not([tabindex=""])'),e=this.dialog_.querySelector(t.join(", "))}n(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!a.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");!function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),n=function(e,n){return!(void 0===t[e]||t[e]===n)};if(t.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}}(this.dialog_.parentElement),this.setOpen(!0),this.openAsModal_=!0,a.needsCentering(this.dialog_)?(a.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(t){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==t&&(this.dialog_.returnValue=t);var n=new e("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(n)}};var a={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,n=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,n)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var n=document.styleSheets[t],i=null;try{i=n.cssRules}catch(hR){}if(i)for(var s=0;s<i.length;++s){var a=i[s],o=null;try{o=document.querySelectorAll(a.selectorText)}catch(hR){}if(o&&r(o,e)){var l=a.style.getPropertyValue("top"),c=a.style.getPropertyValue("bottom");if(l&&"auto"!==l||c&&"auto"!==c)return!0}}}return!1},needsCentering:function(e){return!("absolute"!==window.getComputedStyle(e).position||"auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom||a.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if(window.HTMLDialogElement||e.showModal,"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new s(e)},registerDialog:function(e){e.showModal||a.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(t){var n=[];t.forEach(function(e){for(var t,r=0;t=e.removedNodes[r];++r)t instanceof Element&&("dialog"===t.localName&&n.push(t),n=n.concat(t.querySelectorAll("dialog")))}),n.length&&e(n)}))}};if(a.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},a.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},a.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,n=0;e=this.pendingDialogStack[n];++n)e.updateZIndex(--t,--t),0===n&&(this.overlay.style.zIndex=--t);var r=this.pendingDialogStack[0];r?(r.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},a.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=t(e);){for(var n,r=0;n=this.pendingDialogStack[r];++r)if(n.dialog===e)return 0===r;e=e.parentElement}return!1},a.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&(e.preventDefault(),e.stopPropagation(),n(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():document.documentElement.focus()),!1}},a.DialogManager.prototype.handleKey_=function(t){if(this.forwardTab_=void 0,27===t.keyCode){t.preventDefault(),t.stopPropagation();var n=new e("cancel",{bubbles:!1,cancelable:!0}),r=this.pendingDialogStack[0];r&&r.dialog.dispatchEvent(n)&&r.dialog.close()}else 9===t.keyCode&&(this.forwardTab_=!t.shiftKey)},a.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach(function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()})},a.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t||(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),0))},a.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},a.dm=new a.DialogManager,a.formSubmitter=null,a.useValue=null,void 0===window.HTMLDialogElement){var o=document.createElement("form");if(o.setAttribute("method","dialog"),"dialog"!==o.method){var l=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(l){var c=l.get;l.get=function(){return i(this)?"dialog":c.call(this)};var u=l.set;l.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):u.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",l)}}document.addEventListener("click",function(e){if(a.formSubmitter=null,a.useValue=null,!e.defaultPrevented){var n=e.target;if(n&&i(n.form)){if(!("submit"===n.type&&["button","input"].indexOf(n.localName)>-1)){if("input"!==n.localName||"image"!==n.type)return;a.useValue=e.offsetX+","+e.offsetY}t(n)&&(a.formSubmitter=n)}}},!1);var d=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!i(this))return d.call(this);var e=t(this);e&&e.close()},document.addEventListener("submit",function(e){var n=e.target;if(i(n)){e.preventDefault();var r=t(n);if(r){var s=a.formSubmitter;s&&s.form===n?r.close(a.useValue||s.value):r.close(),a.formSubmitter=null}}},!0)}a.forceRegisterDialog=a.forceRegisterDialog,a.registerDialog=a.registerDialog,"object"==typeof rf.exports?rf.exports=a:window.dialogPolyfill=a}()),sf.exports));var of,lf={};
/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(){if(of)return lf;of=1;var e={upgradeDom:function(e,t){},upgradeElement:function(e,t){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,t){},register:function(e){},downgradeElements:function(e){}};e=function(){var e=[],t=[],n="mdlComponentConfigInternal_";function r(t,n){for(var r=0;r<e.length;r++)if(e[r].className===t)return void 0!==n&&(e[r]=n),e[r];return!1}function i(e){var t=e.getAttribute("data-upgraded");return null===t?[""]:t.split(",")}function s(e,t){return-1!==i(e).indexOf(t)}function a(e,t,n){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(e,{bubbles:t,cancelable:n});var r=document.createEvent("Events");return r.initEvent(e,t,n),r}function o(t,n){if(void 0===t&&void 0===n)for(var i=0;i<e.length;i++)o(e[i].className,e[i].cssClass);else{var s=t;if(void 0===n){var a=r(s);a&&(n=a.cssClass)}for(var c=document.querySelectorAll("."+n),u=0;u<c.length;u++)l(c[u],s)}}function l(o,l){if(!("object"==typeof o&&o instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var c=a("mdl-componentupgrading",!0,!0);if(o.dispatchEvent(c),!c.defaultPrevented){var u=i(o),d=[];if(l)s(o,l)||d.push(r(l));else{var h=o.classList;e.forEach(function(e){h.contains(e.cssClass)&&-1===d.indexOf(e)&&!s(o,e.className)&&d.push(e)})}for(var f,p=0,m=d.length;p<m;p++){if(!(f=d[p]))throw new Error("Unable to find a registered component for the given class.");u.push(f.className),o.setAttribute("data-upgraded",u.join(","));var g=new f.classConstructor(o);g[n]=f,t.push(g);for(var v=0,y=f.callbacks.length;v<y;v++)f.callbacks[v](o);f.widget&&(o[f.className]=g);var b=a("mdl-componentupgraded",!0,!1);o.dispatchEvent(b)}}}function c(e){if(e){var r=t.indexOf(e);t.splice(r,1);var i=e.element_.getAttribute("data-upgraded").split(","),s=i.indexOf(e[n].classAsString);i.splice(s,1),e.element_.setAttribute("data-upgraded",i.join(","));var o=a("mdl-componentdowngraded",!0,!1);e.element_.dispatchEvent(o)}}return{upgradeDom:o,upgradeElement:l,upgradeElements:function e(t){Array.isArray(t)||(t=t instanceof Element?[t]:Array.prototype.slice.call(t));for(var n,r=0,i=t.length;r<i;r++)(n=t[r])instanceof HTMLElement&&(l(n),n.children.length>0&&e(n.children))},upgradeAllRegistered:function(){for(var t=0;t<e.length;t++)o(e[t].className)},registerUpgradedCallback:function(e,t){var n=r(e);n&&n.callbacks.push(t)},register:function(t){var i=!0;void 0===t.widget&&void 0===t.widget||(i=t.widget||t.widget);var s={classConstructor:t.constructor||t.constructor,className:t.classAsString||t.classAsString,cssClass:t.cssClass||t.cssClass,widget:i,callbacks:[]};if(e.forEach(function(e){if(e.cssClass===s.cssClass)throw new Error("The provided cssClass has already been registered: "+e.cssClass);if(e.className===s.className)throw new Error("The provided className has already been registered")}),t.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");r(t.classAsString,s)||e.push(s)},downgradeElements:function(e){var n=function(e){t.filter(function(t){return t.element_===e}).forEach(c)};if(e instanceof Array||e instanceof NodeList)for(var r=0;r<e.length;r++)n(e[r]);else{if(!(e instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");n(e)}}}}(),e.ComponentConfigPublic,e.ComponentConfig,e.Component,e.upgradeDom=e.upgradeDom,e.upgradeElement=e.upgradeElement,e.upgradeElements=e.upgradeElements,e.upgradeAllRegistered=e.upgradeAllRegistered,e.registerUpgradedCallback=e.registerUpgradedCallback,e.register=e.register,e.downgradeElements=e.downgradeElements,window.componentHandler=e,window.componentHandler=e,window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),e.upgradeAllRegistered()):(e.upgradeElement=function(){},e.register=function(){})})}();var cf,uf;
/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cf||(cf=1,uf=function(e){this.element_=e,this.init()},window.MaterialButton=uf,uf.prototype.Constant_={},uf.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},uf.prototype.blurHandler_=function(e){e&&this.element_.blur()},uf.prototype.disable=function(){this.element_.disabled=!0},uf.prototype.disable=uf.prototype.disable,uf.prototype.enable=function(){this.element_.disabled=!1},uf.prototype.enable=uf.prototype.enable,uf.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:uf,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0}));var df,hf;
/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */df||(df=1,hf=function(e){this.element_=e,this.init()},window.MaterialProgress=hf,hf.prototype.Constant_={},hf.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},hf.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},hf.prototype.setProgress=hf.prototype.setProgress,hf.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},hf.prototype.setBuffer=hf.prototype.setBuffer,hf.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,(e=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,(e=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:hf,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0}));var ff,pf;
/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ff||(ff=1,pf=function(e){this.element_=e,this.init()},window.MaterialSpinner=pf,pf.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},pf.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},pf.prototype.createLayer=function(e){var t=document.createElement("div");t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var s=[n,r,i],a=0;a<s.length;a++){var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),s[a].appendChild(o)}t.appendChild(n),t.appendChild(r),t.appendChild(i),this.element_.appendChild(t)},pf.prototype.createLayer=pf.prototype.createLayer,pf.prototype.stop=function(){this.element_.classList.remove("is-active")},pf.prototype.stop=pf.prototype.stop,pf.prototype.start=function(){this.element_.classList.add("is-active")},pf.prototype.start=pf.prototype.start,pf.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:pf,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0}));var mf,gf;
/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mf||(mf=1,gf=function(e){this.element_=e,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()},window.MaterialTextfield=gf,gf.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},gf.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},gf.prototype.onKeyDown_=function(e){var t=e.target.value.split("\n").length;13===e.keyCode&&t>=this.maxRows&&e.preventDefault()},gf.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},gf.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},gf.prototype.onReset_=function(e){this.updateClasses_()},gf.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},gf.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},gf.prototype.checkDisabled=gf.prototype.checkDisabled,gf.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},gf.prototype.checkFocus=gf.prototype.checkFocus,gf.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},gf.prototype.checkValidity=gf.prototype.checkValidity,gf.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},gf.prototype.checkDirty=gf.prototype.checkDirty,gf.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},gf.prototype.disable=gf.prototype.disable,gf.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},gf.prototype.enable=gf.prototype.enable,gf.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},gf.prototype.change=gf.prototype.change,gf.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:gf,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})),function(){(function(){var e,t,n="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)t=Object.setPrototypeOf;else{var r;e:{var i={};try{i.__proto__={xb:!0},r=i.xb;break e}catch(Ge){}r=!1}t=r?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var s=t;function a(e,t){if(e.prototype=n(t.prototype),e.prototype.constructor=e,s)s(e,t);else for(var r in t)if("prototype"!=r)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,r);i&&Object.defineProperty(e,r,i)}else e[r]=t[r];e.K=t.prototype}var o="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},l="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function c(e,t){if(t){var n=l;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];i in n||(n[i]={}),n=n[i]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&o(n,e,{configurable:!0,writable:!0,value:t})}}c("Object.is",function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}}),c("Array.prototype.includes",function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var i=n[t];if(i===e||Object.is(i,e))return!0}return!1}});var u=this;function d(e){return void 0!==e}function h(e){return"string"==typeof e}var f=/^[\w+/_-]+[=]{0,2}$/,p=null;function m(){}function g(e){e.W=void 0,e.Xa=function(){return e.W?e.W:e.W=new e}}function v(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function y(e){return"array"==v(e)}function b(e){var t=v(e);return"array"==t||"object"==t&&"number"==typeof e.length}function w(e){return"function"==v(e)}function x(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function S(e,t,n){return e.call.apply(e.bind,arguments)}function k(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function E(e,t,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?S:k).apply(null,arguments)}function C(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function T(e,t){for(var n in t)e[n]=t[n]}var _,I=Date.now||function(){return+new Date};function A(e,t){e=e.split(".");var n,r=u;e[0]in r||void 0===r.execScript||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)!e.length&&d(t)?r[n]=t:r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}}function N(e,t){function n(){}n.prototype=t.prototype,e.K=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.vc=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function P(e){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function R(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");P.call(this,n+e[r])}function D(e,t){throw new R("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}N(P,Error),P.prototype.name="CustomError",N(R,P),R.prototype.name="AssertionError";var M=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(h(e))return h(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},L=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=h(e)?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};var j=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,s=h(e)?e.split(""):e,a=0;a<n;a++)if(a in s){var o=s[a];t.call(void 0,o,a,e)&&(r[i++]=o)}return r},O=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i=h(e)?e.split(""):e,s=0;s<n;s++)s in i&&(r[s]=t.call(void 0,i[s],s,e));return r},F=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=h(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function U(e,t){return 0<=M(e,t)}function z(e,t){var n;return(n=0<=(t=M(e,t)))&&V(e,t),n}function V(e,t){return 1==Array.prototype.splice.call(e,t,1).length}function B(e,t){!function(e,t){for(var n=h(e)?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,function(n,r){t.call(void 0,n,r,e)&&V(e,r)&&0})}function H(e){return Array.prototype.concat.apply([],arguments)}function $(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function W(e,t,n){return 2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,n)}var q=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},K=/&/g,G=/</g,Y=/>/g,Q=/"/g,J=/'/g,X=/\x00/g,Z=/[\x00&<>"']/;function ee(e,t){return e<t?-1:e>t?1:0}function te(e){return Z.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(K,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(G,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(Y,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(Q,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(J,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(X,"&#0;"))),e}function ne(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function re(e){var t,n={};for(t in e)n[t]=e[t];return n}var ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var s=0;s<ie.length;s++)n=ie[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}var ae="StopIteration"in u?u.StopIteration:{message:"StopIteration",stack:""};function oe(){}function le(e){if(e instanceof oe)return e;if("function"==typeof e.ha)return e.ha(!1);if(b(e)){var t=0,n=new oe;return n.next=function(){for(;;){if(t>=e.length)throw ae;if(t in e)return e[t++];t++}},n}throw Error("Not implemented")}function ce(e){if(b(e))return $(e);e=le(e);var t=[];return function(e,t){if(b(e))try{L(e,t,void 0)}catch(n){if(n!==ae)throw n}else{e=le(e);try{for(;;)t.call(void 0,e.next(),void 0,e)}catch(r){if(r!==ae)throw r}}}(e,function(e){t.push(e)}),t}function ue(e,t){this.g={},this.a=[],this.j=this.h=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ue)for(n=e.ja(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function de(e){if(e.h!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];he(e.g,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.h!=e.a.length){var i={};for(n=t=0;t<e.a.length;)he(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function he(e,t){return Object.prototype.hasOwnProperty.call(e,t)}oe.prototype.next=function(){throw ae},oe.prototype.ha=function(){return this},(e=ue.prototype).la=function(){de(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.g[this.a[t]]);return e},e.ja=function(){return de(this),this.a.concat()},e.clear=function(){this.g={},this.j=this.h=this.a.length=0},e.get=function(e,t){return he(this.g,e)?this.g[e]:t},e.set=function(e,t){he(this.g,e)||(this.h++,this.a.push(e),this.j++),this.g[e]=t},e.forEach=function(e,t){for(var n=this.ja(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}},e.ha=function(e){de(this);var t=0,n=this.j,r=this,i=new oe;return i.next=function(){if(n!=r.j)throw Error("The map has changed since the iterator was created");if(t>=r.a.length)throw ae;var i=r.a[t++];return e?i:r.g[i]},i};var fe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function pe(e,t,n,r){for(var i=n.length;0<=(t=e.indexOf(n,t))&&t<r;){var s=e.charCodeAt(t-1);if(!(38!=s&&63!=s||(s=e.charCodeAt(t+i))&&61!=s&&38!=s&&35!=s))return t;t+=i+1}return-1}var me=/#|$/;function ge(e,t){var n=e.search(me),r=pe(e,0,t,n);if(0>r)return null;var i=e.indexOf("&",r);return(0>i||i>n)&&(i=n),r+=t.length+1,decodeURIComponent(e.substr(r,i-r).replace(/\+/g," "))}var ve=/[?&]($|#)/;function ye(e,t){var n;this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1,e instanceof ye?(this.i=d(t)?t:e.i,be(this,e.j),this.A=e.A,this.h=e.h,we(this,e.C),this.g=e.g,xe(this,Le(e.a)),this.s=e.s):e&&(n=String(e).match(fe))?(this.i=!!t,be(this,n[1]||"",!0),this.A=ke(n[2]||""),this.h=ke(n[3]||"",!0),we(this,n[4]),this.g=ke(n[5]||"",!0),xe(this,n[6]||"",!0),this.s=ke(n[7]||"")):(this.i=!!t,this.a=new Pe(null,this.i))}function be(e,t,n){e.j=n?ke(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function we(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.C=t}else e.C=null}function xe(e,t,n){t instanceof Pe?(e.a=t,function(e,t){t&&!e.j&&(Re(e),e.h=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(De(this,t),De(this,n),0<e.length&&(this.h=null,this.a.set(je(this,n),$(e)),this.g+=e.length))},e)),e.j=t}(e.a,e.i)):(n||(t=Ee(t,Ae)),e.a=new Pe(t,e.i))}function Se(e){return e instanceof ye?new ye(e):new ye(e,void 0)}function ke(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ee(e,t,n){return h(e)?(e=encodeURI(e).replace(t,Ce),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ce(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ye.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ee(t,Te,!0),":");var n=this.h;return(n||"file"==t)&&(e.push("//"),(t=this.A)&&e.push(Ee(t,Te,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.C)&&e.push(":",String(n))),(n=this.g)&&(this.h&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ee(n,"/"==n.charAt(0)?Ie:_e,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.s)&&e.push("#",Ee(n,Ne)),e.join("")};var Te=/[#\/\?@]/g,_e=/[#\?:]/g,Ie=/[#\?]/g,Ae=/[#\?@]/g,Ne=/#/g;function Pe(e,t){this.g=this.a=null,this.h=e||null,this.j=!!t}function Re(e){e.a||(e.a=new ue,e.g=0,e.h&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.h,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function De(e,t){Re(e),t=je(e,t),he(e.a.g,t)&&(e.h=null,e.g-=e.a.get(t).length,he((e=e.a).g,t)&&(delete e.g[t],e.h--,e.j++,e.a.length>2*e.h&&de(e)))}function Me(e,t){return Re(e),t=je(e,t),he(e.a.g,t)}function Le(e){var t=new Pe;return t.h=e.h,e.a&&(t.a=new ue(e.a),t.g=e.g),t}function je(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Oe(e){this.a=Se(e)}function Fe(e){return e.a.a.get(Ve.Pa)||null}function Ue(e,t){t?e.a.a.set(Ve.PROVIDER_ID,t):De(e.a.a,Ve.PROVIDER_ID)}(e=Pe.prototype).add=function(e,t){Re(this),this.h=null,e=je(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.g+=1,this},e.clear=function(){this.a=this.h=null,this.g=0},e.forEach=function(e,t){Re(this),this.a.forEach(function(n,r){L(n,function(n){e.call(t,n,r,this)},this)},this)},e.ja=function(){Re(this);for(var e=this.a.la(),t=this.a.ja(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},e.la=function(e){Re(this);var t=[];if(h(e))Me(this,e)&&(t=H(t,this.a.get(je(this,e))));else{e=this.a.la();for(var n=0;n<e.length;n++)t=H(t,e[n])}return t},e.set=function(e,t){return Re(this),this.h=null,Me(this,e=je(this,e))&&(this.g-=this.a.get(e).length),this.a.set(e,[t]),this.g+=1,this},e.get=function(e,t){return e&&0<(e=this.la(e)).length?String(e[0]):t},e.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var e=[],t=this.a.ja(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.la(r);for(var s=0;s<r.length;s++){var a=i;""!==r[s]&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.h=e.join("&")},Oe.prototype.toString=function(){return this.a.toString()};var ze,Ve={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"};e:{var Be=u.navigator;if(Be){var He=Be.userAgent;if(He){ze=He;break e}}ze=""}function $e(e){return-1!=ze.indexOf(e)}function We(){return($e("Chrome")||$e("CriOS"))&&!$e("Edge")}function qe(e){return qe[" "](e),e}qe[" "]=m;var Ke,Ge,Ye=$e("Opera"),Qe=$e("Trident")||$e("MSIE"),Je=$e("Edge"),Xe=Je||Qe,Ze=$e("Gecko")&&!(-1!=ze.toLowerCase().indexOf("webkit")&&!$e("Edge"))&&!($e("Trident")||$e("MSIE"))&&!$e("Edge"),et=-1!=ze.toLowerCase().indexOf("webkit")&&!$e("Edge"),tt=et&&$e("Mobile"),nt=$e("Macintosh");function rt(){var e=u.document;return e?e.documentMode:void 0}e:{var it="",st=(Ge=ze,Ze?/rv:([^\);]+)(\)|;)/.exec(Ge):Je?/Edge\/([\d\.]+)/.exec(Ge):Qe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ge):et?/WebKit\/(\S+)/.exec(Ge):Ye?/(?:Version)[ \/]?(\S+)/.exec(Ge):void 0);if(st&&(it=st?st[1]:""),Qe){var at=rt();if(null!=at&&at>parseFloat(it)){Ke=String(at);break e}}Ke=it}var ot,lt={};function ct(e){return function(e,t){var n=lt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(){for(var t=0,n=q(String(Ke)).split("."),r=q(String(e)).split("."),i=Math.max(n.length,r.length),s=0;0==t&&s<i;s++){var a=n[s]||"",o=r[s]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;t=ee(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||ee(0==a[2].length,0==o[2].length)||ee(a[2],o[2]),a=a[3],o=o[3]}while(0==t)}return 0<=t})}var ut=u.document;function dt(e,t){this.a=e===ft&&t||"",this.g=ht}ot=ut&&Qe?rt()||("CSS1Compat"==ut.compatMode?parseInt(Ke,10):5):void 0,dt.prototype.ma=!0,dt.prototype.ka=function(){return this.a},dt.prototype.toString=function(){return"Const{"+this.a+"}"};var ht={},ft={};function pt(){this.a="",this.h=gt}function mt(e){return e instanceof pt&&e.constructor===pt&&e.h===gt?e.a:(D("expected object of type TrustedResourceUrl, got '"+e+"' of type "+v(e)),"type_error:TrustedResourceUrl")}pt.prototype.ma=!0,pt.prototype.ka=function(){return this.a.toString()},pt.prototype.g=function(){return 1},pt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var gt={};function vt(){this.a="",this.h=St}function yt(e){return e instanceof vt&&e.constructor===vt&&e.h===St?e.a:(D("expected object of type SafeUrl, got '"+e+"' of type "+v(e)),"type_error:SafeUrl")}vt.prototype.ma=!0,vt.prototype.ka=function(){return this.a.toString()},vt.prototype.g=function(){return 1},vt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var bt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function wt(e){return e instanceof vt?e:(e="object"==typeof e&&e.ma?e.ka():String(e),bt.test(e)||(e="about:invalid#zClosurez"),kt(e))}function xt(e){return e instanceof vt?e:(e="object"==typeof e&&e.ma?e.ka():String(e),bt.test(e)||(e="about:invalid#zClosurez"),kt(e))}var St={};function kt(e){var t=new vt;return t.a=e,t}function Et(){this.a="",this.g=Ct}kt("about:blank"),Et.prototype.ma=!0;var Ct={};function Tt(){this.a="",this.j=It,this.h=null}function _t(e){return e instanceof Tt&&e.constructor===Tt&&e.j===It?e.a:(D("expected object of type SafeHtml, got '"+e+"' of type "+v(e)),"type_error:SafeHtml")}Et.prototype.ka=function(){return this.a},Et.prototype.toString=function(){return"SafeStyle{"+this.a+"}"},Tt.prototype.g=function(){return this.h},Tt.prototype.ma=!0,Tt.prototype.ka=function(){return this.a.toString()},Tt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var It={};function At(e,t){var n=new Tt;return n.a=e,n.h=t,n}At("<!DOCTYPE html>",0);var Nt=At("",0);At("<br>",0);var Pt=function(){var e,t=!1;return function(){return t||(e=function(){if("undefined"==typeof document)return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),!!e.firstChild&&(t=e.firstChild.firstChild,e.innerHTML=_t(Nt),!t.parentElement)}(),t=!0),e}}();function Rt(e,t){t=t instanceof vt?t:xt(t),e.assign(yt(t))}function Dt(e,t){this.a=d(e)?e:0,this.g=d(t)?t:0}function Mt(e,t){this.width=e,this.height=t}function Lt(e){return e?new Wt(Bt(e)):_||(_=new Wt)}function jt(e,t){var n=t||document;return n.querySelectorAll&&n.querySelector?n.querySelectorAll("."+e):Ft(document,e,t)}function Ot(e,t){var n=t||document;if(n.getElementsByClassName)e=n.getElementsByClassName(e)[0];else{n=document;var r=t||n;e=r.querySelectorAll&&r.querySelector&&e?r.querySelector(e?"."+e:""):Ft(n,e,t)[0]||null}return e||null}function Ft(e,t,n){var r;if((e=n||e).querySelectorAll&&e.querySelector&&t)return e.querySelectorAll(t?"."+t:"");if(t&&e.getElementsByClassName){var i=e.getElementsByClassName(t);return i}if(i=e.getElementsByTagName("*"),t){var s={};for(n=r=0;e=i[n];n++){var a=e.className;"function"==typeof a.split&&U(a.split(/\s+/),t)&&(s[r++]=e)}return s.length=r,s}return i}Dt.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Dt.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Dt.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Dt.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this},(e=Mt.prototype).toString=function(){return"("+this.width+" x "+this.height+")"},e.aspectRatio=function(){return this.width/this.height},e.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},e.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},e.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var Ut={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function zt(e){return e.scrollingElement?e.scrollingElement:(et||"CSS1Compat"!=e.compatMode)&&e.body||e.documentElement}function Vt(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Bt(e){return 9==e.nodeType?e:e.ownerDocument||e.document}function Ht(e,t){if("textContent"in e)e.textContent=t;else if(3==e.nodeType)e.data=String(t);else if(e.firstChild&&3==e.firstChild.nodeType){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=String(t)}else{for(var n;n=e.firstChild;)e.removeChild(n);e.appendChild(Bt(e).createTextNode(String(t)))}}function $t(e,t){return t?function(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}(e,function(e){return!t||h(e.className)&&U(e.className.split(/\s+/),t)}):null}function Wt(e){this.a=e||u.document||document}Wt.prototype.N=function(){return h(void 0)?this.a.getElementById(void 0):void 0};var qt={Fc:!0},Kt={Hc:!0},Gt={},Yt={Gc:!0};function Qt(){throw Error("Do not instantiate directly")}function Jt(e,t,n,r){if(e=e(t||Zt,void 0,n),r=(r||Lt()).a.createElement("DIV"),(e=function(e){if(!x(e))return te(String(e));if(e instanceof Qt){if(e.fa===qt)return e.content;if(e.fa===Yt)return te(e.content)}return D("Soy template output is unsafe for use as HTML: "+e),"zSoyz"}(e)).match(Xt),e=At(e,null),Pt())for(;r.lastChild;)r.removeChild(r.lastChild);return r.innerHTML=_t(e),1==r.childNodes.length&&(1==(e=r.firstChild).nodeType&&(r=e)),r}Qt.prototype.va=null,Qt.prototype.toString=function(){return this.content};var Xt=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,Zt={};function en(){Qt.call(this)}function tn(e){return null!=e&&e.fa===qt?e:e instanceof Tt?an(_t(e).toString(),e.g()):an(te(String(String(e))),function(e){if(null!=e)switch(e.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}(e))}function nn(){Qt.call(this)}function rn(e,t){this.content=String(e),this.va=null!=t?t:null}function sn(e){return new rn(e,void 0)}N(en,Qt),en.prototype.fa=qt,N(nn,Qt),nn.prototype.fa=Kt,nn.prototype.va=1,N(rn,Qt),rn.prototype.fa=Yt;var an=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,n){return e=new t(String(e)),void 0!==n&&(e.va=n),e}}(en),on=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e){return new t(String(e))}}(nn);function ln(e){return(e=String(e))?new rn(e,void 0):""}var cn=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,n){return(e=String(e))?(e=new t(e),void 0!==n&&(e.va=n),e):""}}(en);function un(e){return null!=e&&e.fa===qt?String(String(e.content).replace(xn,"").replace(Sn,"&lt;")).replace(vn,pn):te(String(e))}function dn(e){return null!=e&&e.fa===Kt?e=String(e).replace(yn,gn):e instanceof vt?e=String(yt(e).toString()).replace(yn,gn):(e=String(e),wn.test(e)?e=e.replace(yn,gn):(D("Bad value `%s` for |filterNormalizeUri",[e]),e="#zSoyz")),e}function hn(e){return null!=e&&e.fa===Gt?e=e.content:null==e?e="":e instanceof Et?e instanceof Et&&e.constructor===Et&&e.g===Ct?e=e.a:(D("expected object of type SafeStyle, got '"+e+"' of type "+v(e)),e="type_error:SafeStyle"):(e=String(e),bn.test(e)||(D("Bad value `%s` for |filterCssValue",[e]),e="zSoyz")),e}var fn={"\0":"&#0;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;","":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function pn(e){return fn[e]}var mn={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","":"%07","\b":"%08","\t":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85","":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","":"%EF%BC%81","":"%EF%BC%83","":"%EF%BC%84","":"%EF%BC%86","":"%EF%BC%87","":"%EF%BC%88","":"%EF%BC%89","":"%EF%BC%8A","":"%EF%BC%8B","":"%EF%BC%8C","":"%EF%BC%8F","":"%EF%BC%9A","":"%EF%BC%9B","":"%EF%BC%9D","":"%EF%BC%9F","":"%EF%BC%A0","":"%EF%BC%BB","":"%EF%BC%BD"};function gn(e){return mn[e]}var vn=/[\x00\x22\x27\x3c\x3e]/g,yn=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,bn=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,wn=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,xn=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,Sn=/</g;function kn(){return sn("Enter a valid phone number")}function En(){return sn("Unable to send password reset code to specified email")}function Cn(){return sn("Something went wrong. Please try again.")}function Tn(){return sn("This email already exists without any means of sign-in. Please reset the password to recover.")}function _n(e){var t="";switch((e=e||{}).code){case"invalid-argument":t+="Client specified an invalid argument.";break;case"invalid-configuration":t+="Client specified an invalid project configuration.";break;case"failed-precondition":t+="Request can not be executed in the current system state.";break;case"out-of-range":t+="Client specified an invalid range.";break;case"unauthenticated":t+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":t+="Client does not have sufficient permission.";break;case"not-found":t+="Specified resource is not found.";break;case"aborted":t+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":t+="The resource that a client tried to create already exists.";break;case"resource-exhausted":t+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":t+="Request cancelled by the client.";break;case"data-loss":t+="Unrecoverable data loss or data corruption.";break;case"unknown":t+="Unknown server error.";break;case"internal":t+="Internal server error.";break;case"not-implemented":t+="API method not implemented by the server.";break;case"unavailable":t+="Service unavailable.";break;case"deadline-exceeded":t+="Request deadline exceeded.";break;case"auth/user-disabled":t+="The user account has been disabled by an administrator.";break;case"auth/timeout":t+="The operation has timed out.";break;case"auth/too-many-requests":t+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":t+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":t+="A network error has occurred. Try again later.";break;case"restart-process":t+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":t+="No sign-in provider is available for the given email, please try with a different email."}return sn(t)}function In(){return sn("Please login again to perform this operation")}function An(e,t,n){var r=Error.call(this);if(this.message=r.message,"stack"in r&&(this.stack=r.stack),this.code=Nn+e,!(e=t)){if(e="","firebaseui/merge-conflict"===this.code)e+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";else e+=Cn();e=sn(e).toString()}this.message=e||"",this.credential=n||null}a(An,Error),An.prototype.toJSON=function(){return{code:this.code,message:this.message}};var Nn="firebaseui/";function Pn(){this.T=this.T,this.C=this.C}function Rn(e,t){e.T?d(void 0)?t.call(void 0):t():(e.C||(e.C=[]),e.C.push(d(void 0)?E(t,void 0):t))}function Dn(e){e&&"function"==typeof e.m&&e.m()}Pn.prototype.T=!1,Pn.prototype.m=function(){!this.T&&(this.T=!0,this.o())},Pn.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};var Mn=Object.freeze||function(e){return e},Ln=!Qe||9<=Number(ot),jn=Qe&&!ct("9"),On=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",m,t),u.removeEventListener("test",m,t)}catch(n){}return e}();function Fn(e,t){this.type=e,this.g=this.target=t,this.h=!1,this.qb=!0}function Un(e,t){if(Fn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ze){e:{try{qe(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.key=e.key||"",this.j=e.charCode||("keypress"==n?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=h(e.pointerType)?e.pointerType:zn[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Fn.prototype.stopPropagation=function(){this.h=!0},Fn.prototype.preventDefault=function(){this.qb=!1},N(Un,Fn);var zn=Mn({2:"touch",3:"pen",4:"mouse"});Un.prototype.stopPropagation=function(){Un.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Un.prototype.preventDefault=function(){Un.K.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,jn)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var Vn="closure_listenable_"+(1e6*Math.random()|0),Bn=0;function Hn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.La=i,this.key=++Bn,this.sa=this.Ia=!1}function $n(e){e.sa=!0,e.listener=null,e.proxy=null,e.src=null,e.La=null}function Wn(e){this.src=e,this.a={},this.g=0}function qn(e,t){var n=t.type;n in e.a&&z(e.a[n],t)&&($n(t),0==e.a[n].length&&(delete e.a[n],e.g--))}function Kn(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.sa&&s.listener==t&&s.capture==!!n&&s.La==r)return i}return-1}Wn.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.a[s])||(e=this.a[s]=[],this.g++);var a=Kn(e,t,r,i);return-1<a?(t=e[a],n||(t.Ia=!1)):((t=new Hn(t,this.src,s,!!r,i)).Ia=n,e.push(t)),t};var Gn="closure_lm_"+(1e6*Math.random()|0),Yn={};function Qn(e,t,n,r,i){if(r&&r.once)return Xn(e,t,n,r,i);if(y(t)){for(var s=0;s<t.length;s++)Qn(e,t[s],n,r,i);return null}return n=or(n),e&&e[Vn]?e.J.add(String(t),n,!1,x(r)?!!r.capture:!!r,i):Jn(e,t,n,!1,r,i)}function Jn(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=x(i)?!!i.capture:!!i,o=sr(e);if(o||(e[Gn]=o=new Wn(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){var e=ir,t=Ln?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)On||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(tr(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Xn(e,t,n,r,i){if(y(t)){for(var s=0;s<t.length;s++)Xn(e,t[s],n,r,i);return null}return n=or(n),e&&e[Vn]?e.J.add(String(t),n,!0,x(r)?!!r.capture:!!r,i):Jn(e,t,n,!0,r,i)}function Zn(e,t,n,r,i){if(y(t))for(var s=0;s<t.length;s++)Zn(e,t[s],n,r,i);else r=x(r)?!!r.capture:!!r,n=or(n),e&&e[Vn]?(e=e.J,(t=String(t).toString())in e.a&&(-1<(n=Kn(s=e.a[t],n,r,i))&&($n(s[n]),V(s,n),0==s.length&&(delete e.a[t],e.g--)))):e&&(e=sr(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Kn(t,n,r,i)),(n=-1<e?t[e]:null)&&er(n))}function er(e){if("number"!=typeof e&&e&&!e.sa){var t=e.src;if(t&&t[Vn])qn(t.J,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(tr(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=sr(t))?(qn(n,e),0==n.g&&(n.src=null,t[Gn]=null)):$n(e)}}}function tr(e){return e in Yn?Yn[e]:Yn[e]="on"+e}function nr(e,t,n,r){var i=!0;if((e=sr(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var s=t[e];s&&s.capture==n&&!s.sa&&(s=rr(s,r),i=i&&!1!==s)}return i}function rr(e,t){var n=e.listener,r=e.La||e.src;return e.Ia&&er(e),n.call(r,t)}function ir(e,t){if(e.sa)return!0;if(!Ln){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Un(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.g;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;!t.h&&0<=i;i--){t.g=r[i];var s=nr(r[i],e,!0,t);n=n&&s}for(i=0;!t.h&&i<r.length;i++)t.g=r[i],s=nr(r[i],e,!1,t),n=n&&s}return n}return rr(e,new Un(t,this))}function sr(e){return(e=e[Gn])instanceof Wn?e:null}var ar="__closure_events_fn_"+(1e9*Math.random()>>>0);function or(e){return w(e)?e:(e[ar]||(e[ar]=function(t){return e.handleEvent(t)}),e[ar])}function lr(){Pn.call(this),this.J=new Wn(this),this.wb=this,this.Ha=null}function cr(e,t){var n,r=e.Ha;if(r)for(n=[];r;r=r.Ha)n.push(r);if(e=e.wb,r=t.type||t,h(t))t=new Fn(t,e);else if(t instanceof Fn)t.target=t.target||e;else{var i=t;se(t=new Fn(r,e),i)}if(i=!0,n)for(var s=n.length-1;!t.h&&0<=s;s--){var a=t.g=n[s];i=ur(a,r,!0,t)&&i}if(t.h||(i=ur(a=t.g=e,r,!0,t)&&i,t.h||(i=ur(a,r,!1,t)&&i)),n)for(s=0;!t.h&&s<n.length;s++)i=ur(a=t.g=n[s],r,!1,t)&&i;return i}function ur(e,t,n,r){if(!(t=e.J.a[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.sa&&a.capture==n){var o=a.listener,l=a.La||a.src;a.Ia&&qn(e.J,a),i=!1!==o.call(l,r)&&i}}return i&&0!=r.qb}N(lr,Pn),lr.prototype[Vn]=!0,lr.prototype.Za=function(e){this.Ha=e},lr.prototype.removeEventListener=function(e,t,n,r){Zn(this,e,t,n,r)},lr.prototype.o=function(){if(lr.K.o.call(this),this.J){var e,t=this.J;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)$n(n[r]);delete t.a[e],t.g--}}this.Ha=null};var dr={},hr=0;function fr(e,t){if(!e)throw Error("Event target element must be provided!");if(e=mr(e),dr[e]&&dr[e].length)for(var n=0;n<dr[e].length;n++)cr(dr[e][n],t)}function pr(e){var t=mr(e.N());dr[t]&&dr[t].length&&(function(e,t){e:{for(var n=e.length,r=h(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}0<=t&&V(e,t)}(dr[t],function(t){return t==e}),dr[t].length||delete dr[t])}function mr(e){return void 0===e.a&&(e.a=hr,hr++),e.a}function gr(e){if(!e)throw Error("Event target element must be provided!");lr.call(this),this.a=e}function vr(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function yr(e,t){this.h=e,this.j=t,this.g=0,this.a=null}function br(e,t){e.j(t),100>e.g&&(e.g++,t.next=e.a,e.a=t)}function wr(){this.g=this.a=null}a(gr,lr),gr.prototype.N=function(){return this.a},gr.prototype.register=function(){var e=mr(this.N());dr[e]?U(dr[e],this)||dr[e].push(this):dr[e]=[this]},yr.prototype.get=function(){if(0<this.g){this.g--;var e=this.a;this.a=e.next,e.next=null}else e=this.h();return e};var xr,Sr,kr=new yr(function(){return new Cr},function(e){e.reset()});function Er(){var e=Ar,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.g=null),t.next=null),t}function Cr(){this.next=this.g=this.a=null}function Tr(e){u.setTimeout(function(){throw e},0)}function _r(e,t){Sr||function(){if(u.Promise&&u.Promise.resolve){var e=u.Promise.resolve(void 0);Sr=function(){e.then(Nr)}}else Sr=function(){var e=Nr;!w(u.setImmediate)||u.Window&&u.Window.prototype&&!$e("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(xr||(xr=function(){var e=u.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!$e("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(""),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=E(function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!$e("Trident")&&!$e("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(d(n.next)){var e=(n=n.next).gb;n.gb=null,e()}},function(e){r.next={gb:e},r=r.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){u.setTimeout(e,0)}}()),xr(e)):u.setImmediate(e)}}(),Ir||(Sr(),Ir=!0),Ar.add(e,t)}wr.prototype.add=function(e,t){var n=kr.get();n.set(e,t),this.g?this.g.next=n:this.a=n,this.g=n},Cr.prototype.set=function(e,t){this.a=e,this.g=t,this.next=null},Cr.prototype.reset=function(){this.next=this.g=this.a=null};var Ir=!1,Ar=new wr;function Nr(){for(var e;e=Er();){try{e.a.call(e.g)}catch(t){Tr(t)}br(kr,e)}Ir=!1}function Pr(e){if(this.a=Rr,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,e!=m)try{var t=this;e.call(void 0,function(e){Hr(t,Dr,e)},function(e){if(!(e instanceof Yr))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(n){}Hr(t,Mr,e)})}catch(n){Hr(this,Mr,n)}}var Rr=0,Dr=2,Mr=3;function Lr(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}Lr.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var jr=new yr(function(){return new Lr},function(e){e.reset()});function Or(e,t,n){var r=jr.get();return r.s=e,r.g=t,r.j=n,r}function Fr(e){if(e instanceof Pr)return e;var t=new Pr(m);return Hr(t,Dr,e),t}function Ur(e){return new Pr(function(t,n){n(e)})}function zr(e,t){if(e.a==Rr)if(e.h){var n=e.h;if(n.g){for(var r=0,i=null,s=null,a=n.g;a&&(a.h||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(s=a);i&&(n.a==Rr&&1==r?zr(n,t):(s?((r=s).next==n.j&&(n.j=r),r.next=r.next.next):Wr(n),qr(n,i,Mr,t)))}e.h=null}else Hr(e,Mr,t)}function Vr(e,t){e.g||e.a!=Dr&&e.a!=Mr||$r(e),e.j?e.j.next=t:e.g=t,e.j=t}function Br(e,t,n,r){var i=Or(null,null,null);return i.a=new Pr(function(e,s){i.s=t?function(n){try{var i=t.call(r,n);e(i)}catch(a){s(a)}}:e,i.g=n?function(t){try{var i=n.call(r,t);!d(i)&&t instanceof Yr?s(t):e(i)}catch(a){s(a)}}:s}),i.a.h=e,Vr(e,i),i.a}function Hr(e,t,n){if(e.a==Rr){e===n&&(t=Mr,n=new TypeError("Promise cannot resolve to itself")),e.a=1;e:{var r=n,i=e.hc,s=e.ic;if(r instanceof Pr){Vr(r,Or(i||m,s||null,e));var a=!0}else if(vr(r))r.then(i,s,e),a=!0;else{if(x(r))try{var o=r.then;if(w(o)){!function(e,t,n,r,i){function s(e){o||(o=!0,r.call(i,e))}function a(e){o||(o=!0,n.call(i,e))}var o=!1;try{t.call(e,a,s)}catch(l){s(l)}}(r,o,i,s,e),a=!0;break e}}catch(l){s.call(e,l),a=!0;break e}a=!1}}a||(e.A=n,e.a=t,e.h=null,$r(e),t!=Mr||n instanceof Yr||function(e,t){e.s=!0,_r(function(){e.s&&Gr.call(null,t)})}(e,n))}}function $r(e){e.i||(e.i=!0,_r(e.Hb,e))}function Wr(e){var t=null;return e.g&&(t=e.g,e.g=t.next,t.next=null),e.g||(e.j=null),t}function qr(e,t,n,r){if(n==Mr&&t.g&&!t.h)for(;e&&e.s;e=e.h)e.s=!1;if(t.a)t.a.h=null,Kr(t,n,r);else try{t.h?t.s.call(t.j):Kr(t,n,r)}catch(hR){Gr.call(null,hR)}br(jr,t)}function Kr(e,t,n){t==Dr?e.s.call(e.j,n):e.g&&e.g.call(e.j,n)}Pr.prototype.then=function(e,t,n){return Br(this,w(e)?e:null,w(t)?t:null,n)},Pr.prototype.$goog_Thenable=!0,(e=Pr.prototype).fc=function(e,t){return(e=Or(e,e,t)).h=!0,Vr(this,e),this},e.Ca=function(e,t){return Br(this,null,e,t)},e.cancel=function(e){this.a==Rr&&_r(function(){zr(this,new Yr(e))},this)},e.hc=function(e){this.a=Rr,Hr(this,Dr,e)},e.ic=function(e){this.a=Rr,Hr(this,Mr,e)},e.Hb=function(){for(var e;e=Wr(this);)qr(this,e,this.a,this.A);this.i=!1};var Gr=Tr;function Yr(e){P.call(this,e)}function Qr(e,t,n){t||(t={}),n=n||window;var r=e instanceof vt?e:wt(void 0!==e.href?e.href:String(e));e=t.target||e.target;var i=[];for(s in t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");return($e("iPhone")&&!$e("iPod")&&!$e("iPad")||$e("iPad")||$e("iPod"))&&n.navigator&&n.navigator.standalone&&e&&"_self"!=e?(s=n.document.createElement("A"),r=r instanceof vt?r:xt(r),s.href=yt(r),s.setAttribute("target",e),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,n,1),s.dispatchEvent(t),n={}):t.noreferrer?(n=n.open("",e,s),t=yt(r).toString(),n&&(Xe&&-1!=t.indexOf(";")&&(t="'"+t.replace(/'/g,"%27")+"'"),n.opener=null,t=At('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+te(t)+'">',null),n.document.write(_t(t)),n.document.close())):(n=n.open(yt(r).toString(),e,s))&&t.noopener&&(n.opener=null),n}function Jr(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch(e){}return!1}function Xr(e){Qr(e,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function Zr(e,t){if(null==(e=x(e)&&1==e.nodeType?e:document.querySelector(String(e))))throw Error(t||"Cannot find element.");return e}function ei(){return window.location.href}function ti(e){var t=hi;this.s=[],this.T=t,this.O=e||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}function ni(e,t,n){e.a=!0,e.h=n,e.j=!t,ai(e)}function ri(e){if(e.a){if(!e.J)throw new oi;e.J=!1}}function ii(e,t,n){e.s.push([t,n,void 0]),e.a&&ai(e)}function si(e){return F(e.s,function(e){return w(e[1])})}function ai(e){if(e.i&&e.a&&si(e)){var t=e.i,n=ui[t];n&&(u.clearTimeout(n.a),delete ui[t]),e.i=0}e.g&&(e.g.C--,delete e.g),t=e.h;for(var r=n=!1;e.s.length&&!e.A;){var i=e.s.shift(),s=i[0],a=i[1];if(i=i[2],s=e.j?a:s)try{var o=s.call(i||e.O,t);d(o)&&(e.j=e.j&&(o==t||o instanceof Error),e.h=t=o),(vr(t)||"function"==typeof u.Promise&&t instanceof u.Promise)&&(r=!0,e.A=!0)}catch(l){t=l,e.j=!0,si(e)||(n=!0)}}e.h=t,r&&(o=E(e.L,e,!0),r=E(e.L,e,!1),t instanceof ti?(ii(t,o,r),t.l=!0):t.then(o,r)),n&&(t=new ci(t),ui[t.a]=t,e.i=t.a)}function oi(){P.call(this)}function li(){P.call(this)}function ci(e){this.a=u.setTimeout(E(this.h,this),0),this.g=e}N(Yr,P),Yr.prototype.name="cancel",ti.prototype.cancel=function(e){if(this.a)this.h instanceof ti&&this.h.cancel();else{if(this.g){var t=this.g;delete this.g,e?t.cancel(e):(t.C--,0>=t.C&&t.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(e=new li,ri(this),ni(this,!1,e))}},ti.prototype.L=function(e,t){this.A=!1,ni(this,e,t)},ti.prototype.callback=function(e){ri(this),ni(this,!0,e)},ti.prototype.then=function(e,t,n){var r,i,s=new Pr(function(e,t){r=e,i=t});return ii(this,r,function(e){e instanceof li?s.cancel():i(e)}),s.then(e,t,n)},ti.prototype.$goog_Thenable=!0,N(oi,P),oi.prototype.message="Deferred has already fired",oi.prototype.name="AlreadyCalledError",N(li,P),li.prototype.message="Deferred was canceled",li.prototype.name="CanceledError",ci.prototype.h=function(){throw delete ui[this.a],this.g};var ui={};function di(e){var t={},n=t.document||document,r=mt(e).toString(),i=document.createElement("SCRIPT"),s={rb:i,sb:void 0},a=new ti(s),o=null,l=null!=t.timeout?t.timeout:5e3;return 0<l&&(o=window.setTimeout(function(){fi(i,!0);var e=new gi(mi,"Timeout reached for loading script "+r);ri(a),ni(a,!1,e)},l),s.sb=o),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(fi(i,t.xc||!1,o),a.callback(null))},i.onerror=function(){fi(i,!0,o);var e=new gi(pi,"Error while loading script "+r);ri(a),ni(a,!1,e)},se(s=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),function(e,t){ne(t,function(t,n){t&&"object"==typeof t&&t.ma&&(t=t.ka()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Ut.hasOwnProperty(n)?e.setAttribute(Ut[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})}(i,s),function(e,t){e.src=mt(t),null===p&&(p=(t=(t=u.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&f.test(t)?t:""),(t=p)&&e.setAttribute("nonce",t)}(i,e),function(e){var t=(e||document).getElementsByTagName("HEAD");return t&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function hi(){if(this&&this.rb){var e=this.rb;e&&"SCRIPT"==e.tagName&&fi(e,!0,this.sb)}}function fi(e,t,n){null!=n&&u.clearTimeout(n),e.onload=m,e.onerror=m,e.onreadystatechange=m,t&&window.setTimeout(function(){Vt(e)},0)}var pi=0,mi=1;function gi(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),P.call(this,n),this.code=e}function vi(){return u.google&&u.google.accounts&&u.google.accounts.id||null}function yi(e){this.a=e||vi(),this.h=!1,this.g=null}function bi(e,t,n){return e.a&&t?(e.h=!0,new Pr(function(r){e.g=r,e.a.initialize({client_id:t,callback:r,auto_select:!n}),e.a.prompt()})):Fr(t?xi.Xa().load().then(function(){return e.a=vi(),bi(e,t,n)}).Ca(function(){return null}):null)}N(gi,P),yi.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())},g(yi);var wi=new dt(ft,"https://accounts.google.com/gsi/client");function xi(){this.a=null}function Si(e,t){this.a=e,this.g=t||function(e){throw e}}function ki(e,t,n){this.reset(e,t,n,void 0,void 0)}function Ei(e){this.s=e,this.a=this.h=this.j=this.g=null}function Ci(e,t){this.name=e,this.value=t}xi.prototype.load=function(){var e=this;if(this.a)return this.a;var t=function(){var e=wi;e instanceof dt&&e.constructor===dt&&e.g===ht?e=e.a:(D("expected object of type Const, got '"+e+"'"),e="type_error:Const");var t=new pt;return t.a=e,t}();return vi()?Fr():this.a=function(){var e=null;return new Pr(function(t){"complete"==u.document.readyState?t():(e=function(){t()},Xn(window,"load",e))}).Ca(function(t){throw Zn(window,"load",e),t})}().then(function(){if(!vi())return new Pr(function(n,r){var i=setTimeout(function(){e.a=null,r(Error("Network error!"))},1e4);u.onGoogleLibraryLoad=function(){clearTimeout(i),n()},Fr(di(t)).then(function(){vi()&&n()}).Ca(function(t){clearTimeout(i),e.a=null,r(t)})})})},g(xi),Si.prototype.confirm=function(e){return Fr(this.a.confirm(e)).Ca(this.g)},ki.prototype.a=null,ki.prototype.reset=function(e,t,n,r,i){this.h=r||I(),this.j=e,this.s=t,this.g=n,delete this.a},Ci.prototype.toString=function(){return this.name};var Ti=new Ci("SEVERE",1e3),_i=new Ci("WARNING",900),Ii=new Ci("CONFIG",700);function Ai(e){return e.j?e.j:e.g?Ai(e.g):(D("Root logger has no level set."),null)}Ei.prototype.log=function(e,t,n){if(e.value>=Ai(this).value)for(w(t)&&(t=t()),e=new ki(e,String(t),this.s),n&&(e.a=n),n=this;n;){var r=n,i=e;if(r.a)for(var s=0;t=r.a[s];s++)t(i);n=n.g}};var Ni={},Pi=null;function Ri(){Pi||(Pi=new Ei(""),Ni[""]=Pi,Pi.j=Ii)}function Di(){this.a=I()}var Mi=null;function Li(e){this.j=e||"",Mi||(Mi=new Di),this.s=Mi}function ji(e){return 10>e?"0"+e:String(e)}function Oi(e){Li.call(this,e)}function Fi(){this.s=E(this.h,this),this.a=new Oi,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}Di.prototype.set=function(e){this.a=e},Di.prototype.reset=function(){this.set(I())},Di.prototype.get=function(){return this.a},Li.prototype.a=!0,Li.prototype.g=!0,Li.prototype.h=!1,N(Oi,Li),Fi.prototype.h=function(e){if(!this.j[e.g]){var t=function(e,t){var n=[];if(n.push(e.j," "),e.g){var r=new Date(t.h);n.push("[",ji(r.getFullYear()-2e3)+ji(r.getMonth()+1)+ji(r.getDate())+" "+ji(r.getHours())+":"+ji(r.getMinutes())+":"+ji(r.getSeconds())+"."+ji(Math.floor(r.getMilliseconds()/10)),"] ")}return n.push("[",function(e,t){t=(e=(e.h-t)/1e3).toFixed(3);var n=0;if(1>e)n=2;else for(;100>e;)n++,e*=10;for(;0<n--;)t=" "+t;return t}(t,e.s.get()),"s] "),n.push("[",t.g,"] "),n.push(t.s),e.h&&(t=t.a)&&n.push("\n",t instanceof Error?t.message:t.toString()),e.a&&n.push("\n"),n.join("")}(this.a,e);if(zi)!function(e,t,n,r){e[t]?e[t](n,r||""):e.log(n,r||"")}(zi,function(e){if(e){if(e.value>=Ti.value)return"error";if(e.value>=_i.value)return"warn";if(e.value>=Ii.value)return"log"}return"debug"}(e.j),t,e.a)}};var Ui,zi=u.console;function Vi(e,t){Ui&&Ui.log(Ti,e,t)}Ui=function e(t){var n;if(Ri(),!(n=Ni[t])){n=new Ei(t);var r=t.lastIndexOf("."),i=t.substr(r+1);(r=e(t.substr(0,r))).h||(r.h={}),r.h[i]=n,n.g=r,Ni[t]=n}return n}("firebaseui");var Bi=new Fi;if(1!=Bi.g){var Hi;Ri(),Hi=Pi;var $i=Bi.s;Hi.a||(Hi.a=[]),Hi.a.push($i),Bi.g=!0}function Wi(e){Ui&&Ui.log(_i,e,void 0)}function qi(){this.a=("undefined"==typeof document?null:document)||{cookie:""}}function Ki(e){e=(e.a.cookie||"").split(";");for(var t,n,r=[],i=[],s=0;s<e.length;s++)-1==(t=(n=q(e[s])).indexOf("="))?(r.push(""),i.push(n)):(r.push(n.substring(0,t)),i.push(n.substring(t+1)));return{keys:r,values:i}}(e=qi.prototype).set=function(e,t,n,r,i,s){if(/[;=\s]/.test(e))throw Error('Invalid cookie name "'+e+'"');if(/[;\r\n]/.test(t))throw Error('Invalid cookie value "'+t+'"');d(n)||(n=-1),i=i?";domain="+i:"",r=r?";path="+r:"",s=s?";secure":"",n=0>n?"":0==n?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(I()+1e3*n).toUTCString(),this.a.cookie=e+"="+t+i+r+n+s},e.get=function(e,t){for(var n,r=e+"=",i=(this.a.cookie||"").split(";"),s=0;s<i.length;s++){if(0==(n=q(i[s])).lastIndexOf(r,0))return n.substr(r.length);if(n==e)return""}return t},e.ja=function(){return Ki(this).keys},e.la=function(){return Ki(this).values},e.clear=function(){for(var e=Ki(this).keys,t=e.length-1;0<=t;t--){var n=e[t];this.get(n),this.set(n,"",0,void 0,void 0)}};var Gi=new qi;function Yi(){}function Qi(e,t,n,r){this.h=null!=e?e:-1,this.g=t||null,this.a=n||null,this.j=!!r}function Ji(e,t){this.g=e,this.a=t||null}function Xi(e){return{email:e.g,credential:e.a&&e.a.toJSON()}}function Zi(e){if(e&&e.email){var t=e.credential&&Ko.auth.AuthCredential.fromJSON(e.credential);return new Ji(e.email,t)}return null}function es(e){this.a=e||null}function ts(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);255<i&&(t[n++]=255&i,i>>=8),t[n++]=i}return t}function ns(e){return O(e,function(e){return 1<(e=e.toString(16)).length?e:"0"+e}).join("")}function rs(e){for(this.i=e,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(is*(this.j+1)),e=0;e<this.g;e++)this.a[e]=[this.i[4*e],this.i[4*e+1],this.i[4*e+2],this.i[4*e+3]];var t=Array(4);for(e=this.g;e<is*(this.j+1);e++){if(t[0]=this.a[e-1][0],t[1]=this.a[e-1][1],t[2]=this.a[e-1][2],t[3]=this.a[e-1][3],0==e%this.g){var n=t,r=n[0];n[0]=n[1],n[1]=n[2],n[2]=n[3],n[3]=r,ds(t),t[0]^=ps[e/this.g][0],t[1]^=ps[e/this.g][1],t[2]^=ps[e/this.g][2],t[3]^=ps[e/this.g][3]}else 6<this.g&&4==e%this.g&&ds(t);this.a[e]=Array(4),this.a[e][0]=this.a[e-this.g][0]^t[0],this.a[e][1]=this.a[e-this.g][1]^t[1],this.a[e][2]=this.a[e-this.g][2]^t[2],this.a[e][3]=this.a[e-this.g][3]^t[3]}}a(Qi,Yi),Qi.prototype.set=function(e,t){Gi.set(e,t,this.h,this.g,this.a,this.j)},Qi.prototype.get=function(e){return Gi.get(e)||null},Qi.prototype.ra=function(e){var t=this.g,n=this.a;Gi.get(e),Gi.set(e,"",0,t,n)},rs.prototype.A=16;var is=rs.prototype.A/4;function ss(e,t){for(var n,r=0;r<is;r++)for(var i=0;4>i;i++)n=t[n=4*i+r],e.h[r][i]=n}function as(e){for(var t=[],n=0;n<is;n++)for(var r=0;4>r;r++)t[4*r+n]=e.h[n][r];return t}function os(e,t){for(var n=0;4>n;n++)for(var r=0;4>r;r++)e.h[n][r]^=e.a[4*t+r][n]}function ls(e,t){for(var n=0;4>n;n++)for(var r=0;4>r;r++)e.h[n][r]=t[e.h[n][r]]}function cs(e){for(var t=1;4>t;t++)for(var n=0;4>n;n++)e.s[t][n]=e.h[t][n];for(t=1;4>t;t++)for(n=0;4>n;n++)e.h[t][n]=e.s[t][(n+t)%is]}function us(e){for(var t=1;4>t;t++)for(var n=0;4>n;n++)e.s[t][(n+t)%is]=e.h[t][n];for(t=1;4>t;t++)for(n=0;4>n;n++)e.h[t][n]=e.s[t][n]}function ds(e){e[0]=hs[e[0]],e[1]=hs[e[1]],e[2]=hs[e[2]],e[3]=hs[e[3]]}var hs=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],fs=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],ps=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],ms=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],gs=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],vs=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],ys=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],bs=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],ws=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function xs(e,t){e=new rs(ks(e));for(var n,r=(t=ts(t)).splice(0,16),i="";r.length;){n=16-r.length;for(var s=0;s<n;s++)r.push(0);for(ss(n=e,r),os(n,0),r=1;r<n.j;++r){ls(n,hs),cs(n),s=n.h;for(var a=n.s[0],o=0;4>o;o++)a[0]=s[0][o],a[1]=s[1][o],a[2]=s[2][o],a[3]=s[3][o],s[0][o]=ms[a[0]]^gs[a[1]]^a[2]^a[3],s[1][o]=a[0]^ms[a[1]]^gs[a[2]]^a[3],s[2][o]=a[0]^a[1]^ms[a[2]]^gs[a[3]],s[3][o]=gs[a[0]]^a[1]^a[2]^ms[a[3]];os(n,r)}ls(n,hs),cs(n),os(n,n.j),i+=ns(as(n)),r=t.splice(0,16)}return i}function Ss(e,t){e=new rs(ks(e));for(var n=[],r=0;r<t.length;r+=2)n.push(parseInt(t.substring(r,r+2),16));var i=n.splice(0,16);for(t="";i.length;){for(ss(r=e,i),os(r,r.j),i=1;i<r.j;++i){us(r),ls(r,fs),os(r,r.j-i);for(var s=r.h,a=r.s[0],o=0;4>o;o++)a[0]=s[0][o],a[1]=s[1][o],a[2]=s[2][o],a[3]=s[3][o],s[0][o]=ws[a[0]]^ys[a[1]]^bs[a[2]]^vs[a[3]],s[1][o]=vs[a[0]]^ws[a[1]]^ys[a[2]]^bs[a[3]],s[2][o]=bs[a[0]]^vs[a[1]]^ws[a[2]]^ys[a[3]],s[3][o]=ys[a[0]]^bs[a[1]]^vs[a[2]]^ws[a[3]]}if(us(r),ls(r,fs),os(r,0),8192>=(r=as(r)).length)r=String.fromCharCode.apply(null,r);else{for(i="",s=0;s<r.length;s+=8192)i+=String.fromCharCode.apply(null,W(r,s,s+8192));r=i}t+=r,i=n.splice(0,16)}return t.replace(/(\x00)+$/,"")}function ks(e){for(var t=32-(e=ts(e.substring(0,32))).length,n=0;n<t;n++)e.push(0);return e}function Es(e){var t=[];return Ts(new Cs,e,t),t.join("")}function Cs(){}function Ts(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(y(t)){var r=t;t=r.length,n.push("[");for(var i="",s=0;s<t;s++)n.push(i),Ts(e,r[s],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(s=t[r])&&(n.push(i),As(r,n),n.push(":"),Ts(e,s,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":As(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}var _s={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Is=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function As(e,t){t.push('"',e.replace(Is,function(e){var t=_s[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),_s[e]=t),t}),'"')}function Ns(e){this.a=e}function Ps(){}function Rs(e){this.a=e}function Ds(e){if(!e.a)return!1;try{return e.a.setItem("__sak","1"),e.a.removeItem("__sak"),!0}catch(t){return!1}}function Ms(){var e=null;try{e=window.localStorage||null}catch(t){}this.a=e}function Ls(){var e=null;try{e=window.sessionStorage||null}catch(t){}this.a=e}function js(e,t){this.g=e,this.a=t+"::"}Ns.prototype.set=function(e,t){d(t)?this.a.set(e,Es(t)):this.a.ra(e)},Ns.prototype.get=function(e){try{var t=this.a.get(e)}catch(n){return}if(null!==t)try{return JSON.parse(t)}catch(r){throw"Storage: Invalid value was encountered"}},N(Ps,Yi),Ps.prototype.clear=function(){var e=ce(this.ha(!0)),t=this;L(e,function(e){t.ra(e)})},N(Rs,Ps),(e=Rs.prototype).set=function(e,t){try{this.a.setItem(e,t)}catch(n){if(0==this.a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded"}},e.get=function(e){if(!h(e=this.a.getItem(e))&&null!==e)throw"Storage mechanism: Invalid value was encountered";return e},e.ra=function(e){this.a.removeItem(e)},e.ha=function(e){var t=0,n=this.a,r=new oe;return r.next=function(){if(t>=n.length)throw ae;var r=n.key(t++);if(e)return r;if(!h(r=n.getItem(r)))throw"Storage mechanism: Invalid value was encountered";return r},r},e.clear=function(){this.a.clear()},e.key=function(e){return this.a.key(e)},N(Ms,Rs),N(Ls,Rs),N(js,Ps),js.prototype.set=function(e,t){this.g.set(this.a+e,t)},js.prototype.get=function(e){return this.g.get(this.a+e)},js.prototype.ra=function(e){this.g.ra(this.a+e)},js.prototype.ha=function(e){var t=this.g.ha(!0),n=this,r=new oe;return r.next=function(){for(var r=t.next();r.substr(0,n.a.length)!=n.a;)r=t.next();return e?r.substr(n.a.length):n.g.get(r)},r},Ds(new Ms);var Os=new Ls,Fs=new Ns(Ds(Os)?new js(Os,"firebaseui"):null),Us={name:"pendingEmailCredential",storage:Fs},zs={name:"redirectStatus",storage:Fs},Vs={name:"redirectUrl",storage:Fs},Bs={name:"emailForSignIn",storage:new Ns(new Qi(3600,"/"))},Hs={name:"pendingEncryptedCredential",storage:new Ns(new Qi(3600,"/"))};function $s(e,t){return e.storage.get(t?e.name+":"+t:e.name)}function Ws(e,t){e.storage.a.ra(t?e.name+":"+t:e.name)}function qs(e,t,n){e.storage.set(n?e.name+":"+n:e.name,t)}function Ks(e){return $s(Vs,e)||null}function Gs(e){return Zi(e=$s(Us,e)||null)}function Ys(e){Ws(Us,e)}function Qs(e,t){qs(Us,Xi(e),t)}function Js(e){return(e=$s(zs,e)||null)&&void 0!==e.tenantId?new es(e.tenantId):null}function Xs(){this.W={}}function Zs(e,t,n){if(t.toLowerCase()in e.W)throw Error("Configuration "+t+" has already been defined.");e.W[t.toLowerCase()]=n}function ea(e,t,n){if(!(t.toLowerCase()in e.W))throw Error("Configuration "+t+" is not defined.");e.W[t.toLowerCase()]=n}function ta(e,t){if(!(e=e.get(t)))throw Error("Configuration "+t+" is required.");return e}function na(){this.g=void 0,this.a={}}function ra(e,t,n,r){for(var i=0;i<t.length;i++){var s=t.charAt(i);e.a[s]||(e.a[s]=new na),e=e.a[s]}if(r&&void 0!==e.g)throw Error('The collection already contains the key "'+t+'"');e.g=n}function ia(e,t){for(var n in void 0!==e.g&&t.push(e.g),e.a)ia(e.a[n],t)}function sa(e,t,n){for(var r in void 0!==e.g&&n.push(t),e.a)sa(e.a[r],t+r,n)}function aa(e){for(this.a=e,this.g=new na,e=0;e<this.a.length;e++){var t=this.g.get("+"+this.a[e].b);t?t.push(this.a[e]):this.g.add("+"+this.a[e].b,[this.a[e]])}}function oa(e,t){var n={},r=0;for(void 0!==(e=e.g).g&&(n[r]=e.g);r<t.length;r++){var i=t.charAt(r);if(!(i in e.a))break;void 0!==(e=e.a[i]).g&&(n[r]=e.g)}for(var s in n)if(n.hasOwnProperty(s))return n[s];return[]}function la(e){for(var t=0;t<ha.length;t++)if(ha[t].c===e)return ha[t];return null}function ca(e){e=e.toUpperCase();for(var t=[],n=0;n<ha.length;n++)ha[n].f===e&&t.push(ha[n]);return t}function ua(e){if(0<e.length&&"+"==e.charAt(0)){e=e.substring(1);for(var t=[],n=0;n<ha.length;n++)ha[n].b==e&&t.push(ha[n]);e=t}else e=ca(e);return e}function da(e){e.sort(function(e,t){return e.name.localeCompare(t.name,"en")})}Xs.prototype.get=function(e){if(!(e.toLowerCase()in this.W))throw Error("Configuration "+e+" is not defined.");return this.W[e.toLowerCase()]},(e=na.prototype).set=function(e,t){ra(this,e,t,!1)},e.add=function(e,t){ra(this,e,t,!0)},e.get=function(e){e:{for(var t=this,n=0;n<e.length;n++)if(!(t=t.a[e.charAt(n)])){e=void 0;break e}e=t}return e?e.g:void 0},e.la=function(){var e=[];return ia(this,e),e},e.ja=function(){var e=[];return sa(this,"",e),e},e.clear=function(){this.a={},this.g=void 0};var ha=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Cte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Runion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthlemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"So Tom and Prncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];da(ha);var fa=new aa(ha);function pa(e,t){this.a=e,this.Aa=t}function ma(e){e=q(e);var t=oa(fa,e);return 0<t.length?new pa("1"==t[0].b?"1-US-0":t[0].c,q(e.substr(t[0].b.length+1))):null}function ga(e){var t=la(e.a);if(!t)throw Error("Country ID "+e.a+" not found.");return"+"+t.b+e.Aa}function va(e,t){for(var n=0;n<e.length;n++)if(!U(ya,e[n])&&(null!==ba&&e[n]in ba||U(t,e[n])))return e[n];return null}var ya=["emailLink","password","phone"],ba={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function wa(){this.a=new Xs,Zs(this.a,"autoUpgradeAnonymousUsers"),Zs(this.a,"callbacks"),Zs(this.a,"credentialHelper",Ya),Zs(this.a,"immediateFederatedRedirect",!1),Zs(this.a,"popupMode",!1),Zs(this.a,"privacyPolicyUrl"),Zs(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),Zs(this.a,"queryParameterForWidgetMode","mode"),Zs(this.a,"signInFlow"),Zs(this.a,"signInOptions"),Zs(this.a,"signInSuccessUrl"),Zs(this.a,"siteName"),Zs(this.a,"tosUrl"),Zs(this.a,"widgetUrl"),Zs(this.a,"adminRestrictedOperation")}function xa(e){var t=!!e.a.get("autoUpgradeAnonymousUsers");return t&&!Ba(e)&&Vi('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),t}function Sa(e){e=e.a.get("signInOptions")||[];for(var t=[],n=0;n<e.length;n++){var r=e[n];(r=x(r)?r:{provider:r}).provider&&t.push(r)}return t}function ka(e,t){e=Sa(e);for(var n=0;n<e.length;n++)if(e[n].provider===t)return e[n];return null}function Ea(e){return Sa(e).map(function(e){return e.provider})}function Ca(e,t){e=Ta(e);for(var n=0;n<e.length;n++)if(e[n].providerId===t)return e[n];return null}function Ta(e){return Sa(e).map(function(e){if(ba[e.provider]||U(eo,e.provider)){for(var t in e={providerId:e.provider,S:e.providerName||null,V:e.fullLabel||null,ta:e.buttonColor||null,za:e.iconUrl?yt(wt(e.iconUrl)).toString():null})null===e[t]&&delete e[t];return e}return{providerId:e.provider,S:e.providerName||null,V:e.fullLabel||null,ta:e.buttonColor||null,za:e.iconUrl?yt(wt(e.iconUrl)).toString():null,Ob:e.loginHintKey||null}})}function _a(e){var t,n=ka(e,Ko.auth.GoogleAuthProvider.PROVIDER_ID);if(t=n&&n.clientId){e:{if("http:"===(window.location&&window.location.protocol)||"https:"===(window.location&&window.location.protocol))for(r in e=e.a.get("credentialHelper"),Qa)if(Qa[r]===e){var r=Qa[r];break e}r=Ya}t=r===Ga}return t&&n.clientId||null}function Ia(e){return!!((e=ka(e,Ko.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp&&e.disableSignUp.status)}function Aa(e){return!(!(e=e.a.get("adminRestrictedOperation")||null)||!e.status)}function Na(e,t){return e=(e=ka(e,t))&&e.scopes,Array.isArray(e)?e:[]}function Pa(e,t){return x(e=(e=ka(e,t))&&e.customParameters)?(e=re(e),t===Ko.auth.GoogleAuthProvider.PROVIDER_ID&&delete e.login_hint,t===Ko.auth.GithubAuthProvider.PROVIDER_ID&&delete e.login,e):null}function Ra(e){if(!(e=ka(e,Ko.auth.PhoneAuthProvider.PROVIDER_ID)))return null;var t=e.whitelistedCountries,n=e.blacklistedCountries;if(void 0!==t&&(!Array.isArray(t)||0==t.length))throw Error("WhitelistedCountries must be a non-empty array.");if(void 0!==n&&!Array.isArray(n))throw Error("BlacklistedCountries must be an array.");if(t&&n)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!t&&!n)return ha;if(e=[],t){n={};for(var r=0;r<t.length;r++)for(var i=ua(t[r]),s=0;s<i.length;s++)n[i[s].c]=i[s];for(var a in n)n.hasOwnProperty(a)&&e.push(n[a])}else{for(a={},t=0;t<n.length;t++)for(i=ua(n[t]),r=0;r<i.length;r++)a[i[r].c]=i[r];for(i=0;i<ha.length;i++)null!==a&&ha[i].c in a||e.push(ha[i])}return e}function Da(e){return ta(e.a,"queryParameterForWidgetMode")}function Ma(e){var t=e.a.get("tosUrl")||null;if(e=e.a.get("privacyPolicyUrl")||null,t&&!e&&Wi("Privacy Policy URL is missing, the link will not be displayed."),t&&e){if("function"==typeof t)return t;if("string"==typeof t)return function(){Xr(t)}}return null}function La(e){var t=e.a.get("tosUrl")||null,n=e.a.get("privacyPolicyUrl")||null;if(n&&!t&&Wi("Term of Service URL is missing, the link will not be displayed."),t&&n){if("function"==typeof n)return n;if("string"==typeof n)return function(){Xr(n)}}return null}function ja(e){return!(e=ka(e,Ko.auth.EmailAuthProvider.PROVIDER_ID))||void 0===e.requireDisplayName||!!e.requireDisplayName}function Oa(e){return!(!(e=ka(e,Ko.auth.EmailAuthProvider.PROVIDER_ID))||e.signInMethod!==Ko.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function Fa(e){var t=!!e.a.get("immediateFederatedRedirect"),n=Ea(e);return e=Ua(e),t&&1==n.length&&!U(ya,n[0])&&e==Ja}function Ua(e){for(var t in e=e.a.get("signInFlow"),Xa)if(Xa[t]==e)return Xa[t];return Ja}function za(e){return Ha(e).signInSuccess||null}function Va(e){return Ha(e).signInSuccessWithAuthResult||null}function Ba(e){return Ha(e).signInFailure||null}function Ha(e){return e.a.get("callbacks")||{}}var $a,Wa,qa,Ka,Ga="googleyolo",Ya="none",Qa={nc:Ga,NONE:Ya},Ja="redirect",Xa={qc:"popup",rc:Ja},Za={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},eo=["anonymous"],to=["sitekey","tabindex","callback","expired-callback"],no={};function ro(e,t,n,r){no[e].apply(null,Array.prototype.slice.call(arguments,1))}function io(e){return e.classList?e.classList:h(e=e.className)&&e.match(/\S+/g)||[]}function so(e,t){return e.classList?e.classList.contains(t):U(io(e),t)}function ao(e,t){e.classList?e.classList.add(t):so(e,t)||(e.className+=0<e.className.length?" "+t:t)}function oo(e,t){e.classList?e.classList.remove(t):so(e,t)&&(e.className=j(io(e),function(e){return e!=t}).join(" "))}function lo(e){var t=e.type;switch(h(t)&&t.toLowerCase()){case"checkbox":case"radio":return e.checked?e.value:null;case"select-one":return 0<=(t=e.selectedIndex)?e.options[t].value:null;case"select-multiple":t=[];for(var n,r=0;n=e.options[r];r++)n.selected&&t.push(n.value);return t.length?t:null;default:return null!=e.value?e.value:null}}function co(e,t){var n=e.type;switch(h(n)&&n.toLowerCase()){case"checkbox":case"radio":e.checked=t;break;case"select-one":if(e.selectedIndex=-1,h(t))for(var r=0;n=e.options[r];r++)if(n.value==t){n.selected=!0;break}break;case"select-multiple":for(h(t)&&(t=[t]),r=0;n=e.options[r];r++)if(n.selected=!1,t)for(var i,s=0;i=t[s];s++)n.value==i&&(n.selected=!0);break;default:e.value=null!=t?t:""}}function uo(e,t,n,r,i,s){if(et&&!ct("525"))return!0;if(nt&&i)return ho(e);if(i&&!r)return!1;if(!Ze&&("number"==typeof t&&(t=fo(t)),(!n||nt)&&(17==t||18==t||nt&&91==t)||nt&&16==t&&(r||s)))return!1;if((et||Je)&&r&&n)switch(e){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Qe&&r&&t==e)return!1;switch(e){case 13:return!Ze||!s&&!i&&!(n&&r);case 27:return!(et||Je||Ze)}return(!Ze||!(r||i||s))&&ho(e)}function ho(e){if(48<=e&&57>=e||96<=e&&106>=e||65<=e&&90>=e||(et||Je)&&0==e)return!0;switch(e){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return Ze;default:return!1}}function fo(e){if(Ze)e=function(e){switch(e){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return e}}(e);else if(nt&&et&&93===e)e=91;return e}function po(e){lr.call(this),this.a=e,Qn(e,"keydown",this.g,!1,this),Qn(e,"click",this.h,!1,this)}function mo(e,t){var n=new vo(t);if(cr(e,n)){n=new go(t);try{cr(e,n)}finally{t.stopPropagation()}}}function go(e){Un.call(this,e.a),this.type="action"}function vo(e){Un.call(this,e.a),this.type="beforeaction"}function yo(e){lr.call(this),this.a=e,e=Qe?"focusout":"blur",this.g=Qn(this.a,Qe?"focusin":"focus",this,!Qe),this.h=Qn(this.a,e,this,!Qe)}function bo(e,t){lr.call(this),this.g=e||1,this.a=t||u,this.h=E(this.gc,this),this.j=I()}function wo(e){e.Ka=!1,e.aa&&(e.a.clearTimeout(e.aa),e.aa=null)}function xo(e){Pn.call(this),this.g=e,this.a={}}N(po,lr),po.prototype.g=function(e){(13==e.keyCode||et&&3==e.keyCode)&&mo(this,e)},po.prototype.h=function(e){mo(this,e)},po.prototype.o=function(){po.K.o.call(this),Zn(this.a,"keydown",this.g,!1,this),Zn(this.a,"click",this.h,!1,this),delete this.a},N(go,Un),N(vo,Un),N(yo,lr),yo.prototype.handleEvent=function(e){var t=new Un(e.a);t.type="focusin"==e.type||"focus"==e.type?"focusin":"focusout",cr(this,t)},yo.prototype.o=function(){yo.K.o.call(this),er(this.g),er(this.h),delete this.a},N(bo,lr),(e=bo.prototype).Ka=!1,e.aa=null,e.gc=function(){if(this.Ka){var e=I()-this.j;0<e&&e<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-e):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),cr(this,"tick"),this.Ka&&(wo(this),this.start()))}},e.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=I())},e.o=function(){bo.K.o.call(this),wo(this),delete this.a},N(xo,Pn);var So=[];function ko(e,t,n,r){y(n)||(n&&(So[0]=n.toString()),n=So);for(var i=0;i<n.length;i++){var s=Qn(t,n[i],r||e.handleEvent,!1,e.g||e);if(!s)break;e.a[s.key]=s}}function Eo(e){ne(e.a,function(e,t){this.a.hasOwnProperty(t)&&er(e)},e),e.a={}}function Co(e){lr.call(this),this.a=null,this.g=e,e=Qe||Je||et&&!ct("531")&&"TEXTAREA"==e.tagName,this.h=new xo(this),ko(this.h,this.g,e?["keydown","paste","cut","drop","input"]:"input",this)}function To(e){null!=e.a&&(u.clearTimeout(e.a),e.a=null)}function _o(e){return(e=new Un(e.a)).type="input",e}function Io(e,t){lr.call(this),e&&(this.Oa&&Do(this),this.qa=e,this.Na=Qn(this.qa,"keypress",this,t),this.Ya=Qn(this.qa,"keydown",this.Jb,t,this),this.Oa=Qn(this.qa,"keyup",this.Kb,t,this))}xo.prototype.o=function(){xo.K.o.call(this),Eo(this)},xo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},N(Co,lr),Co.prototype.handleEvent=function(e){if("input"==e.type)Qe&&ct(10)&&0==e.keyCode&&0==e.j||(To(this),cr(this,_o(e)));else if("keydown"!=e.type||function(e){if(e.altKey&&!e.ctrlKey||e.metaKey||112<=e.keyCode&&123>=e.keyCode)return!1;if(ho(e.keyCode))return!0;switch(e.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!Ze;default:return 166>e.keyCode||183<e.keyCode}}(e)){var t="keydown"==e.type?this.g.value:null;Qe&&229==e.keyCode&&(t=null);var n=_o(e);To(this),this.a=function(e,t){if(w(e))t&&(e=E(e,t));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=E(e.handleEvent,e)}return 2147483647<Number(0)?-1:u.setTimeout(e,0)}(function(){this.a=null,this.g.value!=t&&cr(this,n)},this)}},Co.prototype.o=function(){Co.K.o.call(this),this.h.m(),To(this),delete this.g},N(Io,lr),(e=Io.prototype).qa=null,e.Na=null,e.Ya=null,e.Oa=null,e.R=-1,e.X=-1,e.Ua=!1;var Ao={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},No={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Po=!et||ct("525"),Ro=nt&&Ze;function Do(e){e.Na&&(er(e.Na),er(e.Ya),er(e.Oa),e.Na=null,e.Ya=null,e.Oa=null),e.qa=null,e.R=-1,e.X=-1}function Mo(e,t,n,r){Un.call(this,r),this.type="key",this.keyCode=e,this.j=t,this.repeat=n}function Lo(e,t,n,r){this.top=e,this.right=t,this.bottom=n,this.left=r}function jo(e,t){var n=Bt(e);return n.defaultView&&n.defaultView.getComputedStyle&&(e=n.defaultView.getComputedStyle(e,null))&&(e[t]||e.getPropertyValue(t))||""}function Oo(e){try{var t=e.getBoundingClientRect()}catch(n){return{left:0,top:0,right:0,bottom:0}}return Qe&&e.ownerDocument.body&&(e=e.ownerDocument,t.left-=e.documentElement.clientLeft+e.body.clientLeft,t.top-=e.documentElement.clientTop+e.body.clientTop),t}function Fo(e){var t=Bt(e),n=new Dt(0,0),r=t?Bt(t):document;return e==(r=!Qe||9<=Number(ot)||"CSS1Compat"==Lt(r).a.compatMode?r.documentElement:r.body)||(e=Oo(e),t=zt(r=Lt(t).a),r=r.parentWindow||r.defaultView,t=Qe&&ct("10")&&r.pageYOffset!=t.scrollTop?new Dt(t.scrollLeft,t.scrollTop):new Dt(r.pageXOffset||t.scrollLeft,r.pageYOffset||t.scrollTop),n.a=e.left+t.a,n.g=e.top+t.g),n}(e=Io.prototype).Jb=function(e){(et||Je)&&(17==this.R&&!e.ctrlKey||18==this.R&&!e.altKey||nt&&91==this.R&&!e.metaKey)&&(this.X=this.R=-1),-1==this.R&&(e.ctrlKey&&17!=e.keyCode?this.R=17:e.altKey&&18!=e.keyCode?this.R=18:e.metaKey&&91!=e.keyCode&&(this.R=91)),Po&&!uo(e.keyCode,this.R,e.shiftKey,e.ctrlKey,e.altKey,e.metaKey)?this.handleEvent(e):(this.X=fo(e.keyCode),Ro&&(this.Ua=e.altKey))},e.Kb=function(e){this.X=this.R=-1,this.Ua=e.altKey},e.handleEvent=function(e){var t=e.a,n=t.altKey;if(Qe&&"keypress"==e.type)var r=this.X,i=13!=r&&27!=r?t.keyCode:0;else(et||Je)&&"keypress"==e.type?(r=this.X,i=0<=t.charCode&&63232>t.charCode&&ho(r)?t.charCode:0):Ye&&!et?i=ho(r=this.X)?t.keyCode:0:("keypress"==e.type?(Ro&&(n=this.Ua),t.keyCode==t.charCode?32>t.keyCode?(r=t.keyCode,i=0):(r=this.X,i=t.charCode):(r=t.keyCode||this.X,i=t.charCode||0)):(r=t.keyCode||this.X,i=t.charCode||0),nt&&63==i&&224==r&&(r=191));var s=r=fo(r);r?63232<=r&&r in Ao?s=Ao[r]:25==r&&e.shiftKey&&(s=9):t.keyIdentifier&&t.keyIdentifier in No&&(s=No[t.keyIdentifier]),Ze&&Po&&"keypress"==e.type&&!uo(s,this.R,e.shiftKey,e.ctrlKey,n,e.metaKey)||(e=s==this.R,this.R=s,(t=new Mo(s,i,e,t)).altKey=n,cr(this,t))},e.N=function(){return this.qa},e.o=function(){Io.K.o.call(this),Do(this)},N(Mo,Un),Lo.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},Lo.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},Lo.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},Lo.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};var Uo={thin:2,medium:4,thick:6};function zo(e,t){if("none"==(e.currentStyle?e.currentStyle[t+"Style"]:null))return 0;var n=e.currentStyle?e.currentStyle[t+"Width"]:null;if(n in Uo)e=Uo[n];else if(/^\d+px?$/.test(n))e=parseInt(n,10);else{t=e.style.left;var r=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,e.style.left=n,n=e.style.pixelLeft,e.style.left=t,e.runtimeStyle.left=r,e=+n}return e}function Vo(){}function Bo(e){lr.call(this),this.s=e||Lt(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}function Ho(e,t){return e.g?Ot(t,e.g||e.s.a):null}function $o(e){return e.L||(e.L=new xo(e)),e.L}function Wo(e,t){e.Ea&&L(e.Ea,t,void 0)}function qo(e,t){var n=$t(e,"firebaseui-textfield");t?(oo(e,"firebaseui-input-invalid"),ao(e,"firebaseui-input"),n&&oo(n,"firebaseui-textfield-invalid")):(oo(e,"firebaseui-input"),ao(e,"firebaseui-input-invalid"),n&&ao(n,"firebaseui-textfield-invalid"))}function Go(e,t,n){Rn(e,C(Dn,t=new Co(t))),ko($o(e),t,"input",n)}function Yo(e,t,n){Rn(e,C(Dn,t=new Io(t))),ko($o(e),t,"key",function(e){13==e.keyCode&&(e.stopPropagation(),e.preventDefault(),n(e))})}function Qo(e,t,n){Rn(e,C(Dn,t=new po(t))),ko($o(e),t,"action",function(e){e.stopPropagation(),e.preventDefault(),n(e)})}function Jo(e){ao(e,"firebaseui-hidden")}function Xo(e,t){t&&Ht(e,t),oo(e,"firebaseui-hidden")}function Zo(e){return!so(e,"firebaseui-hidden")&&"none"!=e.style.display}function el(e){var t=(e=e||{}).email,n=e.disabled,r='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return r=e.wc?r+"Enter new email address":r+"Email",r+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+un(null!=t?t:"")+'"'+(n?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',an(r)}function tl(e){var t='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return t=(e=(e=e||{}).label)?t+tn(e):t+"Next",an(t+"</button>")}function nl(){var e=""+tl({label:ln("Sign In")});return an(e)}function rl(){var e=""+tl({label:ln("Save")});return an(e)}function il(){var e=""+tl({label:ln("Continue")});return an(e)}function sl(e){var t='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return t=(e=(e=e||{}).label)?t+tn(e):t+"Choose password",an(t+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function al(){var e='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return an((e={}.current?e+"Current password":e+"Password")+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function ol(){return an('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function ll(e){var t='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return t=(e=(e=e||{}).label)?t+tn(e):t+"Cancel",an(t+"</button>")}function cl(e){var t="";return e.F&&e.D&&(t+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),an(t)}function ul(e){var t="";return e.F&&e.D&&(t+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),an(t)}function dl(e){return e='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+tn(e.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',an(e)}function hl(e){var t=e.content;return e=e.Ab,an('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(e?" "+un(e):"")+'">'+tn(t)+"</dialog>")}function fl(e){var t=e.message;return an(hl({content:cn('<div class="firebaseui-dialog-icon-wrapper"><div class="'+un(e.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+tn(t)+"</div>")}))}function pl(e){for(var t='<div class="firebaseui-list-box-actions">',n=(e=e.items).length,r=0;r<n;r++){var i=e[r];t+='<button type="button" data-listboxid="'+un(i.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(i.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+un(i.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+tn(i.label)+"</div></button>"}return t=""+hl({Ab:ln("firebaseui-list-box-dialog"),content:cn(t+"</div>")}),an(t)}function ml(e){return an((e=e||{}).tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}function gl(e,t){return sn((e=(e=e||{}).ga).S?e.S:t.hb[e.providerId]?""+t.hb[e.providerId]:e.providerId&&0==e.providerId.indexOf("saml.")||e.providerId&&0==e.providerId.indexOf("oidc.")?e.providerId.substring(5):""+e.providerId)}function vl(e){wl(e,"upgradeElement")}function yl(e){wl(e,"downgradeElements")}g(Vo),Vo.prototype.a=0,N(Bo,lr),(e=Bo.prototype).Lb=Vo.Xa(),e.N=function(){return this.g},e.Za=function(e){if(this.Y&&this.Y!=e)throw Error("Method not supported");Bo.K.Za.call(this,e)},e.kb=function(){this.g=this.s.a.createElement("DIV")},e.render=function(e){if(this.na)throw Error("Component already rendered");this.g||this.kb(),e?e.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},e.v=function(){this.na=!0,Wo(this,function(e){!e.na&&e.N()&&e.v()})},e.ya=function(){Wo(this,function(e){e.na&&e.ya()}),this.L&&Eo(this.L),this.na=!1},e.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),Wo(this,function(e){e.m()}),this.g&&Vt(this.g),this.Y=this.g=this.oa=this.Ea=null,Bo.K.o.call(this)},e.removeChild=function(e,t){if(e){var n=h(e)?e:e.cb||(e.cb=":"+(e.Lb.a++).toString(36));if(this.oa&&n?e=(null!==(e=this.oa)&&n in e?e[n]:void 0)||null:e=null,n&&e){var r=this.oa;if(n in r&&delete r[n],z(this.Ea,e),t&&(e.ya(),e.g&&Vt(e.g)),null==(t=e))throw Error("Unable to set parent component");t.Y=null,Bo.K.Za.call(t,null)}}if(!e)throw Error("Child is not in parent component");return e},dl.a="firebaseui.auth.soy2.element.infoBar",fl.a="firebaseui.auth.soy2.element.progressDialog",pl.a="firebaseui.auth.soy2.element.listBoxDialog",ml.a="firebaseui.auth.soy2.element.busyIndicator";var bl=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function wl(e,t){e&&window.componentHandler&&window.componentHandler[t]&&bl.forEach(function(n){so(e,n)&&window.componentHandler[t](e),L(jt(n,e),function(e){window.componentHandler[t](e)})})}function xl(e,t,n){if(Sl.call(this),document.body.appendChild(e),e.showModal||window.dialogPolyfill.registerDialog(e),e.showModal(),vl(e),t&&Qo(this,e,function(t){var n=e.getBoundingClientRect();(t.clientX<n.left||n.left+n.width<t.clientX||t.clientY<n.top||n.top+n.height<t.clientY)&&Sl.call(this)}),!n){var r=this.N().parentElement||this.N().parentNode;if(r){var i=this;this.da=function(){if(e.open){var t=e.getBoundingClientRect().height,n=r.getBoundingClientRect().height,s=r.getBoundingClientRect().top-document.body.getBoundingClientRect().top,a=r.getBoundingClientRect().left-document.body.getBoundingClientRect().left,o=e.getBoundingClientRect().width,l=r.getBoundingClientRect().width;e.style.top=(s+(n-t)/2).toString()+"px",t=a+(l-o)/2,e.style.left=t.toString()+"px",e.style.right=(document.body.getBoundingClientRect().width-t-o).toString()+"px"}else window.removeEventListener("resize",i.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function Sl(){var e=kl.call(this);e&&(yl(e),e.open&&e.close(),Vt(e),this.da&&window.removeEventListener("resize",this.da))}function kl(){return Ot("firebaseui-id-dialog")}function El(){Vt(Cl.call(this))}function Cl(){return Ho(this,"firebaseui-id-info-bar")}function Tl(){return Ho(this,"firebaseui-id-dismiss-info-bar")}var _l={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function Il(e,t,n){for(var r in Fn.call(this,e,t),n)this[r]=n[r]}function Al(e,t,n,r,i){Bo.call(this,n),this.fb=e,this.eb=t,this.Fa=!1,this.Ga=r||null,this.A=this.ca=null,this.Z=re(_l),se(this.Z,i||{})}function Nl(e){return e.N().parentElement||e.N().parentNode}function Pl(e,t,n){Yo(e,t,function(){n.focus()})}function Rl(e,t,n){Yo(e,t,function(){n()})}function Dl(e,t,n){t=(e=e||{}).Va;var r=e.ia;return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+el(e)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?ll(null):"")+tl(null)+'</div></div><div class="firebaseui-card-footer">'+(r?ul(n):cl(n))+"</div></form></div>",an(e)}function Ml(e,t,n){return t=(e=e||{}).ia,e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+el(e)+al()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+ol()+'</div><div class="firebaseui-form-actions">'+nl()+'</div></div><div class="firebaseui-card-footer">'+(t?ul(n):cl(n))+"</div></form></div>",an(e)}function Ll(e,t,n){var r=(e=e||{}).Tb;t=e.Ta;var i=e.ia,s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+el(e);return r?(e='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+un(null!=(e=(e=e||{}).name)?e:"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',e=an(e)):e="",n=s+e+sl(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?ll(null):"")+rl()+'</div></div><div class="firebaseui-card-footer">'+(i?ul(n):cl(n))+"</div></form></div>",an(n)}function jl(e,t,n){return t=(e=e||{}).Ta,e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+el(e)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?ll(null):"")+tl({label:ln("Send")})+'</div></div><div class="firebaseui-card-footer">'+cl(n)+"</div></form></div>",an(e)}function Ol(e,t,n){t=e.G;var r="";return r+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="Follow the instructions sent to <strong>"+tn(e.email)+"</strong> to recover your password")+'</p></div><div class="firebaseui-card-actions">',t&&(r+='<div class="firebaseui-form-actions">'+tl({label:ln("Done")})+"</div>"),r+='</div><div class="firebaseui-card-footer">'+cl(n)+"</div></div>",an(r)}function Fl(e,t,n){return an('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+ml(null)+"</div></div>")}function Ul(e,t,n){return an('<div class="firebaseui-container firebaseui-id-page-spinner">'+ml({tb:!0})+"</div>")}function zl(){return an('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}function Vl(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+(e="A sign-in email with additional instructions was sent to <strong>"+tn(e.email)+"</strong>. Check your email to complete sign-in.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+an('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>')+'</div><div class="firebaseui-form-actions">'+ll({label:ln("Back")})+'</div></div><div class="firebaseui-card-footer">'+cl(n)+"</div></form></div>",an(t)}function Bl(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn\'t work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+an('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+ll({label:ln("Back")})+'</div></div><div class="firebaseui-card-footer">'+cl(n)+"</div></form></div>",an(e)}function Hl(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+el(e)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ll(null)+tl(null)+'</div></div><div class="firebaseui-card-footer">'+cl(n)+"</div></form></div>",an(e)}function $l(){var e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ll({label:ln("Dismiss")})+"</div></div></div>";return an(e)}function Wl(){var e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ll({label:ln("Dismiss")})+"</div></div></div>";return an(e)}function ql(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(e="Youve already used <strong>"+tn(e.email)+"</strong> to sign in. Enter your password for that account.")+"</p>"+al()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+ol()+'</div><div class="firebaseui-form-actions">'+nl()+'</div></div><div class="firebaseui-card-footer">'+cl(n)+"</div></form></div>",an(t)}function Kl(e,t,n){var r=e.email;return t="",e=ln(e=""+gl(e,n)),t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+(r="Youve already used <strong>"+tn(r)+"</strong>. You can connect your <strong>"+tn(e)+"</strong> account with <strong>"+tn(r)+"</strong> by signing in with email link below.")+'<p class="firebaseui-text firebaseui-text-justify">'+(e="For this flow to successfully connect your "+tn(e)+" account with this email, you have to open the link on the same device or browser.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+nl()+'</div></div><div class="firebaseui-card-footer">'+cl(n)+"</div></form></div>",an(t)}function Gl(e,t,n){t="";var r=""+gl(e,n);return t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+(e="You originally intended to connect <strong>"+tn(r=ln(r))+"</strong> to your email account but have opened the link on a different device where you are not signed in.")+'</p><p class="firebaseui-text firebaseui-text-justify">'+(r="If you still want to connect your <strong>"+tn(r)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+il()+'</div></div><div class="firebaseui-card-footer">'+cl(n)+"</div></form></div>",an(t)}function Yl(e,t,n){var r=e.email;return t="",e=ln(e=""+gl(e,n)),t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(r="Youve already used <strong>"+tn(r)+"</strong>. Sign in with "+tn(e)+" to continue.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+tl({label:ln("Sign in with "+e)})+'</div></div><div class="firebaseui-card-footer">'+cl(n)+"</div></form></div>",an(t)}function Ql(e,t,n){var r=(e=e||{}).kc;t=e.yb,e=e.Eb;var i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return r?i+=r="<strong>"+tn(r)+"</strong> is not authorized to view the requested page.":i+="User is not authorized to view the requested page.",i+="</p>",t&&(i+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+(t="Please contact <strong>"+tn(t)+"</strong> for authorization.")+"</p>"),i+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',e&&(i+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),i+='</div><div class="firebaseui-form-actions">'+ll({label:ln("Back")})+'</div></div><div class="firebaseui-card-footer">'+cl(n)+"</div></form></div>",an(i)}function Jl(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="To continue sign in with <strong>"+tn(e.email)+"</strong> on this device, you have to recover the password.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ll(null)+tl({label:ln("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+cl(n)+"</div></form></div>",an(t)}function Xl(e){var t="";return t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+('<p class="firebaseui-text">for <strong>'+tn(e.email)+"</strong></p>")+sl(function(e){function t(){}var n={label:ln("New password")};for(var r in t.prototype=e,e=new t,n)e[r]=n[r];return e}(e))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+rl()+"</div></div></form></div>",an(t)}function Zl(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+il()+"</div>":"")+"</div></div>",an(e)}function ec(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+il()+"</div>":"")+"</div></div>",an(e)}function tc(e){var t=e.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="Your sign-in email address has been changed back to <strong>"+tn(e.email)+"</strong>.")+'</p><p class="firebaseui-text">If you didnt ask to change your sign-in email, its possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+il()+"</div>":"")+"</div></form></div>",an(n)}function nc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still cant reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+il()+"</div>":"")+"</div></div>",an(e)}function rc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+il()+"</div>":"")+"</div></div>",an(e)}function ic(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+il()+"</div>":"")+"</div></div>",an(e)}function sc(e){var t=e.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="You can now sign in with your new email <strong>"+tn(e.email)+"</strong>.")+'</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+il()+"</div>":"")+"</div></div>",an(n)}function ac(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+il()+"</div>":"")+"</div></div>",an(e)}function oc(e){var t=e.factorId,n=e.phoneNumber;e=e.G;var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';if("phone"===t)r+=t="The <strong>"+tn(t)+" "+tn(n)+"</strong> was removed as a second authentication step.";else r+="The device or app was removed as a second authentication step.";return r+='</p><p class="firebaseui-text">If you don\'t recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(e?'<div class="firebaseui-form-actions">'+il()+"</div>":"")+"</div></form></div>",an(r)}function lc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn\'t remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn\'t work, contact support for assistance.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+il()+"</div>":"")+"</div></div>",an(e)}function cc(e){var t=e.zb;return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+tn(e.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',t&&(e+=tl({label:ln("Retry")})),an(e+"</div></div></div>")}function uc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+tn(e.errorMessage)+"</p></div></div>",an(e)}function dc(e,t,n){var r=e.Qb;return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+(e="Continue with "+tn(e.jc)+"?")+'</h2><p class="firebaseui-text">'+(r="You originally wanted to sign in with "+tn(r))+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ll(null)+tl({label:ln("Continue")})+'</div></div><div class="firebaseui-card-footer">'+cl(n)+"</div></form></div>",an(t)}function hc(e,t,n){var r='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';t=(e=e.Sb).length;for(var i=0;i<t;i++){var s={ga:e[i]},a=n,o=(s=s||{}).ga,l=s,c="";switch((l=l||{}).ga.providerId){case"google.com":c+="firebaseui-idp-google";break;case"github.com":c+="firebaseui-idp-github";break;case"facebook.com":c+="firebaseui-idp-facebook";break;case"twitter.com":c+="firebaseui-idp-twitter";break;case"phone":c+="firebaseui-idp-phone";break;case"anonymous":c+="firebaseui-idp-anonymous";break;case"password":c+="firebaseui-idp-password";break;default:c+="firebaseui-idp-generic"}l=(l='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+un(sn(c))+' firebaseui-id-idp-button" data-provider-id="'+un(o.providerId)+'" style="background-color:')+un(hn(sn((c=(c=(c=s)||{}).ga).ta?c.ta:a.wa[c.providerId]?""+a.wa[c.providerId]:0==c.providerId.indexOf("saml.")?""+a.wa.saml:0==c.providerId.indexOf("oidc.")?""+a.wa.oidc:""+a.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var u=s;c=a,u=(u=u||{}).ga,c=on(u.za?dn(u.za):c.xa[u.providerId]?dn(c.xa[u.providerId]):0==u.providerId.indexOf("saml.")?dn(c.xa.saml):0==u.providerId.indexOf("oidc.")?dn(c.xa.oidc):dn(c.xa.password)),l=l+un(dn(c))+'"></span>',"password"==o.providerId?(l+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',o.V?l+=tn(o.V):o.S?l+=s="Sign in with "+tn(gl(s,a)):l+="Sign in with email",l+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',l=o.S?l+tn(o.S):l+"Email",l+="</span>"):"phone"==o.providerId?(l+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',o.V?l+=tn(o.V):o.S?l+=s="Sign in with "+tn(gl(s,a)):l+="Sign in with phone",l+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',l=o.S?l+tn(o.S):l+"Phone",l+="</span>"):"anonymous"==o.providerId?(l+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',o.V?l+=tn(o.V):o.S?l+=s="Sign in with "+tn(gl(s,a)):l+="Continue as guest",l+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',l=o.S?l+tn(o.S):l+"Guest",l+="</span>"):(l+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',o.V?l+=tn(o.V):l+=c="Sign in with "+tn(gl(s,a)),l+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(o.S?tn(o.S):tn(gl(s,a)))+"</span>"),r+='<li class="firebaseui-list-item">'+(o=an(l+"</button>"))+"</li>"}return r+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+ul(n)+"</div></div>",an(r)}function fc(e,t,n){var r,i=(e=e||{}).Gb,s=e.Va;return t=e.ia,e='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+un(null!=(e=(e=e||{}).Aa)?e:"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',r=(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+an(e))+(r=i?an('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):"")+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(s?ll(null):"")+tl({label:ln("Verify")})+'</div></div><div class="firebaseui-card-footer">',t?(t='<p class="firebaseui-tos firebaseui-phone-tos">',t=n.F&&n.D?t+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':t+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",n=an(t+"</p>")):n=an('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+cl(n),an(r+n+"</div></form></div>")}function pc(e,t,n){var r="";return e='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+tn(t=(e=e||{}).phoneNumber)+"</a>",tn(t),t=r,n='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+e+"</p>"+(r=an('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ll(null)+tl({label:ln("Continue")})+'</div></div><div class="firebaseui-card-footer">'+cl(n)+"</div></form>",e=an('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),an(t+(n+e+"</div>"))}function mc(){return an('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}function gc(e,t,n){var r='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';t=(e=e.ec).length;for(var i=0;i<t;i++){var s=e[i],a="",o=tn(s.displayName),l=s.tenantId?s.tenantId:"top-level-project";a+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+un(l=ln(l))+' firebaseui-id-tenant-selection-button"'+(s.tenantId?'data-tenant-id="'+un(s.tenantId)+'"':"")+'style="background-color:'+un(hn(s.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+un(dn(s.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?a+=tn(s.V):a+=s="Sign in to "+tn(s.displayName),r+='<li class="firebaseui-list-item">'+(a=an(a+'</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+o+"</span></button>"))+"</li>"}return r+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+ul(n)+"</div></div>",an(r)}function vc(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+el(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+tl(null)+'</div></div><div class="firebaseui-card-footer">'+ul(n)+"</div></form></div>",an(e)}function yc(){return Ho(this,"firebaseui-id-submit")}function bc(){return Ho(this,"firebaseui-id-secondary-link")}function wc(e,t){Qo(this,yc.call(this),function(t){e(t)});var n=bc.call(this);n&&t&&Qo(this,n,function(e){t(e)})}function xc(){return Ho(this,"firebaseui-id-password")}function Sc(){return Ho(this,"firebaseui-id-password-error")}function kc(){var e=xc.call(this),t=Sc.call(this);Go(this,e,function(){Zo(t)&&(qo(e,!0),Jo(t))})}function Ec(){var e=xc.call(this),t=Sc.call(this);return lo(e)?(qo(e,!0),Jo(t),t=!0):(qo(e,!1),Xo(t,sn("Enter your password").toString()),t=!1),t?lo(e):null}function Cc(e,t,n,r,i,s){Al.call(this,ql,{email:e},s,"passwordLinking",{F:r,D:i}),this.w=t,this.H=n}N(Il,Fn),N(Al,Bo),(e=Al.prototype).kb=function(){var e=Jt(this.fb,this.eb,this.Z,this.s);vl(e),this.g=e},e.v=function(){if(Al.K.v.call(this),fr(Nl(this),new Il("pageEnter",Nl(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var e=this.Z.F;Qo(this,this.bb(),function(){e()})}if(this.ab()&&this.Z.D){var t=this.Z.D;Qo(this,this.ab(),function(){t()})}},e.ya=function(){fr(Nl(this),new Il("pageExit",Nl(this),{pageId:this.Ga})),Al.K.ya.call(this)},e.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,yl(this.N()),Al.K.o.call(this)},e.I=function(e,t,n,r){function i(){if(s.T)return null;s.Fa=!1,window.clearTimeout(s.ca),s.ca=null,s.A&&(yl(s.A),Vt(s.A),s.A=null)}var s=this;return s.Fa?null:(function(e){e.Fa=!0;var t=so(e.N(),"firebaseui-use-spinner");e.ca=window.setTimeout(function(){e.N()&&null===e.A&&(e.A=Jt(ml,{tb:t},null,e.s),e.N().appendChild(e.A),vl(e.A))},500)}(s),e.apply(null,t).then(n,r).then(i,i))},T(Al.prototype,{a:function(e){El.call(this);var t=Jt(dl,{message:e},null,this.s);this.N().appendChild(t),Qo(this,Tl.call(this),function(){Vt(t)})},yc:El,Ac:Cl,zc:Tl,$:function(e,t){e=Jt(fl,{Ma:e,message:t},null,this.s),xl.call(this,e)},h:Sl,Cb:kl,Cc:function(){return Ho(this,"firebaseui-tos")},bb:function(){return Ho(this,"firebaseui-tos-link")},ab:function(){return Ho(this,"firebaseui-pp-link")},Dc:function(){return Ho(this,"firebaseui-tos-list")}}),Dl.a="firebaseui.auth.soy2.page.signIn",Ml.a="firebaseui.auth.soy2.page.passwordSignIn",Ll.a="firebaseui.auth.soy2.page.passwordSignUp",jl.a="firebaseui.auth.soy2.page.passwordRecovery",Ol.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent",Fl.a="firebaseui.auth.soy2.page.callback",Ul.a="firebaseui.auth.soy2.page.spinner",zl.a="firebaseui.auth.soy2.page.blank",Vl.a="firebaseui.auth.soy2.page.emailLinkSignInSent",Bl.a="firebaseui.auth.soy2.page.emailNotReceived",Hl.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation",$l.a="firebaseui.auth.soy2.page.differentDeviceError",Wl.a="firebaseui.auth.soy2.page.anonymousUserMismatch",ql.a="firebaseui.auth.soy2.page.passwordLinking",Kl.a="firebaseui.auth.soy2.page.emailLinkSignInLinking",Gl.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice",Yl.a="firebaseui.auth.soy2.page.federatedLinking",Ql.a="firebaseui.auth.soy2.page.unauthorizedUser",Jl.a="firebaseui.auth.soy2.page.unsupportedProvider",Xl.a="firebaseui.auth.soy2.page.passwordReset",Zl.a="firebaseui.auth.soy2.page.passwordResetSuccess",ec.a="firebaseui.auth.soy2.page.passwordResetFailure",tc.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess",nc.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure",rc.a="firebaseui.auth.soy2.page.emailVerificationSuccess",ic.a="firebaseui.auth.soy2.page.emailVerificationFailure",sc.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess",ac.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure",oc.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess",lc.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure",cc.a="firebaseui.auth.soy2.page.recoverableError",uc.a="firebaseui.auth.soy2.page.unrecoverableError",dc.a="firebaseui.auth.soy2.page.emailMismatch",hc.a="firebaseui.auth.soy2.page.providerSignIn",fc.a="firebaseui.auth.soy2.page.phoneSignInStart",pc.a="firebaseui.auth.soy2.page.phoneSignInFinish",mc.a="firebaseui.auth.soy2.page.signOut",gc.a="firebaseui.auth.soy2.page.selectTenant",vc.a="firebaseui.auth.soy2.page.providerMatchByEmail",a(Cc,Al),Cc.prototype.v=function(){this.P(),this.M(this.w,this.H),Rl(this,this.i(),this.w),this.i().focus(),Al.prototype.v.call(this)},Cc.prototype.o=function(){this.w=null,Al.prototype.o.call(this)},Cc.prototype.j=function(){return lo(Ho(this,"firebaseui-id-email"))},T(Cc.prototype,{i:xc,B:Sc,P:kc,u:Ec,ea:yc,ba:bc,M:wc});var Tc=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function _c(){return Ho(this,"firebaseui-id-email")}function Ic(){return Ho(this,"firebaseui-id-email-error")}function Ac(e){var t=_c.call(this),n=Ic.call(this);Go(this,t,function(){Zo(n)&&(qo(t,!0),Jo(n))}),e&&Yo(this,t,function(){e()})}function Nc(){return q(lo(_c.call(this))||"")}function Pc(){var e=_c.call(this),t=Ic.call(this),n=lo(e)||"";return n?Tc.test(n)?(qo(e,!0),Jo(t),t=!0):(qo(e,!1),Xo(t,sn("That email address isn't correct").toString()),t=!1):(qo(e,!1),Xo(t,sn("Enter your email address to continue").toString()),t=!1),t?q(lo(e)):null}function Rc(e,t,n,r,i,s,a){Al.call(this,Ml,{email:n,ia:!!s},a,"passwordSignIn",{F:r,D:i}),this.w=e,this.H=t}function Dc(e,t,n,r,i,s){Al.call(this,e,t,r,i||"notice",s),this.i=n||null}function Mc(e,t,n,r,i){Dc.call(this,Ol,{email:e,G:!!t},t,i,"passwordRecoveryEmailSent",{F:n,D:r})}function Lc(e,t){Dc.call(this,rc,{G:!!e},e,t,"emailVerificationSuccess")}function jc(e,t){Dc.call(this,ic,{G:!!e},e,t,"emailVerificationFailure")}function Oc(e,t,n){Dc.call(this,sc,{email:e,G:!!t},t,n,"verifyAndChangeEmailSuccess")}function Fc(e,t){Dc.call(this,ac,{G:!!e},e,t,"verifyAndChangeEmailFailure")}function Uc(e,t){Dc.call(this,lc,{G:!!e},e,t,"revertSecondFactorAdditionFailure")}function zc(e){Dc.call(this,mc,void 0,void 0,e,"signOut")}function Vc(e,t){Dc.call(this,Zl,{G:!!e},e,t,"passwordResetSuccess")}function Bc(e,t){Dc.call(this,ec,{G:!!e},e,t,"passwordResetFailure")}function Hc(e,t){Dc.call(this,nc,{G:!!e},e,t,"emailChangeRevokeFailure")}function $c(e,t,n){Dc.call(this,cc,{errorMessage:e,zb:!!t},t,n,"recoverableError")}function Wc(e,t){Dc.call(this,uc,{errorMessage:e},void 0,t,"unrecoverableError")}function qc(e){if("auth/invalid-credential"===e.code&&e.message&&-1!==e.message.indexOf("error=consent_required"))return{code:"auth/user-cancelled"};if(e.message&&-1!==e.message.indexOf("HTTP Cloud Function returned an error:")){var t=JSON.parse(e.message.substring(e.message.indexOf("{"),e.message.lastIndexOf("}")+1));return{code:e.code,message:t&&t.error&&t.error.message||e.message}}return e}function Kc(e,t,n,r){function i(n){if(!n.name||"cancel"!=n.name){e:{var r=n.message;try{var i=((JSON.parse(r).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(i&&i.length){var s=!0;break e}}catch(a){}s=!1}if(s)n=Nl(t),t.m(),eu(e,n,void 0,sn("Your sign-in session has expired. Please try again.").toString());else{if(s=n&&n.message||"",n.code){if("auth/email-already-in-use"==n.code||"auth/credential-already-in-use"==n.code)return;s=Qc(n)}t.a(s)}}}if(Cd(e),r)return Gc(e,n),Fr();if(!n.credential)throw Error("No credential found!");if(!md(e).currentUser&&!n.user)throw Error("User not logged in.");try{var s=function(e,t){return Id(e),Sd(e,function(n){if(e.j&&!e.j.isAnonymous&&xa(_d(e))&&!md(e).currentUser)return Nd(e).then(function(){return"password"==t.credential.providerId&&(t.credential=null),t});if(n)return Nd(e).then(function(){return n.linkWithCredential(t.credential)}).then(function(e){return t.user=e.user,t.credential=e.credential,t.operationType=e.operationType,t.additionalUserInfo=e.additionalUserInfo,t},function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return Pd(e,n,t.credential)});if(!t.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Nd(e).then(function(){return gd(e).updateCurrentUser(t.user)}).then(function(){return t.user=gd(e).currentUser,t.operationType="signIn",t.credential&&t.credential.providerId&&"password"==t.credential.providerId&&(t.credential=null),t})})}(e,n)}catch(a){return Vi(a.code||a.message,a),t.a(a.code||a.message),Fr()}return n=s.then(function(t){Gc(e,t)},i).then(void 0,i),Ed(e,s),Fr(n)}function Gc(e,t){if(!t.user)throw Error("No user found");var n=Va(_d(e));if(za(_d(e))&&n&&Wi("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),n){n=Va(_d(e));var r=Ks(vd(e))||void 0;Ws(Vs,vd(e));var i=!1;Jr()?(n&&!n(t,r)||(i=!0,Rt(window.opener.location,Yc(e,r))),n||window.close()):n&&!n(t,r)||(i=!0,Rt(window.location,Yc(e,r))),i||e.reset()}else{n=t.user,t=t.credential,r=za(_d(e)),i=Ks(vd(e))||void 0,Ws(Vs,vd(e));var s=!1;Jr()?(r&&!r(n,t,i)||(s=!0,Rt(window.opener.location,Yc(e,i))),r||window.close()):r&&!r(n,t,i)||(s=!0,Rt(window.location,Yc(e,i))),s||e.reset()}}function Yc(e,t){if(!(e=t||_d(e).a.get("signInSuccessUrl")))throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return e}function Qc(e){var t={code:e.code},n="";switch((t=t||{}).code){case"auth/email-already-in-use":n+="The email address is already used by another account";break;case"auth/requires-recent-login":case"auth/user-token-expired":n+=In();break;case"auth/too-many-requests":n+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":n+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":n+="That email address doesn't match an existing account";break;case"auth/weak-password":n+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":n+="The email and password you entered don't match";break;case"auth/network-request-failed":n+="A network error has occurred";break;case"auth/invalid-phone-number":n+=kn();break;case"auth/invalid-verification-code":n+=sn("Wrong code. Try again.");break;case"auth/code-expired":n+="This code is no longer valid";break;case"auth/expired-action-code":n+="This code has expired.";break;case"auth/invalid-action-code":n+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(t=sn(n).toString())return t;try{return JSON.parse(e.message),Vi("Internal error: "+e.message,void 0),Cn().toString()}catch(r){return e.message}}function Jc(e,t,n,r){function i(){!function(e,t){qs(zs,{tenantId:e.a},t)}(new es(e.h.tenantId||null),vd(e)),Ed(e,t.I(E(e.dc,e),[l],function(){if("file:"===(window.location&&window.location.protocol))return Ed(e,hd(e).then(function(n){t.m(),Ws(zs,vd(e)),ro("callback",e,o,Fr(n))},s))},a))}function s(r){if(Ws(zs,vd(e)),!r.name||"cancel"!=r.name)switch(r=qc(r),r.code){case"auth/popup-blocked":i();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":t.a(Qc(r));break;case"auth/admin-restricted-operation":t.m(),Aa(_d(e))?ro("handleUnauthorizedUser",e,o,null,n):ro("callback",e,o,Ur(r));break;default:t.m(),ro("callback",e,o,Ur(r))}}function a(n){Ws(zs,vd(e)),n.name&&"cancel"==n.name||(Vi("signInWithRedirect: "+n.code,void 0),n=Qc(n),"blank"==t.Ga&&Fa(_d(e))?(t.m(),ro("providerSignIn",e,o,n)):t.a(n))}var o=Nl(t),l=function(e,t,n){var r=ba[t]&&Ko.auth[ba[t]]?new Ko.auth[ba[t]]:0==t.indexOf("saml.")?new Ko.auth.SAMLAuthProvider(t):new Ko.auth.OAuthProvider(t);if(!r)throw Error("Invalid Firebase Auth provider!");var i=Na(_d(e),t);if(r.addScope)for(var s=0;s<i.length;s++)r.addScope(i[s]);return i=Pa(_d(e),t)||{},n&&(e=t==Ko.auth.GoogleAuthProvider.PROVIDER_ID?"login_hint":t==Ko.auth.GithubAuthProvider.PROVIDER_ID?"login":(e=Ca(_d(e),t))&&e.Ob)&&(i[e]=n),r.setCustomParameters&&r.setCustomParameters(i),r}(e,n,r);Ua(_d(e))==Ja?i():Ed(e,function(e,t){return Id(e),Sd(e,function(n){return n&&!Gs(vd(e))?n.linkWithPopup(t).then(function(e){return e},function(t){if(t&&"auth/email-already-in-use"==t.code&&t.email&&t.credential)throw t;return Pd(e,t)}):md(e).signInWithPopup(t)})}(e,l).then(function(n){t.m(),ro("callback",e,o,Fr(n))},s))}function Xc(e){return 1==(e=Ea(_d(e))).length&&e[0]==Ko.auth.EmailAuthProvider.PROVIDER_ID}function Zc(e){return 1==(e=Ea(_d(e))).length&&e[0]==Ko.auth.PhoneAuthProvider.PROVIDER_ID}function eu(e,t,n,r){Xc(e)?r?ro("signIn",e,t,n,r):iu(e,t,n):e&&Zc(e)&&!r?ro("phoneSignInStart",e,t):e&&Fa(_d(e))&&!r?ro("federatedRedirect",e,t,n):ro("providerSignIn",e,t,r,n)}function tu(e,t,n,r){var i=Nl(t);Ed(e,t.I(E(md(e).fetchSignInMethodsForEmail,md(e)),[n],function(s){t.m(),nu(e,i,s,n,r)},function(e){e=Qc(e),t.a(e)}))}function nu(e,t,n,r,i,s){n.length||Oa(_d(e))&&!Oa(_d(e))?U(n,Ko.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ro("passwordSignIn",e,t,r,s):1==n.length&&n[0]===Ko.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Oa(_d(e))?ro("sendEmailLinkForSignIn",e,t,r,function(){ro("signIn",e,t)}):ro("unsupportedProvider",e,t,r):(n=va(n,Ea(_d(e))))?(Qs(new Ji(r),vd(e)),ro("federatedSignIn",e,t,r,n,i)):ro("unsupportedProvider",e,t,r):Ia(_d(e))?ro("handleUnauthorizedUser",e,t,r,Ko.auth.EmailAuthProvider.PROVIDER_ID):Oa(_d(e))?ro("sendEmailLinkForSignIn",e,t,r,function(){ro("signIn",e,t)}):ro("passwordSignUp",e,t,r,void 0,void 0,s)}function ru(e,t,n,r,i,s){var a=Nl(t);Ed(e,t.I(E(e.Ib,e),[n,s],function(){t.m(),ro("emailLinkSignInSent",e,a,n,r,s)},i))}function iu(e,t,n){n?ro("prefilledEmailSignIn",e,t,n):ro("signIn",e,t)}function su(){return ge(ei(),"oobCode")}function au(){var e=ge(ei(),"continueUrl");return e?function(){Rt(window.location,e)}:null}function ou(e,t){Al.call(this,Wl,void 0,t,"anonymousUserMismatch"),this.i=e}function lu(e){Al.call(this,Fl,void 0,e,"callback")}function cu(e,t,n){if(n.user){var r={user:n.user,credential:n.credential,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},i=Gs(vd(e)),s=i&&i.g;if(s&&!function(e,t){if(t==e.email)return!0;if(e.providerData)for(var n=0;n<e.providerData.length;n++)if(t==e.providerData[n].email)return!0;return!1}(n.user,s))!function(e,t,n){var r=Nl(t);Ed(e,Nd(e).then(function(){t.m(),ro("emailMismatch",e,r,n)},function(e){e.name&&"cancel"==e.name||(e=Qc(e.code),t.a(e))}))}(e,t,r);else{var a=i&&i.a;a?Ed(e,n.user.linkWithCredential(a).then(function(n){r={user:n.user,credential:a,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},uu(e,t,r)},function(n){du(e,t,n)})):uu(e,t,r)}}else n=Nl(t),t.m(),Ys(vd(e)),eu(e,n)}function uu(e,t,n){Ys(vd(e)),Kc(e,t,n)}function du(e,t,n){var r=Nl(t);Ys(vd(e)),n=Qc(n),t.m(),eu(e,r,void 0,n)}function hu(e,t,n,r){var i=Nl(t);Ed(e,md(e).fetchSignInMethodsForEmail(n).then(function(s){t.m(),s.length?U(s,Ko.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ro("passwordLinking",e,i,n):1==s.length&&s[0]===Ko.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ro("emailLinkSignInLinking",e,i,n):(s=va(s,Ea(_d(e))))?ro("federatedLinking",e,i,n,s,r):(Ys(vd(e)),ro("unsupportedProvider",e,i,n)):(Ys(vd(e)),ro("passwordRecovery",e,i,n,!1,Tn().toString()))},function(n){du(e,t,n)}))}function fu(e,t){Al.call(this,$l,void 0,t,"differentDeviceError"),this.i=e}function pu(e,t,n,r){Al.call(this,tc,{email:e,G:!!n},r,"emailChangeRevoke"),this.l=t,this.i=n||null}function mu(){return Ho(this,"firebaseui-id-new-password")}function gu(){return Ho(this,"firebaseui-id-password-toggle")}function vu(){this.Ra=!this.Ra;var e=gu.call(this),t=mu.call(this);this.Ra?(t.type="text",ao(e,"firebaseui-input-toggle-off"),oo(e,"firebaseui-input-toggle-on")):(t.type="password",ao(e,"firebaseui-input-toggle-on"),oo(e,"firebaseui-input-toggle-off")),t.focus()}function yu(){return Ho(this,"firebaseui-id-new-password-error")}function bu(){this.Ra=!1;var e=mu.call(this);e.type="password";var t=yu.call(this);Go(this,e,function(){Zo(t)&&(qo(e,!0),Jo(t))});var n=gu.call(this);ao(n,"firebaseui-input-toggle-on"),oo(n,"firebaseui-input-toggle-off"),function(e,t,n){Rn(e,C(Dn,t=new yo(t))),ko($o(e),t,"focusin",n)}(this,e,function(){ao(n,"firebaseui-input-toggle-focus"),oo(n,"firebaseui-input-toggle-blur")}),function(e,t,n){Rn(e,C(Dn,t=new yo(t))),ko($o(e),t,"focusout",n)}(this,e,function(){ao(n,"firebaseui-input-toggle-blur"),oo(n,"firebaseui-input-toggle-focus")}),Qo(this,n,E(vu,this))}function wu(){var e=mu.call(this),t=yu.call(this);return lo(e)?(qo(e,!0),Jo(t),t=!0):(qo(e,!1),Xo(t,sn("Enter your password").toString()),t=!1),t?lo(e):null}function xu(e,t,n){Al.call(this,Xl,{email:e},n,"passwordReset"),this.l=t}function Su(e,t,n,r,i){Al.call(this,oc,{factorId:e,phoneNumber:n||null,G:!!r},i,"revertSecondFactorAdditionSuccess"),this.l=t,this.i=r||null}function ku(e,t,n,r){"auth/weak-password"==(r&&r.code)?(e=Qc(r),qo(n.i(),!1),Xo(n.w(),e),n.i().focus()):(n&&n.m(),(n=new Bc).render(t),fd(e,n))}function Eu(e,t){try{var n="number"==typeof e.selectionStart}catch(r){n=!1}n?(e.selectionStart=t,e.selectionEnd=t):Qe&&!ct("9")&&("textarea"==e.type&&(t=e.value.substring(0,t).replace(/(\r\n|\r|\n)/g,"\n").length),(e=e.createTextRange()).collapse(!0),e.move("character",t),e.select())}function Cu(e,t,n,r,i,s){Al.call(this,Hl,{email:n},s,"emailLinkSignInConfirmation",{F:r,D:i}),this.l=e,this.u=t}function Tu(e,t,n,r,i){Al.call(this,Gl,{ga:e},i,"emailLinkSignInLinkingDifferentDevice",{F:n,D:r}),this.i=t}function _u(e){Al.call(this,zl,void 0,e,"blank")}function Iu(e,t,n,r,i){var s=new _u,a=new Oe(n),o=a.a.a.get(Ve.$a)||"",l=a.a.a.get(Ve.Sa)||"",c="1"===a.a.a.get(Ve.Qa),u=Fe(a),d=a.a.a.get(Ve.PROVIDER_ID)||null;a=a.a.a.get(Ve.vb)||null,Td(e,a);var h=!$s(Bs,vd(e)),f=r||function(e,t){var n=null;if(t=$s(Bs,t))try{var r=Ss(e,t),i=JSON.parse(r);n=i&&i.email||null}catch(s){}return n}(l,vd(e)),p=(r=function(e,t){var n=null;if(t=$s(Hs,t))try{var r=Ss(e,t);n=JSON.parse(r)}catch(i){}return Zi(n||null)}(l,vd(e)))&&r.a;d&&p&&p.providerId!==d&&(p=null),s.render(t),fd(e,s),Ed(e,s.I(function(){var t=Fr(null);t=u&&h||h&&c?Ur(Error("anonymous-user-not-found")):function(e,t){var n=Fe(new Oe(t));return n?(t=new Pr(function(t,r){var i=gd(e).onAuthStateChanged(function(e){i(),e&&e.isAnonymous&&e.uid===n?t(e):e&&e.isAnonymous&&e.uid!==n?r(Error("anonymous-user-mismatch")):r(Error("anonymous-user-not-found"))});Ed(e,i)}),Ed(e,t),t):Fr(null)}(e,n).then(function(e){if(d&&!p)throw Error("pending-credential-not-found");return e});var r=null;return t.then(function(t){return r=t,i?null:md(e).checkActionCode(o)}).then(function(){return r})},[],function(r){f?function(e,t,n,r,i,s){var a=Nl(t);t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",sn("Signing in...").toString());var o=null;i=(s?function(e,t,n,r,i){Id(e);var s=i||null,a=Ko.auth.EmailAuthProvider.credentialWithLink(n,r);return n=s?md(e).signInWithEmailLink(n,r).then(function(e){return e.user.linkWithCredential(s)}).then(function(){return Nd(e)}).then(function(){return Pd(e,{code:"auth/email-already-in-use"},s)}):md(e).fetchSignInMethodsForEmail(n).then(function(n){return n.length?Pd(e,{code:"auth/email-already-in-use"},a):t.linkWithCredential(a)}),Ed(e,n),n}(e,s,n,r,i):function(e,t,n,r){Id(e);var i,s=r||null;return t=md(e).signInWithEmailLink(t,n).then(function(e){if(i={user:e.user,credential:null,operationType:e.operationType,additionalUserInfo:e.additionalUserInfo},s)return e.user.linkWithCredential(s).then(function(e){i={user:e.user,credential:s,operationType:i.operationType,additionalUserInfo:e.additionalUserInfo}})}).then(function(){Nd(e)}).then(function(){return gd(e).updateCurrentUser(i.user)}).then(function(){return i.user=gd(e).currentUser,i}),Ed(e,t),t}(e,n,r,i)).then(function(n){Ws(Hs,vd(e)),Ws(Bs,vd(e)),t.h(),t.$("firebaseui-icon-done",sn("Signed in!").toString()),o=setTimeout(function(){t.h(),Kc(e,t,n,!0)},1e3),Ed(e,function(){t&&(t.h(),t.m()),clearTimeout(o)})},function(i){if(t.h(),t.m(),!i.name||"cancel"!=i.name){var s=Qc(i=qc(i));"auth/email-already-in-use"==i.code||"auth/credential-already-in-use"==i.code?(Ws(Hs,vd(e)),Ws(Bs,vd(e))):"auth/invalid-email"==i.code?(s=sn("The email provided does not match the current sign-in session.").toString(),ro("emailLinkConfirmation",e,a,r,Au,null,s)):eu(e,a,n,s)}}),Ed(e,i)}(e,s,f,n,p,r):c?(s.m(),ro("differentDeviceError",e,t)):(s.m(),ro("emailLinkConfirmation",e,t,n,Au))},function(r){var i=void 0;if(!r||!r.name||"cancel"!=r.name)switch(s.m(),r&&r.message){case"anonymous-user-not-found":ro("differentDeviceError",e,t);break;case"anonymous-user-mismatch":ro("anonymousUserMismatch",e,t);break;case"pending-credential-not-found":ro("emailLinkNewDeviceLinking",e,t,n,Nu);break;default:r&&(i=Qc(r)),eu(e,t,void 0,i)}}))}function Au(e,t,n,r){Iu(e,t,r,n,!0)}function Nu(e,t,n){Iu(e,t,n)}function Pu(e,t,n,r,i,s){Al.call(this,Kl,{email:e,ga:t},s,"emailLinkSignInLinking",{F:r,D:i}),this.i=n}function Ru(e,t,n,r,i,s){Al.call(this,Vl,{email:e},s,"emailLinkSignInSent",{F:r,D:i}),this.u=t,this.i=n}function Du(e,t,n,r,i,s,a){Al.call(this,dc,{jc:e,Qb:t},a,"emailMismatch",{F:i,D:s}),this.l=n,this.i=r}function Mu(e,t,n,r,i){Al.call(this,Bl,void 0,i,"emailNotReceived",{F:n,D:r}),this.l=e,this.i=t}function Lu(e,t,n,r,i,s){Al.call(this,Yl,{email:e,ga:t},s,"federatedLinking",{F:r,D:i}),this.i=n}function ju(e,t,n,r,i,s){Al.call(this,jl,{email:n,Ta:!!t},s,"passwordRecovery",{F:r,D:i}),this.l=e,this.u=t}function Ou(){return Ho(this,"firebaseui-id-name")}function Fu(){return Ho(this,"firebaseui-id-name-error")}function Uu(e,t,n,r,i,s,a,o,l){Al.call(this,Ll,{email:r,Tb:e,name:i,Ta:!!n,ia:!!o},l,"passwordSignUp",{F:s,D:a}),this.w=t,this.H=n,this.B=e}function zu(e,t){var n=ja(_d(e)),r=t.j(),i=null;n&&(i=t.M());var s=t.P();if(r){if(n){if(!i)return void t.u().focus();i=te(i)}if(s){var a=Ko.auth.EmailAuthProvider.credential(r,s);Ed(e,t.I(E(e.Yb,e),[r,s],function(r){var s={user:r.user,credential:a,operationType:r.operationType,additionalUserInfo:r.additionalUserInfo};return n?(r=r.user.updateProfile({displayName:i}).then(function(){return Kc(e,t,s)}),Ed(e,r),r):Kc(e,t,s)},function(n){if(!n.name||"cancel"!=n.name){var i=qc(n);switch(n=Qc(i),i.code){case"auth/email-already-in-use":return function(e,t,n,r){function i(){var e=Qc(r);qo(t.i(),!1),Xo(t.U(),e),t.i().focus()}var s=md(e).fetchSignInMethodsForEmail(n).then(function(r){r.length?i():(r=Nl(t),t.m(),ro("passwordRecovery",e,r,n,!1,Tn().toString()))},function(){i()});return Ed(e,s),s}(e,t,r,i);case"auth/too-many-requests":n=sn("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":qo(t.l(),!1),Xo(t.ba(),n);break;case"auth/admin-restricted-operation":Aa(_d(e))?(n=Nl(t),t.m(),ro("handleUnauthorizedUser",e,n,r,Ko.auth.EmailAuthProvider.PROVIDER_ID)):t.a(n);break;default:Vi(i="setAccountInfo: "+Es(i),void 0),t.a(n)}}}))}else t.l().focus()}else t.i().focus()}function Vu(){return Ho(this,"firebaseui-id-phone-confirmation-code")}function Bu(){return Ho(this,"firebaseui-id-phone-confirmation-code-error")}function Hu(){return Ho(this,"firebaseui-id-resend-countdown")}function $u(e,t,n,r,i,s,a,o,l){Al.call(this,pc,{phoneNumber:i},l,"phoneSignInFinish",{F:a,D:o}),this.jb=s,this.i=new bo(1e3),this.B=s,this.P=e,this.l=t,this.H=n,this.M=r}a(Rc,Al),Rc.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),Pl(this,this.l(),this.i()),Rl(this,this.i(),this.w),lo(this.l())?this.i().focus():this.l().focus(),Al.prototype.v.call(this)},Rc.prototype.o=function(){this.H=this.w=null,Al.prototype.o.call(this)},T(Rc.prototype,{l:_c,U:Ic,P:Ac,M:Nc,j:Pc,i:xc,B:Sc,ea:kc,u:Ec,ua:yc,pa:bc,ba:wc}),N(Dc,Al),Dc.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),Dc.K.v.call(this)},Dc.prototype.o=function(){this.i=null,Dc.K.o.call(this)},T(Dc.prototype,{l:yc,w:bc,u:wc}),N(Mc,Dc),N(Lc,Dc),N(jc,Dc),N(Oc,Dc),N(Fc,Dc),N(Uc,Dc),N(zc,Dc),N(Vc,Dc),N(Bc,Dc),N(Hc,Dc),N($c,Dc),N(Wc,Dc),a(ou,Al),ou.prototype.v=function(){var e=this;Qo(this,this.l(),function(){e.i()}),this.l().focus(),Al.prototype.v.call(this)},ou.prototype.o=function(){this.i=null,Al.prototype.o.call(this)},T(ou.prototype,{l:bc}),no.anonymousUserMismatch=function(e,t){var n=new ou(function(){n.m(),eu(e,t)});n.render(t),fd(e,n)},a(lu,Al),lu.prototype.I=function(e,t,n,r){return e.apply(null,t).then(n,r)},no.callback=function(e,t,n){var r=new lu;r.render(t),fd(e,r),n=n||hd(e),Ed(e,n.then(function(t){cu(e,r,t)},function(n){if((n=qc(n))&&("auth/account-exists-with-different-credential"==n.code||"auth/email-already-in-use"==n.code)&&n.email&&n.credential)Qs(new Ji(n.email,n.credential),vd(e)),hu(e,r,n.email);else if(n&&"auth/user-cancelled"==n.code){var i=Gs(vd(e)),s=Qc(n);i&&i.a?hu(e,r,i.g,s):i?tu(e,r,i.g,s):du(e,r,n)}else n&&"auth/credential-already-in-use"==n.code||(n&&"auth/operation-not-supported-in-this-environment"==n.code&&Xc(e)?cu(e,r,{user:null,credential:null}):n&&"auth/admin-restricted-operation"==n.code&&Aa(_d(e))?(r.m(),Ys(vd(e)),ro("handleUnauthorizedUser",e,t,null,null)):du(e,r,n))}))},a(fu,Al),fu.prototype.v=function(){var e=this;Qo(this,this.l(),function(){e.i()}),this.l().focus(),Al.prototype.v.call(this)},fu.prototype.o=function(){this.i=null,Al.prototype.o.call(this)},T(fu.prototype,{l:bc}),no.differentDeviceError=function(e,t){var n=new fu(function(){n.m(),eu(e,t)});n.render(t),fd(e,n)},a(pu,Al),pu.prototype.v=function(){var e=this;Qo(this,Ho(this,"firebaseui-id-reset-password-link"),function(){e.l()}),this.i&&(this.w(this.i),this.u().focus()),Al.prototype.v.call(this)},pu.prototype.o=function(){this.l=this.i=null,Al.prototype.o.call(this)},T(pu.prototype,{u:yc,B:bc,w:wc}),a(xu,Al),xu.prototype.v=function(){this.H(),this.B(this.l),Rl(this,this.i(),this.l),this.i().focus(),Al.prototype.v.call(this)},xu.prototype.o=function(){this.l=null,Al.prototype.o.call(this)},T(xu.prototype,{i:mu,w:yu,M:gu,H:bu,u:wu,U:yc,P:bc,B:wc}),a(Su,Al),Su.prototype.v=function(){var e=this;Qo(this,Ho(this,"firebaseui-id-reset-password-link"),function(){e.l()}),this.i&&(this.w(this.i),this.u().focus()),Al.prototype.v.call(this)},Su.prototype.o=function(){this.l=this.i=null,Al.prototype.o.call(this)},T(Su.prototype,{u:yc,B:bc,w:wc}),no.passwordReset=function(e,t,n,r){Ed(e,md(e).verifyPasswordResetCode(n).then(function(i){var s=new xu(i,function(){!function(e,t,n,r,i){var s=n.u();s&&Ed(e,n.I(E(md(e).confirmPasswordReset,md(e)),[r,s],function(){n.m();var r=new Vc(i);r.render(t),fd(e,r)},function(r){ku(e,t,n,r)}))}(e,t,s,n,r)});s.render(t),fd(e,s)},function(){ku(e,t)}))},no.emailChangeRevocation=function(e,t,n){var r=null;Ed(e,md(e).checkActionCode(n).then(function(t){return r=t.data.email,md(e).applyActionCode(n)}).then(function(){!function(e,t,n){var r=new pu(n,function(){Ed(e,r.I(E(md(e).sendPasswordResetEmail,md(e)),[n],function(){r.m(),(r=new Mc(n,void 0,Ma(_d(e)),La(_d(e)))).render(t),fd(e,r)},function(){r.a(En().toString())}))});r.render(t),fd(e,r)}(e,t,r)},function(){var n=new Hc;n.render(t),fd(e,n)}))},no.emailVerification=function(e,t,n,r){Ed(e,md(e).applyActionCode(n).then(function(){var n=new Lc(r);n.render(t),fd(e,n)},function(){var n=new jc;n.render(t),fd(e,n)}))},no.revertSecondFactorAddition=function(e,t,n){var r=null,i=null;Ed(e,md(e).checkActionCode(n).then(function(t){return r=t.data.email,i=t.data.multiFactorInfo,md(e).applyActionCode(n)}).then(function(){!function(e,t,n,r){var i=new Su(r.factorId,function(){i.I(E(md(e).sendPasswordResetEmail,md(e)),[n],function(){i.m(),(i=new Mc(n,void 0,Ma(_d(e)),La(_d(e)))).render(t),fd(e,i)},function(){i.a(En().toString())})},r.phoneNumber);i.render(t),fd(e,i)}(e,t,r,i)},function(){var n=new Uc;n.render(t),fd(e,n)}))},no.verifyAndChangeEmail=function(e,t,n,r){var i=null;Ed(e,md(e).checkActionCode(n).then(function(t){return i=t.data.email,md(e).applyActionCode(n)}).then(function(){var n=new Oc(i,r);n.render(t),fd(e,n)},function(){var n=new Fc;n.render(t),fd(e,n)}))},a(Cu,Al),Cu.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),Eu(this.i(),(this.i().value||"").length),Al.prototype.v.call(this)},Cu.prototype.o=function(){this.u=this.l=null,Al.prototype.o.call(this)},T(Cu.prototype,{i:_c,M:Ic,w:Ac,H:Nc,j:Pc,U:yc,P:bc,B:wc}),no.emailLinkConfirmation=function(e,t,n,r,i,s){var a=new Cu(function(){var i=a.j();i?(a.m(),r(e,t,i,n)):a.i().focus()},function(){a.m(),eu(e,t,i||void 0)},i||void 0,Ma(_d(e)),La(_d(e)));a.render(t),fd(e,a),s&&a.a(s)},a(Tu,Al),Tu.prototype.v=function(){this.u(this.i),this.l().focus(),Al.prototype.v.call(this)},Tu.prototype.o=function(){this.i=null,Al.prototype.o.call(this)},T(Tu.prototype,{l:yc,u:wc}),no.emailLinkNewDeviceLinking=function(e,t,n,r){var i=new Oe(n);if(n=i.a.a.get(Ve.PROVIDER_ID)||null,Ue(i,null),n){var s=new Tu(Ca(_d(e),n),function(){s.m(),r(e,t,i.toString())},Ma(_d(e)),La(_d(e)));s.render(t),fd(e,s)}else eu(e,t)},a(_u,Al),no.emailLinkSignInCallback=Iu,a(Pu,Al),Pu.prototype.v=function(){this.u(this.i),this.l().focus(),Al.prototype.v.call(this)},Pu.prototype.o=function(){this.i=null,Al.prototype.o.call(this)},T(Pu.prototype,{l:yc,u:wc}),no.emailLinkSignInLinking=function(e,t,n){var r=Gs(vd(e));if(Ys(vd(e)),r){var i=r.a.providerId,s=new Pu(n,Ca(_d(e),i),function(){!function(e,t,n,r){var i=Nl(t);ru(e,t,n,function(){eu(e,i,n)},function(r){if(!r.name||"cancel"!=r.name){var s=Qc(r);r&&"auth/network-request-failed"==r.code?t.a(s):(t.m(),eu(e,i,n,s))}},r)}(e,s,n,r)},Ma(_d(e)),La(_d(e)));s.render(t),fd(e,s)}else eu(e,t)},a(Ru,Al),Ru.prototype.v=function(){var e=this;Qo(this,this.l(),function(){e.i()}),Qo(this,Ho(this,"firebaseui-id-trouble-getting-email-link"),function(){e.u()}),this.l().focus(),Al.prototype.v.call(this)},Ru.prototype.o=function(){this.i=this.u=null,Al.prototype.o.call(this)},T(Ru.prototype,{l:bc}),no.emailLinkSignInSent=function(e,t,n,r,i){var s=new Ru(n,function(){s.m(),ro("emailNotReceived",e,t,n,r,i)},function(){s.m(),r()},Ma(_d(e)),La(_d(e)));s.render(t),fd(e,s)},a(Du,Al),Du.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Al.prototype.v.call(this)},Du.prototype.o=function(){this.i=null,Al.prototype.o.call(this)},T(Du.prototype,{u:yc,B:bc,w:wc}),no.emailMismatch=function(e,t,n){var r=Gs(vd(e));if(r){var i=new Du(n.user.email,r.g,function(){var t=i;Ys(vd(e)),Kc(e,t,n)},function(){var t=n.credential.providerId,s=Nl(i);i.m(),r.a?ro("federatedLinking",e,s,r.g,t):ro("federatedSignIn",e,s,r.g,t)},Ma(_d(e)),La(_d(e)));i.render(t),fd(e,i)}else eu(e,t)},a(Mu,Al),Mu.prototype.v=function(){var e=this;Qo(this,this.u(),function(){e.i()}),Qo(this,this.Da(),function(){e.l()}),this.u().focus(),Al.prototype.v.call(this)},Mu.prototype.Da=function(){return Ho(this,"firebaseui-id-resend-email-link")},Mu.prototype.o=function(){this.i=this.l=null,Al.prototype.o.call(this)},T(Mu.prototype,{u:bc}),no.emailNotReceived=function(e,t,n,r,i){var s=new Mu(function(){ru(e,s,n,r,function(e){e=Qc(e),s.a(e)},i)},function(){s.m(),eu(e,t,n)},Ma(_d(e)),La(_d(e)));s.render(t),fd(e,s)},a(Lu,Al),Lu.prototype.v=function(){this.u(this.i),this.l().focus(),Al.prototype.v.call(this)},Lu.prototype.o=function(){this.i=null,Al.prototype.o.call(this)},T(Lu.prototype,{l:yc,u:wc}),no.federatedLinking=function(e,t,n,r,i){var s=Gs(vd(e));if(s&&s.a){var a=new Lu(n,Ca(_d(e),r),function(){Jc(e,a,r,n)},Ma(_d(e)),La(_d(e)));a.render(t),fd(e,a),i&&a.a(i)}else eu(e,t)},no.federatedRedirect=function(e,t,n){var r=new _u;r.render(t),fd(e,r),Jc(e,r,t=Ea(_d(e))[0],n)},no.federatedSignIn=function(e,t,n,r,i){var s=new Lu(n,Ca(_d(e),r),function(){Jc(e,s,r,n)},Ma(_d(e)),La(_d(e)));s.render(t),fd(e,s),i&&s.a(i)},no.passwordLinking=function(e,t,n){var r=Gs(vd(e));Ys(vd(e));var i=r&&r.a;if(i){var s=new Cc(n,function(){!function(e,t,n,r){var i=t.u();i?Ed(e,t.I(E(e.Xb,e),[n,i],function(n){return n=n.user.linkWithCredential(r).then(function(n){return Kc(e,t,{user:n.user,credential:r,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})}),Ed(e,n),n},function(e){if(!e.name||"cancel"!=e.name)switch(e.code){case"auth/wrong-password":qo(t.i(),!1),Xo(t.B(),Qc(e));break;case"auth/too-many-requests":t.a(Qc(e));break;default:Vi("signInWithEmailAndPassword: "+e.message,void 0),t.a(Qc(e))}})):t.i().focus()}(e,s,n,i)},function(){s.m(),ro("passwordRecovery",e,t,n)},Ma(_d(e)),La(_d(e)));s.render(t),fd(e,s)}else eu(e,t)},a(ju,Al),ju.prototype.v=function(){this.B(),this.H(this.l,this.u),lo(this.i())||this.i().focus(),Rl(this,this.i(),this.l),Al.prototype.v.call(this)},ju.prototype.o=function(){this.u=this.l=null,Al.prototype.o.call(this)},T(ju.prototype,{i:_c,w:Ic,B:Ac,M:Nc,j:Pc,U:yc,P:bc,H:wc}),no.passwordRecovery=function(e,t,n,r,i){var s=new ju(function(){!function(e,t){var n=t.j();if(n){var r=Nl(t);Ed(e,t.I(E(md(e).sendPasswordResetEmail,md(e)),[n],function(){t.m();var i=new Mc(n,function(){i.m(),eu(e,r)},Ma(_d(e)),La(_d(e)));i.render(r),fd(e,i)},function(e){qo(t.i(),!1),Xo(t.w(),Qc(e))}))}else t.i().focus()}(e,s)},r?void 0:function(){s.m(),eu(e,t)},n,Ma(_d(e)),La(_d(e)));s.render(t),fd(e,s),i&&s.a(i)},no.passwordSignIn=function(e,t,n,r){var i=new Rc(function(){!function(e,t){var n=t.j(),r=t.u();if(n)if(r){var i=Ko.auth.EmailAuthProvider.credential(n,r);Ed(e,t.I(E(e.bc,e),[n,r],function(n){return Kc(e,t,{user:n.user,credential:i,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})},function(e){if(!e.name||"cancel"!=e.name)switch(e.code){case"auth/email-already-in-use":break;case"auth/email-exists":qo(t.l(),!1),Xo(t.U(),Qc(e));break;case"auth/too-many-requests":case"auth/wrong-password":qo(t.i(),!1),Xo(t.B(),Qc(e));break;default:Vi("verifyPassword: "+e.message,void 0),t.a(Qc(e))}}))}else t.i().focus();else t.l().focus()}(e,i)},function(){var n=i.M();i.m(),ro("passwordRecovery",e,t,n)},n,Ma(_d(e)),La(_d(e)),r);i.render(t),fd(e,i)},a(Uu,Al),Uu.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(Pl(this,this.i(),this.u()),Pl(this,this.u(),this.l())):Pl(this,this.i(),this.l()),this.w&&Rl(this,this.l(),this.w),lo(this.i())?this.B&&!lo(this.u())?this.u().focus():this.l().focus():this.i().focus(),Al.prototype.v.call(this)},Uu.prototype.o=function(){this.H=this.w=null,Al.prototype.o.call(this)},T(Uu.prototype,{i:_c,U:Ic,ea:Ac,jb:Nc,j:Pc,u:Ou,Bc:Fu,Ja:function(){var e=Ou.call(this),t=Fu.call(this);Go(this,e,function(){Zo(t)&&(qo(e,!0),Jo(t))})},M:function(){var e=Ou.call(this),t=Fu.call(this),n=lo(e);return qo(e,n=!/^[\s\xa0]*$/.test(null==n?"":String(n))),n?(Jo(t),t=!0):(Xo(t,sn("Enter your account name").toString()),t=!1),t?q(lo(e)):null},l:mu,ba:yu,lb:gu,ua:bu,P:wu,Nb:yc,Mb:bc,pa:wc}),no.passwordSignUp=function(e,t,n,r,i,s){var a=new Uu(ja(_d(e)),function(){zu(e,a)},i?void 0:function(){a.m(),eu(e,t)},n,r,Ma(_d(e)),La(_d(e)),s);a.render(t),fd(e,a)},a($u,Al),$u.prototype.v=function(){var e=this;this.U(this.jb),Qn(this.i,"tick",this.w,!1,this),this.i.start(),Qo(this,Ho(this,"firebaseui-id-change-phone-number-link"),function(){e.P()}),Qo(this,this.Da(),function(){e.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),Al.prototype.v.call(this)},$u.prototype.o=function(){this.M=this.H=this.l=this.P=null,wo(this.i),Zn(this.i,"tick",this.w),this.i=null,Al.prototype.o.call(this)},$u.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(wo(this.i),Zn(this.i,"tick",this.w),this.ua(),this.lb())},T($u.prototype,{u:Vu,pa:Bu,Ja:function(e){var t=Vu.call(this),n=Bu.call(this);Go(this,t,function(){Zo(n)&&(qo(t,!0),Jo(n))}),e&&Yo(this,t,function(){e()})},ba:function(){var e=q(lo(Vu.call(this))||"");return/^\d{6}$/.test(e)?e:null},Fb:Hu,U:function(e){Ht(Hu.call(this),sn("Resend code in "+(9<e?"0:":"0:0")+e).toString())},ua:function(){Jo(this.Fb())},Da:function(){return Ho(this,"firebaseui-id-resend-link")},lb:function(){Xo(this.Da())},Nb:yc,Mb:bc,ea:wc}),no.phoneSignInFinish=function(e,t,n,r,i,s){var a=new $u(function(){a.m(),ro("phoneSignInStart",e,t,n)},function(){!function(e,t,n,r){function i(e){t.u().focus(),qo(t.u(),!1),Xo(t.pa(),e)}var s=t.ba();s?(t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",sn("Verifying...").toString()),Ed(e,t.I(E(r.confirm,r),[s],function(n){t.h(),t.$("firebaseui-icon-done",sn("Verified!").toString());var r=setTimeout(function(){t.h(),t.m();var r={user:gd(e).currentUser,credential:null,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo};Kc(e,t,r,!0)},1e3);Ed(e,function(){t&&t.h(),clearTimeout(r)})},function(r){if(r.name&&"cancel"==r.name)t.h();else{var s=qc(r);switch(r=Qc(s),s.code){case"auth/credential-already-in-use":t.h();break;case"auth/code-expired":s=Nl(t),t.h(),t.m(),ro("phoneSignInStart",e,s,n,r);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":t.h(),i(r);break;default:t.h(),t.a(r)}}}))):i(sn("Wrong code. Try again.").toString())}(e,a,n,i)},function(){a.m(),eu(e,t)},function(){a.m(),ro("phoneSignInStart",e,t,n)},ga(n),r,Ma(_d(e)),La(_d(e)));a.render(t),fd(e,a),s&&a.a(s)};var Wu=!(Qe||$e("Safari")&&!(We()||$e("Coast")||$e("Opera")||$e("Edge")||$e("Firefox")||$e("FxiOS")||$e("Silk")||$e("Android")));function qu(e,t){return/-[a-z]/.test(t)?null:Wu&&e.dataset?!$e("Android")||We()||$e("Firefox")||$e("FxiOS")||$e("Opera")||$e("Silk")||t in e.dataset?void 0===(e=e.dataset[t])?null:e:null:e.getAttribute("data-"+String(t).replace(/([A-Z])/g,"-$1").toLowerCase())}function Ku(e,t,n){var r=this;e=Jt(pl,{items:e},null,this.s),xl.call(this,e,!0,!0),n&&(n=function(e,t){e=(e||document).getElementsByTagName("BUTTON");for(var n=0;n<e.length;n++)if(qu(e[n],"listboxid")===t)return e[n];return null}(e,n))&&(n.focus(),function(e,t){var n=(t=t||zt(document))||zt(document),r=Fo(e),i=Fo(n);if(!Qe||9<=Number(ot)){a=jo(n,"borderLeftWidth");var s=jo(n,"borderRightWidth");o=jo(n,"borderTopWidth"),l=jo(n,"borderBottomWidth"),s=new Lo(parseFloat(o),parseFloat(s),parseFloat(l),parseFloat(a))}else{var a=zo(n,"borderLeft");s=zo(n,"borderRight");var o=zo(n,"borderTop"),l=zo(n,"borderBottom");s=new Lo(o,s,l,a)}n==zt(document)?(a=r.a-n.scrollLeft,r=r.g-n.scrollTop,!Qe||10<=Number(ot)||(a+=s.left,r+=s.top)):(a=r.a-i.a-s.left,r=r.g-i.g-s.top),i=e.offsetWidth,s=e.offsetHeight,o=et&&!i&&!s,e=d(i)&&!o||!e.getBoundingClientRect?new Mt(i,s):new Mt((e=Oo(e)).right-e.left,e.bottom-e.top),i=n.clientHeight-e.height,s=n.scrollLeft,o=n.scrollTop,n=new Dt(s+=Math.min(a,Math.max(a-(n.clientWidth-e.width),0)),o+=Math.min(r,Math.max(r-i,0))),t.scrollLeft=n.a,t.scrollTop=n.g}(n,e)),Qo(this,e,function(e){(e=(e=$t(e.target,"firebaseui-id-list-box-dialog-button"))&&qu(e,"listboxid"))&&(Sl.call(r),t(e))})}function Gu(){return Ho(this,"firebaseui-id-phone-number")}function Yu(){return Ho(this,"firebaseui-id-country-selector")}function Qu(){return Ho(this,"firebaseui-id-phone-number-error")}function Ju(e,t){var n=e.a,r=Xu("1-US-0",n),i=null;if(!(i=t&&Xu(t,n)?t:r?"1-US-0":0<n.length?n[0].c:null))throw Error("No available default country");td.call(this,i,e)}function Xu(e,t){return!(!(e=la(e))||!U(t,e))}function Zu(e){return"firebaseui-flag-"+e.f}function ed(e){var t=this;Ku.call(this,function(e){return e.map(function(e){return{id:e.c,Ma:"firebaseui-flag "+Zu(e),label:e.name+" +"+e.b}})}(e.a),function(n){td.call(t,n,e,!0),t.O().focus()},this.Ba)}function td(e,t,n){var r=la(e);r&&(n&&((t=oa(t,n=q(lo(Gu.call(this))||""))).length&&t[0].b!=r.b&&(n="+"+r.b+n.substr(t[0].b.length+1),co(Gu.call(this),n))),t=la(this.Ba),this.Ba=e,e=Ho(this,"firebaseui-id-country-selector-flag"),t&&oo(e,Zu(t)),ao(e,Zu(r)),Ht(Ho(this,"firebaseui-id-country-selector-code"),"+"+r.b))}function nd(e,t,n,r,i,s,a,o,l,c){Al.call(this,fc,{Gb:t,Aa:l||null,Va:!!n,ia:!!s},c,"phoneSignInStart",{F:r,D:i}),this.H=o||null,this.M=t,this.l=e,this.w=n||null,this.pa=a||null}function rd(e,t,n,r){try{var i=t.U(qa)}catch(s){return}i?$a?(t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",sn("Verifying...").toString()),Ed(e,t.I(E(e.cc,e),[ga(i),n],function(n){var r=Nl(t);t.$("firebaseui-icon-done",sn("Code sent!").toString());var s=setTimeout(function(){t.h(),t.m(),ro("phoneSignInFinish",e,r,i,15,n)},1e3);Ed(e,function(){t&&t.h(),clearTimeout(s)})},function(n){if(t.h(),!n.name||"cancel"!=n.name){grecaptcha.reset(Ka),$a=null;var r=n&&n.message||"";if(n.code)switch(n.code){case"auth/too-many-requests":r=sn("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":return t.O().focus(),void Xo(t.B(),kn().toString());case"auth/admin-restricted-operation":if(Aa(_d(e)))return n=Nl(t),t.m(),void ro("handleUnauthorizedUser",e,n,ga(i),Ko.auth.PhoneAuthProvider.PROVIDER_ID);r=Qc(n);break;default:r=Qc(n)}t.a(r)}}))):Wa?Xo(t.u(),sn("Solve the reCAPTCHA").toString()):!Wa&&r&&t.i().click():(t.O().focus(),Xo(t.B(),kn().toString()))}function id(e,t,n,r,i){Al.call(this,hc,{Sb:t},i,"providerSignIn",{F:n,D:r}),this.i=e}function sd(e,t,n,r,i,s,a){Al.call(this,Dl,{email:n,Va:!!t,ia:!!s},a,"signIn",{F:r,D:i}),this.i=e,this.u=t}function ad(e,t,n,r,i,s,a){Al.call(this,Ql,{kc:e,yb:n,Eb:!!r},a,"unauthorizedUser",{F:i,D:s}),this.l=t,this.i=r}function od(e,t,n,r,i,s){Al.call(this,Jl,{email:e},s,"unsupportedProvider",{F:r,D:i}),this.l=t,this.i=n}function ld(e,t){this.$=!1;var n=dd(t);if(ud[n])throw Error('An AuthUI instance already exists for the key "'+n+'"');ud[n]=this,this.a=e,this.u=null,this.Y=!1,cd(this.a),this.h=Ko.initializeApp({apiKey:e.app.options.apiKey,authDomain:e.app.options.authDomain},e.app.name+"-firebaseui-temp").auth(),(e=e.emulatorConfig)&&(n=e.port,this.h.useEmulator(e.protocol+"://"+e.host+(null===n?"":":"+n),e.options)),cd(this.h),this.h.setPersistence&&this.h.setPersistence(Ko.auth.Auth.Persistence.SESSION),this.oa=t,this.ca=new wa,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=yi.Xa(),this.j=this.C=null,this.da=this.A=!1}function cd(e){e&&e.INTERNAL&&e.INTERNAL.logFramework&&e.INTERNAL.logFramework("FirebaseUI-web")}a(nd,Al),nd.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||Pl(this,this.O(),this.i()),Rl(this,this.i(),this.l),this.O().focus(),Eu(this.O(),(this.O().value||"").length),Al.prototype.v.call(this)},nd.prototype.o=function(){this.w=this.l=null,Al.prototype.o.call(this)},T(nd.prototype,{Cb:kl,O:Gu,B:Qu,ea:function(e,t,n){var r=this,i=Gu.call(this),s=Yu.call(this),a=Qu.call(this),o=e||fa,l=o.a;if(0==l.length)throw Error("No available countries provided.");Ju.call(r,o,t),Qo(this,s,function(){ed.call(r,o)}),Go(this,i,function(){Zo(a)&&(qo(i,!0),Jo(a));var e=q(lo(i)||""),t=la(this.Ba),n=oa(o,e);e=Xu("1-US-0",l),n.length&&n[0].b!=t.b&&(t=n[0],td.call(r,"1"==t.b&&e?"1-US-0":t.c,o))}),n&&Yo(this,i,function(){n()})},U:function(e){var t=q(lo(Gu.call(this))||""),n=(e=e||fa).a,r=oa(fa,t);if(r.length&&!U(n,r[0]))throw co(Gu.call(this)),Gu.call(this).focus(),Xo(Qu.call(this),sn("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return n=la(this.Ba),r.length&&r[0].b!=n.b&&td.call(this,r[0].c,e),r.length&&(t=t.substr(r[0].b.length+1)),t?new pa(this.Ba,t):null},Ja:Yu,ba:function(){return Ho(this,"firebaseui-recaptcha-container")},u:function(){return Ho(this,"firebaseui-id-recaptcha-error")},i:yc,ua:bc,P:wc}),no.phoneSignInStart=function(e,t,n,r){var i=function(e){var t=null;if(Sa(e).forEach(function(e){e.provider==Ko.auth.PhoneAuthProvider.PROVIDER_ID&&x(e.recaptchaParameters)&&!Array.isArray(e.recaptchaParameters)&&(t=re(e.recaptchaParameters))}),t){var n=[];to.forEach(function(e){void 0!==t[e]&&(n.push(e),delete t[e])}),n.length&&Wi('The following provided "recaptchaParameters" keys are not allowed: '+n.join(", "))}return t}(_d(e))||{};$a=null,Wa=!(i&&"invisible"===i.size);var s=Zc(e),a=function(e){var t=(e=ka(e,Ko.auth.PhoneAuthProvider.PROVIDER_ID))&&e.defaultCountry||null;t=t&&ca(t);var n=null;return e&&"string"==typeof e.loginHint&&(n=ma(e.loginHint)),t&&t[0]||n&&la(n.a)||null}(_d(e)),o=s?function(e){var t=null;return(e=ka(e,Ko.auth.PhoneAuthProvider.PROVIDER_ID))&&"string"==typeof e.loginHint&&(t=ma(e.loginHint)),e&&e.defaultNationalNumber||t&&t.Aa||null}(_d(e)):null;a=n&&n.a||a&&a.c||null,n=n&&n.Aa||o,(o=Ra(_d(e)))&&da(o),qa=o?new aa(Ra(_d(e))):fa;var l=new nd(function(t){rd(e,l,c,!(!t||!t.keyCode))},Wa,s?null:function(){c.clear(),l.m(),eu(e,t)},Ma(_d(e)),La(_d(e)),s,qa,a,n);l.render(t),fd(e,l),r&&l.a(r),i.callback=function(t){l.u()&&Jo(l.u()),$a=t,Wa||rd(e,l,c)},i["expired-callback"]=function(){$a=null};var c=new Ko.auth.RecaptchaVerifier(Wa?l.ba():l.i(),i,gd(e).app);Ed(e,l.I(E(c.render,c),[],function(e){Ka=e},function(n){n.name&&"cancel"==n.name||(n=Qc(n),l.m(),eu(e,t,void 0,n))}))},no.prefilledEmailSignIn=function(e,t,n){var r=new _u;r.render(t),fd(e,r),Ed(e,r.I(E(md(e).fetchSignInMethodsForEmail,md(e)),[n],function(i){r.m();var s=!(!Xc(e)||!yd(e));nu(e,t,i,n,void 0,s)},function(i){i=Qc(i),r.m(),ro("signIn",e,t,n,i)}))},a(id,Al),id.prototype.v=function(){this.l(this.i),Al.prototype.v.call(this)},id.prototype.o=function(){this.i=null,Al.prototype.o.call(this)},T(id.prototype,{l:function(e){function t(t){e(t)}for(var n=this.g?jt("firebaseui-id-idp-button",this.g||this.s.a):[],r=0;r<n.length;r++){var i=n[r];Qo(this,i,C(t,qu(i,"providerId")))}}}),no.providerSignIn=function(e,t,n,r){var i=new id(function(n){n==Ko.auth.EmailAuthProvider.PROVIDER_ID?(i.m(),iu(e,t,r)):n==Ko.auth.PhoneAuthProvider.PROVIDER_ID?(i.m(),ro("phoneSignInStart",e,t)):"anonymous"==n?function(e,t){Ed(e,t.I(E(e.$b,e),[],function(n){return t.m(),Kc(e,t,n,!0)},function(e){e.name&&"cancel"==e.name||(Vi("ContinueAsGuest: "+e.code,void 0),e=Qc(e),t.a(e))}))}(e,i):Jc(e,i,n,r),Id(e),e.l.cancel()},Ta(_d(e)),Ma(_d(e)),La(_d(e)));i.render(t),fd(e,i),n&&i.a(n),function(e){Id(e);try{bi(e.l,_a(_d(e)),function(e){var t;return Id(e),(t=e.Z)||(e=_d(e),e=Pa(e,Ko.auth.GoogleAuthProvider.PROVIDER_ID),t=!(!e||"select_account"!==e.prompt)),t}(e)).then(function(t){return!!e.g&&function(e,t,n){if(n&&n.credential&&n.clientId===_a(_d(e))){if(Na(_d(e),Ko.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var r=JSON.parse(atob(n.credential.split(".")[1])).email}catch(i){}return Jc(e,t,Ko.auth.GoogleAuthProvider.PROVIDER_ID,r),Fr(!0)}return i=Ko.auth.GoogleAuthProvider.credential(n.credential),s=!1,i=t.I(E(e.ac,e),[i],function(n){var r=Nl(t);t.m(),ro("callback",e,r,Fr(n)),s=!0},function(n){if(!(n.name&&"cancel"==n.name||n&&"auth/credential-already-in-use"==n.code))if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential){var r=Nl(t);t.m(),ro("callback",e,r,Ur(n))}else n&&"auth/admin-restricted-operation"==n.code&&Aa(_d(e))?(n=Nl(t),t.m(),ro("handleUnauthorizedUser",e,n,null,Ko.auth.GoogleAuthProvider.PROVIDER_ID)):(n=Qc(n),t.a(n))}),Ed(e,i),i.then(function(){return s},function(){return!1})}var i,s;return n&&t.a(sn("The selected credential for the authentication provider is not supported!").toString()),Fr(!1)}(e,e.g,t)})}catch(t){}}(e)},no.sendEmailLinkForSignIn=function(e,t,n,r){var i=new lu;i.render(t),fd(e,i),ru(e,i,n,r,function(r){i.m(),r&&"auth/admin-restricted-operation"==r.code&&Aa(_d(e))?ro("handleUnauthorizedUser",e,t,n,Ko.auth.EmailAuthProvider.PROVIDER_ID):(r=Qc(r),ro("signIn",e,t,n,r))})},a(sd,Al),sd.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),Eu(this.l(),(this.l().value||"").length),Al.prototype.v.call(this)},sd.prototype.o=function(){this.u=this.i=null,Al.prototype.o.call(this)},T(sd.prototype,{l:_c,M:Ic,w:Ac,H:Nc,j:Pc,U:yc,P:bc,B:wc}),no.signIn=function(e,t,n,r){var i=Xc(e),s=new sd(function(){var t=s,n=t.j()||"";n&&tu(e,t,n)},i?null:function(){s.m(),eu(e,t,n)},n,Ma(_d(e)),La(_d(e)),i);s.render(t),fd(e,s),r&&s.a(r)},a(ad,Al),ad.prototype.v=function(){var e=this,t=Ho(this,"firebaseui-id-unauthorized-user-help-link");this.i&&t&&Qo(this,t,function(){e.i()}),Qo(this,this.u(),function(){e.l()}),this.u().focus(),Al.prototype.v.call(this)},ad.prototype.o=function(){this.i=this.l=null,Al.prototype.o.call(this)},T(ad.prototype,{u:bc}),no.handleUnauthorizedUser=function(e,t,n,r){function i(){eu(e,t)}r===Ko.auth.EmailAuthProvider.PROVIDER_ID?i=function(){iu(e,t)}:r===Ko.auth.PhoneAuthProvider.PROVIDER_ID&&(i=function(){ro("phoneSignInStart",e,t)});var s=null,a=null;r===Ko.auth.EmailAuthProvider.PROVIDER_ID&&Ia(_d(e))?(s=function(e){return(e=ka(e,Ko.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp&&e.disableSignUp.adminEmail||null}(_d(e)),a=function(e){if((e=ka(e,Ko.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp){var t=e.disableSignUp.helpLink||null;if(t&&"string"==typeof t)return function(){Xr(t)}}return null}(_d(e))):Aa(_d(e))&&(s=function(e){return(e=e.a.get("adminRestrictedOperation"))&&e.adminEmail?e.adminEmail:null}(_d(e)),a=function(e){if(e=e.a.get("adminRestrictedOperation")||null){var t=e.helpLink||null;if(t&&"string"==typeof t)return function(){Xr(t)}}return null}(_d(e)));var o=new ad(n,function(){o.m(),i()},s,a,Ma(_d(e)),La(_d(e)));o.render(t),fd(e,o)},a(od,Al),od.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Al.prototype.v.call(this)},od.prototype.o=function(){this.i=this.l=null,Al.prototype.o.call(this)},T(od.prototype,{u:yc,B:bc,w:wc}),no.unsupportedProvider=function(e,t,n){var r=new od(n,function(){r.m(),ro("passwordRecovery",e,t,n)},function(){r.m(),eu(e,t,n)},Ma(_d(e)),La(_d(e)));r.render(t),fd(e,r)};var ud={};function dd(e){return e||"[DEFAULT]"}function hd(e){return Id(e),e.i||(e.i=Sd(e,function(t){return t&&!Gs(vd(e))?Fr(gd(e).getRedirectResult().then(function(e){return e},function(t){if(t&&"auth/email-already-in-use"==t.code&&t.email&&t.credential)throw t;return Pd(e,t)})):Fr(md(e).getRedirectResult().then(function(t){return xa(_d(e))&&!t.user&&e.j&&!e.j.isAnonymous?gd(e).getRedirectResult():t}))})),e.i}function fd(e,t){Id(e),e.g=t}var pd=null;function md(e){return Id(e),e.h}function gd(e){return Id(e),e.a}function vd(e){return Id(e),e.oa}function yd(e){return Id(e),e.O?e.O.emailHint:void 0}function bd(e){return"signIn"===((e=new Oe(e)).a.a.get(Ve.ub)||null)&&!!e.a.a.get(Ve.$a)}function wd(e,t,n,r){Id(e),void 0!==e.a.languageCode&&(e.u=e.a.languageCode);var i="en".replace(/_/g,"-");e.a.languageCode=i,e.h.languageCode=i,e.Y=!0,void 0!==e.a.tenantId&&(e.h.tenantId=e.a.tenantId),e.ib(n),e.O=r||null;var s=u.document;e.C?e.C.then(function(){"complete"==s.readyState?xd(e,t):Xn(window,"load",function(){xd(e,t)})}):"complete"==s.readyState?xd(e,t):Xn(window,"load",function(){xd(e,t)})}function xd(e,t){var n=Zr(t,"Could not find the FirebaseUI widget element on the page.");if(n.setAttribute("lang","en".replace(/_/g,"-")),pd){var r=pd;Id(r),Gs(vd(r))&&Wi("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),pd.reset()}if(pd=e,e.T=n,function(e,t){e.L=null,e.J=new gr(t),e.J.register(),Qn(e.J,"pageEnter",function(t){if(t=t&&t.pageId,e.L!=t){var n=_d(e);(n=Ha(n).uiChanged||null)&&n(e.L,t),e.L=t}})}(e,n),Ds(new Ms)&&Ds(new Ls)){t=Zr(t,"Could not find the FirebaseUI widget element on the page."),n=(n=ge(n=ei(),r=ta(_d(e).a,"queryParameterForSignInSuccessUrl")))?yt(wt(n)).toString():null;e:{r=ei();var i=Da(_d(e));for(s in r=ge(r,i)||"",Za)if(Za[s].toLowerCase()==r.toLowerCase()){var s=Za[s];break e}s="callback"}switch(s){case"callback":n&&(s=vd(e),qs(Vs,n,s)),e.nb()?ro("callback",e,t):eu(e,t,yd(e));break;case"resetPassword":ro("passwordReset",e,t,su(),au());break;case"recoverEmail":ro("emailChangeRevocation",e,t,su());break;case"revertSecondFactorAddition":ro("revertSecondFactorAddition",e,t,su());break;case"verifyEmail":ro("emailVerification",e,t,su(),au());break;case"verifyAndChangeEmail":ro("verifyAndChangeEmail",e,t,su(),au());break;case"signIn":ro("emailLinkSignInCallback",e,t,ei()),Ad();break;case"select":n&&(s=vd(e),qs(Vs,n,s)),eu(e,t);break;default:throw Error("Unhandled widget operation.")}(t=Ha(t=_d(e)).uiShown||null)&&t()}else t=Zr(t,"Could not find the FirebaseUI widget element on the page."),(s=new Wc(sn("The browser you are using does not support Web Storage. Please try again in a different browser.").toString())).render(t),fd(e,s);t=e.g&&"blank"==e.g.Ga&&Fa(_d(e)),Js(vd(e))&&!t&&(Td(e,(t=Js(vd(e))).a),Ws(zs,vd(e)))}function Sd(e,t){if(e.A)return t(kd(e));if(Ed(e,function(){e.A=!1}),xa(_d(e))){var n=new Pr(function(n){Ed(e,e.a.onAuthStateChanged(function(r){e.j=r,e.A||(e.A=!0,n(t(kd(e))))}))});return Ed(e,n),n}return e.A=!0,t(null)}function kd(e){return Id(e),xa(_d(e))&&e.j&&e.j.isAnonymous?e.j:null}function Ed(e,t){if(Id(e),t){e.s.push(t);var n=function(){B(e.s,function(e){return e==t})};"function"!=typeof t&&t.then(n,n)}}function Cd(e){void 0!==e.a.languageCode&&e.Y&&(e.Y=!1,e.a.languageCode=e.u)}function Td(e,t){e.a.tenantId=t,e.h.tenantId=t}function _d(e){return Id(e),e.ca}function Id(e){if(e.$)throw Error("AuthUI instance is deleted!")}function Ad(){var e=ei();if(bd(e)){for(var t in e=new Oe(e),Ve)Ve.hasOwnProperty(t)&&De(e.a.a,Ve[t]);t={state:"signIn",mode:"emailLink",operation:"clear"};var n=u.document.title;u.history&&u.history.replaceState&&u.history.replaceState(t,n,e.toString())}}function Nd(e){return Id(e),md(e).signOut()}function Pd(e,t,n){if(Id(e),t&&t.code&&("auth/email-already-in-use"==t.code||"auth/credential-already-in-use"==t.code)){var r=Ba(_d(e));return Fr().then(function(){return r(new An("anonymous-upgrade-merge-conflict",null,n||t.credential))}).then(function(){throw e.g&&(e.g.m(),e.g=null),t})}return Ur(t)}function Rd(e,t,n,r){Al.call(this,vc,void 0,r,"providerMatchByEmail",{F:t,D:n}),this.i=e}function Dd(e,t,n,r,i){Al.call(this,gc,{ec:t},i,"selectTenant",{F:n,D:r}),this.i=e}function Md(e){Al.call(this,Ul,void 0,e,"spinner")}function Ld(e){for(var t in this.a=new Xs,Zs(this.a,"authDomain"),Zs(this.a,"displayMode",Hd),Zs(this.a,"tenants"),Zs(this.a,"callbacks"),Zs(this.a,"tosUrl"),Zs(this.a,"privacyPolicyUrl"),e)if(e.hasOwnProperty(t))try{ea(this.a,t,e[t])}catch(n){Vi('Invalid config: "'+t+'"',void 0)}}function jd(e){return e.a.get("callbacks")||{}}function Od(e){var t=e.a.get("tosUrl")||null;if(e=e.a.get("privacyPolicyUrl")||null,t&&!e&&Wi("Privacy Policy URL is missing, the link will not be displayed."),t&&e){if("function"==typeof t)return t;if("string"==typeof t)return function(){Xr(t)}}return null}function Fd(e){var t=e.a.get("tosUrl")||null,n=e.a.get("privacyPolicyUrl")||null;if(n&&!t&&Wi("Terms of Service URL is missing, the link will not be displayed."),t&&n){if("function"==typeof n)return n;if("string"==typeof n)return function(){Xr(n)}}return null}function Ud(e,t){if(!(e=e.a.get("tenants"))||!e.hasOwnProperty(t)&&!e.hasOwnProperty(Wd))throw Error("Invalid tenant configuration!")}function zd(e,t,n){if(!(e=e.a.get("tenants")))throw Error("Invalid tenant configuration!");var r=[];if(!(e=e[t]||e[Wd]))return Vi("Invalid tenant configuration: "+t+" is not configured!",void 0),r;if(!(t=e.signInOptions))throw Error("Invalid tenant configuration: signInOptions are invalid!");return t.forEach(function(e){if("string"==typeof e)r.push(e);else if("string"==typeof e.provider){var t=e.hd;t&&n?(t instanceof RegExp?t:new RegExp("@"+t.replace(".","\\.")+"$")).test(n)&&r.push(e.provider):r.push(e.provider)}else Vi(e="Invalid tenant configuration: signInOption "+JSON.stringify(e)+" is invalid!",void 0)}),r}function Vd(e,t,n){return e=function(e,t){var n=Bd,r=void 0===r?{}:r;return Ud(e,t),e=e.a.get("tenants"),function(e,t,n){return n=void 0===n?{}:n,Object.keys(e).filter(function(e){return t.includes(e)}).reduce(function(t,n){return t[n]=e[n],t},n)}(e[t]||e[Wd],n,r)}(e,t),(t=e.signInOptions)&&n&&(t=t.filter(function(e){return"string"==typeof e?n.includes(e):n.includes(e.provider)}),e.signInOptions=t),e}(e=ld.prototype).nb=function(){return Id(this),!!Js(vd(this))||bd(ei())},e.start=function(e,t){wd(this,e,t)},e.Db=function(){Id(this),this.Z=!0},e.reset=function(){Id(this);var e=this;this.T&&this.T.removeAttribute("lang"),this.J&&pr(this.J),Cd(this),this.O=null,Ad(),Ws(zs,vd(this)),Id(this),this.l.cancel(),this.i=Fr({user:null,credential:null}),pd==this&&(pd=null),this.T=null;for(var t=0;t<this.s.length;t++)"function"==typeof this.s[t]?this.s[t]():this.s[t].cancel&&this.s[t].cancel();this.s=[],Ys(vd(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=Nd(this).then(function(){e.C=null},function(){e.C=null}))},e.ib=function(e){Id(this);var t,n=this.ca;for(t in e)try{ea(n.a,t,e[t])}catch(r){Vi('Invalid config: "'+t+'"',void 0)}tt&&ea(n.a,"popupMode",!1),Ra(n),!this.da&&za(_d(this))&&(Wi("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)},e.Wb=function(){Id(this);var e=_d(this),t=ta(e.a,"widgetUrl");e=Da(e);for(var n,r=t.search(me),i=0,s=[];0<=(n=pe(t,i,e,r));)s.push(t.substring(i,n)),i=Math.min(t.indexOf("&",n)+1||r,r);s.push(t.substr(i)),t=s.join("").replace(ve,"$1"),(e+=r="="+encodeURIComponent("select"))?(0>(r=t.indexOf("#"))&&(r=t.length),0>(i=t.indexOf("?"))||i>r?(i=r,n=""):n=t.substring(i+1,r),r=(t=[t.substr(0,i),n,t.substr(r)])[1],t[1]=e?r?r+"&"+e:e:r,r=t[0]+(t[1]?"?"+t[1]:"")+t[2]):r=t,_d(this).a.get("popupMode")?(r=r||"about:blank",(e={width:500,height:600,top:0<(e=(window.screen.availHeight-600)/2)?e:0,left:0<(t=(window.screen.availWidth-500)/2)?t:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1}).target=e.target||r.target||"google_popup",e.width=e.width||690,e.height=e.height||500,(e=Qr(r,e))&&e.focus()):Rt(window.location,r)},e.Wa=function(){var e=this;return Id(this),this.h.app.delete().then(function(){var t=dd(vd(e));delete ud[t],e.reset(),e.$=!0})},e.Ib=function(e,t){Id(this);var n=this,r=function(){for(var e=32,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();if(!Oa(_d(this)))return Ur(Error("Email link sign-in should be enabled to trigger email sending."));var i=function(e){if(Oa(e)){var t={url:ei(),handleCodeInApp:!0};(e=ka(e,Ko.auth.EmailAuthProvider.PROVIDER_ID))&&"function"==typeof e.emailLinkSignIn&&se(t,e.emailLinkSignIn()),e=t.url;var n=ei();n instanceof ye||(n=Se(n)),e instanceof ye||(e=Se(e));var r=n;n=new ye(r);var i=!!e.j;i?be(n,e.j):i=!!e.A,i?n.A=e.A:i=!!e.h,i?n.h=e.h:i=null!=e.C;var s=e.g;if(i)we(n,e.C);else if(i=!!e.g)if("/"!=s.charAt(0)&&(r.h&&!r.g?s="/"+s:-1!=(r=n.g.lastIndexOf("/"))&&(s=n.g.substr(0,r+1)+s)),".."==s||"."==s)s="";else if(-1!=s.indexOf("./")||-1!=s.indexOf("/.")){r=0==s.lastIndexOf("/",0),s=s.split("/");for(var a=[],o=0;o<s.length;){var l=s[o++];"."==l?r&&o==s.length&&a.push(""):".."==l?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),r&&o==s.length&&a.push("")):(a.push(l),r=!0)}s=a.join("/")}return i?n.g=s:i=""!==e.a.toString(),i?xe(n,Le(e.a)):i=!!e.s,i&&(n.s=e.s),t.url=n.toString(),t}return null}(_d(this)),s=new Oe(i.url);return function(e,t){t?e.a.a.set(Ve.Sa,t):De(e.a.a,Ve.Sa)}(s,r),t&&t.a&&(function(e,t,n){qs(Hs,xs(e,JSON.stringify(Xi(t))),n)}(r,t,vd(this)),Ue(s,t.a.providerId)),function(e,t){null!==t?e.a.a.set(Ve.Qa,t?"1":"0"):De(e.a.a,Ve.Qa)}(s,function(e){return!(!(e=ka(e,Ko.auth.EmailAuthProvider.PROVIDER_ID))||!e.forceSameDevice)}(_d(this))),Sd(this,function(t){return t&&((t=t.uid)?s.a.a.set(Ve.Pa,t):De(s.a.a,Ve.Pa)),i.url=s.toString(),md(n).sendSignInLinkToEmail(e,i)}).then(function(){var t=vd(n),i={};i.email=e,qs(Bs,xs(r,JSON.stringify(i)),t)},function(e){throw Ws(Hs,vd(n)),Ws(Bs,vd(n)),e})},e.bc=function(e,t){Id(this);var n=this;return md(this).signInWithEmailAndPassword(e,t).then(function(r){return Sd(n,function(i){return i?Nd(n).then(function(){return Pd(n,{code:"auth/email-already-in-use"},Ko.auth.EmailAuthProvider.credential(e,t))}):r})})},e.Yb=function(e,t){Id(this);var n=this;return Sd(this,function(r){if(r){var i=Ko.auth.EmailAuthProvider.credential(e,t);return r.linkWithCredential(i)}return md(n).createUserWithEmailAndPassword(e,t)})},e.ac=function(e){Id(this);var t=this;return Sd(this,function(n){return n?n.linkWithCredential(e).then(function(e){return e},function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return Pd(t,n,e)}):md(t).signInWithCredential(e)})},e.dc=function(e){Id(this);var t=this,n=this.i;return this.i=null,Sd(this,function(n){return n&&!Gs(vd(t))?n.linkWithRedirect(e):md(t).signInWithRedirect(e)}).then(function(){},function(e){throw t.i=n,e})},e.cc=function(e,t){Id(this);var n=this;return Sd(this,function(r){return r?r.linkWithPhoneNumber(e,t).then(function(e){return new Si(e,function(e){if("auth/credential-already-in-use"==e.code)return Pd(n,e);throw e})}):gd(n).signInWithPhoneNumber(e,t).then(function(e){return new Si(e)})})},e.$b=function(){return Id(this),gd(this).signInAnonymously()},e.Xb=function(e,t){return Id(this),md(this).signInWithEmailAndPassword(e,t)},a(Rd,Al),Rd.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),Eu(this.l(),(this.l().value||"").length),Al.prototype.v.call(this)},Rd.prototype.o=function(){this.i=null,Al.prototype.o.call(this)},T(Rd.prototype,{l:_c,H:Ic,u:Ac,B:Nc,j:Pc,M:yc,w:wc}),a(Dd,Al),Dd.prototype.v=function(){!function(e,t){function n(e){t(e)}for(var r=e.g?jt("firebaseui-id-tenant-selection-button",e.g||e.s.a):[],i=0;i<r.length;i++){var s=r[i];Qo(e,s,C(n,qu(s,"tenantId")))}}(this,this.i),Al.prototype.v.call(this)},Dd.prototype.o=function(){this.i=null,Al.prototype.o.call(this)},a(Md,Al);var Bd=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],Hd="optionFirst",$d={pc:Hd,oc:"identifierFirst"},Wd="*";function qd(e,t){var n=this;this.s=Zr(e),this.a={},Object.keys(t).forEach(function(e){n.a[e]=new Ld(t[e])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(e){this.ob=e||null},enumerable:!1})}function Kd(e){e.j&&e.j.reset(),e.mb(),e.g&&e.g.m()}(e=qd.prototype).Ub=function(e,t){var n=this;Kd(this);var r=e.apiKey;return new Pr(function(e,i){if(n.a.hasOwnProperty(r)){var s=jd(n.a[r]).selectTenantUiHidden||null;if(function(e){for(var t in e=e.a.get("displayMode"),$d)if($d[t]===e)return $d[t];return Hd}(n.a[r])===Hd){var a=[];t.forEach(function(e){e=e||"_";var t=n.a[r].a.get("tenants");if(!t)throw Error("Invalid tenant configuration!");(t=t[e]||t[Wd])?e={tenantId:"_"!==e?e:null,V:t.fullLabel||null,displayName:t.displayName,za:t.iconUrl,ta:t.buttonColor}:(Vi("Invalid tenant configuration: "+e+" is not configured!",void 0),e=null),e&&a.push(e)});var o=function(t){t={tenantId:t,providerIds:zd(n.a[r],t||"_")},e(t)};if(1===a.length)return void o(a[0].tenantId);n.g=new Dd(function(e){Kd(n),s&&s(),o(e)},a,Od(n.a[r]),Fd(n.a[r]))}else n.g=new Rd(function(){var i=n.g.j();if(i){for(var a=0;a<t.length;a++){var o=zd(n.a[r],t[a]||"_",i);if(0!==o.length)return i={tenantId:t[a],providerIds:o,email:i},Kd(n),s&&s(),void e(i)}n.g.a(_n({code:"no-matching-tenant-for-email"}).toString())}},Od(n.a[r]),Fd(n.a[r]));n.g.render(n.s),(i=jd(n.a[r]).selectTenantUiShown||null)&&i()}else{var l=Error("Invalid project configuration: API key is invalid!");l.code="invalid-configuration",n.pb(l),i(l)}})},e.Pb=function(e,t){if(!this.a.hasOwnProperty(e))throw Error("Invalid project configuration: API key is invalid!");var n=t||void 0;Ud(this.a[e],t||"_");try{this.i=Ko.app(n).auth()}catch(hR){var r=this.a[e].a.get("authDomain");if(!r)throw Error("Invalid project configuration: authDomain is required!");(e=Ko.initializeApp({apiKey:e,authDomain:r},n)).auth().tenantId=t,this.i=e.auth()}return this.i},e.Zb=function(e,t){var n=this;return new Pr(function(r,i){function s(t,r){n.j=new ld(e),wd(n.j,n.s,t,r)}var a=e.app.options.apiKey;n.a.hasOwnProperty(a)||i(Error("Invalid project configuration: API key is invalid!"));var o=Vd(n.a[a],e.tenantId||"_",t&&t.providerIds);Kd(n),i={signInSuccessWithAuthResult:function(e){return r(e),!1}};var l,c=jd(n.a[a]).signInUiShown||null,u=!1;i.uiChanged=function(t,r){null===t&&"callback"===r?((t=Ot("firebaseui-id-page-callback",n.s))&&Jo(t),n.h=new Md,n.h.render(n.s)):u||null===t&&"spinner"===r||"blank"===r||(n.h&&(n.h.m(),n.h=null),u=!0,c&&c(e.tenantId))},o.callbacks=i,o.credentialHelper="none",t&&t.email&&(l={emailHint:t.email}),n.j?n.j.Wa().then(function(){s(o,l)}):s(o,l)})},e.reset=function(){var e=this;return Fr().then(function(){e.j&&e.j.Wa()}).then(function(){e.j=null,Kd(e)})},e.Vb=function(){var e=this;this.h||this.A||(this.A=window.setTimeout(function(){Kd(e),e.h=new Md,e.g=e.h,e.h.render(e.s),e.A=null},500))},e.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},e.Bb=function(){return Kd(this),this.g=new zc,this.g.render(this.s),Fr()},e.pb=function(e){var t,n=this,r=_n({code:e.code}).toString()||e.message;Kd(this),e.retry&&"function"==typeof e.retry&&(t=function(){n.reset(),e.retry()}),this.g=new $c(r,t),this.g.render(this.s)},e.Rb=function(e){var t=this;return Fr().then(function(){var n=t.i&&t.i.app.options.apiKey;if(!t.a.hasOwnProperty(n))throw Error("Invalid project configuration: API key is invalid!");if(Ud(t.a[n],e.tenantId||"_"),!t.i.currentUser||t.i.currentUser.uid!==e.uid)throw Error("The user being processed does not match the signed in user!");return(n=jd(t.a[n]).beforeSignInSuccess||null)?n(e):e}).then(function(t){if(t.uid!==e.uid)throw Error("User with mismatching UID returned.");return t})},A("firebaseui.auth.FirebaseUiHandler",qd),A("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",qd.prototype.Ub),A("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",qd.prototype.Pb),A("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",qd.prototype.Zb),A("firebaseui.auth.FirebaseUiHandler.prototype.reset",qd.prototype.reset),A("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",qd.prototype.Vb),A("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",qd.prototype.mb),A("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",qd.prototype.Bb),A("firebaseui.auth.FirebaseUiHandler.prototype.handleError",qd.prototype.pb),A("firebaseui.auth.FirebaseUiHandler.prototype.processUser",qd.prototype.Rb),A("firebaseui.auth.AuthUI",ld),A("firebaseui.auth.AuthUI.getInstance",function(e){return e=dd(e),ud[e]?ud[e]:null}),A("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",ld.prototype.Db),A("firebaseui.auth.AuthUI.prototype.start",ld.prototype.start),A("firebaseui.auth.AuthUI.prototype.setConfig",ld.prototype.ib),A("firebaseui.auth.AuthUI.prototype.signIn",ld.prototype.Wb),A("firebaseui.auth.AuthUI.prototype.reset",ld.prototype.reset),A("firebaseui.auth.AuthUI.prototype.delete",ld.prototype.Wa),A("firebaseui.auth.AuthUI.prototype.isPendingRedirect",ld.prototype.nb),A("firebaseui.auth.AuthUIError",An),A("firebaseui.auth.AuthUIError.prototype.toJSON",An.prototype.toJSON),A("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",Ga),A("firebaseui.auth.CredentialHelper.NONE",Ya),A("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Pr.prototype.catch=Pr.prototype.Ca,Pr.prototype.finally=Pr.prototype.fc}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:window)}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:window),"undefined"!=typeof window&&(window.dialogPolyfill=af);var vf=firebaseui.auth;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Ao("firebase","10.14.1","app");var yf,bf,wf="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e;
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"==typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);d(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,bf=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},yf=r}).apply(void 0!==wf?wf:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var xf,Sf,kf,Ef,Cf,Tf,_f,If,Af="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Af&&Af];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */
var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=!(-1==m().indexOf("Gecko")||-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge")||-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE")||-1!=m().indexOf("Edge"));function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){i.setTimeout(()=>{throw e},0)}function E(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new T,e=>e.reset());class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let _,I=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},N=()=>{const e=i.Promise.resolve(void 0);_=()=>{e.then(P)}};var P=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(n){k(n)}var t=C;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function R(){this.s=this.s,this.C=this.C}function D(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},D.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function L(e,t){if(D.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:j[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}d(L,D);var j={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var O="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}V.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=H(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var $="closure_lm_"+(1e6*Math.random()|0),W={};function q(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)q(e,t[s],n,r,i);return null}return n=Z(n),e&&e[O]?e.K(t,n,!!a(r)&&!!r.capture,i):function(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=J(e);if(l||(e[$]=l=new V(e)),n=l.add(t,n,r,o,s),n.proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Q;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)M||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Y(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}(e,t,n,!1,r,i)}function K(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=Z(n),e&&e[O]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(s=e.g[t],n,r,i))&&(z(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=J(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,i)),(n=-1<e?t[e]:null)&&G(n))}function G(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[O])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Y(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=J(t))?(B(n,e),0==n.h&&(n.src=null,t[$]=null)):z(e)}}}function Y(e){return e in W?W[e]:W[e]="on"+e}function Q(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&G(e),e=n.call(r,t)}return e}function J(e){return(e=e[$])instanceof V?e:null}var X="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z(e){return"function"==typeof e?e:(e[X]||(e[X]=function(t){return e.handleEvent(t)}),e[X])}function ee(){R.call(this),this.i=new V(this),this.M=this,this.F=null}function te(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new D(t,e);else if(t instanceof D)t.target=t.target||e;else{var i=t;x(t=new D(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ne(a,r,!0,t)&&i}if(i=ne(a=t.g=e,r,!0,t)&&i,i=ne(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ne(a=t.g=n[s],r,!1,t)&&i}function ne(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function re(e,t,n){if("function"==typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ie(e){e.g=re(()=>{e.g=null,e.i&&(e.i=!1,ie(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ee,R),ee.prototype[O]=!0,ee.prototype.removeEventListener=function(e,t,n,r){K(this,e,t,n,r)},ee.prototype.N=function(){if(ee.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)z(n[r]);delete t.g[e],t.h--}}this.F=null},ee.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ee.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends R{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ie(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ae(e){R.call(this),this.h=e,this.g={}}d(ae,R);var oe=[];function le(e){y(e.g,function(e,t){this.g.hasOwnProperty(t)&&G(e)},e),e.g={}}ae.prototype.N=function(){ae.aa.N.call(this),le(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ce=i.JSON.stringify,ue=i.JSON.parse,de=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function he(){}function fe(e){return e.h||(e.h=e.i())}function pe(){}he.prototype.h=null;var me={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ge(){D.call(this,"d")}function ve(){D.call(this,"c")}d(ge,D),d(ve,D);var ye={},be=null;function we(){return be=be||new ee}function xe(e){D.call(this,ye.La,e)}function Se(e){const t=we();te(t,new xe(t))}function ke(e,t){D.call(this,ye.STAT_EVENT,e),this.stat=t}function Ee(e){const t=we();te(t,new ke(t,e))}function Ce(e,t){D.call(this,ye.Ma,e),this.size=t}function Te(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function _e(){this.g=!0}function Ie(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return ce(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}ye.La="serverreachability",d(xe,D),ye.STAT_EVENT="statevent",d(ke,D),ye.Ma="timingevent",d(Ce,D),_e.prototype.xa=function(){this.g=!1},_e.prototype.info=function(){};var Ae,Ne={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Re(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ae(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}d(Re,he),Re.prototype.g=function(){return new XMLHttpRequest},Re.prototype.i=function(){return{}},Ae=new Re;var Le={},je={};function Oe(e,t,n){e.L=1,e.v=ct(it(t)),e.m=n,e.P=!0,Fe(e,null)}function Fe(e,t){e.F=Date.now(),Ve(e),e.A=it(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),St(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=un(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(oe[0]=i.toString()),i=oe);for(var s=0;s<i.length;s++){var a=q(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ue(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?je:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?je:(t=t.slice(r,r+n),e.C=r+n,t))}function Ve(e){e.S=Date.now()+e.I,Be(e,e.I)}function Be(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Te(c(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function $e(e){0==e.j.G||e.J||sn(e.j,e)}function We(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,le(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Je(n.h,e)))if(!e.K&&Je(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;rn(n),Kt(n)}en(n),Ee(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Te(c(n.Za,n),6e3));if(1>=Qe(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else on(n,11)}else if((e.K||n.g==e)&&rn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Xe(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,lt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=cn(r,r.J?r.ia:null,r.W),a.K){Ze(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(He(o),Ve(o)),r.g=a}else Zt(r);0<n.i.length&&Yt(n)}else"stop"!=c[0]&&"close"!=c[0]||on(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?on(n,7):qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Se()}catch(u){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Bt(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const h=Bt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Ht(this.g)))){this.J||4!=h||7==t||Se(),He(this);var n=this.g.Z();this.X=n;t:if(Ue(this)){var r=Ht(this.g);e="";var s=r.length,a=4==Bt(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){We(this),$e(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ee(12),We(this),$e(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=ze(this,o),e==je){4==h&&(this.s=4,Ee(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Ee(15),Ie(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),qe(this,e)}if(Ue(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Ee(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),tn(d),d.M=!0,Ee(11))}}else Ie(this.i,this.l,o,"[Invalid Chunked Response]"),We(this),$e(this)}else Ie(this.i,this.l,o,null),qe(this,o);4==h&&We(this),this.o&&!this.J&&(4==h?sn(this.j,this):(this.o=!1,Ve(this)))}else(function(e){const t={};e=(e.g&&2<=Bt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),We(this),$e(this)}}}catch(h){}},De.prototype.cancel=function(){this.J=!0,We(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Se(),Ee(17)),We(this),this.s=2,$e(this)):Be(this,this.S-e)};var Ke=class{constructor(e,t){this.g=e,this.map=t}};function Ge(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ye(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Qe(e){return e.h?1:e.g?e.g.size:0}function Je(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Xe(e,t){e.g?e.g.add(t):e.h=t}function Ze(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function et(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function tt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(s(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Ge.prototype.cancel=function(){if(this.i=et(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var nt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof rt){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,at(this,e.s),this.l=e.l;var t=e.i,n=new yt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ot(this,n),this.m=e.m}else e&&(t=String(e).match(nt))?(this.h=!1,st(this,t[1]||"",!0),this.o=ut(t[2]||""),this.g=ut(t[3]||"",!0),at(this,t[4]),this.l=ut(t[5]||"",!0),ot(this,t[6]||"",!0),this.m=ut(t[7]||"")):(this.h=!1,this.i=new yt(null,this.h))}function it(e){return new rt(e)}function st(e,t,n){e.j=n?ut(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function at(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ot(e,t,n){t instanceof yt?(e.i=t,function(e,t){t&&!e.j&&(bt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(wt(this,t),St(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=dt(t,gt)),e.i=new yt(t,e.h))}function lt(e,t,n){e.i.set(t,n)}function ct(e){return lt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ut(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function dt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ht),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ht(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}rt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(dt(t,ft,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(dt(t,ft,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(dt(n,"/"==n.charAt(0)?mt:pt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",dt(n,vt)),e.join("")};var ft=/[#\/\?@]/g,pt=/[#\?:]/g,mt=/[#\?]/g,gt=/[#\?@]/g,vt=/#/g;function yt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function bt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function wt(e,t){bt(e),t=kt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function xt(e,t){return bt(e),t=kt(e,t),e.g.has(t)}function St(e,t,n){wt(e,t),0<n.length&&(e.i=null,e.g.set(kt(e,t),h(n)),e.h+=n.length)}function kt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Et(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Ct(){this.g=new de}function Tt(e,t,n){const r=n||"";try{tt(e,function(e,n){let i=e;a(e)&&(i=ce(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(hR){throw t.push(r+"type="+encodeURIComponent("_badmap")),hR}}function _t(e){this.l=e.Ub||null,this.j=e.eb||!1}function It(e,t){ee.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Nt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Pt(e)}function Pt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Rt(e){let t="";return y(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Dt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Rt(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):lt(e,t,n))}function Mt(e){ee.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=yt.prototype).add=function(e,t){bt(this),this.i=null,e=kt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){bt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){bt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){bt(this);let t=[];if("string"==typeof e)xt(this,e)&&(t=t.concat(this.g.get(kt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return bt(this),this.i=null,xt(this,e=kt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(_t,he),_t.prototype.g=function(){return new It(this.l,this.j)},_t.prototype.i=function(e){return function(){return e}}({}),d(It,ee),(e=It.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Pt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pt(this)),this.g&&(this.readyState=3,Pt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Nt(this):Pt(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Nt(this))},e.Qa=function(e){this.g&&(this.response=e,Nt(this))},e.ga=function(){this.g&&Nt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(It.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ee);var Lt=/^https?$/i,jt=["POST","PUT"];function Ot(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ft(e),zt(e)}function Ft(e){e.A||(e.A=!0,te(e,"complete"),te(e,"error"))}function Ut(e){if(e.h&&void 0!==r&&(!e.v[1]||4!=Bt(e)||2!=e.Z()))if(e.u&&4==Bt(e))re(e.Ea,0,e);else if(te(e,"readystatechange"),4==Bt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(nt)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Lt.test(a?a.toLowerCase():"")}n=s}if(n)te(e,"complete"),te(e,"success");else{e.m=6;try{var o=2<Bt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Ft(e)}}finally{zt(e)}}}function zt(e,t){if(e.g){Vt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||te(e,"ready");try{n.onreadystatechange=r}catch(hR){}}}function Vt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Bt(e){return e.g?e.g.readyState:0}function Ht(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function $t(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Wt(e){this.Aa=0,this.i=[],this.j=new _e,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$t("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$t("baseRetryDelayMs",5e3,e),this.cb=$t("retryDelaySeedMs",1e4,e),this.Wa=$t("forwardChannelMaxRetries",2,e),this.wa=$t("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ge(e&&e.concurrentRequestLimit),this.Da=new Ct,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function qt(e){if(Gt(e),3==e.G){var t=e.U++,n=it(e.I);if(lt(n,"SID",e.K),lt(n,"RID",t),lt(n,"TYPE","terminate"),Jt(e,n),(t=new De(e,e.j,t)).L=2,t.v=ct(it(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=un(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ve(t)}ln(e)}function Kt(e){e.g&&(tn(e),e.g.cancel(),e.g=null)}function Gt(e){Kt(e),e.u&&(i.clearTimeout(e.u),e.u=null),rn(e),e.h.cancel(),e.s&&("number"==typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Yt(e){if(!Ye(e.h)&&!e.s){e.s=!0;var t=e.Ga;_||N(),I||(_(),I=!0),A.add(t,e),e.B=0}}function Qt(e,t){var n;n=t?t.l:e.U++;const r=it(e.I);lt(r,"SID",e.K),lt(r,"RID",n),lt(r,"AID",e.T),Jt(e,r),e.m&&e.o&&Dt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=Xt(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),Xe(e.h,n),Oe(n,r,t)}function Jt(e,t){e.H&&y(e.H,function(e,n){lt(t,n,e)}),e.l&&tt({},function(e,n){lt(t,n,e)})}function Xt(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{Tt(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function Zt(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;_||N(),I||(_(),I=!0),A.add(t,e),e.v=0}}function en(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Te(c(e.Fa,e),an(e,e.v)),e.v++,!0)}function tn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function nn(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=it(e.qa);lt(t,"RID","rpc"),lt(t,"SID",e.K),lt(t,"AID",e.T),lt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&lt(t,"TO",e.ja),lt(t,"TYPE","xmlhttp"),Jt(e,t),e.m&&e.o&&Dt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ct(it(t)),n.m=null,n.P=!0,Fe(n,e)}function rn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function sn(e,t){var n=null;if(e.g==t){rn(e),tn(e),e.g=null;var r=2}else{if(!Je(e.h,t))return;n=t.D,Ze(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;te(r=we(),new Ce(r,n)),Yt(e)}else Zt(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Qe(e.h)>=e.h.j-(e.s?1:0)||(e.s?(e.i=t.D.concat(e.i),0):1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa)||(e.s=Te(c(e.Ga,e,t),an(e,e.B)),e.B++,0)))}(e,t)||2==r&&en(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:on(e,5);break;case 4:on(e,10);break;case 3:on(e,6);break;default:on(e,2)}}function an(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function on(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new rt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||st(r,"https"),ct(r),t?function(e,t){const n=new _e;if(i.Image){const r=new Image;r.onload=u(Et,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Et,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Et,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Et,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new _e;const n=new AbortController,r=setTimeout(()=>{n.abort(),Et(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Et(0,0,!0,t):Et(0,0,!1,t)}).catch(()=>{clearTimeout(r),Et(0,0,!1,t)})}(r.toString(),n)}else Ee(2);e.G=0,e.l&&e.l.sa(t),ln(e),Gt(e)}function ln(e){if(e.G=0,e.ka=[],e.l){const t=et(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function cn(e,t,n){var r=n instanceof rt?it(n):new rt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),at(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new rt(null);r&&st(a,r),t&&(a.g=t),s&&at(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&lt(r,n,t),lt(r,"VER",e.la),Jt(e,r),r}function un(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new _t({eb:n})):new Mt(e.pa)).Ha(e.J),t}function dn(){}function hn(){}function fn(e,t){ee.call(this),this.g=new Wt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new gn(this)}function pn(e){ge.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function mn(){ve.call(this),this.status=1}function gn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?fe(this.o):fe(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Ot(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(jt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Ot(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,te(this,"complete"),te(this,"abort"),zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zt(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ut(this):this.bb())},e.bb=function(){Ut(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Bt(this)?this.g.status:-1}catch(e){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ue(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=Wt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ee(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=cn(this,null,this.W),Yt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new De(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),x(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Xt(this,i,t),lt(n=it(this.I),"RID",e),lt(n,"CVER",22),this.D&&lt(n,"X-HTTP-Session-Id",this.D),Jt(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Rt(s)))+"&"+t:this.m&&Dt(n,this.m,s)),Xe(this.h,i),this.Ua&&lt(n,"TYPE","init"),this.P?(lt(n,"$req",t),lt(n,"SID","null"),i.T=!0,Oe(i,n,null)):Oe(i,n,t),this.G=2}}else 3==this.G&&(e?Qt(this,e):0==this.i.length||Ye(this.h)||Qt(this))},e.Fa=function(){if(this.u=null,nn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Te(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),Kt(this),nn(this))},e.Za=function(){null!=this.C&&(this.C=null,Kt(this),en(this),Ee(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=dn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},hn.prototype.g=function(e,t){return new fn(e,t)},d(fn,ee),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){qt(this.g)},fn.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ce(e),e=n);t.i.push(new Ke(t.Ya++,e)),3==t.G&&Yt(t)},fn.prototype.N=function(){this.g.l=null,delete this.j,qt(this.g),delete this.g,fn.aa.N.call(this)},d(pn,ge),d(mn,ve),d(gn,dn),gn.prototype.ua=function(){te(this.g,"a")},gn.prototype.ta=function(e){te(this.g,new pn(e))},gn.prototype.sa=function(e){te(this.g,new mn)},gn.prototype.ra=function(){te(this.g,"b")},hn.prototype.createWebChannel=hn.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,If=function(){return new hn},_f=function(){return we()},Tf=ye,Cf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ne.NO_ERROR=0,Ne.TIMEOUT=8,Ne.HTTP_ERROR=6,Ef=Ne,Pe.COMPLETE="complete",kf=Pe,pe.EventType=me,me.OPEN="a",me.CLOSE="b",me.ERROR="c",me.MESSAGE="d",ee.prototype.listen=ee.prototype.K,Sf=pe,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,xf=Mt}).apply(void 0!==Af?Af:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const Nf="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pf.UNAUTHENTICATED=new Pf(null),Pf.GOOGLE_CREDENTIALS=new Pf("google-credentials-uid"),Pf.FIRST_PARTY=new Pf("first-party-uid"),Pf.MOCK_USER=new Pf("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Rf="10.14.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new va("@firebase/firestore");function Mf(){return Df.logLevel}function Lf(e,...t){if(Df.logLevel<=da.DEBUG){const n=t.map(Ff);Df.debug(`Firestore (${Rf}): ${e}`,...n)}}function jf(e,...t){if(Df.logLevel<=da.ERROR){const n=t.map(Ff);Df.error(`Firestore (${Rf}): ${e}`,...n)}}function Of(e,...t){if(Df.logLevel<=da.WARN){const n=t.map(Ff);Df.warn(`Firestore (${Rf}): ${e}`,...n)}}function Ff(e){if("string"==typeof e)return e;try{
/**
    * @license
    * Copyright 2020 Google LLC
    *
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    *   http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    */
return t=e,JSON.stringify(t)}catch(n){return e}var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(e="Unexpected state"){const t=`FIRESTORE (${Rf}) INTERNAL ASSERTION FAILED: `+e;throw jf(t),new Error(t)}function zf(e,t){e||Uf()}function Vf(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Hf extends Ks{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qf{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Pf.UNAUTHENTICATED))}shutdown(){}}class Kf{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Gf{constructor(e){this.t=e,this.currentUser=Pf.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){zf(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new $f;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new $f,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{Lf("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Lf("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new $f)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Lf("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(zf("string"==typeof t.accessToken),new Wf(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return zf(null===e||"string"==typeof e),new Pf(e)}}class Yf{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Pf.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Qf{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Yf(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Pf.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jf{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xf{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){zf(void 0===this.o);const n=e=>{null!=e.error&&Lf("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Lf("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Lf("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Lf("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(zf("string"==typeof e.token),this.R=e.token,new Jf(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Zf(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function tp(e,t){return e<t?-1:e>t?1:0}function np(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Hf(Bf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Hf(Bf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Hf(Bf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Hf(Bf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rp.fromMillis(Date.now())}static fromDate(e){return rp.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new rp(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tp(this.nanoseconds,e.nanoseconds):tp(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ip(e)}static min(){return new ip(new rp(0,0))}static max(){return new ip(new rp(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,t,n){void 0===t?t=0:t>e.length&&Uf(),void 0===n?n=e.length-t:n>e.length-t&&Uf(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===sp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof sp?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ap extends sp{construct(e,t,n){return new ap(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Hf(Bf.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new ap(t)}static emptyPath(){return new ap([])}}const op=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lp extends sp{construct(e,t,n){return new lp(e,t,n)}static isValidIdentifier(e){return op.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lp.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new lp(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Hf(Bf.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Hf(Bf.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Hf(Bf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Hf(Bf.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lp(t)}static emptyPath(){return new lp([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e){this.path=e}static fromPath(e){return new cp(ap.fromString(e))}static fromName(e){return new cp(ap.fromString(e).popFirst(5))}static empty(){return new cp(ap.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ap.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ap.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new cp(new ap(e.slice()))}}function up(e){return new dp(e.readTime,e.key,-1)}class dp{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new dp(ip.min(),cp.empty(),-1)}static max(){return new dp(ip.max(),cp.empty(),-1)}}function hp(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=cp.comparator(e.documentKey,t.documentKey),0!==n?n:tp(e.largestBatchId,t.largestBatchId)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}class fp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pp(e){if(e.code!==Bf.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;Lf("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Uf(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new mp((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof mp?t:mp.resolve(t)}catch(t){return mp.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):mp.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):mp.reject(t)}static resolve(e){return new mp((t,n)=>{t(e)})}static reject(e){return new mp((t,n)=>{n(e)})}static waitFor(e){return new mp((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=mp.resolve(!1);for(const n of e)t=t.next(e=>e?mp.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new mp((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new mp((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function gp(e){return"IndexedDbTransactionError"===e.name}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function yp(e){return null==e}function bp(e){return 0===e&&1/e==-1/0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function wp(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function xp(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Sp(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vp.oe=-1;class kp{constructor(e,t){this.comparator=e,this.root=t||Cp.EMPTY}insert(e,t){return new kp(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Cp.BLACK,null,null))}remove(e){return new kp(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cp.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ep(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ep(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ep(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ep(this.root,e,this.comparator,!0)}}class Ep{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cp{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Cp.RED,this.left=null!=r?r:Cp.EMPTY,this.right=null!=i?i:Cp.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Cp(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Cp.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Cp.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cp.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cp.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Uf();if(this.right.isRed())throw Uf();const e=this.left.check();if(e!==this.right.check())throw Uf();return e+(this.isRed()?0:1)}}Cp.EMPTY=null,Cp.RED=!0,Cp.BLACK=!1,Cp.EMPTY=new class{constructor(){this.size=0}get key(){throw Uf()}get value(){throw Uf()}get color(){throw Uf()}get left(){throw Uf()}get right(){throw Uf()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Cp(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Tp{constructor(e){this.comparator=e,this.data=new kp(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _p(this.data.getIterator())}getIteratorFrom(e){return new _p(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Tp))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Tp(this.comparator);return t.data=e,t}}class _p{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e){this.fields=e,e.sort(lp.comparator)}static empty(){return new Ip([])}unionWith(e){let t=new Tp(lp.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ip(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return np(this.fields,e.fields,(e,t)=>e.isEqual(t))}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new Ap("Invalid base64 string: "+t):t}}(e);return new Np(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Np(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tp(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Np.EMPTY_BYTE_STRING=new Np("");const Pp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rp(e){if(zf(!!e),"string"==typeof e){let t=0;const n=Pp.exec(e);if(zf(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Dp(e.seconds),nanos:Dp(e.nanos)}}function Dp(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Mp(e){return"string"==typeof e?Np.fromBase64String(e):Np.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function jp(e){const t=e.mapValue.fields.__previous_value__;return Lp(t)?jp(t):t}function Op(e){const t=Rp(e.mapValue.fields.__local_write_time__.timestampValue);return new rp(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class Up{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Up("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Up&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp={};function Vp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Lp(e)?4:function(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)?9007199254740991:function(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}(e)?10:11:Uf()}function Bp(e,t){if(e===t)return!0;const n=Vp(e);if(n!==Vp(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Op(e).isEqual(Op(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Rp(e.timestampValue),r=Rp(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,Mp(e.bytesValue).isEqual(Mp(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Dp(e.geoPointValue.latitude)===Dp(t.geoPointValue.latitude)&&Dp(e.geoPointValue.longitude)===Dp(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Dp(e.integerValue)===Dp(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Dp(e.doubleValue),r=Dp(t.doubleValue);return n===r?bp(n)===bp(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return np(e.arrayValue.values||[],t.arrayValue.values||[],Bp);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(wp(n)!==wp(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Bp(n[i],r[i])))return!1;return!0}(e,t);default:return Uf()}var r}function Hp(e,t){return void 0!==(e.values||[]).find(e=>Bp(e,t))}function $p(e,t){if(e===t)return 0;const n=Vp(e),r=Vp(t);if(n!==r)return tp(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tp(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Dp(e.integerValue||e.doubleValue),r=Dp(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Wp(e.timestampValue,t.timestampValue);case 4:return Wp(Op(e),Op(t));case 5:return tp(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Mp(e),r=Mp(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=tp(n[i],r[i]);if(0!==e)return e}return tp(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=tp(Dp(e.latitude),Dp(t.latitude));return 0!==n?n:tp(Dp(e.longitude),Dp(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return qp(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=o.value)||void 0===r?void 0:r.arrayValue,u=tp((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:qp(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===zp&&t===zp)return 0;if(e===zp)return 1;if(t===zp)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=tp(r[a],s[a]);if(0!==e)return e;const t=$p(n[r[a]],i[s[a]]);if(0!==t)return t}return tp(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Uf()}}function Wp(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return tp(e,t);const n=Rp(e),r=Rp(t),i=tp(n.seconds,r.seconds);return 0!==i?i:tp(n.nanos,r.nanos)}function qp(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=$p(n[i],r[i]);if(e)return e}return tp(n.length,r.length)}function Kp(e){return Gp(e)}function Gp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Rp(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Mp(e.bytesValue).toBase64():"referenceValue"in e?function(e){return cp.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Gp(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Gp(e.fields[i])}`;return n+"}"}(e.mapValue):Uf()}function Yp(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Qp(e){return!!e&&"integerValue"in e}function Jp(e){return!!e&&"arrayValue"in e}function Xp(e){return!!e&&"nullValue"in e}function Zp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function em(e){return!!e&&"mapValue"in e}function tm(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return xp(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=tm(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=tm(e.arrayValue.values[n]);return t}return Object.assign({},e)}class nm{constructor(e){this.value=e}static empty(){return new nm({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!em(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tm(t)}setAll(e){let t=lp.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=tm(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());em(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bp(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];em(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){xp(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new nm(tm(this.value))}}function rm(e){const t=[];return xp(e.fields,(e,n)=>{const r=new lp([e]);if(em(n)){const e=rm(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Ip(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class im{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new im(e,0,ip.min(),ip.min(),ip.min(),nm.empty(),0)}static newFoundDocument(e,t,n,r){return new im(e,1,t,ip.min(),n,r,0)}static newNoDocument(e,t){return new im(e,2,t,ip.min(),ip.min(),nm.empty(),0)}static newUnknownDocument(e,t){return new im(e,3,t,ip.min(),ip.min(),nm.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ip.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nm.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nm.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ip.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof im&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new im(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,t){this.position=e,this.inclusive=t}}function am(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?cp.comparator(cp.fromName(a.referenceValue),n.key):$p(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function om(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Bp(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,t="asc"){this.field=e,this.dir=t}}function cm(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{}class dm extends um{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ym(e,t,n):"array-contains"===t?new Sm(e,n):"in"===t?new km(e,n):"not-in"===t?new Em(e,n):"array-contains-any"===t?new Cm(e,n):new dm(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new bm(e,n):new wm(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison($p(t,this.value)):null!==t&&Vp(this.value)===Vp(t)&&this.matchesComparison($p(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Uf()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hm extends um{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new hm(e,t)}matches(e){return fm(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function fm(e){return"and"===e.op}function pm(e){return function(e){for(const t of e.filters)if(t instanceof hm)return!1;return!0}(e)&&fm(e)}function mm(e){if(e instanceof dm)return e.field.canonicalString()+e.op.toString()+Kp(e.value);if(pm(e))return e.filters.map(e=>mm(e)).join(",");{const t=e.filters.map(e=>mm(e)).join(",");return`${e.op}(${t})`}}function gm(e,t){return e instanceof dm?(n=e,(r=t)instanceof dm&&n.op===r.op&&n.field.isEqual(r.field)&&Bp(n.value,r.value)):e instanceof hm?function(e,t){return t instanceof hm&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&gm(n,t.filters[r]),!0)}(e,t):void Uf();var n,r}function vm(e){return e instanceof dm?`${(t=e).field.canonicalString()} ${t.op} ${Kp(t.value)}`:e instanceof hm?function(e){return e.op.toString()+" {"+e.getFilters().map(vm).join(" ,")+"}"}(e):"Filter";var t}class ym extends dm{constructor(e,t,n){super(e,t,n),this.key=cp.fromName(n.referenceValue)}matches(e){const t=cp.comparator(e.key,this.key);return this.matchesComparison(t)}}class bm extends dm{constructor(e,t){super(e,"in",t),this.keys=xm("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class wm extends dm{constructor(e,t){super(e,"not-in",t),this.keys=xm("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function xm(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>cp.fromName(e.referenceValue))}class Sm extends dm{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jp(t)&&Hp(t.arrayValue,this.value)}}class km extends dm{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Hp(this.value.arrayValue,t)}}class Em extends dm{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Hp(this.value.arrayValue,t)}}class Cm extends dm{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Hp(this.value.arrayValue,e))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,t=null,n=[],r=[],i=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}}function _m(e,t=null,n=[],r=[],i=null,s=null,a=null){return new Tm(e,t,n,r,i,s,a)}function Im(e){const t=Vf(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>mm(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>{return(t=e).field.canonicalString()+t.dir;var t}).join(","),yp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Kp(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Kp(e)).join(",")),t.ue=e}return t.ue}function Am(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!cm(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!gm(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!om(e.startAt,t.startAt)&&om(e.endAt,t.endAt)}function Nm(e){return cp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,t=null,n=[],r=[],i=null,s="F",a=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Rm(e){return new Pm(e)}function Dm(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Mm(e){return null!==e.collectionGroup}function Lm(e){const t=Vf(e);if(null===t.ce){t.ce=[];const e=new Set;for(const r of t.explicitOrderBy)t.ce.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(e){let t=new Tp(lp.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t})(t).forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new lm(r,n))}),e.has(lp.keyField().canonicalString())||t.ce.push(new lm(lp.keyField(),n))}return t.ce}function jm(e){const t=Vf(e);return t.le||(t.le=function(e,t){if("F"===e.limitType)return _m(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new lm(e.field,t)});const n=e.endAt?new sm(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new sm(e.startAt.position,e.startAt.inclusive):null;return _m(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(t,Lm(e))),t.le}function Om(e,t){const n=e.filters.concat([t]);return new Pm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Fm(e,t,n){return new Pm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Um(e,t){return Am(jm(e),jm(t))&&e.limitType===t.limitType}function zm(e){return`${Im(jm(e))}|lt:${e.limitType}`}function Vm(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>vm(e)).join(", ")}]`),yp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>{return`${(t=e).field.canonicalString()} (${t.dir})`;var t}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Kp(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Kp(e)).join(",")),`Target(${t})`}(jm(e))}; limitType=${e.limitType})`}function Bm(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):cp.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Lm(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(r=t,!((n=e).startAt&&!function(e,t,n){const r=am(e,t,n);return e.inclusive?r<=0:r<0}(n.startAt,Lm(n),r)||n.endAt&&!function(e,t,n){const r=am(e,t,n);return e.inclusive?r>=0:r>0}(n.endAt,Lm(n),r)));var n,r}function Hm(e){return(t,n)=>{let r=!1;for(const i of Lm(e)){const e=$m(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function $m(e,t,n){const r=e.field.isKeyField()?cp.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?$p(r,i):Uf()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Uf()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){xp(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Sp(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=new kp(cp.comparator);function Km(){return qm}const Gm=new kp(cp.comparator);function Ym(...e){let t=Gm;for(const n of e)t=t.insert(n.key,n);return t}function Qm(e){let t=Gm;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Jm(){return Zm()}function Xm(){return Zm()}function Zm(){return new Wm(e=>e.toString(),(e,t)=>e.isEqual(t))}const eg=new kp(cp.comparator),tg=new Tp(cp.comparator);function ng(...e){let t=tg;for(const n of e)t=t.add(n);return t}const rg=new Tp(tp);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ig(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bp(t)?"-0":t}}function sg(e){return{integerValue:""+e}}function ag(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!bp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?sg(t):ig(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(){this._=void 0}}function lg(e,t,n){return e instanceof dg?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Lp(t)&&(t=jp(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof hg?fg(e,t):e instanceof pg?mg(e,t):function(e,t){const n=ug(e,t),r=vg(n)+vg(e.Pe);return Qp(n)&&Qp(e.Pe)?sg(r):ig(e.serializer,r)}(e,t)}function cg(e,t,n){return e instanceof hg?fg(e,t):e instanceof pg?mg(e,t):n}function ug(e,t){return e instanceof gg?Qp(n=t)||(r=n)&&"doubleValue"in r?t:{integerValue:0}:null;var n,r}class dg extends og{}class hg extends og{constructor(e){super(),this.elements=e}}function fg(e,t){const n=yg(t);for(const r of e.elements)n.some(e=>Bp(e,r))||n.push(r);return{arrayValue:{values:n}}}class pg extends og{constructor(e){super(),this.elements=e}}function mg(e,t){let n=yg(t);for(const r of e.elements)n=n.filter(e=>!Bp(e,r));return{arrayValue:{values:n}}}class gg extends og{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function vg(e){return Dp(e.integerValue||e.doubleValue)}function yg(e){return Jp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class bg{constructor(e,t){this.version=e,this.transformResults=t}}class wg{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wg}static exists(e){return new wg(void 0,e)}static updateTime(e){return new wg(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Sg{}function kg(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Dg(e.key,wg.none()):new Ig(e.key,e.data,wg.none());{const n=e.data,r=nm.empty();let i=new Tp(lp.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ag(e.key,r,new Ip(i.toArray()),wg.none())}}function Eg(e,t,n){var r;e instanceof Ig?function(e,t,n){const r=e.value.clone(),i=Pg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ag?function(e,t,n){if(!xg(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Pg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ng(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):(r=n,t.convertToNoDocument(r.version).setHasCommittedMutations())}function Cg(e,t,n,r){return e instanceof Ig?function(e,t,n,r){if(!xg(e.precondition,t))return n;const i=e.value.clone(),s=Rg(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ag?function(e,t,n,r){if(!xg(e.precondition,t))return n;const i=Rg(e.fieldTransforms,r,t),s=t.data;return s.setAll(Ng(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):(i=t,s=n,xg(e.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):s);var i,s}function Tg(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=ug(r.transform,e||null);null!=i&&(null===n&&(n=nm.empty()),n.set(r.field,i))}return n||null}function _g(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&np(n,r,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof hg&&r instanceof hg||n instanceof pg&&r instanceof pg?np(n.elements,r.elements,Bp):n instanceof gg&&r instanceof gg?Bp(n.Pe,r.Pe):n instanceof dg&&r instanceof dg);var n,r}(e,t)))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask)));var n,r}class Ig extends Sg{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ag extends Sg{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ng(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Pg(e,t,n){const r=new Map;zf(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,cg(a,o,n[i]))}return r}function Rg(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,lg(e,s,t))}return r}class Dg extends Sg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mg extends Sg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Eg(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Cg(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Cg(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Xm();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=kg(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(ip.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ng())}isEqual(e){return this.batchId===e.batchId&&np(this.mutations,e.mutations,(e,t)=>_g(e,t))&&np(this.baseMutations,e.baseMutations,(e,t)=>_g(e,t))}}class jg{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){zf(e.mutations.length===n.length);let r=function(){return eg}();const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new jg(e,t,n,r)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,t){this.count=e,this.unchangedNames=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ug,zg;function Vg(e){if(void 0===e)return jf("GRPC error has no .code"),Bf.UNKNOWN;switch(e){case Ug.OK:return Bf.OK;case Ug.CANCELLED:return Bf.CANCELLED;case Ug.UNKNOWN:return Bf.UNKNOWN;case Ug.DEADLINE_EXCEEDED:return Bf.DEADLINE_EXCEEDED;case Ug.RESOURCE_EXHAUSTED:return Bf.RESOURCE_EXHAUSTED;case Ug.INTERNAL:return Bf.INTERNAL;case Ug.UNAVAILABLE:return Bf.UNAVAILABLE;case Ug.UNAUTHENTICATED:return Bf.UNAUTHENTICATED;case Ug.INVALID_ARGUMENT:return Bf.INVALID_ARGUMENT;case Ug.NOT_FOUND:return Bf.NOT_FOUND;case Ug.ALREADY_EXISTS:return Bf.ALREADY_EXISTS;case Ug.PERMISSION_DENIED:return Bf.PERMISSION_DENIED;case Ug.FAILED_PRECONDITION:return Bf.FAILED_PRECONDITION;case Ug.ABORTED:return Bf.ABORTED;case Ug.OUT_OF_RANGE:return Bf.OUT_OF_RANGE;case Ug.UNIMPLEMENTED:return Bf.UNIMPLEMENTED;case Ug.DATA_LOSS:return Bf.DATA_LOSS;default:return Uf()}}(zg=Ug||(Ug={}))[zg.OK=0]="OK",zg[zg.CANCELLED=1]="CANCELLED",zg[zg.UNKNOWN=2]="UNKNOWN",zg[zg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zg[zg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zg[zg.NOT_FOUND=5]="NOT_FOUND",zg[zg.ALREADY_EXISTS=6]="ALREADY_EXISTS",zg[zg.PERMISSION_DENIED=7]="PERMISSION_DENIED",zg[zg.UNAUTHENTICATED=16]="UNAUTHENTICATED",zg[zg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zg[zg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zg[zg.ABORTED=10]="ABORTED",zg[zg.OUT_OF_RANGE=11]="OUT_OF_RANGE",zg[zg.UNIMPLEMENTED=12]="UNIMPLEMENTED",zg[zg.INTERNAL=13]="INTERNAL",zg[zg.UNAVAILABLE=14]="UNAVAILABLE",zg[zg.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Bg=new yf([4294967295,4294967295],0);function Hg(e){const t=(new TextEncoder).encode(e),n=new bf;return n.update(t),new Uint8Array(n.digest())}function $g(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new yf([n,r],0),new yf([i,s],0)]}class Wg{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new qg(`Invalid padding: ${t}`);if(n<0)throw new qg(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new qg(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new qg(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=yf.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(yf.fromNumber(n)));return 1===r.compare(Bg)&&(r=new yf([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Hg(e),[n,r]=$g(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Wg(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.Ie)return;const t=Hg(e),[n,r]=$g(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class qg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Gg.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Kg(ip.min(),r,new kp(tp),Km(),ng())}}class Gg{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Gg(n,t,ng(),ng(),ng())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Qg{constructor(e,t){this.targetId=e,this.me=t}}class Jg{constructor(e,t,n=Np.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Xg{constructor(){this.fe=0,this.ge=tv(),this.pe=Np.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ng(),t=ng(),n=ng();return this.ge.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Uf()}}),new Gg(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=tv()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,zf(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Zg{constructor(e){this.Le=e,this.Be=new Map,this.ke=Km(),this.qe=ev(),this.Qe=new kp(tp)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Uf()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((e,n)=>{this.ze(n)&&t(n)})}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(Nm(i))if(0===n){const e=new cp(i.path);this.Ue(t,e,im.newNoDocument(e,ip.min()))}else zf(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=Mp(n).toUint8Array()}catch(o){if(o instanceof Ap)return Of("Decoding the base64 bloom filter in existence filter failed ("+o.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw o}try{a=new Wg(s,r,i)}catch(o){return Of(o instanceof qg?"BloomFilter error: ":"Applying bloom filter failed: ",o),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Le.tt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.Ue(t,n,null),r++)}),r}rt(e){const t=new Map;this.Be.forEach((n,r)=>{const i=this.Je(r);if(i){if(n.current&&Nm(i.target)){const t=new cp(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,im.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}});let n=ng();this.qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ke.forEach((t,n)=>n.setReadTime(e));const r=new Kg(e,t,this.Qe,this.ke,n);return this.ke=Km(),this.qe=ev(),this.Qe=new kp(tp),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Xg,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Tp(tp),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Lf("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Xg),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function ev(){return new kp(cp.comparator)}function tv(){return new kp(cp.comparator)}const nv=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),rv=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),iv=(()=>({and:"AND",or:"OR"}))();class sv{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function av(e,t){return e.useProto3Json||yp(t)?t:{value:t}}function ov(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function lv(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function cv(e,t){return ov(e,t.toTimestamp())}function uv(e){return zf(!!e),ip.fromTimestamp(function(e){const t=Rp(e);return new rp(t.seconds,t.nanos)}(e))}function dv(e,t){return hv(e,t).canonicalString()}function hv(e,t){const n=(r=e,new ap(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?n:n.child(t)}function fv(e){const t=ap.fromString(e);return zf(Pv(t)),t}function pv(e,t){return dv(e.databaseId,t.path)}function mv(e,t){const n=fv(t);if(n.get(1)!==e.databaseId.projectId)throw new Hf(Bf.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Hf(Bf.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new cp(yv(n))}function gv(e,t){return dv(e.databaseId,t)}function vv(e){return new ap(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function yv(e){return zf(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function bv(e,t,n){return{name:pv(e,t),fields:n.value.mapValue.fields}}function wv(e,t){return{documents:[gv(e,t.path)]}}function xv(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gv(e,i);const s=function(e){if(0!==e.length)return Av(hm.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>{return{field:_v((t=e).field),direction:Ev(t.dir)};var t})}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=av(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i};var l}function Sv(e){let t=function(e){const t=fv(e);return 4===t.length?ap.emptyPath():yv(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){zf(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=kv(e);return t instanceof hm&&pm(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(e=>{return new lm(Iv((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t}));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,yp(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new sm(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new sm(n,t)}(n.endAt)),function(e,t,n,r,i,s,a,o){return new Pm(e,t,n,r,i,s,a,o)}(t,i,a,s,o,"F",l,c)}function kv(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Iv(e.unaryFilter.field);return dm.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Iv(e.unaryFilter.field);return dm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Iv(e.unaryFilter.field);return dm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Iv(e.unaryFilter.field);return dm.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Uf()}}(e):void 0!==e.fieldFilter?(t=e,dm.create(Iv(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Uf()}}(t.fieldFilter.op),t.fieldFilter.value)):void 0!==e.compositeFilter?function(e){return hm.create(e.compositeFilter.filters.map(e=>kv(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Uf()}}(e.compositeFilter.op))}(e):Uf();var t}function Ev(e){return nv[e]}function Cv(e){return rv[e]}function Tv(e){return iv[e]}function _v(e){return{fieldPath:e.canonicalString()}}function Iv(e){return lp.fromServerFormat(e.fieldPath)}function Av(e){return e instanceof dm?function(e){if("=="===e.op){if(Zp(e.value))return{unaryFilter:{field:_v(e.field),op:"IS_NAN"}};if(Xp(e.value))return{unaryFilter:{field:_v(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Zp(e.value))return{unaryFilter:{field:_v(e.field),op:"IS_NOT_NAN"}};if(Xp(e.value))return{unaryFilter:{field:_v(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_v(e.field),op:Cv(e.op),value:e.value}}}(e):e instanceof hm?function(e){const t=e.getFilters().map(e=>Av(e));return 1===t.length?t[0]:{compositeFilter:{op:Tv(e.op),filters:t}}}(e):Uf()}function Nv(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Pv(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,t,n,r,i=ip.min(),s=ip.min(),a=Np.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Rv(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Rv(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){this.ct=e}}function Mv(e){const t=Sv({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Fm(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(){this.un=new jv}addToCollectionParentIndex(e,t){return this.un.add(t),mp.resolve()}getCollectionParents(e,t){return mp.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return mp.resolve()}deleteFieldIndex(e,t){return mp.resolve()}deleteAllFieldIndexes(e){return mp.resolve()}createTargetIndexes(e,t){return mp.resolve()}getDocumentsMatchingTarget(e,t){return mp.resolve(null)}getIndexType(e,t){return mp.resolve(0)}getFieldIndexes(e,t){return mp.resolve([])}getNextCollectionGroupToUpdate(e){return mp.resolve(null)}getMinOffset(e,t){return mp.resolve(dp.min())}getMinOffsetFromCollectionGroup(e,t){return mp.resolve(dp.min())}updateCollectionGroup(e,t,n){return mp.resolve()}updateIndexEntries(e,t){return mp.resolve()}}class jv{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Tp(ap.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Tp(ap.comparator)).toArray()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ov(0)}static kn(){return new Ov(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(){this.changes=new Wm(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,im.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?mp.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Cg(n.mutation,e,Ip.empty(),rp.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,ng()).next(()=>t))}getLocalViewOfDocuments(e,t,n=ng()){const r=Jm();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Ym();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Jm();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,ng()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Km();const s=Zm(),a=Zm();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Ag)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Cg(a.mutation,t,a.mutation.getFieldMask(),rp.now())):s.set(t.key,Ip.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new Uv(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=Zm();let r=new kp((e,t)=>e-t),i=ng();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Ip.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||ng()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Xm();l.forEach(e=>{if(!i.has(e)){const r=kg(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return mp.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return i=t,cp.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Mm(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r);var i}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):mp.resolve(Jm());let a=-1,o=i;return s.next(t=>mp.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?mp.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,ng())).next(e=>({batchId:a,changes:Qm(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new cp(t)).next(e=>{let t=Ym();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Ym();return this.indexManager.getCollectionParents(e,i).next(a=>mp.forEach(a,a=>{const o=(l=t,c=a.child(i),new Pm(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,im.newInvalidDocument(r)))});let n=Ym();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&Cg(s.mutation,r,Ip.empty(),rp.now()),Bm(t,r)&&(n=n.insert(e,r))}),n})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return mp.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,{id:(n=t).id,version:n.version,createTime:uv(n.createTime)}),mp.resolve();var n}getNamedQuery(e,t){return mp.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,{name:(n=t).name,query:Mv(n.bundledQuery),readTime:uv(n.readTime)}),mp.resolve();var n}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(){this.overlays=new kp(cp.comparator),this.Ir=new Map}getOverlay(e,t){return mp.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Jm();return mp.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ht(e,t,r)}),mp.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Ir.delete(n)),mp.resolve()}getOverlaysForCollection(e,t,n){const r=Jm(),i=t.length+1,s=new cp(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return mp.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new kp((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Jm(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Jm(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return mp.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Og(t,n));let i=this.Ir.get(t);void 0===i&&(i=ng(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(){this.sessionToken=Np.EMPTY_BYTE_STRING}getSessionToken(e){return mp.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,mp.resolve()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(){this.Tr=new Tp(Wv.Er),this.dr=new Tp(Wv.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new Wv(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Vr(new Wv(e,t))}mr(e,t){e.forEach(e=>this.removeReference(e,t))}gr(e){const t=new cp(new ap([])),n=new Wv(t,e),r=new Wv(t,e+1),i=[];return this.dr.forEachInRange([n,r],e=>{this.Vr(e),i.push(e.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new cp(new ap([])),n=new Wv(t,e),r=new Wv(t,e+1);let i=ng();return this.dr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Wv(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Wv{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return cp.comparator(e.key,t.key)||tp(e.wr,t.wr)}static Ar(e,t){return tp(e.wr,t.wr)||cp.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Tp(Wv.Er)}checkEmpty(e){return mp.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Lg(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.br=this.br.add(new Wv(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return mp.resolve(s)}lookupMutationBatch(e,t){return mp.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return mp.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return mp.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return mp.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Wv(t,0),r=new Wv(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],e=>{const t=this.Dr(e.wr);i.push(t)}),mp.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Tp(tp);return t.forEach(e=>{const t=new Wv(e,0),r=new Wv(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],e=>{n=n.add(e.wr)})}),mp.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;cp.isDocumentKey(i)||(i=i.child(""));const s=new Wv(new cp(i),0);let a=new Tp(tp);return this.br.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.wr)),!0)},s),mp.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(e=>{const n=this.Dr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){zf(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return mp.forEach(t.mutations,r=>{const i=new Wv(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new Wv(t,0),r=this.br.firstAfterOrEqual(n);return mp.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,mp.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e){this.Mr=e,this.docs=new kp(cp.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return mp.resolve(n?n.document.mutableCopy():im.newInvalidDocument(t))}getEntries(e,t){let n=Km();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():im.newInvalidDocument(e))}),mp.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Km();const s=t.path,a=new cp(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||hp(up(a),n)<=0||(r.has(a.key)||Bm(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return mp.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Uf()}Or(e,t){return mp.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Gv(this)}getSize(e){return mp.resolve(this.size)}}class Gv extends Fv{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)}),mp.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e){this.persistence=e,this.Nr=new Wm(e=>Im(e),Am),this.lastRemoteSnapshotVersion=ip.min(),this.highestTargetId=0,this.Lr=0,this.Br=new $v,this.targetCount=0,this.kr=Ov.Bn()}forEachTarget(e,t){return this.Nr.forEach((e,n)=>t(n)),mp.resolve()}getLastRemoteSnapshotVersion(e){return mp.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return mp.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),mp.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),mp.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Ov(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,mp.resolve()}updateTargetData(e,t){return this.Kn(t),mp.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,mp.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),mp.waitFor(i).next(()=>r)}getTargetCount(e){return mp.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return mp.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),mp.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),mp.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),mp.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return mp.resolve(n)}containsKey(e,t){return mp.resolve(this.Br.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,t){this.qr={},this.overlays={},this.Qr=new vp(0),this.Kr=!1,this.Kr=!0,this.$r=new Hv,this.referenceDelegate=e(this),this.Ur=new Yv(this),this.indexManager=new Lv,this.remoteDocumentCache=new Kv(e=>this.referenceDelegate.Wr(e)),this.serializer=new Dv(t),this.Gr=new Vv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Bv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new qv(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){Lf("MemoryPersistence","Starting transaction:",e);const r=new Jv(this.Qr.next());return this.referenceDelegate.zr(),n(r).next(e=>this.referenceDelegate.jr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Hr(e,t){return mp.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class Jv extends fp{constructor(e){super(),this.currentSequenceNumber=e}}class Xv{constructor(e){this.persistence=e,this.Jr=new $v,this.Yr=null}static Zr(e){return new Xv(e)}get Xr(){if(this.Yr)return this.Yr;throw Uf()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),mp.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),mp.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),mp.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(e=>this.Xr.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Xr.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mp.forEach(this.Xr,n=>{const r=cp.fromPath(n);return this.ei(e,r).next(e=>{e||t.removeEntry(r,ip.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return mp.or([()=>mp.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=ng(),r=ng();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Zv(e,t.fromCache,n,r)}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=!Vs()&&navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")?8:function(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(zs())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.Zi(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new ey;return this.Xi(e,t,n).next(r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)})}).next(()=>i.result)}es(e,t,n,r){return n.documentReadCount<this.ji?(Mf()<=da.DEBUG&&Lf("QueryEngine","SDK will not create cache indexes for query:",Vm(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),mp.resolve()):(Mf()<=da.DEBUG&&Lf("QueryEngine","Query:",Vm(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(Mf()<=da.DEBUG&&Lf("QueryEngine","The SDK decides to create cache indexes for query:",Vm(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jm(t))):mp.resolve())}Yi(e,t){if(Dm(t))return mp.resolve(null);let n=jm(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Fm(t,null,"F"),n=jm(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=ng(...r);return this.Ji.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.ts(t,r);return this.ns(t,s,i,n.readTime)?this.Yi(e,Fm(t,null,"F")):this.rs(e,s,t,n)}))})))}Zi(e,t,n,r){return Dm(t)||r.isEqual(ip.min())?mp.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const s=this.ts(t,i);return this.ns(t,s,n,r)?mp.resolve(null):(Mf()<=da.DEBUG&&Lf("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Vm(t)),this.rs(e,s,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ip.fromTimestamp(1e9===r?new rp(n+1,0):new rp(n,r));return new dp(i,cp.empty(),t)}(r,-1)).next(e=>e))})}ts(e,t){let n=new Tp(Hm(e));return t.forEach((t,r)=>{Bm(e,r)&&(n=n.add(r))}),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return Mf()<=da.DEBUG&&Lf("QueryEngine","Using full collection scan to execute query:",Vm(t)),this.Ji.getDocumentsMatchingQuery(e,t,dp.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new kp(tp),this._s=new Wm(e=>Im(e),Am),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}async function ry(e,t){const n=Vf(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=ng();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({hs:e,removedBatchIds:i,addedBatchIds:s}))})})}function iy(e){const t=Vf(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function sy(e,t){const n=Vf(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Ur.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Ur.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);var u,d,h;null!==t.targetMismatches.get(o)?c=c.withResumeToken(Np.EMPTY_BYTE_STRING,ip.min()).withLastLimboFreeSnapshotVersion(ip.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),d=c,h=s,(0===(u=l).resumeToken.approximateByteSize()||d.snapshotVersion.toMicroseconds()-u.snapshotVersion.toMicroseconds()>=3e8||h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size>0)&&a.push(n.Ur.updateTargetData(e,c))});let o=Km(),l=ng();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(function(e,t,n){let r=ng(),i=ng();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Km();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(ip.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Lf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{Ps:r,Is:i}})}(e,s,t.documentUpdates).next(e=>{o=e.Ps,l=e.Is})),!r.isEqual(ip.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next(t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return mp.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.os=i,e))}function ay(e,t){const n=Vf(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}async function oy(e,t,n){const r=Vf(e),i=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(a){if(!gp(a))throw a;Lf("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function ly(e,t,n){const r=Vf(e);let i=ip.min(),s=ng();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Vf(e),i=r._s.get(n);return void 0!==i?mp.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,jm(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:ip.min(),n?s:ng())).next(e=>(function(e,t,n){let r=e.us.get(t)||ip.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.us.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,Ts:s})))}class cy{constructor(){this.activeTargetIds=rg}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uy{constructor(){this.so=new cy,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new cy,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{_o(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Lf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Lf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fy=null;function py(){return null===fy?fy=268435456+Math.round(2147483648*Math.random()):fy++,"0x"+fy.toString(16)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const my={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="WebChannelConnection";class yy extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Fo(){return!1}Mo(e,t,n,r,i){const s=py(),a=this.xo(e,t.toUriEncodedString());Lf("RestConnection",`Sending RPC '${e}' ${s}:`,a,n);const o={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(o,r,i),this.No(e,a,o,n).then(t=>(Lf("RestConnection",`Received RPC '${e}' ${s}: `,t),t),t=>{throw Of("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t})}Lo(e,t,n,r,i,s){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Rf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}xo(e,t){const n=my[e];return`${this.Do}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=py();return new Promise((s,a)=>{const o=new xf;o.setWithCredentials(!0),o.listenOnce(kf.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Ef.NO_ERROR:const t=o.getResponseJson();Lf(vy,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case Ef.TIMEOUT:Lf(vy,`RPC '${e}' ${i} timed out`),a(new Hf(Bf.DEADLINE_EXCEEDED,"Request time out"));break;case Ef.HTTP_ERROR:const n=o.getStatus();if(Lf(vy,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Bf).indexOf(t)>=0?t:Bf.UNKNOWN}(t.status);a(new Hf(e,t.message))}else a(new Hf(Bf.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Hf(Bf.UNAVAILABLE,"Connection failed."));break;default:Uf()}}finally{Lf(vy,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(r);Lf(vy,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)})}Bo(e,t,n){const r=py(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=If(),a=_f(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Lf(vy,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);let d=!1,h=!1;const f=new gy({Io:t=>{h?Lf(vy,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Lf(vy,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),Lf(vy,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},To:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(t){setTimeout(()=>{throw t},0)}})};return p(u,Sf.EventType.OPEN,()=>{h||(Lf(vy,`RPC '${e}' stream ${r} transport opened.`),f.yo())}),p(u,Sf.EventType.CLOSE,()=>{h||(h=!0,Lf(vy,`RPC '${e}' stream ${r} transport closed`),f.So())}),p(u,Sf.EventType.ERROR,t=>{h||(h=!0,Of(vy,`RPC '${e}' stream ${r} transport errored:`,t),f.So(new Hf(Bf.UNAVAILABLE,"The operation could not be completed")))}),p(u,Sf.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];zf(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){Lf(vy,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=Ug[e];if(void 0!==t)return Vg(t)}(t),i=a.message;void 0===n&&(n=Bf.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.So(new Hf(n,i)),u.close()}else Lf(vy,`RPC '${e}' stream ${r} received:`,i),f.bo(i)}}),p(a,Tf.STAT_EVENT,t=>{t.stat===Cf.PROXY?Lf(vy,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Cf.NOPROXY&&Lf(vy,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.wo()},0),f}}function by(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(e){return new sv(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,t,n=1e3,r=1.5,i=6e4){this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&Lf("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,t,n,r,i,s,a,o){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new xy(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===Bf.RESOURCE_EXHAUSTED?(jf(t.toString()),jf("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Bf.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.Yo===t&&this.P_(e,n)},t=>{e(()=>{const e=new Hf(Bf.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(e=>{n(()=>this.I_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.e_?this.E_(e):this.onNext(e))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Lf("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Lf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ky extends Sy{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:Uf(),s=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(zf(void 0===t||"string"==typeof t),Np.fromBase64String(t||"")):(zf(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Np.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,l=o&&function(e){const t=void 0===e.code?Bf.UNKNOWN:Vg(e.code);return new Hf(t,e.message||"")}(o);n=new Jg(i,s,a,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=mv(e,r.document.name),s=uv(r.document.updateTime),a=r.document.createTime?uv(r.document.createTime):ip.min(),o=new nm({mapValue:{fields:r.document.fields}}),l=im.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Yg(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=mv(e,r.document),s=r.readTime?uv(r.readTime):ip.min(),a=im.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Yg([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=mv(e,r.document),s=r.removedTargetIds||[];n=new Yg([],s,i,null)}else{if(!("filter"in t))return Uf();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Fg(r,i),a=e.targetId;n=new Qg(a,s)}}var r;return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ip.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ip.min():t.readTime?uv(t.readTime):ip.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=vv(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Nm(r)?{documents:wv(e,r)}:{query:xv(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=lv(e,t.resumeToken);const r=av(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ip.min())>0){n.readTime=ov(e,t.snapshotVersion.toTimestamp());const r=av(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Uf()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=vv(this.serializer),t.removeTarget=e,this.a_(t)}}class Ey extends Sy{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return zf(!!e.streamToken),this.lastStreamToken=e.streamToken,zf(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){zf(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(zf(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?uv(e.updateTime):uv(t);return n.isEqual(ip.min())&&(n=uv(t)),new bg(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=uv(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=vv(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>function(e,t){let n;if(t instanceof Ig)n={update:bv(e,t.key,t.value)};else if(t instanceof Dg)n={delete:pv(e,t.key)};else if(t instanceof Ag)n={update:bv(e,t.key,t.data),updateMask:Nv(t.fieldMask)};else{if(!(t instanceof Mg))return Uf();n={verify:pv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof dg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof hg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof pg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof gg)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Uf()}(0,e))),t.precondition.isNone||(n.currentDocument=(r=e,void 0!==(i=t.precondition).updateTime?{updateTime:cv(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Uf())),n;var r,i}(this.serializer,e))};this.a_(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Hf(Bf.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Mo(e,hv(t,n),r,i,s)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Bf.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Hf(Bf.UNKNOWN,e.toString())})}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,hv(t,n),r,s,a,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Bf.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Hf(Bf.UNKNOWN,e.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Ty{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(jf(t),this.D_=!1):Lf("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(e=>{n.enqueueAndForget(async()=>{jy(this)&&(Lf("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Vf(e);t.L_.add(4),await Ay(t),t.q_.set("Unknown"),t.L_.delete(4),await Iy(t)}(this))})}),this.q_=new Ty(n,r)}}async function Iy(e){if(jy(e))for(const t of e.B_)await t(!0)}async function Ay(e){for(const t of e.B_)await t(!1)}function Ny(e,t){const n=Vf(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),Ly(n)?My(n):eb(n).r_()&&Ry(n,t))}function Py(e,t){const n=Vf(e),r=eb(n);n.N_.delete(t),r.r_()&&Dy(n,t),0===n.N_.size&&(r.r_()?r.o_():jy(n)&&n.q_.set("Unknown"))}function Ry(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ip.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}eb(e).A_(t)}function Dy(e,t){e.Q_.xe(t),eb(e).R_(t)}function My(e){e.Q_=new Zg({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),eb(e).start(),e.q_.v_()}function Ly(e){return jy(e)&&!eb(e).n_()&&e.N_.size>0}function jy(e){return 0===Vf(e).L_.size}function Oy(e){e.Q_=void 0}async function Fy(e){e.q_.set("Online")}async function Uy(e){e.N_.forEach((t,n)=>{Ry(e,t)})}async function zy(e,t){Oy(e),Ly(e)?(e.q_.M_(t),My(e)):e.q_.set("Unknown")}async function Vy(e,t,n){if(e.q_.set("Online"),t instanceof Jg&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(r){Lf("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await By(e,r)}else if(t instanceof Yg?e.Q_.Ke(t):t instanceof Qg?e.Q_.He(t):e.Q_.We(t),!n.isEqual(ip.min()))try{const t=await iy(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(Np.EMPTY_BYTE_STRING,r.snapshotVersion)),Dy(e,t);const i=new Rv(r.target,t,n,r.sequenceNumber);Ry(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(i){Lf("RemoteStore","Failed to raise snapshot:",i),await By(e,i)}}async function By(e,t,n){if(!gp(t))throw t;e.L_.add(1),await Ay(e),e.q_.set("Offline"),n||(n=()=>iy(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Lf("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Iy(e)})}function Hy(e,t){return t().catch(n=>By(e,n,t))}async function $y(e){const t=Vf(e),n=tb(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Wy(t);)try{const e=await ay(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,qy(t,e)}catch(i){await By(t,i)}Ky(t)&&Gy(t)}function Wy(e){return jy(e)&&e.O_.length<10}function qy(e,t){e.O_.push(t);const n=tb(e);n.r_()&&n.V_&&n.m_(t.mutations)}function Ky(e){return jy(e)&&!tb(e).n_()&&e.O_.length>0}function Gy(e){tb(e).start()}async function Yy(e){tb(e).p_()}async function Qy(e){const t=tb(e);for(const n of e.O_)t.m_(n.mutations)}async function Jy(e,t,n){const r=e.O_.shift(),i=jg.from(r,t,n);await Hy(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await $y(e)}async function Xy(e,t){t&&tb(e).V_&&await async function(e,t){if(function(e){switch(e){default:return Uf();case Bf.CANCELLED:case Bf.UNKNOWN:case Bf.DEADLINE_EXCEEDED:case Bf.RESOURCE_EXHAUSTED:case Bf.INTERNAL:case Bf.UNAVAILABLE:case Bf.UNAUTHENTICATED:return!1;case Bf.INVALID_ARGUMENT:case Bf.NOT_FOUND:case Bf.ALREADY_EXISTS:case Bf.PERMISSION_DENIED:case Bf.FAILED_PRECONDITION:case Bf.ABORTED:case Bf.OUT_OF_RANGE:case Bf.UNIMPLEMENTED:case Bf.DATA_LOSS:return!0}}(n=t.code)&&n!==Bf.ABORTED){const n=e.O_.shift();tb(e).s_(),await Hy(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await $y(e)}var n}(e,t),Ky(e)&&Gy(e)}async function Zy(e,t){const n=Vf(e);n.asyncQueue.verifyOperationInProgress(),Lf("RemoteStore","RemoteStore received new credentials");const r=jy(n);n.L_.add(3),await Ay(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Iy(n)}function eb(e){return e.K_||(e.K_=function(e,t,n){const r=Vf(e);return r.w_(),new ky(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:Fy.bind(null,e),Ro:Uy.bind(null,e),mo:zy.bind(null,e),d_:Vy.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),Ly(e)?My(e):e.q_.set("Unknown")):(await e.K_.stop(),Oy(e))})),e.K_}function tb(e){return e.U_||(e.U_=function(e,t,n){const r=Vf(e);return r.w_(),new Ey(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Yy.bind(null,e),mo:Xy.bind(null,e),f_:Qy.bind(null,e),g_:Jy.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await $y(e)):(await e.U_.stop(),e.O_.length>0&&(Lf("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class nb{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new $f,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new nb(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Hf(Bf.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rb(e,t){if(jf("AsyncQueue",`${t}: ${e}`),gp(e))return new Hf(Bf.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.comparator=e?(t,n)=>e(t,n)||cp.comparator(t.key,n.key):(e,t)=>cp.comparator(e.key,t.key),this.keyedMap=Ym(),this.sortedSet=new kp(this.comparator)}static emptySet(e){return new ib(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ib))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new ib;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(){this.W_=new kp(cp.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Uf():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class ab{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new ab(e,t,ib.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Um(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class lb{constructor(){this.queries=cb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=Vf(e),r=n.queries;n.queries=cb(),r.forEach((e,n)=>{for(const r of n.j_)r.onError(t)})}(this,new Hf(Bf.ABORTED,"Firestore shutting down"))}}function cb(){return new Wm(e=>zm(e),Um)}async function ub(e,t){const n=Vf(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new ob,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const e=rb(a,`Initialization of query '${Vm(t.query)}' failed`);return void t.onError(e)}n.queries.set(i,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&pb(n)}async function db(e,t){const n=Vf(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function hb(e,t){const n=Vf(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&pb(n)}function fb(e,t,n){const r=Vf(e),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(t)}function pb(e){e.Y_.forEach(e=>{e.next()})}var mb,gb;(gb=mb||(mb={})).ea="default",gb.Cache="cache";class vb{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ab(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=ab.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==mb.Cache}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e){this.key=e}}class bb{constructor(e){this.key=e}}class wb{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ng(),this.mutatedKeys=ng(),this.Aa=Hm(e),this.Ra=new ib(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new sb,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Bm(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Aa(u,o)>0||l&&this.Aa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Uf()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc)),this.pa(n),r=null!=r&&r;const a=t&&!r?this.ya():[],o=0===this.da.size&&this.current&&!r?1:0,l=o!==this.Ea;return this.Ea=o,0!==s.length||l?{snapshot:new ab(this.query,e.Ra,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new sb,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ng(),this.Ra.forEach(e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))});const t=[];return e.forEach(e=>{this.da.has(e)||t.push(new bb(e))}),this.da.forEach(n=>{e.has(n)||t.push(new yb(n))}),t}ba(e){this.Ta=e.Ts,this.da=ng();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return ab.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class xb{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Sb{constructor(e){this.key=e,this.va=!1}}class kb{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Wm(e=>zm(e),Um),this.Ma=new Map,this.xa=new Set,this.Oa=new kp(cp.comparator),this.Na=new Map,this.La=new $v,this.Ba={},this.ka=new Map,this.qa=Ov.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function Eb(e,t,n=!0){const r=Wb(e);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Tb(r,t,n,!0),i}async function Cb(e,t){const n=Wb(e);await Tb(n,t,!0,!1)}async function Tb(e,t,n,r){const i=await function(e,t){const n=Vf(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Ur.getTargetData(e,t).next(i=>i?(r=i,mp.resolve(r)):n.Ur.allocateTargetId(e).next(i=>(r=new Rv(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e})}(e.localStore,jm(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await async function(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await ly(e.localStore,t.query,!1).then(({documents:e})=>t.view.ma(e,i)));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Ub(e,t.targetId,o.wa),o.snapshot}(e,t,n,r);const s=await ly(e.localStore,t,!0),a=new wb(t,s.Ts),o=a.ma(s.documents),l=Gg.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Ub(e,n,c.wa);const u=new xb(t,n,a);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Ny(e.remoteStore,i),o}async function _b(e,t,n){const r=Vf(e),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(e=>!Um(e,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await oy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Py(r.remoteStore,i.targetId),Ob(r,i.targetId)}).catch(pp)):(Ob(r,i.targetId),await oy(r.localStore,i.targetId,!0))}async function Ib(e,t){const n=Vf(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Py(n.remoteStore,r.targetId))}async function Ab(e,t,n){const r=function(e){const t=Vf(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Db.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Mb.bind(null,t),t}(e);try{const e=await function(e,t){const n=Vf(e),r=rp.now(),i=t.reduce((e,t)=>e.add(t.key),ng());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Km(),l=ng();return n.cs.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=Tg(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Ag(e.key,t,rm(t.value.mapValue),wg.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Qm(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new kp(tp)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await Bb(r,e.changes),await $y(r.remoteStore)}catch(i){const e=rb(i,"Failed to persist write");n.reject(e)}}async function Nb(e,t){const n=Vf(e);try{const e=await sy(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Na.get(t);r&&(zf(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?zf(r.va):e.removedDocuments.size>0&&(zf(r.va),r.va=!1))}),await Bb(n,e,t)}catch(r){await pp(r)}}function Pb(e,t,n){const r=Vf(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Vf(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)}),r&&pb(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Rb(e,t,n){const r=Vf(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),s=i&&i.key;if(s){let e=new kp(cp.comparator);e=e.insert(s,im.newNoDocument(s,ip.min()));const n=ng().add(s),i=new Kg(ip.min(),new Map,new kp(tp),e,n);await Nb(r,i),r.Oa=r.Oa.remove(s),r.Na.delete(t),Vb(r)}else await oy(r.localStore,t,!1).then(()=>Ob(r,t,n)).catch(pp)}async function Db(e,t){const n=Vf(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Vf(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=mp.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);zf(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ng();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);jb(n,r,null),Lb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bb(n,e)}catch(i){await pp(i)}}async function Mb(e,t,n){const r=Vf(e);try{const e=await function(e,t){const n=Vf(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(zf(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);jb(r,t,n),Lb(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Bb(r,e)}catch(i){await pp(i)}}function Lb(e,t){(e.ka.get(t)||[]).forEach(e=>{e.resolve()}),e.ka.delete(t)}function jb(e,t,n){const r=Vf(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function Ob(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(t=>{e.La.containsKey(t)||Fb(e,t)})}function Fb(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(Py(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),Vb(e))}function Ub(e,t,n){for(const r of n)r instanceof yb?(e.La.addReference(r.key,t),zb(e,r)):r instanceof bb?(Lf("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||Fb(e,r.key)):Uf()}function zb(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(Lf("SyncEngine","New document in limbo: "+n),e.xa.add(r),Vb(e))}function Vb(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new cp(ap.fromString(t)),r=e.qa.next();e.Na.set(r,new Sb(n)),e.Oa=e.Oa.insert(n,r),Ny(e.remoteStore,new Rv(jm(Rm(n.path)),r,"TargetPurposeLimboResolution",vp.oe))}}async function Bb(e,t,n){const r=Vf(e),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((e,o)=>{a.push(r.Ka(o,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Zv.Wi(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(e,t){const n=Vf(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>mp.forEach(t,t=>mp.forEach(t.$i,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>mp.forEach(t.Ui,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(r){if(!gp(r))throw r;Lf("LocalStore","Failed to update sequence numbers: "+r)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,s))}async function Hb(e,t){const n=Vf(e);if(!n.currentUser.isEqual(t)){Lf("SyncEngine","User change. New user:",t.toKey());const e=await ry(n.localStore,t);n.currentUser=t,i="'waitForPendingWrites' promise is rejected due to a user change.",(r=n).ka.forEach(e=>{e.forEach(e=>{e.reject(new Hf(Bf.CANCELLED,i))})}),r.ka.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Bb(n,e.hs)}var r,i}function $b(e,t){const n=Vf(e),r=n.Na.get(t);if(r&&r.va)return ng().add(r.key);{let e=ng();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function Wb(e){const t=Vf(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Nb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$b.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Rb.bind(null,t),t.Ca.d_=hb.bind(null,t.eventManager),t.Ca.$a=fb.bind(null,t.eventManager),t}class qb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wy(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return function(e,t,n,r){return new ny(e,t,n,r)}(this.persistence,new ty,e.initialUser,this.serializer)}Ga(e){return new Qv(Xv.Zr,this.serializer)}Wa(e){return new uy}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qb.provider={build:()=>new qb};class Kb{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Pb(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hb.bind(null,this.syncEngine),await async function(e,t){const n=Vf(e);t?(n.L_.delete(2),await Iy(n)):t||(n.L_.add(2),await Ay(n),n.q_.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new lb}createDatastore(e){const t=wy(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new yy(r));var r;return function(e,t,n,r){return new Cy(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Pb(this.syncEngine,e,0),s=hy.D()?new hy:new dy,new _y(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new kb(e,t,n,r,i,s);return a&&(o.Qa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Vf(e);Lf("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await Ay(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Kb.provider={build:()=>new Kb};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Gb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):jf("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Pf.UNAUTHENTICATED,this.clientId=ep.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Lf("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Lf("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $f;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=rb(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Qb(e,t){e.asyncQueue.verifyOperationInProgress(),Lf("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await ry(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Jb(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Lf("FirestoreClient","Using user provided OfflineComponentProvider");try{await Qb(e,e._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!("FirebaseError"===(n=i).name?n.code===Bf.FAILED_PRECONDITION||n.code===Bf.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code))throw i;Of("Error using user provided cache. Falling back to memory cache: "+i),await Qb(e,new qb)}}else Lf("FirestoreClient","Using default OfflineComponentProvider"),await Qb(e,new qb);var n;return e._offlineComponents}(e);Lf("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Zy(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Zy(t.remoteStore,n)),e._onlineComponents=t}async function Xb(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Lf("FirestoreClient","Using user provided OnlineComponentProvider"),await Jb(e,e._uninitializedComponentsProvider._online)):(Lf("FirestoreClient","Using default OnlineComponentProvider"),await Jb(e,new Kb))),e._onlineComponents}async function Zb(e){const t=await Xb(e),n=t.eventManager;return n.onListen=Eb.bind(null,t.syncEngine),n.onUnlisten=_b.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Cb.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Ib.bind(null,t.syncEngine),n}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ew(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const tw=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(e,t,n){if(!n)throw new Hf(Bf.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function rw(e){if(!cp.isDocumentKey(e))throw new Hf(Bf.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function iw(e){if(cp.isDocumentKey(e))throw new Hf(Bf.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function sw(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof e?"a function":Uf()}function aw(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Hf(Bf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sw(e);throw new Hf(Bf.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Hf(Bf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Hf(Bf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Hf(Bf.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ew(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Hf(Bf.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Hf(Bf.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Hf(Bf.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class lw{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ow({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Hf(Bf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Hf(Bf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ow(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new qf;switch(e.type){case"firstParty":return new Qf(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Hf(Bf.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=tw.get(e);t&&(Lf("ComponentProvider","Removing Datastore"),tw.delete(e),t.terminate())}(this),Promise.resolve()}}function cw(e,t,n,r={}){var i;const s=(e=aw(e,lw))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&Of("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Pf.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[As(JSON.stringify({alg:"none",type:"JWT"})),As(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Hf(Bf.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Pf(s)}e._authCredentials=new Kf(new Wf(t,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new uw(this.firestore,e,this._query)}}class dw{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hw(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dw(this.firestore,e,this._key)}}class hw extends uw{constructor(e,t,n){super(e,t,Rm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dw(this.firestore,null,new cp(e))}withConverter(e){return new hw(this.firestore,e,this._path)}}function fw(e,t,...n){if(e=sa(e),1===arguments.length&&(t=ep.newId()),nw("doc","path",t),e instanceof lw){const r=ap.fromString(t,...n);return rw(r),new dw(e,null,new cp(r))}{if(!(e instanceof dw||e instanceof hw))throw new Hf(Bf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ap.fromString(t,...n));return rw(r),new dw(e.firestore,e instanceof hw?e.converter:null,new cp(r))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new xy(this,"async_queue_retry"),this.Vu=()=>{const e=by();e&&Lf("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=by();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=by();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new $f;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(hR){if(!gp(hR))throw hR;Lf("AsyncQueue","Operation failed with retryable error: "+hR)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(e=>{this.Eu=e,this.du=!1;throw jf("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.du=!1,e))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=nb.createAndSchedule(this,e,t,n,e=>this.yu(e));return this.Tu.push(r),r}fu(){this.Eu&&Uf()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class mw extends lw{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new pw,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pw(e),this._firestoreClient=void 0,await e}}}function gw(e){if(e._terminated)throw new Hf(Bf.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){var t,n,r;const i=e._freezeSettings(),s=(a=e._databaseId,o=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",l=e._persistenceKey,c=i,new Fp(a,o,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,ew(c.experimentalLongPollingOptions),c.useFetchStreams));var a,o,l,c;e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Yb(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e),e._firestoreClient}class vw{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vw(Np.fromBase64String(e))}catch(t){throw new Hf(Bf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vw(Np.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Hf(Bf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lp(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Hf(Bf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Hf(Bf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tp(this._lat,e._lat)||tp(this._long,e._long)}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=/^__.*__$/;class kw{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ag(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ig(e,this.data,t,this.fieldTransforms)}}function Ew(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Uf()}}class Cw{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Cw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return jw(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Ew(this.Cu)&&Sw.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Tw{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||wy(e)}Qu(e,t,n,r=!1){return new Cw({Cu:e,methodName:t,qu:n,path:lp.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _w(e){const t=e._freezeSettings(),n=wy(e._databaseId);return new Tw(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Iw(e,t,n,r,i,s={}){const a=e.Qu(s.merge||s.mergeFields?2:0,t,n,i);Rw("Data must be an object, but it was:",a,r);const o=Nw(r,a);let l,c;if(s.merge)l=new Ip(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Dw(t,r,n);if(!a.contains(i))throw new Hf(Bf.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Ow(e,i)||e.push(i)}l=new Ip(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new kw(new nm(o),l,c)}function Aw(e,t){if(Pw(e=sa(e)))return Rw("Unsupported field value:",t,e),Nw(e,t);if(e instanceof bw)return function(e,t){if(!Ew(t.Cu))throw t.Bu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Bu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Aw(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=sa(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ag(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=rp.fromDate(e);return{timestampValue:ov(t.serializer,n)}}if(e instanceof rp){const n=new rp(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ov(t.serializer,n)}}if(e instanceof ww)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof vw)return{bytesValue:lv(t.serializer,e._byteString)};if(e instanceof dw){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:dv(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof xw)return n=t,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw n.Bu("VectorValues must only contain numeric values.");return ig(n.serializer,e)})}}}}};var n;throw t.Bu(`Unsupported field value: ${sw(e)}`)}(e,t)}function Nw(e,t){const n={};return Sp(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xp(e,(e,r)=>{const i=Aw(r,t.Mu(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Pw(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof rp||e instanceof ww||e instanceof vw||e instanceof dw||e instanceof bw||e instanceof xw)}function Rw(e,t,n){if(!Pw(n)||("object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))){const r=sw(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}var r}function Dw(e,t,n){if((t=sa(t))instanceof yw)return t._internalPath;if("string"==typeof t)return Lw(e,t);throw jw("Field path arguments must be of type string or ",e,!1,void 0,n)}const Mw=new RegExp("[~\\*/\\[\\]]");function Lw(e,t,n){if(t.search(Mw)>=0)throw jw(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new yw(...t.split("."))._internalPath}catch(r){throw jw(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function jw(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Hf(Bf.INVALID_ARGUMENT,o+e+l)}function Ow(e,t){return e.some(e=>e.isEqual(t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new dw(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Uw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Uw extends Fw{data(){return super.data()}}function zw(e,t){return"string"==typeof t?Lw(e,t):t instanceof yw?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{}class Bw extends Vw{}class Hw extends Bw{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Hw(e,t,n)}_apply(e){const t=this._parse(e);return Gw(e._query,t),new uw(e.firestore,e.converter,Om(e._query,t))}_parse(e){const t=_w(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Hf(Bf.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Kw(a,s);const t=[];for(const n of a)t.push(qw(r,e,n));o={arrayValue:{values:t}}}else o=qw(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Kw(a,s),o=function(e,t,n,r=!1){return Aw(n,e.Qu(r?4:3,t))}(n,t,a,"in"===s||"not-in"===s);return dm.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class $w extends Vw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $w(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:hm.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Gw(n,i),n=Om(n,i)}(e._query,t),new uw(e.firestore,e.converter,Om(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ww extends Bw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ww(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Hf(Bf.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Hf(Bf.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lm(t,n)}(e._query,this._field,this._direction);return new uw(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Pm(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function qw(e,t,n){if("string"==typeof(n=sa(n))){if(""===n)throw new Hf(Bf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mm(t)&&-1!==n.indexOf("/"))throw new Hf(Bf.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ap.fromString(n));if(!cp.isDocumentKey(r))throw new Hf(Bf.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yp(e,new cp(r))}if(n instanceof dw)return Yp(e,n._key);throw new Hf(Bf.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sw(n)}.`)}function Kw(e,t){if(!Array.isArray(e)||0===e.length)throw new Hf(Bf.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Gw(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Hf(Bf.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Hf(Bf.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Yw{convertValue(e,t="none"){switch(Vp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dp(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Mp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Uf()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return xp(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>Dp(e.doubleValue));return new xw(i)}convertGeoPoint(e){return new ww(Dp(e.latitude),Dp(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=jp(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Op(e));default:return null}}convertTimestamp(e){const t=Rp(e);return new rp(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ap.fromString(e);zf(Pv(n));const r=new Up(n.get(1),n.get(3)),i=new cp(n.popFirst(5));return r.isEqual(t)||jf(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Qw{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jw extends Fw{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(zw("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Xw extends Jw{data(e={}){return super.data(e)}}class Zw{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Qw(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Xw(this._firestore,this._userDataWriter,n.key,n,new Qw(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Hf(Bf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Xw(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Qw(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Xw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Qw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:ex(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ex(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Uf()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(e){e=aw(e,dw);const t=aw(e.firestore,mw);return function(e,t,n={}){const r=new $f;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Gb({next:o=>{s.Za(),t.enqueueAndForget(()=>db(e,a));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new Hf(Bf.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new Hf(Bf.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new vb(Rm(n.path),s,{includeMetadataChanges:!0,_a:!0});return ub(e,a)}(await Zb(e),e.asyncQueue,t,n,r)),r.promise}(gw(t),e._key).then(n=>function(e,t,n){const r=n.docs.get(t._key),i=new nx(e);return new Jw(e,i,t._key,r,new Qw(n.hasPendingWrites,n.fromCache),t.converter)}(t,e,n))}class nx extends Yw{constructor(e){super(),this.firestore=e}convertBytes(e){return new vw(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dw(this.firestore,null,t)}}function rx(e){e=aw(e,uw);const t=aw(e.firestore,mw),n=gw(t),r=new nx(t);return function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Hf(Bf.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query),function(e,t,n={}){const r=new $f;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Gb({next:n=>{s.Za(),t.enqueueAndForget(()=>db(e,a)),n.fromCache&&"server"===r.source?i.reject(new Hf(Bf.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new vb(n,s,{includeMetadataChanges:!0,_a:!0});return ub(e,a)}(await Zb(e),e.asyncQueue,t,n,r)),r.promise}(n,e._query).then(n=>new Zw(t,r,e,n))}function ix(e,t){return function(e,t){const n=new $f;return e.asyncQueue.enqueueAndForget(async()=>Ab(await function(e){return Xb(e).then(e=>e.syncEngine)}(e),t,n)),n.promise}(gw(e),t)}!function(e,t=!0){Rf=Co,yo(new aa("firestore",(e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),s=new mw(new Gf(e.getProvider("auth-internal")),new Xf(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Hf(Bf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Up(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),Ao(Nf,"4.7.3",e),Ao(Nf,"4.7.3","esm2017")}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const sx="functions";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,t,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(e=>this.auth=e,()=>{}),this.messaging||t.get().then(e=>this.messaging=e,()=>{}),this.appCheck||n.get().then(e=>this.appCheck=e,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return null==e?void 0:e.accessToken}catch(hR){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(hR){return}}async getAppCheckToken(e){if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(e)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="us-central1";class lx{constructor(e,t,n,r,i=ox,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new ax(t,n,r),this.cancelAllRequests=new Promise(e=>{this.deleteService=()=>Promise.resolve(e())});try{const e=new URL(i);this.customDomain=e.origin+("/"===e.pathname?"":e.pathname),this.region=ox}catch(hR){this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;if(null!==this.emulatorOrigin){return`${this.emulatorOrigin}/${t}/${this.region}/${e}`}return null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const cx="@firebase/functions",ux="0.11.8";!function(e,t){yo(new aa(sx,(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("messaging-internal"),a=t.getProvider("app-check-internal");return new lx(r,i,s,a,n,e)},"PUBLIC").setMultipleInstances(!0)),Ao(cx,ux,t),Ao(cx,ux,"esm2017")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(fetch.bind(self));const dx=To({apiKey:"AIzaSyDBLjHyR3kiZNsoz63ZGpRcHfMoARgnRAA",authDomain:"chop-stop.firebaseapp.com",projectId:"chop-stop",storageBucket:"chop-stop.firebasestorage.app",messagingSenderId:"285885896798",appId:"1:285885896798:web:05ffbca2d4ead63140bccf"}),hx=function(e){const t="string"==typeof e?e:"(default)",n=bo("object"==typeof e?e:_o(),"firestore").getImmediate({identifier:t});if(!n._initialized){const e=js("firestore");e&&cw(n,...e)}return n}(dx),fx=function(e=_o()){const t=bo(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=bo(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Js(n.getOptions(),null!=t?t:{}))return e;dl(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:sh,persistence:[nd,Uu,Vu]}),r=Fs("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>hh)return;const r=null==t?void 0:t.token;fh!==r&&(fh=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){sa(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){sa(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const s=Ls("auth");return s&&Tc(n,`http://${s}`),n}(dx);!function(e=_o(),t=ox){const n=bo(sa(e),sx).getImmediate({identifier:t}),r=js("functions");r&&function(e,t,n){!function(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}(sa(e),t,n)}(n,...r)}(dx);const px=({onSuccess:e})=>{const t=f.useRef(null);return f.useEffect(()=>{if(t.current){(vf.AuthUI.getInstance()||new vf.AuthUI(fx)).start(t.current,{signInFlow:"popup",signInOptions:[Kc.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:(t,n)=>(e?.(t.user),!1)}})}},[e]),l.jsx("div",{ref:t,id:"firebaseui-auth-container"})};function mx({isOpen:e,onOpenChange:t}){return l.jsx(vs,{open:e,onOpenChange:t,children:l.jsxs(ws,{className:"sm:max-w-[425px]",children:[l.jsxs(xs,{children:[l.jsx(ks,{children:"Sign In / Sign Up"}),l.jsx(Es,{children:"Access your saved sessions and personalize your experience."})]}),l.jsx(px,{onSuccess:()=>t(!1)})]})})}const gx=f.createContext(),vx=({children:e})=>{const[t,n]=f.useState(null),[r,i]=f.useState(!0);return f.useEffect(()=>{const e=(t=e=>{n(e),i(!1)},sa(fx).onAuthStateChanged(t,r,s));var t,r,s;return()=>e()},[]),l.jsx(gx.Provider,{value:{user:t,logout:()=>{sa(fx).signOut()},loading:r},children:e})},yx=()=>f.useContext(gx),bx=[{name:"Chopper",href:"/",icon:Ct},{name:"My Sessions",href:"/my-sessions",icon:gt},{name:"Latency Test",href:"/latency-test",icon:qt}];function wx({children:e}){const t=Te(),[n,r]=f.useState(!1),{user:i,logout:s}=yx();return l.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-gray-900 via-purple-900 to-blue-900 text-white font-sans",children:[l.jsxs("div",{className:"relative min-h-screen w-full backdrop-blur-sm",children:[l.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 p-4",children:l.jsxs("div",{className:"container mx-auto flex justify-between items-center p-3 bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl shadow-lg",children:[l.jsxs(Ye,{to:"/",className:"flex items-center gap-3",children:[l.jsx(Ct,{className:"w-8 h-8 text-cyan-400"}),l.jsx("h1",{className:"text-2xl font-bold tracking-tighter",children:"The Chop Shop"})]}),l.jsxs("nav",{className:"flex items-center gap-2 p-1 bg-white/10 rounded-full border border-white/10",children:[bx.map(e=>l.jsxs(Ye,{to:e.href,className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300\n                    "+(t.pathname===e.href?"bg-cyan-400 text-black shadow-md":"text-gray-300 hover:bg-white/10"),children:[l.jsx(e.icon,{className:"w-4 h-4"}),l.jsx("span",{children:e.name})]},e.name)),i?l.jsxs(tr,{onClick:s,className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 bg-red-500 hover:bg-red-600 text-white",children:[l.jsx(kt,{className:"w-4 h-4"}),l.jsx("span",{children:"Logout"})]}):l.jsxs(tr,{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 bg-green-500 hover:bg-green-600 text-white",children:[l.jsx(St,{className:"w-4 h-4"}),l.jsx("span",{children:"Sign In"})]})]})]})}),l.jsx("main",{className:"pt-28 pb-10",children:l.jsx("div",{className:"container mx-auto",children:e})}),l.jsx("footer",{className:"fixed bottom-0 left-0 right-0 p-4",children:l.jsx("div",{className:"container mx-auto text-center text-xs text-white/40",children:l.jsx("p",{children:"For educational and auditioning purposes only. Please support artists by purchasing their music."})})})]}),l.jsx(mx,{isOpen:n,onOpenChange:r})]})}const xx=f.createContext({});function Sx(e){const t=f.useRef(null);return null===t.current&&(t.current=e()),t.current}const kx=f.createContext(null),Ex=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Cx extends f.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Tx({children:e,isPresent:t}){const n=f.useId(),r=f.useRef(null),i=f.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=f.useContext(Ex);return f.useInsertionEffect(()=>{const{width:e,height:a,top:o,left:l}=i.current;if(t||!r.current||!e||!a)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return s&&(c.nonce=s),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`\n          [data-motion-pop-id="${n}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${a}px !important;\n            top: ${o}px !important;\n            left: ${l}px !important;\n          }\n        `),()=>{document.head.removeChild(c)}},[t]),l.jsx(Cx,{isPresent:t,childRef:r,sizeRef:i,children:f.cloneElement(e,{ref:r})})}const _x=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a})=>{const o=Sx(Ix),c=f.useId(),u=f.useCallback(e=>{o.set(e,!0);for(const t of o.values())if(!t)return;r&&r()},[o,r]),d=f.useMemo(()=>({id:c,initial:t,isPresent:n,custom:i,onExitComplete:u,register:e=>(o.set(e,!1),()=>o.delete(e))}),s?[Math.random(),u]:[n,u]);return f.useMemo(()=>{o.forEach((e,t)=>o.set(t,!1))},[n]),f.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),"popLayout"===a&&(e=l.jsx(Tx,{isPresent:n,children:e})),l.jsx(kx.Provider,{value:d,children:e})};function Ix(){return new Map}function Ax(e=!0){const t=f.useContext(kx);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=f.useId();f.useEffect(()=>{e&&i(s)},[e]);const a=f.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,a]:[!0]}const Nx=e=>e.key||"";function Px(e){const t=[];return f.Children.forEach(e,e=>{f.isValidElement(e)&&t.push(e)}),t}const Rx="undefined"!=typeof window,Dx=Rx?f.useLayoutEffect:f.useEffect,Mx=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1})=>{const[o,c]=Ax(a),u=f.useMemo(()=>Px(e),[e]),d=a&&!o?[]:u.map(Nx),h=f.useRef(!0),p=f.useRef(u),m=Sx(()=>new Map),[g,v]=f.useState(u),[y,b]=f.useState(u);Dx(()=>{h.current=!1,p.current=u;for(let e=0;e<y.length;e++){const t=Nx(y[e]);d.includes(t)?m.delete(t):!0!==m.get(t)&&m.set(t,!1)}},[y,d.length,d.join("-")]);const w=[];if(u!==g){let e=[...u];for(let t=0;t<y.length;t++){const n=y[t],r=Nx(n);d.includes(r)||(e.splice(t,0,n),w.push(n))}return"wait"===s&&w.length&&(e=w),b(Px(e)),void v(u)}const{forceRender:x}=f.useContext(xx);return l.jsx(l.Fragment,{children:y.map(e=>{const f=Nx(e),g=!(a&&!o)&&(u===y||d.includes(f));return l.jsx(_x,{isPresent:g,initial:!(h.current&&!n)&&void 0,custom:g?void 0:t,presenceAffectsLayout:i,mode:s,onExitComplete:g?void 0:()=>{if(!m.has(f))return;m.set(f,!0);let e=!0;m.forEach(t=>{t||(e=!1)}),e&&(null==x||x(),b(p.current),a&&(null==c||c()),r&&r())},children:e},f)})})},Lx=e=>e;let jx=Lx;function Ox(e){let t;return()=>(void 0===t&&(t=e()),t)}const Fx=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},Ux=e=>1e3*e,zx=e=>e/1e3,Vx=!1;const Bx=["read","resolveKeyframes","update","preRender","render","postRender"];function Hx(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=Bx.reduce((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(t){s.has(t)&&(l.schedule(t),e()),t(a)}const l={schedule:(e,i=!1,a=!1)=>{const o=a&&r?t:n;return i&&s.add(e),o.has(e)||o.add(e),e},cancel:e=>{n.delete(e),s.delete(e)},process:e=>{a=e,r?i=!0:(r=!0,[t,n]=[n,t],t.forEach(o),t.clear(),r=!1,i&&(i=!1,l.process(e)))}};return l}(s),e),{}),{read:o,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=a,f=()=>{const s=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1),i.timestamp=s,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(f))};return{schedule:Bx.reduce((t,s)=>{const o=a[s];return t[s]=(t,s=!1,a=!1)=>(n||(n=!0,r=!0,i.isProcessing||e(f)),o.schedule(t,s,a)),t},{}),cancel:e=>{for(let t=0;t<Bx.length;t++)a[Bx[t]].cancel(e)},state:i,steps:a}}const{schedule:$x,cancel:Wx,state:qx,steps:Kx}=Hx("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:Lx,!0),Gx=f.createContext({strict:!1}),Yx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qx={};for(const gR in Yx)Qx[gR]={isEnabled:e=>Yx[gR].some(t=>!!e[t])};const Jx=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xx(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Jx.has(e)}let Zx=e=>!Xx(e);try{(eS=require("@emotion/is-prop-valid").default)&&(Zx=e=>e.startsWith("on")?!Xx(e):eS(e))}catch(pR){}var eS;function tS(e){if("undefined"==typeof Proxy)return e;const t=new Map;return new Proxy((...t)=>e(...t),{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}const nS=f.createContext({});function rS(e){return"string"==typeof e||Array.isArray(e)}function iS(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}const sS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],aS=["initial",...sS];function oS(e){return iS(e.animate)||aS.some(t=>rS(e[t]))}function lS(e){return Boolean(oS(e)||e.variants)}function cS(e){const{initial:t,animate:n}=function(e,t){if(oS(e)){const{initial:t,animate:n}=e;return{initial:!1===t||rS(t)?t:void 0,animate:rS(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,f.useContext(nS));return f.useMemo(()=>({initial:t,animate:n}),[uS(t),uS(n)])}function uS(e){return Array.isArray(e)?e.join(" "):e}const dS=Symbol.for("motionComponentSymbol");function hS(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function fS(e,t,n){return f.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"==typeof n?n(r):hS(n)&&(n.current=r))},[t])}const pS=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),mS="data-"+pS("framerAppearId"),{schedule:gS}=Hx(queueMicrotask,!1),vS=f.createContext({});function yS(e,t,n,r,i){var s,a;const{visualElement:o}=f.useContext(nS),l=f.useContext(Gx),c=f.useContext(kx),u=f.useContext(Ex).reducedMotion,d=f.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:u}));const h=d.current,p=f.useContext(vS);!h||h.projection||!i||"html"!==h.type&&"svg"!==h.type||function(e,t,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:bS(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:Boolean(a)||o&&hS(o),visualElement:e,animationType:"string"==typeof s?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}(d.current,n,i,p);const m=f.useRef(!1);f.useInsertionEffect(()=>{h&&m.current&&h.update(n,c)});const g=n[mS],v=f.useRef(Boolean(g)&&!(null===(s=window.MotionHandoffIsComplete)||void 0===s?void 0:s.call(window,g))&&(null===(a=window.MotionHasOptimisedAnimation)||void 0===a?void 0:a.call(window,g)));return Dx(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),gS.render(h.render),v.current&&h.animationState&&h.animationState.animateChanges())}),f.useEffect(()=>{h&&(!v.current&&h.animationState&&h.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,g)}),v.current=!1))}),h}function bS(e){if(e)return!1!==e.options.allowProjection?e.projection:bS(e.parent)}function wS({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var s,a;function o(e,s){let a;const o={...f.useContext(Ex),...e,layoutId:xS(e)},{isStatic:c}=o,u=cS(e),d=r(e,c);if(!c&&Rx){f.useContext(Gx).strict;const e=function(e){const{drag:t,layout:n}=Qx;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(o);a=e.MeasureLayout,u.visualElement=yS(i,d,o,t,e.ProjectionNode)}return l.jsxs(nS.Provider,{value:u,children:[a&&u.visualElement?l.jsx(a,{visualElement:u.visualElement,...o}):null,n(i,e,fS(d,u.visualElement,s),d,c,u.visualElement)]})}e&&function(e){for(const t in e)Qx[t]={...Qx[t],...e[t]}}(e),o.displayName=`motion.${"string"==typeof i?i:`create(${null!==(a=null!==(s=i.displayName)&&void 0!==s?s:i.name)&&void 0!==a?a:""})`}`;const c=f.forwardRef(o);return c[dS]=i,c}function xS({layoutId:e}){const t=f.useContext(xx).id;return t&&void 0!==e?t+"-"+e:e}const SS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kS(e){return"string"==typeof e&&!e.includes("-")&&!!(SS.indexOf(e)>-1||/[A-Z]/u.test(e))}function ES(e){const t=[{},{}];return null==e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function CS(e,t,n,r){if("function"==typeof t){const[i,s]=ES(r);t=t(void 0!==n?n:e.custom,i,s)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[i,s]=ES(r);t=t(void 0!==n?n:e.custom,i,s)}return t}const TS=e=>Array.isArray(e),_S=e=>TS(e)?e[e.length-1]||0:e,IS=e=>Boolean(e&&e.getVelocity);function AS(e){const t=IS(e)?e.get():e;return n=t,Boolean(n&&"object"==typeof n&&n.mix&&n.toValue)?t.toValue():t;var n}const NS=e=>(t,n)=>{const r=f.useContext(nS),i=f.useContext(kx),s=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,s){const a={latestValues:PS(r,i,s,e),renderState:t()};return n&&(a.onMount=e=>n({props:r,current:e,...a}),a.onUpdate=e=>n(e)),a}(e,t,r,i);return n?s():Sx(s)};function PS(e,t,n,r){const i={},s=r(e,{});for(const h in s)i[h]=AS(s[h]);let{initial:a,animate:o}=e;const l=oS(e),c=lS(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const d=u?o:a;if(d&&"boolean"!=typeof d&&!iS(d)){const t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){const r=CS(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}const RS=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],DS=new Set(RS),MS=e=>t=>"string"==typeof t&&t.startsWith(e),LS=MS("--"),jS=MS("var(--"),OS=e=>!!jS(e)&&FS.test(e.split("/*")[0].trim()),FS=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,US=(e,t)=>t&&"number"==typeof e?t.transform(e):e,zS=(e,t,n)=>n>t?t:n<e?e:n,VS={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},BS={...VS,transform:e=>zS(0,1,e)},HS={...VS,default:1},$S=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),WS=$S("deg"),qS=$S("%"),KS=$S("px"),GS=$S("vh"),YS=$S("vw"),QS={...qS,parse:e=>qS.parse(e)/100,transform:e=>qS.transform(100*e)},JS={borderWidth:KS,borderTopWidth:KS,borderRightWidth:KS,borderBottomWidth:KS,borderLeftWidth:KS,borderRadius:KS,radius:KS,borderTopLeftRadius:KS,borderTopRightRadius:KS,borderBottomRightRadius:KS,borderBottomLeftRadius:KS,width:KS,maxWidth:KS,height:KS,maxHeight:KS,top:KS,right:KS,bottom:KS,left:KS,padding:KS,paddingTop:KS,paddingRight:KS,paddingBottom:KS,paddingLeft:KS,margin:KS,marginTop:KS,marginRight:KS,marginBottom:KS,marginLeft:KS,backgroundPositionX:KS,backgroundPositionY:KS},XS={rotate:WS,rotateX:WS,rotateY:WS,rotateZ:WS,scale:HS,scaleX:HS,scaleY:HS,scaleZ:HS,skew:WS,skewX:WS,skewY:WS,distance:KS,translateX:KS,translateY:KS,translateZ:KS,x:KS,y:KS,z:KS,perspective:KS,transformPerspective:KS,opacity:BS,originX:QS,originY:QS,originZ:KS},ZS={...VS,transform:Math.round},ek={...JS,...XS,zIndex:ZS,size:KS,fillOpacity:BS,strokeOpacity:BS,numOctaves:ZS},tk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nk=RS.length;function rk(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let a=!1,o=!1;for(const l in t){const e=t[l];if(DS.has(l))a=!0;else if(LS(l))i[l]=e;else{const t=US(e,ek[l]);l.startsWith("origin")?(o=!0,s[l]=t):r[l]=t}}if(t.transform||(a||n?r.transform=function(e,t,n){let r="",i=!0;for(let s=0;s<nk;s++){const a=RS[s],o=e[a];if(void 0===o)continue;let l=!0;if(l="number"==typeof o?o===(a.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=US(o,ek[a]);l||(i=!1,r+=`${tk[a]||a}(${e}) `),n&&(t[a]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;r.transformOrigin=`${e} ${t} ${n}`}}const ik={offset:"stroke-dashoffset",array:"stroke-dasharray"},sk={offset:"strokeDashoffset",array:"strokeDasharray"};function ak(e,t,n){return"string"==typeof e?e:KS.transform(t+n*e)}function ok(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...c},u,d){if(rk(e,c,d),u)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:f,dimensions:p}=e;h.transform&&(p&&(f.transform=h.transform),delete h.transform),p&&(void 0!==i||void 0!==s||f.transform)&&(f.transformOrigin=function(e,t,n){return`${ak(t,e.x,e.width)} ${ak(n,e.y,e.height)}`}(p,void 0!==i?i:.5,void 0!==s?s:.5)),void 0!==t&&(h.x=t),void 0!==n&&(h.y=n),void 0!==r&&(h.scale=r),void 0!==a&&function(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?ik:sk;e[s.offset]=KS.transform(-r);const a=KS.transform(t),o=KS.transform(n);e[s.array]=`${a} ${o}`}(h,a,o,l,!1)}const lk=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),ck=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),uk=e=>"string"==typeof e&&"svg"===e.toLowerCase();function dk(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const hk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fk(e,t,n,r){dk(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(hk.has(i)?i:pS(i),t.attrs[i])}const pk={};function mk(e,{layout:t,layoutId:n}){return DS.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!pk[e]||"opacity"===e)}function gk(e,t,n){var r;const{style:i}=e,s={};for(const a in i)(IS(i[a])||t.style&&IS(t.style[a])||mk(a,e)||void 0!==(null===(r=null==n?void 0:n.getValue(a))||void 0===r?void 0:r.liveStyle))&&(s[a]=i[a]);return s}function vk(e,t,n){const r=gk(e,t,n);for(const i in e)if(IS(e[i])||IS(t[i])){r[-1!==RS.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}const yk=["x","y","width","height","cx","cy","r"],bk={useVisualState:NS({scrapeMotionValuesFromProps:vk,createRenderState:ck,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!e.drag;if(!s)for(const o in i)if(DS.has(o)){s=!0;break}if(!s)return;let a=!t;if(t)for(let o=0;o<yk.length;o++){const n=yk[o];e[n]!==t[n]&&(a=!0)}a&&$x.read(()=>{!function(e,t){try{t.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(hR){t.dimensions={x:0,y:0,width:0,height:0}}}(n,r),$x.render(()=>{ok(r,i,uk(n.tagName),e.transformTemplate),fk(n,r)})})}})},wk={useVisualState:NS({scrapeMotionValuesFromProps:gk,createRenderState:lk})};function xk(e,t,n){for(const r in t)IS(t[r])||mk(r,n)||(e[r]=t[r])}function Sk(e,t){const n={};return xk(n,e.style||{},e),Object.assign(n,function({transformTemplate:e},t){return f.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{}};return rk(n,t,e),Object.assign({},n.vars,n.style)},[t])}(e,t)),n}function kk(e,t){const n={},r=Sk(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function Ek(e,t,n,r){const i=f.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return ok(n,t,uk(r),e.transformTemplate),{...n.attrs,style:{...n.style}}},[t]);if(e.style){const t={};xk(t,e.style,e),i.style={...t,...i.style}}return i}function Ck(e=!1){return(t,n,r,{latestValues:i},s)=>{const a=(kS(t)?Ek:kk)(n,i,s,t),o=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"==typeof e.values||(Zx(i)||!0===n&&Xx(i)||!t&&!Xx(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"==typeof t,e),l=t!==f.Fragment?{...o,...a,ref:r}:{},{children:c}=n,u=f.useMemo(()=>IS(c)?c.get():c,[c]);return f.createElement(t,{...l,children:u})}}function Tk(e,t){return function(n,{forwardMotionProps:r}={forwardMotionProps:!1}){return wS({...kS(n)?bk:wk,preloadedFeatures:e,useRender:Ck(r),createVisualElement:t,Component:n})}}function _k(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Ik(e,t,n){const r=e.getProps();return CS(r,t,void 0!==n?n:r.custom,e)}const Ak=Ox(()=>void 0!==window.ScrollTimeline);class Nk{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map(n=>Ak()&&n.attachTimeline?n.attachTimeline(e):"function"==typeof t?t(n):void 0);return()=>{n.forEach((e,t)=>{e&&e(),this.animations[t].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Pk extends Nk{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Rk(e,t){return e?e[t]||e.default||e:void 0}const Dk=2e4;function Mk(e){let t=0;let n=e.next(t);for(;!n.done&&t<Dk;)t+=50,n=e.next(t);return t>=Dk?1/0:t}function Lk(e){return"function"==typeof e}function jk(e,t){e.timeline=t,e.onfinish=null}const Ok=e=>Array.isArray(e)&&"number"==typeof e[0],Fk={linearEasing:void 0};function Uk(e,t){const n=Ox(e);return()=>{var e;return null!==(e=Fk[t])&&void 0!==e?e:n()}}const zk=Uk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(hR){return!1}return!0},"linearEasing"),Vk=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(Fx(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function Bk(e){return Boolean("function"==typeof e&&zk()||!e||"string"==typeof e&&(e in $k||zk())||Ok(e)||Array.isArray(e)&&e.every(Bk))}const Hk=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,$k={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hk([0,.65,.55,1]),circOut:Hk([.55,0,1,.45]),backIn:Hk([.31,.01,.66,-.59]),backOut:Hk([.33,1.53,.69,.99])};function Wk(e,t){return e?"function"==typeof e&&zk()?Vk(e,t):Ok(e)?Hk(e):Array.isArray(e)?e.map(e=>Wk(e,t)||$k.easeOut):$k[e]:void 0}const qk={x:!1,y:!1};function Kk(){return qk.x||qk.y}function Gk(e,t){const n=function(e){if(e instanceof Element)return[e];if("string"==typeof e){const t=document.querySelectorAll(e);return t?Array.from(t):[]}return Array.from(e)}(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function Yk(e){return t=>{"touch"===t.pointerType||Kk()||e(t)}}const Qk=(e,t)=>!!t&&(e===t||Qk(e,t.parentElement)),Jk=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,Xk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const Zk=new WeakSet;function eE(e){return t=>{"Enter"===t.key&&e(t)}}function tE(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function nE(e){return Jk(e)&&!Kk()}function rE(e,t,n={}){const[r,i,s]=Gk(e,n),a=e=>{const r=e.currentTarget;if(!nE(e)||Zk.has(r))return;Zk.add(r);const s=t(e),a=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),nE(e)&&Zk.has(r)&&(Zk.delete(r),"function"==typeof s&&s(e,{success:t}))},o=e=>{a(e,n.useGlobalTarget||Qk(r,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",o,i),window.addEventListener("pointercancel",l,i)};return r.forEach(e=>{(function(e){return Xk.has(e.tagName)||-1!==e.tabIndex})(e)||null!==e.getAttribute("tabindex")||(e.tabIndex=0);(n.useGlobalTarget?window:e).addEventListener("pointerdown",a,i),e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=eE(()=>{if(Zk.has(n))return;tE(n,"down");const e=eE(()=>{tE(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>tE(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,i),i)}),s}const iE=new Set(["width","height","top","left","right","bottom",...RS]);let sE;function aE(){sE=void 0}const oE={now:()=>(void 0===sE&&oE.set(qx.isProcessing||Vx?qx.timestamp:performance.now()),sE),set:e=>{sE=e,queueMicrotask(aE)}};function lE(e,t){-1===e.indexOf(t)&&e.push(t)}function cE(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class uE{constructor(){this.subscriptions=[]}add(e){return lE(this.subscriptions,e),()=>cE(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function dE(e,t){return t?e*(1e3/t):0}class hE{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{const n=oE.now();this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=oE.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new uE);const n=this.events[e].add(t);return"change"===e?()=>{n(),$x.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=oE.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return dE(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fE(e,t){return new hE(e,t)}function pE(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,fE(n))}function mE(e,t){const n=e.getValue("willChange");if(r=n,Boolean(IS(r)&&r.add))return n.add(t);var r}function gE(e){return e.props[mS]}const vE=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function yE(e,t,n,r){if(e===t&&n===r)return Lx;const i=t=>function(e,t,n,r,i){let s,a,o=0;do{a=t+(n-t)/2,s=vE(a,r,i)-e,s>0?n=a:t=a}while(Math.abs(s)>1e-7&&++o<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:vE(i(e),t,r)}const bE=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,wE=e=>t=>1-e(1-t),xE=yE(.33,1.53,.69,.99),SE=wE(xE),kE=bE(SE),EE=e=>(e*=2)<1?.5*SE(e):.5*(2-Math.pow(2,-10*(e-1))),CE=e=>1-Math.sin(Math.acos(e)),TE=wE(CE),_E=bE(CE),IE=e=>/^0[^.\s]+$/u.test(e);function AE(e){return"number"==typeof e?0===e:null===e||("none"===e||"0"===e||IE(e))}const NE=e=>Math.round(1e5*e)/1e5,PE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const RE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,DE=(e,t)=>n=>Boolean("string"==typeof n&&RE.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),ME=(e,t,n)=>r=>{if("string"!=typeof r)return r;const[i,s,a,o]=r.match(PE);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},LE={...VS,transform:e=>Math.round((e=>zS(0,255,e))(e))},jE={test:DE("rgb","red"),parse:ME("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+LE.transform(e)+", "+LE.transform(t)+", "+LE.transform(n)+", "+NE(BS.transform(r))+")"};const OE={test:DE("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:jE.transform},FE={test:DE("hsl","hue"),parse:ME("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+qS.transform(NE(t))+", "+qS.transform(NE(n))+", "+NE(BS.transform(r))+")"},UE={test:e=>jE.test(e)||OE.test(e)||FE.test(e),parse:e=>jE.test(e)?jE.parse(e):FE.test(e)?FE.parse(e):OE.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?jE.transform(e):FE.transform(e)},zE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const VE="number",BE="color",HE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $E(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(HE,e=>(UE.test(e)?(r.color.push(s),i.push(BE),n.push(UE.parse(e))):e.startsWith("var(")?(r.var.push(s),i.push("var"),n.push(e)):(r.number.push(s),i.push(VE),n.push(parseFloat(e))),++s,"${}")).split("${}");return{values:n,split:a,indexes:r,types:i}}function WE(e){return $E(e).values}function qE(e){const{split:t,types:n}=$E(e),r=t.length;return e=>{let i="";for(let s=0;s<r;s++)if(i+=t[s],void 0!==e[s]){const t=n[s];i+=t===VE?NE(e[s]):t===BE?UE.transform(e[s]):e[s]}return i}}const KE=e=>"number"==typeof e?0:e;const GE={test:function(e){var t,n;return isNaN(e)&&"string"==typeof e&&((null===(t=e.match(PE))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(zE))||void 0===n?void 0:n.length)||0)>0},parse:WE,createTransformer:qE,getAnimatableNone:function(e){const t=WE(e);return qE(e)(t.map(KE))}},YE=new Set(["brightness","contrast","saturate","opacity"]);function QE(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(PE)||[];if(!r)return e;const i=n.replace(r,"");let s=YE.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const JE=/\b([a-z-]*)\(.*?\)/gu,XE={...GE,getAnimatableNone:e=>{const t=e.match(JE);return t?t.map(QE).join(" "):e}},ZE={...ek,color:UE,backgroundColor:UE,outlineColor:UE,fill:UE,stroke:UE,borderColor:UE,borderTopColor:UE,borderRightColor:UE,borderBottomColor:UE,borderLeftColor:UE,filter:XE,WebkitFilter:XE},eC=e=>ZE[e];function tC(e,t){let n=eC(e);return n!==XE&&(n=GE),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const nC=new Set(["auto","none","0"]);const rC=e=>e===VS||e===KS,iC=(e,t)=>parseFloat(e.split(", ")[t]),sC=(e,t)=>(n,{transform:r})=>{if("none"===r||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return iC(i[1],t);{const t=r.match(/^matrix\((.+)\)$/u);return t?iC(t[1],e):0}},aC=new Set(["x","y","z"]),oC=RS.filter(e=>!aC.has(e));const lC={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:sC(4,13),y:sC(5,14)};lC.translateX=lC.x,lC.translateY=lC.y;const cC=new Set;let uC=!1,dC=!1;function hC(){if(dC){const e=Array.from(cC).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return oC.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(([t,n])=>{var r;null===(r=e.getValue(t))||void 0===r||r.set(n)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}dC=!1,uC=!1,cC.forEach(e=>e.complete()),cC.clear()}function fC(){cC.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(dC=!0)})}class pC{constructor(e,t,n,r,i,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(cC.add(this),uC||(uC=!0,$x.read(fC),$x.resolveKeyframes(hC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let i=0;i<e.length;i++)if(null===e[i])if(0===i){const i=null==r?void 0:r.get(),s=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,s);null!=r&&(e[0]=r)}void 0===e[0]&&(e[0]=s),r&&void 0===i&&r.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),cC.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,cC.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const mC=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),gC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vC(e,t,n=1){const[r,i]=function(e){const t=gC.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${null!=n?n:r}`,i]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return mC(e)?parseFloat(e):e}return OS(i)?vC(i,t,n+1):i}const yC=e=>t=>t.test(e),bC=[VS,KS,qS,WS,YS,GS,{test:e=>"auto"===e,parse:e=>e}],wC=e=>bC.find(yC(e));class xC extends pC{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"==typeof n&&(n=n.trim(),OS(n))){const r=vC(n,t.current);void 0!==r&&(e[o]=r),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!iE.has(n)||2!==e.length)return;const[r,i]=e,s=wC(r),a=wC(i);if(s!==a)if(rC(s)&&rC(a))for(let o=0;o<e.length;o++){const t=e[o];"string"==typeof t&&(e[o]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)AE(e[r])&&n.push(r);n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"==typeof t&&!nC.has(t)&&$E(t).values.length&&(r=e[i]),i++}if(r&&n)for(const s of t)e[s]=tC(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=lC[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=lC[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach(([e,n])=>{t.getValue(e).set(n)}),this.resolveNoneKeyframes()}}const SC=(e,t)=>"zIndex"!==t&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!GE.test(e)&&"0"!==e||e.startsWith("url(")));const kC=e=>null!==e;function EC(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(kC),s=t&&"loop"!==n&&t%2==1?0:i.length-1;return s&&void 0!==r?r:i[s]}class CC{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=oE.now(),this.options={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:i,repeatType:s,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(fC(),hC()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=oE.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:i,delay:s,onComplete:a,onUpdate:o,isGenerator:l}=this.options;if(!l&&!function(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const s=e[e.length-1],a=SC(i,t),o=SC(s,t);return!(!a||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||Lk(n))&&r)}(e,n,r,i)){if(!s)return o&&o(EC(e,this.options,t)),a&&a(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved={keyframes:e,finalKeyframe:t,...c},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const TC=(e,t,n)=>e+(t-e)*n;function _C(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function IC(e,t){return n=>n>0?t:e}const AC=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},NC=[OE,jE,FE];function PC(e){const t=(n=e,NC.find(e=>e.test(n)));var n;if(!Boolean(t))return!1;let r=t.parse(e);return t===FE&&(r=function({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,s=0,a=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,o=2*n-r;i=_C(o,r,e+1/3),s=_C(o,r,e),a=_C(o,r,e-1/3)}else i=s=a=n;return{red:Math.round(255*i),green:Math.round(255*s),blue:Math.round(255*a),alpha:r}}(r)),r}const RC=(e,t)=>{const n=PC(e),r=PC(t);if(!n||!r)return IC(e,t);const i={...n};return e=>(i.red=AC(n.red,r.red,e),i.green=AC(n.green,r.green,e),i.blue=AC(n.blue,r.blue,e),i.alpha=TC(n.alpha,r.alpha,e),jE.transform(i))},DC=(e,t)=>n=>t(e(n)),MC=(...e)=>e.reduce(DC),LC=new Set(["none","hidden"]);function jC(e,t){return n=>TC(e,t,n)}function OC(e){return"number"==typeof e?jC:"string"==typeof e?OS(e)?IC:UE.test(e)?RC:zC:Array.isArray(e)?FC:"object"==typeof e?UE.test(e)?RC:UC:IC}function FC(e,t){const n=[...e],r=n.length,i=e.map((e,n)=>OC(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function UC(e,t){const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=OC(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const zC=(e,t)=>{const n=GE.createTransformer(t),r=$E(e),i=$E(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?LC.has(e)&&!i.values.length||LC.has(t)&&!r.values.length?function(e,t){return LC.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):MC(FC(function(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],o=e.indexes[a][i[a]],l=null!==(n=e.values[o])&&void 0!==n?n:0;r[s]=l,i[a]++}return r}(r,i),i.values),n):IC(e,t)};function VC(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return TC(e,t,n);return OC(e)(e,t)}function BC(e,t,n){const r=Math.max(t-5,0);return dE(n-e(r),t-r)}const HC=100,$C=10,WC=1,qC=0,KC=800,GC=.3,YC=.3,QC={granular:.01,default:2},JC={granular:.005,default:.5},XC=.01,ZC=10,eT=.05,tT=1,nT=.001;function rT({duration:e=KC,bounce:t=GC,velocity:n=qC,mass:r=WC}){let i,s,a=1-t;a=zS(eT,tT,a),e=zS(XC,ZC,zx(e)),a<1?(i=t=>{const r=t*a,i=r*e,s=r-n,o=sT(t,a),l=Math.exp(-i);return nT-s/o*l},s=t=>{const r=t*a*e,s=r*n+n,o=Math.pow(a,2)*Math.pow(t,2)*e,l=Math.exp(-r),c=sT(Math.pow(t,2),a);return(-i(t)+nT>0?-1:1)*((s-o)*l)/c}):(i=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,s=t=>Math.exp(-t*e)*(e*e*(n-t)));const o=function(e,t,n){let r=n;for(let i=1;i<iT;i++)r-=e(r)/t(r);return r}(i,s,5/e);if(e=Ux(e),isNaN(o))return{stiffness:HC,damping:$C,duration:e};{const t=Math.pow(o,2)*r;return{stiffness:t,damping:2*a*Math.sqrt(r*t),duration:e}}}const iT=12;function sT(e,t){return e*Math.sqrt(1-t*t)}const aT=["duration","bounce"],oT=["stiffness","damping","mass"];function lT(e,t){return t.some(t=>void 0!==e[t])}function cT(e=YC,t=GC){const n="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=function(e){let t={velocity:qC,stiffness:HC,damping:$C,mass:WC,isResolvedFromDuration:!1,...e};if(!lT(e,oT)&&lT(e,aT))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,s=2*zS(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:WC,stiffness:i,damping:s}}else{const n=rT(e);t={...t,...n,mass:WC},t.isResolvedFromDuration=!0}return t}({...n,velocity:-zx(n.velocity||0)}),p=h||0,m=c/(2*Math.sqrt(l*u)),g=a-s,v=zx(Math.sqrt(l/u)),y=Math.abs(g)<5;let b;if(r||(r=y?QC.granular:QC.default),i||(i=y?JC.granular:JC.default),m<1){const e=sT(v,m);b=t=>{const n=Math.exp(-m*v*t);return a-n*((p+m*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>a-Math.exp(-v*e)*(g+(p+v*g)*e);else{const e=v*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*v*t),r=Math.min(e*t,300);return a-n*((p+m*v*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const w={calculatedDuration:f&&d||null,next:e=>{const t=b(e);if(f)o.done=e>=d;else{let n=0;m<1&&(n=0===e?Ux(p):BC(b,e,t));const s=Math.abs(n)<=r,l=Math.abs(a-t)<=i;o.done=s&&l}return o.value=o.done?a:t,o},toString:()=>{const e=Math.min(Mk(w),Dk),t=Vk(t=>w.next(e*t).value,e,30);return e+"ms "+t}};return w}function uT({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],h={done:!1,value:d},f=e=>void 0===o?l:void 0===l||Math.abs(o-e)<Math.abs(l-e)?o:l;let p=n*t;const m=d+p,g=void 0===a?m:a(m);g!==m&&(p=g-d);const v=e=>-p*Math.exp(-e/r),y=e=>g+v(e),b=e=>{const t=v(e),n=y(e);h.done=Math.abs(t)<=c,h.value=h.done?g:n};let w,x;const S=e=>{var t;(t=h.value,void 0!==o&&t<o||void 0!==l&&t>l)&&(w=e,x=cT({keyframes:[h.value,f(h.value)],velocity:BC(y,e,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return x||void 0!==w||(t=!0,b(e),S(e)),void 0!==w&&e>=w?x.next(e-w):(!t&&b(e),h)}}}const dT=yE(.42,0,1,1),hT=yE(0,0,.58,1),fT=yE(.42,0,.58,1),pT={linear:Lx,easeIn:dT,easeInOut:fT,easeOut:hT,circIn:CE,circInOut:_E,circOut:TE,backIn:SE,backInOut:kE,backOut:xE,anticipate:EE},mT=e=>{if(Ok(e)){jx(4===e.length);const[t,n,r,i]=e;return yE(t,n,r,i)}return"string"==typeof e?pT[e]:e};function gT(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(jx(s===t.length),1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],i=n||VC,s=e.length-1;for(let a=0;a<s;a++){let n=i(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||Lx:t;n=MC(e,n)}r.push(n)}return r}(t,r,i),l=o.length,c=n=>{if(a&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=Fx(e[r],e[r+1],n);return o[r](i)};return n?t=>c(zS(e[0],e[s-1],t)):c}function vT(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Fx(0,t,r);e.push(TC(n,1,i))}}(t,e.length-1),t}function yT({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=(e=>Array.isArray(e)&&"number"!=typeof e[0])(r)?r.map(mT):mT(r),s={done:!1,value:t[0]},a=function(e,t){return e.map(e=>e*t)}(n&&n.length===t.length?n:vT(t),e),o=gT(a,t,{ease:Array.isArray(i)?i:(l=t,c=i,l.map(()=>c||fT).splice(0,l.length-1))});var l,c;return{calculatedDuration:e,next:t=>(s.value=o(t),s.done=t>=e,s)}}const bT=e=>{const t=({timestamp:t})=>e(t);return{start:()=>$x.update(t,!0),stop:()=>Wx(t),now:()=>qx.isProcessing?qx.timestamp:oE.now()}},wT={decay:uT,inertia:uT,tween:yT,keyframes:yT,spring:cT},xT=e=>e/100;class ST extends CC{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:r,keyframes:i}=this.options,s=(null==r?void 0:r.KeyframeResolver)||pC;this.resolver=new s(i,(e,t)=>this.onKeyframesResolved(e,t),t,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:s=0}=this.options,a=Lk(t)?t:wT[t]||yT;let o,l;a!==yT&&"number"!=typeof e[0]&&(o=MC(xT,VC(e[0],e[1])),e=[0,100]);const c=a({...this.options,keyframes:e});"mirror"===i&&(l=a({...this.options,keyframes:[...e].reverse(),velocity:-s})),null===c.calculatedDuration&&(c.calculatedDuration=Mk(c));const{calculatedDuration:u}=c,d=u+r;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:o,calculatedDuration:u,resolvedDuration:d,totalDuration:d*(n+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e,t=!1){const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:s,mapPercentToKeyframes:a,keyframes:o,calculatedDuration:l,totalDuration:c,resolvedDuration:u}=n;if(null===this.startTime)return i.next(0);const{delay:d,repeat:h,repeatType:f,repeatDelay:p,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-d*(this.speed>=0?1:-1),v=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let y=this.currentTime,b=i;if(h){const e=Math.min(this.currentTime,c)/u;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,h+1);Boolean(t%2)&&("reverse"===f?(n=1-n,p&&(n-=p/u)):"mirror"===f&&(b=s)),y=zS(0,1,n)*u}const w=v?{done:!1,value:o[0]}:b.next(y);a&&(w.value=a(w.value));let{done:x}=w;v||null===l||(x=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const S=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return S&&void 0!==r&&(w.value=EC(o,this.options,r)),m&&m(w.value),S&&this.finish(),w}get duration(){const{resolved:e}=this;return e?zx(e.calculatedDuration):0}get time(){return zx(this.currentTime)}set time(e){e=Ux(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=zx(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=bT,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),t&&t();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!=n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const kT=new Set(["opacity","clipPath","filter","transform"]);function ET(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){const c={[t]:n};l&&(c.offset=l);const u=Wk(o,i);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"})}const CT=Ox(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));const TT={anticipate:EE,backInOut:kE,circInOut:_E};class _T extends CC{constructor(e){super(e);const{name:t,motionValue:n,element:r,keyframes:i}=this.options;this.resolver=new xC(i,(e,t)=>this.onKeyframesResolved(e,t),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:r,ease:i,type:s,motionValue:a,name:o,startTime:l}=this.options;if(!a.owner||!a.owner.current)return!1;if("string"==typeof i&&zk()&&i in TT&&(i=TT[i]),function(e){return Lk(e.type)||"spring"===e.type||!Bk(e.ease)}(this.options)){const{onComplete:t,onUpdate:a,motionValue:o,element:l,...c}=this.options,u=function(e,t){const n=new ST({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<2e4;)r=n.sample(s),i.push(r.value),s+=10;return{times:void 0,keyframes:i,duration:s-10,ease:"linear"}}(e,c);1===(e=u.keyframes).length&&(e[1]=e[0]),n=u.duration,r=u.times,i=u.ease,s="keyframes"}const c=ET(a.owner.current,o,e,{...this.options,duration:n,times:r,ease:i});return c.startTime=null!=l?l:this.calcStartTime(),this.pendingTimeline?(jk(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:n}=this.options;a.set(EC(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:n,times:r,type:s,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return zx(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return zx(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=Ux(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return Lx;const{animation:n}=t;jk(n,e)}else this.pendingTimeline=e;return Lx}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:i,ease:s,times:a}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const{motionValue:e,onUpdate:t,onComplete:o,element:l,...c}=this.options,u=new ST({...c,keyframes:n,duration:r,type:i,ease:s,times:a,isGenerator:!0}),d=Ux(this.time);e.setWithVelocity(u.sample(d-10).value,u.sample(d).value,10)}const{onStop:o}=this.options;o&&o(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=e;if(!(t&&t.owner&&t.owner.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return CT()&&n&&kT.has(n)&&!o&&!l&&!r&&"mirror"!==i&&0!==s&&"inertia"!==a}}const IT={type:"spring",stiffness:500,damping:25,restSpeed:10},AT={type:"keyframes",duration:.8},NT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},PT=(e,{keyframes:t})=>t.length>2?AT:DS.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:IT:NT;const RT=(e,t,n,r={},i,s)=>a=>{const o=Rk(r,e)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c-=Ux(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:s?void 0:i};(function({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length})(o)||(u={...u,...PT(e,u)}),u.duration&&(u.duration=Ux(u.duration)),u.repeatDelay&&(u.repeatDelay=Ux(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let d=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(u.duration=0,0===u.delay&&(d=!0)),d&&!s&&void 0!==t.get()){const e=EC(u.keyframes,o);if(void 0!==e)return $x.update(()=>{u.onUpdate(e),u.onComplete()}),new Pk([])}return!s&&_T.supports(u)?new _T(u):new ST(u)};function DT({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,r}function MT(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(a=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const t=e.getValue(d,null!==(s=e.latestValues[d])&&void 0!==s?s:null),r=l[d];if(void 0===r||u&&DT(u,d))continue;const i={delay:n,...Rk(a||{},d)};let o=!1;if(window.MotionHandoffAnimation){const t=gE(e);if(t){const e=window.MotionHandoffAnimation(t,d,$x);null!==e&&(i.startTime=e,o=!0)}}mE(e,d),t.start(RT(d,t,r,e.shouldReduceMotion&&iE.has(d)?{type:!1}:i,e,o));const h=t.animation;h&&c.push(h)}return o&&Promise.all(c).then(()=>{$x.update(()=>{o&&function(e,t){const n=Ik(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s)pE(e,a,_S(s[a]))}(e,o)})}),c}function LT(e,t,n={}){var r;const i=Ik(e,t,"exit"===n.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(MT(e,i,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(r=0)=>{const{delayChildren:i=0,staggerChildren:a,staggerDirection:o}=s;return function(e,t,n=0,r=0,i=1,s){const a=[],o=(e.variantChildren.size-1)*r,l=1===i?(e=0)=>e*r:(e=0)=>o-e*r;return Array.from(e.variantChildren).sort(jT).forEach((e,r)=>{e.notify("AnimationStart",t),a.push(LT(e,t,{...s,delay:n+l(r)}).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(a)}(e,t,i+r,a,o,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[e,t]="beforeChildren"===l?[a,o]:[o,a];return e().then(()=>t())}return Promise.all([a(),o(n.delay)])}function jT(e,t){return e.sortNodePosition(t)}const OT=aS.length;function FT(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&FT(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<OT;n++){const r=aS[n],i=e.props[r];(rS(i)||!1===i)&&(t[r]=i)}return t}const UT=[...sS].reverse(),zT=sS.length;function VT(e){return t=>Promise.all(t.map(({animation:t,options:n})=>function(e,t,n={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>LT(e,t,n));r=Promise.all(i)}else if("string"==typeof t)r=LT(e,t,n);else{const i="function"==typeof t?Ik(e,t,n.custom):t;r=Promise.all(MT(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}(e,t,n)))}function BT(e){let t=VT(e),n=WT(),r=!0;const i=t=>(n,r)=>{var i;const s=Ik(e,r,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(s){const{transition:e,transitionEnd:t,...r}=s;n={...n,...r,...t}}return n};function s(s){const{props:a}=e,o=FT(e.parent)||{},l=[],c=new Set;let u={},d=1/0;for(let t=0;t<zT;t++){const h=UT[t],f=n[h],p=void 0!==a[h]?a[h]:o[h],m=rS(p),g=h===s?f.isActive:null;!1===g&&(d=t);let v=p===o[h]&&p!==a[h]&&m;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),f.protectedKeys={...u},!f.isActive&&null===g||!p&&!f.prevProp||iS(p)||"boolean"==typeof p)continue;const y=HT(f.prevProp,p);let b=y||h===s&&f.isActive&&!v&&m||t>d&&m,w=!1;const x=Array.isArray(p)?p:[p];let S=x.reduce(i(h),{});!1===g&&(S={});const{prevResolvedValues:k={}}=f,E={...k,...S},C=t=>{b=!0,c.has(t)&&(w=!0,c.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in E){const t=S[e],n=k[e];if(u.hasOwnProperty(e))continue;let r=!1;r=TS(t)&&TS(n)?!_k(t,n):t!==n,r?null!=t?C(e):c.add(e):void 0!==t&&c.has(e)?C(e):f.protectedKeys[e]=!0}f.prevProp=p,f.prevResolvedValues=S,f.isActive&&(u={...u,...S}),r&&e.blockInitialAnimation&&(b=!1);b&&(!(v&&y)||w)&&l.push(...x.map(e=>({animation:e,options:{type:h}})))}if(c.size){const t={};c.forEach(n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!=r?r:null}),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const a=s(t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=WT(),r=!0}}}function HT(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!_k(t,e)}function $T(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function WT(){return{animate:$T(!0),whileInView:$T(),whileHover:$T(),whileTap:$T(),whileDrag:$T(),whileFocus:$T(),exit:$T()}}class qT{constructor(e){this.isMounted=!1,this.node=e}update(){}}let KT=0;const GT={animation:{Feature:class extends qT{constructor(e){super(e),e.animationState||(e.animationState=BT(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();iS(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends qT{constructor(){super(...arguments),this.id=KT++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}};function YT(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function QT(e){return{point:{x:e.pageX,y:e.pageY}}}function JT(e,t,n,r){return YT(e,t,(e=>t=>Jk(t)&&e(t,QT(t)))(n),r)}const XT=(e,t)=>Math.abs(e-t);class ZT{constructor(e,t,{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=n_(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=XT(e.x,t.x),r=XT(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=qx;this.history.push({...r,timestamp:i});const{onStart:s,onMove:a}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=e_(t,this.transformPagePoint),$x.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=n_("pointercancel"===e.type?this.lastMoveEventInfo:e_(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!Jk(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const s=e_(QT(e),this.transformPagePoint),{point:a}=s,{timestamp:o}=qx;this.history=[{...a,timestamp:o}];const{onSessionStart:l}=t;l&&l(e,n_(s,this.history)),this.removeListeners=MC(JT(this.contextWindow,"pointermove",this.handlePointerMove),JT(this.contextWindow,"pointerup",this.handlePointerUp),JT(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Wx(this.updatePoint)}}function e_(e,t){return t?{point:t(e.point)}:e}function t_(e,t){return{x:e.x-t.x,y:e.y-t.y}}function n_({point:e},t){return{point:e,delta:t_(e,i_(t)),offset:t_(e,r_(t)),velocity:s_(t,.1)}}function r_(e){return e[0]}function i_(e){return e[e.length-1]}function s_(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=i_(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Ux(t)));)n--;if(!r)return{x:0,y:0};const s=zx(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function a_(e){return e.max-e.min}function o_(e,t,n,r=.5){e.origin=r,e.originPoint=TC(t.min,t.max,e.origin),e.scale=a_(n)/a_(t),e.translate=TC(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function l_(e,t,n,r){o_(e.x,t.x,n.x,r?r.originX:void 0),o_(e.y,t.y,n.y,r?r.originY:void 0)}function c_(e,t,n){e.min=n.min+t.min,e.max=e.min+a_(t)}function u_(e,t,n){e.min=t.min-n.min,e.max=e.min+a_(t)}function d_(e,t,n){u_(e.x,t.x,n.x),u_(e.y,t.y,n.y)}function h_(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function f_(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const p_=.35;function m_(e,t,n){return{min:g_(e,t),max:g_(e,n)}}function g_(e,t){return"number"==typeof e?e:e[t]||0}const v_=()=>({x:{min:0,max:0},y:{min:0,max:0}});function y_(e){return[e("x"),e("y")]}function b_({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function w_(e){return void 0===e||1===e}function x_({scale:e,scaleX:t,scaleY:n}){return!w_(e)||!w_(t)||!w_(n)}function S_(e){return x_(e)||k_(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function k_(e){return E_(e.x)||E_(e.y)}function E_(e){return e&&"0%"!==e}function C_(e,t,n){return n+t*(e-n)}function T_(e,t,n,r,i){return void 0!==i&&(e=C_(e,i,r)),C_(e,n,r)+t}function __(e,t=0,n=1,r,i){e.min=T_(e.min,t,n,r,i),e.max=T_(e.max,t,n,r,i)}function I_(e,{x:t,y:n}){__(e.x,t.translate,t.scale,t.originPoint),__(e.y,n.translate,n.scale,n.originPoint)}const A_=.999999999999,N_=1.0000000000001;function P_(e,t){e.min=e.min+t,e.max=e.max+t}function R_(e,t,n,r,i=.5){__(e,t,n,TC(e.min,e.max,i),r)}function D_(e,t){R_(e.x,t.x,t.scaleX,t.scale,t.originX),R_(e.y,t.y,t.scaleY,t.scale,t.originY)}function M_(e,t){return b_(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const L_=({current:e})=>e?e.ownerDocument.defaultView:null,j_=new WeakMap;class O_{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new ZT(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(QT(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(s=n)||"y"===s?qk[s]?null:(qk[s]=!0,()=>{qk[s]=!1}):qk.x||qk.y?null:(qk.x=qk.y=!0,()=>{qk.x=qk.y=!1}),!this.openDragLock))return;var s;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),y_(e=>{let t=this.getAxisMotionValue(e).get()||0;if(qS.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=a_(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),i&&$x.postRender(()=>i(e,t)),mE(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>y_(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:L_(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&$x.postRender(()=>i(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!F_(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,{min:t,max:n},r){return void 0!==t&&e<t?e=r?TC(t,e,r.min):Math.max(e,t):void 0!==n&&e>n&&(e=r?TC(n,e,r.max):Math.min(e,n)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&hS(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,{top:t,left:n,bottom:r,right:i}){return{x:h_(e.x,n,i),y:h_(e.y,t,r)}}(r.layoutBox,t),this.elastic=function(e=p_){return!1===e?e=0:!0===e&&(e=p_),{x:m_(e,"left","right"),y:m_(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&y_(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!hS(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=M_(e,n),{scroll:i}=t;return i&&(P_(r.x,i.offset.x),P_(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:f_(e.x,t.x),y:f_(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=b_(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=y_(a=>{if(!F_(a,t,this.currentDirection))return;let l=o&&o[a]||{};s&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d={type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(a,d)});return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return mE(this.visualElement,e),n.start(RT(e,n,0,t,this.visualElement,!1))}stopAnimation(){y_(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){y_(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){y_(t=>{const{drag:n}=this.getProps();if(!F_(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-TC(n,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!hS(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};y_(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=a_(e),i=a_(t);return i>r?n=Fx(t.min,t.max-r,e.min):r>i&&(n=Fx(e.min,e.max-i,t.min)),zS(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),y_(t=>{if(!F_(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(TC(i,s,r[t]))})}addListeners(){if(!this.visualElement.current)return;j_.set(this.visualElement,this);const e=JT(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();hS(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),$x.read(t);const i=YT(window,"resize",()=>this.scalePositionWithinConstraints()),s=n.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(y_(t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=p_,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function F_(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}const U_=e=>(t,n)=>{e&&$x.postRender(()=>e(t,n))};const z_={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function V_(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const B_={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!KS.test(e))return e;e=parseFloat(e)}return`${V_(e,t.target.x)}% ${V_(e,t.target.y)}%`}},H_={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=GE.parse(e);if(i.length>5)return r;const s=GE.createTransformer(e),a="number"!=typeof i[0]?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;i[0+a]/=o,i[1+a]/=l;const c=TC(o,l,.5);return"number"==typeof i[2+a]&&(i[2+a]/=c),"number"==typeof i[3+a]&&(i[3+a]/=c),s(i)}};class $_ extends f.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var s;s=q_,Object.assign(pk,s),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),z_.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||$x.postRender(()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),gS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function W_(e){const[t,n]=Ax(),r=f.useContext(xx);return l.jsx($_,{...e,layoutGroup:r,switchLayoutGroup:f.useContext(vS),isPresent:t,safeToRemove:n})}const q_={borderRadius:{...B_,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:B_,borderTopRightRadius:B_,borderBottomLeftRadius:B_,borderBottomRightRadius:B_,boxShadow:H_};const K_=(e,t)=>e.depth-t.depth;class G_{constructor(){this.children=[],this.isDirty=!1}add(e){lE(this.children,e),this.isDirty=!0}remove(e){cE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(K_),this.isDirty=!1,this.children.forEach(e)}}const Y_=["TopLeft","TopRight","BottomLeft","BottomRight"],Q_=Y_.length,J_=e=>"string"==typeof e?parseFloat(e):e,X_=e=>"number"==typeof e||KS.test(e);function Z_(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const eI=nI(0,.5,TE),tI=nI(.5,.95,Lx);function nI(e,t,n){return r=>r<e?0:r>t?1:n(Fx(e,t,r))}function rI(e,t){e.min=t.min,e.max=t.max}function iI(e,t){rI(e.x,t.x),rI(e.y,t.y)}function sI(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function aI(e,t,n,r,i){return e=C_(e-=t,1/n,r),void 0!==i&&(e=C_(e,1/i,r)),e}function oI(e,t,[n,r,i],s,a){!function(e,t=0,n=1,r=.5,i,s=e,a=e){qS.test(t)&&(t=parseFloat(t),t=TC(a.min,a.max,t/100)-a.min);if("number"!=typeof t)return;let o=TC(s.min,s.max,r);e===s&&(o-=t),e.min=aI(e.min,t,n,o,i),e.max=aI(e.max,t,n,o,i)}(e,t[n],t[r],t[i],t.scale,s,a)}const lI=["x","scaleX","originX"],cI=["y","scaleY","originY"];function uI(e,t,n,r){oI(e.x,t,lI,n?n.x:void 0,r?r.x:void 0),oI(e.y,t,cI,n?n.y:void 0,r?r.y:void 0)}function dI(e){return 0===e.translate&&1===e.scale}function hI(e){return dI(e.x)&&dI(e.y)}function fI(e,t){return e.min===t.min&&e.max===t.max}function pI(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function mI(e,t){return pI(e.x,t.x)&&pI(e.y,t.y)}function gI(e){return a_(e.x)/a_(e.y)}function vI(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class yI{constructor(){this.members=[]}add(e){lE(this.members,e),e.scheduleRender()}remove(e){if(cE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const bI={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},wI="undefined"!=typeof window&&void 0!==window.MotionDebug,xI=["","X","Y","Z"],SI={visibility:"hidden"};let kI=0;function EI(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function CI(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=gE(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",$x,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&CI(r)}function TI({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e={},n=(null==t?void 0:t())){this.id=kI++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,wI&&(bI.totalNodes=bI.resolvedTargetDeltas=bI.recalculatedProjection=0),this.nodes.forEach(AI),this.nodes.forEach(jI),this.nodes.forEach(OI),this.nodes.forEach(NI),wI&&window.MotionDebug.record(bI)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new G_)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new uE),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,n=this.root.hasTreeAnimated){if(this.instance)return;var r;this.isSVG=(r=t)instanceof SVGElement&&"svg"!==r.tagName,this.instance=t;const{layoutId:i,layout:s,visualElement:a}=this.options;if(a&&!a.current&&a.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||i)&&(this.isLayoutDirty=!0),e){let n;const r=()=>this.root.updateBlockedByResize=!1;e(t,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=oE.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Wx(r),e(s-t))};return $x.read(r,!0),()=>Wx(r)}(r,250),z_.hasAnimatedSinceResize&&(z_.hasAnimatedSinceResize=!1,this.nodes.forEach(LI))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&a&&(i||s)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeTargetChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||a.getDefaultTransition()||HI,{onLayoutAnimationStart:s,onLayoutAnimationComplete:o}=a.getProps(),l=!this.targetLayout||!mI(this.targetLayout,r)||n,c=!t&&n;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,c);const t={...Rk(i,"layout"),onPlay:s,onComplete:o};(a.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||LI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Wx(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(FI),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&CI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(RI);this.isUpdating||this.nodes.forEach(DI),this.isUpdating=!1,this.nodes.forEach(MI),this.nodes.forEach(_I),this.nodes.forEach(II),this.clearAllSnapshots();const e=oE.now();qx.delta=zS(0,1e3/60,e-qx.timestamp),qx.timestamp=e,qx.isProcessing=!0,Kx.update.process(qx),Kx.preRender.process(qx),Kx.render.process(qx),qx.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(PI),this.sharedNodes.forEach(UI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$x.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$x.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!hI(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,s=r!==this.prevTransformTemplateValue;e&&(t||S_(this.latestValues)||s)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),qI((r=n).x),qI(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(GI))){const{scroll:e}=this.root;e&&(P_(n.x,e.offset.x),P_(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(iI(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:s}=t;t!==this.root&&i&&s.layoutScroll&&(i.wasRoot&&iI(n,e),P_(n.x,i.offset.x),P_(n.y,i.offset.y))}return n}applyTransform(e,t=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};iI(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&D_(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),S_(e.latestValues)&&D_(n,e.latestValues)}return S_(this.latestValues)&&D_(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};iI(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!S_(e.latestValues))continue;x_(e.latestValues)&&e.updateSnapshot();const r=v_();iI(r,e.measurePageBox()),uI(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return S_(this.latestValues)&&uI(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qx.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=qx.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},d_(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),iI(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,o=this.relativeTarget,l=this.relativeParent.target,c_(a.x,o.x,l.x),c_(a.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):iI(this.target,this.layout.layoutBox),I_(this.target,this.targetDelta)):iI(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},d_(this.relativeTargetOrigin,this.target,e.target),iI(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}wI&&bI.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!x_(this.parent.latestValues)&&!k_(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===qx.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;iI(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,o=this.treeScale.y;!function(e,t,n,r=!1){const i=n.length;if(!i)return;let s,a;t.x=t.y=1;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:i}=s.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&D_(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,I_(e,a)),r&&S_(s.latestValues)&&D_(e,s.latestValues))}t.x<N_&&t.x>A_&&(t.x=1),t.y<N_&&t.y>A_&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(sI(this.prevProjectionDelta.x,this.projectionDelta.x),sI(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),l_(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===a&&this.treeScale.y===o&&vI(this.projectionDelta.x,this.prevProjectionDelta.x)&&vI(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),wI&&bI.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,t=!1){const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(BI));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h;zI(s.x,e.x,n),zI(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(d_(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){VI(e.x,t.x,n.x,r),VI(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,a,n),d&&(l=this.relativeTarget,h=d,fI(l.x,h.x)&&fI(l.y,h.y))&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),iI(d,this.relativeTarget)),o&&(this.animationValues=i,function(e,t,n,r,i,s){i?(e.opacity=TC(0,void 0!==n.opacity?n.opacity:1,eI(r)),e.opacityExit=TC(void 0!==t.opacity?t.opacity:1,0,tI(r))):s&&(e.opacity=TC(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<Q_;a++){const i=`border${Y_[a]}Radius`;let s=Z_(t,i),o=Z_(n,i);void 0===s&&void 0===o||(s||(s=0),o||(o=0),0===s||0===o||X_(s)===X_(o)?(e[i]=Math.max(TC(J_(s),J_(o),r),0),(qS.test(o)||qS.test(s))&&(e[i]+="%")):e[i]=o)}(t.rotate||n.rotate)&&(e.rotate=TC(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Wx(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$x.update(()=>{z_.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=IS(e)?e:fE(e);return r.start(RT("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&KI(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=a_(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=a_(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}iI(t,n),D_(t,i),l_(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new yI);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&EI("z",e,r,this.animationValues);for(let i=0;i<xI.length;i++)EI(`rotate${xI[i]}`,e,r,this.animationValues),EI(`skew${xI[i]}`,e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return SI;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=AS(null==e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=AS(null==e?void 0:e.pointerEvents)||""),this.hasProjected&&!S_(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const a=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=function(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,a=(null==n?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:s,skewX:a,skewY:o}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),i&&(r+=`rotateX(${i}deg) `),s&&(r+=`rotateY(${s}deg) `),a&&(r+=`skewX(${a}deg) `),o&&(r+=`skewY(${o}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(r+=`scale(${o}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));const{x:o,y:l}=this.projectionDelta;r.transformOrigin=`${100*o.origin}% ${100*l.origin}% 0`,s.animationValues?r.opacity=s===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=s===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const c in pk){if(void 0===a[c])continue;const{correct:e,applyTo:t}=pk[c],n="none"===r.transform?a[c]:e(a[c],s);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=s===this?AS(null==e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(RI),this.root.sharedNodes.clear()}}}function _I(e){e.updateLayout()}function II(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?y_(e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=a_(r);r.min=t[e].min,r.max=r.min+i}):KI(i,n.layoutBox,t)&&y_(r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],a=a_(t[r]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)});const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};l_(a,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?l_(o,e.applyTransform(r,!0),n.measuredBox):l_(o,t,n.layoutBox);const l=!hI(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const a={x:{min:0,max:0},y:{min:0,max:0}};d_(a,n.layoutBox,i.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};d_(o,t,s.layoutBox),mI(a,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function AI(e){wI&&bI.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function NI(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function PI(e){e.clearSnapshot()}function RI(e){e.clearMeasurements()}function DI(e){e.isLayoutDirty=!1}function MI(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function LI(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function jI(e){e.resolveTargetDelta()}function OI(e){e.calcProjection()}function FI(e){e.resetSkewAndRotation()}function UI(e){e.removeLeadSnapshot()}function zI(e,t,n){e.translate=TC(t.translate,0,n),e.scale=TC(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function VI(e,t,n,r){e.min=TC(t.min,n.min,r),e.max=TC(t.max,n.max,r)}function BI(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const HI={duration:.45,ease:[.4,0,.1,1]},$I=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),WI=$I("applewebkit/")&&!$I("chrome/")?Math.round:Lx;function qI(e){e.min=WI(e.min),e.max=WI(e.max)}function KI(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=gI(t),i=gI(n),s=.2,!(Math.abs(r-i)<=s));var r,i,s}function GI(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const YI=TI({attachResizeListener:(e,t)=>YT(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),QI={current:void 0},JI=TI({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!QI.current){const e=new YI({});e.mount(window),e.setOptions({layoutScroll:!0}),QI.current=e}return QI.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),XI={pan:{Feature:class extends qT{constructor(){super(...arguments),this.removePointerDownListener=Lx}onPointerDown(e){this.session=new ZT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:L_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:U_(e),onStart:U_(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&$x.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=JT(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends qT{constructor(e){super(e),this.removeGroupControls=Lx,this.removeListeners=Lx,this.controls=new O_(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Lx}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:JI,MeasureLayout:W_}};function ZI(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&$x.postRender(()=>i(t,QT(t)))}function eA(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&$x.postRender(()=>i(t,QT(t)))}const tA=new WeakMap,nA=new WeakMap,rA=e=>{const t=tA.get(e.target);t&&t(e)},iA=e=>{e.forEach(rA)};function sA(e,t,n){const r=function({root:e,...t}){const n=e||document;nA.has(n)||nA.set(n,{});const r=nA.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(iA,{root:e,...t})),r[i]}(t);return tA.set(e,n),r.observe(e),()=>{tA.delete(e),r.unobserve(e)}}const aA={some:0,all:1};const oA={inView:{Feature:class extends qT{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof r?r:aA[r]};return sA(this.node.current,s,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends qT{mount(){const{current:e}=this.node;e&&(this.unmount=rE(e,e=>(eA(this.node,e,"Start"),(e,{success:t})=>eA(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends qT{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(hR){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=MC(YT(this.node.current,"focus",()=>this.onFocus()),YT(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends qT{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){const[r,i,s]=Gk(e,n),a=Yk(e=>{const{target:n}=e,r=t(e);if("function"!=typeof r||!n)return;const s=Yk(e=>{r(e),n.removeEventListener("pointerleave",s)});n.addEventListener("pointerleave",s,i)});return r.forEach(e=>{e.addEventListener("pointerenter",a,i)}),s}(e,e=>(ZI(this.node,e,"Start"),e=>ZI(this.node,e,"End"))))}unmount(){}}}},lA={layout:{ProjectionNode:JI,MeasureLayout:W_}},cA={current:null},uA={current:!1};const dA=[...bC,UE,GE],hA=new WeakMap;const fA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pA{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=oE.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,$x.render(this.render,!1,!0))};const{latestValues:o,renderState:l,onUpdate:c}=s;this.onUpdate=c,this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=oS(t),this.isVariantNode=lS(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(const h in d){const e=d[h];void 0!==o[h]&&IS(e)&&e.set(o[h],!1)}}mount(e){this.current=e,hA.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),uA.current||function(){if(uA.current=!0,Rx)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>cA.current=e.matches;e.addListener(t),t()}else cA.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||cA.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){hA.delete(this.current),this.projection&&this.projection.unmount(),Wx(this.notifyUpdate),Wx(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=DS.has(e),r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&$x.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),i(),s&&s(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Qx){const t=Qx[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<fA.length;n++){const t=fA[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],s=n[r];if(IS(i))e.addValue(r,i);else if(IS(s))e.addValue(r,fE(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,fE(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=fE(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var i;return null!=r&&("string"==typeof r&&(mC(r)||IE(r))?r=parseFloat(r):(i=r,!dA.find(yC(i))&&GE.test(t)&&(r=tC(e,t))),this.setBaseTarget(e,IS(r)?r.get():r)),IS(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"==typeof n||"object"==typeof n){const i=CS(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);i&&(r=i[e])}if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||IS(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new uE),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class mA extends pA{constructor(){super(...arguments),this.KeyframeResolver=xC}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;IS(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class gA extends mA{constructor(){super(...arguments),this.type="html",this.renderInstance=dk}readValueFromInstance(e,t){if(DS.has(t)){const e=eC(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(LS(t)?r.getPropertyValue(t):r[t])||0;return"string"==typeof i?i.trim():i}var n}measureInstanceViewportBox(e,{transformPagePoint:t}){return M_(e,t)}build(e,t,n){rk(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return gk(e,t,n)}}class vA extends mA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=v_}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(DS.has(t)){const e=eC(t);return e&&e.default||0}return t=hk.has(t)?t:pS(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return vk(e,t,n)}build(e,t,n){ok(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){fk(e,t,0,r)}mount(e){this.isSVGTag=uk(e.tagName),super.mount(e)}}const yA=(e,t)=>kS(e)?new vA(t):new gA(t,{allowProjection:e!==f.Fragment}),bA=tS(Tk({...GT,...oA,...XI,...lA},yA));const wA=new class{constructor(){this.dbName="YouTubeAudioSampler",this.dbVersion=1,this.storeName="audioCache",this.db=null,this.isInitialized=!1,this.config={maxStorageSize:524288e3,maxEntries:50,cleanupThreshold:.8,entryTTL:864e5,retryAttempts:3,retryDelay:1e3},this.init=this.init.bind(this),this.store=this.store.bind(this),this.retrieve=this.retrieve.bind(this),this.remove=this.remove.bind(this),this.cleanup=this.cleanup.bind(this),this.clear=this.clear.bind(this),this.getStorageInfo=this.getStorageInfo.bind(this)}async init(){if(!this.isInitialized||!this.db)return new Promise((e,t)=>{const n=indexedDB.open(this.dbName,this.dbVersion);n.onerror=()=>{t(new Error(`IndexedDB initialization failed: ${n.error?.message}`))},n.onsuccess=()=>{this.db=n.result,this.isInitialized=!0,this.db.onerror=e=>{},e()},n.onupgradeneeded=e=>{const t=e.target.result;if(!t.objectStoreNames.contains(this.storeName)){const e=t.createObjectStore(this.storeName,{keyPath:"id"});e.createIndex("timestamp","timestamp",{unique:!1}),e.createIndex("size","size",{unique:!1}),e.createIndex("youtubeUrl","youtubeUrl",{unique:!1})}}})}async store(e,t,n=null){try{await this.ensureInitialized();const r=this.generateId(e),i=this.serializeAudioBuffer(t),s=this.calculateSize(i,n);await this.ensureStorageSpace(s);const a={id:r,youtubeUrl:e,audioData:i,waveformData:n,size:s,timestamp:Date.now(),format:"audiobuffer",sampleRate:t.sampleRate,numberOfChannels:t.numberOfChannels,duration:t.duration};return await this.performStore(a),!0}catch(r){if("QuotaExceededError"===r.name)try{return await this.performEmergencyCleanup(),await this.performStore(entry),!0}catch(i){}throw new Error(`Storage failed: ${r.message}`)}}async retrieve(e){try{await this.ensureInitialized();const t=this.generateId(e),n=await this.performRetrieve(t);if(!n)return null;if(this.isExpired(n))return await this.remove(e),null;const r=this.deserializeAudioBuffer(n.audioData,n.sampleRate,n.numberOfChannels);return await this.updateAccessTime(t),{audioBuffer:r,waveformData:n.waveformData,metadata:{duration:n.duration,sampleRate:n.sampleRate,numberOfChannels:n.numberOfChannels,size:n.size,timestamp:n.timestamp}}}catch(t){return null}}async remove(e){try{await this.ensureInitialized();const t=this.generateId(e);return new Promise((e,n)=>{const r=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).delete(t);r.onsuccess=()=>{e(!0)},r.onerror=()=>{n(new Error(`Failed to remove entry: ${r.error?.message}`))}})}catch(t){return!1}}async has(e){try{await this.ensureInitialized();const t=this.generateId(e),n=await this.performRetrieve(t);return!!n&&(!this.isExpired(n)||(await this.remove(e),!1))}catch(t){return!1}}async cleanup(){try{await this.ensureInitialized();const e=await this.getAllEntries();Date.now();let t=0;e.sort((e,t)=>e.timestamp-t.timestamp);const n=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName);for(const r of e){let i=!1;this.isExpired(r)&&(i=!0),e.length-t>this.config.maxEntries&&(i=!0),i&&(await new Promise((e,t)=>{const i=n.delete(r.id);i.onsuccess=()=>e(),i.onerror=()=>t(i.error)}),t++)}return t}catch(e){return 0}}async clear(){try{return await this.ensureInitialized(),new Promise((e,t)=>{const n=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).clear();n.onsuccess=()=>{e(!0)},n.onerror=()=>{t(new Error(`Failed to clear storage: ${n.error?.message}`))}})}catch(e){return!1}}async getStorageInfo(){try{await this.ensureInitialized();const t=await this.getAllEntries(),n=t.reduce((e,t)=>e+(t.size||0),0),r=t.filter(e=>this.isExpired(e)).length;let i=null,s=null;if("storage"in navigator&&"estimate"in navigator.storage)try{const e=await navigator.storage.estimate();i=e.quota,s=e.usage}catch(e){}return{entryCount:t.length,expiredCount:r,totalSize:n,totalSizeMB:Math.round(n/1048576*100)/100,maxEntries:this.config.maxEntries,maxSize:this.config.maxStorageSize,maxSizeMB:Math.round(this.config.maxStorageSize/1048576),quota:i,usage:s,utilizationPercent:i?Math.round(s/i*100):null,oldestEntry:t.length>0?Math.min(...t.map(e=>e.timestamp)):null,newestEntry:t.length>0?Math.max(...t.map(e=>e.timestamp)):null}}catch(e){return{entryCount:0,expiredCount:0,totalSize:0,error:e.message}}}async ensureInitialized(){this.isInitialized||await this.init()}generateId(e){const t=e.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/);return t?`yt_${t[1]}`:`url_${btoa(e).replace(/[^a-zA-Z0-9]/g,"")}`}serializeAudioBuffer(e){const t=[];for(let n=0;n<e.numberOfChannels;n++){const r=e.getChannelData(n);t.push(Array.from(r))}return{channels:t,sampleRate:e.sampleRate,numberOfChannels:e.numberOfChannels,duration:e.duration}}deserializeAudioBuffer(e,t,n){const r=new(window.AudioContext||window.webkitAudioContext),i=e.channels[0].length,s=r.createBuffer(n,i,t);for(let a=0;a<n;a++){const t=s.getChannelData(a),n=e.channels[a];for(let e=0;e<i;e++)t[e]=n[e]}return s}calculateSize(e,t){let n=0;if(e&&e.channels)for(const r of e.channels)n+=4*r.length;return t&&(n+=4*t.length),n+=1024,n}async ensureStorageSpace(e){(await this.getStorageInfo()).totalSize+e>this.config.maxStorageSize*this.config.cleanupThreshold&&await this.cleanup();if((await this.getStorageInfo()).totalSize+e>this.config.maxStorageSize)throw new Error("Insufficient storage space available")}async performEmergencyCleanup(){const e=await this.getAllEntries();e.sort((e,t)=>e.timestamp-t.timestamp);const t=e.slice(0,Math.floor(e.length/2)),n=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName);for(const r of t)await new Promise((e,t)=>{const i=n.delete(r.id);i.onsuccess=()=>e(),i.onerror=()=>t(i.error)})}async performStore(e){return new Promise((t,n)=>{const r=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).put(e);r.onsuccess=()=>t(),r.onerror=()=>n(r.error)})}async performRetrieve(e){return new Promise((t,n)=>{const r=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).get(e);r.onsuccess=()=>t(r.result),r.onerror=()=>n(r.error)})}async updateAccessTime(e){try{const t=await this.performRetrieve(e);t&&(t.lastAccessed=Date.now(),await this.performStore(t))}catch(t){}}async getAllEntries(){return new Promise((e,t)=>{const n=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).getAll();n.onsuccess=()=>e(n.result||[]),n.onerror=()=>t(n.error)})}isExpired(e){return Date.now()-e.timestamp>this.config.entryTTL}formatSize(e){if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB"][t]}async close(){this.db&&(this.db.close(),this.db=null,this.isInitialized=!1)}};wA.init().catch(e=>{}),"undefined"!=typeof window&&(window.addEventListener("beforeunload",()=>{wA.close()}),setInterval(()=>{wA.cleanup().catch(e=>{})},18e5));const xA=new class{constructor(){this.metrics=new Map,this.memorySnapshots=[],this.performanceObserver=null,this.isMonitoring=!1,this.config={maxMetricsHistory:100,memorySnapshotInterval:5e3,maxMemorySnapshots:50,performanceThresholds:{audioDownload:3e4,audioProcessing:1e4,waveformGeneration:5e3,memoryUsage:524288e3,gcTriggerThreshold:.8}},this.startMonitoring=this.startMonitoring.bind(this),this.stopMonitoring=this.stopMonitoring.bind(this),this.recordMetric=this.recordMetric.bind(this),this.getMetrics=this.getMetrics.bind(this),this.cleanup=this.cleanup.bind(this)}startMonitoring(){this.isMonitoring||(this.isMonitoring=!0,this.startMemoryMonitoring(),this.initializePerformanceObserver())}stopMonitoring(){this.isMonitoring&&(this.isMonitoring=!1,this.memoryInterval&&(clearInterval(this.memoryInterval),this.memoryInterval=null),this.performanceObserver&&(this.performanceObserver.disconnect(),this.performanceObserver=null))}recordMetric(e,t,n={}){const r={operation:e,duration:t,timestamp:Date.now(),metadata:{...n}};this.metrics.has(e)||this.metrics.set(e,[]);const i=this.metrics.get(e);return i.push(r),i.length>this.config.maxMetricsHistory&&i.shift(),this.checkPerformanceThresholds(e,t,n),r}startMeasurement(e){const t=performance.now(),n=this.getCurrentMemoryUsage();return(r={})=>{const i=performance.now()-t,s=this.getCurrentMemoryUsage(),a={...r,startMemory:n,endMemory:s,memoryDelta:s.usedJSHeapSize-n.usedJSHeapSize};return this.recordMetric(e,i,a)}}getMetrics(e=null){if(e){const t=this.metrics.get(e)||[];return this.calculateMetricsSummary(t,e)}const t={};for(const[n,r]of this.metrics)t[n]=this.calculateMetricsSummary(r,n);return{operations:t,memory:this.getMemoryMetrics(),system:this.getSystemMetrics()}}getCurrentMemoryUsage(){return"memory"in performance?{usedJSHeapSize:performance.memory.usedJSHeapSize,totalJSHeapSize:performance.memory.totalJSHeapSize,jsHeapSizeLimit:performance.memory.jsHeapSizeLimit,timestamp:Date.now()}:{usedJSHeapSize:0,totalJSHeapSize:0,jsHeapSizeLimit:0,timestamp:Date.now(),unavailable:!0}}shouldTriggerGC(){const e=this.getCurrentMemoryUsage();if(e.unavailable)return!1;return e.usedJSHeapSize/e.jsHeapSizeLimit>this.config.performanceThresholds.gcTriggerThreshold}triggerGC(){if(window.gc&&"function"==typeof window.gc)try{this.getCurrentMemoryUsage();window.gc();this.getCurrentMemoryUsage();return!0}catch(e){}return!1}getMemoryOptimizationRecommendations(){const e=[],t=this.getCurrentMemoryUsage();if(t.unavailable)return["Memory monitoring unavailable in this environment"];const n=t.usedJSHeapSize/t.jsHeapSizeLimit;if(n>.9?e.push("Critical: Memory usage above 90%. Consider clearing audio cache."):n>.8&&e.push("Warning: Memory usage above 80%. Monitor closely."),this.memorySnapshots.length>=10){const t=this.memorySnapshots.slice(-10);this.calculateMemoryTrend(t)>.1&&e.push("Potential memory leak detected. Consider restarting the application.")}const r=this.metrics.get("audio_processing")||[];if(r.length>0){r.reduce((e,t)=>e+(t.metadata.memoryDelta||0),0)/r.length>52428800&&e.push("Audio processing consuming significant memory. Consider optimizing buffer management.")}return e}getPerformanceOptimizationRecommendations(){const e=[],t=this.metrics.get("audio_download")||[];if(t.length>0){t.reduce((e,t)=>e+t.duration,0)/t.length>this.config.performanceThresholds.audioDownload&&e.push("Audio downloads are slow. Check network connection or server performance.")}const n=this.metrics.get("waveform_generation")||[];if(n.length>0){n.reduce((e,t)=>e+t.duration,0)/n.length>this.config.performanceThresholds.waveformGeneration&&e.push("Waveform generation is slow. Consider using Web Workers or reducing sample count.")}return e}startMemoryMonitoring(){this.memoryInterval=setInterval(()=>{const e=this.getCurrentMemoryUsage();this.memorySnapshots.push(e),this.memorySnapshots.length>this.config.maxMemorySnapshots&&this.memorySnapshots.shift(),this.shouldTriggerGC()&&this.triggerGC()},this.config.memorySnapshotInterval)}initializePerformanceObserver(){if("PerformanceObserver"in window)try{this.performanceObserver=new PerformanceObserver(e=>{const t=e.getEntries();for(const n of t)"measure"===n.entryType&&this.recordMetric(`browser_${n.name}`,n.duration,{entryType:n.entryType,startTime:n.startTime})}),this.performanceObserver.observe({entryTypes:["measure","navigation"]})}catch(e){}}checkPerformanceThresholds(e,t,n){this.config.performanceThresholds[e]}calculateMetricsSummary(e,t){if(0===e.length)return{operation:t,count:0,avgDuration:0,minDuration:0,maxDuration:0,totalDuration:0};const n=e.map(e=>e.duration),r=n.reduce((e,t)=>e+t,0);return{operation:t,count:e.length,avgDuration:Math.round(r/e.length),minDuration:Math.min(...n),maxDuration:Math.max(...n),totalDuration:Math.round(r),recentMetrics:e.slice(-5)}}getMemoryMetrics(){if(0===this.memorySnapshots.length)return{unavailable:!0};const e=this.memorySnapshots[this.memorySnapshots.length-1],t=this.calculateMemoryTrend(this.memorySnapshots.slice(-10));return{current:{used:this.formatBytes(e.usedJSHeapSize),total:this.formatBytes(e.totalJSHeapSize),limit:this.formatBytes(e.jsHeapSizeLimit),usagePercent:Math.round(e.usedJSHeapSize/e.jsHeapSizeLimit*100)},trend:{direction:t>.05?"increasing":t<-.05?"decreasing":"stable",percentage:Math.round(100*t)},snapshots:this.memorySnapshots.length}}getSystemMetrics(){const e={timestamp:Date.now(),userAgent:navigator.userAgent,hardwareConcurrency:navigator.hardwareConcurrency||"unknown"};return"connection"in navigator&&(e.connection={effectiveType:navigator.connection.effectiveType,downlink:navigator.connection.downlink,rtt:navigator.connection.rtt}),e}calculateMemoryTrend(e){if(e.length<2)return 0;const t=e[0].usedJSHeapSize;return(e[e.length-1].usedJSHeapSize-t)/t}formatBytes(e){if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB"][t]}cleanup(){this.stopMonitoring(),this.metrics.clear(),this.memorySnapshots=[]}};xA.startMonitoring(),"undefined"!=typeof window&&window.addEventListener("beforeunload",()=>{xA.cleanup()});const SA=new class{constructor(){this.audioBuffers=new Map,this.bufferMetadata=new Map,this.cleanupCallbacks=new Set,this.isMonitoring=!1,this.config={maxMemoryUsage:419430400,cleanupThreshold:.8,maxBufferAge:18e5,maxBufferCount:20,gcInterval:6e4,memoryCheckInterval:1e4,priorityLevels:{HIGH:3,MEDIUM:2,LOW:1}},this.registerBuffer=this.registerBuffer.bind(this),this.unregisterBuffer=this.unregisterBuffer.bind(this),this.getBuffer=this.getBuffer.bind(this),this.cleanup=this.cleanup.bind(this),this.startMonitoring=this.startMonitoring.bind(this),this.stopMonitoring=this.stopMonitoring.bind(this)}startMonitoring(){this.isMonitoring||(this.isMonitoring=!0,this.gcInterval=setInterval(()=>{this.performGarbageCollection()},this.config.gcInterval),this.memoryCheckInterval=setInterval(()=>{this.checkMemoryUsage()},this.config.memoryCheckInterval))}stopMonitoring(){this.isMonitoring&&(this.isMonitoring=!1,this.gcInterval&&(clearInterval(this.gcInterval),this.gcInterval=null),this.memoryCheckInterval&&(clearInterval(this.memoryCheckInterval),this.memoryCheckInterval=null))}registerBuffer(e,t,n={}){try{if(!t||!e)throw new Error("Invalid buffer or ID provided");const r=this.calculateBufferSize(t);this.shouldTriggerCleanup(r)&&this.performEmergencyCleanup(r);const i={id:e,size:r,createdAt:Date.now(),lastAccessed:Date.now(),accessCount:0,priority:n.priority||this.config.priorityLevels.MEDIUM,persistent:n.persistent||!1,tags:n.tags||[],source:n.source||"unknown"};return this.audioBuffers.set(e,t),this.bufferMetadata.set(e,i),!0}catch(r){return!1}}unregisterBuffer(e){try{const n=this.bufferMetadata.get(e);if(n)for(const r of this.cleanupCallbacks)try{r(e,n)}catch(t){}return this.audioBuffers.delete(e),this.bufferMetadata.delete(e),!0}catch(t){return!1}}getBuffer(e){const t=this.audioBuffers.get(e);if(t){const t=this.bufferMetadata.get(e);t&&(t.lastAccessed=Date.now(),t.accessCount++)}return t||null}hasBuffer(e){return this.audioBuffers.has(e)}getBufferMetadata(e){return this.bufferMetadata.get(e)||null}updateBufferPriority(e,t){const n=this.bufferMetadata.get(e);n&&(n.priority=t)}addCleanupCallback(e){this.cleanupCallbacks.add(e)}removeCleanupCallback(e){this.cleanupCallbacks.delete(e)}getMemoryStats(){let e=0,t=null,n=null;const r={HIGH:0,MEDIUM:0,LOW:0};for(const[s,a]of this.bufferMetadata){e+=a.size,(!t||a.createdAt<t.createdAt)&&(t=a),(!n||a.createdAt>n.createdAt)&&(n=a);const i=Object.keys(this.config.priorityLevels).find(e=>this.config.priorityLevels[e]===a.priority)||"UNKNOWN";r[i]=(r[i]||0)+1}const i=xA.getCurrentMemoryUsage();return{audioBuffers:{count:this.audioBuffers.size,totalSize:e,totalSizeMB:Math.round(e/1048576*100)/100,maxSize:this.config.maxMemoryUsage,maxSizeMB:Math.round(this.config.maxMemoryUsage/1048576),usagePercent:Math.round(e/this.config.maxMemoryUsage*100),oldestBuffer:t?{id:t.id,age:Date.now()-t.createdAt,size:this.formatBytes(t.size)}:null,newestBuffer:n?{id:n.id,age:Date.now()-n.createdAt,size:this.formatBytes(n.size)}:null,byPriority:r},system:{jsHeapUsed:i.usedJSHeapSize,jsHeapTotal:i.totalJSHeapSize,jsHeapLimit:i.jsHeapSizeLimit,jsHeapUsedMB:Math.round(i.usedJSHeapSize/1048576*100)/100},recommendations:this.getMemoryRecommendations()}}listBuffers(){const e=[];for(const[t,n]of this.bufferMetadata)e.push({id:t,size:this.formatBytes(n.size),age:Date.now()-n.createdAt,lastAccessed:Date.now()-n.lastAccessed,accessCount:n.accessCount,priority:n.priority,persistent:n.persistent,tags:n.tags,source:n.source});return e.sort((e,t)=>t.lastAccessed-e.lastAccessed)}performGarbageCollection(){const e=xA.startMeasurement("memory_gc");try{let t=0,n=0;const r=Date.now(),i=Array.from(this.bufferMetadata.entries()).map(([e,t])=>({id:e,...t})).sort(this.getCleanupPriority.bind(this));for(const e of i){let i=!1;const s=r-e.createdAt;!e.persistent&&s>this.config.maxBufferAge&&(i=!0),this.audioBuffers.size>this.config.maxBufferCount&&(i=!0),i&&(n+=e.size,this.unregisterBuffer(e.id),t++)}e({cleanedCount:t,freedBytes:n})}catch(t){e({error:t.message})}}performEmergencyCleanup(e=0){const t=xA.startMeasurement("emergency_cleanup");try{let n=0,r=0;const i=Array.from(this.bufferMetadata.entries()).map(([e,t])=>({id:e,...t})).sort(this.getCleanupPriority.bind(this)).reverse();for(const t of i){if(t.persistent)continue;if(n+=t.size,this.unregisterBuffer(t.id),r++,e>0&&n>=e)break;if(this.getCurrentMemoryUsage()<this.config.maxMemoryUsage*this.config.cleanupThreshold)break}t({cleanedCount:r,freedBytes:n,requiredBytes:e})}catch(n){t({error:n.message})}}checkMemoryUsage(){this.getCurrentMemoryUsage()>this.config.maxMemoryUsage*this.config.cleanupThreshold&&this.performGarbageCollection()}calculateBufferSize(e){return e.numberOfChannels*e.length*4}getCurrentMemoryUsage(){let e=0;for(const t of this.bufferMetadata.values())e+=t.size;return e}shouldTriggerCleanup(e=0){return this.getCurrentMemoryUsage()+e>this.config.maxMemoryUsage*this.config.cleanupThreshold||this.audioBuffers.size>=this.config.maxBufferCount}getCleanupPriority(e,t){return e.priority!==t.priority?t.priority-e.priority:e.persistent!==t.persistent?t.persistent-e.persistent:e.lastAccessed!==t.lastAccessed?t.lastAccessed-e.lastAccessed:e.accessCount!==t.accessCount?t.accessCount-e.accessCount:t.createdAt-e.createdAt}getMemoryRecommendations(){const e=[];let t=0,n=null;for(const[i,s]of this.bufferMetadata)t+=s.size,(!n||s.createdAt<n.createdAt)&&(n=s);const r=Math.round(t/this.config.maxMemoryUsage*100);if(r>90?e.push("Critical: Audio buffer memory usage above 90%. Consider clearing unused buffers."):r>80&&e.push("Warning: Audio buffer memory usage above 80%. Monitor closely."),this.audioBuffers.size>.8*this.config.maxBufferCount&&e.push("High buffer count detected. Consider implementing more aggressive cleanup."),n){Date.now()-n.createdAt>this.config.maxBufferAge&&e.push("Old audio buffers detected. Consider manual cleanup.")}return e}formatBytes(e){if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB"][t]}cleanup(){this.stopMonitoring();for(const[t,n]of this.bufferMetadata)for(const r of this.cleanupCallbacks)try{r(t,n)}catch(e){}this.audioBuffers.clear(),this.bufferMetadata.clear(),this.cleanupCallbacks.clear()}};SA.startMonitoring(),"undefined"!=typeof window&&window.addEventListener("beforeunload",()=>{SA.cleanup()});class kA{constructor(){this.audioContext=null,this.masterGainNode=null,this.activeSources=new Map,this.audioBuffer=null,this.storageManager=wA,this.isInitialized=!1,this.masterVolume=1,this.initializeAudioContext=this.initializeAudioContext.bind(this),this.cleanup=this.cleanup.bind(this)}async initializeAudioContext(){try{return this.audioContext&&"closed"!==this.audioContext.state||(this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.masterGainNode=this.audioContext.createGain(),this.masterGainNode.connect(this.audioContext.destination),this.masterGainNode.gain.value=this.masterVolume),"suspended"===this.audioContext.state&&await this.audioContext.resume(),this.isInitialized=!0,!0}catch(e){throw new Error(`AudioContext initialization failed: ${e.message}`)}}async loadAudioBuffer(e,t=null){try{await this.initializeAudioContext();let n=t;if(!n){const t=await this.storageManager.getAudioData(e);if(!t||!t.audioBuffer)throw new Error(`No audio buffer found for ID: ${e}`);n=t.audioBuffer}return this.audioBuffer=await this.audioContext.decodeAudioData(n.slice()),this.audioBuffer}catch(n){throw new Error(`Audio buffer loading failed: ${n.message}`)}}async playSample(e,t=null,n=null,r=null){const i=xA.startMeasurement("sample_playback");try{if(!this.audioBuffer)throw new Error("No audio buffer loaded");await this.initializeAudioContext();const s=r||`sample_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;if(e<0||e>=this.audioBuffer.duration)throw new Error(`Invalid start time: ${e}. Must be between 0 and ${this.audioBuffer.duration}`);const a=this.audioBuffer.duration-e,o=t?Math.min(t,a):a,l=this.audioContext.createBufferSource();l.buffer=this.audioBuffer;const c=this.audioContext.createGain(),u=null!==n?n:this.masterVolume;c.gain.value=u,l.connect(c),c.connect(this.masterGainNode),this.activeSources.set(s,{source:l,gainNode:c,startTime:e,duration:o,startedAt:this.audioContext.currentTime}),l.onended=()=>{this.activeSources.delete(s)};const d=this.audioContext.currentTime;l.start(d,e,o);const h={id:s,startTime:e,duration:o,volume:u};return i({success:!0,sampleId:s,startTime:e,duration:o,activeSamples:this.activeSources.size}),h}catch(s){throw i({error:s.message,startTime:e,duration:t}),new Error(`Sample playback failed: ${s.message}`)}}stopSample(e){try{const t=this.activeSources.get(e);return!!t&&(t.source.stop(),this.activeSources.delete(e),!0)}catch(t){return!1}}stopAllSamples(){try{for(const[t,n]of this.activeSources)try{n.source.stop()}catch(e){}this.activeSources.clear()}catch(e){}}setMasterVolume(e){try{this.masterVolume=Math.max(0,Math.min(1,e)),this.masterGainNode&&(this.masterGainNode.gain.value=this.masterVolume)}catch(t){}}setSampleVolume(e,t){try{const n=this.activeSources.get(e);if(n){const e=Math.max(0,Math.min(1,t));return n.gainNode.gain.value=e,!0}return!1}catch(n){return!1}}getActiveSamples(){const e=[],t=this.audioContext?this.audioContext.currentTime:0;for(const[n,r]of this.activeSources){const i=t-r.startedAt,s=Math.max(0,r.duration-i);e.push({id:n,startTime:r.startTime,duration:r.duration,elapsed:i,remaining:s,volume:r.gainNode.gain.value})}return e}async jumpToTimestamp(e,t=!0){const n=xA.startMeasurement("timestamp_jump");try{if(!this.audioBuffer)throw new Error("No audio buffer loaded");if(e<0||e>=this.audioBuffer.duration)throw new Error(`Invalid timestamp: ${e}. Must be between 0 and ${this.audioBuffer.duration}`);const r=this.activeSources.size;let i;return this.stopAllSamples(),i=t?await this.playSample(e):{timestamp:e,playing:!1},n({success:!0,newTimestamp:e,maintainPlayback:t,previousSampleCount:r,newSampleId:i.id||null}),i}catch(r){throw n({error:r.message,newTimestamp:e,maintainPlayback:t}),new Error(`Timestamp jump failed: ${r.message}`)}}getStatus(){return{isInitialized:this.isInitialized,audioContextState:this.audioContext?this.audioContext.state:"not-created",hasAudioBuffer:!!this.audioBuffer,audioBufferDuration:this.audioBuffer?this.audioBuffer.duration:0,activeSamplesCount:this.activeSources.size,masterVolume:this.masterVolume}}async cleanup(){try{this.stopAllSamples(),this.audioContext&&"closed"!==this.audioContext.state&&await this.audioContext.close(),this.audioContext=null,this.masterGainNode=null,this.audioBuffer=null,this.isInitialized=!1,this.activeSources.clear()}catch(e){}}}function EA({youtubeUrl:e,setPlayerState:t,volume:n,onPlayerReady:r,audioBuffer:i,onSyncError:s}){const[a,o]=f.useState(""),[c,u]=f.useState(null),[d,h]=f.useState(!1),p=f.useRef(null),m=f.useRef(null),[g,v]=f.useState(!1),[y,b]=f.useState(null),w=f.useRef(0),x=f.useRef(!1);f.useEffect(()=>{const t=e.match(/(?:v=)([^&?]+)/)||e.match(/(?:youtu.be\/)([^&?]+)/),n=t?t[1]:"";o(n)},[e]),f.useEffect(()=>{(async()=>{try{m.current||(m.current=new kA),i?(await m.current.loadAudioBuffer("video-sync",i),v(!0),b(null)):v(!1)}catch(e){b(`Engine initialization failed: ${e.message}`),v(!1),s?.(e)}})()},[i,s]),f.useEffect(()=>{if(window.YT&&window.YT.Player)h(!0);else if(!window.onYouTubeIframeAPIReady){const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";const t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),window.onYouTubeIframeAPIReady=()=>{h(!0)}}},[]),f.useEffect(()=>{if(!d||!a)return;const e=new window.YT.Player("youtube-player",{height:"100%",width:"100%",videoId:a,playerVars:{autoplay:0,controls:1,modestbranding:1,rel:0,enablejsapi:1},events:{onReady:e=>{u(e.target);const n=e.target.getDuration();t(e=>({...e,duration:n}));const i={...e.target,syncToTimestamp:E,handleSampleTriggered:C,getSyncStatus:T,sampleEngine:m.current};r?.(i)},onStateChange:e=>{const n=e.data===window.YT.PlayerState.PLAYING;t(e=>({...e,isPlaying:n})),n?S():k()}}});return()=>{e&&e.destroy&&e.destroy(),k()}},[d,a,t,r]),f.useEffect(()=>()=>{m.current&&m.current.cleanup().catch(e=>{})},[a]);const S=()=>{p.current&&clearInterval(p.current),p.current=setInterval(()=>{if(c&&c.getCurrentTime){const n=c.getCurrentTime();if(t(e=>({...e,currentTime:n})),g&&m.current)try{m.current.getActiveSamples()}catch(e){}}},100)},k=()=>{p.current&&(clearInterval(p.current),p.current=null)},E=f.useCallback(async(e,n=!0)=>{try{if(!c||!g||!m.current)throw new Error("Video player or audio engine not ready for synchronization");if(x.current)return;x.current=!0,w.current=e;const r=c.getPlayerState()===window.YT.PlayerState.PLAYING;c.seekTo(e,!0),n&&r?await m.current.jumpToTimestamp(e,!0):await m.current.jumpToTimestamp(e,!1),t(t=>({...t,currentTime:e,isPlaying:n&&r})),b(null)}catch(r){b(`Sync failed: ${r.message}`),s?.(r)}finally{x.current=!1}},[c,g,t,s]),C=f.useCallback(async e=>{try{if(!g||!m.current)throw new Error("Audio engine not ready for sample playback");const t=c?.getCurrentTime()||0;Math.abs(t-e)>.5&&await E(e,!0),await m.current.playSample(e)}catch(t){b(`Sample trigger failed: ${t.message}`),s?.(t)}},[c,g,E,s]),T=f.useCallback(()=>({isEngineReady:g,hasAudioBuffer:!!i,syncError:y,lastSeekTime:w.current,isSyncing:x.current,engineStatus:m.current?.getStatus()||null}),[g,i,y]);return f.useEffect(()=>{c&&c.setVolume&&c.setVolume(100*n)},[c,n]),l.jsx(bA.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"aspect-video w-full bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl shadow-lg overflow-hidden relative",children:a?l.jsxs(l.Fragment,{children:[l.jsx("div",{id:"youtube-player",className:"w-full h-full"}),i&&l.jsxs("div",{className:"absolute top-2 right-2 flex items-center space-x-2",children:[l.jsx("div",{className:"w-2 h-2 rounded-full "+(g?"bg-green-400":"bg-yellow-400"),title:g?"Audio sync ready":"Audio sync initializing"}),y&&l.jsx("div",{className:"bg-red-500/80 text-white text-xs px-2 py-1 rounded",title:y,children:"Sync Error"})]})]}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx("p",{className:"text-white/50",children:"Enter a YouTube URL to get started"})})})}const CA={},TA=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),i=n?.nonce||n?.getAttribute("nonce");r=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in CA)return;CA[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,i&&r.setAttribute("nonce",i),document.head.appendChild(r),t?new Promise((t,n)=>{r.addEventListener("load",t),r.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function i(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&i(e.reason);return e().catch(i)})},_A=({error:e,errorInfo:t,retryCount:n=0,isRecovering:r=!1,onRetry:i,onFallbackMode:s,canRetry:a=!0,isTransient:o=!1})=>{const[c,u]=f.useState(!1);return l.jsx("div",{className:"waveform-fallback-container bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-6 text-center min-h-[200px] flex flex-col justify-center",children:l.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[l.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-orange-100 rounded-full",children:l.jsx(jt,{className:"w-8 h-8 text-orange-600"})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Waveform Display Unavailable"}),l.jsx("p",{className:"text-gray-600 max-w-md",children:(()=>{if(!e)return"An unknown error occurred";const t=(e.message||e.toString()).toLowerCase();return t.includes("canvas")?"Unable to initialize waveform display. Your browser may not support the required graphics features.":t.includes("audio")||t.includes("web audio")?"Cannot access audio for waveform analysis. This may be due to browser security restrictions.":t.includes("memory")||t.includes("allocation")?"Insufficient memory to generate waveform. Try closing other browser tabs or refreshing the page.":t.includes("network")||t.includes("fetch")?"Network error while loading audio data. Please check your internet connection.":"Waveform visualization encountered an unexpected error."})()}),n>0&&l.jsx("p",{className:"text-sm text-blue-600",children:0===n?"":1===n?"First retry attempt...":2===n?"Second retry attempt...":"Final retry attempt..."})]}),r&&l.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[l.jsx(Nt,{className:"w-4 h-4 animate-spin"}),l.jsx("span",{className:"text-sm",children:"Attempting to recover..."})]}),!r&&l.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:(()=>{const t=[];return o&&a&&t.push({label:"Retry",action:i,icon:Nt,primary:!0,description:"Attempt to reload the waveform visualization"}),t.push({label:"Use Simple Mode",action:s,icon:qt,primary:!a,description:"Switch to a simplified waveform display that works on all devices"}),e?.message?.includes("canvas")&&t.push({label:"Update Browser",action:()=>window.open("https://browsehappy.com/","_blank"),icon:Dt,description:"Update your browser for better graphics support"}),t})().map((e,t)=>l.jsxs("button",{onClick:e.action,className:`\n                  flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors\n                  ${e.primary?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-700 hover:bg-gray-300"}\n                `,title:e.description,children:[l.jsx(e.icon,{className:"w-4 h-4"}),l.jsx("span",{children:e.label})]},t))}),l.jsxs("button",{onClick:()=>u(!c),className:"flex items-center space-x-1 text-sm text-gray-500 hover:text-gray-700 transition-colors",children:[l.jsx(vt,{className:"w-4 h-4"}),l.jsxs("span",{children:[c?"Hide":"Show"," technical details"]})]}),c&&l.jsx("div",{className:"mt-4 p-4 bg-gray-100 rounded-lg text-left max-w-full overflow-auto",children:l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Error:"})," ",e?.name||"Unknown"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Message:"})," ",e?.message||"No message"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Retry Count:"})," ",n]}),e?.stack&&l.jsxs("div",{children:[l.jsx("strong",{children:"Stack Trace:"}),l.jsx("pre",{className:"mt-1 text-xs bg-white p-2 rounded border overflow-x-auto",children:e.stack})]})]})}),l.jsx("div",{className:"text-xs text-gray-500 max-w-md",children:l.jsx("p",{children:"The waveform visualization helps you see audio patterns and create precise samples. You can still use the sampler without it by clicking on the pads to set timestamps."})})]})})},IA=f.lazy(()=>TA(()=>import("./WaveformVisualization-DKyQ2tMh.js"),__vite__mapDeps([0,1,2,3])).then(e=>({default:e.WaveformVisualization}))),AA=f.lazy(()=>TA(()=>import("./WebAudioAnalyzer-BBBO2Bve.js"),[]).then(e=>({default:e.WebAudioAnalyzer}))),NA=f.lazy(()=>TA(()=>import("./VisualEnhancementEngine-Bv-cAWMG.js"),[]).then(e=>({default:e.VisualEnhancementEngine}))),PA=({enableVisualEnhancements:e=!1,enableAdvancedAnalysis:t=!1,fallbackComponent:n,...r})=>{const i=n||_A;return l.jsxs("div",{className:"waveform-lazy-container",children:[l.jsx(f.Suspense,{fallback:l.jsx(i,{message:"Loading waveform visualization..."}),children:l.jsx(IA,{...r})}),e&&l.jsx(f.Suspense,{fallback:null,children:l.jsx(NA,{})}),t&&l.jsx(f.Suspense,{fallback:null,children:l.jsx(AA,{})})]})},RA={waveformVisualization:{enabled:!0,rolloutPercentage:100,description:"Basic waveform visualization"},webAudioAnalysis:{enabled:!0,rolloutPercentage:90,description:"Web Audio API based analysis",requirements:["webAudioSupport"]},videoFrameAnalysis:{enabled:!0,rolloutPercentage:80,description:"Video frame based audio analysis fallback",requirements:["canvasSupport"]},dragChopCreation:{enabled:!0,rolloutPercentage:95,description:"Drag-based chop creation and editing"},zeroCrossingDetection:{enabled:!0,rolloutPercentage:70,description:"Zero-crossing detection for clean cuts",requirements:["webAudioSupport"]},smartSnapping:{enabled:!0,rolloutPercentage:75,description:"Smart snapping to optimal cut points",requirements:["zeroCrossingDetection"]},visualEnhancements:{enabled:!0,rolloutPercentage:60,description:"Advanced visual enhancements and color coding",requirements:["highPerformanceDevice"]},frequencyAnalysis:{enabled:!1,rolloutPercentage:30,description:"Real-time frequency analysis visualization",requirements:["webAudioSupport","highPerformanceDevice"]},webWorkerAnalysis:{enabled:!0,rolloutPercentage:85,description:"Background audio analysis using Web Workers",requirements:["webWorkerSupport"]},offscreenCanvas:{enabled:!0,rolloutPercentage:50,description:"Offscreen canvas rendering for better performance",requirements:["offscreenCanvasSupport"]},audioWorkletAnalysis:{enabled:!1,rolloutPercentage:10,description:"AudioWorklet-based real-time analysis",requirements:["audioWorkletSupport","experimentalFeatures"]},aiPoweredChopSuggestions:{enabled:!1,rolloutPercentage:5,description:"AI-powered chop suggestions based on musical structure",requirements:["experimentalFeatures","highPerformanceDevice"]},performanceMonitoring:{enabled:!0,rolloutPercentage:100,description:"Performance monitoring and analytics"},debugVisualization:{enabled:!1,rolloutPercentage:100,description:"Debug visualization overlays"}};const DA=new class{constructor(){this.flags={...RA},this.userSegment=this._determineUserSegment(),this.deviceCapabilities=this._detectDeviceCapabilities(),this.overrides=this._loadOverrides(),this._applyOverrides()}isEnabled(e){const t=this.flags[e];return!!t&&(!!t.enabled&&(!(t.requirements&&!this._checkRequirements(t.requirements))&&!!this._isInRollout(e,t.rolloutPercentage)))}getEnabledFeatures(){return Object.keys(this.flags).filter(e=>this.isEnabled(e))}getFeatureDetails(e){const t=this.flags[e];return t?{...t,isEnabled:this.isEnabled(e),requirementsMet:!t.requirements||this._checkRequirements(t.requirements),inRollout:this._isInRollout(e,t.rolloutPercentage)}:null}override(e,t){this.flags[e]&&(this.overrides[e]=t,this._saveOverrides())}clearOverrides(){this.overrides={},this._saveOverrides()}getSummary(){const e=this.getEnabledFeatures(),t=Object.keys(this.flags).length;return{userSegment:this.userSegment,deviceCapabilities:this.deviceCapabilities,enabledFeatures:e,totalFeatures:t,enabledCount:e.length,overrides:this.overrides,flagDetails:Object.fromEntries(Object.keys(this.flags).map(e=>[e,this.getFeatureDetails(e)]))}}_determineUserSegment(){const e=this._getUserId(),t=this._hashString(e)%100;return t<10?"early_adopters":t<30?"beta_users":t<80?"regular_users":"conservative_users"}_detectDeviceCapabilities(){return{webAudioSupport:"AudioContext"in window||"webkitAudioContext"in window,webWorkerSupport:"Worker"in window,offscreenCanvasSupport:"OffscreenCanvas"in window,audioWorkletSupport:"AudioWorklet"in window,canvasSupport:"HTMLCanvasElement"in window,highPerformanceDevice:this._isHighPerformanceDevice(),experimentalFeatures:this._allowExperimentalFeatures()}}_isHighPerformanceDevice(){const e=navigator.hardwareConcurrency||2,t=navigator.deviceMemory||2,n=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return e>=4&&t>=4&&!n}_allowExperimentalFeatures(){return"early_adopters"===this.userSegment||"true"===localStorage.getItem("waveform_experimental_features")}_checkRequirements(e){return e.every(e=>e in this.deviceCapabilities?this.deviceCapabilities[e]:e in this.flags&&this.isEnabled(e))}_isInRollout(e,t){if(t>=100)return!0;if(t<=0)return!1;const n=this._getUserId();return this._hashString(`${n}_${e}`)%100<t}_getUserId(){let e=localStorage.getItem("waveform_user_id");return e||(e=`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("waveform_user_id",e)),e}_hashString(e){let t=0;for(let n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return Math.abs(t)}_loadOverrides(){try{const e=localStorage.getItem("waveform_feature_overrides");return e?JSON.parse(e):{}}catch(e){return{}}}_saveOverrides(){try{localStorage.setItem("waveform_feature_overrides",JSON.stringify(this.overrides))}catch(e){}}_applyOverrides(){for(const[e,t]of Object.entries(this.overrides))this.flags[e]&&(this.flags[e].enabled=t)}},MA=e=>{const[t,n]=p.useState(DA.isEnabled(e));return p.useEffect(()=>{const t=()=>{n(DA.isEnabled(e))};return window.addEventListener("storage",t),()=>{window.removeEventListener("storage",t)}},[e]),t};const LA=new class{constructor(){this.sessionId=this._generateSessionId(),this.events=[],this.performanceMetrics=new Map,this.userBehaviorPatterns=new Map,this.isEnabled=this._checkAnalyticsConsent()}trackEvent(e,t={}){if(!this.isEnabled)return;const n={sessionId:this.sessionId,timestamp:Date.now(),type:e,data:{...t,userAgent:navigator.userAgent,viewport:{width:window.innerWidth,height:window.innerHeight}}};this.events.push(n),this._processEvent(n),this.events.length>=10&&this._flushEvents()}trackPerformance(e,t,n={}){if(!this.isEnabled)return;const r={name:e,value:t,timestamp:Date.now(),sessionId:this.sessionId,metadata:n};this.performanceMetrics.has(e)||this.performanceMetrics.set(e,[]),this.performanceMetrics.get(e).push(r),this._analyzePerformanceTrend(e,t)}trackWaveformGeneration(e,t,n,r){this.trackEvent("waveform_generation",{analysisMethod:e,generationTime:t,audioLength:n,quality:r,efficiency:n/t}),this.trackPerformance("waveform_generation_time",t,{analysisMethod:e,audioLength:n,quality:r})}trackInteraction(e,t={}){this.trackEvent("waveform_interaction",{interactionType:e,...t});const n=`interaction_${e}`,r=this.userBehaviorPatterns.get(n)||0;this.userBehaviorPatterns.set(n,r+1)}trackChopActivity(e,t={}){this.trackEvent("chop_activity",{activity:e,chopDuration:t.duration,chopPosition:t.startTime,creationMethod:t.creationMethod,snapUsed:t.snapUsed||!1})}trackNavigation(e,t,n){this.trackEvent("waveform_navigation",{action:e,zoomLevel:t,timeRange:{start:n.start,end:n.end,duration:n.end-n.start}})}trackError(e,t,n={}){this.trackEvent("waveform_error",{errorType:e,errorMessage:t,context:n,recoveryAttempted:n.recoveryAttempted||!1,recoverySuccessful:n.recoverySuccessful||!1})}trackFeatureUsage(e,t={}){this.trackEvent("feature_usage",{featureName:e,...t});const n=`feature_${e}`,r=this.userBehaviorPatterns.get(n)||0;this.userBehaviorPatterns.set(n,r+1)}getAnalyticsSummary(){return{sessionId:this.sessionId,totalEvents:this.events.length,performanceMetrics:Object.fromEntries(Array.from(this.performanceMetrics.entries()).map(([e,t])=>[e,{count:t.length,average:t.reduce((e,t)=>e+t.value,0)/t.length,latest:t[t.length-1]?.value}])),userBehaviorPatterns:Object.fromEntries(this.userBehaviorPatterns),topInteractions:this._getTopInteractions(),performanceTrends:this._getPerformanceTrends()}}exportAnalyticsData(){return this.isEnabled?{sessionId:this.sessionId,events:this.events,performanceMetrics:Object.fromEntries(this.performanceMetrics),userBehaviorPatterns:Object.fromEntries(this.userBehaviorPatterns),exportedAt:Date.now()}:null}_generateSessionId(){return`waveform_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}_checkAnalyticsConsent(){return"true"===localStorage.getItem("waveform_analytics_consent")}_processEvent(e){switch(e.type){case"waveform_generation":this._analyzeGenerationPerformance(e.data);break;case"waveform_interaction":this._analyzeInteractionPattern(e.data);break;case"waveform_error":this._analyzeErrorPattern(e.data)}}_analyzeGenerationPerformance(e){const t=this.events.filter(e=>"waveform_generation"===e.type).slice(-5);if(t.length>=3){t.reduce((e,t)=>e+t.data.generationTime,0),t.length}}_analyzeInteractionPattern(e){const t=e.interactionType,n=this.events.filter(e=>"waveform_interaction"===e.type&&e.data.interactionType===t).slice(-10);if(n.length>=5){const e=n[n.length-1].timestamp-n[0].timestamp;n.length}}_analyzeErrorPattern(e){const t=e.errorType;this.events.filter(e=>"waveform_error"===e.type&&e.data.errorType===t).slice(-5).length}_analyzePerformanceTrend(e,t){const n=this.performanceMetrics.get(e)||[];if(n.length>=5){const e=n.slice(-5),t=e[e.length-1].value-e[0].value;Math.abs(t)}}_getTopInteractions(){return Array.from(this.userBehaviorPatterns.entries()).filter(([e])=>e.startsWith("interaction_")).sort(([,e],[,t])=>t-e).slice(0,5).map(([e,t])=>({interaction:e.replace("interaction_",""),count:t}))}_getPerformanceTrends(){const e={};for(const[t,n]of this.performanceMetrics.entries())if(n.length>=3){const r=n.slice(-3),i=r[r.length-1].value-r[0].value;e[t]={trend:i>0?"increasing":"decreasing",magnitude:Math.abs(i),latest:r[r.length-1].value}}return e}_flushEvents(){this.events=[]}},jA=!0,OA={rendering:{mobileResolutionScale:.75,maxFrameRate:30,viewportPadding:.1,staticLayerCaching:!0,dynamicLayerThrottling:16,maxCanvasSize:4096,texturePoolSize:8},analysis:{defaultSampleRate:22050,fftSize:1024,chunkSize:65536,maxConcurrentChunks:2,webAudioTimeout:3e3,videoFrameTimeout:5e3,qualityPresets:{low:{sampleRate:11025,fftSize:512,updateInterval:100},medium:{sampleRate:22050,fftSize:1024,updateInterval:50},high:{sampleRate:44100,fftSize:2048,updateInterval:16}}},memory:{maxWaveformCacheSize:52428800,maxAnalysisDataSize:20971520,gcThreshold:.8,gcInterval:3e4,enableObjectPooling:jA,poolSizes:{canvasContexts:4,audioBuffers:8,typedArrays:16}},features:{visualEnhancements:!0,zeroCrossingDetection:!0,smartSnapping:!0,frequencyAnalysis:!1,performanceMonitoring:jA,errorReporting:jA,analyticsTracking:jA,webWorkerAnalysis:!0,offscreenCanvas:"OffscreenCanvas"in window,audioWorklet:"AudioWorklet"in window},bundling:{splitPoints:["waveform-core","waveform-analysis","waveform-advanced","waveform-fallback"],lazyLoadThreshold:2e3,preloadStrategy:"conservative",sideEffects:!1,minification:{removeConsole:jA,removeDebugger:jA,dropUnusedFunctions:jA}},errorHandling:{maxRetries:3,retryDelay:1e3,exponentialBackoff:!0,enableFallbackChain:!0,fallbackTimeout:5e3,reportErrors:jA,errorSampling:.1,autoRecovery:!0,gracefulDegradation:!0},monitoring:{collectMetrics:jA,metricsInterval:1e4,budgets:{waveformGeneration:2e3,interactionLatency:16,memoryUsage:104857600,bundleSize:512e3},alerts:{highMemoryUsage:.9,slowGeneration:1.5,highErrorRate:.05}}};class FA{constructor(){this.errorHistory=[],this.recoveryStrategies=new Map,this.maxErrorHistory=50,this.initializeRecoveryStrategies()}initializeRecoveryStrategies(){this.recoveryStrategies.set("canvas",{maxRetries:2,retryDelay:1e3,strategy:this.recoverCanvasContext.bind(this)}),this.recoveryStrategies.set("audio",{maxRetries:3,retryDelay:500,strategy:this.recoverAudioContext.bind(this)}),this.recoveryStrategies.set("memory",{maxRetries:1,retryDelay:2e3,strategy:this.recoverMemoryIssues.bind(this)}),this.recoveryStrategies.set("network",{maxRetries:3,retryDelay:2e3,strategy:this.recoverNetworkIssues.bind(this)}),this.recoveryStrategies.set("generic",{maxRetries:1,retryDelay:1e3,strategy:this.genericRecovery.bind(this)})}reportError(e){const t={...e,id:this.generateErrorId(),reportedAt:Date.now(),errorType:this.classifyError(e.error)};return this.errorHistory.push(t),this.errorHistory.length>this.maxErrorHistory&&this.errorHistory.shift(),t}async attemptRecovery(e){const t=this.classifyError(e),n=this.recoveryStrategies.get(t)||this.recoveryStrategies.get("generic");try{return await n.strategy(e),!0}catch(r){throw r}}classifyError(e){if(!e)return"generic";const t=e.message?.toLowerCase()||"",n=e.name?.toLowerCase()||"";return t.includes("canvas")||n.includes("canvas")?"canvas":t.includes("audio")||t.includes("webaudio")||n.includes("audio")?"audio":t.includes("memory")||t.includes("allocation")||n.includes("memory")?"memory":t.includes("network")||t.includes("fetch")||t.includes("cors")?"network":"generic"}async recoverCanvasContext(e){window.waveformCanvasContexts&&(window.waveformCanvasContexts.forEach(e=>{if(e&&"function"==typeof e.clearRect)try{e.clearRect(0,0,e.canvas.width,e.canvas.height)}catch(hR){}}),window.waveformCanvasContexts=[]),window.gc&&window.gc(),await this.delay(500);const t=document.createElement("canvas");t.width=100,t.height=50;const n=t.getContext("2d",{alpha:!1,desynchronized:!0});if(!n)throw new Error("Cannot create canvas context after recovery attempt");n.fillStyle="#000",n.fillRect(0,0,10,10)}async recoverAudioContext(e){if(window.waveformAudioContexts){for(const e of window.waveformAudioContexts)if(e&&"closed"!==e.state)try{await e.close()}catch(hR){}window.waveformAudioContexts=[]}await this.delay(1e3);try{const e=new(window.AudioContext||window.webkitAudioContext);"suspended"===e.state&&await e.resume(),await e.close()}catch(t){throw new Error("Cannot create audio context after recovery attempt")}}async recoverMemoryIssues(e){if(window.waveformCache&&window.waveformCache.clear(),window.waveformBuffers&&(window.waveformBuffers.forEach(e=>{e&&e.length&&e.fill(0)}),window.waveformBuffers=[]),window.gc&&window.gc(),await this.delay(2e3),navigator.deviceMemory&&navigator.deviceMemory<2)throw new Error("Insufficient device memory for waveform visualization")}async recoverNetworkIssues(e){if(!navigator.onLine)throw new Error("No network connection available");await this.delay(1e3);try{if(!(await fetch("/favicon.ico",{method:"HEAD",cache:"no-cache"})).ok)throw new Error("Network connectivity test failed")}catch(t){throw new Error("Network recovery failed: "+t.message)}}async genericRecovery(e){if(window.waveformState&&(window.waveformState=null),await this.delay(1e3),!document.createElement("canvas").getContext)throw new Error("Canvas support not available");!window.AudioContext&&window.webkitAudioContext}getErrorStatistics(){const e=Date.now(),t=this.errorHistory.filter(t=>e-t.reportedAt<3e5),n={};return t.forEach(e=>{n[e.errorType]=(n[e.errorType]||0)+1}),{totalErrors:this.errorHistory.length,recentErrors:t.length,errorsByType:n,lastError:this.errorHistory[this.errorHistory.length-1]||null}}isSystemHealthy(){const e=this.getErrorStatistics();if(e.recentErrors>5)return!1;return!["canvas","memory"].some(t=>(e.errorsByType[t]||0)>2)}generateErrorId(){return`waveform_error_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}delay(e){return new Promise(t=>setTimeout(t,e))}clearErrorHistory(){this.errorHistory=[]}}class UA extends p.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,retryCount:0,isRecovering:!1},this.errorRecoveryService=new FA}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t}),this.errorRecoveryService.reportError({error:e,errorInfo:t,component:"WaveformVisualization",timestamp:Date.now(),retryCount:this.state.retryCount}),!1!==this.props.enableAutoRecovery&&this.attemptAutoRecovery(e)}attemptAutoRecovery=async e=>{const{retryCount:t}=this.state;if(this.isTransientError(e)&&t<3){this.setState({isRecovering:!0});try{setTimeout(async()=>{try{await this.errorRecoveryService.attemptRecovery(e),this.setState({hasError:!1,error:null,errorInfo:null,retryCount:t+1,isRecovering:!1})}catch(n){this.setState({isRecovering:!1})}},1e3)}catch(n){this.setState({isRecovering:!1})}}};isTransientError=e=>[/network/i,/timeout/i,/temporary/i,/canvas.*context/i,/audio.*context/i].some(t=>t.test(e.message)||t.test(e.name));handleManualRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null,retryCount:this.state.retryCount+1,isRecovering:!1}),setTimeout(()=>{this.forceUpdate()},0)};handleFallbackMode=()=>{this.props.onFallbackMode&&this.props.onFallbackMode(),this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?l.jsx(_A,{error:this.state.error,errorInfo:this.state.errorInfo,retryCount:this.state.retryCount,isRecovering:this.state.isRecovering,onRetry:this.handleManualRetry,onFallbackMode:this.handleFallbackMode,canRetry:this.state.retryCount<3,isTransient:this.isTransientError(this.state.error)}):this.props.children}}const zA=(VA=p.memo(({audioSource:e,chops:t,currentTime:n,isPlaying:r,onChopCreate:i,onChopUpdate:s,onTimeSeek:a,visualSettings:o={},...c})=>{const[u,d]=f.useState(!1),[h,p]=f.useState(null),m=MA("waveformVisualization"),g=MA("webAudioAnalysis"),v=MA("visualEnhancements"),y=MA("performanceMonitoring"),b={trackEvent:LA.trackEvent.bind(LA),trackPerformance:LA.trackPerformance.bind(LA),trackInteraction:LA.trackInteraction.bind(LA),trackChopActivity:LA.trackChopActivity.bind(LA),trackNavigation:LA.trackNavigation.bind(LA),trackError:LA.trackError.bind(LA),trackFeatureUsage:LA.trackFeatureUsage.bind(LA),getSummary:LA.getAnalyticsSummary.bind(LA)};if(f.useEffect(()=>{(async()=>{try{const e=(()=>{const e={...OA},t=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),n=navigator.hardwareConcurrency<=2||navigator.deviceMemory<=2;(t||n)&&(e.analysis.defaultSampleRate=11025,e.analysis.fftSize=512,e.rendering.maxFrameRate=24,e.rendering.mobileResolutionScale=.5,e.features.frequencyAnalysis=!1,e.features.visualEnhancements=!1);const r=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return r&&r.effectiveType&&["slow-2g","2g"].includes(r.effectiveType)&&(e.bundling.preloadStrategy="minimal",e.bundling.lazyLoadThreshold=5e3,e.analysis.chunkSize=32768),e})();p(e),"minimal"!==e.bundling.preloadStrategy&&await(async()=>{try{await Promise.all([TA(()=>import("./WaveformVisualization-DKyQ2tMh.js"),__vite__mapDeps([0,1,2,3])),TA(()=>import("./CanvasRenderer-B1XfccUk.js"),[]),TA(()=>import("./InteractionManager-Bm6YdUAt.js"),[])])}catch(e){}})(),y&&b.trackEvent("waveform_initialization",{config:e,featureFlags:DA.getEnabledFeatures(),deviceCapabilities:DA.deviceCapabilities}),d(!0)}catch(e){y&&b.trackError("initialization_error",e.message,{component:"WaveformProductionWrapper"})}})()},[b,y]),f.useEffect(()=>{y&&u&&b.trackFeatureUsage("waveform_production_wrapper",{webAudioEnabled:g,visualEnhancementsEnabled:v,configPreset:h?.analysis?.qualityPresets?"optimized":"default"})},[b,y,u,g,v,h]),f.useEffect(()=>{if(!y||!u)return;const e=performance.now();return()=>{const t=performance.now()-e;b.trackPerformance("component_render_time",t,{component:"WaveformProductionWrapper"})}},[b,y,u,e,t]),!m)return l.jsx(_A,{message:"Waveform visualization is currently disabled",showRetry:!1});if(!u||!h)return l.jsx(_A,{message:"Initializing waveform visualization...",showRetry:!1});const w={...c,audioSource:e,chops:t,currentTime:n,isPlaying:r,onChopCreate:(e,t,n={})=>{y&&b.trackChopActivity("create",{duration:t-e,startTime:e,creationMethod:n.creationMethod||"unknown"}),i(e,t,n)},onChopUpdate:(e,t,n={})=>{y&&b.trackChopActivity("edit",{chopId:e,duration:t.endTime-t.startTime,startTime:t.startTime,editMethod:n.editMethod||"unknown"}),s(e,t,n)},onTimeSeek:(e,t={})=>{y&&b.trackNavigation("seek",null,{start:e,end:e}),a(e,t)},visualSettings:{...o,enableVisualEnhancements:v,performanceMode:h.rendering.maxFrameRate<60,qualityPreset:h.analysis.qualityPresets?"optimized":"default"},config:h};return l.jsx(UA,{onError:(e,t)=>{y&&b.trackError("component_error",e.message,{component:"WaveformProductionWrapper",errorInfo:t,featureFlags:DA.getEnabledFeatures()})},children:l.jsxs("div",{className:"waveform-production-container",children:[l.jsx(PA,{...w,enableVisualEnhancements:v,enableAdvancedAnalysis:g,fallbackComponent:_A}),!1]})})},(e,t)=>["audioSource","chops","currentTime","isPlaying"].every(n=>"chops"===n?JSON.stringify(e[n])===JSON.stringify(t[n]):e[n]===t[n])),class extends p.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){OA.errorHandling.reportErrors}render(){return this.state.hasError?p.createElement("div",{className:"waveform-error-fallback"},"Waveform visualization temporarily unavailable"):p.createElement(VA,this.props)}});var VA;function BA({viewportManager:e,className:t="",showPresets:n=!0,showNavigationInfo:r=!0,compact:i=!1}){const[s,a]=f.useState(null),[o,c]=f.useState(null),[u,d]=f.useState([]),[h,p]=f.useState(!i);f.useEffect(()=>{if(!e)return;const t=t=>{a(t),c(e.getNavigationInfo()),d(e.getZoomPresets())};t(e.getState());return e.addListener(t)},[e]);const m=f.useCallback(()=>{e&&e.zoomIn(1.5)},[e]),g=f.useCallback(()=>{e&&e.zoomOut(1.5)},[e]),v=f.useCallback(()=>{e&&e.zoomToFit()},[e]),y=f.useCallback(t=>{e&&s&&e.setZoom(t.zoomLevel,s.centerTime)},[e,s]),b=f.useCallback(()=>{if(e&&s){const t=.25*(s.visibleTimeRange.end-s.visibleTimeRange.start);e.panToTime(s.centerTime-t)}},[e,s]),w=f.useCallback(()=>{if(e&&s){const t=.25*(s.visibleTimeRange.end-s.visibleTimeRange.start);e.panToTime(s.centerTime+t)}},[e,s]),x=f.useCallback(()=>{e&&e.panToTime(0)},[e]),S=f.useCallback(()=>{e&&s&&e.panToTime(s.audioDuration)},[e,s]);if(!s||!o)return null;const k=e=>`${Math.floor(e/60)}:${(e%60).toFixed(2).padStart(5,"0")}`;return l.jsxs(bA.div,{className:`bg-gray-800 border border-gray-700 rounded-lg p-3 ${t}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:g,disabled:!o.canZoomOut,className:"p-1.5 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-500 \r\n                     text-white rounded transition-colors text-sm font-mono",title:"Zoom Out (Ctrl+-)",children:""}),l.jsx("div",{className:"px-2 py-1 bg-gray-900 text-white text-xs font-mono rounded min-w-[50px] text-center",children:(E=s.zoomLevel,E>=1?`${E.toFixed(1)}x`:`1:${(1/E).toFixed(1)}`)}),l.jsx("button",{onClick:m,disabled:!o.canZoomIn,className:"p-1.5 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-500 \r\n                     text-white rounded transition-colors text-sm font-mono",title:"Zoom In (Ctrl++)",children:"+"}),l.jsx("button",{onClick:v,className:"px-2 py-1.5 bg-blue-600 hover:bg-blue-500 text-white rounded transition-colors text-xs",title:"Zoom to Fit (Ctrl+0)",children:"Fit"})]}),l.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[l.jsx("button",{onClick:x,disabled:!o.canPanLeft,className:"p-1.5 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-500 \r\n                     text-white rounded transition-colors text-sm",title:"Go to Start (Home)",children:""}),l.jsx("button",{onClick:b,disabled:!o.canPanLeft,className:"p-1.5 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-500 \r\n                     text-white rounded transition-colors text-sm",title:"Pan Left ()",children:""}),l.jsx("button",{onClick:w,disabled:!o.canPanRight,className:"p-1.5 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-500 \r\n                     text-white rounded transition-colors text-sm",title:"Pan Right ()",children:""}),l.jsx("button",{onClick:S,disabled:!o.canPanRight,className:"p-1.5 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-500 \r\n                     text-white rounded transition-colors text-sm",title:"Go to End (End)",children:""})]}),i&&l.jsx("button",{onClick:()=>p(!h),className:"p-1.5 bg-gray-700 hover:bg-gray-600 text-white rounded transition-colors text-sm ml-auto",title:h?"Collapse":"Expand",children:h?"":""})]}),l.jsx(Mx,{children:h&&l.jsxs(bA.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:[r&&l.jsxs("div",{className:"mb-3 p-2 bg-gray-900 rounded text-xs",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("span",{className:"text-gray-400",children:"Visible Range:"}),l.jsxs("span",{className:"text-white font-mono",children:[k(s.visibleTimeRange.start)," - ",k(s.visibleTimeRange.end)]})]}),l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("span",{className:"text-gray-400",children:"Duration:"}),l.jsx("span",{className:"text-white font-mono",children:k(s.visibleTimeRange.end-s.visibleTimeRange.start)})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-400",children:"Detail Level:"}),l.jsx("span",{className:"text-white capitalize",children:o.detailLevel})]}),l.jsxs("div",{className:"mt-2",children:[l.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1.5",children:l.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full transition-all duration-200",style:{width:`${o.visiblePercentage}%`,marginLeft:`${o.startPercentage}%`}})}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[l.jsx("span",{children:"0:00"}),l.jsx("span",{children:s.audioDuration?k(s.audioDuration):"--:--"})]})]})]}),n&&u.length>0&&l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Quick Zoom:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:u.map((e,t)=>l.jsx("button",{onClick:()=>y(e),className:"px-2 py-1 text-xs rounded transition-colors "+(Math.abs(e.zoomLevel-s.zoomLevel)<.1?"bg-blue-600 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"),title:e.description,children:e.name},t))})]}),l.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-700",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Keyboard Shortcuts:"}),l.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs text-gray-500",children:[l.jsx("div",{children:"Ctrl + / - : Zoom"}),l.jsx("div",{children:" /  : Pan"}),l.jsx("div",{children:"Ctrl + 0 : Fit All"}),l.jsx("div",{children:"Home / End : Go to Start/End"}),l.jsx("div",{children:"Ctrl + 1/2/5 : Zoom Presets"}),l.jsx("div",{children:"Shift +  /  : Large Pan"})]})]})]})})]});var E}const HA=f.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:Zn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));function $A({playerState:e,selectedChop:t,setChopTime:n,waveformData:r,deleteChop:i,youtubeUrl:s,allChops:a=[],onTimestampClick:o,isPlaying:c=!1,onPlayPause:u,capturedAudioData:d,className:h=""}){const p=f.useRef(null),[m,g]=f.useState({startTime:"",endTime:""}),[v,y]=f.useState(!1),[b,w]=f.useState({enableFrequencyColorCoding:!0,enableAmplitudeColorCoding:!0,enableStructureDetection:!0,showPlayheadTime:!0,quality:"high",playheadColor:"#ef4444",playheadWidth:2,activeChopColor:"#fbbf24"}),x=f.useMemo(()=>a.map(e=>({id:e.padId,padId:e.padId,startTime:e.startTime,endTime:e.endTime,color:e.color,waveformRegion:{startSample:Math.floor(e.startTime*(r?.sampleRate||44100)),endSample:Math.floor(e.endTime*(r?.sampleRate||44100)),peakAmplitude:1},metadata:{createdAt:Date.now(),lastModified:Date.now(),snapPoints:[]}})),[a,r]),S=f.useMemo(()=>d?.waveformData?{samples:d.waveformData,sampleRate:d.metadata?.sampleRate||44100,duration:d.metadata?.duration||e.duration,channels:1,metadata:{analysisMethod:"captured",quality:"high",generatedAt:Date.now(),sourceInfo:{type:"captured",url:s}}}:r?{samples:r,sampleRate:44100,duration:e.duration,channels:1,metadata:{analysisMethod:"legacy",quality:"medium",generatedAt:Date.now(),sourceInfo:{type:"legacy",url:s}}}:null,[d,r,e.duration,s]);f.useEffect(()=>{g(t?{startTime:t.startTime.toFixed(4),endTime:t.endTime.toFixed(4)}:{startTime:"",endTime:""})},[t]);const k=f.useCallback((e,r)=>{t?.padId&&n&&(n("startTime",e),n("endTime",r))},[t,n]),E=f.useCallback((e,t)=>{a.find(t=>t.padId===e)&&(void 0!==t.startTime&&n&&n("startTime",t.startTime),void 0!==t.endTime&&n&&n("endTime",t.endTime))},[a,n]),C=f.useCallback(e=>{o&&o(e)},[o]),T=f.useCallback((e,t)=>{g(n=>({...n,[e]:t}))},[]),_=f.useCallback(()=>{if(!t||!n)return;const e=parseFloat(m.startTime),r=parseFloat(m.endTime);isNaN(e)||isNaN(r)||e>=r||(n("startTime",e),n("endTime",r),y(!1))},[t,n,m]),I=f.useCallback(()=>{t&&i&&i(t.padId)},[t,i]),A=f.useCallback(()=>{p.current&&p.current.zoomIn(2,e.currentTime)},[e.currentTime]),N=f.useCallback(()=>{p.current&&p.current.zoomOut(2,e.currentTime)},[e.currentTime]),P=f.useCallback(()=>{p.current&&p.current.zoomToFit()},[]);return f.useCallback(()=>p.current,[]),l.jsxs(bA.div,{className:`bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl shadow-lg p-6 space-y-4 ${h}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:"Interactive Waveform"}),d&&l.jsx("span",{className:"text-xs text-purple-300 bg-purple-500/20 px-2 py-1 rounded",children:"High Quality Audio"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(tr,{onClick:u,variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10","aria-label":c?"Pause":"Play",children:c?l.jsx(Tt,{className:"w-4 h-4"}):l.jsx(It,{className:"w-4 h-4"})}),l.jsx(BA,{onZoomIn:A,onZoomOut:N,onZoomToFit:P,className:"border-white/20"})]})]}),l.jsx("div",{className:"relative h-64 bg-gray-900/50 rounded-lg overflow-hidden",children:S?l.jsx(zA,{ref:p,audioSource:s,waveformData:S,chops:x,currentTime:e.currentTime,isPlaying:c,onChopCreate:k,onChopUpdate:E,onTimeSeek:C,visualSettings:b,className:"w-full h-full"}):l.jsx("div",{className:"flex items-center justify-center h-full text-white/50",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm",children:"No waveform data available"}),l.jsx("div",{className:"text-xs mt-1",children:"Load a video to generate waveform"})]})})}),t&&l.jsxs("div",{className:"bg-white/5 rounded-lg p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h4",{className:"text-sm font-medium text-white",children:["Edit Sample: ",t.padId]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(tr,{onClick:()=>y(!v),variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:v?"Cancel":"Edit"}),t&&l.jsx(tr,{onClick:I,variant:"outline",size:"sm",className:"border-red-400/20 text-red-400 hover:bg-red-400/10","aria-label":"Delete chop",children:l.jsx(Lt,{className:"w-4 h-4"})})]})]}),v?l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-white/70 block mb-1",children:"Start Time (s)"}),l.jsx(HA,{type:"number",step:"0.001",value:m.startTime,onChange:e=>T("startTime",e.target.value),className:"bg-white/10 border-white/20 text-white text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-white/70 block mb-1",children:"End Time (s)"}),l.jsx(HA,{type:"number",step:"0.001",value:m.endTime,onChange:e=>T("endTime",e.target.value),className:"bg-white/10 border-white/20 text-white text-sm"})]}),l.jsx("div",{className:"col-span-2",children:l.jsxs(tr,{onClick:_,className:"w-full bg-cyan-500 hover:bg-cyan-600 text-black font-medium",children:[l.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]}):l.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-white/70",children:"Start:"}),l.jsxs("div",{className:"text-white font-mono",children:[t.startTime.toFixed(3),"s"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-white/70",children:"End:"}),l.jsxs("div",{className:"text-white font-mono",children:[t.endTime.toFixed(3),"s"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-white/70",children:"Duration:"}),l.jsxs("div",{className:"text-white font-mono",children:[(t.endTime-t.startTime).toFixed(3),"s"]})]})]})]}),l.jsx("div",{className:"text-xs text-white/50 space-y-1",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{children:" Click on waveform to seek to time position"}),l.jsx("div",{children:" Select a pad first, then drag on waveform to create/edit samples"}),l.jsx("div",{children:" Use zoom controls to get precise timing"}),d&&l.jsx("div",{className:"text-purple-300",children:" Using high-quality captured audio for enhanced precision"})]}),l.jsx("div",{className:"text-right",children:t?l.jsxs("div",{className:"text-cyan-300 font-medium",children:[" Pad ",t.padId," selected"]}):l.jsx("div",{className:"text-yellow-300",children:" Select a pad to create samples"})})]})})]})}function WA({padId:e,keyLabel:t,isAssigned:n,isSelected:r,color:i,onClick:s,onEdit:a,onDelete:o,chop:c,isPadGridFocused:u=!1}){const[d,h]=f.useState(!1),[p,m]=f.useState(!1),[g,v]=f.useState({x:0,y:0}),y=f.useCallback(e=>{if(!n)return;e.preventDefault(),e.stopPropagation();const t=e.currentTarget.getBoundingClientRect();v({x:e.clientX-t.left,y:e.clientY-t.top}),m(!0)},[n]),b=f.useCallback(t=>{t.stopPropagation(),m(!1),a&&a(e)},[e,a]),w=f.useCallback(t=>{t.stopPropagation(),m(!1),o&&o(e)},[e,o]);f.useEffect(()=>{const e=()=>m(!1);if(p)return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[p]);const x=f.useCallback(e=>{if(isNaN(e)||e<0)return"0:00";return`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`},[]);f.useEffect(()=>{if(d){const e=setTimeout(()=>h(!1),150);return()=>clearTimeout(e)}},[d]);const S={idle:{scale:1,boxShadow:"0px 4px 10px rgba(0,0,0,0.3)"},triggered:{scale:.95,boxShadow:`0px 0px 20px ${i||"#06b6d4"}`}};return l.jsxs("div",{className:"relative w-full h-full",children:[l.jsxs(bA.button,{variants:S,animate:d?"triggered":"idle",transition:{type:"spring",stiffness:500,damping:15},onClick:()=>{s(),h(!0),m(!1)},onContextMenu:y,className:`relative w-full h-full rounded-lg transition-all duration-300 focus:outline-none flex flex-col justify-between p-2\n                    ${r?"ring-2 ring-offset-2 ring-offset-black/20 ring-cyan-400":""}\n                    ${u?n?"bg-white/20 hover:bg-white/30":"bg-black/30 hover:bg-black/40":n?"bg-white/10":"bg-black/20"}\n                    ${u?"opacity-100":"opacity-60"}\n                `,style:{backgroundColor:n?`${i}${u?"4D":"20"}`:"",border:`1px solid ${n?i:u?"rgba(255,255,255,0.2)":"rgba(255,255,255,0.1)"}`},children:[l.jsx("span",{className:"absolute top-1 left-2 text-xs font-mono transition-colors duration-300 "+(u?"text-white/40":"text-white/20"),children:e}),n&&a&&u&&l.jsx("div",{className:"absolute top-1 right-2",children:l.jsx(_t,{className:"w-3 h-3 text-white/30"})}),!u&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 rounded-lg",children:l.jsx("div",{className:"text-xs text-white/30 font-medium",children:"Click to activate"})}),l.jsx("span",{className:"text-2xl font-bold self-center transition-colors duration-300 "+(u?"text-white/80":"text-white/40"),children:t?.toUpperCase()}),n&&c&&u&&l.jsxs("div",{className:"absolute bottom-6 left-2 right-2 text-xs text-white/60 text-center",children:[x(c.startTime)," - ",x(c.endTime)]}),l.jsx("div",{className:"w-full h-1 absolute bottom-1 left-0",children:n&&l.jsx("div",{className:"h-full rounded-full mx-auto transition-opacity duration-300 "+(u?"opacity-100":"opacity-40"),style:{backgroundColor:i,width:"30%"}})})]}),l.jsx(Mx,{children:p&&l.jsxs(bA.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute z-50 bg-black/90 backdrop-blur-lg border border-white/20 rounded-lg shadow-lg py-1 min-w-[120px]",style:{left:Math.min(g.x,window.innerWidth-140),top:Math.min(g.y,window.innerHeight-80)},onClick:e=>e.stopPropagation(),children:[l.jsxs("button",{onClick:b,className:"w-full px-3 py-2 text-left text-sm text-white hover:bg-white/10 flex items-center gap-2",children:[l.jsx(ut,{className:"w-3 h-3"}),"Edit Timestamp"]}),l.jsxs("button",{onClick:w,className:"w-full px-3 py-2 text-left text-sm text-red-300 hover:bg-red-500/20 flex items-center gap-2",children:[l.jsx(Lt,{className:"w-3 h-3"}),"Delete Sample"]})]})})]})}function qA({chop:e,audioDuration:t,onSave:n,onCancel:r,onPreview:i,isPreviewPlaying:s=!1,className:a=""}){const[o,c]=f.useState(e?.startTime||0),[u,d]=f.useState(e?.endTime||0),[h,p]=f.useState({}),[m,g]=f.useState(!1),v=f.useRef(null),y=f.useRef(null);f.useEffect(()=>{e&&(c(e.startTime),d(e.endTime),g(!1),p({}))},[e]);const b=f.useCallback(e=>{if(isNaN(e)||e<0)return"00:00.000";const t=Math.floor(e/60),n=Math.floor(e%60),r=Math.floor(e%1*1e3);return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}.${r.toString().padStart(3,"0")}`},[]),w=f.useCallback(e=>{if(!e)return 0;const t=e.match(/^(\d{1,2}):(\d{1,2})(?:\.(\d{1,3}))?$/);if(t){const[,e,n,r="0"]=t,i=60*parseInt(e)+parseInt(n)+parseInt(r.padEnd(3,"0"))/1e3;return Math.max(0,i)}const n=parseFloat(e);return isNaN(n)?0:Math.max(0,n)},[]),x=f.useCallback((e,n)=>{const r={};e<0&&(r.startTime="Start time cannot be negative"),n<0&&(r.endTime="End time cannot be negative"),t&&e>=t&&(r.startTime=`Start time cannot exceed audio duration (${b(t)})`),t&&n>t&&(r.endTime=`End time cannot exceed audio duration (${b(t)})`),e>=n&&(r.endTime="End time must be greater than start time");const i=n-e;return i<.1&&(r.endTime="Sample must be at least 0.1 seconds long"),i>30&&(r.endTime="Sample cannot be longer than 30 seconds"),r},[t,b]),S=f.useCallback(e=>{const t=w(e);c(t),g(!0);const n=x(t,u);p(n)},[u,w,x]),k=f.useCallback(e=>{const t=w(e);d(t),g(!0);const n=x(o,t);p(n)},[o,w,x]),E=f.useCallback(()=>{const t=x(o,u);Object.keys(t).length>0?p(t):n({...e,startTime:o,endTime:u})},[e,o,u,x,n]),C=f.useCallback(()=>{c(e?.startTime||0),d(e?.endTime||0),g(!1),p({}),r()},[e,r]),T=f.useCallback(()=>{c(e?.startTime||0),d(e?.endTime||0),g(!1),p({})},[e]),_=f.useCallback(()=>{Object.keys(h).length>0||i({startTime:o,endTime:u,duration:u-o})},[o,u,h,i]);if(f.useEffect(()=>{const e=e=>{"Enter"===e.key&&(e.ctrlKey||e.metaKey)?(e.preventDefault(),E()):"Escape"===e.key?(e.preventDefault(),C()):" "===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),_())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[E,C,_]),!e)return null;const I=u-o,A=Object.keys(h).length>0;return l.jsxs(bA.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`bg-black/80 backdrop-blur-lg border border-white/20 rounded-lg p-4 ${a}`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(ut,{className:"w-4 h-4 text-blue-400"}),l.jsxs("h3",{className:"text-sm font-medium text-white",children:["Edit Timestamp - Pad ",e.padId]}),m&&l.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-300 mb-1",children:"Start Time"}),l.jsx(HA,{ref:v,type:"text",value:b(o),onChange:e=>S(e.target.value),placeholder:"00:00.000",className:"bg-black/40 border-white/20 text-white "+(h.startTime?"border-red-500":"")}),h.startTime&&l.jsx("p",{className:"text-xs text-red-400 mt-1",children:h.startTime})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-300 mb-1",children:"End Time"}),l.jsx(HA,{ref:y,type:"text",value:b(u),onChange:e=>k(e.target.value),placeholder:"00:00.000",className:"bg-black/40 border-white/20 text-white "+(h.endTime?"border-red-500":"")}),h.endTime&&l.jsx("p",{className:"text-xs text-red-400 mt-1",children:h.endTime})]}),l.jsx("div",{className:"bg-black/20 rounded p-2",children:l.jsxs("div",{className:"flex justify-between text-xs text-gray-300",children:[l.jsx("span",{children:"Duration:"}),l.jsx("span",{className:I>0?"text-green-400":"text-red-400",children:b(I)})]})}),l.jsx(tr,{onClick:_,disabled:A,variant:"outline",size:"sm",className:"w-full bg-blue-600/20 border-blue-500/50 text-blue-300 hover:bg-blue-600/30",children:s?l.jsxs(l.Fragment,{children:[l.jsx(Tt,{className:"w-3 h-3 mr-2"}),"Stop Preview"]}):l.jsxs(l.Fragment,{children:[l.jsx(It,{className:"w-3 h-3 mr-2"}),"Preview Sample"]})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(tr,{onClick:E,disabled:!m||A,size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:[l.jsx(at,{className:"w-3 h-3 mr-2"}),"Save"]}),m&&l.jsx(tr,{onClick:T,variant:"outline",size:"sm",className:"bg-yellow-600/20 border-yellow-500/50 text-yellow-300 hover:bg-yellow-600/30",children:l.jsx(Pt,{className:"w-3 h-3"})}),l.jsx(tr,{onClick:C,variant:"outline",size:"sm",className:"bg-red-600/20 border-red-500/50 text-red-300 hover:bg-red-600/30",children:l.jsx($t,{className:"w-3 h-3"})})]}),l.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[l.jsx("div",{children:"Ctrl+Enter: Save  Escape: Cancel  Ctrl+Space: Preview"}),l.jsx("div",{children:'Format: MM:SS.mmm or seconds (e.g., "1:30.500" or "90.5")'})]})]})]})}HA.displayName="Input";const KA={q:0,w:1,e:2,r:3,a:4,s:5,d:6,f:7,z:8,x:9,c:10,v:11,t:12,y:13,u:14,i:15};function GA({chops:e,activeBank:t,selectedPadId:n,setSelectedPadId:r,playerState:i,onCreateSample:s,onUpdateSample:a,onDeleteSample:o,youtubePlayer:c,audioBuffer:u,waveformAPI:d=null}){const h=f.useRef(i),p=f.useRef(null),[m,g]=f.useState(null),[v,y]=f.useState(!1);f.useEffect(()=>{h.current=i},[i]);const b=f.useCallback(t=>{e.filter(e=>e.endTime>t&&e.startTime<t).forEach(e=>{const n={...e,endTime:t};a?.(n)})},[e,a]),w=f.useCallback(e=>{const t=["video","#youtube-player video","#youtube-player iframe",'iframe[src*="youtube"]','[id*="player"] video'];for(const n of t){const t=document.querySelector(n);if(t)if("VIDEO"===t.tagName)try{return t.currentTime=e,void(t.paused&&t.play().catch(e=>{}))}catch(hR){}else if("IFRAME"===t.tagName)try{return void t.contentWindow.postMessage(JSON.stringify({event:"command",func:"seekTo",args:[e,!0]}),"*")}catch(hR){}}if(c)try{if(c.seekTo)return void c.seekTo(e,!0);if(c.getCurrentTime&&c.playVideo)return c.pauseVideo(),void setTimeout(()=>{c.seekTo(e,!0),c.playVideo()},100)}catch(hR){}try{const t=document.querySelector("#youtube-player iframe");if(t&&t.contentWindow)return void t.contentWindow.postMessage(JSON.stringify({event:"command",func:"seekTo",args:[e,!0]}),"https://www.youtube.com")}catch(hR){}},[c]),x=f.useCallback(t=>{r(t);const n=e.find(e=>e.padId===t);n&&w(n.startTime)},[e,r,w]),S=f.useCallback(e=>{r(e)},[r]),k=f.useCallback((n,i=null,a=null)=>{const o=`${t}${n}`;if(null!==i&&null!==a)return s(o,i,a),r(o),void b(i);let l=0,u="fallback";if(c&&c.getCurrentTime)try{l=c.getCurrentTime(),u="youtube-api"}catch(hR){}if(0===l){const e=document.querySelector("video");e&&e.currentTime&&(l=e.currentTime,u="video-element")}0===l&&(l=h.current.currentTime,u="player-state");const d=h.current.duration||180;let f;const p=e.filter(e=>e.startTime>l).sort((e,t)=>e.startTime-t.startTime);if(p.length>0)f=p[0].startTime;else{const e=4;f=Math.min(l+e,d)}f-l<.1&&(f=Math.min(l+.1,d)),s(o,l,f),r(o),b(l)},[t,s,r,c,e,b]);f.useEffect(()=>{const e=()=>y(!0),t=e=>{p.current&&!p.current.contains(e.relatedTarget)&&y(!1)},n=e=>{p.current&&!p.current.contains(e.target)&&y(!1)},r=p.current;if(r)return r.addEventListener("focusin",e),r.addEventListener("focusout",t),document.addEventListener("click",n),()=>{r.removeEventListener("focusin",e),r.removeEventListener("focusout",t),document.removeEventListener("click",n)}},[]),f.useEffect(()=>{const n=n=>{if("INPUT"===n.target.tagName||"TEXTAREA"===n.target.tagName)return;if(!v)return;const r=KA[n.key.toLowerCase()];if(void 0!==r){n.preventDefault(),n.stopPropagation();const i=`${t}${r}`;e.find(e=>e.padId===i)?x(i):h.current.isPlaying?k(r):S(i)}},r={capture:!0,passive:!1};return document.addEventListener("keydown",n,r),()=>document.removeEventListener("keydown",n,r)},[e,t,x,k,S,v]);const E=f.useCallback(e=>{g(e),r(e)},[r]),C=f.useCallback(e=>{a?.(e),g(null)},[a]),T=f.useCallback(()=>{g(null)},[]),_=f.useCallback(e=>{o?.(e),n===e&&r(null),m===e&&g(null)},[o,n,m,r]),I=f.useCallback(e=>{w(e.startTime)},[w]),A={createSampleFromWaveform:f.useCallback((e,t)=>{if(!n)return!1;const r=parseInt(n.slice(1),10);return k(r,e,t),!0},[n,k]),getSelectedPadId:()=>n,selectPad:S,triggerPad:x,jumpToTimestamp:w};f.useEffect(()=>{d&&"object"==typeof d&&(d.padGrid=A)},[d,A]);return l.jsxs("div",{className:"relative",children:[l.jsxs(bA.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 flex items-center justify-between text-sm backdrop-blur-sm rounded-xl p-4 border transition-all duration-300 "+(v?"bg-cyan-500/20 border-cyan-400/50":"bg-black/30 border-white/10"),children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2 transition-colors duration-300 "+(v?"text-cyan-300":"text-white/60"),children:[l.jsx("div",{className:"w-3 h-3 rounded-full transition-all duration-300 "+(v?"bg-cyan-400":"bg-white/30")}),l.jsx("span",{className:"font-medium",children:v?" Pads Active":" Click Pad Area to Activate"})]}),v&&e.length>0&&l.jsxs("div",{className:"flex items-center gap-1 text-cyan-200",children:[l.jsx("span",{className:"text-green-400",children:""}),l.jsxs("span",{children:[e.length," samples"]})]})]}),!v&&l.jsx("div",{className:"text-xs text-white/40 italic",children:"Click on the pad grid to enable keyboard shortcuts"}),v&&l.jsx("div",{className:"text-xs text-cyan-200/80",children:"Press Q-W-E-R, A-S-D-F, Z-X-C-V, T-Y-U-I to trigger pads"})]}),l.jsx(bA.div,{ref:p,initial:{opacity:0,y:20},animate:{opacity:1,y:0,scale:v?1.02:1},transition:{delay:.2,scale:{type:"spring",stiffness:300,damping:20}},onClick:()=>{y(!0)},tabIndex:0,className:"grid grid-cols-4 grid-rows-4 gap-3 aspect-square backdrop-blur-lg rounded-2xl shadow-lg p-4 transition-all duration-300 cursor-pointer focus:outline-none "+(v?"bg-black/30 border-2 border-cyan-400/60 shadow-xl shadow-cyan-500/20":"bg-black/20 border border-white/20 hover:border-white/30"),children:Array.from({length:16}).map((r,i)=>{const s=`${t}${i}`,a=e.find(e=>e.padId===s),o=Object.keys(KA).find(e=>KA[e]===i);return l.jsx(WA,{padId:s,keyLabel:o,isAssigned:!!a,isSelected:n===s,color:a?.color,chop:a,isPadGridFocused:v,onEdit:E,onDelete:_,onClick:()=>{y(!0),a?x(s):S(s)}},s)})}),l.jsx(Mx,{children:m&&l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:l.jsx(qA,{chop:e.find(e=>e.padId===m),audioDuration:i.duration,onSave:C,onCancel:T,onPreview:I,isPreviewPlaying:!1,className:"max-w-md w-full mx-4"})})})]})}function YA(e,[t,n]){return Math.min(n,Math.max(t,e))}var QA=f.createContext(void 0);function JA(e){const t=e+"CollectionProvider",[n,r]=rr(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=e=>{const{scope:t,children:n}=e,r=p.useRef(null),s=p.useRef(new Map).current;return l.jsx(i,{scope:t,itemMap:s,collectionRef:r,children:n})};a.displayName=t;const o=e+"CollectionSlot",c=Qt(o),u=p.forwardRef((e,t)=>{const{scope:n,children:r}=e,i=Yt(t,s(o,n).collectionRef);return l.jsx(c,{ref:i,children:r})});u.displayName=o;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=Qt(d),m=p.forwardRef((e,t)=>{const{scope:n,children:r,...i}=e,a=p.useRef(null),o=Yt(t,a),c=s(d,n);return p.useEffect(()=>(c.itemMap.set(a,{ref:a,...i}),()=>{c.itemMap.delete(a)})),l.jsx(f,{[h]:"",ref:o,children:r})});return m.displayName=d,[{Provider:a,Slot:u,ItemSlot:m},function(t){const n=s(e+"CollectionConsumer",t);return p.useCallback(()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${h}]`));return Array.from(n.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current))},[n.collectionRef,n.itemMap])},r]}var XA=["PageUp","PageDown"],ZA=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],eN={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},tN="Slider",[nN,rN,iN]=JA(tN),[sN,aN]=rr(tN,[iN]),[oN,lN]=sN(tN),cN=f.forwardRef((e,t)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:a="horizontal",disabled:o=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:h=()=>{},onValueCommit:p=()=>{},inverted:m=!1,form:g,...v}=e,y=f.useRef(new Set),b=f.useRef(0),w="horizontal"===a?hN:fN,[x=[],S]=ur({prop:d,defaultProp:u,onChange:e=>{const t=[...y.current];t[b.current]?.focus(),h(e)}}),k=f.useRef(x);function E(e,t,{commit:n}={commit:!1}){const a=function(e){return(String(e).split(".")[1]||"").length}(s),o=function(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}(Math.round((e-r)/s)*s+r,a),l=YA(o,[r,i]);S((e=[])=>{const r=function(e=[],t,n){const r=[...e];return r[n]=t,r.sort((e,t)=>e-t)}(e,l,t);if(function(e,t){if(t>0){const n=function(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}(e);return Math.min(...n)>=t}return!0}(r,c*s)){b.current=r.indexOf(l);const t=String(r)!==String(e);return t&&n&&p(r),t?r:e}return e})}return l.jsx(oN,{scope:e.__scopeSlider,name:n,disabled:o,min:r,max:i,valueIndexToChangeRef:b,thumbs:y.current,values:x,orientation:a,form:g,children:l.jsx(nN.Provider,{scope:e.__scopeSlider,children:l.jsx(nN.Slot,{scope:e.__scopeSlider,children:l.jsx(w,{"aria-disabled":o,"data-disabled":o?"":void 0,...v,ref:t,onPointerDown:nr(v.onPointerDown,()=>{o||(k.current=x)}),min:r,max:i,inverted:m,onSlideStart:o?void 0:function(e){const t=function(e,t){if(1===e.length)return 0;const n=e.map(e=>Math.abs(e-t)),r=Math.min(...n);return n.indexOf(r)}(x,e);E(e,t)},onSlideMove:o?void 0:function(e){E(e,b.current)},onSlideEnd:o?void 0:function(){const e=k.current[b.current];x[b.current]!==e&&p(x)},onHomeKeyDown:()=>!o&&E(r,0,{commit:!0}),onEndKeyDown:()=>!o&&E(i,x.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!o){const n=XA.includes(e.key)||e.shiftKey&&ZA.includes(e.key)?10:1,r=b.current;E(x[r]+s*n*t,r,{commit:!0})}}})})})})});cN.displayName=tN;var[uN,dN]=sN(tN,{startEdge:"left",endEdge:"right",size:"width",direction:1}),hN=f.forwardRef((e,t)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:c,onStepKeyDown:u,...d}=e,[h,p]=f.useState(null),m=Yt(t,e=>p(e)),g=f.useRef(void 0),v=function(e){const t=f.useContext(QA);return e||t||"ltr"}(i),y="ltr"===v,b=y&&!s||!y&&s;function w(e){const t=g.current||h.getBoundingClientRect(),i=EN([0,t.width],b?[n,r]:[r,n]);return g.current=t,i(e-t.left)}return l.jsx(uN,{scope:e.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:l.jsx(pN,{dir:v,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const t=w(e.clientX);a?.(t)},onSlideMove:e=>{const t=w(e.clientX);o?.(t)},onSlideEnd:()=>{g.current=void 0,c?.()},onStepKeyDown:e=>{const t=eN[b?"from-left":"from-right"].includes(e.key);u?.({event:e,direction:t?-1:1})}})})}),fN=f.forwardRef((e,t)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:a,onSlideEnd:o,onStepKeyDown:c,...u}=e,d=f.useRef(null),h=Yt(t,d),p=f.useRef(void 0),m=!i;function g(e){const t=p.current||d.current.getBoundingClientRect(),i=EN([0,t.height],m?[r,n]:[n,r]);return p.current=t,i(e-t.top)}return l.jsx(uN,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:l.jsx(pN,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const t=g(e.clientY);s?.(t)},onSlideMove:e=>{const t=g(e.clientY);a?.(t)},onSlideEnd:()=>{p.current=void 0,o?.()},onStepKeyDown:e=>{const t=eN[m?"from-bottom":"from-top"].includes(e.key);c?.({event:e,direction:t?-1:1})}})})}),pN=f.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:a,onEndKeyDown:o,onStepKeyDown:c,...u}=e,d=lN(tN,n);return l.jsx(dr.span,{...u,ref:t,onKeyDown:nr(e.onKeyDown,e=>{"Home"===e.key?(a(e),e.preventDefault()):"End"===e.key?(o(e),e.preventDefault()):XA.concat(ZA).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:nr(e.onPointerDown,e=>{const t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),d.thumbs.has(t)?t.focus():r(e)}),onPointerMove:nr(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&i(e)}),onPointerUp:nr(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),s(e))})})}),mN="SliderTrack",gN=f.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=lN(mN,n);return l.jsx(dr.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:t})});gN.displayName=mN;var vN="SliderRange",yN=f.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=lN(vN,n),s=dN(vN,n),a=Yt(t,f.useRef(null)),o=i.values.length,c=i.values.map(e=>kN(e,i.min,i.max)),u=o>1?Math.min(...c):0,d=100-Math.max(...c);return l.jsx(dr.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...e.style,[s.startEdge]:u+"%",[s.endEdge]:d+"%"}})});yN.displayName=vN;var bN="SliderThumb",wN=f.forwardRef((e,t)=>{const n=rN(e.__scopeSlider),[r,i]=f.useState(null),s=Yt(t,e=>i(e)),a=f.useMemo(()=>r?n().findIndex(e=>e.ref.current===r):-1,[n,r]);return l.jsx(xN,{...e,ref:s,index:a})}),xN=f.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:i,...s}=e,a=lN(bN,n),o=dN(bN,n),[c,u]=f.useState(null),d=Yt(t,e=>u(e)),h=!c||(a.form||!!c.closest("form")),p=function(e){const[t,n]=f.useState(void 0);return sr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let i,s;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,s=t.blockSize}else i=e.offsetWidth,s=e.offsetHeight;n({width:i,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}(c),m=a.values[r],g=void 0===m?0:kN(m,a.min,a.max),v=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(r,a.values.length),y=p?.[o.size],b=y?function(e,t,n){const r=e/2,i=EN([0,50],[0,r]);return(r-i(t)*n)*n}(y,g,o.direction):0;return f.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),l.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${g}% + ${b}px)`},children:[l.jsx(nN.ItemSlot,{scope:e.__scopeSlider,children:l.jsx(dr.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":a.min,"aria-valuenow":m,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...s,ref:d,style:void 0===m?{display:"none"}:e.style,onFocus:nr(e.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),h&&l.jsx(SN,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:m},r)]})});wN.displayName=bN;var SN=f.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const i=f.useRef(null),s=Yt(i,r),a=function(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(t);return f.useEffect(()=>{const e=i.current;if(!e)return;const n=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(n,"value").set;if(a!==t&&r){const n=new Event("input",{bubbles:!0});r.call(e,t),e.dispatchEvent(n)}},[a,t]),l.jsx(dr.input,{style:{display:"none"},...n,ref:s,defaultValue:t})});function kN(e,t,n){return YA(100/(n-t)*(e-t),[0,100])}function EN(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}SN.displayName="RadioBubbleInput";var CN=cN,TN=gN,_N=yN,IN=wN;const AN=f.forwardRef(({className:e,...t},n)=>l.jsxs(CN,{ref:n,className:Zn("relative flex w-full touch-none select-none items-center",e),...t,children:[l.jsx(TN,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:l.jsx(_N,{className:"absolute h-full bg-primary"})}),l.jsx(IN,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));AN.displayName=CN.displayName;const NN=function(e,t,...n){if(e=sa(e),nw("collection","path",t),e instanceof lw){const r=ap.fromString(t,...n);return iw(r),new hw(e,null,r)}{if(!(e instanceof dw||e instanceof hw))throw new Hf(Bf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ap.fromString(t,...n));return iw(r),new hw(e.firestore,null,r)}}(hx,"chopSessions"),PN={async create(e){try{const t=fx.currentUser;if(!t)throw new Error("User not authenticated");const n=e.chops.map(({audioData:e,...t})=>t);return(await function(e,t){const n=aw(e.firestore,mw),r=fw(e),i=function(e,t){let n;return n=e?e.toFirestore(t):t,n}(e.converter,t);return ix(n,[Iw(_w(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,wg.exists(!1))]).then(()=>r)}(NN,{...e,chops:n,userId:t.uid,created_date:new Date})).id}catch(hR){throw hR}},async list(e="-created_date"){try{const t=fx.currentUser;if(!t)return[];const n=function(e,t,...n){let r=[];t instanceof Vw&&r.push(t),r=r.concat(n),function(e){const t=e.filter(e=>e instanceof $w).length,n=e.filter(e=>e instanceof Hw).length;if(t>1||t>0&&n>0)throw new Hf(Bf.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}(NN,function(e,t,n){const r=t,i=zw("where",e);return Hw._create(i,r,n)}("userId","==",t.uid),function(e,t="asc"){const n=t,r=zw("orderBy",e);return Ww._create(r,n)}("created_date",e.startsWith("-")?"desc":"asc"));return(await rx(n)).docs.map(e=>({id:e.id,...e.data()}))}catch(hR){throw hR}},async get(e){try{const t=fw(hx,"chopSessions",e),n=await tx(t);if(n.exists()){const e=n.data(),t=fx.currentUser;if(e.userId!==t?.uid)throw new Error("User not authorized to view this session");return{id:n.id,...e}}return null}catch(hR){throw hR}},async delete(e){try{if(!(await this.get(e)))throw new Error("Session not found or user not authorized.");await(t=fw(hx,"chopSessions",e),ix(aw(t.firestore,mw),[new Dg(t._key,wg.none())]))}catch(t){throw t}var t}};let RN=0;const DN=new Map,MN=e=>{if(DN.has(e))return;const t=setTimeout(()=>{DN.delete(e),FN({type:"REMOVE_TOAST",toastId:e})},1e6);DN.set(e,t)},LN=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?MN(n):e.toasts.forEach(e=>{MN(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,open:!1}:e)}}case"REMOVE_TOAST":return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},jN=[];let ON={toasts:[]};function FN(e){ON=LN(ON,e),jN.forEach(e=>{e(ON)})}function UN(e){const t=(RN=(RN+1)%Number.MAX_VALUE,RN.toString()),n=()=>FN({type:"DISMISS_TOAST",toastId:t});return FN({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||n()}}}),{id:t,dismiss:n,update:e=>FN({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function zN(){const[e,t]=f.useState(ON);return f.useEffect(()=>(jN.push(t),()=>{const e=jN.indexOf(t);e>-1&&jN.splice(e,1)}),[e]),{...e,toast:UN,dismiss:e=>FN({type:"DISMISS_TOAST",toastId:e})}}var VN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),BN=f.forwardRef((e,t)=>l.jsx(dr.span,{...e,ref:t,style:{...VN,...e.style}}));BN.displayName="VisuallyHidden";var HN="ToastProvider",[$N,WN,qN]=JA("Toast"),[KN,GN]=rr("Toast",[qN]),[YN,QN]=KN(HN),JN=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=e,[o,c]=f.useState(null),[u,d]=f.useState(0),h=f.useRef(!1),p=f.useRef(!1);return n.trim(),l.jsx($N.Provider,{scope:t,children:l.jsx(YN,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:f.useCallback(()=>d(e=>e+1),[]),onToastRemove:f.useCallback(()=>d(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:a})})};JN.displayName=HN;var XN="ToastViewport",ZN=["F8"],eP="toast.viewportPause",tP="toast.viewportResume",nP=f.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=ZN,label:i="Notifications ({hotkey})",...s}=e,a=QN(XN,n),o=WN(n),c=f.useRef(null),u=f.useRef(null),d=f.useRef(null),h=f.useRef(null),p=Yt(t,h,a.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;f.useEffect(()=>{const e=e=>{0!==r.length&&r.every(t=>e[t]||e.code===t)&&h.current?.focus()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[r]),f.useEffect(()=>{const e=c.current,t=h.current;if(g&&e&&t){const n=()=>{if(!a.isClosePausedRef.current){const e=new CustomEvent(eP);t.dispatchEvent(e),a.isClosePausedRef.current=!0}},r=()=>{if(a.isClosePausedRef.current){const e=new CustomEvent(tP);t.dispatchEvent(e),a.isClosePausedRef.current=!1}},i=t=>{!e.contains(t.relatedTarget)&&r()},s=()=>{e.contains(document.activeElement)||r()};return e.addEventListener("focusin",n),e.addEventListener("focusout",i),e.addEventListener("pointermove",n),e.addEventListener("pointerleave",s),window.addEventListener("blur",n),window.addEventListener("focus",r),()=>{e.removeEventListener("focusin",n),e.removeEventListener("focusout",i),e.removeEventListener("pointermove",n),e.removeEventListener("pointerleave",s),window.removeEventListener("blur",n),window.removeEventListener("focus",r)}}},[g,a.isClosePausedRef]);const v=f.useCallback(({tabbingDirection:e})=>{const t=o().map(t=>{const n=t.ref.current,r=[n,...wP(n)];return"forwards"===e?r:r.reverse()});return("forwards"===e?t.reverse():t).flat()},[o]);return f.useEffect(()=>{const e=h.current;if(e){const t=t=>{const n=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!n){const n=document.activeElement,r=t.shiftKey;if(t.target===e&&r)return void u.current?.focus();const i=v({tabbingDirection:r?"backwards":"forwards"}),s=i.findIndex(e=>e===n);xP(i.slice(s+1))?t.preventDefault():r?u.current?.focus():d.current?.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},[o,v]),l.jsxs(Er,{ref:c,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&l.jsx(iP,{ref:u,onFocusFromOutsideViewport:()=>{xP(v({tabbingDirection:"forwards"}))}}),l.jsx($N.Slot,{scope:n,children:l.jsx(dr.ol,{tabIndex:-1,...s,ref:p})}),g&&l.jsx(iP,{ref:d,onFocusFromOutsideViewport:()=>{xP(v({tabbingDirection:"backwards"}))}})]})});nP.displayName=XN;var rP="ToastFocusProxy",iP=f.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,s=QN(rP,n);return l.jsx(BN,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:e=>{const t=e.relatedTarget;!s.viewport?.contains(t)&&r()}})});iP.displayName=rP;var sP="Toast",aP=f.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...a}=e,[o,c]=ur({prop:r,defaultProp:i??!0,onChange:s,caller:sP});return l.jsx(jr,{present:n||o,children:l.jsx(cP,{open:o,...a,ref:t,onClose:()=>c(!1),onPause:fr(e.onPause),onResume:fr(e.onResume),onSwipeStart:nr(e.onSwipeStart,e=>{e.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:nr(e.onSwipeMove,e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${n}px`)}),onSwipeCancel:nr(e.onSwipeCancel,e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:nr(e.onSwipeEnd,e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${n}px`),c(!1)})})})});aP.displayName=sP;var[oP,lP]=KN(sP,{onClose(){}}),cP=f.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:m,...g}=e,v=QN(sP,n),[y,b]=f.useState(null),w=Yt(t,e=>b(e)),x=f.useRef(null),S=f.useRef(null),k=i||v.duration,E=f.useRef(0),C=f.useRef(k),T=f.useRef(0),{onToastAdd:_,onToastRemove:I}=v,A=fr(()=>{const e=y?.contains(document.activeElement);e&&v.viewport?.focus(),a()}),N=f.useCallback(e=>{e&&e!==1/0&&(window.clearTimeout(T.current),E.current=(new Date).getTime(),T.current=window.setTimeout(A,e))},[A]);f.useEffect(()=>{const e=v.viewport;if(e){const t=()=>{N(C.current),u?.()},n=()=>{const e=(new Date).getTime()-E.current;C.current=C.current-e,window.clearTimeout(T.current),c?.()};return e.addEventListener(eP,n),e.addEventListener(tP,t),()=>{e.removeEventListener(eP,n),e.removeEventListener(tP,t)}}},[v.viewport,k,c,u,N]),f.useEffect(()=>{s&&!v.isClosePausedRef.current&&N(k)},[s,k,v.isClosePausedRef,N]),f.useEffect(()=>(_(),()=>I()),[_,I]);const P=f.useMemo(()=>y?vP(y):null,[y]);return v.viewport?l.jsxs(l.Fragment,{children:[P&&l.jsx(uP,{__scopeToast:n,role:"status","aria-live":"foreground"===r?"assertive":"polite","aria-atomic":!0,children:P}),l.jsx(oP,{scope:n,onClose:A,children:D.createPortal(l.jsx($N.ItemSlot,{scope:n,children:l.jsx(kr,{asChild:!0,onEscapeKeyDown:nr(o,()=>{v.isFocusedToastEscapeKeyDownRef.current||A(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(dr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,...g,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:nr(e.onKeyDown,e=>{"Escape"===e.key&&(o?.(e.nativeEvent),e.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:nr(e.onPointerDown,e=>{0===e.button&&(x.current={x:e.clientX,y:e.clientY})}),onPointerMove:nr(e.onPointerMove,e=>{if(!x.current)return;const t=e.clientX-x.current.x,n=e.clientY-x.current.y,r=Boolean(S.current),i=["left","right"].includes(v.swipeDirection),s=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,a=i?s(0,t):0,o=i?0:s(0,n),l="touch"===e.pointerType?10:2,c={x:a,y:o},u={originalEvent:e,delta:c};r?(S.current=c,yP("toast.swipeMove",h,u,{discrete:!1})):bP(c,v.swipeDirection,l)?(S.current=c,yP("toast.swipeStart",d,u,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(n)>l)&&(x.current=null)}),onPointerUp:nr(e.onPointerUp,e=>{const t=S.current,n=e.target;if(n.hasPointerCapture(e.pointerId)&&n.releasePointerCapture(e.pointerId),S.current=null,x.current=null,t){const n=e.currentTarget,r={originalEvent:e,delta:t};bP(t,v.swipeDirection,v.swipeThreshold)?yP("toast.swipeEnd",m,r,{discrete:!0}):yP("toast.swipeCancel",p,r,{discrete:!0}),n.addEventListener("click",e=>e.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),uP=e=>{const{__scopeToast:t,children:n,...r}=e,i=QN(sP,t),[s,a]=f.useState(!1),[o,c]=f.useState(!1);return function(e=()=>{}){const t=fr(e);sr(()=>{let e=0,n=0;return e=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(n)}},[t])}(()=>a(!0)),f.useEffect(()=>{const e=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(e)},[]),o?null:l.jsx(Lr,{asChild:!0,children:l.jsx(BN,{...r,children:s&&l.jsxs(l.Fragment,{children:[i.label," ",n]})})})},dP=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(dr.div,{...r,ref:t})});dP.displayName="ToastTitle";var hP=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(dr.div,{...r,ref:t})});hP.displayName="ToastDescription";var fP=f.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?l.jsx(gP,{altText:n,asChild:!0,children:l.jsx(mP,{...r,ref:t})}):null});fP.displayName="ToastAction";var pP="ToastClose",mP=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=lP(pP,n);return l.jsx(gP,{asChild:!0,children:l.jsx(dr.button,{type:"button",...r,ref:t,onClick:nr(e.onClick,i.onClose)})})});mP.displayName=pP;var gP=f.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return l.jsx(dr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function vP(e){const t=[];return Array.from(e.childNodes).forEach(e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const n=e.ariaHidden||e.hidden||"none"===e.style.display,r=""===e.dataset.radixToastAnnounceExclude;if(!n)if(r){const n=e.dataset.radixToastAnnounceAlt;n&&t.push(n)}else t.push(...vP(e))}}),t}function yP(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?hr(i,s):i.dispatchEvent(s)}var bP=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),s=r>i;return"left"===t||"right"===t?s&&r>n:!s&&i>n};function wP(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function xP(e){const t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}var SP=nP,kP=aP,EP=dP,CP=hP,TP=fP,_P=mP;const IP=JN,AP=f.forwardRef(({className:e,...t},n)=>l.jsx(SP,{ref:n,className:Zn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));AP.displayName=SP.displayName;const NP=an("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),PP=f.forwardRef(({className:e,variant:t,...n},r)=>l.jsx(kP,{ref:r,className:Zn(NP({variant:t}),e),...n}));PP.displayName=kP.displayName;f.forwardRef(({className:e,...t},n)=>l.jsx(TP,{ref:n,className:Zn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t})).displayName=TP.displayName;const RP=f.forwardRef(({className:e,...t},n)=>l.jsx(_P,{ref:n,className:Zn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx($t,{className:"h-4 w-4"})}));RP.displayName=_P.displayName;const DP=f.forwardRef(({className:e,...t},n)=>l.jsx(EP,{ref:n,className:Zn("text-sm font-semibold",e),...t}));DP.displayName=EP.displayName;const MP=f.forwardRef(({className:e,...t},n)=>l.jsx(CP,{ref:n,className:Zn("text-sm opacity-90",e),...t}));function LP(){const{toasts:e}=zN();return l.jsxs(IP,{children:[e.map(function({id:e,title:t,description:n,action:r,...i}){return l.jsxs(PP,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[t&&l.jsx(DP,{children:t}),n&&l.jsx(MP,{children:n})]}),r,l.jsx(RP,{})]},e)}),l.jsx(AP,{})]})}function jP({activeBank:e,setActiveBank:t,masterVolume:n,setMasterVolume:r,chops:i,youtubeUrl:s}){const{toast:a}=zN(),{currentUser:o}=yx(),[c,u]=f.useState(""),[d,h]=f.useState(!1);return l.jsxs(l.Fragment,{children:[l.jsx(LP,{}),l.jsxs(bA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl shadow-lg p-4 space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white/80",children:[l.jsx(yt,{className:"w-4 h-4 text-cyan-400"}),"Sample Banks"]}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:["A","B","C","D"].map(n=>l.jsx(tr,{onClick:()=>t(n),className:"font-mono text-lg transition-all duration-200\n                                "+(e===n?"bg-cyan-500 text-black shadow-md":"bg-white/10 hover:bg-white/20"),children:n},n))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white/80",children:[l.jsx(zt,{className:"w-4 h-4 text-cyan-400"}),"Master Volume"]}),l.jsx(AN,{defaultValue:[100],max:100,step:1,onValueChange:e=>r(e[0]/100),className:"[&>span:first-child]:bg-cyan-400"})]}),l.jsxs("div",{className:"space-y-3 pt-4 border-t border-white/10",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white/80",children:[l.jsx(Rt,{className:"w-4 h-4 text-cyan-400"}),"Save Session"]}),o?l.jsxs(l.Fragment,{children:[l.jsx(HA,{placeholder:"Session Name...",value:c,onChange:e=>u(e.target.value),className:"bg-white/10 border-white/20 placeholder-gray-400"}),l.jsx(tr,{onClick:async()=>{if(o)if(c){h(!0);try{await PN.create({sessionName:c,youtubeUrl:s,chops:i,userId:o.uid}),a({title:"Session Saved!",description:`"${c}" has been saved successfully.`})}catch(e){a({variant:"destructive",title:"Save Failed",description:"Could not save your session. Please try again."})}finally{h(!1)}}else a({variant:"destructive",title:"Uh oh! Something went wrong.",description:"Please enter a name for your session."});else a({variant:"destructive",title:"Authentication Required",description:"You must be signed in to save a session."})},disabled:d||!o,className:"w-full bg-purple-600 hover:bg-purple-700 font-bold",children:d?"Saving...":"Save Chops"})]}):l.jsx("div",{className:"text-center text-sm text-white/60 p-4 bg-black/20 rounded-lg",children:l.jsx("p",{children:"Please sign in to save your sessions."})})]})]})]})}function OP({className:e="",children:t,...n}){return l.jsx("div",{className:`relative w-full rounded-lg border p-4 ${e}`,...n,children:t})}function FP({className:e="",children:t,...n}){return l.jsx("div",{className:`text-sm ${e}`,...n,children:t})}MP.displayName=CP.displayName;const UP=new class{constructor(){this.storageKey="youtube-chopper-sessions",this.currentSessionKey="current-session"}async saveSession(e,t=null){try{const n=this.generateSessionId(),r=(new Date).toISOString(),i={id:n,name:t||`Session ${(new Date).toLocaleDateString()}`,youtubeUrl:e.youtubeUrl,videoId:this.extractVideoId(e.youtubeUrl),chops:e.chops.map(e=>({padId:e.padId,startTime:e.startTime,endTime:e.endTime,color:e.color})),activeBank:e.activeBank||"A",createdAt:r,updatedAt:r,version:"1.0"},s=await this.getAllSessions();return s[n]=i,localStorage.setItem(this.storageKey,JSON.stringify(s)),localStorage.setItem(this.currentSessionKey,n),{success:!0,sessionId:n,sessionName:i.name}}catch(n){return{success:!1,error:n.message}}}async loadSession(e){try{const t=(await this.getAllSessions())[e];if(!t)throw new Error(`Session ${e} not found`);return localStorage.setItem(this.currentSessionKey,e),{success:!0,session:t}}catch(t){return{success:!1,error:t.message}}}async getAllSessions(){try{const e=localStorage.getItem(this.storageKey);return e?JSON.parse(e):{}}catch(e){return{}}}async deleteSession(e){try{const t=await this.getAllSessions();if(!t[e])throw new Error(`Session ${e} not found`);const n=t[e].name;delete t[e],localStorage.setItem(this.storageKey,JSON.stringify(t));return localStorage.getItem(this.currentSessionKey)===e&&localStorage.removeItem(this.currentSessionKey),{success:!0,sessionName:n}}catch(t){return{success:!1,error:t.message}}}getCurrentSessionId(){return localStorage.getItem(this.currentSessionKey)}autoSave(e){this.autoSaveTimeout&&clearTimeout(this.autoSaveTimeout),this.autoSaveTimeout=setTimeout(async()=>{const t=this.getCurrentSessionId();t?await this.updateSession(t,e):await this.saveSession(e,"Auto-saved Session")},2e3)}async updateSession(e,t){try{const n=await this.getAllSessions(),r=n[e];if(!r)throw new Error(`Session ${e} not found`);const i={...r,youtubeUrl:t.youtubeUrl,videoId:this.extractVideoId(t.youtubeUrl),chops:t.chops.map(e=>({padId:e.padId,startTime:e.startTime,endTime:e.endTime,color:e.color})),activeBank:t.activeBank||r.activeBank,updatedAt:(new Date).toISOString()};return n[e]=i,localStorage.setItem(this.storageKey,JSON.stringify(n)),{success:!0,session:i}}catch(n){return{success:!1,error:n.message}}}async exportSession(e){try{const t=await this.loadSession(e);if(!t.success)throw new Error(t.error);return{success:!0,data:{...t.session,exportedAt:(new Date).toISOString(),appVersion:"1.0"},filename:`chopper-session-${t.session.name.replace(/[^a-z0-9]/gi,"-").toLowerCase()}.json`}}catch(t){return{success:!1,error:t.message}}}async importSession(e){try{if(!e.youtubeUrl||!Array.isArray(e.chops))throw new Error("Invalid session data format");const t=this.generateSessionId(),n={...e,id:t,name:`${e.name} (Imported)`,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},r=await this.getAllSessions();return r[t]=n,localStorage.setItem(this.storageKey,JSON.stringify(r)),{success:!0,sessionId:t,session:n}}catch(t){return{success:!1,error:t.message}}}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}extractVideoId(e){const t=e.match(/(?:v=|youtu\.be\/)([^&?]+)/);return t?t[1]:null}clearAllSessions(){localStorage.removeItem(this.storageKey),localStorage.removeItem(this.currentSessionKey)}async getSessionStats(){const e=await this.getAllSessions(),t=Object.values(e);return{totalSessions:t.length,totalChops:t.reduce((e,t)=>e+t.chops.length,0),oldestSession:t.length>0?t.reduce((e,t)=>new Date(t.createdAt)<new Date(e.createdAt)?t:e).createdAt:null,newestSession:t.length>0?t.reduce((e,t)=>new Date(t.createdAt)>new Date(e.createdAt)?t:e).createdAt:null}}};function zP({currentSession:e,onLoadSession:t,onNewSession:n,isOpen:r,onClose:i}){const[s,a]=f.useState({}),[o,c]=f.useState(""),[u,d]=f.useState(!1),[h,p]=f.useState(null),[m,g]=f.useState(null);f.useEffect(()=>{v()},[]);const v=async()=>{const e=await UP.getAllSessions();a(e)},y=async()=>{if(!e.youtubeUrl)return void p({type:"error",text:"No video loaded to save"});if(!o.trim())return void p({type:"error",text:"Please enter a session name"});d(!0);const t=await UP.saveSession(e,o.trim());t.success?(p({type:"success",text:`Session "${t.sessionName}" saved successfully!`}),c(""),await v()):p({type:"error",text:`Failed to save session: ${t.error}`}),d(!1)},b=Object.values(s).sort((e,t)=>new Date(t.updatedAt)-new Date(e.updatedAt));return r?l.jsxs(bA.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:i,children:[l.jsxs(bA.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-black/90 backdrop-blur-lg border border-white/20 rounded-2xl shadow-2xl max-w-4xl w-full max-h-[80vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[l.jsx("div",{className:"p-6 border-b border-white/10",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ft,{className:"w-6 h-6 text-cyan-400"}),l.jsx("h2",{className:"text-xl font-bold text-white",children:"Session Manager"})]}),l.jsx(tr,{onClick:i,variant:"ghost",size:"sm",className:"text-white/60 hover:text-white",children:""})]})}),l.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(80vh-120px)]",children:[l.jsx(Mx,{children:h&&l.jsx(bA.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-4",children:l.jsx(OP,{className:"border "+("success"===h.type?"border-green-400 bg-green-400/10":"border-red-400 bg-red-400/10"),children:l.jsx(FP,{className:"success"===h.type?"text-green-200":"text-red-200",children:h.text})})})}),l.jsxs("div",{className:"mb-6 p-4 bg-white/5 rounded-lg border border-white/10",children:[l.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[l.jsx(Rt,{className:"w-5 h-5 text-cyan-400"}),"Save Current Session"]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(HA,{placeholder:"Enter session name...",value:o,onChange:e=>c(e.target.value),className:"bg-white/10 border-white/20 text-white placeholder-gray-400",onKeyPress:e=>"Enter"===e.key&&y()}),l.jsx(tr,{onClick:y,disabled:u||!o.trim(),className:"bg-cyan-500 hover:bg-cyan-600 text-black font-bold",children:u?"Saving...":"Save"})]}),e.chops?.length>0&&l.jsxs("p",{className:"text-sm text-white/60 mt-2",children:["Current session has ",e.chops.length," chops"]})]}),l.jsxs("div",{className:"mb-6 flex gap-3",children:[l.jsxs("label",{className:"flex-1",children:[l.jsx("input",{type:"file",accept:".json",onChange:e=>{const t=e.target.files[0];if(!t)return;const n=new FileReader;n.onload=async e=>{try{const t=JSON.parse(e.target.result),n=await UP.importSession(t);n.success?(p({type:"success",text:`Session "${n.session.name}" imported successfully!`}),await v()):p({type:"error",text:`Failed to import session: ${n.error}`})}catch(t){p({type:"error",text:"Invalid session file format"})}},n.readAsText(t),e.target.value=""},className:"hidden"}),l.jsxs(tr,{as:"span",variant:"outline",className:"w-full border-white/20 text-white hover:bg-white/10",children:[l.jsx(Ot,{className:"w-4 h-4 mr-2"}),"Import Session"]})]}),l.jsxs(tr,{onClick:n,variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[l.jsx(At,{className:"w-4 h-4 mr-2"}),"New Session"]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-white mb-4",children:["Saved Sessions (",b.length,")"]}),0===b.length?l.jsxs("div",{className:"text-center py-8 text-white/60",children:[l.jsx(ft,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:"No saved sessions yet"}),l.jsx("p",{className:"text-sm",children:"Create your first session by saving your current work"})]}):l.jsx("div",{className:"space-y-3",children:b.map(e=>{return l.jsx(bA.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-white/5 rounded-lg border border-white/10 hover:bg-white/10 transition-colors",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-semibold text-white mb-1",children:e.name}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-white/60 mb-2",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Ut,{className:"w-3 h-3"}),e.videoId]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(ut,{className:"w-3 h-3"}),(n=e.updatedAt,new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))]}),l.jsxs("span",{children:[e.chops.length," chops"]})]}),l.jsx("p",{className:"text-xs text-white/40 truncate",children:e.youtubeUrl})]}),l.jsxs("div",{className:"flex gap-2 ml-4",children:[l.jsx(tr,{onClick:()=>(async e=>{d(!0);const n=await UP.loadSession(e);n.success?(t(n.session),p({type:"success",text:`Session "${n.session.name}" loaded successfully!`}),i()):p({type:"error",text:`Failed to load session: ${n.error}`}),d(!1)})(e.id),size:"sm",className:"bg-cyan-500 hover:bg-cyan-600 text-black",children:"Load"}),l.jsx(tr,{onClick:()=>(async e=>{const t=await UP.exportSession(e);if(t.success){const e=new Blob([JSON.stringify(t.data,null,2)],{type:"application/json"}),n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t.filename,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n),p({type:"success",text:"Session exported successfully!"})}else p({type:"error",text:`Failed to export session: ${t.error}`})})(e.id),size:"sm",variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:l.jsx(dt,{className:"w-3 h-3"})}),l.jsx(tr,{onClick:()=>g(e.id),size:"sm",variant:"outline",className:"border-red-400/20 text-red-400 hover:bg-red-400/10",children:l.jsx(Lt,{className:"w-3 h-3"})})]})]})},e.id);var n})})]})]})]}),l.jsx(Mx,{children:m&&l.jsx(bA.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 flex items-center justify-center",onClick:()=>g(null),children:l.jsxs(bA.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-black/90 border border-red-400/20 rounded-lg p-6 max-w-md mx-4",onClick:e=>e.stopPropagation(),children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Delete Session"}),l.jsx("p",{className:"text-white/70 mb-4",children:"Are you sure you want to delete this session? This action cannot be undone."}),l.jsxs("div",{className:"flex gap-3 justify-end",children:[l.jsx(tr,{onClick:()=>g(null),variant:"outline",className:"border-white/20 text-white",children:"Cancel"}),l.jsx(tr,{onClick:()=>(async e=>{const t=await UP.deleteSession(e);t.success?(p({type:"success",text:`Session "${t.sessionName}" deleted`}),await v()):p({type:"error",text:`Failed to delete session: ${t.error}`}),g(null)})(m),className:"bg-red-500 hover:bg-red-600 text-white",children:"Delete"})]})]})})})]}):null}function VP({value:e=0,className:t="",...n}){const r=Math.min(100,Math.max(0,e));return l.jsx("div",{className:`relative w-full overflow-hidden rounded-full bg-gray-200 ${t}`,...n,children:l.jsx("div",{className:"h-full bg-cyan-500 transition-all duration-300 ease-out",style:{width:`${r}%`}})})}const BP=new class{constructor(){this.workers=[],this.maxWorkers=Math.min(navigator.hardwareConcurrency||4,4),this.workerPool=[],this.activeJobs=new Map,this.cache=new Map,this.config={defaultSamples:400,maxSamples:2e3,chunkSize:1048576,useWebWorkers:!0,enableCaching:!0,progressiveRendering:!0,memoryThreshold:104857600},this.generateWaveform=this.generateWaveform.bind(this),this.generateProgressiveWaveform=this.generateProgressiveWaveform.bind(this),this.cleanup=this.cleanup.bind(this)}async generateWaveform(e,t={}){const n=xA.startMeasurement("waveform_generation");try{const r={samples:Math.min(t.samples||this.config.defaultSamples,this.config.maxSamples),channel:t.channel||0,normalize:!1!==t.normalize,progressive:t.progressive||!1,onProgress:t.onProgress||null},i=this.generateCacheKey(e,r);if(this.config.enableCaching&&this.cache.has(i)){const e=this.cache.get(i);return r.onProgress&&r.onProgress({progress:100,status:"cached"}),n({cached:!0,samples:r.samples}),e}const s=this.estimateAudioSize(e),a=this.config.useWebWorkers&&s>this.config.memoryThreshold;let o;return o=a&&this.supportsWebWorkers()?await this.generateWithWebWorkers(e,r):r.progressive&&s>this.config.memoryThreshold?await this.generateProgressiveWaveform(e,r):await this.generateSynchronous(e,r),this.config.enableCaching&&(this.cache.set(i,o),this.manageCacheSize()),n({samples:r.samples,audioSize:s,useWorkers:a,progressive:r.progressive}),o}catch(r){throw n({error:r.message}),new Error(`Waveform generation failed: ${r.message}`)}}async generateProgressiveWaveform(e,t){const n=e.getChannelData(t.channel),r=n.length,i=Math.floor(r/t.samples),s=Math.min(this.config.chunkSize,Math.floor(r/10)),a=new Float32Array(t.samples);let o=0;for(let c=0;c<r;c+=s){const e=Math.min(c+s,r)-c;if(await this.processChunk(n,c,e,i,a,t.samples),o+=e,t.onProgress){const e=Math.round(o/r*100);t.onProgress({progress:e,status:"processing",processedSamples:o,totalSamples:r})}await this.yieldControl()}let l=Array.from(a);return t.normalize&&(l=this.normalizeWaveform(l)),{data:l,samples:t.samples,duration:e.duration,sampleRate:e.sampleRate,channels:e.numberOfChannels,progressive:!0}}async generateWithWebWorkers(e,t){return new Promise((n,r)=>{const i=this.getWorker(),s=`waveform_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;this.activeJobs.set(s,{worker:i,resolve:n,reject:r});const a=e=>{const{type:o,jobId:l,data:c,error:u}=e.data;l===s&&("progress"===o&&t.onProgress?t.onProgress(c):"complete"===o?(i.removeEventListener("message",a),this.releaseWorker(i),this.activeJobs.delete(s),n(c)):"error"===o&&(i.removeEventListener("message",a),this.releaseWorker(i),this.activeJobs.delete(s),r(new Error(u))))};i.addEventListener("message",a);const o=e.getChannelData(t.channel);i.postMessage({type:"generateWaveform",jobId:s,audioData:o.buffer.slice(),config:{samples:t.samples,normalize:t.normalize,sampleRate:e.sampleRate,duration:e.duration,channels:e.numberOfChannels}}),setTimeout(()=>{this.activeJobs.has(s)&&(i.removeEventListener("message",a),this.releaseWorker(i),this.activeJobs.delete(s),r(new Error("Waveform generation timeout")))},3e4)})}async generateSynchronous(e,t){const n=e.getChannelData(t.channel),r=Math.floor(n.length/t.samples),i=[];for(let s=0;s<t.samples;s++){const e=r*s,a=Math.min(e+r,n.length);let o=0,l=0;for(let t=e;t<a;t++){const e=n[t];o+=e*e,l++}const c=l>0?Math.sqrt(o/l):0;if(i.push(c),t.onProgress&&s%50==0){const e=Math.round(s/t.samples*100);t.onProgress({progress:e,status:"processing"})}s%100==0&&await this.yieldControl()}return{data:t.normalize?this.normalizeWaveform(i):i,samples:t.samples,duration:e.duration,sampleRate:e.sampleRate,channels:e.numberOfChannels,progressive:!1}}async processChunk(e,t,n,r,i,s){const a=Math.floor(n/e.length*s),o=Math.floor(t/e.length*s);for(let l=0;l<a;l++){const t=o+l;if(t>=s)break;const n=Math.floor(t/s*e.length),a=Math.min(n+r,e.length);let c=0,u=0;for(let r=n;r<a;r++){const t=e[r];c+=t*t,u++}const d=u>0?Math.sqrt(c/u):0;i[t]=d}}normalizeWaveform(e){const t=Math.max(...e);if(0===t)return e;const n=1/t;return e.map(e=>e*n)}getWorker(){if(this.workerPool.length>0)return this.workerPool.pop();if(this.workers.length<this.maxWorkers){const e=this.createWorker();return this.workers.push(e),e}return new Promise(e=>{const t=()=>{this.workerPool.length>0?e(this.workerPool.pop()):setTimeout(t,100)};t()})}releaseWorker(e){this.workerPool.push(e)}createWorker(){const e=new Blob(["\n      self.addEventListener('message', function(event) {\n        const { type, jobId, audioData, config } = event.data;\n        \n        if (type === 'generateWaveform') {\n          try {\n            const channelData = new Float32Array(audioData);\n            const blockSize = Math.floor(channelData.length / config.samples);\n            const waveformData = [];\n            \n            for (let i = 0; i < config.samples; i++) {\n              const blockStart = blockSize * i;\n              const blockEnd = Math.min(blockStart + blockSize, channelData.length);\n              \n              let sum = 0;\n              let count = 0;\n              \n              for (let j = blockStart; j < blockEnd; j++) {\n                const sample = channelData[j];\n                sum += sample * sample;\n                count++;\n              }\n              \n              const rms = count > 0 ? Math.sqrt(sum / count) : 0;\n              waveformData.push(rms);\n              \n              // Report progress every 10%\n              if (i % Math.floor(config.samples / 10) === 0) {\n                self.postMessage({\n                  type: 'progress',\n                  jobId,\n                  data: {\n                    progress: Math.round((i / config.samples) * 100),\n                    status: 'processing'\n                  }\n                });\n              }\n            }\n            \n            // Normalize if requested\n            let finalData = waveformData;\n            if (config.normalize) {\n              const maxValue = Math.max(...waveformData);\n              if (maxValue > 0) {\n                const multiplier = 1 / maxValue;\n                finalData = waveformData.map(value => value * multiplier);\n              }\n            }\n            \n            self.postMessage({\n              type: 'complete',\n              jobId,\n              data: {\n                data: finalData,\n                samples: config.samples,\n                duration: config.duration,\n                sampleRate: config.sampleRate,\n                channels: config.channels,\n                progressive: false\n              }\n            });\n            \n          } catch (error) {\n            self.postMessage({\n              type: 'error',\n              jobId,\n              error: error.message\n            });\n          }\n        }\n      });\n    "],{type:"application/javascript"});return new Worker(URL.createObjectURL(e))}supportsWebWorkers(){return"undefined"!=typeof Worker}estimateAudioSize(e){return e.numberOfChannels*e.length*4}generateCacheKey(e,t){return`${`${e.duration}_${e.sampleRate}_${e.numberOfChannels}`}_${`${t.samples}_${t.channel}_${t.normalize}`}`}manageCacheSize(){if(this.cache.size>10){const e=Array.from(this.cache.entries()),t=e.slice(0,e.length-10);for(const[n]of t)this.cache.delete(n)}}async yieldControl(){return new Promise(e=>setTimeout(e,0))}getStats(){return{activeWorkers:this.workers.length,availableWorkers:this.workerPool.length,activeJobs:this.activeJobs.size,cacheSize:this.cache.size,maxWorkers:this.maxWorkers,supportsWebWorkers:this.supportsWebWorkers()}}clearCache(){this.cache.clear()}cleanup(){for(const e of this.workers)e.terminate();this.workers=[],this.workerPool=[],this.activeJobs.clear(),this.cache.clear()}};"undefined"!=typeof window&&window.addEventListener("beforeunload",()=>{BP.cleanup()});const HP=new class{constructor(){this.audioContext=null,this.mediaElementSource=null,this.analyser=null,this.scriptProcessor=null,this.isCapturing=!1,this.capturedSamples=[],this.videoElement=null,this.captureStartTime=0,this.targetDuration=0,this.config={sampleRate:44100,bufferSize:4096,fftSize:2048,maxCaptureTime:600,waveformSamples:400},this.startCapture=this.startCapture.bind(this),this.stopCapture=this.stopCapture.bind(this),this.cleanup=this.cleanup.bind(this)}async startCapture(e,t=null,n=null){const r=xA.startMeasurement("youtube_stream_capture");try{if(!e)throw new Error("Video element not provided");return this.videoElement=e,this.targetDuration=n||e.duration||this.config.maxCaptureTime,this.audioContext=new(window.AudioContext||window.webkitAudioContext)({sampleRate:this.config.sampleRate}),"suspended"===this.audioContext.state&&await this.audioContext.resume(),this.mediaElementSource=this.audioContext.createMediaElementSource(e),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=this.config.fftSize,this.analyser.smoothingTimeConstant=.8,this.scriptProcessor=this.audioContext.createScriptProcessor(this.config.bufferSize,1,1),this.mediaElementSource.connect(this.analyser),this.analyser.connect(this.scriptProcessor),this.scriptProcessor.connect(this.audioContext.destination),this.setupAudioProcessing(t),this.isCapturing=!0,this.captureStartTime=this.audioContext.currentTime,this.capturedSamples=[],new Promise((e,t)=>{this.captureResolve=e,this.captureReject=t,setTimeout(()=>{this.isCapturing&&this.stopCapture().then(e).catch(t)},1e3*this.targetDuration)})}catch(i){throw r({error:i.message}),new Error(`Capture initialization failed: ${i.message}`)}}setupAudioProcessing(e){let t=0;const n=Math.floor(this.config.sampleRate/10);this.scriptProcessor.onaudioprocess=r=>{if(!this.isCapturing)return;const i=r.inputBuffer.getChannelData(0),s=new Float32Array(i.length);if(s.set(i),this.capturedSamples.push(s),t+=i.length,t%n===0&&e){const n=t/this.config.sampleRate,r=Math.min(n/this.targetDuration*100,99);e({status:"capturing",progress:Math.round(r),capturedTime:n,targetDuration:this.targetDuration})}t/this.config.sampleRate>=this.targetDuration&&this.stopCapture()}}async stopCapture(){if(!this.isCapturing)return null;const e=xA.startMeasurement("youtube_capture_processing");try{this.isCapturing=!1,this.scriptProcessor&&(this.scriptProcessor.disconnect(),this.scriptProcessor.onaudioprocess=null),this.analyser&&this.analyser.disconnect(),this.mediaElementSource&&this.mediaElementSource.disconnect();const t=await this.createAudioBufferFromSamples();if(!t)throw new Error("No audio data captured");const n=await BP.generateWaveform(t,{samples:this.config.waveformSamples,normalize:!0}),r=`youtube_capture_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;SA.registerBuffer(r,t,{priority:SA.config.priorityLevels.HIGH,tags:["youtube","captured","streaming"],source:"youtube_stream"});const i={audioBuffer:t,waveformData:n.data,metadata:{duration:t.duration,sampleRate:t.sampleRate,channels:t.numberOfChannels,capturedSamples:this.capturedSamples.length,bufferId:r,source:"youtube_stream"}};return e({success:!0,duration:t.duration,samples:this.capturedSamples.length}),this.captureResolve&&this.captureResolve(i),i}catch(t){throw e({error:t.message}),this.captureReject&&this.captureReject(t),t}}async createAudioBufferFromSamples(){if(0===this.capturedSamples.length)return null;const e=this.capturedSamples.reduce((e,t)=>e+t.length,0);if(0===e)return null;const t=this.audioContext.createBuffer(1,e,this.config.sampleRate),n=t.getChannelData(0);let r=0;for(const i of this.capturedSamples)n.set(i,r),r+=i.length;return t}getStatus(){return{isCapturing:this.isCapturing,capturedSamples:this.capturedSamples.length,capturedDuration:this.capturedSamples.length>0?this.capturedSamples.length*this.config.bufferSize/this.config.sampleRate:0,targetDuration:this.targetDuration,audioContextState:this.audioContext?.state||"not-initialized"}}static isSupported(){return!(!window.AudioContext&&!window.webkitAudioContext)}cleanup(){this.stopCapture(),this.audioContext&&"closed"!==this.audioContext.state&&(this.audioContext.close(),this.audioContext=null),this.capturedSamples=[],this.videoElement=null}};function $P({youtubeUrl:e,videoElement:t,onCaptureComplete:n,onCaptureError:r,isVideoReady:i=!1}){const[s,a]=f.useState("idle"),[o,c]=f.useState(0),[u,d]=f.useState(null),[h,p]=f.useState(null),[m,g]=f.useState(null);f.useEffect(()=>{a("idle"),c(0),d(null),p(null),g(null)},[e]);const v=f.useCallback(e=>{c(e.progress),d({capturedTime:e.capturedTime,targetDuration:e.targetDuration,status:e.status})},[]),y=f.useCallback(async()=>{if(t)if(i)try{a("capturing"),p(null),c(0);const e=t.duration||300,r=Math.min(e,600),i=await HP.startCapture(t,v,r);a("processing"),g(i),a("complete"),c(100),n&&n(i)}catch(e){a("error"),p(e.message||"Audio capture failed"),r&&r(e)}else p("Video not ready. Please wait for video to fully load.");else p("Video element not available. Please wait for video to load.")},[t,i,v,n,r]),b=f.useCallback(async()=>{try{a("processing");const e=await HP.stopCapture();e?(g(e),a("complete"),c(100),n&&n(e)):(a("idle"),c(0))}catch(e){a("error"),p(e.message||"Failed to stop capture")}},[n]),w=f.useCallback(()=>{HP.cleanup(),a("idle"),c(0),d(null),p(null),g(null)},[]);if(!HP.constructor.isSupported())return l.jsxs(OP,{className:"border-red-400 bg-red-400/10",children:[l.jsx(ot,{className:"h-4 w-4 text-red-400"}),l.jsx(FP,{className:"text-red-200",children:"Audio capture is not supported in this browser. Please use a modern browser with Web Audio API support."})]});const x=(()=>{switch(s){case"idle":return{icon:Et,message:"Ready to capture audio from YouTube video",color:"text-white/70"};case"capturing":return{icon:xt,message:`Capturing audio... ${o}%`,color:"text-cyan-400",animate:!0};case"processing":return{icon:xt,message:"Processing captured audio...",color:"text-yellow-400",animate:!0};case"complete":return{icon:lt,message:"Audio capture complete!",color:"text-green-400"};case"error":return{icon:ot,message:"Capture failed",color:"text-red-400"};default:return{icon:Et,message:"Unknown state",color:"text-white/50"}}})(),S=x.icon;return l.jsxs(bA.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl p-4 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"p-2 bg-purple-600/20 rounded-lg",children:l.jsx(Et,{className:"w-4 h-4 text-purple-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-medium",children:"Audio Capture"}),l.jsx("p",{className:"text-white/60 text-sm",children:"Capture audio directly from YouTube"})]})]}),l.jsx("div",{className:"flex items-center gap-1 text-white/40",children:t?.muted?l.jsx(Vt,{className:"w-4 h-4"}):l.jsx(zt,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(S,{className:`w-4 h-4 ${x.color} ${x.animate?"animate-spin":""}`}),l.jsx("span",{className:`text-sm font-medium ${x.color}`,children:x.message})]}),l.jsx(Mx,{children:("capturing"===s||"processing"===s)&&l.jsxs(bA.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-2",children:[l.jsx(VP,{value:o,className:"h-2 bg-white/10"}),u&&l.jsxs("div",{className:"flex justify-between text-xs text-white/50",children:[l.jsxs("span",{children:[u.capturedTime?.toFixed(1),"s / ",u.targetDuration?.toFixed(1),"s"]}),l.jsxs("span",{children:[o,"%"]})]})]})}),l.jsx(Mx,{children:h&&l.jsx(bA.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:l.jsxs(OP,{className:"border-red-400 bg-red-400/10",children:[l.jsx(ot,{className:"h-4 w-4 text-red-400"}),l.jsx(FP,{className:"text-red-200 text-sm",children:h})]})})}),l.jsx(Mx,{children:m&&"complete"===s&&l.jsx(bA.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-green-500/10 border border-green-500/20 rounded-lg p-3",children:l.jsxs("div",{className:"text-green-200 text-sm space-y-1",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Duration:"}),l.jsxs("span",{children:[m.metadata.duration.toFixed(2),"s"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Sample Rate:"}),l.jsxs("span",{children:[m.metadata.sampleRate," Hz"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Channels:"}),l.jsx("span",{children:m.metadata.channels})]})]})})}),l.jsxs("div",{className:"flex gap-2",children:["idle"===s&&l.jsxs(tr,{onClick:y,disabled:!i||!t,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white",children:[l.jsx(It,{className:"w-4 h-4 mr-2"}),"Start Capture"]}),"capturing"===s&&l.jsxs(tr,{onClick:b,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:[l.jsx(Mt,{className:"w-4 h-4 mr-2"}),"Stop Capture"]}),("complete"===s||"error"===s)&&l.jsxs(l.Fragment,{children:[l.jsx(tr,{onClick:w,variant:"outline",className:"flex-1 border-white/20 text-white hover:bg-white/10",children:"Reset"}),"complete"===s&&l.jsxs(tr,{onClick:y,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white",children:[l.jsx(It,{className:"w-4 h-4 mr-2"}),"Capture Again"]})]})]}),"idle"===s&&l.jsxs("div",{className:"text-xs text-white/40 space-y-1",children:[l.jsx("p",{children:" This captures audio directly from the YouTube player"}),l.jsx("p",{children:" Make sure the video is playing and not muted"}),l.jsx("p",{children:" Capture will automatically stop at video end"})]})]})}const WP=new class{constructor(){this.retryAttempts=new Map,this.errorHistory=[],this.config={maxRetries:3,baseRetryDelay:1e3,maxRetryDelay:1e4,transientErrorPatterns:[/network/i,/timeout/i,/fetch/i,/connection/i,/temporary/i,/rate.?limit/i,/service.?unavailable/i,/internal.?server/i,/502|503|504/],permanentErrorPatterns:[/not.?found/i,/unauthorized/i,/forbidden/i,/invalid.?url/i,/malformed/i,/unsupported/i,/private/i,/deleted/i,/restricted/i]},this.shouldRetry=this.shouldRetry.bind(this),this.executeWithRetry=this.executeWithRetry.bind(this),this.classifyError=this.classifyError.bind(this)}classifyError(e){const t=`${e?.message||""} ${e?.stack||""}`.toLowerCase();if(this.config.permanentErrorPatterns.some(e=>e.test(t)))return{type:"permanent",category:this.getErrorCategory(t),retryable:!1,userActionRequired:!0,severity:"error"};return this.config.transientErrorPatterns.some(e=>e.test(t))?{type:"transient",category:this.getErrorCategory(t),retryable:!0,userActionRequired:!1,severity:"warning"}:{type:"unknown",category:"system",retryable:!0,userActionRequired:!1,severity:"error"}}getErrorCategory(e){return/network|connection|fetch|cors/i.test(e)?"network":/audio|decode|buffer|context/i.test(e)?"audio":/video|youtube|player|embed/i.test(e)?"video":/timeout|slow|delay/i.test(e)?"timeout":/quota|limit|rate/i.test(e)?"quota":/storage|cache|memory/i.test(e)?"storage":/permission|unauthorized|forbidden/i.test(e)?"permission":"system"}shouldRetry(e,t){if(!this.classifyError(e).retryable)return!1;return(this.retryAttempts.get(t)||0)<this.config.maxRetries}calculateRetryDelay(e){const t=Math.min(this.config.baseRetryDelay*Math.pow(2,e),this.config.maxRetryDelay),n=.3*Math.random()*t;return Math.floor(t+n)}async executeWithRetry(e,t,n={}){const{onProgress:r=null,onRetry:i=null,maxRetries:s=this.config.maxRetries,context:a={}}=n;let o=null;const l=Date.now();this.retryAttempts.set(t,0);for(let h=0;h<=s;h++)try{r&&r({status:0===h?"starting":"retrying",attempt:h+1,maxAttempts:s+1,operationId:t,context:a});const n=await e();return this.retryAttempts.delete(t),this.recordSuccess(t,h,Date.now()-l),n}catch(d){o=d;const e=this.classifyError(d);if(this.recordError(t,d,h,e),h>=s||!e.retryable)break;const n=this.calculateRetryDelay(h);this.retryAttempts.set(t,h+1),i&&i({error:d,attempt:h+1,maxAttempts:s+1,delay:n,classification:e,operationId:t}),r&&r({status:"waiting_retry",attempt:h+1,maxAttempts:s+1,delay:n,error:d.message,operationId:t,context:a}),await this.sleep(n)}this.retryAttempts.delete(t);const c=this.classifyError(o),u=new Error(o.message);throw u.originalError=o,u.classification=c,u.attempts=s+1,u.operationId=t,u}recordError(e,t,n,r){const i={timestamp:Date.now(),operationId:e,error:{message:t.message,stack:t.stack,name:t.name},attempt:n,classification:r};this.errorHistory.push(i),this.errorHistory.length>100&&this.errorHistory.shift()}recordSuccess(e,t,n){}getErrorStats(){const e=Date.now(),t=this.errorHistory.filter(t=>e-t.timestamp<3e5),n={},r={};return t.forEach(e=>{const t=e.classification.category,i=e.classification.type;n[t]=(n[t]||0)+1,r[i]=(r[i]||0)+1}),{totalErrors:this.errorHistory.length,recentErrors:t.length,activeRetries:this.retryAttempts.size,errorsByCategory:n,errorsByType:r,lastError:this.errorHistory[this.errorHistory.length-1]||null}}getUserFriendlyError(e){const t=e.classification||this.classifyError(e),n={network:{title:"Connection Problem",message:"Unable to connect to the service. Please check your internet connection.",suggestions:["Check your internet connection","Try refreshing the page","Wait a moment and try again"]},audio:{title:"Audio Processing Error",message:"Unable to process the audio from this video.",suggestions:["Try a different YouTube video","Check if the video has audio","Ensure your browser supports audio playback"]},video:{title:"Video Player Error",message:"Unable to load or play the video.",suggestions:["Check if the YouTube URL is valid","Ensure the video is public","Try refreshing the page"]},timeout:{title:"Request Timeout",message:"The operation is taking too long to complete.",suggestions:["Check your internet speed","Try a shorter video","Wait and try again later"]},quota:{title:"Service Limit Reached",message:"The service has reached its usage limit.",suggestions:["Wait a few minutes and try again","Try during off-peak hours","Contact support if this persists"]},storage:{title:"Storage Error",message:"Unable to store or retrieve data locally.",suggestions:["Clear your browser cache","Free up storage space","Try using a private/incognito window"]},permission:{title:"Permission Error",message:"Access to the requested resource is denied.",suggestions:["Check if the video is public","Try a different video","Contact the video owner if needed"]},system:{title:"System Error",message:"An unexpected error occurred.",suggestions:["Try refreshing the page","Clear your browser cache","Try a different browser if the issue persists"]}};return{...n[t.category]||n.system,classification:t,canRetry:t.retryable&&!e.attempts,technical:null}}sleep(e){return new Promise(t=>setTimeout(t,e))}reset(){this.errorHistory.length=0,this.retryAttempts.clear()}cleanup(){this.reset()}};const qP=new class{constructor(){this.audioContext=null,this.supportedFormats=["audio/mpeg","audio/mp3","audio/wav","audio/wave","audio/ogg","audio/webm","audio/mp4","audio/m4a","audio/flac"],this.processFile=this.processFile.bind(this),this.processURL=this.processURL.bind(this),this.cleanup=this.cleanup.bind(this)}async processFile(e,t=null){const n=xA.startMeasurement("audio_file_processing");try{this.validateFile(e),t&&t({status:"reading",progress:10});const r=await this.readFileAsArrayBuffer(e);t&&t({status:"decoding",progress:30}),this.audioContext=new(window.AudioContext||window.webkitAudioContext);const i=await this.audioContext.decodeAudioData(r);t&&t({status:"generating_waveform",progress:70});const s=await BP.generateWaveform(i,{samples:400,normalize:!0,onProgress:e=>{if(t){const n=70+.25*e.progress;t({status:"generating_waveform",progress:Math.round(n)})}}}),a=`uploaded_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;SA.registerBuffer(a,i,{priority:SA.config.priorityLevels.HIGH,tags:["uploaded","user_file"],source:"file_upload"});const o={audioBuffer:i,waveformData:s.data,metadata:{filename:e.name,size:e.size,type:e.type,duration:i.duration,sampleRate:i.sampleRate,channels:i.numberOfChannels,bufferId:a}};return t&&t({status:"complete",progress:100}),n({success:!0,filename:e.name,duration:i.duration,size:e.size}),o}catch(r){throw n({error:r.message,filename:e?.name}),new Error(`File processing failed: ${r.message}`)}}async processURL(e,t=null){const n=xA.startMeasurement("audio_url_processing");try{t&&t({status:"downloading",progress:10});const r=await fetch(e);if(!r.ok)throw new Error(`Failed to fetch audio: ${r.status}`);const i=await r.arrayBuffer();t&&t({status:"decoding",progress:50}),this.audioContext=new(window.AudioContext||window.webkitAudioContext);const s=await this.audioContext.decodeAudioData(i);t&&t({status:"generating_waveform",progress:80});const a=await BP.generateWaveform(s,{samples:400,normalize:!0}),o=`url_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;SA.registerBuffer(o,s,{priority:SA.config.priorityLevels.MEDIUM,tags:["url","remote"],source:"url_download"});const l={audioBuffer:s,waveformData:a.data,metadata:{url:e,duration:s.duration,sampleRate:s.sampleRate,channels:s.numberOfChannels,bufferId:o}};return t&&t({status:"complete",progress:100}),n({success:!0,url:e,duration:s.duration}),l}catch(r){throw n({error:r.message,url:e}),new Error(`URL processing failed: ${r.message}`)}}validateFile(e){if(!e)throw new Error("No file provided");if(!this.supportedFormats.includes(e.type))throw new Error(`Unsupported file type: ${e.type}. Supported formats: ${this.supportedFormats.join(", ")}`);if(e.size>104857600)throw new Error(`File too large: ${Math.round(e.size/1024/1024)}MB. Maximum size: 100MB`)}readFileAsArrayBuffer(e){return new Promise((t,n)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=()=>n(new Error("Failed to read file")),r.readAsArrayBuffer(e)})}getSupportedFormats(){return[...this.supportedFormats]}isFormatSupported(e){return this.supportedFormats.includes(e)}cleanup(){this.audioContext&&"closed"!==this.audioContext.state&&(this.audioContext.close(),this.audioContext=null)}};const KP=new class{constructor(){this.audioContext=null,this.downloadCache=new Map,this.progressCallbacks=new Map,this.abortControllers=new Map,this.config={maxRetries:3,baseRetryDelay:1e3,maxRetryDelay:1e4,downloadTimeout:6e4,functionUrl:"https://us-central1-chop-stop.cloudfunctions.net/getAudioStream"},this.downloadAndProcessAudio=this.downloadAndProcessAudio.bind(this),this.getAudioBuffer=this.getAudioBuffer.bind(this),this.clearCache=this.clearCache.bind(this),this.cleanup=this.cleanup.bind(this)}getAudioContext(){return this.audioContext&&"closed"!==this.audioContext.state||(this.audioContext=new(window.AudioContext||window.webkitAudioContext)),"suspended"===this.audioContext.state&&this.audioContext.resume().catch(e=>{}),this.audioContext}async downloadAndProcessAudio(e,t=null){if(e instanceof File)return await this.processAudioFile(e,t);if("string"==typeof e){if(this.isDirectAudioURL(e))return await this.processDirectAudioURL(e,t);if(this.isYouTubeURL(e))return await this.processYouTubeURL(e,t);throw new Error("Unsupported URL format")}throw new Error("Invalid source type")}async processAudioFile(e,t=null){const n=xA.startMeasurement("audio_file_upload");try{const r=await qP.processFile(e,t);return n({success:!0,filename:e.name}),r}catch(r){throw n({error:r.message}),r}}async processDirectAudioURL(e,t=null){const n=xA.startMeasurement("direct_audio_url");try{const r=await qP.processURL(e,t);return n({success:!0,url:e}),r}catch(r){throw n({error:r.message}),r}}async processYouTubeURL(e,t=null){const n=xA.startMeasurement("audio_download");if(!e)throw new Error("YouTube URL is required");const r=this.getCacheKey(e);if(this.downloadCache.has(r)){const e=this.downloadCache.get(r);return t&&t({status:"ready",progress:100}),n({cached:!0,cacheKey:r}),e}t&&this.progressCallbacks.set(r,t);const i=`audio_download_${r}`;try{const s=await WP.executeWithRetry(()=>this.performDownload(e,r,t),i,{maxRetries:this.config.maxRetries,onProgress:e=>{t&&t({status:"starting"===e.status?"downloading":"retrying"===e.status||"waiting_retry"===e.status?"retrying":"downloading",progress:0,attempt:e.attempt,maxAttempts:e.maxAttempts,retryDelay:e.delay,error:e.error,operationId:e.operationId})},onRetry:e=>{},context:{youtubeUrl:e,cacheKey:r}});return this.downloadCache.set(r,s),SA.registerBuffer(r,s.audioBuffer,{priority:SA.config.priorityLevels.HIGH,source:"audio_download",tags:["youtube","audio"]}),t&&t({status:"ready",progress:100}),n({success:!0,cacheKey:r,audioSize:this.estimateAudioSize(s.audioBuffer),waveformSamples:s.waveformData?.length||0}),s}catch(s){const r=new Error(s.message);throw r.originalError=s.originalError||s,r.classification=s.classification,r.attempts=s.attempts,r.operationId=i,r.youtubeUrl=e,t&&t({status:"error",progress:0,error:r.message,classification:r.classification}),n({error:r.message,classification:r.classification,attempts:r.attempts}),r}}async performDownload(e,t,n){const r=new AbortController;this.abortControllers.set(t,r);try{const t=setTimeout(()=>{r.abort()},this.config.downloadTimeout),i=`${this.config.functionUrl}?url=${encodeURIComponent(e)}`,s=await fetch(i,{method:"GET",signal:r.signal});if(clearTimeout(t),!s.ok){let e=`Server responded with ${s.status}`;try{e=(await s.json()).message||e}catch{e=await s.text()||e}throw new Error(e)}const a=s.headers.get("content-length"),o=s.body.getReader(),l=[];let c=0;for(;;){const{done:e,value:t}=await o.read();if(e)break;if(l.push(t),c+=t.length,a&&n){const e=Math.round(c/parseInt(a)*70);n({status:"downloading",progress:Math.min(e,70),bytesReceived:c,totalBytes:parseInt(a)})}}const u=new ArrayBuffer(c),d=new Uint8Array(u);let h=0;for(const e of l)d.set(e,h),h+=e.length;n&&n({status:"processing",progress:75});const f=this.getAudioContext(),p=await f.decodeAudioData(u);n&&n({status:"generating_waveform",progress:90});return{audioBuffer:p,waveformData:this.generateWaveformData(p)}}finally{this.abortControllers.delete(t)}}async generateWaveformData(e,t=400){const n=xA.startMeasurement("waveform_generation");try{const r=await BP.generateWaveform(e,{samples:t,normalize:!0,progressive:this.estimateAudioSize(e)>52428800});return n({samples:t,audioSize:this.estimateAudioSize(e),progressive:r.progressive}),r.data}catch(r){return n({error:r.message}),this.generateSimpleWaveform(e,t)}}generateSimpleWaveform(e,t=400){const n=e.getChannelData(0),r=Math.floor(n.length/t),i=[];for(let o=0;o<t;o++){const e=r*o;let t=0;for(let i=0;i<r;i++)t+=Math.abs(n[e+i]);i.push(t/r)}const s=Math.max(...i),a=s>0?Math.pow(s,-1):1;return i.map(e=>e*a)}getAudioBuffer(e){const t=this.getCacheKey(e);return this.downloadCache.get(t)||null}isCached(e){const t=this.getCacheKey(e);return this.downloadCache.has(t)}getDownloadProgress(e){const t=this.getCacheKey(e);return this.progressCallbacks.get(t)?{hasProgress:!0}:null}cancelDownload(e){const t=this.getCacheKey(e),n=this.abortControllers.get(t);n&&(n.abort(),this.abortControllers.delete(t)),this.progressCallbacks.delete(t)}clearCache(){for(const[e,t]of this.abortControllers)t.abort();for(const e of this.downloadCache.keys())SA.unregisterBuffer(e);this.downloadCache.clear(),this.progressCallbacks.clear(),this.abortControllers.clear()}cleanup(){this.clearCache(),this.audioContext&&"closed"!==this.audioContext.state&&(this.audioContext.close().catch(e=>{}),this.audioContext=null)}calculateRetryDelay(e){const t=Math.min(this.config.baseRetryDelay*Math.pow(2,e),this.config.maxRetryDelay),n=.1*Math.random()*t;return Math.floor(t+n)}isDirectAudioURL(e){const t=e.toLowerCase();return[".mp3",".wav",".ogg",".m4a",".flac",".webm"].some(e=>t.includes(e))||e.includes("audio/")||e.includes("soundcloud.com")||e.includes("bandcamp.com")}isYouTubeURL(e){return e.includes("youtube.com")||e.includes("youtu.be")}getCacheKey(e){if("string"==typeof e){const t=e.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/);return t?t[1]:e}return e instanceof File?`file_${e.name}_${e.size}_${e.lastModified}`:e.toString()}sleep(e){return new Promise(t=>setTimeout(t,e))}getStats(){return{cachedItems:this.downloadCache.size,activeDownloads:this.abortControllers.size,audioContextState:this.audioContext?.state||"not_initialized",memoryUsage:this.estimateMemoryUsage()}}estimateMemoryUsage(){let e=0;for(const[,t]of this.downloadCache)t.audioBuffer&&(e+=this.estimateAudioSize(t.audioBuffer));return{bytes:e,mb:Math.round(e/1048576*100)/100}}estimateAudioSize(e){return e.numberOfChannels*e.length*4}};function GP(){const e=function(e){const[t,n]=f.useState(null),[r,i]=f.useState(!1),[s,a]=f.useState(0),[o,l]=f.useState(null),c=f.useRef(e),u=f.useCallback(async(e,t={})=>{const{maxRetries:r=3,onProgress:s=null,onRetry:o=null,context:u={}}=t;n(null),i(!1),a(0),l(Date.now());try{const t=await WP.executeWithRetry(e,c.current,{maxRetries:r,onProgress:e=>{"retrying"===e.status||"waiting_retry"===e.status?(i(!0),a(e.attempt-1)):"starting"===e.status&&i(!1),s&&s(e)},onRetry:e=>{a(e.attempt-1),l(Date.now()),o&&o(e)},context:u});return i(!1),n(null),t}catch(d){throw i(!1),n(d),d}},[]),d=f.useCallback(async(e,t={})=>{if(!e)throw new Error("Operation function is required for retry");return u(e,t)},[u]),h=f.useCallback(()=>{n(null),i(!1),a(0),l(null)},[]),p=f.useCallback(e=>WP.shouldRetry(e,c.current),[]),m=f.useCallback(e=>WP.getUserFriendlyError(e||e),[]),g=f.useCallback(e=>WP.classifyError(e||e),[]);return{error:t,isRetrying:r,retryCount:s,lastAttempt:o,executeWithRetry:u,retry:d,reset:h,shouldRetry:p,getUserFriendlyError:m,classifyError:g,getStats:()=>WP.getErrorStats()}}("audio_processing"),t=f.useCallback(async(t,n={})=>e.executeWithRetry(t,{...n,context:{type:"audio",...n.context}}),[e]),n=f.useCallback(t=>{const n=e.getUserFriendlyError(t);return"audio"===e.classifyError(t).category?{...n,suggestions:["Check if the video has audio content","Try a different YouTube video","Ensure your browser supports Web Audio API",...n.suggestions]}:n},[e]);return{...e,executeAudioOperation:t,getAudioErrorGuidance:n}}"undefined"!=typeof window&&window.addEventListener("beforeunload",()=>{KP.cleanup()});p.Component;class YP extends p.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,retryCount:0,isRetrying:!1,videoUrl:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t,hasError:!0,videoUrl:this.props.youtubeUrl||null}),this.props.onError&&this.props.onError(e,t)}handleRetry=async()=>{this.setState({isRetrying:!0,retryCount:this.state.retryCount+1});try{this.props.onRetry&&await this.props.onRetry(),setTimeout(()=>{this.setState({hasError:!1,error:null,errorInfo:null,isRetrying:!1,videoUrl:null})},100)}catch(e){this.setState({isRetrying:!1,error:e})}};handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null,retryCount:0,isRetrying:!1,videoUrl:null}),this.props.onReset&&this.props.onReset()};getErrorType(e){const t=e?.message?.toLowerCase()||"";return t.includes("youtube")||t.includes("player")?"youtube":t.includes("network")||t.includes("load")||t.includes("fetch")?"network":t.includes("embed")||t.includes("iframe")?"embed":t.includes("api")||t.includes("script")?"api":t.includes("unavailable")||t.includes("private")||t.includes("restricted")?"unavailable":"unknown"}getErrorDetails(e,t,n){const r=navigator.onLine;switch(e){case"youtube":return{icon:Ft,title:"YouTube Player Error",description:"The YouTube player failed to initialize or load the video.",suggestions:["Check if the YouTube URL is valid","Ensure the video is public and available","Try refreshing the page","Check if YouTube is accessible in your region"],canRetry:!0,severity:"error",showUrl:!0};case"network":return{icon:r?Ht:Bt,title:"Network Connection Error",description:r?"Unable to load the video player. This might be a temporary connection issue.":"You appear to be offline. Video playback requires an internet connection.",suggestions:[r?"Check your internet connection":"Connect to the internet","Try refreshing the page","Check if YouTube is accessible","Wait a moment and try again"],canRetry:!0,severity:"warning",showUrl:!1};case"embed":return{icon:Ut,title:"Video Embed Error",description:"Failed to embed the YouTube video. The video might not allow embedding.",suggestions:["Try a different YouTube video","Check if the video allows embedding","Ensure the video is public","Try copying the URL directly from YouTube"],canRetry:!0,severity:"warning",showUrl:!0};case"api":return{icon:jt,title:"YouTube API Error",description:"Failed to load the YouTube player API. This might be due to browser restrictions.",suggestions:["Check if JavaScript is enabled","Disable ad blockers temporarily","Try a different browser","Clear browser cache and cookies"],canRetry:!0,severity:"error",showUrl:!1};case"unavailable":return{icon:Ft,title:"Video Unavailable",description:"This video cannot be played. It might be private, deleted, or restricted.",suggestions:["Try a different public YouTube video","Check if the video exists and is public","Ensure the video is available in your region","Contact the video owner if it's private"],canRetry:!1,severity:"error",showUrl:!0};default:return{icon:jt,title:"Video Player Error",description:t?.message||"An unexpected error occurred with the video player.",suggestions:["Try refreshing the page","Check your browser compatibility","Clear browser cache","Try a different browser if the issue persists"],canRetry:!0,severity:"error",showUrl:!0}}}extractVideoId(e){if(!e)return null;const t=e.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/);return t?t[1]:null}render(){if(!this.state.hasError)return this.props.children;const e=this.getErrorType(this.state.error),t=this.getErrorDetails(e,this.state.error,this.state.videoUrl),n=t.icon,r=this.extractVideoId(this.state.videoUrl);return l.jsx("div",{className:"bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl shadow-lg p-6",children:l.jsxs(OP,{className:`border-${"error"===t.severity?"red":"yellow"}-400 bg-${"error"===t.severity?"red":"yellow"}-400/10`,children:[l.jsx(n,{className:`h-4 w-4 text-${"error"===t.severity?"red":"yellow"}-400`}),l.jsx(FP,{className:`text-${"error"===t.severity?"red":"yellow"}-200`,children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold",children:t.title}),l.jsx("p",{className:"text-sm mt-1",children:t.description})]}),t.showUrl&&this.state.videoUrl&&l.jsxs("div",{className:"bg-black/20 rounded p-2 text-xs",children:[l.jsx("span",{className:"text-white/60",children:"Video URL: "}),l.jsx("span",{className:"text-white/80 break-all",children:this.state.videoUrl}),r&&l.jsxs("div",{className:"mt-1",children:[l.jsx("span",{className:"text-white/60",children:"Video ID: "}),l.jsx("span",{className:"text-white/80",children:r})]})]}),t.suggestions.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium mb-2",children:"Troubleshooting steps:"}),l.jsx("ul",{className:"text-sm space-y-1 list-disc list-inside ml-2",children:t.suggestions.map((e,t)=>l.jsx("li",{children:e},t))})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[t.canRetry&&l.jsx(tr,{onClick:this.handleRetry,disabled:this.state.isRetrying,size:"sm",className:"bg-cyan-500 hover:bg-cyan-600 text-black",children:this.state.isRetrying?l.jsxs(l.Fragment,{children:[l.jsx(Nt,{className:"w-3 h-3 mr-1 animate-spin"}),"Retrying..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Nt,{className:"w-3 h-3 mr-1"}),"Retry Video ",this.state.retryCount>0&&`(${this.state.retryCount+1})`]})}),l.jsx(tr,{onClick:this.handleReset,variant:"outline",size:"sm",className:"border-white/20 text-white/80 hover:bg-white/10",children:"Reset Player"}),this.state.videoUrl&&l.jsxs(tr,{onClick:()=>window.open(this.state.videoUrl,"_blank"),variant:"outline",size:"sm",className:"border-white/20 text-white/80 hover:bg-white/10",children:[l.jsx(Ut,{className:"w-3 h-3 mr-1"}),"Open in YouTube"]})]}),!1]})})]})})}}class QP extends p.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,retryCount:0,isRetrying:!1,lastFailedAction:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t,hasError:!0,lastFailedAction:this.props.lastAction||"unknown"}),this.props.onError&&this.props.onError(e,t)}handleRetry=async()=>{this.setState({isRetrying:!0,retryCount:this.state.retryCount+1});try{this.props.onRetry&&await this.props.onRetry(),setTimeout(()=>{this.setState({hasError:!1,error:null,errorInfo:null,isRetrying:!1,lastFailedAction:null})},100)}catch(e){this.setState({isRetrying:!1,error:e})}};handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null,retryCount:0,isRetrying:!1,lastFailedAction:null}),this.props.onReset&&this.props.onReset()};getErrorType(e){const t=e?.message?.toLowerCase()||"";return t.includes("audiocontext")||t.includes("suspended")?"audiocontext":t.includes("buffer")||t.includes("decode")?"buffer":t.includes("playback")||t.includes("play")?"playback":t.includes("timestamp")||t.includes("time")?"timestamp":t.includes("sample")||t.includes("pad")?"sample":"unknown"}getErrorDetails(e,t,n){switch(e){case"audiocontext":return{icon:zt,title:"Audio Context Error",description:"The browser's audio system is not responding. This usually happens when audio is blocked or suspended.",suggestions:["Click anywhere on the page to activate audio","Check if audio is muted in your browser","Try refreshing the page","Ensure your browser supports Web Audio API"],canRetry:!0,severity:"warning",action:"Click to activate audio"};case"buffer":return{icon:jt,title:"Audio Buffer Error",description:"There's an issue with the audio data. The audio buffer might be corrupted or invalid.",suggestions:["Try reloading the audio","Check if the original video is still available","Clear the audio cache and try again"],canRetry:!0,severity:"error",action:"Reload audio"};case"playback":return{icon:It,title:"Playback Error",description:`Failed to ${n||"play"} the sample. This might be due to audio system conflicts.`,suggestions:["Stop other audio and try again","Check your system audio settings","Try a different sample","Refresh the page if the issue persists"],canRetry:!0,severity:"warning",action:"Try playback again"};case"timestamp":return{icon:jt,title:"Timestamp Error",description:"Invalid sample timing. The start or end time might be outside the audio duration.",suggestions:["Check that timestamps are within the audio length","Ensure start time is before end time","Try creating the sample again","Reload the audio if timestamps seem correct"],canRetry:!0,severity:"warning",action:"Fix timestamps"};case"sample":return{icon:jt,title:"Sample Creation Error",description:"Failed to create or manage the sample. There might be an issue with the sample data.",suggestions:["Try creating the sample at a different time","Check if the audio is fully loaded","Clear existing samples and try again","Ensure the video is playing when creating samples"],canRetry:!0,severity:"error",action:"Create sample again"};default:return{icon:jt,title:"Sample System Error",description:t?.message||"An unexpected error occurred in the sample playback system.",suggestions:["Try the action again","Refresh the page","Clear browser cache if the issue persists","Try a different browser"],canRetry:!0,severity:"error",action:"Try again"}}}render(){if(!this.state.hasError)return this.props.children;const e=this.getErrorType(this.state.error),t=this.getErrorDetails(e,this.state.error,this.state.lastFailedAction),n=t.icon;return l.jsx("div",{className:"p-4 space-y-3",children:l.jsxs(OP,{className:`border-${"error"===t.severity?"red":"yellow"}-400 bg-${"error"===t.severity?"red":"yellow"}-400/10`,children:[l.jsx(n,{className:`h-4 w-4 text-${"error"===t.severity?"red":"yellow"}-400`}),l.jsx(FP,{className:`text-${"error"===t.severity?"red":"yellow"}-200`,children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-sm",children:t.title}),l.jsx("p",{className:"text-xs mt-1",children:t.description})]}),t.suggestions.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium mb-1",children:"Quick fixes:"}),l.jsx("ul",{className:"text-xs space-y-0.5 list-disc list-inside ml-2",children:t.suggestions.slice(0,2).map((e,t)=>l.jsx("li",{children:e},t))})]}),l.jsxs("div",{className:"flex gap-2 pt-1",children:[t.canRetry&&l.jsx(tr,{onClick:this.handleRetry,disabled:this.state.isRetrying,size:"sm",className:"bg-cyan-500 hover:bg-cyan-600 text-black text-xs h-7",children:this.state.isRetrying?l.jsxs(l.Fragment,{children:[l.jsx(Nt,{className:"w-3 h-3 mr-1 animate-spin"}),"Retrying..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Nt,{className:"w-3 h-3 mr-1"}),t.action]})}),l.jsx(tr,{onClick:this.handleReset,variant:"outline",size:"sm",className:"border-white/20 text-white/80 hover:bg-white/10 text-xs h-7",children:"Dismiss"})]})]})})]})})}}const JP=({error:e,onRetry:t,onReset:n,youtubeUrl:r,isRetrying:i=!1,retryCount:s=0})=>{const a=()=>{r&&window.open(r,"_blank")},o=()=>{n&&n()},c=(e=>{const t=e?.message?.toLowerCase()||"";return t.includes("network")||t.includes("timeout")?"warning":t.includes("unavailable")||t.includes("private")?"error":"warning"})(e),u=(e=>{const n=e?.message?.toLowerCase()||"";return n.includes("network")||n.includes("timeout")?[{icon:Nt,title:"Check Connection",description:"Verify your internet connection and try again",action:t,primary:!0},{icon:ht,title:"Open in YouTube",description:"Listen to the audio directly on YouTube",action:a,primary:!1}]:n.includes("unavailable")||n.includes("private")?[{icon:Ot,title:"Try Different Video",description:"Use a public YouTube video that allows audio extraction",action:o,primary:!0},{icon:ht,title:"Open Original",description:"Check if the video exists and is accessible",action:a,primary:!1}]:[{icon:Nt,title:"Try Again",description:"Retry the audio processing",action:t,primary:!0},{icon:Ot,title:"Different Video",description:"Try with a different YouTube video",action:o,primary:!1}]})(e);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs(OP,{className:`border-${"error"===c?"red":"yellow"}-400 bg-${"error"===c?"red":"yellow"}-400/10`,children:[l.jsx(Vt,{className:`h-4 w-4 text-${"error"===c?"red":"yellow"}-400`}),l.jsx(FP,{className:`text-${"error"===c?"red":"yellow"}-200`,children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold",children:"Audio Processing Failed"}),l.jsx("p",{className:"text-sm mt-1",children:e?.message||"Unable to process audio from this YouTube video."})]}),s>0&&l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"text-white/60",children:"Retry attempts: "}),l.jsx("span",{className:"text-white/80",children:s})]})]})})]}),i&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Nt,{className:"w-4 h-4 animate-spin text-cyan-400"}),l.jsx("span",{className:"text-sm text-cyan-200",children:"Retrying audio processing..."})]}),l.jsx(VP,{value:void 0,className:"h-2 bg-white/10"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map((e,t)=>{const n=e.icon;return l.jsx("div",{className:"bg-black/20 backdrop-blur-lg border border-white/20 rounded-xl p-4 "+(e.primary?"ring-2 ring-cyan-500/30":""),children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg "+(e.primary?"bg-cyan-500/20 text-cyan-400":"bg-white/10 text-white/60"),children:l.jsx(n,{className:"w-4 h-4"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h5",{className:"font-medium text-white mb-1",children:e.title}),l.jsx("p",{className:"text-sm text-white/60 mb-3",children:e.description}),l.jsx(tr,{onClick:e.action,disabled:i,size:"sm",className:e.primary?"bg-cyan-500 hover:bg-cyan-600 text-black":"bg-white/10 hover:bg-white/20 text-white border-white/20",children:e.title})]})]})},t)})}),l.jsxs("div",{className:"bg-black/10 backdrop-blur-lg border border-white/10 rounded-xl p-4",children:[l.jsxs("h5",{className:"font-medium text-white mb-3 flex items-center gap-2",children:[l.jsx(jt,{className:"w-4 h-4 text-yellow-400"}),"Troubleshooting Tips"]}),l.jsxs("ul",{className:"text-sm text-white/70 space-y-2 list-disc list-inside",children:[l.jsx("li",{children:"Ensure the YouTube video is public and has audio content"}),l.jsx("li",{children:"Check your internet connection stability"}),l.jsx("li",{children:"Try videos that are shorter than 10 minutes for better performance"}),l.jsx("li",{children:"Clear your browser cache if you continue experiencing issues"}),l.jsx("li",{children:"Some videos may have restrictions that prevent audio extraction"})]})]}),r&&l.jsxs("div",{className:"bg-black/10 backdrop-blur-lg border border-white/10 rounded-xl p-4",children:[l.jsx("h5",{className:"font-medium text-white mb-2",children:"Current Video"}),l.jsx("div",{className:"text-sm text-white/60 break-all",children:r}),l.jsx("div",{className:"flex gap-2 mt-3",children:l.jsxs(tr,{onClick:a,variant:"outline",size:"sm",className:"border-white/20 text-white/80 hover:bg-white/10",children:[l.jsx(ht,{className:"w-3 h-3 mr-1"}),"Open in YouTube"]})})]})]})},XP=["#06b6d4","#3b82f6","#8b5cf6","#d946ef","#059669","#10b981","#65a30d","#ca8a04","#f97316","#ef4444","#ec4899","#a855f7","#22c55e","#eab308","#f43f5e","#6366f1"];function ZP(){const[e,t]=f.useState("https://www.youtube.com/watch?v=yp7-wNhGBDY&t"),[n,r]=f.useState(""),[i,s]=f.useState([]),[a,o]=f.useState("A"),[c,u]=f.useState(null),[d,h]=f.useState({currentTime:0,duration:180,isPlaying:!1}),[p,m]=f.useState(1),[g,v]=f.useState(null),[y,b]=f.useState(null),[w,x]=f.useState(navigator.onLine),[S,k]=f.useState(!1),[E,C]=f.useState(!1),[T,_]=f.useState(""),[I,A]=f.useState(null),[N,P]=f.useState(null),[R,D]=f.useState(!1),{waveformData:M,audioBuffer:L,analysisStatus:j,progress:O,error:F,downloadStats:U,retry:z}=function(e){const[t,n]=f.useState("idle"),[r,i]=f.useState(null),[s,a]=f.useState(null),[o,l]=f.useState(0),[c,u]=f.useState(null),[d,h]=f.useState(null),p=f.useRef(null),m=f.useRef(!0),g=f.useCallback(t=>{if(m.current&&p.current===e)switch(l(t.progress||0),t.status){case"downloading":n("fetching"),h({attempt:t.attempt,maxAttempts:t.maxAttempts,bytesReceived:t.bytesReceived,totalBytes:t.totalBytes});break;case"processing":case"generating_waveform":n("decoding");break;case"retrying":n("fetching"),h({attempt:t.attempt,maxAttempts:t.maxAttempts,retryDelay:t.retryDelay,lastError:t.error});break;case"ready":n("ready"),h(null);break;case"error":n(`error: ${t.error}`),u(t.error),h(null)}},[e]),v=f.useCallback(async()=>{e&&(u(null),n("idle"),l(0),h(null),KP.cancelDownload(e),y())},[e]),y=f.useCallback(async()=>{if(!e||!m.current)return;if(p.current=e,u(null),i(null),a(null),l(0),h(null),e.includes("youtube.com")||e.includes("youtu.be"))return n("ready"),void l(100);const t=KP.getAudioBuffer(e);if(t)return a(t.audioBuffer),i(t.waveformData),n("ready"),void l(100);try{n("fetching");const t=await KP.downloadAndProcessAudio(e,g);m.current&&p.current===e&&(a(t.audioBuffer),i(t.waveformData),n("ready"),l(100),u(null),h(null))}catch(r){m.current&&p.current===e&&(n(`error: ${r.message}`),u(r.message),i(null),a(null),l(0),h(null))}},[e,g]);return f.useEffect(()=>(m.current=!0,e?(y(),()=>{m.current=!1,p.current&&KP.cancelDownload(p.current)}):(n("idle"),i(null),a(null),l(0),u(null),h(null),void(p.current=null))),[e,y]),f.useEffect(()=>()=>{m.current=!1,p.current&&KP.cancelDownload(p.current)},[]),{waveformData:r,audioBuffer:s,analysisStatus:t,progress:o,error:c,downloadStats:d,retry:v,serviceStats:KP.getStats(),isCached:!!e&&KP.isCached(e),cancelDownload:()=>{e&&KP.cancelDownload(e)}}}(n),V=GP(),B=i.find(e=>e.padId===c);f.useEffect(()=>{},[M,j,n,N]),f.useEffect(()=>{const e=()=>x(!1);return window.addEventListener("online",()=>x(!0)),window.addEventListener("offline",e),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e)}},[]),f.useEffect(()=>{if(!n&&e&&w)try{const t=new URL(e),n=t.searchParams.get("v")||t.pathname.split("/").pop();if(n&&11===n.length){r(`https://www.youtube.com/watch?v=${n}`)}}catch(t){}},[n,e,w]);const H=f.useCallback(e=>{v(e);try{if(e&&e.getVideoData){const t=e.getVideoData();_(t.title||"Unknown Video")}}catch(t){}setTimeout(()=>{const e=document.querySelector("video");e&&(A(e),D(!0))},1e3)},[]),$=f.useCallback((e,t)=>{c&&s(n=>{const r=n.findIndex(e=>e.padId===c);if(r>-1){const i=[...n];return i[r]={...i[r],[e]:t},i}{const r=parseInt(c.slice(1),10),i="startTime"===e?t:d.currentTime,s="endTime"===e?t:Math.min(d.currentTime+2,d.duration);return[...n,{padId:c,startTime:i,endTime:s,color:XP[r%XP.length]}]}})},[c,d.currentTime,d.duration]),W=f.useCallback((e,t,n)=>{const r=parseInt(e.slice(1),10),i={padId:e,startTime:t,endTime:n,color:XP[r%XP.length]};s(t=>{const n=t.findIndex(t=>t.padId===e);if(n>-1){const e=[...t];return e[n]=i,e}return[...t,i]})},[]),q=f.useCallback(e=>{s(t=>{const n=t.findIndex(t=>t.padId===e.padId);if(n>-1){const r=[...t];return r[n]=e,r}return t})},[]),K=f.useCallback(e=>{s(t=>t.filter(t=>t.padId!==e)),c===e&&u(null)},[c]),G=e=>e.includes("network")||e.includes("fetch")?"Network error: Unable to load video. Check your internet connection.":e.includes("timeout")?"Loading timeout: The video is taking too long to load.":e.includes("unavailable")||e.includes("private")?"Video unavailable: This video may be private, deleted, or restricted.":e.includes("quota")||e.includes("limit")?"Service limit reached: Please try again later.":`Video loading failed: ${e}`,Y=e=>e.includes("network")||e.includes("fetch")?"Check your internet connection and try again.":e.includes("timeout")?"Try refreshing the page or check your connection speed.":e.includes("unavailable")||e.includes("private")?"Try a different public YouTube video.":e.includes("quota")||e.includes("limit")?"Wait a few minutes and try again.":"Try refreshing the page or using a different video.",Q=()=>{k(!1),z&&z()},J=()=>{k(!1),r(""),s([])},X=f.useCallback((e,t)=>{g&&(g.seekTo(e,!0),t&&u(t.padId))},[g]),Z=f.useCallback(()=>{g&&(d.isPlaying?g.pauseVideo():g.playVideo())},[g,d.isPlaying]),ee=f.useCallback(()=>({youtubeUrl:n,chops:i,activeBank:a,playerState:d}),[n,i,a,d]),te=f.useCallback(e=>{t(e.youtubeUrl),r(e.youtubeUrl),s(e.chops||[]),o(e.activeBank||"A"),u(null)},[]);f.useCallback(()=>{t(""),r(""),s([]),o("A"),u(null),C(!1),P(null),D(!1)},[]);const ne=f.useCallback(e=>{P(e)},[]),re=f.useCallback(e=>{},[]),ie=f.useCallback(e=>{},[]),se=(()=>{const e={message:"",type:"info",showProgress:!1,showRetry:!1,actionable:null};switch(j){case"idle":return{...e,message:"Enter a YouTube URL to load video.",type:"info"};case"fetching":case"decoding":return{...e,message:"Loading video...",type:"loading",showProgress:!1};case"ready":const t=N?"Audio captured! Create samples by pressing keys or use capture controls.":"Video ready. Use capture controls or press keys to create samples!";return{...e,message:t,type:"success"};default:if(j.startsWith("error:")){const t=j.substring(6);return{...e,message:G(t),type:"error",showRetry:!0,actionable:Y(t)}}return{...e,message:"Loading...",type:"loading"}}})();return l.jsxs("div",{className:"space-y-6",children:[l.jsxs(bA.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl shadow-lg p-6",children:[l.jsxs("form",{onSubmit:t=>{if(t.preventDefault(),b(null),w)if(e.trim())try{const t=new URL(e),n=t.searchParams.get("v")||t.pathname.split("/").pop();if(!n||11!==n.length)throw new Error("Invalid YouTube URL. Please make sure you're using a valid YouTube video link.");r(`https://www.youtube.com/watch?v=${n}`),s([]),P(null),D(!1),A(null)}catch(n){b(n.message||"Invalid YouTube URL format. Please check the URL and try again.")}else b("Please enter a YouTube URL.");else b("You're offline. Please check your internet connection and try again.")},className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wt,{className:"w-6 h-6 text-red-500 flex-shrink-0"}),!w&&l.jsx(Bt,{className:"w-4 h-4 text-red-400"}),w&&l.jsx(Ht,{className:"w-4 h-4 text-green-400"})]}),l.jsx(HA,{type:"text",placeholder:"Paste a YouTube URL to begin...",value:e,onPaste:e=>{const n=e.clipboardData.getData("text");t(n)},onChange:e=>{t(e.target.value),b(null)},className:"bg-white/10 border-white/20 placeholder-gray-400 "+(y?"border-red-400 focus:border-red-400":""),disabled:!w}),l.jsx(tr,{type:"submit",className:"bg-cyan-500 hover:bg-cyan-600 text-black font-bold",disabled:!w||"fetching"===j||"decoding"===j,children:"fetching"===j||"decoding"===j?l.jsxs(l.Fragment,{children:[l.jsx(xt,{className:"w-4 h-4 mr-2 animate-spin"}),"Loading"]}):"Load Video"}),l.jsxs(tr,{onClick:()=>C(!0),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[l.jsx(ft,{className:"w-4 h-4 mr-2"}),"Sessions"]})]}),l.jsx(Mx,{children:y&&l.jsx(bA.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4",children:l.jsxs(OP,{className:"border-red-400 bg-red-400/10",children:[l.jsx(ot,{className:"h-4 w-4 text-red-400"}),l.jsx(FP,{className:"text-red-200",children:y})]})})}),l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:["loading"===se.type&&l.jsx(xt,{className:"w-4 h-4 animate-spin text-cyan-400"}),"success"===se.type&&l.jsx(lt,{className:"w-4 h-4 text-green-400"}),"error"===se.type&&l.jsx(ot,{className:"w-4 h-4 text-red-400"}),l.jsx("span",{className:"text-sm font-medium "+("error"===se.type?"text-red-200":"success"===se.type?"text-green-200":"loading"===se.type?"text-cyan-200":"text-white/60"),children:se.message})]}),se.showRetry&&l.jsxs(tr,{onClick:Q,variant:"outline",size:"sm",className:"border-white/20 text-white/80 hover:bg-white/10",children:[l.jsx(Nt,{className:"w-3 h-3 mr-1"}),"Retry"]})]}),se.showProgress&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(VP,{value:O,className:"h-2 bg-white/10"}),l.jsxs("div",{className:"flex justify-between text-xs text-white/50",children:[l.jsxs("span",{children:[Math.round(O),"% complete"]}),U?.bytesReceived&&U?.totalBytes&&l.jsxs("span",{children:[Math.round(U.bytesReceived/1024/1024),"MB /",Math.round(U.totalBytes/1024/1024),"MB"]})]})]}),se.actionable&&l.jsxs("div",{className:"text-xs text-white/40 italic",children:[" ",se.actionable]}),N&&l.jsxs("div",{className:"flex items-center gap-2 text-xs text-purple-300 bg-purple-500/10 rounded-lg px-3 py-2",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-pulse"}),l.jsxs("span",{children:["Using captured audio (",N.metadata.duration.toFixed(1),"s) - High quality samples available"]})]}),U&&(U.attempt>1||U.lastError)&&l.jsxs("details",{className:"text-xs text-white/40",children:[l.jsx("summary",{className:"cursor-pointer hover:text-white/60",children:"Technical Details"}),l.jsxs("div",{className:"mt-2 space-y-1 pl-4 border-l border-white/10",children:[U.attempt>1&&l.jsxs("div",{children:["Retry attempt: ",U.attempt,"/",U.maxAttempts]}),U.retryDelay&&l.jsxs("div",{children:["Next retry in: ",Math.round(U.retryDelay/1e3),"s"]}),U.lastError&&l.jsxs("div",{children:["Last error: ",U.lastError]})]})]})]})]}),S&&F?l.jsx(JP,{error:F,onRetry:Q,onReset:J,youtubeUrl:n,isRetrying:V.isRetrying,retryCount:V.retryCount}):l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsx(YP,{youtubeUrl:n,onError:(e,t)=>{},onRetry:Q,onReset:J,children:l.jsx(EA,{youtubeUrl:n,setPlayerState:h,volume:p,onPlayerReady:H})}),l.jsx(UA,{enableAutoRecovery:!0,onFallbackMode:()=>k(!0),children:l.jsx($A,{playerState:d,selectedChop:B,setChopTime:$,waveformData:N?.waveformData||M,deleteChop:K,youtubeUrl:n,allChops:i,onTimestampClick:X,isPlaying:d.isPlaying,onPlayPause:Z,capturedAudioData:N})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx(jP,{activeBank:a,setActiveBank:o,masterVolume:p,setMasterVolume:m,chops:i,youtubeUrl:n}),R&&n&&l.jsx($P,{youtubeUrl:n,videoElement:I,onCaptureComplete:ne,onCaptureError:re,isVideoReady:"ready"===j}),l.jsxs("div",{className:"relative "+("ready"!==j?"opacity-50 pointer-events-none":""),children:[l.jsx(QP,{onError:(e,t)=>{},onRetry:Q,onReset:()=>s([]),children:l.jsx(GA,{chops:i,activeBank:a,selectedPadId:c,setSelectedPadId:u,setPlayerState:h,playerState:d,onCreateSample:W,onUpdateSample:q,onDeleteSample:K,youtubePlayer:g,audioBuffer:N?.audioBuffer||L,capturedAudioData:N})}),"ready"!==j&&l.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-2xl flex items-center justify-center",children:l.jsx("p",{className:"text-white/80 font-semibold",children:"Waiting for video..."})})]})]})]}),l.jsx(zP,{currentSession:ee(),onLoadSession:te,onSaveSession:ie,isOpen:E,onClose:()=>C(!1)})]})}const eR=f.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:Zn("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));eR.displayName="Card";const tR=f.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:Zn("flex flex-col space-y-1.5 p-6",e),...t}));tR.displayName="CardHeader";const nR=f.forwardRef(({className:e,...t},n)=>l.jsx("h3",{ref:n,className:Zn("text-2xl font-semibold leading-none tracking-tight",e),...t}));nR.displayName="CardTitle";const rR=f.forwardRef(({className:e,...t},n)=>l.jsx("p",{ref:n,className:Zn("text-sm text-muted-foreground",e),...t}));rR.displayName="CardDescription";const iR=f.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:Zn("p-6 pt-0",e),...t}));iR.displayName="CardContent";const sR=f.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:Zn("flex items-center p-6 pt-0",e),...t}));function aR({className:e,...t}){return l.jsx("div",{className:Zn("animate-pulse rounded-md bg-muted",e),...t})}function oR(){const[e,t]=f.useState([]),[n,r]=f.useState(!0),{user:i,loading:s}=yx(),[a,o]=f.useState(!1);f.useEffect(()=>{!s&&i?c():s||i||(r(!1),t([]))},[i,s]);const c=async()=>{r(!0);try{const e=await PN.list("-created_date");t(e)}catch(e){}finally{r(!1)}},u=e=>{if(!e)return"";const t=e.match(/(?:v=)([^&?]+)/)||e.match(/(?:youtu.be\/)([^&?]+)/),n=t?t[1]:"";return n?`https://img.youtube.com/vi/${n}/mqdefault.jpg`:""};return s?l.jsx("div",{className:"text-center col-span-full py-20 bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl",children:l.jsx("p",{className:"text-white/70",children:"Loading sessions..."})}):i?l.jsxs("div",{className:"space-y-6",children:[l.jsxs(bA.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center gap-4 text-3xl font-bold tracking-tighter",children:[l.jsx(gt,{className:"w-8 h-8 text-cyan-400"}),l.jsx("h2",{children:"My Saved Sessions"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:l.jsx(Mx,{children:n?Array.from({length:4}).map((e,t)=>l.jsxs(eR,{className:"bg-black/20 backdrop-blur-lg border border-white/20 text-white overflow-hidden",children:[l.jsx(tR,{children:l.jsx(aR,{className:"h-40 -mx-6 -mt-6"})}),l.jsxs(iR,{children:[l.jsx(aR,{className:"h-6 w-3/4 mb-2"}),l.jsx(aR,{className:"h-4 w-1/2"})]}),l.jsxs(sR,{className:"flex justify-between",children:[l.jsx(aR,{className:"h-10 w-24"}),l.jsx(aR,{className:"h-10 w-10"})]})]},t)):e.map(n=>l.jsx(bA.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{type:"spring",stiffness:260,damping:20},children:l.jsxs(eR,{className:"bg-black/20 backdrop-blur-lg border border-white/20 text-white overflow-hidden shadow-xl hover:shadow-cyan-500/20 transition-shadow duration-300 h-full flex flex-col",children:[l.jsx(tR,{className:"p-0",children:l.jsx("img",{src:u(n.youtubeUrl),alt:n.sessionName,className:"w-full h-40 object-cover"})}),l.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[l.jsx(nR,{className:"tracking-tight",children:n.sessionName}),l.jsxs(rR,{className:"text-white/60 flex items-center gap-2 mt-1",children:[l.jsx(wt,{className:"w-4 h-4"}),n.chops?.length||0," Chops"]}),l.jsx("div",{className:"flex-grow"}),l.jsxs(sR,{className:"p-0 pt-6 flex justify-between items-center",children:[l.jsx(Ye,{to:`/?sessionId=${n.id}`,children:l.jsx(tr,{className:"bg-cyan-500 hover:bg-cyan-600 text-black font-bold",children:"Load"})}),l.jsx(tr,{variant:"ghost",size:"icon",className:"text-red-500 hover:bg-red-500/20",onClick:()=>(async n=>{try{await PN.delete(n),t(e.filter(e=>e.id!==n))}catch(r){}})(n.id),children:l.jsx(Lt,{className:"w-5 h-5"})})]})]})]})},n.id))})}),!n&&0===e.length&&l.jsxs("div",{className:"text-center col-span-full py-20 bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl",children:[l.jsx("p",{className:"text-white/70",children:"You have no saved sessions."}),l.jsx(Ye,{to:"/",children:l.jsx(tr,{className:"mt-4 bg-cyan-500 hover:bg-cyan-600 text-black font-bold",children:"Create your first chop!"})})]})]}):l.jsxs("div",{className:"text-center col-span-full py-20 bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl",children:[l.jsx("p",{className:"text-white/70",children:"Please sign in to view your saved sessions."}),l.jsxs(tr,{onClick:()=>o(!0),className:"mt-4 bg-cyan-500 hover:bg-cyan-600 text-black font-bold",children:[l.jsx(St,{className:"w-4 h-4 mr-2"}),"Sign In"]}),l.jsx(mx,{isOpen:a,onOpenChange:o})]})}sR.displayName="CardFooter";const lR=[{icon:bt,title:"Intuitive Sampling",description:"Easily chop YouTube videos into custom samples."},{icon:qt,title:"Live Performance",description:"Trigger samples instantly with keyboard shortcuts."},{icon:mt,title:"Web-Based Access",description:"Use it anywhere, anytime, directly in your browser."}],cR="chopshop_feature_tour_shown";function uR(){const[e,t]=f.useState(!1);f.useEffect(()=>{localStorage.getItem(cR)||t(!0)},[]);return l.jsx(vs,{open:e,onOpenChange:t,children:l.jsxs(ws,{className:"sm:max-w-[500px] bg-gradient-to-br from-gray-900 via-purple-900 to-blue-900 text-white border-white/20 shadow-lg",children:[l.jsxs(xs,{className:"text-center",children:[l.jsx(bA.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:260,damping:20},children:l.jsx(pt,{className:"w-16 h-16 mx-auto text-yellow-400 drop-shadow-lg"})}),l.jsx(ks,{className:"text-3xl font-bold tracking-tighter mt-4",children:"Welcome to The Chop Shop!"}),l.jsx(Es,{className:"text-white/80 mt-2",children:"Unleash your creativity by sampling YouTube videos with ease."})]}),l.jsx("div",{className:"space-y-4 py-4",children:lR.map((e,t)=>l.jsxs(bA.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2+.1*t,type:"spring",stiffness:100,damping:10},className:"flex items-start gap-4 p-3 bg-black/20 rounded-lg border border-white/10",children:[l.jsx(e.icon,{className:"w-6 h-6 text-cyan-400 flex-shrink-0 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg",children:e.title}),l.jsx("p",{className:"text-white/70 text-sm",children:e.description})]})]},t))}),l.jsxs(bA.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8,type:"spring",stiffness:100,damping:10},className:"text-center mt-6 p-4 bg-purple-900/40 rounded-xl border border-purple-700/50 shadow-inner",children:[l.jsxs("p",{className:"text-yellow-200 font-bold flex items-center justify-center gap-2",children:[l.jsx(ct,{className:"w-5 h-5"}),"One-Time Purchase, Free Lifetime Upgrades!"]}),l.jsx("p",{className:"text-white/70 text-sm mt-1",children:"Get all future features and improvements at no extra cost."})]}),l.jsx(Ss,{className:"mt-6",children:l.jsx(tr,{onClick:()=>{localStorage.setItem(cR,"true"),t(!1)},className:"w-full bg-cyan-500 hover:bg-cyan-600 text-black font-bold py-3 text-lg rounded-xl shadow-md hover:shadow-lg transition-all duration-300",children:"Let's Get Chopping!"})})]})})}function dR(){return l.jsxs(vx,{children:[l.jsx(qe,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:l.jsx(wx,{children:l.jsxs(Ve,{children:[l.jsx(Ue,{path:"/",element:l.jsx(ZP,{})}),l.jsx(Ue,{path:"/my-sessions",element:l.jsx(oR,{})})]})})}),l.jsx(uR,{})]})}window.addEventListener("error",e=>{}),window.addEventListener("unhandledrejection",e=>{});try{const e=document.getElementById("root");if(!e)throw new Error("Root element not found");R.createRoot(e).render(l.jsx(f.StrictMode,{children:l.jsx(vx,{children:l.jsx(dR,{})})}))}catch(mR){document.body.innerHTML=`\n    <div style="padding: 20px; font-family: Arial, sans-serif;">\n      <h1>Loading Error</h1>\n      <p>The app failed to load. Error: ${mR.message}</p>\n      <p>Please check the console for more details.</p>\n    </div>\n  `}export{l as j,bA as m,f as r};
