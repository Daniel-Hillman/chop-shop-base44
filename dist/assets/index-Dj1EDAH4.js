const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/waveform-core-ygTHjRxL.js","assets/waveform-advanced-C_AaKX5q.js","assets/waveform-performance-BxG7lKLN.js","assets/waveform-interaction-CMmfpf38.js"])))=>i.map(i=>d[i]);
import{a as e,g as t,r as n,b as r,j as i,m as s,R as a,A as o}from"./waveform-core-ygTHjRxL.js";import{_ as l,u as c,a as u,w as d}from"./waveform-production-DyC39Md6.js";import{Z as h}from"./waveform-interaction-CMmfpf38.js";import"./waveform-advanced-C_AaKX5q.js";import"./waveform-performance-BxG7lKLN.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var f,p,m={exports:{}},g={},v={exports:{}},y={};function b(){return p||(p=1,v.exports=(f||(f=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,a=s>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<s&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,m=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var i=n(c);null!==i;){if(null===i.callback)r(c);else{if(!(i.startTime<=e))break;r(c),i.sortIndex=i.expirationTime,t(l,i)}i=n(c)}}function x(e){if(m=!1,w(e),!p)if(null!==n(l))p=!0,k||(k=!0,S());else{var t=n(c);null!==t&&R(x,t.startTime-e)}}var S,k=!1,E=-1,C=5,_=-1;function T(){return!(!g&&e.unstable_now()-_<C)}function I(){if(g=!1,k){var t=e.unstable_now();_=t;var i=!0;try{e:{p=!1,m&&(m=!1,y(E),E=-1),f=!0;var s=h;try{t:{for(w(t),d=n(l);null!==d&&!(d.expirationTime>t&&T());){var a=d.callback;if("function"==typeof a){d.callback=null,h=d.priorityLevel;var o=a(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof o){d.callback=o,w(t),i=!0;break t}d===n(l)&&r(l),w(t)}else r(l);d=n(l)}if(null!==d)i=!0;else{var u=n(c);null!==u&&R(x,u.startTime-t),i=!1}}break e}finally{d=null,h=s,f=!1}i=void 0}}finally{i?S():k=!1}}}if("function"==typeof b)S=function(){b(I)};else if("undefined"!=typeof MessageChannel){var N=new MessageChannel,A=N.port2;N.port1.onmessage=I,S=function(){A.postMessage(null)}}else S=function(){v(I,0)};function R(t,n){E=v(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(C=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,i,s){var a=e.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?a+s:a,r){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return r={id:u++,callback:i,priorityLevel:r,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(r.sortIndex=s,t(c,r),null===n(l)&&r===n(c)&&(m?(y(E),E=-1):m=!0,R(x,s-a))):(r.sortIndex=o,t(l,r),p||f||(p=!0,k||(k=!0,S()))),r},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(y)),y)),v.exports}var w,x,S,k,E={exports:{}},C={};function _(){if(w)return C;w=1;var t=e();function n(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}return C.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,C.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(n(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,r)},C.flushSync=function(e){var t=a.T,n=i.p;try{if(a.T=null,i.p=2,e)return e()}finally{a.T=t,i.p=n,i.d.f()}},C.preconnect=function(e,t){"string"==typeof e&&(t?t="string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},C.prefetchDNS=function(e){"string"==typeof e&&i.d.D(e)},C.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,r=o(n,t.crossOrigin),s="string"==typeof t.integrity?t.integrity:void 0,a="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?i.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:s,fetchPriority:a}):"script"===n&&i.d.X(e,{crossOrigin:r,integrity:s,fetchPriority:a,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},C.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=o(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},C.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,r=o(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},C.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=o(t.as,t.crossOrigin);i.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},C.requestFormReset=function(e){i.d.r(e)},C.unstable_batchedUpdates=function(e,t){return e(t)},C.useFormState=function(e,t,n){return a.H.useFormState(e,t,n)},C.useFormStatus=function(){return a.H.useHostTransitionStatus()},C.version="19.1.1",C}function T(){if(x)return E.exports;return x=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),E.exports=_(),E.exports}
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function I(){if(S)return g;S=1;var t=b(),n=e(),r=T();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function a(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function o(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function l(e){if(a(e)!==e)throw Error(i(188))}function c(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=c(e)))return t;e=e.sibling}return null}var u=Object.assign,d=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function P(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=R&&e[R]||e["@@iterator"])?e:null}var D=Symbol.for("react.client.reference");function M(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===D?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case p:return"Fragment";case v:return"Profiler";case m:return"StrictMode";case E:return"Suspense";case C:return"SuspenseList";case N:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case f:return"Portal";case x:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:M(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return M(e(t))}catch(n){}}return null}var j=Array.isArray,L=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},F=[],z=-1;function V(e){return{current:e}}function B(e){0>z||(e.current=F[z],F[z]=null,z--)}function H(e,t){z++,F[z]=e.current,e.current=t}var W=V(null),$=V(null),q=V(null),K=V(null);function G(e,t){switch(H(q,t),H($,e),H(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ad(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=od(t=ad(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(W),H(W,e)}function Y(){B(W),B($),B(q)}function Q(e){null!==e.memoizedState&&H(K,e);var t=W.current,n=od(t,e.type);t!==n&&(H($,e),H(W,n))}function J(e){$.current===e&&(B(W),B($)),K.current===e&&(B(K),Qd._currentValue=U)}var X=Object.prototype.hasOwnProperty,Z=t.unstable_scheduleCallback,ee=t.unstable_cancelCallback,te=t.unstable_shouldYield,ne=t.unstable_requestPaint,re=t.unstable_now,ie=t.unstable_getCurrentPriorityLevel,se=t.unstable_ImmediatePriority,ae=t.unstable_UserBlockingPriority,oe=t.unstable_NormalPriority,le=t.unstable_LowPriority,ce=t.unstable_IdlePriority,ue=t.log,de=t.unstable_setDisableYieldValue,he=null,fe=null;function pe(e){if("function"==typeof ue&&de(e),fe&&"function"==typeof fe.setStrictMode)try{fe.setStrictMode(he,e)}catch(t){}}var me=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ge(e)/ve|0)|0},ge=Math.log,ve=Math.LN2;var ye=256,be=4194304;function we(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xe(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~s)?i=we(r):0!==(a&=o)?i=we(a):n||0!==(n=o&~e)&&(i=we(n)):0!==(o=r&~s)?i=we(o):0!==a?i=we(a):n||0!==(n=r&~e)&&(i=we(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&4194048&n)?t:i}function Se(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function ke(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ee(){var e=ye;return!(4194048&(ye<<=1))&&(ye=256),e}function Ce(){var e=be;return!(62914560&(be<<=1))&&(be=4194304),e}function _e(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Te(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ie(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-me(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ne(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-me(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ae(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Re(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Pe(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:dh(e.type)}var De=Math.random().toString(36).slice(2),Me="__reactFiber$"+De,je="__reactProps$"+De,Le="__reactContainer$"+De,Oe="__reactEvents$"+De,Ue="__reactListeners$"+De,Fe="__reactHandles$"+De,ze="__reactResources$"+De,Ve="__reactMarker$"+De;function Be(e){delete e[Me],delete e[je],delete e[Oe],delete e[Ue],delete e[Fe]}function He(e){var t=e[Me];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Le]||n[Me]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xd(e);null!==e;){if(n=e[Me])return n;e=xd(e)}return t}n=(e=n).parentNode}return null}function We(e){if(e=e[Me]||e[Le]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function $e(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function qe(e){var t=e[ze];return t||(t=e[ze]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ke(e){e[Ve]=!0}var Ge=new Set,Ye={};function Qe(e,t){Je(e,t),Je(e+"Capture",t)}function Je(e,t){for(Ye[e]=t,e=0;e<t.length;e++)Ge.add(t[e])}var Xe,Ze,et=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tt={},nt={};function rt(e,t,n){if(i=t,X.call(nt,i)||!X.call(tt,i)&&(et.test(i)?nt[i]=!0:(tt[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function it(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function st(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function at(e){if(void 0===Xe)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",Ze=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Xe+e+Ze}var ot=!1;function lt(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"==typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?at(n):""}function ct(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return lt(e.type,!1);case 11:return lt(e.type.render,!1);case 1:return lt(e.type,!0);case 31:return at("Activity");default:return""}}function ut(e){try{var t="";do{t+=ct(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){e._valueTracker||(e._valueTracker=function(e){var t=ht(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,r,i,s,a,o){e.name="",null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?wt(e,a,dt(t)):null!=n?wt(e,a,dt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+dt(o):e.removeAttribute("name")}function bt(e,t,n,r,i,s,a,o){if(null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.type=s),null!=t||null!=n){if(("submit"===s||"reset"===s)&&null==t)return;n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.name=a)}function wt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function St(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(i(92));if(j(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function Et(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ct=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _t(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||Ct.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var s in t)r=t[s],t.hasOwnProperty(s)&&n[s]!==r&&_t(e,s,r)}else for(var a in t)t.hasOwnProperty(a)&&_t(e,a,t[a])}function It(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rt(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function Dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Mt=null,jt=null;function Lt(e){var t=We(e);if(t&&(e=t.stateNode)){var n=e[je]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=r[je]||null;if(!s)throw Error(i(90));yt(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":St(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var Ot=!1;function Ut(e,t,n){if(Ot)return e(t,n);Ot=!0;try{return e(t)}finally{if(Ot=!1,(null!==Mt||null!==jt)&&(Hc(),Mt&&(t=Mt,e=jt,jt=Mt=null,Lt(t),e)))for(t=0;t<e.length;t++)Lt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[je]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var zt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Vt=!1;if(zt)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(jh){Vt=!1}var Ht=null,Wt=null,$t=null;function qt(){if($t)return $t;var e,t,n=Wt,r=n.length,i="value"in Ht?Ht.value:Ht.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Yt(){return!1}function Qt(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Gt:Yt,this.isPropagationStopped=Yt,this}return u(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Jt,Xt,Zt,en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tn=Qt(en),nn=u({},en,{view:0,detail:0}),rn=Qt(nn),sn=u({},nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zt&&(Zt&&"mousemove"===e.type?(Jt=e.screenX-Zt.screenX,Xt=e.screenY-Zt.screenY):Xt=Jt=0,Zt=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),an=Qt(sn),on=Qt(u({},sn,{dataTransfer:0})),ln=Qt(u({},nn,{relatedTarget:0})),cn=Qt(u({},en,{animationName:0,elapsedTime:0,pseudoElement:0})),un=Qt(u({},en,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=Qt(u({},en,{data:0})),hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=pn[e])&&!!t[e]}function gn(){return mn}var vn=Qt(u({},nn,{key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),yn=Qt(u({},sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=Qt(u({},nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gn})),wn=Qt(u({},en,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=Qt(u({},sn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=Qt(u({},en,{newState:0,oldState:0})),kn=[9,13,27,32],En=zt&&"CompositionEvent"in window,Cn=null;zt&&"documentMode"in document&&(Cn=document.documentMode);var _n=zt&&"TextEvent"in window&&!Cn,Tn=zt&&(!En||Cn&&8<Cn&&11>=Cn),In=String.fromCharCode(32),Nn=!1;function An(e,t){switch(e){case"keyup":return-1!==kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dn[e.type]:"textarea"===t}function jn(e,t,n,r){Mt?jt?jt.push(r):jt=[r]:Mt=r,0<(t=qu(t,"onChange")).length&&(n=new tn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ln=null,On=null;function Un(e){Uu(e,0)}function Fn(e){if(pt($e(e)))return e}function zn(e,t){if("change"===e)return t}var Vn=!1;if(zt){var Bn;if(zt){var Hn="oninput"in document;if(!Hn){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),Hn="function"==typeof Wn.oninput}Bn=Hn}else Bn=!1;Vn=Bn&&(!document.documentMode||9<document.documentMode)}function $n(){Ln&&(Ln.detachEvent("onpropertychange",qn),On=Ln=null)}function qn(e){if("value"===e.propertyName&&Fn(On)){var t=[];jn(t,On,e,Dt(e)),Ut(Un,t)}}function Kn(e,t,n){"focusin"===e?($n(),On=n,(Ln=t).attachEvent("onpropertychange",qn)):"focusout"===e&&$n()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(On)}function Yn(e,t){if("click"===e)return Fn(t)}function Qn(e,t){if("input"===e||"change"===e)return Fn(t)}var Jn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Xn(e,t){if(Jn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!X.call(t,i)||!Jn(e[i],t[i]))return!1}return!0}function Zn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function er(e,t){var n,r=Zn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zn(r)}}function tr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?tr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function nr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ir=zt&&"documentMode"in document&&11>=document.documentMode,sr=null,ar=null,or=null,lr=!1;function cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;lr||null==sr||sr!==mt(r)||("selectionStart"in(r=sr)&&rr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Xn(or,r)||(or=r,0<(r=qu(ar,"onSelect")).length&&(t=new tn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sr)))}function ur(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},hr={},fr={};function pr(e){if(hr[e])return hr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in fr)return hr[e]=n[t];return e}zt&&(fr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var mr=pr("animationend"),gr=pr("animationiteration"),vr=pr("animationstart"),yr=pr("transitionrun"),br=pr("transitionstart"),wr=pr("transitioncancel"),xr=pr("transitionend"),Sr=new Map,kr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,t){Sr.set(e,t),Qe(t,[e])}kr.push("scrollEnd");var Cr=new WeakMap;function _r(e,t){if("object"==typeof e&&null!==e){var n=Cr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ut(t)},Cr.set(e,t),t)}return{value:e,source:t,stack:ut(t)}}var Tr=[],Ir=0,Nr=0;function Ar(){for(var e=Ir,t=Nr=Ir=0;t<e;){var n=Tr[t];Tr[t++]=null;var r=Tr[t];Tr[t++]=null;var i=Tr[t];Tr[t++]=null;var s=Tr[t];if(Tr[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==s&&Mr(n,i,s)}}function Rr(e,t,n,r){Tr[Ir++]=e,Tr[Ir++]=t,Tr[Ir++]=n,Tr[Ir++]=r,Nr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Pr(e,t,n,r){return Rr(e,t,n,r),jr(e)}function Dr(e,t){return Rr(e,null,null,t),jr(e)}function Mr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-me(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function jr(e){if(50<Mc)throw Mc=0,jc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Lr={};function Or(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(e,t,n,r){return new Or(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zr(e,t){var n=e.alternate;return null===n?((n=Ur(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Vr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Br(e,t,n,r,s,a){var o=0;if(r=e,"function"==typeof e)Fr(e)&&(o=1);else if("string"==typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case N:return(e=Ur(31,n,t,s)).elementType=N,e.lanes=a,e;case p:return Hr(n.children,s,a,t);case m:o=8,s|=24;break;case v:return(e=Ur(12,n,t,2|s)).elementType=v,e.lanes=a,e;case E:return(e=Ur(13,n,t,s)).elementType=E,e.lanes=a,e;case C:return(e=Ur(19,n,t,s)).elementType=C,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case y:case x:o=10;break e;case w:o=9;break e;case k:o=11;break e;case _:o=14;break e;case I:o=16,r=null;break e}o=29,n=Error(i(130,null===e?"null":typeof e,"")),r=null}return(t=Ur(o,n,t,s)).elementType=e,t.type=r,t.lanes=a,t}function Hr(e,t,n,r){return(e=Ur(7,e,r,t)).lanes=n,e}function Wr(e,t,n){return(e=Ur(6,e,null,t)).lanes=n,e}function $r(e,t,n){return(t=Ur(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qr=[],Kr=0,Gr=null,Yr=0,Qr=[],Jr=0,Xr=null,Zr=1,ei="";function ti(e,t){qr[Kr++]=Yr,qr[Kr++]=Gr,Gr=e,Yr=t}function ni(e,t,n){Qr[Jr++]=Zr,Qr[Jr++]=ei,Qr[Jr++]=Xr,Xr=e;var r=Zr;e=ei;var i=32-me(r)-1;r&=~(1<<i),n+=1;var s=32-me(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Zr=1<<32-me(t)+i|n<<i|r,ei=s+e}else Zr=1<<s|n<<i|r,ei=e}function ri(e){null!==e.return&&(ti(e,1),ni(e,1,0))}function ii(e){for(;e===Gr;)Gr=qr[--Kr],qr[Kr]=null,Yr=qr[--Kr],qr[Kr]=null;for(;e===Xr;)Xr=Qr[--Jr],Qr[Jr]=null,ei=Qr[--Jr],Qr[Jr]=null,Zr=Qr[--Jr],Qr[Jr]=null}var si=null,ai=null,oi=!1,li=null,ci=!1,ui=Error(i(519));function di(e){throw vi(_r(Error(i(418,"")),e)),ui}function hi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Me]=e,t[je]=r,n){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(n=0;n<Lu.length;n++)Fu(Lu[n],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ft(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),kt(t,r.value,r.defaultValue,r.children),ft(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Xu(t.textContent,n)?(null!=r.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=r.onScroll&&Fu("scroll",t),null!=r.onScrollEnd&&Fu("scrollend",t),null!=r.onClick&&(t.onclick=Zu),t=!0):t=!1,t||di(e)}function fi(e){for(si=e.return;si;)switch(si.tag){case 5:case 13:return void(ci=!1);case 27:case 3:return void(ci=!0);default:si=si.return}}function pi(e){if(e!==si)return!1;if(!oi)return fi(e),oi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ld(e.type,e.memoizedProps)),t=!t),t&&ai&&di(e),fi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ai=bd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ai=null}}else 27===n?(n=ai,md(e.type)?(e=wd,wd=null,ai=e):ai=n):ai=si?bd(e.stateNode.nextSibling):null;return!0}function mi(){ai=si=null,oi=!1}function gi(){var e=li;return null!==e&&(null===xc?xc=e:xc.push.apply(xc,e),li=null),e}function vi(e){null===li?li=[e]:li.push(e)}var yi=V(null),bi=null,wi=null;function xi(e,t,n){H(yi,t._currentValue),t._currentValue=n}function Si(e){e._currentValue=yi.current,B(yi)}function ki(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ei(e,t,n,r){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var a=s.dependencies;if(null!==a){var o=s.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ki(a.return,n,e),r||(o=null);break e}a=l.next}}else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),ki(o,n,e),o=null}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===e){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}}function Ci(e,t,n,r){e=null;for(var s=t,a=!1;null!==s;){if(!a)if(524288&s.flags)a=!0;else if(262144&s.flags)break;if(10===s.tag){var o=s.alternate;if(null===o)throw Error(i(387));if(null!==(o=o.memoizedProps)){var l=s.type;Jn(s.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(s===K.current){if(null===(o=s.alternate))throw Error(i(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(Qd):e=[Qd])}s=s.return}null!==e&&Ei(t,e,n,r),t.flags|=262144}function _i(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ti(e){bi=e,wi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ii(e){return Ai(bi,e)}function Ni(e,t){return null===bi&&Ti(e),Ai(e,t)}function Ai(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===wi){if(null===e)throw Error(i(308));wi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else wi=wi.next=t;return n}var Ri="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Pi=t.unstable_scheduleCallback,Di=t.unstable_NormalPriority,Mi={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ji(){return{controller:new Ri,data:new Map,refCount:0}}function Li(e){e.refCount--,0===e.refCount&&Pi(Di,function(){e.controller.abort()})}var Oi=null,Ui=0,Fi=0,zi=null;function Vi(){if(0===--Ui&&null!==Oi){null!==zi&&(zi.status="fulfilled");var e=Oi;Oi=null,Fi=0,zi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Bi=L.S;L.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Oi){var n=Oi=[];Ui=0,Fi=Ru(),zi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ui++,t.then(Vi,Vi)}(0,t),null!==Bi&&Bi(e,t)};var Hi=V(null);function Wi(){var e=Hi.current;return null!==e?e:sc.pooledCache}function $i(e,t){H(Hi,null===t?Hi.current:t.pool)}function qi(){var e=Wi();return null===e?null:{parent:Mi._currentValue,pool:e}}var Ki=Error(i(460)),Gi=Error(i(474)),Yi=Error(i(542)),Qi={then:function(){}};function Ji(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xi(){}function Zi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xi,Xi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ns(e=t.reason),e;default:if("string"==typeof t.status)t.then(Xi,Xi);else{if(null!==(e=sc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ns(e=t.reason),e}throw es=t,Ki}}var es=null;function ts(){if(null===es)throw Error(i(459));var e=es;return es=null,e}function ns(e){if(e===Ki||e===Yi)throw Error(i(483))}var rs=!1;function is(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ss(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function as(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function os(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&ic){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=jr(e),Mr(e,null,n),t}return Rr(e,r,t,n),jr(e)}function ls(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ne(e,n)}}function cs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var us=!1;function ds(){if(us){if(null!==zi)throw zi}}function hs(e,t,n,r){us=!1;var i=e.updateQueue;rs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,d=c=l=null,o=s;;){var f=-536870913&o.lane,p=f!==o.lane;if(p?(oc&f)===f:(r&f)===f){0!==f&&f===Fi&&(us=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;f=t;var v=n;switch(g.tag){case 1:if("function"==typeof(m=g.payload)){h=m.call(v,h,f);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=g.payload)?m.call(v,h,f):m))break e;h=u({},h,f);break e;case 2:rs=!0}}null!==(f=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,l=h):d=d.next=p,a|=f;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===d&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null===s&&(i.shared.lanes=0),mc|=a,e.lanes=a,e.memoizedState=h}}function fs(e,t){if("function"!=typeof e)throw Error(i(191,e));e.call(t)}function ps(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)fs(n[e],t)}var ms=V(null),gs=V(0);function vs(e,t){H(gs,e=fc),H(ms,t),fc=e|t.baseLanes}function ys(){H(gs,fc),H(ms,ms.current)}function bs(){fc=gs.current,B(ms),B(gs)}var ws=0,xs=null,Ss=null,ks=null,Es=!1,Cs=!1,_s=!1,Ts=0,Is=0,Ns=null,As=0;function Rs(){throw Error(i(321))}function Ps(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function Ds(e,t,n,r,i,s){return ws=s,xs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=null===e||null===e.memoizedState?Ka:Ga,_s=!1,s=n(r,i),_s=!1,Cs&&(s=js(t,n,r,i)),Ms(e),s}function Ms(e){L.H=qa;var t=null!==Ss&&null!==Ss.next;if(ws=0,ks=Ss=xs=null,Es=!1,Is=0,Ns=null,t)throw Error(i(300));null===e||No||null!==(e=e.dependencies)&&_i(e)&&(No=!0)}function js(e,t,n,r){xs=e;var s=0;do{if(Cs&&(Ns=null),Is=0,Cs=!1,25<=s)throw Error(i(301));if(s+=1,ks=Ss=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}L.H=Ya,a=t(n,r)}while(Cs);return a}function Ls(){var e=L.H,t=e.useState()[0];return t="function"==typeof t.then?Bs(t):t,e=e.useState()[0],(null!==Ss?Ss.memoizedState:null)!==e&&(xs.flags|=1024),t}function Os(){var e=0!==Ts;return Ts=0,e}function Us(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fs(e){if(Es){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Es=!1}ws=0,ks=Ss=xs=null,Cs=!1,Is=Ts=0,Ns=null}function zs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ks?xs.memoizedState=ks=e:ks=ks.next=e,ks}function Vs(){if(null===Ss){var e=xs.alternate;e=null!==e?e.memoizedState:null}else e=Ss.next;var t=null===ks?xs.memoizedState:ks.next;if(null!==t)ks=t,Ss=e;else{if(null===e){if(null===xs.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(Ss=e).memoizedState,baseState:Ss.baseState,baseQueue:Ss.baseQueue,queue:Ss.queue,next:null},null===ks?xs.memoizedState=ks=e:ks=ks.next=e}return ks}function Bs(e){var t=Is;return Is+=1,null===Ns&&(Ns=[]),e=Zi(Ns,e,t),t=xs,null===(null===ks?t.memoizedState:ks.next)&&(t=t.alternate,L.H=null===t||null===t.memoizedState?Ka:Ga),e}function Hs(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Bs(e);if(e.$$typeof===x)return Ii(e)}throw Error(i(438,String(e)))}function Ws(e){var t=null,n=xs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=xs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},xs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=A;return t.index++,n}function $s(e,t){return"function"==typeof t?t(e):t}function qs(e){return Ks(Vs(),Ss,e)}function Ks(e,t,n){var r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=n;var s=e.baseQueue,a=r.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}t.baseQueue=s=a,r.pending=null}if(a=e.baseState,null===s)e.memoizedState=a;else{var l=o=null,c=null,u=t=s.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(oc&h)===h:(ws&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Fi&&(d=!0);else{if((ws&f)===f){u=u.next,f===Fi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=a):c=c.next=h,xs.lanes|=f,mc|=f}h=u.action,_s&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=a):c=c.next=f,xs.lanes|=h,mc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=a:c.next=l,!Jn(a,e.memoizedState)&&(No=!0,d&&null!==(n=zi)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=c,r.lastRenderedState=a}return null===s&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Gs(e){var t=Vs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);Jn(a,t.memoizedState)||(No=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ys(e,t,n){var r=xs,s=Vs(),a=oi;if(a){if(void 0===n)throw Error(i(407));n=n()}else n=t();var o=!Jn((Ss||s).memoizedState,n);if(o&&(s.memoizedState=n,No=!0),s=s.queue,ya(2048,8,Xs.bind(null,r,s,e),[e]),s.getSnapshot!==t||o||null!==ks&&1&ks.memoizedState.tag){if(r.flags|=2048,ma(9,{destroy:void 0,resource:void 0},Js.bind(null,r,s,n,t),null),null===sc)throw Error(i(349));a||124&ws||Qs(r,t,n)}return n}function Qs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=xs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},xs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Js(e,t,n,r){t.value=n,t.getSnapshot=r,Zs(t)&&ea(e)}function Xs(e,t,n){return n(function(){Zs(t)&&ea(e)})}function Zs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(r){return!0}}function ea(e){var t=Dr(e,2);null!==t&&Uc(t,e,2)}function ta(e){var t=zs();if("function"==typeof e){var n=e;if(e=n(),_s){pe(!0);try{n()}finally{pe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:e},t}function na(e,t,n,r){return e.baseState=n,Ks(e,Ss,"function"==typeof r?r:$s)}function ra(e,t,n,r,s){if(Ha(e))throw Error(i(485));if(null!==(e=t.action)){var a={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==L.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,ia(t,a)):(a.next=n.next,t.pending=n.next=a)}}function ia(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=L.T,a={};L.T=a;try{var o=n(i,r),l=L.S;null!==l&&l(a,o),sa(e,t,o)}catch(c){oa(e,t,c)}finally{L.T=s}}else try{sa(e,t,s=n(i,r))}catch(u){oa(e,t,u)}}function sa(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){aa(e,t,n)},function(n){return oa(e,t,n)}):aa(e,t,n)}function aa(e,t,n){t.status="fulfilled",t.value=n,la(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ia(e,n)))}function oa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,la(t),t=t.next}while(t!==r)}e.action=null}function la(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ca(e,t){return t}function ua(e,t){if(oi){var n=sc.formState;if(null!==n){e:{var r=xs;if(oi){if(ai){t:{for(var i=ai,s=ci;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=bd(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){ai=bd(i.nextSibling),r="F!"===i.data;break e}}di(r)}r=!1}r&&(t=n[0])}}return(n=zs()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:t},n.queue=r,n=za.bind(null,xs,r),r.dispatch=n,r=ta(!1),s=Ba.bind(null,xs,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=zs()).queue=i,n=ra.bind(null,xs,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function da(e){return ha(Vs(),Ss,e)}function ha(e,t,n){if(t=Ks(e,t,ca)[0],e=qs($s)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=Bs(t)}catch(a){if(a===Ki)throw Yi;throw a}else r=t;var i=(t=Vs()).queue,s=i.dispatch;return n!==t.memoizedState&&(xs.flags|=2048,ma(9,{destroy:void 0,resource:void 0},fa.bind(null,i,n),null)),[r,s,e]}function fa(e,t){e.action=t}function pa(e){var t=Vs(),n=Ss;if(null!==n)return ha(t,n,e);Vs(),t=t.memoizedState;var r=(n=Vs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ma(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=xs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},xs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ga(){return Vs().memoizedState}function va(e,t,n,r){var i=zs();r=void 0===r?null:r,xs.flags|=e,i.memoizedState=ma(1|t,{destroy:void 0,resource:void 0},n,r)}function ya(e,t,n,r){var i=Vs();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==Ss&&null!==r&&Ps(r,Ss.memoizedState.deps)?i.memoizedState=ma(t,s,n,r):(xs.flags|=e,i.memoizedState=ma(1|t,s,n,r))}function ba(e,t){va(8390656,8,e,t)}function wa(e,t){ya(2048,8,e,t)}function xa(e,t){return ya(4,2,e,t)}function Sa(e,t){return ya(4,4,e,t)}function ka(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Ea(e,t,n){n=null!=n?n.concat([e]):null,ya(4,4,ka.bind(null,t,e),n)}function Ca(){}function _a(e,t){var n=Vs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ps(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ta(e,t){var n=Vs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ps(t,r[1]))return r[0];if(r=e(),_s){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[r,t],r}function Ia(e,t,n){return void 0===n||1073741824&ws?e.memoizedState=t:(e.memoizedState=n,e=Oc(),xs.lanes|=e,mc|=e,n)}function Na(e,t,n,r){return Jn(n,t)?n:null!==ms.current?(e=Ia(e,n,r),Jn(e,t)||(No=!0),e):42&ws?(e=Oc(),xs.lanes|=e,mc|=e,t):(No=!0,e.memoizedState=n)}function Aa(e,t,n,r,i){var s=O.p;O.p=0!==s&&8>s?s:8;var a,o,l,c=L.T,u={};L.T=u,Ba(e,!1,t,n);try{var d=i(),h=L.S;if(null!==h&&h(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)Va(e,t,(a=r,o=[],l={status:"pending",value:null,reason:null,then:function(e){o.push(e)}},d.then(function(){l.status="fulfilled",l.value=a;for(var e=0;e<o.length;e++)(0,o[e])(a)},function(e){for(l.status="rejected",l.reason=e,e=0;e<o.length;e++)(0,o[e])(void 0)}),l),Lc());else Va(e,t,r,Lc())}catch(f){Va(e,t,{then:function(){},status:"rejected",reason:f},Lc())}finally{O.p=s,L.T=c}}function Ra(){}function Pa(e,t,n,r){if(5!==e.tag)throw Error(i(476));var s=Da(e).queue;Aa(e,s,t,U,null===n?Ra:function(){return Ma(e),n(r)})}function Da(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:U},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ma(e){Va(e,Da(e).next.queue,{},Lc())}function ja(){return Ii(Qd)}function La(){return Vs().memoizedState}function Oa(){return Vs().memoizedState}function Ua(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Lc(),r=os(t,e=as(n),n);return null!==r&&(Uc(r,t,n),ls(r,t,n)),t={cache:ji()},void(e.payload=t)}t=t.return}}function Fa(e,t,n){var r=Lc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ha(e)?Wa(t,n):null!==(n=Pr(e,t,n,r))&&(Uc(n,e,r),$a(n,t,r))}function za(e,t,n){Va(e,t,n,Lc())}function Va(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ha(e))Wa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Jn(o,a))return Rr(e,t,i,0),null===sc&&Ar(),!1}catch(l){}if(null!==(n=Pr(e,t,i,r)))return Uc(n,e,r),$a(n,t,r),!0}return!1}function Ba(e,t,n,r){if(r={lane:2,revertLane:Ru(),action:r,hasEagerState:!1,eagerState:null,next:null},Ha(e)){if(t)throw Error(i(479))}else null!==(t=Pr(e,n,r,2))&&Uc(t,e,2)}function Ha(e){var t=e.alternate;return e===xs||null!==t&&t===xs}function Wa(e,t){Cs=Es=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $a(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ne(e,n)}}var qa={readContext:Ii,use:Hs,useCallback:Rs,useContext:Rs,useEffect:Rs,useImperativeHandle:Rs,useLayoutEffect:Rs,useInsertionEffect:Rs,useMemo:Rs,useReducer:Rs,useRef:Rs,useState:Rs,useDebugValue:Rs,useDeferredValue:Rs,useTransition:Rs,useSyncExternalStore:Rs,useId:Rs,useHostTransitionStatus:Rs,useFormState:Rs,useActionState:Rs,useOptimistic:Rs,useMemoCache:Rs,useCacheRefresh:Rs},Ka={readContext:Ii,use:Hs,useCallback:function(e,t){return zs().memoizedState=[e,void 0===t?null:t],e},useContext:Ii,useEffect:ba,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,va(4194308,4,ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return va(4194308,4,e,t)},useInsertionEffect:function(e,t){va(4,2,e,t)},useMemo:function(e,t){var n=zs();t=void 0===t?null:t;var r=e();if(_s){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=zs();if(void 0!==n){var i=n(t);if(_s){pe(!0);try{n(t)}finally{pe(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Fa.bind(null,xs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},zs().memoizedState=e},useState:function(e){var t=(e=ta(e)).queue,n=za.bind(null,xs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ca,useDeferredValue:function(e,t){return Ia(zs(),e,t)},useTransition:function(){var e=ta(!1);return e=Aa.bind(null,xs,e.queue,!0,!1),zs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=xs,s=zs();if(oi){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===sc)throw Error(i(349));124&oc||Qs(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,ba(Xs.bind(null,r,a,e),[e]),r.flags|=2048,ma(9,{destroy:void 0,resource:void 0},Js.bind(null,r,a,n,t),null),n},useId:function(){var e=zs(),t=sc.identifierPrefix;if(oi){var n=ei;t=""+t+"R"+(n=(Zr&~(1<<32-me(Zr)-1)).toString(32)+n),0<(n=Ts++)&&(t+="H"+n.toString(32)),t+=""}else t=""+t+"r"+(n=As++).toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:ja,useFormState:ua,useActionState:ua,useOptimistic:function(e){var t=zs();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ba.bind(null,xs,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ws,useCacheRefresh:function(){return zs().memoizedState=Ua.bind(null,xs)}},Ga={readContext:Ii,use:Hs,useCallback:_a,useContext:Ii,useEffect:wa,useImperativeHandle:Ea,useInsertionEffect:xa,useLayoutEffect:Sa,useMemo:Ta,useReducer:qs,useRef:ga,useState:function(){return qs($s)},useDebugValue:Ca,useDeferredValue:function(e,t){return Na(Vs(),Ss.memoizedState,e,t)},useTransition:function(){var e=qs($s)[0],t=Vs().memoizedState;return["boolean"==typeof e?e:Bs(e),t]},useSyncExternalStore:Ys,useId:La,useHostTransitionStatus:ja,useFormState:da,useActionState:da,useOptimistic:function(e,t){return na(Vs(),0,e,t)},useMemoCache:Ws,useCacheRefresh:Oa},Ya={readContext:Ii,use:Hs,useCallback:_a,useContext:Ii,useEffect:wa,useImperativeHandle:Ea,useInsertionEffect:xa,useLayoutEffect:Sa,useMemo:Ta,useReducer:Gs,useRef:ga,useState:function(){return Gs($s)},useDebugValue:Ca,useDeferredValue:function(e,t){var n=Vs();return null===Ss?Ia(n,e,t):Na(n,Ss.memoizedState,e,t)},useTransition:function(){var e=Gs($s)[0],t=Vs().memoizedState;return["boolean"==typeof e?e:Bs(e),t]},useSyncExternalStore:Ys,useId:La,useHostTransitionStatus:ja,useFormState:pa,useActionState:pa,useOptimistic:function(e,t){var n=Vs();return null!==Ss?na(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ws,useCacheRefresh:Oa},Qa=null,Ja=0;function Xa(e){var t=Ja;return Ja+=1,null===Qa&&(Qa=[]),Zi(Qa,e,t)}function Za(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function eo(e,t){if(t.$$typeof===d)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function to(e){return(0,e._init)(e._payload)}function no(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=zr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Wr(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===p?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===I&&to(i)===t.type)?(Za(t=s(t,n.props),n),t.return=e,t):(Za(t=Br(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$r(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Hr(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function m(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Wr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case h:return Za(n=Br(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=$r(t,e.mode,n)).return=e,t;case I:return m(e,t=(0,t._init)(t._payload),n)}if(j(t)||P(t))return(t=Hr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return m(e,Xa(t),n);if(t.$$typeof===x)return m(e,Ni(e,t),n);eo(e,t)}return null}function g(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case h:return n.key===i?c(e,t,n,r):null;case f:return n.key===i?u(e,t,n,r):null;case I:return g(e,t,n=(i=n._init)(n._payload),r)}if(j(n)||P(n))return null!==i?null:d(e,t,n,r,null);if("function"==typeof n.then)return g(e,t,Xa(n),r);if(n.$$typeof===x)return g(e,t,Ni(e,n),r);eo(e,n)}return null}function v(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case h:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case f:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return v(e,t,n,r=(0,r._init)(r._payload),i)}if(j(r)||P(r))return d(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return v(e,t,n,Xa(r),i);if(r.$$typeof===x)return v(e,t,n,Ni(t,r),i);eo(t,r)}return null}function y(l,c,u,d){if("object"==typeof u&&null!==u&&u.type===p&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case h:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===p){if(7===c.tag){n(l,c.sibling),(d=s(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===I&&to(b)===c.type){n(l,c.sibling),Za(d=s(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===p?((d=Hr(u.props.children,l.mode,d,u.key)).return=l,l=d):(Za(d=Br(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case f:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=s(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=$r(u,l.mode,d)).return=l,l=d}return o(l);case I:return y(l,c,u=(b=u._init)(u._payload),d)}if(j(u))return function(i,s,o,l){for(var c=null,u=null,d=s,h=s=0,f=null;null!==d&&h<o.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var p=g(i,d,o[h],l);if(null===p){null===d&&(d=f);break}e&&d&&null===p.alternate&&t(i,d),s=a(p,s,h),null===u?c=p:u.sibling=p,u=p,d=f}if(h===o.length)return n(i,d),oi&&ti(i,h),c;if(null===d){for(;h<o.length;h++)null!==(d=m(i,o[h],l))&&(s=a(d,s,h),null===u?c=d:u.sibling=d,u=d);return oi&&ti(i,h),c}for(d=r(d);h<o.length;h++)null!==(f=v(d,i,h,o[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),s=a(f,s,h),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach(function(e){return t(i,e)}),oi&&ti(i,h),c}(l,c,u,d);if(P(u)){if("function"!=typeof(b=P(u)))throw Error(i(150));return function(s,o,l,c){if(null==l)throw Error(i(151));for(var u=null,d=null,h=o,f=o=0,p=null,y=l.next();null!==h&&!y.done;f++,y=l.next()){h.index>f?(p=h,h=null):p=h.sibling;var b=g(s,h,y.value,c);if(null===b){null===h&&(h=p);break}e&&h&&null===b.alternate&&t(s,h),o=a(b,o,f),null===d?u=b:d.sibling=b,d=b,h=p}if(y.done)return n(s,h),oi&&ti(s,f),u;if(null===h){for(;!y.done;f++,y=l.next())null!==(y=m(s,y.value,c))&&(o=a(y,o,f),null===d?u=y:d.sibling=y,d=y);return oi&&ti(s,f),u}for(h=r(h);!y.done;f++,y=l.next())null!==(y=v(h,s,f,y.value,c))&&(e&&null!==y.alternate&&h.delete(null===y.key?f:y.key),o=a(y,o,f),null===d?u=y:d.sibling=y,d=y);return e&&h.forEach(function(e){return t(s,e)}),oi&&ti(s,f),u}(l,c,u=b.call(u),d)}if("function"==typeof u.then)return y(l,c,Xa(u),d);if(u.$$typeof===x)return y(l,c,Ni(l,u),d);eo(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=s(c,u)).return=l,l=d):(n(l,c),(d=Wr(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{Ja=0;var i=y(e,t,n,r);return Qa=null,i}catch(a){if(a===Ki||a===Yi)throw a;var s=Ur(29,a,null,e.mode);return s.lanes=r,s.return=e,s}}}var ro=no(!0),io=no(!1),so=V(null),ao=null;function oo(e){var t=e.alternate;H(ho,1&ho.current),H(so,e),null===ao&&(null===t||null!==ms.current||null!==t.memoizedState)&&(ao=e)}function lo(e){if(22===e.tag){if(H(ho,ho.current),H(so,e),null===ao){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ao=e)}}else co()}function co(){H(ho,ho.current),H(so,so.current)}function uo(e){B(so),ao===e&&(ao=null),B(ho)}var ho=V(0);function fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||yd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function po(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:u({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Lc(),i=as(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=os(e,i,r))&&(Uc(t,e,r),ls(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Lc(),i=as(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=os(e,i,r))&&(Uc(t,e,r),ls(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lc(),r=as(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=os(e,r,n))&&(Uc(t,e,n),ls(t,e,n))}};function go(e,t,n,r,i,s,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,r)||!Xn(i,s))}function vo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function yo(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=u({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var bo="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)};function wo(e){bo(e)}function xo(e){}function So(e){bo(e)}function ko(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Eo(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Co(e,t,n){return(n=as(n)).tag=3,n.payload={element:null},n.callback=function(){ko(e,t)},n}function _o(e){return(e=as(e)).tag=3,e}function To(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){Eo(t,n,r)}}var a=n.stateNode;null!==a&&"function"==typeof a.componentDidCatch&&(e.callback=function(){Eo(t,n,r),"function"!=typeof i&&(null===_c?_c=new Set([this]):_c.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Io=Error(i(461)),No=!1;function Ao(e,t,n,r){t.child=null===e?io(t,null,n,r):ro(t,e.child,n,r)}function Ro(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return Ti(t),r=Ds(e,t,n,a,s,i),o=Os(),null===e||No?(oi&&o&&ri(t),t.flags|=1,Ao(e,t,r,i),t.child):(Us(e,t,i),Jo(e,t,i))}function Po(e,t,n,r,i){if(null===e){var s=n.type;return"function"!=typeof s||Fr(s)||void 0!==s.defaultProps||null!==n.compare?((e=Br(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Do(e,t,s,r,i))}if(s=e.child,!Xo(e,i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(a,r)&&e.ref===t.ref)return Jo(e,t,i)}return t.flags|=1,(e=zr(s,r)).ref=t.ref,e.return=t,t.child=e}function Do(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Xn(s,r)&&e.ref===t.ref){if(No=!1,t.pendingProps=r=s,!Xo(e,i))return t.lanes=e.lanes,Jo(e,t,i);131072&e.flags&&(No=!0)}}return Oo(e,t,n,r,i)}function Mo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(128&t.flags){if(r=null!==s?s.baseLanes|n:n,null!==e){for(i=t.child=e.child,s=0;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return jo(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,jo(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&$i(0,null!==s?s.cachePool:null),null!==s?vs(t,s):ys(),lo(t)}else null!==s?($i(0,s.cachePool),vs(t,s),co(),t.memoizedState=null):(null!==e&&$i(0,null),ys(),co());return Ao(e,t,i,n),t.child}function jo(e,t,n,r){var i=Wi();return i=null===i?null:{parent:Mi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&$i(0,null),ys(),lo(t),null!==e&&Ci(e,t,r,!0),null}function Lo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Oo(e,t,n,r,i){return Ti(t),n=Ds(e,t,n,r,void 0,i),r=Os(),null===e||No?(oi&&r&&ri(t),t.flags|=1,Ao(e,t,n,i),t.child):(Us(e,t,i),Jo(e,t,i))}function Uo(e,t,n,r,i,s){return Ti(t),t.updateQueue=null,n=js(t,r,n,i),Ms(e),r=Os(),null===e||No?(oi&&r&&ri(t),t.flags|=1,Ao(e,t,n,s),t.child):(Us(e,t,s),Jo(e,t,s))}function Fo(e,t,n,r,i){if(Ti(t),null===t.stateNode){var s=Lr,a=n.contextType;"object"==typeof a&&null!==a&&(s=Ii(a)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=mo,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},is(t),a=n.contextType,s.context="object"==typeof a&&null!==a?Ii(a):Lr,s.state=t.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(po(t,n,a,r),s.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(a=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&mo.enqueueReplaceState(s,s.state,null),hs(t,r,s,i),ds(),s.state=t.memoizedState),"function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=yo(n,o);s.props=l;var c=s.context,u=n.contextType;a=Lr,"object"==typeof u&&null!==u&&(a=Ii(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o||c!==a)&&vo(t,s,r,a),rs=!1;var h=t.memoizedState;s.state=h,hs(t,r,s,i),ds(),c=t.memoizedState,o||h!==c||rs?("function"==typeof d&&(po(t,n,d,r),c=t.memoizedState),(l=rs||go(t,n,l,r,h,c,a))?(u||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ss(e,t),u=yo(n,a=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,l=Lr,"object"==typeof c&&null!==c&&(l=Ii(c)),(c="function"==typeof(o=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==d||h!==l)&&vo(t,s,r,l),rs=!1,h=t.memoizedState,s.state=h,hs(t,r,s,i),ds();var f=t.memoizedState;a!==d||h!==f||rs||null!==e&&null!==e.dependencies&&_i(e.dependencies)?("function"==typeof o&&(po(t,n,o,r),f=t.memoizedState),(u=rs||go(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&_i(e.dependencies))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Lo(e,t),r=!!(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=ro(t,e.child,null,i),t.child=ro(t,null,n,i)):Ao(e,t,n,i),t.memoizedState=s.state,e=t.child):e=Jo(e,t,i),e}function zo(e,t,n,r){return mi(),t.flags|=256,Ao(e,t,n,r),t.child}var Vo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bo(e){return{baseLanes:e,cachePool:qi()}}function Ho(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=yc),e}function Wo(e,t,n){var r,s=t.pendingProps,a=!1,o=!!(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&!!(2&ho.current)),r&&(a=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(oi){if(a?oo(t):co(),oi){var l,c=ai;if(l=c){e:{for(l=c,c=ci;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=bd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Xr?{id:Zr,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},(l=Ur(18,null,null,0)).stateNode=c,l.return=t,t.child=l,si=t,ai=null,l=!0):l=!1}l||di(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return yd(c)?t.lanes=32:t.lanes=536870912,null;uo(t)}return c=s.children,s=s.fallback,a?(co(),c=qo({mode:"hidden",children:c},a=t.mode),s=Hr(s,a,n,null),c.return=t,s.return=t,c.sibling=s,t.child=c,(a=t.child).memoizedState=Bo(n),a.childLanes=Ho(e,r,n),t.memoizedState=Vo,s):(oo(t),$o(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(oo(t),t.flags&=-257,t=Ko(e,t,n)):null!==t.memoizedState?(co(),t.child=e.child,t.flags|=128,t=null):(co(),a=s.fallback,c=t.mode,s=qo({mode:"visible",children:s.children},c),(a=Hr(a,c,n,null)).flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,ro(t,e.child,null,n),(s=t.child).memoizedState=Bo(n),s.childLanes=Ho(e,r,n),t.memoizedState=Vo,t=a);else if(oo(t),yd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(s=Error(i(419))).stack="",s.digest=r,vi({value:s,source:null,stack:null}),t=Ko(e,t,n)}else if(No||Ci(e,t,n,!1),r=0!==(n&e.childLanes),No||r){if(null!==(r=sc)&&(0!==(s=0!==((s=42&(s=n&-n)?1:Ae(s))&(r.suspendedLanes|n))?0:s)&&s!==l.retryLane))throw l.retryLane=s,Dr(e,s),Uc(r,e,s),Io;"$?"===c.data||Yc(),t=Ko(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ai=bd(c.nextSibling),si=t,oi=!0,li=null,ci=!1,null!==e&&(Qr[Jr++]=Zr,Qr[Jr++]=ei,Qr[Jr++]=Xr,Zr=e.id,ei=e.overflow,Xr=t),(t=$o(t,s.children)).flags|=4096);return t}return a?(co(),a=s.fallback,c=t.mode,u=(l=e.child).sibling,(s=zr(l,{mode:"hidden",children:s.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?a=zr(u,a):(a=Hr(a,c,n,null)).flags|=2,a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,null===(c=e.child.memoizedState)?c=Bo(n):(null!==(l=c.cachePool)?(u=Mi._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=qi(),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=Ho(e,r,n),t.memoizedState=Vo,s):(oo(t),e=(n=e.child).sibling,(n=zr(n,{mode:"visible",children:s.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function $o(e,t){return(t=qo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qo(e,t){return(e=Ur(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ko(e,t,n){return ro(t,e.child,null,n),(e=$o(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Go(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ki(e.return,t,n)}function Yo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Qo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ao(e,t,r.children,n),2&(r=ho.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Go(e,n,t);else if(19===e.tag)Go(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(H(ho,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===fo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Yo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===fo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Yo(t,!0,n,null,s);break;case"together":Yo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),mc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ci(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=zr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!_i(e))}function Zo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)No=!0;else{if(!(Xo(e,n)||128&t.flags))return No=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),xi(0,Mi,e.memoizedState.cache),mi();break;case 27:case 5:Q(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:xi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(oo(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Wo(e,t,n):(oo(t),null!==(e=Jo(e,t,n))?e.sibling:null);oo(t);break;case 19:var i=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Ci(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Qo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),H(ho,ho.current),r)break;return null;case 22:case 23:return t.lanes=0,Mo(e,t,n);case 24:xi(0,Mi,e.memoizedState.cache)}return Jo(e,t,n)}(e,t,n);No=!!(131072&e.flags)}else No=!1,oi&&1048576&t.flags&&ni(t,Yr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,s=r._init;if(r=s(r._payload),t.type=r,"function"!=typeof r){if(null!=r){if((s=r.$$typeof)===k){t.tag=11,t=Ro(null,t,r,e,n);break e}if(s===_){t.tag=14,t=Po(null,t,r,e,n);break e}}throw t=M(r)||r,Error(i(306,t,""))}Fr(r)?(e=yo(r,e),t.tag=1,t=Fo(null,t,r,e,n)):(t.tag=0,t=Oo(null,t,r,e,n))}return t;case 0:return Oo(e,t,t.type,t.pendingProps,n);case 1:return Fo(e,t,r=t.type,s=yo(r,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(i(387));r=t.pendingProps;var a=t.memoizedState;s=a.element,ss(e,t),hs(t,r,null,n);var o=t.memoizedState;if(r=o.cache,xi(0,Mi,r),r!==a.cache&&Ei(t,[Mi],n,!0),ds(),r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=zo(e,t,r,n);break e}if(r!==s){vi(s=_r(Error(i(424)),t)),t=zo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ai=bd(e.firstChild),si=t,oi=!0,li=null,ci=!0,n=io(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mi(),r===s){t=Jo(e,t,n);break e}Ao(e,t,r,n)}t=t.child}return t;case 26:return Lo(e,t),null===e?(n=Ad(t.type,null,t.pendingProps,null))?t.memoizedState=n:oi||(n=t.type,e=t.pendingProps,(r=sd(q.current).createElement(n))[Me]=t,r[je]=e,nd(r,n,e),Ke(r),t.stateNode=r):t.memoizedState=Ad(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&oi&&(r=t.stateNode=Sd(t.type,t.pendingProps,q.current),si=t,ci=!0,s=ai,md(t.type)?(wd=s,ai=bd(r.firstChild)):ai=s),Ao(e,t,t.pendingProps.children,n),Lo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&oi&&((s=r=ai)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ve])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=bd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ci))?(t.stateNode=r,si=t,ai=bd(r.firstChild),ci=!1,s=!0):s=!1),s||di(t)),Q(t),s=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,r=a.children,ld(s,a)?r=null:null!==o&&ld(s,o)&&(t.flags|=32),null!==t.memoizedState&&(s=Ds(e,t,Ls,null,null,n),Qd._currentValue=s),Lo(e,t),Ao(e,t,r,n),t.child;case 6:return null===e&&oi&&((e=n=ai)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=bd(e.nextSibling)))return null}return e}(n,t.pendingProps,ci))?(t.stateNode=n,si=t,ai=null,e=!0):e=!1),e||di(t)),null;case 13:return Wo(e,t,n);case 4:return G(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ro(t,null,r,n):Ao(e,t,r,n),t.child;case 11:return Ro(e,t,t.type,t.pendingProps,n);case 7:return Ao(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ao(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,xi(0,t.type,r.value),Ao(e,t,r.children,n),t.child;case 9:return s=t.type._context,r=t.pendingProps.children,Ti(t),r=r(s=Ii(s)),t.flags|=1,Ao(e,t,r,n),t.child;case 14:return Po(e,t,t.type,t.pendingProps,n);case 15:return Do(e,t,t.type,t.pendingProps,n);case 19:return Qo(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=qo(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=zr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Mo(e,t,n);case 24:return Ti(t),r=Ii(Mi),null===e?(null===(s=Wi())&&(s=sc,a=ji(),s.pooledCache=a,a.refCount++,null!==a&&(s.pooledCacheLanes|=n),s=a),t.memoizedState={parent:r,cache:s},is(t),xi(0,Mi,s)):(0!==(e.lanes&n)&&(ss(e,t),hs(t,null,null,n),ds()),s=e.memoizedState,a=t.memoizedState,s.parent!==r?(s={parent:r,cache:r},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),xi(0,Mi,r)):(r=a.cache,xi(0,Mi,r),r!==s.cache&&Ei(t,[Mi],n,!0))),Ao(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function el(e){e.flags|=4}function tl(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!Hd(t)){if(null!==(t=so.current)&&((4194048&oc)===oc?null!==ao:(62914560&oc)!==oc&&!(536870912&oc)||t!==ao))throw es=Qi,Gi;e.flags|=8192}}function nl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ce():536870912,e.lanes|=t,bc|=t)}function rl(e,t){if(!oi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function il(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function sl(e,t,n){var r=t.pendingProps;switch(ii(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return il(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Si(Mi),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(pi(t)?el(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,gi())),il(t),null;case 26:return n=t.memoizedState,null===e?(el(t),null!==n?(il(t),tl(t,n)):(il(t),t.flags&=-16777217)):n?n!==e.memoizedState?(el(t),il(t),tl(t,n)):(il(t),t.flags&=-16777217):(e.memoizedProps!==r&&el(t),il(t),t.flags&=-16777217),null;case 27:J(t),n=q.current;var s=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&el(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return il(t),null}e=W.current,pi(t)?hi(t):(e=Sd(s,r,n),t.stateNode=e,el(t))}return il(t),null;case 5:if(J(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&el(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return il(t),null}if(e=W.current,pi(t))hi(t);else{switch(s=sd(q.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof r.is?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"==typeof r.is?s.createElement(n,{is:r.is}):s.createElement(n)}}e[Me]=t,e[je]=r;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(nd(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&el(t)}}return il(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&el(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));if(e=q.current,pi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(s=si))switch(s.tag){case 27:case 5:r=s.memoizedProps}e[Me]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Xu(e.nodeValue,n)))||di(t)}else(e=sd(e).createTextNode(r))[Me]=t,t.stateNode=e}return il(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=pi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[Me]=t}else mi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;il(t),s=!1}else s=gi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return 256&t.flags?(uo(t),t):(uo(t),null)}if(uo(t),128&t.flags)return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){s=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(s=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==s&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),nl(t,t.updateQueue),il(t),null;case 4:return Y(),null===e&&Bu(t.stateNode.containerInfo),il(t),null;case 10:return Si(t.type),il(t),null;case 19:if(B(ho),null===(s=t.memoizedState))return il(t),null;if(r=!!(128&t.flags),null===(a=s.rendering))if(r)rl(s,!1);else{if(0!==pc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=fo(e))){for(t.flags|=128,rl(s,!1),e=a.updateQueue,t.updateQueue=e,nl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Vr(n,e),n=n.sibling;return H(ho,1&ho.current|2),t.child}e=e.sibling}null!==s.tail&&re()>Ec&&(t.flags|=128,r=!0,rl(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=fo(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,nl(t,e),rl(s,!0),null===s.tail&&"hidden"===s.tailMode&&!a.alternate&&!oi)return il(t),null}else 2*re()-s.renderingStartTime>Ec&&536870912!==n&&(t.flags|=128,r=!0,rl(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=s.last)?e.sibling=a:t.child=a,s.last=a)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=re(),t.sibling=null,e=ho.current,H(ho,r?1&e|2:1&e),t):(il(t),null);case 22:case 23:return uo(t),bs(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(il(t),6&t.subtreeFlags&&(t.flags|=8192)):il(t),null!==(n=t.updateQueue)&&nl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&B(Hi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Si(Mi),il(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function al(e,t){switch(ii(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Si(Mi),Y(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 13:if(uo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));mi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(ho),null;case 4:return Y(),null;case 10:return Si(t.type),null;case 22:case 23:return uo(t),bs(),null!==e&&B(Hi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Si(Mi),null;default:return null}}function ol(e,t){switch(ii(t),t.tag){case 3:Si(Mi),Y();break;case 26:case 27:case 5:J(t);break;case 4:Y();break;case 13:uo(t);break;case 19:B(ho);break;case 10:Si(t.type);break;case 22:case 23:uo(t),bs(),null!==e&&B(Hi);break;case 24:Si(Mi)}}function ll(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){hu(t,t.return,o)}}function cl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(u){hu(i,l,u)}}}r=r.next}while(r!==s)}}catch(u){hu(t,t.return,u)}}function ul(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ps(t,n)}catch(r){hu(e,e.return,r)}}}function dl(e,t,n){n.props=yo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){hu(e,t,r)}}function hl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(i){hu(e,t,i)}}function fl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(i){hu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(s){hu(e,t,s)}else n.current=null}function pl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){hu(e,e.return,i)}}function ml(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,a=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||ed(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":a=p;break;case"name":s=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(i(137,t));break;default:p!==h&&ed(e,t,f,p,r,h)}}return void yt(e,o,l,c,u,d,a,s);case"select":for(a in p=o=l=f=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(a)||ed(e,t,a,null,r,c)}for(s in r)if(a=r[s],c=n[s],r.hasOwnProperty(s)&&(null!=a||null!=c))switch(s){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==c&&ed(e,t,s,a,r,c)}return t=l,n=o,r=p,void(null!=f?xt(e,!!n,f,!1):!!r!=!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(s=n[l],n.hasOwnProperty(l)&&null!=s&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ed(e,t,l,null,r,s)}for(o in r)if(s=r[o],a=n[o],r.hasOwnProperty(o)&&(null!=s||null!=a))switch(o){case"value":f=s;break;case"defaultValue":p=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(i(91));break;default:s!==a&&ed(e,t,o,s,r,a)}return void St(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else ed(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f;else ed(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&ed(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(i(137,t));break;default:ed(e,t,u,f,r,p)}return;default:if(It(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&td(e,t,v,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||td(e,t,d,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&ed(e,t,y,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||ed(e,t,h,f,r,p)}(r,e.type,n,t),r[je]=t}catch(s){hu(e,e.return,s)}}function gl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&md(e.type)||4===e.tag}function vl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&md(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zu));else if(4!==r&&(27===r&&md(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function bl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&md(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(bl(e,t,n),e=e.sibling;null!==e;)bl(e,t,n),e=e.sibling}function wl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);nd(t,r,n),t[Me]=e,t[je]=n}catch(s){hu(e,e.return,s)}}var xl=!1,Sl=!1,kl=!1,El="function"==typeof WeakSet?WeakSet:Set,Cl=null;function _l(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(e,n),4&r&&ll(5,n);break;case 1:if(Fl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){hu(n,n.return,a)}else{var i=yo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){hu(n,n.return,o)}}64&r&&ul(n),512&r&&hl(n,n.return);break;case 3:if(Fl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ps(e,t)}catch(a){hu(n,n.return,a)}}break;case 27:null===t&&4&r&&wl(n);case 26:case 5:Fl(e,n),null===t&&4&r&&pl(n),512&r&&hl(n,n.return);break;case 12:Fl(e,n);break;case 13:Fl(e,n),4&r&&Pl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=gu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||xl)){t=null!==t&&null!==t.memoizedState||Sl,i=xl;var s=Sl;xl=r,(Sl=t)&&!s?Vl(e,n,!!(8772&n.subtreeFlags)):Fl(e,n),xl=i,Sl=s}break;case 30:break;default:Fl(e,n)}}function Tl(e){var t=e.alternate;null!==t&&(e.alternate=null,Tl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Be(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Il=null,Nl=!1;function Al(e,t,n){for(n=n.child;null!==n;)Rl(e,t,n),n=n.sibling}function Rl(e,t,n){if(fe&&"function"==typeof fe.onCommitFiberUnmount)try{fe.onCommitFiberUnmount(he,n)}catch(s){}switch(n.tag){case 26:Sl||fl(n,t),Al(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Sl||fl(n,t);var r=Il,i=Nl;md(n.type)&&(Il=n.stateNode,Nl=!1),Al(e,t,n),kd(n.stateNode),Il=r,Nl=i;break;case 5:Sl||fl(n,t);case 6:if(r=Il,i=Nl,Il=null,Al(e,t,n),Nl=i,null!==(Il=r))if(Nl)try{(9===Il.nodeType?Il.body:"HTML"===Il.nodeName?Il.ownerDocument.body:Il).removeChild(n.stateNode)}catch(a){hu(n,t,a)}else try{Il.removeChild(n.stateNode)}catch(a){hu(n,t,a)}break;case 18:null!==Il&&(Nl?(gd(9===(e=Il).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Nh(e)):gd(Il,n.stateNode));break;case 4:r=Il,i=Nl,Il=n.stateNode.containerInfo,Nl=!0,Al(e,t,n),Il=r,Nl=i;break;case 0:case 11:case 14:case 15:Sl||cl(2,n,t),Sl||cl(4,n,t),Al(e,t,n);break;case 1:Sl||(fl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&dl(n,t,r)),Al(e,t,n);break;case 21:Al(e,t,n);break;case 22:Sl=(r=Sl)||null!==n.memoizedState,Al(e,t,n),Sl=r;break;default:Al(e,t,n)}}function Pl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Nh(e)}catch(n){hu(t,t.return,n)}}function Dl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new El),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new El),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){var r=vu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r],a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(md(l.type)){Il=l.stateNode,Nl=!1;break e}break;case 5:Il=l.stateNode,Nl=!1;break e;case 3:case 4:Il=l.stateNode.containerInfo,Nl=!0;break e}l=l.return}if(null===Il)throw Error(i(160));Rl(a,o,s),Il=null,Nl=!1,null!==(a=s.alternate)&&(a.return=null),s.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ll(t,e),t=t.sibling}var jl=null;function Ll(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ml(t,e),Ol(e),4&r&&(cl(3,e,e.return),ll(3,e),cl(5,e,e.return));break;case 1:Ml(t,e),Ol(e),512&r&&(Sl||null===n||fl(n,n.return)),64&r&&xl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var s=jl;if(Ml(t,e),Ol(e),512&r&&(Sl||null===n||fl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":(!(a=s.getElementsByTagName("title")[0])||a[Ve]||a[Me]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=s.createElement(r),s.head.insertBefore(a,s.querySelector("head > title"))),nd(a,r,n),a[Me]=e,Ke(a),r=a;break e;case"link":var o=Vd("link","href",s).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}nd(a=s.createElement(r),r,n),s.head.appendChild(a);break;case"meta":if(o=Vd("meta","content",s).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}nd(a=s.createElement(r),r,n),s.head.appendChild(a);break;default:throw Error(i(468,r))}a[Me]=e,Ke(a),r=a}e.stateNode=r}else Bd(s,e.type,e.stateNode);else e.stateNode=Ld(s,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?Bd(s,e.type,e.stateNode):Ld(s,r,e.memoizedProps)):null===r&&null!==e.stateNode&&ml(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ml(t,e),Ol(e),512&r&&(Sl||null===n||fl(n,n.return)),null!==n&&4&r&&ml(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ml(t,e),Ol(e),512&r&&(Sl||null===n||fl(n,n.return)),32&e.flags){s=e.stateNode;try{Et(s,"")}catch(p){hu(e,e.return,p)}}4&r&&null!=e.stateNode&&ml(e,s=e.memoizedProps,null!==n?n.memoizedProps:s),1024&r&&(kl=!0);break;case 6:if(Ml(t,e),Ol(e),4&r){if(null===e.stateNode)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){hu(e,e.return,p)}}break;case 3:if(zd=null,s=jl,jl=_d(t.containerInfo),Ml(t,e),jl=s,Ol(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Nh(t.containerInfo)}catch(p){hu(e,e.return,p)}kl&&(kl=!1,Ul(e));break;case 4:r=jl,jl=_d(e.stateNode.containerInfo),Ml(t,e),Ol(e),jl=r;break;case 12:default:Ml(t,e),Ol(e);break;case 13:Ml(t,e),Ol(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(kc=re()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Dl(e,r)));break;case 22:s=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=xl,d=Sl;if(xl=u||s,Sl=d||c,Ml(t,e),Sl=d,xl=u,Ol(e),8192&r)e:for(t=e.stateNode,t._visibility=s?-2&t._visibility:1|t._visibility,s&&(null===n||c||xl||Sl||zl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,s)"function"==typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=null!=h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(p){hu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(p){hu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Dl(e,n))));break;case 19:Ml(t,e),Ol(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Dl(e,r)));case 30:case 21:}}function Ol(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(gl(r)){n=r;break}r=r.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var s=n.stateNode;bl(e,vl(e),s);break;case 5:var a=n.stateNode;32&n.flags&&(Et(a,""),n.flags&=-33),bl(e,vl(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;yl(e,vl(e),o);break;default:throw Error(i(161))}}catch(l){hu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ul(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ul(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)_l(e,t.alternate,t),t=t.sibling}function zl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:cl(4,t,t.return),zl(t);break;case 1:fl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&dl(t,t.return,n),zl(t);break;case 27:kd(t.stateNode);case 26:case 5:fl(t,t.return),zl(t);break;case 22:null===t.memoizedState&&zl(t);break;default:zl(t)}e=e.sibling}}function Vl(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Vl(i,s,n),ll(4,s);break;case 1:if(Vl(i,s,n),"function"==typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){hu(r,r.return,c)}if(null!==(i=(r=s).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)fs(l[i],o)}catch(c){hu(r,r.return,c)}}n&&64&a&&ul(s),hl(s,s.return);break;case 27:wl(s);case 26:case 5:Vl(i,s,n),n&&null===r&&4&a&&pl(s),hl(s,s.return);break;case 12:Vl(i,s,n);break;case 13:Vl(i,s,n),n&&4&a&&Pl(i,s);break;case 22:null===s.memoizedState&&Vl(i,s,n),hl(s,s.return);break;case 30:break;default:Vl(i,s,n)}t=t.sibling}}function Bl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Li(n))}function Hl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Li(e))}function Wl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)$l(e,t,n,r),t=t.sibling}function $l(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Wl(e,t,n,r),2048&i&&ll(9,t);break;case 1:case 13:default:Wl(e,t,n,r);break;case 3:Wl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Li(e)));break;case 12:if(2048&i){Wl(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"==typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){hu(t,t.return,l)}}else Wl(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,null!==t.memoizedState?2&s._visibility?Wl(e,t,n,r):Kl(e,t):2&s._visibility?Wl(e,t,n,r):(s._visibility|=2,ql(e,t,n,r,!!(10256&t.subtreeFlags))),2048&i&&Bl(a,t);break;case 24:Wl(e,t,n,r),2048&i&&Hl(t.alternate,t)}}function ql(e,t,n,r,i){for(i=i&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:ql(s,a,o,l,i),ll(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?ql(s,a,o,l,i):Kl(s,a):(u._visibility|=2,ql(s,a,o,l,i)),i&&2048&c&&Bl(a.alternate,a);break;case 24:ql(s,a,o,l,i),i&&2048&c&&Hl(a.alternate,a);break;default:ql(s,a,o,l,i)}t=t.sibling}}function Kl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Kl(n,r),2048&i&&Bl(r.alternate,r);break;case 24:Kl(n,r),2048&i&&Hl(r.alternate,r);break;default:Kl(n,r)}t=t.sibling}}var Gl=8192;function Yl(e){if(e.subtreeFlags&Gl)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 26:Yl(e),e.flags&Gl&&null!==e.memoizedState&&function(e,t,n){if(null===Wd)throw Error(i(475));var r=Wd;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var s=Rd(n.href),a=e.querySelector(Pd(s));if(a)return null!==(e=a._p)&&"object"==typeof e&&"function"==typeof e.then&&(r.count++,r=qd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=a,void Ke(a);a=e.ownerDocument||e,n=Dd(n),(s=Ed.get(s))&&Ud(n,s),Ke(a=a.createElement("link"));var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),nd(a,"link",n),t.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(r.count++,t=qd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(jl,e.memoizedState,e.memoizedProps);break;case 5:default:Yl(e);break;case 3:case 4:var t=jl;jl=_d(e.stateNode.containerInfo),Yl(e),jl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Gl,Gl=16777216,Yl(e),Gl=t):Yl(e))}}function Jl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Xl(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Cl=r,tc(r,e)}Jl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Zl(e),e=e.sibling}function Zl(e){switch(e.tag){case 0:case 11:case 15:Xl(e),2048&e.flags&&cl(9,e,e.return);break;case 3:case 12:default:Xl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ec(e)):Xl(e)}}function ec(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Cl=r,tc(r,e)}Jl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:cl(8,t,t.return),ec(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,ec(t));break;default:ec(t)}e=e.sibling}}function tc(e,t){for(;null!==Cl;){var n=Cl;switch(n.tag){case 0:case 11:case 15:cl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Li(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Cl=r;else e:for(n=e;null!==Cl;){var i=(r=Cl).sibling,s=r.return;if(Tl(r),r===n){Cl=null;break e}if(null!==i){i.return=s,Cl=i;break e}Cl=s}}}var nc={getCacheForType:function(e){var t=Ii(Mi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},rc="function"==typeof WeakMap?WeakMap:Map,ic=0,sc=null,ac=null,oc=0,lc=0,cc=null,uc=!1,dc=!1,hc=!1,fc=0,pc=0,mc=0,gc=0,vc=0,yc=0,bc=0,wc=null,xc=null,Sc=!1,kc=0,Ec=1/0,Cc=null,_c=null,Tc=0,Ic=null,Nc=null,Ac=0,Rc=0,Pc=null,Dc=null,Mc=0,jc=null;function Lc(){if(2&ic&&0!==oc)return oc&-oc;if(null!==L.T){return 0!==Fi?Fi:Ru()}return Pe()}function Oc(){0===yc&&(yc=536870912&oc&&!oi?536870912:Ee());var e=so.current;return null!==e&&(e.flags|=32),yc}function Uc(e,t,n){(e!==sc||2!==lc&&9!==lc)&&null===e.cancelPendingCommit||($c(e,0),Bc(e,oc,yc,!1)),Te(e,n),2&ic&&e===sc||(e===sc&&(!(2&ic)&&(gc|=n),4===pc&&Bc(e,oc,yc,!1)),Eu(e))}function Fc(e,t,n){if(6&ic)throw Error(i(327));for(var r=!n&&!(124&t)&&0===(t&e.expiredLanes)||Se(e,t),s=r?function(e,t){var n=ic;ic|=2;var r=Kc(),s=Gc();sc!==e||oc!==t?(Cc=null,Ec=re()+500,$c(e,t)):dc=Se(e,t);e:for(;;)try{if(0!==lc&&null!==ac){t=ac;var a=cc;t:switch(lc){case 1:lc=0,cc=null,tu(e,t,a,1);break;case 2:case 9:if(Ji(a)){lc=0,cc=null,eu(t);break}t=function(){2!==lc&&9!==lc||sc!==e||(lc=7),Eu(e)},a.then(t,t);break e;case 3:lc=7;break e;case 4:lc=5;break e;case 7:Ji(a)?(lc=0,cc=null,eu(t)):(lc=0,cc=null,tu(e,t,a,7));break;case 5:var o=null;switch(ac.tag){case 26:o=ac.memoizedState;case 5:case 27:var l=ac;if(!o||Hd(o)){lc=0,cc=null;var c=l.sibling;if(null!==c)ac=c;else{var u=l.return;null!==u?(ac=u,nu(u)):ac=null}break t}}lc=0,cc=null,tu(e,t,a,5);break;case 6:lc=0,cc=null,tu(e,t,a,6);break;case 8:Wc(),pc=6;break e;default:throw Error(i(462))}}Xc();break}catch(d){qc(e,d)}return wi=bi=null,L.H=r,L.A=s,ic=n,null!==ac?0:(sc=null,oc=0,Ar(),pc)}(e,t):Qc(e,t,!0),a=r;;){if(0===s){dc&&!r&&Bc(e,t,0,!1);break}if(n=e.current.alternate,!a||Vc(n)){if(2===s){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;s=wc;var c=l.current.memoizedState.isDehydrated;if(c&&($c(l,o).flags|=256),2!==(o=Qc(l,o,!1))){if(hc&&!c){l.errorRecoveryDisabledLanes|=a,gc|=a,s=4;break e}a=xc,xc=s,null!==a&&(null===xc?xc=a:xc.push.apply(xc,a))}s=o}if(a=!1,2!==s)continue}}if(1===s){$c(e,0),Bc(e,t,0,!0);break}e:{switch(r=e,a=s){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:Bc(r,t,yc,!uc);break e;case 2:xc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(s=kc+300-re())){if(Bc(r,t,yc,!uc),0!==xe(r,0,!0))break e;r.timeoutHandle=ud(zc.bind(null,r,n,xc,Cc,Sc,t,yc,gc,bc,uc,a,2,-0,0),s)}else zc(r,n,xc,Cc,Sc,t,yc,gc,bc,uc,a,0,-0,0)}break}s=Qc(e,t,!1),a=!1}Eu(e)}function zc(e,t,n,r,s,a,o,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||!(16785408&~h))&&(Wd={stylesheets:null,count:0,unsuspend:$d},Ql(t),null!==(h=function(){if(null===Wd)throw Error(i(475));var e=Wd;return e.stylesheets&&0===e.count&&Gd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Gd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(iu.bind(null,e,t,a,n,r,s,o,l,c,d,1,f,p)),void Bc(e,a,o,!u);iu(e,t,a,n,r,s,o,l,c)}function Vc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Jn(s(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bc(e,t,n,r){t&=~vc,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-me(i),a=1<<s;r[s]=-1,i&=~a}0!==n&&Ie(e,n,t)}function Hc(){return!!(6&ic)||(Cu(0),!1)}function Wc(){if(null!==ac){if(0===lc)var e=ac.return;else wi=bi=null,Fs(e=ac),Qa=null,Ja=0,e=ac;for(;null!==e;)ol(e.alternate,e),e=e.return;ac=null}}function $c(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,dd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Wc(),sc=e,ac=n=zr(e.current,null),oc=t,lc=0,cc=null,uc=!1,dc=Se(e,t),hc=!1,bc=yc=vc=gc=mc=pc=0,xc=wc=null,Sc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-me(r),s=1<<i;t|=e[i],r&=~s}return fc=t,Ar(),n}function qc(e,t){xs=null,L.H=qa,t===Ki||t===Yi?(t=ts(),lc=3):t===Gi?(t=ts(),lc=4):lc=t===Io?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,cc=t,null===ac&&(pc=1,ko(e,_r(t,e.current)))}function Kc(){var e=L.H;return L.H=qa,null===e?qa:e}function Gc(){var e=L.A;return L.A=nc,e}function Yc(){pc=4,uc||(4194048&oc)!==oc&&null!==so.current||(dc=!0),!(134217727&mc)&&!(134217727&gc)||null===sc||Bc(sc,oc,yc,!1)}function Qc(e,t,n){var r=ic;ic|=2;var i=Kc(),s=Gc();sc===e&&oc===t||(Cc=null,$c(e,t)),t=!1;var a=pc;e:for(;;)try{if(0!==lc&&null!==ac){var o=ac,l=cc;switch(lc){case 8:Wc(),a=6;break e;case 3:case 2:case 9:case 6:null===so.current&&(t=!0);var c=lc;if(lc=0,cc=null,tu(e,o,l,c),n&&dc){a=0;break e}break;default:c=lc,lc=0,cc=null,tu(e,o,l,c)}}Jc(),a=pc;break}catch(u){qc(e,u)}return t&&e.shellSuspendCounter++,wi=bi=null,ic=r,L.H=i,L.A=s,null===ac&&(sc=null,oc=0,Ar()),a}function Jc(){for(;null!==ac;)Zc(ac)}function Xc(){for(;null!==ac&&!te();)Zc(ac)}function Zc(e){var t=Zo(e.alternate,e,fc);e.memoizedProps=e.pendingProps,null===t?nu(e):ac=t}function eu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Uo(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=Uo(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:Fs(t);default:ol(n,t),t=Zo(n,t=ac=Vr(t,fc),fc)}e.memoizedProps=e.pendingProps,null===t?nu(e):ac=t}function tu(e,t,n,r){wi=bi=null,Fs(t),Qa=null,Ja=0;var s=t.return;try{if(function(e,t,n,r,s){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&Ci(t,n,s,!0),null!==(n=so.current)){switch(n.tag){case 13:return null===ao?Yc():null===n.alternate&&0===pc&&(pc=3),n.flags&=-257,n.flags|=65536,n.lanes=s,r===Qi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),fu(e,r,s)),!1;case 22:return n.flags|=65536,r===Qi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),fu(e,r,s)),!1}throw Error(i(435,n.tag))}return fu(e,r,s),Yc(),!1}if(oi)return null!==(t=so.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,r!==ui&&vi(_r(e=Error(i(422),{cause:r}),n))):(r!==ui&&vi(_r(t=Error(i(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,r=_r(r,n),cs(e,s=Co(e.stateNode,r,s)),4!==pc&&(pc=2)),!1;var a=Error(i(520),{cause:r});if(a=_r(a,n),null===wc?wc=[a]:wc.push(a),4!==pc&&(pc=2),null===t)return!0;r=_r(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,cs(n,e=Co(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===a||"function"!=typeof a.componentDidCatch||null!==_c&&_c.has(a))))return n.flags|=65536,s&=-s,n.lanes|=s,To(s=_o(s),e,n,r),cs(n,s),!1}n=n.return}while(null!==n);return!1}(e,s,t,n,oc))return pc=1,ko(e,_r(n,e.current)),void(ac=null)}catch(a){if(null!==s)throw ac=s,a;return pc=1,ko(e,_r(n,e.current)),void(ac=null)}32768&t.flags?(oi||1===r?e=!0:dc||536870912&oc?e=!1:(uc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=so.current)&&13===r.tag&&(r.flags|=16384))),ru(t,e)):nu(t)}function nu(e){var t=e;do{if(32768&t.flags)return void ru(t,uc);e=t.return;var n=sl(t.alternate,t,fc);if(null!==n)return void(ac=n);if(null!==(t=t.sibling))return void(ac=t);ac=t=e}while(null!==t);0===pc&&(pc=5)}function ru(e,t){do{var n=al(e.alternate,e);if(null!==n)return n.flags&=32767,void(ac=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ac=e);ac=e=n}while(null!==e);pc=6,ac=null}function iu(e,t,n,r,s,a,o,l,c){e.cancelPendingCommit=null;do{cu()}while(0!==Tc);if(6&ic)throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-me(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Ie(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,n,a|=Nr,o,l,c),e===sc&&(ac=sc=null,oc=0),Nc=t,Ic=e,Ac=n,Rc=a,Pc=s,Dc=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,Z(oe,function(){return uu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=L.T,L.T=null,s=O.p,O.p=2,o=ic,ic|=4;try{!function(e,t){if(e=e.containerInfo,rd=ih,rr(e=nr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(id={focusedElem:e,selectionRange:n},ih=!1,Cl=t;null!==Cl;)if(e=(t=Cl).child,1024&t.subtreeFlags&&null!==e)e.return=t,Cl=e;else for(;null!==Cl;){switch(a=(t=Cl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==a){e=void 0,n=t,s=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=yo(n.type,s,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){hu(n,n.return,v)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))vd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,Cl=e;break}Cl=t.return}}(e,t)}finally{ic=o,O.p=s,L.T=r}}Tc=1,su(),au(),ou()}}function su(){if(1===Tc){Tc=0;var e=Ic,t=Nc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=L.T,L.T=null;var r=O.p;O.p=2;var i=ic;ic|=4;try{Ll(t,e);var s=id,a=nr(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&tr(o.ownerDocument.documentElement,o)){if(null!==l&&rr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(a=g,g=m,m=a);var v=er(o,m),y=er(o,g);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<d.length;o++){var w=d[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}ih=!!rd,id=rd=null}finally{ic=i,O.p=r,L.T=n}}e.current=t,Tc=2}}function au(){if(2===Tc){Tc=0;var e=Ic,t=Nc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=L.T,L.T=null;var r=O.p;O.p=2;var i=ic;ic|=4;try{_l(e,t.alternate,t)}finally{ic=i,O.p=r,L.T=n}}Tc=3}}function ou(){if(4===Tc||3===Tc){Tc=0,ne();var e=Ic,t=Nc,n=Ac,r=Dc;10256&t.subtreeFlags||10256&t.flags?Tc=5:(Tc=0,Nc=Ic=null,lu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(_c=null),Re(n),t=t.stateNode,fe&&"function"==typeof fe.onCommitFiberRoot)try{fe.onCommitFiberRoot(he,t,void 0,!(128&~t.current.flags))}catch(l){}if(null!==r){t=L.T,i=O.p,O.p=2,L.T=null;try{for(var s=e.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{L.T=t,O.p=i}}3&Ac&&cu(),Eu(e),i=e.pendingLanes,4194090&n&&42&i?e===jc?Mc++:(Mc=0,jc=e):Mc=0,Cu(0)}}function lu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Li(t)))}function cu(e){return su(),au(),ou(),uu()}function uu(){if(5!==Tc)return!1;var e=Ic,t=Rc;Rc=0;var n=Re(Ac),r=L.T,s=O.p;try{O.p=32>n?32:n,L.T=null,n=Pc,Pc=null;var a=Ic,o=Ac;if(Tc=0,Nc=Ic=null,Ac=0,6&ic)throw Error(i(331));var l=ic;if(ic|=4,Zl(a.current),$l(a,a.current,o,n),ic=l,Cu(0,!1),fe&&"function"==typeof fe.onPostCommitFiberRoot)try{fe.onPostCommitFiberRoot(he,a)}catch(c){}return!0}finally{O.p=s,L.T=r,lu(e,t)}}function du(e,t,n){t=_r(n,t),null!==(e=os(e,t=Co(e.stateNode,t,2),2))&&(Te(e,2),Eu(e))}function hu(e,t,n){if(3===e.tag)du(e,e,n);else for(;null!==t;){if(3===t.tag){du(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===_c||!_c.has(r))){e=_r(n,e),null!==(r=os(t,n=_o(2),2))&&(To(n,r,t,e),Te(r,2),Eu(r));break}}t=t.return}}function fu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new rc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(hc=!0,i.add(n),e=pu.bind(null,e,t,n),t.then(e,e))}function pu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,sc===e&&(oc&n)===n&&(4===pc||3===pc&&(62914560&oc)===oc&&300>re()-kc?!(2&ic)&&$c(e,0):vc|=n,bc===oc&&(bc=0)),Eu(e)}function mu(e,t){0===t&&(t=Ce()),null!==(e=Dr(e,t))&&(Te(e,t),Eu(e))}function gu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),mu(e,n)}function vu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==r&&r.delete(t),mu(e,n)}var yu=null,bu=null,wu=!1,xu=!1,Su=!1,ku=0;function Eu(e){e!==bu&&null===e.next&&(null===bu?yu=bu=e:bu=bu.next=e),xu=!0,wu||(wu=!0,fd(function(){6&ic?Z(se,_u):Tu()}))}function Cu(e,t){if(!Su&&xu){Su=!0;do{for(var n=!1,r=yu;null!==r;){if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-me(42|e)+1)-1,s=201326741&(s&=i&~(a&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Au(r,s))}else s=oc,!(3&(s=xe(r,r===sc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Se(r,s)||(n=!0,Au(r,s));r=r.next}}while(n);Su=!1}}function _u(){Tu()}function Tu(){xu=wu=!1;var e=0;0!==ku&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==cd&&(cd=e,!0);return cd=null,!1}()&&(e=ku),ku=0);for(var t=re(),n=null,r=yu;null!==r;){var i=r.next,s=Iu(r,t);0===s?(r.next=null,null===n?yu=i:n.next=i,null===i&&(bu=n)):(n=r,(0!==e||3&s)&&(xu=!0)),r=i}Cu(e)}function Iu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-me(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ke(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=oc,n=xe(e,e===(t=sc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===lc||9===lc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ee(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Se(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ee(r),Re(n)){case 2:case 8:n=ae;break;case 32:default:n=oe;break;case 268435456:n=ce}return r=Nu.bind(null,e),n=Z(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ee(r),e.callbackPriority=2,e.callbackNode=null,2}function Nu(e,t){if(0!==Tc&&5!==Tc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(cu()&&e.callbackNode!==n)return null;var r=oc;return 0===(r=xe(e,e===sc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,r,t),Iu(e,re()),null!=e.callbackNode&&e.callbackNode===n?Nu.bind(null,e):null)}function Au(e,t){if(cu())return null;Fc(e,t,!0)}function Ru(){return 0===ku&&(ku=Ee()),ku}function Pu(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Rt(""+e)}function Du(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Mu=0;Mu<kr.length;Mu++){var ju=kr[Mu];Er(ju.toLowerCase(),"on"+(ju[0].toUpperCase()+ju.slice(1)))}Er(mr,"onAnimationEnd"),Er(gr,"onAnimationIteration"),Er(vr,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(yr,"onTransitionRun"),Er(br,"onTransitionStart"),Er(wr,"onTransitionCancel"),Er(xr,"onTransitionEnd"),Je("onMouseEnter",["mouseout","mouseover"]),Je("onMouseLeave",["mouseout","mouseover"]),Je("onPointerEnter",["pointerout","pointerover"]),Je("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ou=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lu));function Uu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){bo(u)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){bo(u)}i.currentTarget=null,s=l}}}}function Fu(e,t){var n=t[Oe];void 0===n&&(n=t[Oe]=new Set);var r=e+"__bubble";n.has(r)||(Hu(t,e,2,!1),n.add(r))}function zu(e,t,n){var r=0;t&&(r|=4),Hu(n,e,r,t)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function Bu(e){if(!e[Vu]){e[Vu]=!0,Ge.forEach(function(t){"selectionchange"!==t&&(Ou.has(t)||zu(t,!1,e),zu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vu]||(t[Vu]=!0,zu("selectionchange",!1,t))}}function Hu(e,t,n,r){switch(dh(t)){case 2:var i=sh;break;case 8:i=ah;break;default:i=oh}n=i.bind(null,t,n,e),i=void 0,!Vt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wu(e,t,n,r,i){var s=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var l=r.stateNode.containerInfo;if(l===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==l;){if(null===(o=He(l)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=s=o;continue e}l=l.parentNode}}r=r.return}Ut(function(){var r=s,i=Dt(n),o=[];e:{var l=Sr.get(e);if(void 0!==l){var c=tn,u=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":c=vn;break;case"focusin":u="focus",c=ln;break;case"focusout":u="blur",c=ln;break;case"beforeblur":case"afterblur":c=ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=bn;break;case mr:case gr:case vr:c=cn;break;case xr:c=wn;break;case"scroll":case"scrollend":c=rn;break;case"wheel":c=xn;break;case"copy":case"cut":case"paste":c=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=yn;break;case"toggle":case"beforetoggle":c=Sn}var d=!!(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==l?l+"Capture":null:l;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Ft(m,f))&&d.push($u(m,g,p)),h)break;m=m.return}0<d.length&&(l=new c(l,u,null,n,i),o.push({event:l,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Pt||!(u=n.relatedTarget||n.fromElement)||!He(u)&&!u[Le])&&(c||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?He(u):null)&&(h=a(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=an,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=yn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?l:$e(c),p=null==u?l:$e(u),(l=new d(g,m+"leave",c,n,i)).target=h,l.relatedTarget=p,g=null,He(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=Ku(p))m++;for(p=0,g=f;g;g=Ku(g))p++;for(;0<m-p;)d=Ku(d),m--;for(;0<p-m;)f=Ku(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Ku(d),f=Ku(f)}d=null}else d=null;null!==c&&Gu(o,l,c,d,!1),null!==u&&null!==h&&Gu(o,h,u,d,!0)}if("select"===(c=(l=r?$e(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var v=zn;else if(Mn(l))if(Vn)v=Qn;else{v=Gn;var y=Kn}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&It(r.elementType)&&(v=zn):v=Yn;switch(v&&(v=v(e,r))?jn(o,v,n,i):(y&&y(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&wt(l,"number",l.value)),y=r?$e(r):window,e){case"focusin":(Mn(y)||"true"===y.contentEditable)&&(sr=y,ar=r,or=null);break;case"focusout":or=ar=sr=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,cr(o,n,i);break;case"selectionchange":if(ir)break;case"keydown":case"keyup":cr(o,n,i)}var b;if(En)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Pn?An(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Tn&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Pn&&(b=qt()):(Wt="value"in(Ht=i)?Ht.value:Ht.textContent,Pn=!0)),0<(y=qu(r,w)).length&&(w=new dn(w,e,null,n,i),o.push({event:w,listeners:y}),b?w.data=b:null!==(b=Rn(n))&&(w.data=b))),(b=_n?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(Nn=!0,In);case"textInput":return(e=t.data)===In&&Nn?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!En&&An(e,t)?(e=qt(),$t=Wt=Ht=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=qu(r,"onBeforeInput")).length&&(y=new dn("onBeforeInput","beforeinput",null,n,i),o.push({event:y,listeners:w}),y.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Pu((i[je]||null).action),a=r.submitter;a&&null!==(t=(t=a[je]||null)?Pu(t.formAction):a.getAttribute("formAction"))&&(s=t,a=null);var o=new tn("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==ku){var e=a?Du(i,a):new FormData(i);Pa(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"==typeof s&&(o.preventDefault(),e=a?Du(i,a):new FormData(i),Pa(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(o,e,r,n,i)}Uu(o,t)})}function $u(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Ft(e,n))&&r.unshift($u(e,i,s)),null!=(i=Ft(e,t))&&r.push($u(e,i,s))),3===e.tag)return r;e=e.return}return[]}function Ku(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Gu(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Ft(n,s))&&a.unshift($u(n,c,l)):i||null!=(c=Ft(n,s))&&a.push($u(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yu=/\r\n?/g,Qu=/\u0000|\uFFFD/g;function Ju(e){return("string"==typeof e?e:""+e).replace(Yu,"\n").replace(Qu,"")}function Xu(e,t){return t=Ju(t),Ju(e)===t}function Zu(){}function ed(e,t,n,r,s,a){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||Et(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&Et(e,""+r);break;case"className":it(e,"class",r);break;case"tabIndex":it(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":it(e,n,r);break;case"style":Tt(e,r,a);break;case"data":if("object"!==t){it(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Rt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof a&&("formAction"===n?("input"!==t&&ed(e,t,"name",s.name,s,null),ed(e,t,"formEncType",s.formEncType,s,null),ed(e,t,"formMethod",s.formMethod,s,null),ed(e,t,"formTarget",s.formTarget,s,null)):(ed(e,t,"encType",s.encType,s,null),ed(e,t,"method",s.method,s,null),ed(e,t,"target",s.target,s,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Rt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Zu);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=Rt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),rt(e,"popover",r);break;case"xlinkActuate":st(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":st(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":st(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":st(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":st(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":st(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":st(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":st(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":st(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":rt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&rt(e,n=Nt.get(n)||n,r)}}function td(e,t,n,r,s,a){switch(n){case"style":Tt(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"==typeof r?Et(e,r):("number"==typeof r||"bigint"==typeof r)&&Et(e,""+r);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ye.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),"function"==typeof(a=null!=(a=e[je]||null)?a[n]:null)&&e.removeEventListener(t,a,s),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):rt(e,n,r):("function"!=typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,s)))}}function nd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var r,s=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":s=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ed(e,t,r,o,n,null)}}return a&&ed(e,t,"srcSet",n.srcSet,n,null),void(s&&ed(e,t,"src",n.src,n,null));case"input":Fu("invalid",e);var l=r=o=a=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(null!=d)switch(s){case"name":a=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,t));break;default:ed(e,t,s,d,n,null)}}return bt(e,r,l,c,u,o,a,!1),void ft(e);case"select":for(a in Fu("invalid",e),s=o=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":s=l;default:ed(e,t,a,l,n,null)}return t=r,n=o,e.multiple=!!s,void(null!=t?xt(e,!!s,t,!1):null!=n&&xt(e,!!s,n,!0));case"textarea":for(o in Fu("invalid",e),r=a=s=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":s=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:ed(e,t,o,l,n,null)}return kt(e,s,a,r),void ft(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(s=n[c]))if("selected"===c)e.selected=s&&"function"!=typeof s&&"symbol"!=typeof s;else ed(e,t,c,s,n,null);return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(s=0;s<Lu.length;s++)Fu(Lu[s],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(s=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ed(e,t,u,s,n,null)}return;default:if(It(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(s=n[d])&&td(e,t,d,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(s=n[l])&&ed(e,t,l,s,n,null))}var rd=null,id=null;function sd(e){return 9===e.nodeType?e:e.ownerDocument}function ad(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function od(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ld(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var cd=null;var ud="function"==typeof setTimeout?setTimeout:void 0,dd="function"==typeof clearTimeout?clearTimeout:void 0,hd="function"==typeof Promise?Promise:void 0,fd="function"==typeof queueMicrotask?queueMicrotask:void 0!==hd?function(e){return hd.resolve(null).then(e).catch(pd)}:ud;function pd(e){setTimeout(function(){throw e})}function md(e){return"head"===e}function gd(e,t){var n=t,r=0,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&kd(a.documentElement),2&n&&kd(a.body),4&n)for(kd(n=a.head),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[Ve]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}if(0===i)return e.removeChild(s),void Nh(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Nh(t)}function vd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":vd(n),Be(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function yd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function bd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var wd=null;function xd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function Sd(e,t,n){switch(t=sd(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function kd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Be(e)}var Ed=new Map,Cd=new Set;function _d(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Td=O.d;O.d={f:function(){var e=Td.f(),t=Hc();return e||t},r:function(e){var t=We(e);null!==t&&5===t.tag&&"form"===t.type?Ma(t):Td.r(e)},D:function(e){Td.D(e),Nd("dns-prefetch",e,null)},C:function(e,t){Td.C(e,t),Nd("preconnect",e,t)},L:function(e,t,n){Td.L(e,t,n);var r=Id;if(r&&e&&t){var i='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+vt(n.imageSizes)+'"]')):i+='[href="'+vt(e)+'"]';var s=i;switch(t){case"style":s=Rd(e);break;case"script":s=Md(e)}Ed.has(s)||(e=u({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Ed.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Pd(s))||"script"===t&&r.querySelector(jd(s))||(nd(t=r.createElement("link"),"link",e),Ke(t),r.head.appendChild(t)))}},m:function(e,t){Td.m(e,t);var n=Id;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+vt(r)+'"][href="'+vt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Md(e)}if(!Ed.has(s)&&(e=u({rel:"modulepreload",href:e},t),Ed.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(jd(s)))return}nd(r=n.createElement("link"),"link",e),Ke(r),n.head.appendChild(r)}}},X:function(e,t){Td.X(e,t);var n=Id;if(n&&e){var r=qe(n).hoistableScripts,i=Md(e),s=r.get(i);s||((s=n.querySelector(jd(i)))||(e=u({src:e,async:!0},t),(t=Ed.get(i))&&Fd(e,t),Ke(s=n.createElement("script")),nd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){Td.S(e,t,n);var r=Id;if(r&&e){var i=qe(r).hoistableStyles,s=Rd(e);t=t||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Pd(s)))o.loading=5;else{e=u({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ed.get(s))&&Ud(e,n);var l=a=r.createElement("link");Ke(l),nd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Od(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}},M:function(e,t){Td.M(e,t);var n=Id;if(n&&e){var r=qe(n).hoistableScripts,i=Md(e),s=r.get(i);s||((s=n.querySelector(jd(i)))||(e=u({src:e,async:!0,type:"module"},t),(t=Ed.get(i))&&Fd(e,t),Ke(s=n.createElement("script")),nd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var Id="undefined"==typeof document?null:document;function Nd(e,t,n){var r=Id;if(r&&"string"==typeof t&&t){var i=vt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),Cd.has(i)||(Cd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(nd(t=r.createElement("link"),"link",e),Ke(t),r.head.appendChild(t)))}}function Ad(e,t,n,r){var s,a,o,l,c=(c=q.current)?_d(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Rd(n.href),(r=(n=qe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Rd(n.href);var u=qe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Pd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Ed.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ed.set(e,n),u||(s=c,a=e,o=n,l=d.state,s.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=s.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),nd(a,"link",o),Ke(a),s.head.appendChild(a))))),t&&null===r)throw Error(i(528,""));return d}if(t&&null!==r)throw Error(i(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Md(n),(r=(n=qe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Rd(e){return'href="'+vt(e)+'"'}function Pd(e){return'link[rel="stylesheet"]['+e+"]"}function Dd(e){return u({},e,{"data-precedence":e.precedence,precedence:null})}function Md(e){return'[src="'+vt(e)+'"]'}function jd(e){return"script[async]"+e}function Ld(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(r)return t.instance=r,Ke(r),r;var s=u({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ke(r=(e.ownerDocument||e).createElement("style")),nd(r,"style",s),Od(r,n.precedence,e),t.instance=r;case"stylesheet":s=Rd(n.href);var a=e.querySelector(Pd(s));if(a)return t.state.loading|=4,t.instance=a,Ke(a),a;r=Dd(n),(s=Ed.get(s))&&Ud(r,s),Ke(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),nd(a,"link",r),t.state.loading|=4,Od(a,n.precedence,e),t.instance=a;case"script":return a=Md(n.src),(s=e.querySelector(jd(a)))?(t.instance=s,Ke(s),s):(r=n,(s=Ed.get(a))&&Fd(r=u({},n),s),Ke(s=(e=e.ownerDocument||e).createElement("script")),nd(s,"link",r),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Od(r,n.precedence,e));return t.instance}function Od(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ud(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var zd=null;function Vd(e,t,n){if(null===zd){var r=new Map,i=zd=new Map;i.set(n,r)}else(r=(i=zd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Ve]||s[Me]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function Bd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Hd(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Wd=null;function $d(){}function qd(){if(this.count--,0===this.count)if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Kd=null;function Gd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Kd=new Map,t.forEach(Yd,e),Kd=null,qd.call(e))}function Yd(e,t){if(!(4&t.state.loading)){var n=Kd.get(e);if(n)var r=n.get(null);else{n=new Map,Kd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(s=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=qd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Qd={$$typeof:x,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function Jd(e,t,n,r,i,s,a,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_e(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_e(0),this.hiddenUpdates=_e(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Xd(e,t,n,r,i,s,a,o,l,c,u,d){return e=new Jd(e,t,n,a,o,l,c,d),t=1,!0===s&&(t|=24),s=Ur(3,null,null,t),e.current=s,s.stateNode=e,(t=ji()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},is(s),e}function Zd(e){return e?e=Lr:Lr}function eh(e,t,n,r,i,s){i=Zd(i),null===r.context?r.context=i:r.pendingContext=i,(r=as(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=os(e,r,t))&&(Uc(n,0,t),ls(n,e,t))}function th(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nh(e,t){th(e,t),(e=e.alternate)&&th(e,t)}function rh(e){if(13===e.tag){var t=Dr(e,67108864);null!==t&&Uc(t,0,67108864),nh(e,67108864)}}var ih=!0;function sh(e,t,n,r){var i=L.T;L.T=null;var s=O.p;try{O.p=2,oh(e,t,n,r)}finally{O.p=s,L.T=i}}function ah(e,t,n,r){var i=L.T;L.T=null;var s=O.p;try{O.p=8,oh(e,t,n,r)}finally{O.p=s,L.T=i}}function oh(e,t,n,r){if(ih){var i=lh(r);if(null===i)Wu(e,t,r,ch,n),wh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return fh=xh(fh,e,t,n,r,i),!0;case"dragenter":return ph=xh(ph,e,t,n,r,i),!0;case"mouseover":return mh=xh(mh,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return gh.set(s,xh(gh.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,vh.set(s,xh(vh.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(wh(e,r),4&t&&-1<bh.indexOf(e)){for(;null!==i;){var s=We(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=we(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-me(a);o.entanglements[1]|=l,a&=~l}Eu(s),!(6&ic)&&(Ec=re()+500,Cu(0))}}break;case 13:null!==(o=Dr(s,2))&&Uc(o,0,2),Hc(),nh(s,2)}if(null===(s=lh(r))&&Wu(e,t,r,ch,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wu(e,t,r,null,n)}}function lh(e){return uh(e=Dt(e))}var ch=null;function uh(e){if(ch=null,null!==(e=He(e))){var t=a(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=o(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ch=e,null}function dh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ie()){case se:return 2;case ae:return 8;case oe:case le:return 32;case ce:return 268435456;default:return 32}default:return 32}}var hh=!1,fh=null,ph=null,mh=null,gh=new Map,vh=new Map,yh=[],bh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wh(e,t){switch(e){case"focusin":case"focusout":fh=null;break;case"dragenter":case"dragleave":ph=null;break;case"mouseover":case"mouseout":mh=null;break;case"pointerover":case"pointerout":gh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vh.delete(t.pointerId)}}function xh(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=We(t))&&rh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Sh(e){var t=He(e.target);if(null!==t){var n=a(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=o(n)))return e.blockedOn=t,void function(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}(e.priority,function(){if(13===n.tag){var e=Lc();e=Ae(e);var t=Dr(n,e);null!==t&&Uc(t,0,e),nh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function kh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=lh(e.nativeEvent);if(null!==n)return null!==(t=We(n))&&rh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function Eh(e,t,n){kh(e)&&n.delete(t)}function Ch(){hh=!1,null!==fh&&kh(fh)&&(fh=null),null!==ph&&kh(ph)&&(ph=null),null!==mh&&kh(mh)&&(mh=null),gh.forEach(Eh),vh.forEach(Eh)}function _h(e,n){e.blockedOn===n&&(e.blockedOn=null,hh||(hh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ch)))}var Th=null;function Ih(e){Th!==e&&(Th=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Th===e&&(Th=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!=typeof r){if(null===uh(r||n))continue;break}var s=We(n);null!==s&&(e.splice(t,3),t-=3,Pa(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Nh(e){function t(t){return _h(t,e)}null!==fh&&_h(fh,e),null!==ph&&_h(ph,e),null!==mh&&_h(mh,e),gh.forEach(t),vh.forEach(t);for(var n=0;n<yh.length;n++){var r=yh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yh.length&&null===(n=yh[0]).blockedOn;)Sh(n),null===n.blockedOn&&yh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[je]||null;if("function"==typeof s)a||Ih(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[je]||null)o=a.formAction;else if(null!==uh(i))continue}else o=a.action;"function"==typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Ih(n)}}}function Ah(e){this._internalRoot=e}function Rh(e){this._internalRoot=e}Rh.prototype.render=Ah.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));eh(t.current,Lc(),e,t,null,null)},Rh.prototype.unmount=Ah.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;eh(e.current,2,null,e,null,null),Hc(),t[Le]=null}},Rh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yh.length&&0!==t&&t<yh[n].priority;n++);yh.splice(n,0,e),0===n&&Sh(e)}};var Ph=n.version;if("19.1.1"!==Ph)throw Error(i(527,Ph,"19.1.1"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=a(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var o=s.alternate;if(null===o){if(null!==(r=s.return)){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return l(s),e;if(o===r)return l(s),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=o;else{for(var c=!1,u=s.child;u;){if(u===n){c=!0,n=s,r=o;break}if(u===r){c=!0,r=s,n=o;break}u=u.sibling}if(!c){for(u=o.child;u;){if(u===n){c=!0,n=o,r=s;break}if(u===r){c=!0,r=o,n=s;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?c(e):null)?null:e.stateNode};var Dh={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.1"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mh.isDisabled&&Mh.supportsFiber)try{he=Mh.inject(Dh),fe=Mh}catch(Lh){}}return g.createRoot=function(e,t){if(!s(e))throw Error(i(299));var n=!1,r="",a=wo,o=xo,l=So;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Xd(e,1,!1,null,0,n,r,a,o,l,0,null),e[Le]=t.current,Bu(e),new Ah(t)},g.hydrateRoot=function(e,t,n){if(!s(e))throw Error(i(299));var r=!1,a="",o=wo,l=xo,c=So,u=null;return null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Xd(e,1,!0,t,0,r,a,o,l,c,0,u)).context=Zd(null),n=t.current,(a=as(r=Ae(r=Lc()))).callback=null,os(n,a,r),n=r,t.current.lanes=n,Te(t,n),Eu(t),e[Le]=t.current,Bu(e),new Rh(t)},g.version="19.1.1",g}var N=(k||(k=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),m.exports=I()),m.exports),A=T();const R=t(A);
/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}var D,M;(M=D||(D={})).Pop="POP",M.Push="PUSH",M.Replace="REPLACE";const j="popstate";function L(e){return void 0===e&&(e={}),function(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=D.Pop,l=null,c=u();null==c&&(c=0,a.replaceState(P({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function d(){o=D.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:o,location:m.location,delta:t})}function h(e,t){o=D.Push;let n=z(m.location,e,t);c=u()+1;let r=F(n,c),d=m.createHref(n);try{a.pushState(r,"",d)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;i.location.assign(d)}s&&l&&l({action:o,location:m.location,delta:1})}function f(e,t){o=D.Replace;let n=z(m.location,e,t);c=u();let r=F(n,c),i=m.createHref(n);a.replaceState(r,"",i),s&&l&&l({action:o,location:m.location,delta:0})}function p(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:V(e);return n=n.replace(/ $/,"%20"),O(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}let m={get action(){return o},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(j,d),l=e,()=>{i.removeEventListener(j,d),l=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:f,go:e=>a.go(e)};return m}(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return z("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:V(t)},0,e)}function O(e,t){if(!1===e||null==e)throw new Error(t)}function U(e,t){if(!e)try{throw new Error(t)}catch(n){}}function F(e,t){return{usr:e.state,key:e.key,idx:t}}function z(e,t,n,r){return void 0===n&&(n=null),P({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?B(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function V(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function B(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var H,W;function $(e,t,n){return void 0===n&&(n="/"),function(e,t,n){let r="string"==typeof t?B(t):t,i=se(r.pathname||"/",n);if(null==i)return null;let s=q(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=ie(i);a=ne(s[o],e)}return a}(e,t,n)}function q(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(O(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=ce([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(O(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),q(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:te(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of K(e.path))i(e,t,r);else i(e,t)}),t}function K(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=K(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}(W=H||(H={})).data="data",W.deferred="deferred",W.redirect="redirect",W.error="error";const G=/^:[\w-]+$/,Y=3,Q=2,J=1,X=10,Z=-2,ee=e=>"*"===e;function te(e,t){let n=e.split("/"),r=n.length;return n.some(ee)&&(r+=Z),t&&(r+=Q),n.filter(e=>!ee(e)).reduce((e,t)=>e+(G.test(t)?Y:""===t?J:X),r)}function ne(e,t,n){let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],n=o===r.length-1,l="/"===s?t:t.slice(s.length)||"/",c=re({path:e.relativePath,caseSensitive:e.caseSensitive,end:n},l),u=e.route;if(!c)return null;Object.assign(i,c.params),a.push({params:i,pathname:ce([s,c.pathname]),pathnameBase:ue(ce([s,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(s=ce([s,c.pathnameBase]))}return a}function re(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);U("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:a,pattern:e}}function ie(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return U(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function se(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ae(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function oe(e,t){let n=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function le(e,t,n,r){let i;void 0===r&&(r=!1),"string"==typeof e?i=B(e):(i=P({},e),O(!i.pathname||!i.pathname.includes("?"),ae("?","pathname","search",i)),O(!i.pathname||!i.pathname.includes("#"),ae("#","pathname","hash",i)),O(!i.search||!i.search.includes("#"),ae("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?B(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:de(r),hash:he(i)}}(i,s),c=o&&"/"!==o&&o.endsWith("/"),u=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const ce=e=>e.join("/").replace(/\/\/+/g,"/"),ue=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),de=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",he=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";const fe=["post","put","patch","delete"];new Set(fe);const pe=["get",...fe];
/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me.apply(this,arguments)}new Set(pe);const ge=n.createContext(null),ve=n.createContext(null),ye=n.createContext(null),be=n.createContext(null),we=n.createContext({outlet:null,matches:[],isDataRoute:!1}),xe=n.createContext(null);function Se(){return null!=n.useContext(be)}function ke(){return Se()||O(!1),n.useContext(be).location}function Ee(e){n.useContext(ye).static||n.useLayoutEffect(e)}function Ce(){let{isDataRoute:e}=n.useContext(we);return e?function(){let{router:e}=function(){let e=n.useContext(ge);return e||O(!1),e}(Pe.UseNavigateStable),t=Me(De.UseNavigateStable),r=n.useRef(!1);Ee(()=>{r.current=!0});let i=n.useCallback(function(n,i){void 0===i&&(i={}),r.current&&("number"==typeof n?e.navigate(n):e.navigate(n,me({fromRouteId:t},i)))},[e,t]);return i}():function(){Se()||O(!1);let e=n.useContext(ge),{basename:t,future:r,navigator:i}=n.useContext(ye),{matches:s}=n.useContext(we),{pathname:a}=ke(),o=JSON.stringify(oe(s,r.v7_relativeSplatPath)),l=n.useRef(!1);Ee(()=>{l.current=!0});let c=n.useCallback(function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"==typeof n)return void i.go(n);let s=le(n,JSON.parse(o),a,"path"===r.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:ce([t,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)},[t,i,o,a,e]);return c}()}function _e(e,t){let{relative:r}=void 0===t?{}:t,{future:i}=n.useContext(ye),{matches:s}=n.useContext(we),{pathname:a}=ke(),o=JSON.stringify(oe(s,i.v7_relativeSplatPath));return n.useMemo(()=>le(e,JSON.parse(o),a,"path"===r),[e,o,a,r])}function Te(e,t){return function(e,t,r,i){Se()||O(!1);let{navigator:s}=n.useContext(ye),{matches:a}=n.useContext(we),o=a[a.length-1],l=o?o.params:{};!o||o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u,d=ke();if(t){var h;let e="string"==typeof t?B(t):t;"/"===c||(null==(h=e.pathname)?void 0:h.startsWith(c))||O(!1),u=e}else u=d;let f=u.pathname||"/",p=f;if("/"!==c){let e=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=$(e,{pathname:p}),g=function(e,t,r,i){var s;void 0===t&&(t=[]);void 0===r&&(r=null);void 0===i&&(i=null);if(null==e){var a;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(a=i)&&a.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let o=e,l=null==(s=r)?void 0:s.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||O(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(r&&i&&i.v7_partialHydration)for(let n=0;n<o.length;n++){let e=o[n];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=n),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,i,s)=>{let a,d=!1,h=null,f=null;var p;r&&(a=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||Ne,c&&(u<0&&0===s?(je[p="route-fallback"]||(je[p]=!0),d=!0,f=null):u===s&&(d=!0,f=i.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,s+1)),g=()=>{let t;return t=a?h:d?f:i.route.Component?n.createElement(i.route.Component,null):i.route.element?i.route.element:e,n.createElement(Re,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:t})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?n.createElement(Ae,{location:r.location,revalidation:r.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}(m&&m.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:ce([c,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:ce([c,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,r,i);if(t&&g)return n.createElement(be.Provider,{value:{location:me({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:D.Pop}},g);return g}(e,t)}function Ie(){let e=function(){var e;let t=n.useContext(xe),r=function(){let e=n.useContext(ve);return e||O(!1),e}(),i=Me();if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[i]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},t),r?n.createElement("pre",{style:i},r):null,null)}const Ne=n.createElement(Ie,null);class Ae extends n.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){}render(){return void 0!==this.state.error?n.createElement(we.Provider,{value:this.props.routeContext},n.createElement(xe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Re(e){let{routeContext:t,match:r,children:i}=e,s=n.useContext(ge);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),n.createElement(we.Provider,{value:t},i)}var Pe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Pe||{}),De=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(De||{});function Me(e){let t=function(){let e=n.useContext(we);return e||O(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||O(!1),r.route.id}const je={};function Le(e){O(!1)}function Oe(e){let{basename:t="/",children:r=null,location:i,navigationType:s=D.Pop,navigator:a,static:o=!1,future:l}=e;Se()&&O(!1);let c=t.replace(/^\/*/,"/"),u=n.useMemo(()=>({basename:c,navigator:a,static:o,future:me({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);"string"==typeof i&&(i=B(i));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=i,g=n.useMemo(()=>{let e=se(d,c);return null==e?null:{location:{pathname:e,search:h,hash:f,state:p,key:m},navigationType:s}},[c,d,h,f,p,m,s]);return null==g?null:n.createElement(ye.Provider,{value:u},n.createElement(be.Provider,{children:r,value:g}))}function Ue(e){let{children:t,location:n}=e;return Te(Fe(t),n)}function Fe(e,t){void 0===t&&(t=[]);let r=[];return n.Children.forEach(e,(e,i)=>{if(!n.isValidElement(e))return;let s=[...t,i];if(e.type===n.Fragment)return void r.push.apply(r,Fe(e.props.children,s));e.type!==Le&&O(!1),e.props.index&&e.props.children&&O(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Fe(e.props.children,s)),r.push(a)}),r}
/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze.apply(this,arguments)}new Promise(()=>{});const Ve=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(cE){}const Be=r.startTransition;function He(e){let{basename:t,children:r,future:i,window:s}=e,a=n.useRef();null==a.current&&(a.current=L({window:s,v5Compat:!0}));let o=a.current,[l,c]=n.useState({action:o.action,location:o.location}),{v7_startTransition:u}=i||{},d=n.useCallback(e=>{u&&Be?Be(()=>c(e)):c(e)},[c,u]);return n.useLayoutEffect(()=>o.listen(d),[o,d]),n.useEffect(()=>{return null==(e=i)||e.v7_startTransition,void(null==e||e.v7_relativeSplatPath);var e},[i]),n.createElement(Oe,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:i})}const We="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,$e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qe=n.forwardRef(function(e,t){let r,{onClick:i,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,f=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Ve),{basename:p}=n.useContext(ye),m=!1;if("string"==typeof u&&$e.test(u)&&(r=u,We))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=se(t.pathname,p);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:m=!0}catch(cE){}let g=function(e,t){let{relative:r}=void 0===t?{}:t;Se()||O(!1);let{basename:i,navigator:s}=n.useContext(ye),{hash:a,pathname:o,search:l}=_e(e,{relative:r}),c=o;return"/"!==i&&(c="/"===o?i:ce([i,o])),s.createHref({pathname:c,search:l,hash:a})}(u,{relative:s}),v=function(e,t){let{target:r,replace:i,state:s,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,c=Ce(),u=ke(),d=_e(e,{relative:o});return n.useCallback(t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,r)){t.preventDefault();let n=void 0!==i?i:V(u)===V(d);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,i,s,r,e,a,o,l])}
/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});return n.createElement("a",ze({},f,{href:r||g,onClick:m||a?i:function(e){i&&i(e),e.defaultPrevented||v(e)},ref:t,target:c}))});var Ke,Ge,Ye,Qe;(Ge=Ke||(Ke={})).UseScrollRestoration="useScrollRestoration",Ge.UseSubmit="useSubmit",Ge.UseSubmitFetcher="useSubmitFetcher",Ge.UseFetcher="useFetcher",Ge.useViewTransitionState="useViewTransitionState",(Qe=Ye||(Ye={})).UseFetcher="useFetcher",Qe.UseFetchers="useFetchers",Qe.UseScrollRestoration="useScrollRestoration";const Je=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Xe=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),Ze=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};
/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var et={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=n.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:s="",children:a,iconNode:o,...l},c)=>n.createElement("svg",{ref:c,...et,width:t,height:t,stroke:e,strokeWidth:i?24*Number(r)/Number(t):r,className:Xe("lucide",s),...!a&&!Ze(l)&&{"aria-hidden":"true"},...l},[...o.map(([e,t])=>n.createElement(e,t)),...Array.isArray(a)?a:[a]])),nt=(e,t)=>{const r=n.forwardRef(({className:r,...i},s)=>{return n.createElement(tt,{ref:s,iconNode:t,className:Xe(`lucide-${a=Je(e),a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...i});var a});return r.displayName=Je(e),r},rt=nt("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),it=nt("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),st=nt("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),at=nt("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),ot=nt("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),lt=nt("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ct=nt("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),ut=nt("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),dt=nt("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),ht=nt("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),ft=nt("gem",[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]]),pt=nt("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),mt=nt("hard-drive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),gt=nt("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),vt=nt("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),yt=nt("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),bt=nt("list-music",[["path",{d:"M21 15V6",key:"h1cx4g"}],["path",{d:"M18.5 18a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z",key:"8saifv"}],["path",{d:"M12 12H3",key:"18klou"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M12 18H3",key:"11ftsu"}]]),wt=nt("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),xt=nt("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]),St=nt("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),kt=nt("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]]),Et=nt("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),Ct=nt("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]),_t=nt("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),Tt=nt("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),It=nt("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Nt=nt("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),At=nt("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Rt=nt("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Pt=nt("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Dt=nt("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),Mt=nt("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),jt=nt("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Lt=nt("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),Ot=nt("video-off",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Ut=nt("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),Ft=nt("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),zt=nt("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Vt=nt("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Bt=nt("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),Ht=nt("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Wt=nt("youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),$t=nt("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);
/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function qt(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Kt(...e){return t=>{let n=!1;const r=e.map(e=>{const r=qt(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():qt(e[t],null)}}}}function Gt(...e){return n.useCallback(Kt(...e),e)}function Yt(e){const t=Jt(e),r=n.forwardRef((e,r)=>{const{children:s,...a}=e,o=n.Children.toArray(s),l=o.find(Zt);if(l){const e=l.props.children,s=o.map(t=>t===l?n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null:t);return i.jsx(t,{...a,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,s):null})}return i.jsx(t,{...a,ref:r,children:s})});return r.displayName=`${e}.Slot`,r}var Qt=Yt("Slot");function Jt(e){const t=n.forwardRef((e,t)=>{const{children:r,...i}=e;if(n.isValidElement(r)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(r),s=function(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...e)=>{const t=s(...e);return i(...e),t}:i&&(n[r]=i):"style"===r?n[r]={...i,...s}:"className"===r&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}(i,r.props);return r.type!==n.Fragment&&(s.ref=t?Kt(t,e):e),n.cloneElement(r,s)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Xt=Symbol("radix.slottable");function Zt(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Xt}function en(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=en(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function tn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=en(e))&&(r&&(r+=" "),r+=t);return r}const nn=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,rn=tn,sn=(e,t)=>n=>{var r;if(null==(null==t?void 0:t.variants))return rn(e,null==n?void 0:n.class,null==n?void 0:n.className);const{variants:i,defaultVariants:s}=t,a=Object.keys(i).map(e=>{const t=null==n?void 0:n[e],r=null==s?void 0:s[e];if(null===t)return null;const a=nn(t)||nn(r);return i[e][a]}),o=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),l=null==t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r,...i}=t;return Object.entries(i).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...s,...o}[t]):{...s,...o}[t]===n})?[...e,n,r]:e},[]);return rn(e,a,l,null==n?void 0:n.class,null==n?void 0:n.className)},an=e=>{const t=un(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),on(n,t)||cn(e)},getConflictingClassGroupIds:(e,t)=>{const i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i}}},on=(e,t)=>{if(0===e.length)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?on(e.slice(1),r):void 0;if(i)return i;if(0===t.validators.length)return;const s=e.join("-");return t.validators.find(({validator:e})=>e(s))?.classGroupId},ln=/^\[(.+)\]$/,cn=e=>{if(ln.test(e)){const t=ln.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},un=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return pn(Object.entries(e.classGroups),n).forEach(([e,n])=>{dn(n,r,e,t)}),r},dn=(e,t,n,r)=>{e.forEach(e=>{if("string"==typeof e){return void((""===e?t:hn(t,e)).classGroupId=n)}if("function"==typeof e)return fn(e)?void dn(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach(([e,i])=>{dn(i,hn(t,e),n,r)})})},hn=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},fn=e=>e.isThemeGetter,pn=(e,t)=>t?e.map(([e,n])=>[e,n.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,n])=>[t+e,n])):e)]):e,mn=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(i,s)=>{n.set(i,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}},gn=e=>{const{separator:t,experimentalParseClassName:n}=e,r=1===t.length,i=t[0],s=t.length,a=e=>{const n=[];let a,o=0,l=0;for(let d=0;d<e.length;d++){let c=e[d];if(0===o){if(c===i&&(r||e.slice(d,d+s)===t)){n.push(e.slice(l,d)),l=d+s;continue}if("/"===c){a=d;continue}}"["===c?o++:"]"===c&&o--}const c=0===n.length?e:e.substring(l),u=c.startsWith("!");return{modifiers:n,hasImportantModifier:u,baseClassName:u?c.substring(1):c,maybePostfixModifierPosition:a&&a>l?a-l:void 0}};return n?e=>n({className:e,parseClassName:a}):a},vn=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)}),t.push(...n.sort()),t},yn=/\s+/;function bn(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=wn(e))&&(r&&(r+=" "),r+=t);return r}const wn=e=>{if("string"==typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=wn(e[r]))&&(n&&(n+=" "),n+=t);return n};function xn(e,...t){let n,r,i,s=function(o){const l=t.reduce((e,t)=>t(e),e());return n=(e=>({cache:mn(e.cacheSize),parseClassName:gn(e),...an(e)}))(l),r=n.cache.get,i=n.cache.set,s=a,a(o)};function a(e){const t=r(e);if(t)return t;const s=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],a=e.trim().split(yn);let o="";for(let l=a.length-1;l>=0;l-=1){const e=a[l],{modifiers:t,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:d}=n(e);let h=Boolean(d),f=r(h?u.substring(0,d):u);if(!f){if(!h){o=e+(o.length>0?" "+o:o);continue}if(f=r(u),!f){o=e+(o.length>0?" "+o:o);continue}h=!1}const p=vn(t).join(":"),m=c?p+"!":p,g=m+f;if(s.includes(g))continue;s.push(g);const v=i(f,h);for(let n=0;n<v.length;++n){const e=v[n];s.push(m+e)}o=e+(o.length>0?" "+o:o)}return o})(e,n);return i(e,s),s}return function(){return s(bn.apply(null,arguments))}}const Sn=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},kn=/^\[(?:([a-z-]+):)?(.+)\]$/i,En=/^\d+\/\d+$/,Cn=new Set(["px","full","screen"]),_n=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Tn=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,In=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Nn=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,An=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rn=e=>Dn(e)||Cn.has(e)||En.test(e),Pn=e=>qn(e,"length",Kn),Dn=e=>Boolean(e)&&!Number.isNaN(Number(e)),Mn=e=>qn(e,"number",Dn),jn=e=>Boolean(e)&&Number.isInteger(Number(e)),Ln=e=>e.endsWith("%")&&Dn(e.slice(0,-1)),On=e=>kn.test(e),Un=e=>_n.test(e),Fn=new Set(["length","size","percentage"]),zn=e=>qn(e,Fn,Gn),Vn=e=>qn(e,"position",Gn),Bn=new Set(["image","url"]),Hn=e=>qn(e,Bn,Qn),Wn=e=>qn(e,"",Yn),$n=()=>!0,qn=(e,t,n)=>{const r=kn.exec(e);return!!r&&(r[1]?"string"==typeof t?r[1]===t:t.has(r[1]):n(r[2]))},Kn=e=>Tn.test(e)&&!In.test(e),Gn=()=>!1,Yn=e=>Nn.test(e),Qn=e=>An.test(e),Jn=xn(()=>{const e=Sn("colors"),t=Sn("spacing"),n=Sn("blur"),r=Sn("brightness"),i=Sn("borderColor"),s=Sn("borderRadius"),a=Sn("borderSpacing"),o=Sn("borderWidth"),l=Sn("contrast"),c=Sn("grayscale"),u=Sn("hueRotate"),d=Sn("invert"),h=Sn("gap"),f=Sn("gradientColorStops"),p=Sn("gradientColorStopPositions"),m=Sn("inset"),g=Sn("margin"),v=Sn("opacity"),y=Sn("padding"),b=Sn("saturate"),w=Sn("scale"),x=Sn("sepia"),S=Sn("skew"),k=Sn("space"),E=Sn("translate"),C=()=>["auto",On,t],_=()=>[On,t],T=()=>["",Rn,Pn],I=()=>["auto",Dn,On],N=()=>["","0",On],A=()=>[Dn,On];return{cacheSize:500,separator:":",theme:{colors:[$n],spacing:[Rn,Pn],blur:["none","",Un,On],brightness:A(),borderColor:[e],borderRadius:["none","","full",Un,On],borderSpacing:_(),borderWidth:T(),contrast:A(),grayscale:N(),hueRotate:A(),invert:N(),gap:_(),gradientColorStops:[e],gradientColorStopPositions:[Ln,Pn],inset:C(),margin:C(),opacity:A(),padding:_(),saturate:A(),scale:A(),sepia:N(),skew:A(),space:_(),translate:_()},classGroups:{aspect:[{aspect:["auto","square","video",On]}],container:["container"],columns:[{columns:[Un]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",On]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",jn,On]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",On]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",jn,On]}],"grid-cols":[{"grid-cols":[$n]}],"col-start-end":[{col:["auto",{span:["full",jn,On]},On]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[$n]}],"row-start-end":[{row:["auto",{span:[jn,On]},On]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",On]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",On]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",On,t]}],"min-w":[{"min-w":[On,t,"min","max","fit"]}],"max-w":[{"max-w":[On,t,"none","full","min","max","fit","prose",{screen:[Un]},Un]}],h:[{h:[On,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[On,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[On,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[On,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Un,Pn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mn]}],"font-family":[{font:[$n]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",On]}],"line-clamp":[{"line-clamp":["none",Dn,Mn]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Rn,On]}],"list-image":[{"list-image":["none",On]}],"list-style-type":[{list:["none","disc","decimal",On]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Rn,Pn]}],"underline-offset":[{"underline-offset":["auto",Rn,On]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",On]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",On]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Vn]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",zn]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Hn]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[Rn,On]}],"outline-w":[{outline:[Rn,Pn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Rn,Pn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Un,Wn]}],"shadow-color":[{shadow:[$n]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Un,On]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",On]}],duration:[{duration:A()}],ease:[{ease:["linear","in","out","in-out",On]}],delay:[{delay:A()}],animate:[{animate:["none","spin","ping","pulse","bounce",On]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[jn,On]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",On]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",On]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",On]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Rn,Pn,Mn]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function Xn(...e){return Jn(tn(e))}const Zn=sn("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),er=n.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},a)=>{const o=r?Qt:"button";return i.jsx(o,{className:Xn(Zn({variant:t,size:n,className:e})),ref:a,...s})});function tr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}function nr(e,t=[]){let r=[];const s=()=>{const t=r.map(e=>n.createContext(e));return function(r){const i=r?.[e]||t;return n.useMemo(()=>({[`__scope${e}`]:{...r,[e]:i}}),[r,i])}};return s.scopeName=e,[function(t,s){const a=n.createContext(s),o=r.length;r=[...r,s];const l=t=>{const{scope:r,children:s,...l}=t,c=r?.[e]?.[o]||a,u=n.useMemo(()=>l,Object.values(l));return i.jsx(c.Provider,{value:u,children:s})};return l.displayName=t+"Provider",[l,function(r,i){const l=i?.[e]?.[o]||a,c=n.useContext(l);if(c)return c;if(void 0!==s)return s;throw new Error(`\`${r}\` must be used within \`${t}\``)}]},rr(s,...t)]}function rr(...e){const t=e[0];if(1===e.length)return t;const r=()=>{const r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const i=r.reduce((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]}),{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}er.displayName="Button";var ir=globalThis?.document?n.useLayoutEffect:()=>{},sr=r[" useId ".trim().toString()]||(()=>{}),ar=0;function or(e){const[t,r]=n.useState(sr());return ir(()=>{r(e=>e??String(ar++))},[e]),e||(t?`radix-${t}`:"")}var lr=r[" useInsertionEffect ".trim().toString()]||ir;function cr({prop:e,defaultProp:t,onChange:r=()=>{},caller:i}){const[s,a,o]=function({defaultProp:e,onChange:t}){const[r,i]=n.useState(e),s=n.useRef(r),a=n.useRef(t);return lr(()=>{a.current=t},[t]),n.useEffect(()=>{s.current!==r&&(a.current?.(r),s.current=r)},[r,s]),[r,i,a]}({defaultProp:t,onChange:r}),l=void 0!==e,c=l?e:s;{const t=n.useRef(void 0!==e);n.useEffect(()=>{const e=t.current;if(e!==l){}t.current=l},[l,i])}const u=n.useCallback(t=>{if(l){const n=function(e){return"function"==typeof e}(t)?t(e):t;n!==e&&o.current?.(n)}else a(t)},[l,e,a,o]);return[c,u]}var ur=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const r=Yt(`Primitive.${t}`),s=n.forwardRef((e,n)=>{const{asChild:s,...a}=e,o=s?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),i.jsx(o,{...a,ref:n})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function dr(e,t){e&&A.flushSync(()=>e.dispatchEvent(t))}function hr(e){const t=n.useRef(e);return n.useEffect(()=>{t.current=e}),n.useMemo(()=>(...e)=>t.current?.(...e),[])}var fr,pr="dismissableLayer.update",mr="dismissableLayer.pointerDownOutside",gr="dismissableLayer.focusOutside",vr=n.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yr=n.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...u}=e,d=n.useContext(vr),[h,f]=n.useState(null),p=h?.ownerDocument??globalThis?.document,[,m]=n.useState({}),g=Gt(t,e=>f(e)),v=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=v.indexOf(y),w=h?v.indexOf(h):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,S=w>=b,k=function(e,t=globalThis?.document){const r=hr(e),i=n.useRef(!1),s=n.useRef(()=>{});return n.useEffect(()=>{const e=e=>{if(e.target&&!i.current){let n=function(){xr(mr,r,i,{discrete:!0})};const i={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",s.current),s.current=n,t.addEventListener("click",s.current,{once:!0})):n()}else t.removeEventListener("click",s.current);i.current=!1},n=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(n),t.removeEventListener("pointerdown",e),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>i.current=!0}}(e=>{const t=e.target,n=[...d.branches].some(e=>e.contains(t));S&&!n&&(a?.(e),l?.(e),e.defaultPrevented||c?.())},p),E=function(e,t=globalThis?.document){const r=hr(e),i=n.useRef(!1);return n.useEffect(()=>{const e=e=>{if(e.target&&!i.current){xr(gr,r,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}(e=>{const t=e.target;[...d.branches].some(e=>e.contains(t))||(o?.(e),l?.(e),e.defaultPrevented||c?.())},p);return function(e,t=globalThis?.document){const r=hr(e);n.useEffect(()=>{const e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}(e=>{w===d.layers.size-1&&(s?.(e),!e.defaultPrevented&&c&&(e.preventDefault(),c()))},p),n.useEffect(()=>{if(h)return r&&(0===d.layersWithOutsidePointerEventsDisabled.size&&(fr=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),wr(),()=>{r&&1===d.layersWithOutsidePointerEventsDisabled.size&&(p.body.style.pointerEvents=fr)}},[h,p,r,d]),n.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),wr())},[h,d]),n.useEffect(()=>{const e=()=>m({});return document.addEventListener(pr,e),()=>document.removeEventListener(pr,e)},[]),i.jsx(ur.div,{...u,ref:g,style:{pointerEvents:x?S?"auto":"none":void 0,...e.style},onFocusCapture:tr(e.onFocusCapture,E.onFocusCapture),onBlurCapture:tr(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:tr(e.onPointerDownCapture,k.onPointerDownCapture)})});yr.displayName="DismissableLayer";var br=n.forwardRef((e,t)=>{const r=n.useContext(vr),s=n.useRef(null),a=Gt(t,s);return n.useEffect(()=>{const e=s.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),i.jsx(ur.div,{...e,ref:a})});function wr(){const e=new CustomEvent(pr);document.dispatchEvent(e)}function xr(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?dr(i,s):i.dispatchEvent(s)}br.displayName="DismissableLayerBranch";var Sr=yr,kr=br,Er="focusScope.autoFocusOnMount",Cr="focusScope.autoFocusOnUnmount",_r={bubbles:!1,cancelable:!0},Tr=n.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...l}=e,[c,u]=n.useState(null),d=hr(a),h=hr(o),f=n.useRef(null),p=Gt(t,e=>u(e)),m=n.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;n.useEffect(()=>{if(s){let e=function(e){if(m.paused||!c)return;const t=e.target;c.contains(t)?f.current=t:Rr(f.current,{select:!0})},t=function(e){if(m.paused||!c)return;const t=e.relatedTarget;null!==t&&(c.contains(t)||Rr(f.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&Rr(c)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return c&&r.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[s,c,m.paused]),n.useEffect(()=>{if(c){Pr.add(m);const t=document.activeElement;if(!c.contains(t)){const n=new CustomEvent(Er,_r);c.addEventListener(Er,d),c.dispatchEvent(n),n.defaultPrevented||(!function(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Rr(r,{select:t}),document.activeElement!==n)return}((e=Ir(c),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&Rr(c))}return()=>{c.removeEventListener(Er,d),setTimeout(()=>{const e=new CustomEvent(Cr,_r);c.addEventListener(Cr,h),c.dispatchEvent(e),e.defaultPrevented||Rr(t??document.body,{select:!0}),c.removeEventListener(Cr,h),Pr.remove(m)},0)}}var e},[c,d,h,m]);const g=n.useCallback(e=>{if(!r&&!s)return;if(m.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){const t=e.currentTarget,[i,s]=function(e){const t=Ir(e),n=Nr(t,e),r=Nr(t.reverse(),e);return[n,r]}(t);i&&s?e.shiftKey||n!==s?e.shiftKey&&n===i&&(e.preventDefault(),r&&Rr(s,{select:!0})):(e.preventDefault(),r&&Rr(i,{select:!0})):n===t&&e.preventDefault()}},[r,s,m.paused]);return i.jsx(ur.div,{tabIndex:-1,...l,ref:p,onKeyDown:g})});function Ir(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Nr(e,t){for(const n of e)if(!Ar(n,{upTo:t}))return n}function Ar(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Rr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}Tr.displayName="FocusScope";var Pr=function(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Dr(e,t),e.unshift(t)},remove(t){e=Dr(e,t),e[0]?.resume()}}}();function Dr(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}var Mr=n.forwardRef((e,t)=>{const{container:r,...s}=e,[a,o]=n.useState(!1);ir(()=>o(!0),[]);const l=r||a&&globalThis?.document?.body;return l?R.createPortal(i.jsx(ur.div,{...s,ref:t}),l):null});Mr.displayName="Portal";var jr=e=>{const{present:t,children:r}=e,i=function(e){const[t,r]=n.useState(),i=n.useRef(null),s=n.useRef(e),a=n.useRef("none"),o=e?"mounted":"unmounted",[l,c]=function(e,t){return n.useReducer((e,n)=>t[e][n]??e,e)}(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return n.useEffect(()=>{const e=Lr(i.current);a.current="mounted"===l?e:"none"},[l]),ir(()=>{const t=i.current,n=s.current;if(n!==e){const r=a.current,i=Lr(t);if(e)c("MOUNT");else if("none"===i||"none"===t?.display)c("UNMOUNT");else{c(n&&r!==i?"ANIMATION_OUT":"UNMOUNT")}s.current=e}},[e,c]),ir(()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,r=r=>{const a=Lr(i.current).includes(r.animationName);if(r.target===t&&a&&(c("ANIMATION_END"),!s.current)){const r=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=r)})}},o=e=>{e.target===t&&(a.current=Lr(i.current))};return t.addEventListener("animationstart",o),t.addEventListener("animationcancel",r),t.addEventListener("animationend",r),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",o),t.removeEventListener("animationcancel",r),t.removeEventListener("animationend",r)}}c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:n.useCallback(e=>{i.current=e?getComputedStyle(e):null,r(e)},[])}}(t),s="function"==typeof r?r({present:i.isPresent}):n.Children.only(r),a=Gt(i.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(s));return"function"==typeof r||i.isPresent?n.cloneElement(s,{ref:a}):null};function Lr(e){return e?.animationName||"none"}jr.displayName="Presence";var Or=0;function Ur(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Fr=function(){return Fr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Fr.apply(this,arguments)};function zr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}"function"==typeof SuppressedError&&SuppressedError;var Vr="right-scroll-bar-position",Br="width-before-scroll-bar";function Hr(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var Wr="undefined"!=typeof window?n.useLayoutEffect:n.useEffect,$r=new WeakMap;function qr(e,t){var r,i,s,a=(r=null,i=function(t){return e.forEach(function(e){return Hr(e,t)})},(s=n.useState(function(){return{value:r,callback:i,facade:{get current(){return s.value},set current(e){var t=s.value;t!==e&&(s.value=e,s.callback(e,t))}}}})[0]).callback=i,s.facade);return Wr(function(){var t=$r.get(a);if(t){var n=new Set(t),r=new Set(e),i=a.current;n.forEach(function(e){r.has(e)||Hr(e,null)}),r.forEach(function(e){n.has(e)||Hr(e,i)})}$r.set(a,e)},[e]),a}function Kr(e){return e}var Gr=function(e){var t=e.sideCar,r=zr(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return n.createElement(i,Fr({},r))};Gr.isSideCarExport=!0;var Yr=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=Kr);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter(function(e){return e!==i})}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var s=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(s)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}}}(null);return t.options=Fr({async:!0,ssr:!1},e),t}(),Qr=function(){},Jr=n.forwardRef(function(e,t){var r=n.useRef(null),i=n.useState({onScrollCapture:Qr,onWheelCapture:Qr,onTouchMoveCapture:Qr}),s=i[0],a=i[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,p=e.noRelative,m=e.noIsolation,g=e.inert,v=e.allowPinchZoom,y=e.as,b=void 0===y?"div":y,w=e.gapMode,x=zr(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,k=qr([r,t]),E=Fr(Fr({},x),s);return n.createElement(n.Fragment,null,d&&n.createElement(S,{sideCar:Yr,removeScrollBar:u,shards:h,noRelative:p,noIsolation:m,inert:g,setCallbacks:a,allowPinchZoom:!!v,lockRef:r,gapMode:w}),o?n.cloneElement(n.Children.only(l),Fr(Fr({},E),{ref:k})):n.createElement(b,Fr({},E,{className:c,ref:k}),l))});Jr.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Jr.classNames={fullWidth:Br,zeroRight:Vr};function Xr(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}var Zr=function(){var e=0,t=null;return{add:function(n){var r,i;0==e&&(t=Xr())&&(i=n,(r=t).styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ei=function(){var e,t=(e=Zr(),function(t,r){n.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])});return function(e){var n=e.styles,r=e.dynamic;return t(n,r),null}},ti={left:0,top:0,right:0,gap:0},ni=function(e){return parseInt(e||"",10)||0},ri=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return ti;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[ni(n),ni(r),ni(i)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},ii=ei(),si="data-scroll-locked",ai=function(e,t,n,r){var i=e.left,s=e.top,a=e.right,o=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(o,"px ").concat(r,";\n  }\n  body[").concat(si,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(o,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(Vr," {\n    right: ").concat(o,"px ").concat(r,";\n  }\n  \n  .").concat(Br," {\n    margin-right: ").concat(o,"px ").concat(r,";\n  }\n  \n  .").concat(Vr," .").concat(Vr," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(Br," .").concat(Br," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(si,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(o,"px;\n  }\n")},oi=function(){var e=parseInt(document.body.getAttribute(si)||"0",10);return isFinite(e)?e:0},li=function(e){var t=e.noRelative,r=e.noImportant,i=e.gapMode,s=void 0===i?"margin":i;n.useEffect(function(){return document.body.setAttribute(si,(oi()+1).toString()),function(){var e=oi()-1;e<=0?document.body.removeAttribute(si):document.body.setAttribute(si,e.toString())}},[]);var a=n.useMemo(function(){return ri(s)},[s]);return n.createElement(ii,{styles:ai(a,!t,s,r?"":"!important")})},ci=!1;if("undefined"!=typeof window)try{var ui=Object.defineProperty({},"passive",{get:function(){return ci=!0,!0}});window.addEventListener("test",ui,ui),window.removeEventListener("test",ui,ui)}catch(uE){ci=!1}var di=!!ci&&{passive:!1},hi=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},fi=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),pi(e,r)){var i=mi(e,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},pi=function(e,t){return"v"===e?function(e){return hi(e,"overflowY")}(t):function(e){return hi(e,"overflowX")}(t)},mi=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},gi=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},vi=function(e){return[e.deltaX,e.deltaY]},yi=function(e){return e&&"current"in e?e.current:e},bi=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},wi=0,xi=[];function Si(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ki=(Ei=function(e){var t=n.useRef([]),r=n.useRef([0,0]),i=n.useRef(),s=n.useState(wi++)[0],a=n.useState(ei)[0],o=n.useRef(e);n.useEffect(function(){o.current=e},[e]),n.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var t=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(yi),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=n.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!o.current.allowPinchZoom;var n,s=gi(e),a=r.current,l="deltaX"in e?e.deltaX:a[0]-s[0],c="deltaY"in e?e.deltaY:a[1]-s[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=fi(d,u);if(!h)return!0;if(h?n=d:(n="v"===d?"h":"v",h=fi(d,u)),!h)return!1;if(!i.current&&"changedTouches"in e&&(l||c)&&(i.current=n),!n)return!0;var f=i.current||n;return function(e,t,n,r){var i=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),s=i*r,a=n.target,o=t.contains(a),l=!1,c=s>0,u=0,d=0;do{if(!a)break;var h=mi(e,a),f=h[0],p=h[1]-h[2]-i*f;(f||p)&&pi(e,a)&&(u+=p,d+=f);var m=a.parentNode;a=m&&m.nodeType===Node.DOCUMENT_FRAGMENT_NODE?m.host:m}while(!o&&a!==document.body||o&&(t.contains(a)||t===a));return(c&&Math.abs(u)<1||!c&&Math.abs(d)<1)&&(l=!0),l}(f,t,e,"h"===f?l:c)},[]),c=n.useCallback(function(e){var n=e;if(xi.length&&xi[xi.length-1]===a){var r="deltaY"in n?vi(n):gi(n),i=t.current.filter(function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,i=r,t[0]===i[0]&&t[1]===i[1]);var t,i})[0];if(i&&i.should)n.cancelable&&n.preventDefault();else if(!i){var s=(o.current.shards||[]).map(yi).filter(Boolean).filter(function(e){return e.contains(n.target)});(s.length>0?l(n,s[0]):!o.current.noIsolation)&&n.cancelable&&n.preventDefault()}}},[]),u=n.useCallback(function(e,n,r,i){var s={name:e,delta:n,target:r,should:i,shadowParent:Si(r)};t.current.push(s),setTimeout(function(){t.current=t.current.filter(function(e){return e!==s})},1)},[]),d=n.useCallback(function(e){r.current=gi(e),i.current=void 0},[]),h=n.useCallback(function(t){u(t.type,vi(t),t.target,l(t,e.lockRef.current))},[]),f=n.useCallback(function(t){u(t.type,gi(t),t.target,l(t,e.lockRef.current))},[]);n.useEffect(function(){return xi.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,di),document.addEventListener("touchmove",c,di),document.addEventListener("touchstart",d,di),function(){xi=xi.filter(function(e){return e!==a}),document.removeEventListener("wheel",c,di),document.removeEventListener("touchmove",c,di),document.removeEventListener("touchstart",d,di)}},[]);var p=e.removeScrollBar,m=e.inert;return n.createElement(n.Fragment,null,m?n.createElement(a,{styles:bi(s)}):null,p?n.createElement(li,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},Yr.useMedium(Ei),Gr);var Ei,Ci=n.forwardRef(function(e,t){return n.createElement(Jr,Fr({},e,{ref:t,sideCar:ki}))});Ci.classNames=Jr.classNames;var _i=new WeakMap,Ti=new WeakMap,Ii={},Ni=0,Ai=function(e){return e&&(e.host||Ai(e.parentNode))},Ri=function(e,t,n,r){var i=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=Ai(t);return n&&e.contains(n)?n:null}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);Ii[n]||(Ii[n]=new WeakMap);var s=Ii[n],a=[],o=new Set,l=new Set(i),c=function(e){e&&!o.has(e)&&(o.add(e),c(e.parentNode))};i.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(o.has(e))u(e);else try{var t=e.getAttribute(r),i=null!==t&&"false"!==t,l=(_i.get(e)||0)+1,c=(s.get(e)||0)+1;_i.set(e,l),s.set(e,c),a.push(e),1===l&&i&&Ti.set(e,!0),1===c&&e.setAttribute(n,"true"),i||e.setAttribute(r,"true")}catch(cE){}})};return u(t),o.clear(),Ni++,function(){a.forEach(function(e){var t=_i.get(e)-1,i=s.get(e)-1;_i.set(e,t),s.set(e,i),t||(Ti.has(e)||e.removeAttribute(r),Ti.delete(e)),i||e.removeAttribute(n)}),--Ni||(_i=new WeakMap,_i=new WeakMap,Ti=new WeakMap,Ii={})}},Pi=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),Ri(r,i,n,"aria-hidden")):function(){return null}},Di="Dialog",[Mi,ji]=nr(Di),[Li,Oi]=Mi(Di),Ui=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=n.useRef(null),u=n.useRef(null),[d,h]=cr({prop:s,defaultProp:a??!1,onChange:o,caller:Di});return i.jsx(Li,{scope:t,triggerRef:c,contentRef:u,contentId:or(),titleId:or(),descriptionId:or(),open:d,onOpenChange:h,onOpenToggle:n.useCallback(()=>h(e=>!e),[h]),modal:l,children:r})};Ui.displayName=Di;var Fi="DialogTrigger";n.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Oi(Fi,n),a=Gt(t,s.triggerRef);return i.jsx(ur.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ss(s.open),...r,ref:a,onClick:tr(e.onClick,s.onOpenToggle)})}).displayName=Fi;var zi="DialogPortal",[Vi,Bi]=Mi(zi,{forceMount:void 0}),Hi=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,o=Oi(zi,t);return i.jsx(Vi,{scope:t,forceMount:r,children:n.Children.map(s,e=>i.jsx(jr,{present:r||o.open,children:i.jsx(Mr,{asChild:!0,container:a,children:e})}))})};Hi.displayName=zi;var Wi="DialogOverlay",$i=n.forwardRef((e,t)=>{const n=Bi(Wi,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Oi(Wi,e.__scopeDialog);return a.modal?i.jsx(jr,{present:r||a.open,children:i.jsx(Ki,{...s,ref:t})}):null});$i.displayName=Wi;var qi=Yt("DialogOverlay.RemoveScroll"),Ki=n.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Oi(Wi,n);return i.jsx(Ci,{as:qi,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(ur.div,{"data-state":ss(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Gi="DialogContent",Yi=n.forwardRef((e,t)=>{const n=Bi(Gi,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Oi(Gi,e.__scopeDialog);return i.jsx(jr,{present:r||a.open,children:a.modal?i.jsx(Qi,{...s,ref:t}):i.jsx(Ji,{...s,ref:t})})});Yi.displayName=Gi;var Qi=n.forwardRef((e,t)=>{const r=Oi(Gi,e.__scopeDialog),s=n.useRef(null),a=Gt(t,r.contentRef,s);return n.useEffect(()=>{const e=s.current;if(e)return Pi(e)},[]),i.jsx(Xi,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:tr(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:tr(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:tr(e.onFocusOutside,e=>e.preventDefault())})}),Ji=n.forwardRef((e,t)=>{const r=Oi(Gi,e.__scopeDialog),s=n.useRef(!1),a=n.useRef(!1);return i.jsx(Xi,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(s.current||r.triggerRef.current?.focus(),t.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(s.current=!0,"pointerdown"===t.detail.originalEvent.type&&(a.current=!0));const n=t.target,i=r.triggerRef.current?.contains(n);i&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&a.current&&t.preventDefault()}})}),Xi=n.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,...l}=e,c=Oi(Gi,r),u=n.useRef(null),d=Gt(t,u);return n.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ur()),document.body.insertAdjacentElement("beforeend",e[1]??Ur()),Or++,()=>{1===Or&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Or--}},[]),i.jsxs(i.Fragment,{children:[i.jsx(Tr,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:i.jsx(yr,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":ss(c.open),...l,ref:d,onDismiss:()=>c.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(cs,{titleId:c.titleId}),i.jsx(us,{contentRef:u,descriptionId:c.descriptionId})]})]})}),Zi="DialogTitle",es=n.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Oi(Zi,n);return i.jsx(ur.h2,{id:s.titleId,...r,ref:t})});es.displayName=Zi;var ts="DialogDescription",ns=n.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Oi(ts,n);return i.jsx(ur.p,{id:s.descriptionId,...r,ref:t})});ns.displayName=ts;var rs="DialogClose",is=n.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Oi(rs,n);return i.jsx(ur.button,{type:"button",...r,ref:t,onClick:tr(e.onClick,()=>s.onOpenChange(!1))})});function ss(e){return e?"open":"closed"}is.displayName=rs;var as="DialogTitleWarning",[os,ls]=function(e,t){const r=n.createContext(t),s=e=>{const{children:t,...s}=e,a=n.useMemo(()=>s,Object.values(s));return i.jsx(r.Provider,{value:a,children:t})};return s.displayName=e+"Provider",[s,function(i){const s=n.useContext(r);if(s)return s;if(void 0!==t)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}]}(as,{contentName:Gi,titleName:Zi,docsSlug:"dialog"}),cs=({titleId:e})=>{const t=ls(as),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return n.useEffect(()=>{if(e){document.getElementById(e)}},[r,e]),null},us=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ls("DialogDescriptionWarning").contentName}}.`;return n.useEffect(()=>{const n=e.current?.getAttribute("aria-describedby");if(t&&n){document.getElementById(t)}},[r,e,t]),null},ds=$i,hs=Yi,fs=es,ps=ns,ms=is;const gs=Ui,vs=Hi,ys=n.forwardRef(({className:e,...t},n)=>i.jsx(ds,{ref:n,className:Xn("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));ys.displayName=ds.displayName;const bs=n.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(vs,{children:[i.jsx(ys,{}),i.jsxs(hs,{ref:r,className:Xn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",e),...n,children:[t,i.jsx(ms,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:i.jsx("span",{className:"sr-only",children:"Close"})})]})]}));bs.displayName=hs.displayName;const ws=({className:e,...t})=>i.jsx("div",{className:Xn("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ws.displayName="DialogHeader";const xs=({className:e,...t})=>i.jsx("div",{className:Xn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});xs.displayName="DialogFooter";const Ss=n.forwardRef(({className:e,...t},n)=>i.jsx(fs,{ref:n,className:Xn("text-lg font-semibold leading-none tracking-tight",e),...t}));Ss.displayName=fs.displayName;const ks=n.forwardRef(({className:e,...t},n)=>i.jsx(ps,{ref:n,className:Xn("text-sm text-muted-foreground",e),...t}));ks.displayName=ps.displayName;var Es={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},_s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Cs(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new Ts;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ts extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Is=function(e){return function(e){const t=Cs(e);return _s.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ns=function(e){try{return _s.decodeString(e,!0)}catch(cE){}return null};function As(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&Rs(n)&&(e[n]=As(e[n],t[n]));return e}function Rs(e){return"__proto__"!==e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=()=>{try{return Ps().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process)return;const e=Es.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(cE){return}const t=e&&Ns(e[1]);return t&&JSON.parse(t)})()}catch(cE){return}},Ms=e=>{var t,n;return null===(n=null===(t=Ds())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},js=e=>{const t=Ms(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ls=()=>{var e;return null===(e=Ds())||void 0===e?void 0:e.config},Os=e=>{var t;return null===(t=Ds())||void 0===t?void 0:t[`_${e}`]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Us{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Fs(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function zs(){var e;const t=null===(e=Ds())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(cE){return!1}}function Vs(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function Bs(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function Hs(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ws(){const e=Fs();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function $s(){try{return"object"==typeof indexedDB}catch(cE){return!1}}class qs extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ks.prototype.create)}}class Ks{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(Gs,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new qs(r,a,n)}}const Gs=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Qs(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Js(n)&&Js(s)){if(!Qs(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Js(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Zs(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function ea(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ta(e,t){const n=new na(e,t);return n.subscribe.bind(n)}class na{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ra),void 0===r.error&&(r.error=ra),void 0===r.complete&&(r.complete=ra);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(cE){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(cE){"undefined"!=typeof console&&console.error}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ra(){}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(e){return e&&e._delegate?e._delegate:e}class sa{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oa=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Us;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(cE){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(cE){if(r)return null;throw cE}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch(cE){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(cE){}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===aa?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}};class la{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new oa(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=[];var ua,da;(da=ua||(ua={}))[da.DEBUG=0]="DEBUG",da[da.VERBOSE=1]="VERBOSE",da[da.INFO=2]="INFO",da[da.WARN=3]="WARN",da[da.ERROR=4]="ERROR",da[da.SILENT=5]="SILENT";const ha={debug:ua.DEBUG,verbose:ua.VERBOSE,info:ua.INFO,warn:ua.WARN,error:ua.ERROR,silent:ua.SILENT},fa=ua.INFO,pa={[ua.DEBUG]:"log",[ua.VERBOSE]:"log",[ua.INFO]:"info",[ua.WARN]:"warn",[ua.ERROR]:"error"},ma=(e,t,...n)=>{if(t<e.logLevel)return;(new Date).toISOString();if(!pa[t])throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ga{constructor(e){this.name=e,this._logLevel=fa,this._logHandler=ma,this._userLogHandler=null,ca.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ua))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?ha[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ua.DEBUG,...e),this._logHandler(this,ua.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ua.VERBOSE,...e),this._logHandler(this,ua.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ua.INFO,...e),this._logHandler(this,ua.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ua.WARN,...e),this._logHandler(this,ua.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ua.ERROR,...e),this._logHandler(this,ua.ERROR,...e)}}let va,ya;const ba=new WeakMap,wa=new WeakMap,xa=new WeakMap,Sa=new WeakMap,ka=new WeakMap;let Ea={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return wa.get(e);if("objectStoreNames"===t)return e.objectStoreNames||xa.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ta(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ca(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ya||(ya=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(Ia(this),t),Ta(ba.get(this))}:function(...t){return Ta(e.apply(Ia(this),t))}:function(t,...n){const r=e.call(Ia(this),t,...n);return xa.set(r,t.sort?t.sort():[t]),Ta(r)}}function _a(e){return"function"==typeof e?Ca(e):(e instanceof IDBTransaction&&function(e){if(wa.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});wa.set(e,t)}(e),t=e,(va||(va=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Ea):e);var t}function Ta(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Ta(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&ba.set(t,e)}).catch(()=>{}),ka.set(t,e),t}(e);if(Sa.has(e))return Sa.get(e);const t=_a(e);return t!==e&&(Sa.set(e,t),ka.set(t,e)),t}const Ia=e=>ka.get(e);const Na=["get","getKey","getAll","getAllKeys","count"],Aa=["put","add","delete","clear"],Ra=new Map;function Pa(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Ra.get(t))return Ra.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Aa.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Na.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,i?"readwrite":"readonly");let a=s.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),i&&s.done]))[0]};return Ra.set(t,s),s}Ea=(e=>({...e,get:(t,n,r)=>Pa(t,n)||e.get(t,n,r),has:(t,n)=>!!Pa(t,n)||e.has(t,n)}))(Ea);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Da{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const Ma="@firebase/app",ja="0.10.13",La=new ga("@firebase/app"),Oa="@firebase/app-compat",Ua="@firebase/analytics-compat",Fa="@firebase/analytics",za="@firebase/app-check-compat",Va="@firebase/app-check",Ba="@firebase/auth",Ha="@firebase/auth-compat",Wa="@firebase/database",$a="@firebase/data-connect",qa="@firebase/database-compat",Ka="@firebase/functions",Ga="@firebase/functions-compat",Ya="@firebase/installations",Qa="@firebase/installations-compat",Ja="@firebase/messaging",Xa="@firebase/messaging-compat",Za="@firebase/performance",eo="@firebase/performance-compat",to="@firebase/remote-config",no="@firebase/remote-config-compat",ro="@firebase/storage",io="@firebase/storage-compat",so="@firebase/firestore",ao="@firebase/vertexai-preview",oo="@firebase/firestore-compat",lo="firebase",co="[DEFAULT]",uo={[Ma]:"fire-core",[Oa]:"fire-core-compat",[Fa]:"fire-analytics",[Ua]:"fire-analytics-compat",[Va]:"fire-app-check",[za]:"fire-app-check-compat",[Ba]:"fire-auth",[Ha]:"fire-auth-compat",[Wa]:"fire-rtdb",[$a]:"fire-data-connect",[qa]:"fire-rtdb-compat",[Ka]:"fire-fn",[Ga]:"fire-fn-compat",[Ya]:"fire-iid",[Qa]:"fire-iid-compat",[Ja]:"fire-fcm",[Xa]:"fire-fcm-compat",[Za]:"fire-perf",[eo]:"fire-perf-compat",[to]:"fire-rc",[no]:"fire-rc-compat",[ro]:"fire-gcs",[io]:"fire-gcs-compat",[so]:"fire-fst",[oo]:"fire-fst-compat",[ao]:"fire-vertex","fire-js":"fire-js",[lo]:"fire-js-all"},ho=new Map,fo=new Map,po=new Map;function mo(e,t){try{e.container.addComponent(t)}catch(cE){La.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,cE)}}function go(e,t){e.container.addOrOverwriteComponent(t)}function vo(e){const t=e.name;if(po.has(t))return La.debug(`There were multiple attempts to register component ${t}.`),!1;po.set(t,e);for(const n of ho.values())mo(n,e);for(const n of fo.values())mo(n,e);return!0}function yo(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function bo(e){return void 0!==e.options}function wo(e){return void 0!==e.settings}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const xo=new Ks("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let So=class{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xo.create("app-deleted",{appName:this._name})}};
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends So{constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,s={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,s,r);else{super(e.options,s,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._finalizationRegistry=null,"undefined"!=typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Io(Ma,ja,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){To(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw xo.create("server-app-deleted")}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="10.14.1";function Co(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const r=Object.assign({name:co,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw xo.create("bad-app-name",{appName:String(i)});if(n||(n=Ls()),!n)throw xo.create("no-options");const s=ho.get(i);if(s){if(Qs(n,s.options)&&Qs(r,s.config))return s;throw xo.create("duplicate-app",{appName:i})}const a=new la(i);for(const l of po.values())a.addComponent(l);const o=new So(n,r,a);return ho.set(i,o),o}function _o(e=co){const t=ho.get(e);if(!t&&e===co&&Ls())return Co();if(!t)throw xo.create("no-app",{appName:e});return t}async function To(e){let t=!1;const n=e.name;if(ho.has(n))t=!0,ho.delete(n);else if(fo.has(n)){e.decRefCount()<=0&&(fo.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function Io(e,t,n){var r;let i=null!==(r=uo[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void La.warn(e.join(" "))}vo(new sa(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}function No(e,t){if(null!==e&&"function"!=typeof e)throw xo.create("invalid-log-argument");!function(e,t){for(const n of ca){let r=null;t&&t.level&&(r=ha[t.level]),n.userLogHandler=null===e?null:(t,n,...i)=>{const s=i.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(e=>e).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:ua[n].toLowerCase(),message:s,args:i,type:t.name})}}}(e,t)}function Ao(e){var t;t=e,ca.forEach(e=>{e.setLogLevel(t)})}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="firebase-heartbeat-store";let Po=null;function Do(){return Po||(Po=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(e,t),o=Ta(a);return r&&a.addEventListener("upgradeneeded",e=>{r(Ta(a.result),e.oldVersion,e.newVersion,Ta(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Ro)}catch(cE){}}}).catch(e=>{throw xo.create("idb-open",{originalErrorMessage:e.message})})),Po}async function Mo(e,t){try{const n=(await Do()).transaction(Ro,"readwrite"),r=n.objectStore(Ro);await r.put(t,jo(e)),await n.done}catch(cE){if(cE instanceof qs)La.warn(cE.message);else{const t=xo.create("idb-set",{originalErrorMessage:null==cE?void 0:cE.message});La.warn(t.message)}}}function jo(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Uo(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Oo();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(cE){La.warn(cE)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Oo(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Fo(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Fo(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Is(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(cE){return La.warn(cE),""}}}function Oo(){return(new Date).toISOString().substring(0,10)}class Uo{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!$s()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Do()).transaction(Ro),n=await t.objectStore(Ro).get(jo(e));return await t.done,n}catch(cE){if(cE instanceof qs)La.warn(cE.message);else{const t=xo.create("idb-get",{originalErrorMessage:null==cE?void 0:cE.message});La.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Mo(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Mo(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Fo(e){return Is(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zo;zo="",vo(new sa("platform-logger",e=>new Da(e),"PRIVATE")),vo(new sa("heartbeat",e=>new Lo(e),"PRIVATE")),Io(Ma,ja,zo),Io(Ma,ja,"esm2017"),Io("fire-js","");const Vo=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:qs,SDK_VERSION:Eo,_DEFAULT_ENTRY_NAME:co,_addComponent:mo,_addOrOverwriteComponent:go,_apps:ho,_clearComponents:function(){po.clear()},_components:po,_getProvider:yo,_isFirebaseApp:bo,_isFirebaseServerApp:wo,_registerComponent:vo,_removeServiceInstance:function(e,t,n=co){yo(e,t).clearInstance(n)},_serverApps:fo,deleteApp:To,getApp:_o,getApps:function(){return Array.from(ho.values())},initializeApp:Co,initializeServerApp:function(e,t){if(("undefined"!=typeof window||Vs())&&!Vs())throw xo.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=bo(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);if(void 0!==r.releaseOnDeref&&delete r.releaseOnDeref,void 0!==t.releaseOnDeref&&"undefined"==typeof FinalizationRegistry)throw xo.create("finalization-registry-not-supported",{});const i=""+(s=JSON.stringify(r),[...s].reduce((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0,0));var s;const a=fo.get(i);if(a)return a.incRefCount(t.releaseOnDeref),a;const o=new la(i);for(const c of po.values())o.addComponent(c);const l=new ko(n,t,i,o);return fo.set(i,l),l},onLog:No,registerVersion:Io,setLogLevel:Ao},Symbol.toStringTag,{value:"Module"}));
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,t){this._delegate=e,this.firebase=t,mo(e,new sa("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),To(this._delegate)))}_getService(e,t=co){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=co){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){mo(this._delegate,e)}_addOrOverwriteComponent(e){go(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new Ks("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Wo=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function e(){const t=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){const t={},n={__esModule:!0,initializeApp:function(r,i={}){const s=Co(r,i);if(Ys(t,s.name))return t[s.name];const a=new e(s,n);return t[s.name]=a,a},app:r,registerVersion:Io,setLogLevel:Ao,onLog:No,apps:null,SDK_VERSION:Eo,INTERNAL:{registerComponent:function(t){const i=t.name,s=i.replace("-compat","");if(vo(t)&&"PUBLIC"===t.type){const a=(e=r())=>{if("function"!=typeof e[s])throw Ho.create("invalid-app-argument",{appName:i});return e[s]()};void 0!==t.serviceProps&&As(a,t.serviceProps),n[s]=a,e.prototype[s]=function(...e){return this._getService.bind(this,i).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[s]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:Vo}};function r(e){if(!Ys(t,e=e||co))throw Ho.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),r.App=e,n}(Bo);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){As(t,e)},createSubscribe:ta,ErrorFactory:Ks,deepExtend:As}),t}(),$o=new ga("@firebase/app-compat");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
try{const e=Ps();if(void 0!==e.firebase){$o.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const t=e.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&$o.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch(dE){}const qo=Wo;!
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){Io("@firebase/app-compat","0.2.43",e)}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
qo.registerVersion("firebase","10.14.1","app-compat");const Ko="facebook.com",Go="github.com",Yo="google.com",Qo="password",Jo="twitter.com",Xo="EMAIL_SIGNIN",Zo="PASSWORD_RESET",el="RECOVER_EMAIL",tl="REVERT_SECOND_FACTOR_ADDITION",nl="VERIFY_AND_CHANGE_EMAIL",rl="VERIFY_EMAIL";function il(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sl=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},al=il,ol=new Ks("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ll=new ga("@firebase/auth");function cl(e,...t){ll.logLevel<=ua.ERROR&&ll.error(`Auth (${Eo}): ${e}`,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(e,...t){throw ml(e,...t)}function dl(e,...t){return ml(e,...t)}function hl(e,t,n){const r=Object.assign(Object.assign({},al()),{[t]:n});return new Ks("auth","Firebase",r).create(t,{appName:e.name})}function fl(e){return hl(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pl(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ul(e,"argument-error"),hl(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ml(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return ol.create(e,...t)}function gl(e,t,...n){if(!e)throw ml(t,...n)}function vl(e){const t="INTERNAL ASSERTION FAILED: "+e;throw cl(t),new Error(t)}function yl(e,t){e||vl(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function wl(){return"http:"===xl()||"https:"===xl()}function xl(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Sl{constructor(e,t){this.shortDelay=e,this.longDelay=t,yl(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fs())||Hs()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(wl()||Bs()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(e,t){yl(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void vl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void vl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void vl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},_l=new Sl(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Il(e,t,n,r,i={}){return Nl(e,i,async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Xs(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),El.fetch()(Rl(e,e.config.apiHost,n,a),l)})}async function Nl(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Cl),t);try{const t=new Dl(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Ml(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Ml(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Ml(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Ml(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw hl(e,o,a);ul(e,o)}}catch(cE){if(cE instanceof qs)throw cE;ul(e,"network-request-failed",{message:String(cE)})}}async function Al(e,t,n,r,i={}){const s=await Il(e,t,n,r,i);return"mfaPendingCredential"in s&&ul(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Rl(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?kl(e.config,i):`${e.config.apiScheme}://${i}`}function Pl(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Dl{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(dl(this.auth,"network-request-failed")),_l.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ml(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=dl(e,t,r);return i.customData._tokenResponse=n,i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(e){return void 0!==e&&void 0!==e.getResponse}function Ll(e){return void 0!==e&&void 0!==e.enterprise}class Ol{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Pl(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(e,t){return Il(e,"POST","/v1/accounts:lookup",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(cE){}}function zl(e){return 1e3*Number(e)}function Vl(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return cl("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ns(n);return e?JSON.parse(e):(cl("Failed to decode base64 JWT payload"),null)}catch(cE){return cl("Caught error parsing JWT payload as JSON",null==cE?void 0:cE.toString()),null}}function Bl(e){const t=Vl(e);return gl(t,"internal-error"),gl(void 0!==t.exp,"internal-error"),gl(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(e,t,n=!1){if(n)return t;try{return await t}catch(cE){throw cE instanceof qs&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(cE)&&e.auth.currentUser===e&&await e.auth.signOut(),cE}}class Wl{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(cE){return void("auth/network-request-failed"===(null==cE?void 0:cE.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fl(this.lastLoginAt),this.creationTime=Fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Hl(e,Ul(n,{idToken:r}));gl(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Kl(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash||(null==o?void 0:o.length)),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new $l(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Kl(e){return e.map(e=>{var{providerId:t}=e,n=zr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){gl(e.idToken,"internal-error"),gl(void 0!==e.idToken,"internal-error"),gl(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):Bl(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){gl(0!==e.length,"internal-error");const t=Bl(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(gl(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Nl(e,{},async()=>{const n=Xs({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Rl(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",El.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Gl;return n&&(gl("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(gl("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(gl("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gl,this.toJSON())}_performRefresh(){return vl("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(e,t){gl("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Ql{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=zr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new $l(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Hl(this,this.stsTokenManager.getToken(this.auth,e));return gl(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=ia(e),r=await n.getIdToken(t),i=Vl(r);gl(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,a=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Fl(zl(i.auth_time)),issuedAtTime:Fl(zl(i.iat)),expirationTime:Fl(zl(i.exp)),signInProvider:a||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ia(e);await ql(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(gl(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ql(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){gl(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ql(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wo(this.auth.app))return Promise.reject(fl(this.auth));const e=await this.getIdToken();return await Hl(this,
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t){return Il(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:S}=t;gl(y&&S,e,"internal-error");const k=Gl.fromJSON(this.name,S);gl("string"==typeof y,e,"internal-error"),Yl(u,e.name),Yl(d,e.name),gl("boolean"==typeof b,e,"internal-error"),gl("boolean"==typeof w,e,"internal-error"),Yl(h,e.name),Yl(f,e.name),Yl(p,e.name),Yl(m,e.name),Yl(g,e.name),Yl(v,e.name);const E=new Ql({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(E.providerData=x.map(e=>Object.assign({},e))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t,n=!1){const r=new Gl;r.updateFromServerResponse(t);const i=new Ql({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ql(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];gl(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Kl(r.providerUserInfo):[],s=!(r.email&&r.passwordHash||(null==i?void 0:i.length)),a=new Gl;a.updateFromIdToken(n);const o=new Ql({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new $l(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||(null==i?void 0:i.length))};return Object.assign(o,l),o}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=new Map;function Xl(e){yl(e instanceof Function,"Expected a class definition");let t=Jl.get(e);return t?(yl(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Jl.set(e,t),t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Zl.type="NONE";const ec=Zl;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(e,t,n){return`firebase:${e}:${t}:${n}`}class nc{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=tc(this.userKey,r.apiKey,i),this.fullPersistenceKey=tc("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ql._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new nc(Xl(ec),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Xl(ec);const s=tc(n,e.config.apiKey,e.name);let a=null;for(const l of t)try{const t=await l._get(s);if(t){const n=Ql._fromJSON(e,t);l!==i&&(a=n),i=l;break}}catch(dE){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(dE){}})),new nc(i,e,n)):new nc(i,e,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(oc(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ic(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(cc(t))return"Blackberry";if(uc(t))return"Webos";if(sc(t))return"Safari";if((t.includes("chrome/")||ac(t))&&!t.includes("edge/"))return"Chrome";if(lc(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function ic(e=Fs()){return/firefox\//i.test(e)}function sc(e=Fs()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ac(e=Fs()){return/crios\//i.test(e)}function oc(e=Fs()){return/iemobile/i.test(e)}function lc(e=Fs()){return/android/i.test(e)}function cc(e=Fs()){return/blackberry/i.test(e)}function uc(e=Fs()){return/webos/i.test(e)}function dc(e=Fs()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function hc(e=Fs()){return dc(e)||lc(e)||uc(e)||cc(e)||/windows phone/i.test(e)||oc(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(e,t=[]){let n;switch(e){case"Browser":n=rc(Fs());break;case"Worker":n=`${rc(Fs())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eo}/${r}`}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(cE){r(cE)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(cE){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==cE?void 0:cE.message})}}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yc(this),this.idTokenSubscription=new yc(this),this.beforeStateQueue=new pc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ol,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Xl(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await nc.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(cE){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e,!0)):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Ul(this,{idToken:e}),n=await Ql._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(uE){await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(wo(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null==r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null==a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(cE){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(cE))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return gl(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(cE){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ql(e)}catch(cE){if("auth/network-request-failed"!==(null==cE?void 0:cE.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wo(this.app))return Promise.reject(fl(this));const t=e?ia(e):null;return t&&gl(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&gl(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wo(this.app)?Promise.reject(fl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wo(this.app)?Promise.reject(fl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xl(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return Il(e,"GET","/v2/passwordPolicy",Tl(e,t))}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this),t=new mc(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ks("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Il(e,"POST","/v2/accounts:revokeToken",Tl(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Xl(e)||this._popupRedirectResolver;gl(t,this,"argument-error"),this.redirectPersistenceManager=await nc.create(this,[Xl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(gl(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"==typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return gl(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){ll.logLevel<=ua.WARN&&ll.warn(`Auth (${Eo}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function vc(e){return ia(e)}class yc{constructor(e){this.auth=e,this.observer=null,this.addObserver=ta(e=>this.observer=e)}get next(){return gl(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wc(e){return bc.loadJS(e)}function xc(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Sc{constructor(e){this.type="recaptcha-enterprise",this.auth=vc(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{(async function(e,t){return Il(e,"GET","/v2/recaptchaConfig",Tl(e,t))})(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Ol(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})}function r(t,n,r){const i=window.grecaptcha;Ll(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&Ll(window.grecaptcha))r(n,e,i);else{if("undefined"==typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));let t=bc.recaptchaEnterpriseScript;0!==t.length&&(t+=n),wc(t).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function kc(e,t,n,r=!1){const i=new Sc(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ec(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await kc(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"===i.code){const i=await kc(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(e,t,n){const r=vc(e);gl(r._canInitEmulator,r,"emulator-config-failed"),gl(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=_c(t),{host:a,port:o}=function(e){const t=_c(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Tc(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Tc(t)}}}(t),l=null===o?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&console.info;"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()}function _c(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Tc(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ic{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return vl("not implemented")}_getIdTokenResponse(e){return vl("not implemented")}_linkToIdToken(e,t){return vl("not implemented")}_getReauthenticationResolver(e){return vl("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(e,t){return Il(e,"POST","/v1/accounts:resetPassword",Tl(e,t))}async function Ac(e,t){return Il(e,"POST","/v1/accounts:signUp",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Rc(e,t){return Al(e,"POST","/v1/accounts:signInWithPassword",Tl(e,t))}async function Pc(e,t){return Il(e,"POST","/v1/accounts:sendOobCode",Tl(e,t))}async function Dc(e,t){return Pc(e,t)}async function Mc(e,t){return Pc(e,t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class jc extends Ic{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new jc(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new jc(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ec(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Rc);case"emailLink":
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return async function(e,t){return Al(e,"POST","/v1/accounts:signInWithEmailLink",Tl(e,t))}(e,{email:this._email,oobCode:this._password});default:ul(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ec(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ac);case"emailLink":return async function(e,t){return Al(e,"POST","/v1/accounts:signInWithEmailLink",Tl(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ul(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(e,t){return Al(e,"POST","/v1/accounts:signInWithIdp",Tl(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends Ic{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Oc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ul("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=zr(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Oc(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Lc(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Lc(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Lc(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Xs(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc={USER_NOT_FOUND:"user-not-found"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Fc extends Ic{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Fc({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Fc({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Al(e,"POST","/v1/accounts:signInWithPhoneNumber",Tl(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Al(e,"POST","/v1/accounts:signInWithPhoneNumber",Tl(e,t));if(n.temporaryProof)throw Ml(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Al(e,"POST","/v1/accounts:signInWithPhoneNumber",Tl(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Uc)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Fc({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e){var t,n,r,i,s,a;const o=Zs(ea(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);gl(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Zs(ea(e)).link,n=t?Zs(ea(t)).deep_link_id:null,r=Zs(ea(e)).deep_link_id;return(r?Zs(ea(r)).link:null)||r||n||t||e}(e);try{return new zc(t)}catch(dE){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){this.providerId=Vc.PROVIDER_ID}static credential(e,t){return jc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=zc.parseLink(t);return gl(n,"argument-error"),jc._fromEmailAndCode(e,n.code,n.tenantId)}}Vc.PROVIDER_ID="password",Vc.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Vc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Bc{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends Bc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Wc extends Hc{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return gl("providerId"in t&&"signInMethod"in t,"argument-error"),Oc._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return gl(e.idToken||e.accessToken,"argument-error"),Oc._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Wc.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Wc.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:a}=e;if(!(n||r||t||i))return null;if(!a)return null;try{return new Wc(a)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:i})}catch(cE){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends Hc{constructor(){super("facebook.com")}static credential(e){return Oc._fromParams({providerId:$c.PROVIDER_ID,signInMethod:$c.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $c.credentialFromTaggedObject(e)}static credentialFromError(e){return $c.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return $c.credential(e.oauthAccessToken)}catch(dE){return null}}}$c.FACEBOOK_SIGN_IN_METHOD="facebook.com",$c.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class qc extends Hc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Oc._fromParams({providerId:qc.PROVIDER_ID,signInMethod:qc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return qc.credentialFromTaggedObject(e)}static credentialFromError(e){return qc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return qc.credential(t,n)}catch(dE){return null}}}qc.GOOGLE_SIGN_IN_METHOD="google.com",qc.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Kc extends Hc{constructor(){super("github.com")}static credential(e){return Oc._fromParams({providerId:Kc.PROVIDER_ID,signInMethod:Kc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kc.credentialFromTaggedObject(e)}static credentialFromError(e){return Kc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Kc.credential(e.oauthAccessToken)}catch(dE){return null}}}Kc.GITHUB_SIGN_IN_METHOD="github.com",Kc.PROVIDER_ID="github.com";class Gc extends Ic{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Lc(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Lc(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Lc(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Gc(n,i):null}static _create(e,t){return new Gc(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends Bc{constructor(e){gl(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Yc.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Yc.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Gc.fromJSON(e);return gl(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return Gc._create(n,t)}catch(cE){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc extends Hc{constructor(){super("twitter.com")}static credential(e,t){return Oc._fromParams({providerId:Qc.PROVIDER_ID,signInMethod:Qc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Qc.credentialFromTaggedObject(e)}static credentialFromError(e){return Qc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Qc.credential(t,n)}catch(dE){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Jc(e,t){return Al(e,"POST","/v1/accounts:signUp",Tl(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qc.TWITTER_SIGN_IN_METHOD="twitter.com",Qc.PROVIDER_ID="twitter.com";class Xc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await Ql._fromIdTokenResponse(e,n,r),s=Zc(n);return new Xc({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Zc(n);return new Xc({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Zc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class eu extends qs{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,eu.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new eu(e,t,n,r)}}function tu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw eu._fromErrorAndOperation(e,n,t,r);throw n})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(e,t){const n=ia(e);await su(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Il(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=nu(r||[]);return n.providerData=n.providerData.filter(e=>i.has(e.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function iu(e,t,n=!1){const r=await Hl(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Xc._forOperation(e,"link",r)}async function su(e,t,n){await ql(t);const r=!1===e?"provider-already-linked":"no-such-provider";gl(nu(t.providerData).has(n)===e,t.auth,r)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(e,t,n=!1){const{auth:r}=e;if(wo(r.app))return Promise.reject(fl(r));const i="reauthenticate";try{const s=await Hl(e,tu(r,i,t,e),n);gl(s.idToken,r,"internal-error");const a=Vl(s.idToken);gl(a,r,"internal-error");const{sub:o}=a;return gl(e.uid===o,r,"user-mismatch"),Xc._forOperation(e,i,s)}catch(cE){throw"auth/user-not-found"===(null==cE?void 0:cE.code)&&ul(r,"user-mismatch"),cE}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(e,t,n=!1){if(wo(e.app))return Promise.reject(fl(e));const r="signIn",i=await tu(e,r,t),s=await Xc._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function lu(e,t){return ou(vc(e),t)}async function cu(e,t){const n=ia(e);return await su(!1,n,t.providerId),iu(n,t)}async function uu(e,t){return au(ia(e),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function du(e,t){if(wo(e.app))return Promise.reject(fl(e));const n=vc(e),r=await async function(e,t){return Al(e,"POST","/v1/accounts:signInWithCustomToken",Tl(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Xc._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?fu._fromServerResponse(e,t):"totpInfo"in t?pu._fromServerResponse(e,t):ul(e,"internal-error")}}class fu extends hu{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new fu(t)}}class pu extends hu{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new pu(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(e,t,n){var r;gl((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),gl(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(gl(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(gl(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(e){const t=vc(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function vu(e,t){await async function(e,t){return Il(e,"POST","/v1/accounts:update",Tl(e,t))}(ia(e),{oobCode:t})}async function yu(e,t){const n=ia(e),r=await Nc(n,{oobCode:t}),i=r.requestType;switch(gl(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":gl(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":gl(r.mfaInfo,n,"internal-error");default:gl(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=hu._fromServerResponse(vc(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function bu(e,t){const n={identifier:t,continueUri:wl()?bl():"http://localhost"},{signinMethods:r}=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */await async function(e,t){return Il(e,"POST","/v1/accounts:createAuthUri",Tl(e,t))}(ia(e),n);return r||[]}async function wu(e,t){const n=ia(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&mu(n.auth,r,t);const{email:i}=await async function(e,t){return Pc(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function xu(e,t,n){const r=ia(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&mu(r.auth,i,n);const{email:s}=await async function(e,t){return Pc(e,t)}(r.auth,i);s!==e.email&&await e.reload()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Su(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=ia(e),i={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},s=await Hl(r,async function(e,t){return Il(e,"POST","/v1/accounts:update",t)}(r.auth,i));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}async function ku(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await Hl(e,async function(e,t){return Il(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class Cu extends Eu{constructor(e,t,n,r){super(e,t,n),this.username=r}}class _u extends Eu{constructor(e,t){super(e,"facebook.com",t)}}class Tu extends Cu{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class Iu extends Eu{constructor(e,t){super(e,"google.com",t)}}class Nu extends Cu{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Au(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=Vl(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Eu(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new _u(s,i);case"github.com":return new Tu(s,i);case"google.com":return new Iu(s,i);case"twitter.com":return new Nu(s,i,e.screenName||null);case"custom":case"anonymous":return new Eu(s,null);default:return new Eu(s,r,i)}}(n)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ru{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new Ru("enroll",e,t)}static _fromMfaPendingCredential(e){return new Ru("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Ru._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Ru._fromIdtoken(e.multiFactorSession.idToken)}return null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=vc(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map(e=>hu._fromServerResponse(n,e));gl(r.mfaPendingCredential,n,"internal-error");const s=Ru._fromMfaPendingCredential(r.mfaPendingCredential);return new Pu(s,i,async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const a=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Xc._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return gl(t.user,n,"internal-error"),Xc._forOperation(t.user,t.operationType,a);default:ul(n,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Du{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>hu._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new Du(e)}async getSession(){return Ru._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await Hl(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"==typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await Hl(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},Il(r,"POST","/v2/accounts/mfaEnrollment:withdraw",Tl(r,i))));this.enrolledFactors=this.enrolledFactors.filter(({uid:e})=>e!==t),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(cE){throw cE}var r,i}}const Mu=new WeakMap;const ju="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ju,"1"),this.storage.removeItem(ju),Promise.resolve(!0)):Promise.resolve(!1)}catch(dE){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends Lu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hc(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Ws()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ou.type="LOCAL";const Uu=Ou;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends Lu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Fu.type="SESSION";const zu=Fu;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Vu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Vu(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null==s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Bu(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vu.receivers=[];class Hu{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=Bu("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(){return window}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function $u(){return void 0!==Wu().WorkerGlobalScope&&"function"==typeof Wu().importScripts}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const qu="firebaseLocalStorageDb",Ku="firebaseLocalStorage",Gu="fbase_key";class Yu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qu(e,t){return e.transaction([Ku],t?"readwrite":"readonly").objectStore(Ku)}function Ju(){const e=indexedDB.open(qu,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Ku,{keyPath:Gu})}catch(cE){n(cE)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Ku)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(qu);return new Yu(e).toPromise()}(),t(await Ju()))})})}async function Xu(e,t,n){const r=Qu(e,!0).put({[Gu]:t,value:n});return new Yu(r).toPromise()}function Zu(e,t){const n=Qu(e,!0).delete(t);return new Yu(n).toPromise()}class ed{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Ju()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(cE){if(t++>3)throw cE;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $u()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vu._getInstance($u()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Hu(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ju();return await Xu(e,ju,"1"),await Zu(e,ju),!0}catch(dE){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Xu(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Qu(e,!1).get(t),r=await new Yu(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Zu(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Qu(e,!1).getAll();return new Yu(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ed.type="LOCAL";const td=ed;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const nd=1e12;class rd{constructor(e){this.auth=e,this.counter=nd,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new id(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||nd;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||nd;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||nd;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class id{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;gl(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(cE){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(cE){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const sd=xc("rcb"),ad=new Sl(3e4,6e4);class od{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Wu().grecaptcha)||void 0===e?void 0:e.render)}load(e,t=""){return gl(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&jl(Wu().grecaptcha)?Promise.resolve(Wu().grecaptcha):new Promise((n,r)=>{const i=Wu().setTimeout(()=>{r(dl(e,"network-request-failed"))},ad.get());Wu()[sd]=()=>{Wu().clearTimeout(i),delete Wu()[sd];const s=Wu().grecaptcha;if(!s||!jl(s))return void r(dl(e,"internal-error"));const a=s.render;s.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};wc(`${bc.recaptchaV2Script}?${Xs({onload:sd,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(i),r(dl(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Wu().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ld{async load(e){return new rd(e)}clearedOneInstance(){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="recaptcha",ud={theme:"light",type:"image"};let dd=class{constructor(e,t,n=Object.assign({},ud)){this.parameters=n,this.type=cd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=vc(e),this.isInvisible="invisible"===this.parameters.size,gl("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof t?document.getElementById(t):t;gl(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ld:new od,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise(n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(cE){return Promise.reject(cE)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){gl(!this.parameters.sitekey,this.auth,"argument-error"),gl(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),gl("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=Wu()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){gl(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){gl(wl()&&!$u(),this.auth,"internal-error"),await function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Il(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);gl(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return gl(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};class hd{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Fc._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function fd(e,t,n){var r;const i=await n.verify();try{let s;if(gl("string"==typeof i,e,"argument-error"),gl(n.type===cd,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){gl("enroll"===t.type,e,"internal-error");const n=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */await function(e,t){return Il(e,"POST","/v2/accounts/mfaEnrollment:start",Tl(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{gl("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;gl(n,e,"missing-multi-factor-info");const a=await function(e,t){return Il(e,"POST","/v2/accounts/mfaSignIn:start",Tl(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Il(e,"POST","/v1/accounts:sendVerificationCode",Tl(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let pd=class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=vc(t)}verifyPhoneNumber(e,t){return fd(this.auth,e,ia(t))}static credential(e,t){return Fc._fromVerification(e,t)}static credentialFromResult(t){const n=t;return e.credentialFromTaggedObject(n)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Fc._fromTokenResponse(t,n):null}};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function md(e,t){return t?Xl(t):(gl(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pd.PROVIDER_ID="phone",pd.PHONE_SIGN_IN_METHOD="phone";class gd extends Ic{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Lc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Lc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function vd(e){return ou(e.auth,new gd(e),e.bypassAuthState)}function yd(e){const{auth:t,user:n}=e;return gl(n,t,"internal-error"),au(n,new gd(e),e.bypassAuthState)}async function bd(e){const{auth:t,user:n}=e;return gl(n,t,"internal-error"),iu(n,new gd(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(cE){this.reject(cE)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(cE){this.reject(cE)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vd;case"linkViaPopup":case"linkViaRedirect":return bd;case"reauthViaPopup":case"reauthViaRedirect":return yd;default:ul(this.auth,"internal-error")}}resolve(e){yl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=new Sl(2e3,1e4);class Sd extends wd{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Sd.currentPopupAction&&Sd.currentPopupAction.cancel(),Sd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return gl(e,this.auth,"internal-error"),e}async onExecution(){yl(1===this.filter.length,"Popup operations only handle one event");const e=Bu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(dl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(dl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(dl(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,xd.get())};e()}}Sd.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const kd=new Map;class Ed extends wd{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=kd.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Id(t),r=Td(e);if(!(await r._isAvailable()))return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(cE){e=()=>Promise.reject(cE)}kd.set(this.auth._key(),e)}return this.bypassAuthState||kd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Cd(e,t){return Td(e)._set(Id(t),"true")}function _d(e,t){kd.set(e._key(),t)}function Td(e){return Xl(e._redirectPersistence)}function Id(e){return tc("pendingRedirect",e.config.apiKey,e.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(e,t,n){return async function(e,t,n){if(wo(e.app))return Promise.reject(fl(e));const r=vc(e);pl(e,t,Bc),await r._initializationPromise;const i=md(r,n);return await Cd(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function Ad(e,t,n){return async function(e,t,n){const r=ia(e);if(pl(r.auth,t,Bc),wo(r.auth.app))return Promise.reject(fl(r.auth));await r.auth._initializationPromise;const i=md(r.auth,n);await Cd(i,r.auth);const s=await Dd(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function Rd(e,t,n){return async function(e,t,n){const r=ia(e);pl(r.auth,t,Bc),await r.auth._initializationPromise;const i=md(r.auth,n);await su(!1,r,t.providerId),await Cd(i,r.auth);const s=await Dd(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function Pd(e,t,n=!1){if(wo(e.app))return Promise.reject(fl(e));const r=vc(e),i=md(r,t),s=new Ed(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}async function Dd(e){const t=Bu(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ld(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ld(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(dl(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jd(e))}saveEventToCache(e){this.cachedEventUids.add(jd(e)),this.lastProcessedEventTime=Date.now()}}function jd(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Ld({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}async function Od(e,t={}){return Il(e,"GET","/v1/projects",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fd=/^https?/;function zd(e){const t=bl(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Fd.test(n))return!1;if(Ud.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=new Sl(3e4,6e4);function Bd(){const e=Wu().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Hd(e){return new Promise((t,n)=>{var r,i,s;function a(){Bd(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Bd(),n(dl(e,"network-request-failed"))},timeout:Vd.get()})}if(null===(i=null===(r=Wu().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Wu().gapi)||void 0===s?void 0:s.load)){const t=xc("iframefcb");return Wu()[t]=()=>{gapi.load?a():n(dl(e,"network-request-failed"))},wc(`${bc.gapiScript}?onload=${t}`).catch(e=>n(e))}a()}}).catch(e=>{throw Wd=null,e})}let Wd=null;
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const $d=new Sl(5e3,15e3),qd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gd(e){const t=e.config;gl(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?kl(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Eo},i=Kd.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Xs(r).slice(1)}`}async function Yd(e){const t=await function(e){return Wd=Wd||Hd(e),Wd}(e),n=Wu().gapi;return gl(n,e,"internal-error"),t.open({where:document.body,url:Gd(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qd,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=dl(e,"network-request-failed"),s=Wu().setTimeout(()=>{r(i)},$d.get());function a(){Wu().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Jd{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(cE){}}}function Xd(e,t,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Qd),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Fs().toLowerCase();n&&(o=ac(c)?"_blank":n),ic(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=Fs()){var t;return dc(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t||"",o),new Jd(null);const d=window.open(t||"",o,u);gl(d,e,"popup-blocked");try{d.focus()}catch(cE){}return new Jd(d)}const Zd="__/auth/handler",eh="emulator/auth/handler",th=encodeURIComponent("fac");async function nh(e,t,n,r,i,s){gl(e.config.authDomain,e,"auth-domain-config-required"),gl(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Eo,eventId:i};if(t instanceof Bc){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof Hc){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${th}=${encodeURIComponent(l)}`:"";return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${Zd}`;return kl(e,eh)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)}?${Xs(o).slice(1)}${c}`}const rh="webStorageSupport";const ih=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zu,this._completeRedirectFn=Pd,this._overrideRedirectResult=_d}async _openPopup(e,t,n,r){var i;yl(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Xd(e,await nh(e,t,n,bl(),r),Bu())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Wu().location.href=e}(await nh(e,t,n,bl(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(yl(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Yd(e),n=new Md(e);return t.register("authEvent",t=>{gl(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rh,{type:rh},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[rh];void 0!==i&&t(!!i),ul(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Od(e);for(const n of t)try{if(zd(n))return}catch(dE){}ul(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return hc()||sc()||dc()}};class sh{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return vl("unexpected MultiFactorSessionType")}}}class ah extends sh{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new ah(e)}_finalizeEnroll(e,t,n){return function(e,t){return Il(e,"POST","/v2/accounts/mfaEnrollment:finalize",Tl(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Il(e,"POST","/v2/accounts/mfaSignIn:finalize",Tl(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class oh{constructor(){}static assertion(e){return ah._fromCredential(e)}}oh.FACTOR_ID="phone";var lh="@firebase/auth",ch="1.7.9";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class uh{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){gl(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const dh=Os("authIdTokenMaxAge")||300;let hh=null;var fh;
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ph(){return window}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bc={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");var i,s;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=dl("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(s=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==s?s:document).appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},fh="Browser",vo(new sa("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=n.options;gl(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const o={apiKey:s,authDomain:a,clientPlatform:fh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fc(fh)},l=new gc(n,r,i,o);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xl);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),vo(new sa("auth-internal",e=>{const t=vc(e.getProvider("auth").getImmediate());return new uh(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Io(lh,ch,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(fh)),Io(lh,ch,"esm2017");async function mh(e,t,n){var r;const{BuildInfo:i}=ph();yl(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(yl(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")}(t.sessionId),a={};return dc()?a.ibi=i.packageName:lc()?a.apn=i.packageName:ul(e,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=s,nh(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,a)}function gh(e){const{cordova:t}=ph();return new Promise(n=>{t.plugins.browsertab.isAvailable(r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=Fs()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}class vh extends Md{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}async function yh(e){const t=await xh()._get(Sh(e));return t&&await xh()._remove(Sh(e)),t}function bh(e,t){var n,r;const i=function(e){const t=kh(e),n=t.link?decodeURIComponent(t.link):void 0,r=kh(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return kh(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=kh(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(cE){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(r=null===(n=null==s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],o=a?dl(a):null;return o?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:o,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function wh(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function xh(){return Xl(Uu)}function Sh(e){return tc("authEvent",e.config.apiKey,e.name)}function kh(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Zs(n.join("?"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=class{constructor(){this._redirectPersistence=zu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Pd,this._overrideRedirectResult=_d}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new vh(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){ul(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,a,o,l,c,u;const d=ph();gl("function"==typeof(null===(t=null==d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),gl(void 0!==(null===(n=null==d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),gl("function"==typeof(null===(s=null===(i=null===(r=null==d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),gl("function"==typeof(null===(l=null===(o=null===(a=null==d?void 0:d.cordova)||void 0===a?void 0:a.plugins)||void 0===o?void 0:o.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),gl("function"==typeof(null===(u=null===(c=null==d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),kd.clear(),await this._originValidation(e);const s=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:wh(),postBody:null,tenantId:e.tenantId,error:dl(e,"no-auth-event")}}(e,n,r);await function(e,t){return xh()._set(Sh(e),t)}(e,s);const a=await mh(e,s,t);return async function(e,t,n){const{cordova:r}=ph();let i=()=>{};try{await new Promise((s,a)=>{let o=null;function l(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function c(){o||(o=window.setTimeout(()=>{a(dl(e,"redirect-cancelled-by-user"))},2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),lc()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),o&&window.clearTimeout(o)}})}finally{i()}}(e,i,await gh(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=ph(),n={};dc()?n.iosBundleId=t.packageName:lc()?n.androidPackageName=t.packageName:ul(e,"operation-not-supported-in-this-environment"),await Od(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=ph(),s=setTimeout(async()=>{await yh(e),t.onEvent(Ch())},500),a=async n=>{clearTimeout(s);const r=await yh(e);let i=null;r&&(null==n?void 0:n.url)&&(i=bh(r,n.url)),t.onEvent(i||Ch())};void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,a);const o=r,l=`${i.packageName.toLowerCase()}://`;ph().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&a({url:e}),"function"==typeof o)try{o(e)}catch(cE){}}}};function Ch(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:dl("no-auth-event")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Th(e=Fs()){return!("file:"!==_h()&&"ionic:"!==_h()&&"capacitor:"!==_h()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ih(e=Fs()){return Ws()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=Fs()){return/Edge\/\d+/.test(e)}(e)}function Nh(){try{const e=self.localStorage,t=Bu();if(e)return e.setItem(t,"1"),e.removeItem(t),!Ih()||$s()}catch(cE){return Ah()&&$s()}return!1}function Ah(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Rh(){return("http:"===_h()||"https:"===_h()||Bs()||Th())&&!(Hs()||zs())&&Nh()&&!Ah()}function Ph(){return Th()&&"undefined"!=typeof document}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Dh={LOCAL:"local",NONE:"none",SESSION:"session"},Mh=gl,jh="persistence";async function Lh(e){await e._initializationPromise;const t=Oh(),n=tc(jh,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Oh(){var e;try{return(null===(e="undefined"!=typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(cE){return null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=gl;class Fh{constructor(){this.browserResolver=Xl(ih),this.cordovaResolver=Xl(Eh),this.underlyingResolver=null,this._redirectPersistence=zu,this._completeRedirectFn=Pd,this._overrideRedirectResult=_d}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Ph()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Uh(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Ph()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(e){return e.unwrap()}function Vh(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null==t?void 0:t.code)){t.resolver=new $h(e,function(e,t){var n;const r=ia(e),i=t;return gl(t.customData.operationType,r,"argument-error"),gl(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Pu._fromError(r,i)}(e,t))}else if(r){const e=Bh(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Bh(e){const{_tokenResponse:t}=e instanceof qs?e.customData:e;if(!t)return null;if(!(e instanceof qs)&&"temporaryProof"in t&&"phoneNumber"in t)return pd.credentialFromResult(e);const n=t.providerId;if(!n||n===Qo)return null;let r;switch(n){case Yo:r=qc;break;case Ko:r=$c;break;case Go:r=Kc;break;case Jo:r=Qc;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:a,nonce:o}=t;return i||s||e||a?a?n.startsWith("saml.")?Gc._create(n,a):Oc._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:i}):new Wc(n).credential({idToken:e,accessToken:i,rawNonce:o}):null}return e instanceof qs?r.credentialFromError(e):r.credentialFromResult(e)}function Hh(e,t){return t.catch(t=>{throw t instanceof qs&&Vh(e,t),t}).then(e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,Bh(r)),additionalUserInfo:Au(e),user:qh.getOrCreate(n)};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var r})}async function Wh(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Hh(e,n.confirm(t))}}class $h{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Hh(zh(this.auth),this.resolver.resolveSignIn(e))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh=class e{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=ia(e);return Mu.has(t)||Mu.set(t,Du._fromUser(t)),Mu.get(t)}(e)}static getOrCreate(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Hh(this.auth,cu(this._delegate,e))}async linkWithPhoneNumber(e,t){return Wh(this.auth,async function(e,t,n){const r=ia(e);await su(!1,r,"phone");const i=await fd(r.auth,t,ia(n));return new hd(i,e=>cu(r,e))}(this._delegate,e,t))}async linkWithPopup(e){return Hh(this.auth,async function(e,t,n){const r=ia(e);pl(r.auth,t,Bc);const i=md(r.auth,n);return new Sd(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Fh))}async linkWithRedirect(e){return await Lh(vc(this.auth)),Rd(this._delegate,e,Fh)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Hh(this.auth,uu(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Wh(this.auth,async function(e,t,n){const r=ia(e);if(wo(r.auth.app))return Promise.reject(fl(r.auth));const i=await fd(r.auth,t,ia(n));return new hd(i,e=>uu(r,e))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Hh(this.auth,async function(e,t,n){const r=ia(e);if(wo(r.auth.app))return Promise.reject(dl(r.auth,"operation-not-supported-in-this-environment"));pl(r.auth,t,Bc);const i=md(r.auth,n);return new Sd(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Fh))}async reauthenticateWithRedirect(e){return await Lh(vc(this.auth)),Ad(this._delegate,e,Fh)}sendEmailVerification(e){return wu(this._delegate,e)}async unlink(e){return await ru(this._delegate,e),this}updateEmail(e){return function(e,t){const n=ia(e);return wo(n.auth.app)?Promise.reject(fl(n.auth)):ku(n,t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return ku(ia(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){const n=ia(e);if(wo(n.auth.app))return Promise.reject(fl(n.auth));await iu(n,t)}(this._delegate,e)}updateProfile(e){return Su(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return xu(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};qh.USER_MAP=new WeakMap;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Kh=gl;class Gh{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Kh(n,"invalid-api-key",{appName:e.name}),Kh(n,"invalid-api-key",{appName:e.name});const r="undefined"!=typeof window?Fh:void 0;this._delegate=t.initialize({options:{persistence:Qh(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(sl),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?qh.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Cc(this._delegate,e,t)}applyActionCode(e){return vu(this._delegate,e)}checkActionCode(e){return yu(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Nc(ia(e),{oobCode:t,newPassword:n}).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&gu(e),t})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Hh(this._delegate,async function(e,t,n){if(wo(e.app))return Promise.reject(fl(e));const r=vc(e),i=Ec(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Jc),s=await i.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&gu(e),t}),a=await Xc._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return bu(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=zc.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){Kh(Rh(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await vc(e)._initializationPromise,Pd(e,t,!1)}(this._delegate,Fh);return e?Hh(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){vc(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=Yh(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=Yh(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return async function(e,t,n){const r=vc(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};var s,a;s=i,gl((a=n).handleCodeInApp,r,"argument-error"),a&&mu(r,s,a),await Ec(r,i,"getOobCode",Mc)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=vc(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&mu(r,i,n),await Ec(r,i,"getOobCode",Dc)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Mh(Object.values(Dh).includes(t),e,"invalid-persistence-type"),Hs()?Mh(t!==Dh.SESSION,e,"unsupported-persistence-type"):zs()?Mh(t===Dh.NONE,e,"unsupported-persistence-type"):Ah()?Mh(t===Dh.NONE||t===Dh.LOCAL&&$s(),e,"unsupported-persistence-type"):Mh(t===Dh.NONE||Nh(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Dh.SESSION:t=zu;break;case Dh.LOCAL:t=await Xl(td)._isAvailable()?td:Uu;break;case Dh.NONE:t=ec;break;default:return ul("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Hh(this._delegate,async function(e){var t;if(wo(e.app))return Promise.reject(fl(e));const n=vc(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Xc({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Jc(n,{returnSecureToken:!0}),i=await Xc._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return Hh(this._delegate,lu(this._delegate,e))}signInWithCustomToken(e){return Hh(this._delegate,du(this._delegate,e))}signInWithEmailAndPassword(e,t){return Hh(this._delegate,function(e,t,n){return wo(e.app)?Promise.reject(fl(e)):lu(ia(e),Vc.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&gu(e),t})}(this._delegate,e,t))}signInWithEmailLink(e,t){return Hh(this._delegate,async function(e,t,n){if(wo(e.app))return Promise.reject(fl(e));const r=ia(e),i=Vc.credentialWithLink(t,n||bl());return gl(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),lu(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Wh(this._delegate,async function(e,t,n){if(wo(e.app))return Promise.reject(fl(e));const r=vc(e),i=await fd(r,t,ia(n));return new hd(i,e=>lu(r,e))}(this._delegate,e,t))}async signInWithPopup(e){return Kh(Rh(),this._delegate,"operation-not-supported-in-this-environment"),Hh(this._delegate,async function(e,t,n){if(wo(e.app))return Promise.reject(dl(e,"operation-not-supported-in-this-environment"));const r=vc(e);pl(e,t,Bc);const i=md(r,n);return new Sd(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,Fh))}async signInWithRedirect(e){return Kh(Rh(),this._delegate,"operation-not-supported-in-this-environment"),await Lh(this._delegate),Nd(this._delegate,e,Fh)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await yu(ia(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Yh(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&qh.getOrCreate(e)),error:t,complete:n}}function Qh(e,t){const n=function(e,t){const n=Oh();if(!n)return[];const r=tc(jh,e,t);switch(n.getItem(r)){case Dh.NONE:return[ec];case Dh.LOCAL:return[td,zu];case Dh.SESSION:return[zu];default:return[]}}(e,t);if("undefined"==typeof self||n.includes(td)||n.push(td),"undefined"!=typeof window)for(const r of[Uu,zu])n.includes(r)||n.push(r);return n.includes(ec)||n.push(ec),n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gh.Persistence=Dh;class Jh{constructor(){this.providerId="phone",this._delegate=new pd(zh(qo.auth()))}static credential(e,t){return pd.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Jh.PHONE_SIGN_IN_METHOD=pd.PHONE_SIGN_IN_METHOD,Jh.PROVIDER_ID=pd.PROVIDER_ID;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Xh=gl;class Zh{constructor(e,t,n=qo.app()){var r;Xh(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new dd(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ef;(ef=qo).INTERNAL.registerComponent(new sa("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Gh(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Xo,PASSWORD_RESET:Zo,RECOVER_EMAIL:el,REVERT_SECOND_FACTOR_ADDITION:tl,VERIFY_AND_CHANGE_EMAIL:nl,VERIFY_EMAIL:rl}},EmailAuthProvider:Vc,FacebookAuthProvider:$c,GithubAuthProvider:Kc,GoogleAuthProvider:qc,OAuthProvider:Wc,SAMLAuthProvider:Yc,PhoneAuthProvider:Jh,PhoneMultiFactorGenerator:oh,RecaptchaVerifier:Zh,TwitterAuthProvider:Qc,Auth:Gh,AuthCredential:Ic,Error:qs}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ef.registerVersion("@firebase/auth-compat","0.5.14");var tf,nf,rf={exports:{}};const sf=t((tf||(tf=1,nf=rf,function(){var e=window.CustomEvent;function t(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function n(e){e&&e.blur&&e!==document.body&&e.blur()}function r(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1}function i(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function s(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window)new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]});else{var t,n=!1,r=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),i=function(i){if(i.target===e){var s="DOMNodeRemoved";n|=i.type.substr(0,14)===s,window.clearTimeout(t),t=window.setTimeout(r,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(t){e.addEventListener(t,i)})}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}e&&"object"!=typeof e||((e=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),n}).prototype=window.Event.prototype),s.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),a.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var n=document.createEvent("MouseEvents");n.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(n),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),!e){var t=["button","input","keygen","select","textarea"].map(function(e){return e+":not([disabled])"});t.push('[tabindex]:not([disabled]):not([tabindex=""])'),e=this.dialog_.querySelector(t.join(", "))}n(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!a.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");!function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),n=function(e,n){return!(void 0===t[e]||t[e]===n)};if(t.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}}(this.dialog_.parentElement),this.setOpen(!0),this.openAsModal_=!0,a.needsCentering(this.dialog_)?(a.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(t){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==t&&(this.dialog_.returnValue=t);var n=new e("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(n)}};var a={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,n=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,n)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var n=document.styleSheets[t],i=null;try{i=n.cssRules}catch(cE){}if(i)for(var s=0;s<i.length;++s){var a=i[s],o=null;try{o=document.querySelectorAll(a.selectorText)}catch(cE){}if(o&&r(o,e)){var l=a.style.getPropertyValue("top"),c=a.style.getPropertyValue("bottom");if(l&&"auto"!==l||c&&"auto"!==c)return!0}}}return!1},needsCentering:function(e){return!("absolute"!==window.getComputedStyle(e).position||"auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom||a.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if(window.HTMLDialogElement||e.showModal,"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new s(e)},registerDialog:function(e){e.showModal||a.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(t){var n=[];t.forEach(function(e){for(var t,r=0;t=e.removedNodes[r];++r)t instanceof Element&&("dialog"===t.localName&&n.push(t),n=n.concat(t.querySelectorAll("dialog")))}),n.length&&e(n)}))}};if(a.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},a.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},a.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,n=0;e=this.pendingDialogStack[n];++n)e.updateZIndex(--t,--t),0===n&&(this.overlay.style.zIndex=--t);var r=this.pendingDialogStack[0];r?(r.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},a.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=t(e);){for(var n,r=0;n=this.pendingDialogStack[r];++r)if(n.dialog===e)return 0===r;e=e.parentElement}return!1},a.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&(e.preventDefault(),e.stopPropagation(),n(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():document.documentElement.focus()),!1}},a.DialogManager.prototype.handleKey_=function(t){if(this.forwardTab_=void 0,27===t.keyCode){t.preventDefault(),t.stopPropagation();var n=new e("cancel",{bubbles:!1,cancelable:!0}),r=this.pendingDialogStack[0];r&&r.dialog.dispatchEvent(n)&&r.dialog.close()}else 9===t.keyCode&&(this.forwardTab_=!t.shiftKey)},a.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach(function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()})},a.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t||(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),0))},a.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},a.dm=new a.DialogManager,a.formSubmitter=null,a.useValue=null,void 0===window.HTMLDialogElement){var o=document.createElement("form");if(o.setAttribute("method","dialog"),"dialog"!==o.method){var l=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(l){var c=l.get;l.get=function(){return i(this)?"dialog":c.call(this)};var u=l.set;l.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):u.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",l)}}document.addEventListener("click",function(e){if(a.formSubmitter=null,a.useValue=null,!e.defaultPrevented){var n=e.target;if(n&&i(n.form)){if(!("submit"===n.type&&["button","input"].indexOf(n.localName)>-1)){if("input"!==n.localName||"image"!==n.type)return;a.useValue=e.offsetX+","+e.offsetY}t(n)&&(a.formSubmitter=n)}}},!1);var d=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!i(this))return d.call(this);var e=t(this);e&&e.close()},document.addEventListener("submit",function(e){var n=e.target;if(i(n)){e.preventDefault();var r=t(n);if(r){var s=a.formSubmitter;s&&s.form===n?r.close(a.useValue||s.value):r.close(),a.formSubmitter=null}}},!0)}a.forceRegisterDialog=a.forceRegisterDialog,a.registerDialog=a.registerDialog,"object"==typeof nf.exports?nf.exports=a:window.dialogPolyfill=a}()),rf.exports));var af,of={};
/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(){if(af)return of;af=1;var e={upgradeDom:function(e,t){},upgradeElement:function(e,t){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,t){},register:function(e){},downgradeElements:function(e){}};e=function(){var e=[],t=[],n="mdlComponentConfigInternal_";function r(t,n){for(var r=0;r<e.length;r++)if(e[r].className===t)return void 0!==n&&(e[r]=n),e[r];return!1}function i(e){var t=e.getAttribute("data-upgraded");return null===t?[""]:t.split(",")}function s(e,t){return-1!==i(e).indexOf(t)}function a(e,t,n){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(e,{bubbles:t,cancelable:n});var r=document.createEvent("Events");return r.initEvent(e,t,n),r}function o(t,n){if(void 0===t&&void 0===n)for(var i=0;i<e.length;i++)o(e[i].className,e[i].cssClass);else{var s=t;if(void 0===n){var a=r(s);a&&(n=a.cssClass)}for(var c=document.querySelectorAll("."+n),u=0;u<c.length;u++)l(c[u],s)}}function l(o,l){if(!("object"==typeof o&&o instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var c=a("mdl-componentupgrading",!0,!0);if(o.dispatchEvent(c),!c.defaultPrevented){var u=i(o),d=[];if(l)s(o,l)||d.push(r(l));else{var h=o.classList;e.forEach(function(e){h.contains(e.cssClass)&&-1===d.indexOf(e)&&!s(o,e.className)&&d.push(e)})}for(var f,p=0,m=d.length;p<m;p++){if(!(f=d[p]))throw new Error("Unable to find a registered component for the given class.");u.push(f.className),o.setAttribute("data-upgraded",u.join(","));var g=new f.classConstructor(o);g[n]=f,t.push(g);for(var v=0,y=f.callbacks.length;v<y;v++)f.callbacks[v](o);f.widget&&(o[f.className]=g);var b=a("mdl-componentupgraded",!0,!1);o.dispatchEvent(b)}}}function c(e){if(e){var r=t.indexOf(e);t.splice(r,1);var i=e.element_.getAttribute("data-upgraded").split(","),s=i.indexOf(e[n].classAsString);i.splice(s,1),e.element_.setAttribute("data-upgraded",i.join(","));var o=a("mdl-componentdowngraded",!0,!1);e.element_.dispatchEvent(o)}}return{upgradeDom:o,upgradeElement:l,upgradeElements:function e(t){Array.isArray(t)||(t=t instanceof Element?[t]:Array.prototype.slice.call(t));for(var n,r=0,i=t.length;r<i;r++)(n=t[r])instanceof HTMLElement&&(l(n),n.children.length>0&&e(n.children))},upgradeAllRegistered:function(){for(var t=0;t<e.length;t++)o(e[t].className)},registerUpgradedCallback:function(e,t){var n=r(e);n&&n.callbacks.push(t)},register:function(t){var i=!0;void 0===t.widget&&void 0===t.widget||(i=t.widget||t.widget);var s={classConstructor:t.constructor||t.constructor,className:t.classAsString||t.classAsString,cssClass:t.cssClass||t.cssClass,widget:i,callbacks:[]};if(e.forEach(function(e){if(e.cssClass===s.cssClass)throw new Error("The provided cssClass has already been registered: "+e.cssClass);if(e.className===s.className)throw new Error("The provided className has already been registered")}),t.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");r(t.classAsString,s)||e.push(s)},downgradeElements:function(e){var n=function(e){t.filter(function(t){return t.element_===e}).forEach(c)};if(e instanceof Array||e instanceof NodeList)for(var r=0;r<e.length;r++)n(e[r]);else{if(!(e instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");n(e)}}}}(),e.ComponentConfigPublic,e.ComponentConfig,e.Component,e.upgradeDom=e.upgradeDom,e.upgradeElement=e.upgradeElement,e.upgradeElements=e.upgradeElements,e.upgradeAllRegistered=e.upgradeAllRegistered,e.registerUpgradedCallback=e.registerUpgradedCallback,e.register=e.register,e.downgradeElements=e.downgradeElements,window.componentHandler=e,window.componentHandler=e,window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),e.upgradeAllRegistered()):(e.upgradeElement=function(){},e.register=function(){})})}();var lf,cf;
/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lf||(lf=1,cf=function(e){this.element_=e,this.init()},window.MaterialButton=cf,cf.prototype.Constant_={},cf.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},cf.prototype.blurHandler_=function(e){e&&this.element_.blur()},cf.prototype.disable=function(){this.element_.disabled=!0},cf.prototype.disable=cf.prototype.disable,cf.prototype.enable=function(){this.element_.disabled=!1},cf.prototype.enable=cf.prototype.enable,cf.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:cf,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0}));var uf,df;
/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uf||(uf=1,df=function(e){this.element_=e,this.init()},window.MaterialProgress=df,df.prototype.Constant_={},df.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},df.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},df.prototype.setProgress=df.prototype.setProgress,df.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},df.prototype.setBuffer=df.prototype.setBuffer,df.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,(e=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,(e=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:df,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0}));var hf,ff;
/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hf||(hf=1,ff=function(e){this.element_=e,this.init()},window.MaterialSpinner=ff,ff.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},ff.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},ff.prototype.createLayer=function(e){var t=document.createElement("div");t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var s=[n,r,i],a=0;a<s.length;a++){var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),s[a].appendChild(o)}t.appendChild(n),t.appendChild(r),t.appendChild(i),this.element_.appendChild(t)},ff.prototype.createLayer=ff.prototype.createLayer,ff.prototype.stop=function(){this.element_.classList.remove("is-active")},ff.prototype.stop=ff.prototype.stop,ff.prototype.start=function(){this.element_.classList.add("is-active")},ff.prototype.start=ff.prototype.start,ff.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:ff,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0}));var pf,mf;
/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pf||(pf=1,mf=function(e){this.element_=e,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()},window.MaterialTextfield=mf,mf.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},mf.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},mf.prototype.onKeyDown_=function(e){var t=e.target.value.split("\n").length;13===e.keyCode&&t>=this.maxRows&&e.preventDefault()},mf.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},mf.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},mf.prototype.onReset_=function(e){this.updateClasses_()},mf.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},mf.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},mf.prototype.checkDisabled=mf.prototype.checkDisabled,mf.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},mf.prototype.checkFocus=mf.prototype.checkFocus,mf.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},mf.prototype.checkValidity=mf.prototype.checkValidity,mf.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},mf.prototype.checkDirty=mf.prototype.checkDirty,mf.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},mf.prototype.disable=mf.prototype.disable,mf.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},mf.prototype.enable=mf.prototype.enable,mf.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},mf.prototype.change=mf.prototype.change,mf.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:mf,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})),function(){(function(){var e,t,n="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)t=Object.setPrototypeOf;else{var r;e:{var i={};try{i.__proto__={xb:!0},r=i.xb;break e}catch(Ge){}r=!1}t=r?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var s=t;function a(e,t){if(e.prototype=n(t.prototype),e.prototype.constructor=e,s)s(e,t);else for(var r in t)if("prototype"!=r)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,r);i&&Object.defineProperty(e,r,i)}else e[r]=t[r];e.K=t.prototype}var o="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},l="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function c(e,t){if(t){var n=l;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];i in n||(n[i]={}),n=n[i]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&o(n,e,{configurable:!0,writable:!0,value:t})}}c("Object.is",function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}}),c("Array.prototype.includes",function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var i=n[t];if(i===e||Object.is(i,e))return!0}return!1}});var u=this;function d(e){return void 0!==e}function h(e){return"string"==typeof e}var f=/^[\w+/_-]+[=]{0,2}$/,p=null;function m(){}function g(e){e.W=void 0,e.Xa=function(){return e.W?e.W:e.W=new e}}function v(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function y(e){return"array"==v(e)}function b(e){var t=v(e);return"array"==t||"object"==t&&"number"==typeof e.length}function w(e){return"function"==v(e)}function x(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function S(e,t,n){return e.call.apply(e.bind,arguments)}function k(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function E(e,t,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?S:k).apply(null,arguments)}function C(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function _(e,t){for(var n in t)e[n]=t[n]}var T,I=Date.now||function(){return+new Date};function N(e,t){e=e.split(".");var n,r=u;e[0]in r||void 0===r.execScript||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)!e.length&&d(t)?r[n]=t:r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}}function A(e,t){function n(){}n.prototype=t.prototype,e.K=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.vc=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function R(e){if(Error.captureStackTrace)Error.captureStackTrace(this,R);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function P(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");R.call(this,n+e[r])}function D(e,t){throw new P("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}A(R,Error),R.prototype.name="CustomError",A(P,R),P.prototype.name="AssertionError";var M=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(h(e))return h(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},j=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=h(e)?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};var L=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,s=h(e)?e.split(""):e,a=0;a<n;a++)if(a in s){var o=s[a];t.call(void 0,o,a,e)&&(r[i++]=o)}return r},O=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i=h(e)?e.split(""):e,s=0;s<n;s++)s in i&&(r[s]=t.call(void 0,i[s],s,e));return r},U=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=h(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function F(e,t){return 0<=M(e,t)}function z(e,t){var n;return(n=0<=(t=M(e,t)))&&V(e,t),n}function V(e,t){return 1==Array.prototype.splice.call(e,t,1).length}function B(e,t){!function(e,t){for(var n=h(e)?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,function(n,r){t.call(void 0,n,r,e)&&V(e,r)&&0})}function H(e){return Array.prototype.concat.apply([],arguments)}function W(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function $(e,t,n){return 2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,n)}var q=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},K=/&/g,G=/</g,Y=/>/g,Q=/"/g,J=/'/g,X=/\x00/g,Z=/[\x00&<>"']/;function ee(e,t){return e<t?-1:e>t?1:0}function te(e){return Z.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(K,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(G,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(Y,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(Q,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(J,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(X,"&#0;"))),e}function ne(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function re(e){var t,n={};for(t in e)n[t]=e[t];return n}var ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var s=0;s<ie.length;s++)n=ie[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}var ae="StopIteration"in u?u.StopIteration:{message:"StopIteration",stack:""};function oe(){}function le(e){if(e instanceof oe)return e;if("function"==typeof e.ha)return e.ha(!1);if(b(e)){var t=0,n=new oe;return n.next=function(){for(;;){if(t>=e.length)throw ae;if(t in e)return e[t++];t++}},n}throw Error("Not implemented")}function ce(e){if(b(e))return W(e);e=le(e);var t=[];return function(e,t){if(b(e))try{j(e,t,void 0)}catch(n){if(n!==ae)throw n}else{e=le(e);try{for(;;)t.call(void 0,e.next(),void 0,e)}catch(r){if(r!==ae)throw r}}}(e,function(e){t.push(e)}),t}function ue(e,t){this.g={},this.a=[],this.j=this.h=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ue)for(n=e.ja(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function de(e){if(e.h!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];he(e.g,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.h!=e.a.length){var i={};for(n=t=0;t<e.a.length;)he(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function he(e,t){return Object.prototype.hasOwnProperty.call(e,t)}oe.prototype.next=function(){throw ae},oe.prototype.ha=function(){return this},(e=ue.prototype).la=function(){de(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.g[this.a[t]]);return e},e.ja=function(){return de(this),this.a.concat()},e.clear=function(){this.g={},this.j=this.h=this.a.length=0},e.get=function(e,t){return he(this.g,e)?this.g[e]:t},e.set=function(e,t){he(this.g,e)||(this.h++,this.a.push(e),this.j++),this.g[e]=t},e.forEach=function(e,t){for(var n=this.ja(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}},e.ha=function(e){de(this);var t=0,n=this.j,r=this,i=new oe;return i.next=function(){if(n!=r.j)throw Error("The map has changed since the iterator was created");if(t>=r.a.length)throw ae;var i=r.a[t++];return e?i:r.g[i]},i};var fe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function pe(e,t,n,r){for(var i=n.length;0<=(t=e.indexOf(n,t))&&t<r;){var s=e.charCodeAt(t-1);if(!(38!=s&&63!=s||(s=e.charCodeAt(t+i))&&61!=s&&38!=s&&35!=s))return t;t+=i+1}return-1}var me=/#|$/;function ge(e,t){var n=e.search(me),r=pe(e,0,t,n);if(0>r)return null;var i=e.indexOf("&",r);return(0>i||i>n)&&(i=n),r+=t.length+1,decodeURIComponent(e.substr(r,i-r).replace(/\+/g," "))}var ve=/[?&]($|#)/;function ye(e,t){var n;this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1,e instanceof ye?(this.i=d(t)?t:e.i,be(this,e.j),this.A=e.A,this.h=e.h,we(this,e.C),this.g=e.g,xe(this,je(e.a)),this.s=e.s):e&&(n=String(e).match(fe))?(this.i=!!t,be(this,n[1]||"",!0),this.A=ke(n[2]||""),this.h=ke(n[3]||"",!0),we(this,n[4]),this.g=ke(n[5]||"",!0),xe(this,n[6]||"",!0),this.s=ke(n[7]||"")):(this.i=!!t,this.a=new Re(null,this.i))}function be(e,t,n){e.j=n?ke(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function we(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.C=t}else e.C=null}function xe(e,t,n){t instanceof Re?(e.a=t,function(e,t){t&&!e.j&&(Pe(e),e.h=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(De(this,t),De(this,n),0<e.length&&(this.h=null,this.a.set(Le(this,n),W(e)),this.g+=e.length))},e)),e.j=t}(e.a,e.i)):(n||(t=Ee(t,Ne)),e.a=new Re(t,e.i))}function Se(e){return e instanceof ye?new ye(e):new ye(e,void 0)}function ke(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ee(e,t,n){return h(e)?(e=encodeURI(e).replace(t,Ce),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ce(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ye.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ee(t,_e,!0),":");var n=this.h;return(n||"file"==t)&&(e.push("//"),(t=this.A)&&e.push(Ee(t,_e,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.C)&&e.push(":",String(n))),(n=this.g)&&(this.h&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ee(n,"/"==n.charAt(0)?Ie:Te,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.s)&&e.push("#",Ee(n,Ae)),e.join("")};var _e=/[#\/\?@]/g,Te=/[#\?:]/g,Ie=/[#\?]/g,Ne=/[#\?@]/g,Ae=/#/g;function Re(e,t){this.g=this.a=null,this.h=e||null,this.j=!!t}function Pe(e){e.a||(e.a=new ue,e.g=0,e.h&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.h,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function De(e,t){Pe(e),t=Le(e,t),he(e.a.g,t)&&(e.h=null,e.g-=e.a.get(t).length,he((e=e.a).g,t)&&(delete e.g[t],e.h--,e.j++,e.a.length>2*e.h&&de(e)))}function Me(e,t){return Pe(e),t=Le(e,t),he(e.a.g,t)}function je(e){var t=new Re;return t.h=e.h,e.a&&(t.a=new ue(e.a),t.g=e.g),t}function Le(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Oe(e){this.a=Se(e)}function Ue(e){return e.a.a.get(Ve.Pa)||null}function Fe(e,t){t?e.a.a.set(Ve.PROVIDER_ID,t):De(e.a.a,Ve.PROVIDER_ID)}(e=Re.prototype).add=function(e,t){Pe(this),this.h=null,e=Le(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.g+=1,this},e.clear=function(){this.a=this.h=null,this.g=0},e.forEach=function(e,t){Pe(this),this.a.forEach(function(n,r){j(n,function(n){e.call(t,n,r,this)},this)},this)},e.ja=function(){Pe(this);for(var e=this.a.la(),t=this.a.ja(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},e.la=function(e){Pe(this);var t=[];if(h(e))Me(this,e)&&(t=H(t,this.a.get(Le(this,e))));else{e=this.a.la();for(var n=0;n<e.length;n++)t=H(t,e[n])}return t},e.set=function(e,t){return Pe(this),this.h=null,Me(this,e=Le(this,e))&&(this.g-=this.a.get(e).length),this.a.set(e,[t]),this.g+=1,this},e.get=function(e,t){return e&&0<(e=this.la(e)).length?String(e[0]):t},e.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var e=[],t=this.a.ja(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.la(r);for(var s=0;s<r.length;s++){var a=i;""!==r[s]&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.h=e.join("&")},Oe.prototype.toString=function(){return this.a.toString()};var ze,Ve={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"};e:{var Be=u.navigator;if(Be){var He=Be.userAgent;if(He){ze=He;break e}}ze=""}function We(e){return-1!=ze.indexOf(e)}function $e(){return(We("Chrome")||We("CriOS"))&&!We("Edge")}function qe(e){return qe[" "](e),e}qe[" "]=m;var Ke,Ge,Ye=We("Opera"),Qe=We("Trident")||We("MSIE"),Je=We("Edge"),Xe=Je||Qe,Ze=We("Gecko")&&!(-1!=ze.toLowerCase().indexOf("webkit")&&!We("Edge"))&&!(We("Trident")||We("MSIE"))&&!We("Edge"),et=-1!=ze.toLowerCase().indexOf("webkit")&&!We("Edge"),tt=et&&We("Mobile"),nt=We("Macintosh");function rt(){var e=u.document;return e?e.documentMode:void 0}e:{var it="",st=(Ge=ze,Ze?/rv:([^\);]+)(\)|;)/.exec(Ge):Je?/Edge\/([\d\.]+)/.exec(Ge):Qe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ge):et?/WebKit\/(\S+)/.exec(Ge):Ye?/(?:Version)[ \/]?(\S+)/.exec(Ge):void 0);if(st&&(it=st?st[1]:""),Qe){var at=rt();if(null!=at&&at>parseFloat(it)){Ke=String(at);break e}}Ke=it}var ot,lt={};function ct(e){return function(e,t){var n=lt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(){for(var t=0,n=q(String(Ke)).split("."),r=q(String(e)).split("."),i=Math.max(n.length,r.length),s=0;0==t&&s<i;s++){var a=n[s]||"",o=r[s]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;t=ee(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||ee(0==a[2].length,0==o[2].length)||ee(a[2],o[2]),a=a[3],o=o[3]}while(0==t)}return 0<=t})}var ut=u.document;function dt(e,t){this.a=e===ft&&t||"",this.g=ht}ot=ut&&Qe?rt()||("CSS1Compat"==ut.compatMode?parseInt(Ke,10):5):void 0,dt.prototype.ma=!0,dt.prototype.ka=function(){return this.a},dt.prototype.toString=function(){return"Const{"+this.a+"}"};var ht={},ft={};function pt(){this.a="",this.h=gt}function mt(e){return e instanceof pt&&e.constructor===pt&&e.h===gt?e.a:(D("expected object of type TrustedResourceUrl, got '"+e+"' of type "+v(e)),"type_error:TrustedResourceUrl")}pt.prototype.ma=!0,pt.prototype.ka=function(){return this.a.toString()},pt.prototype.g=function(){return 1},pt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var gt={};function vt(){this.a="",this.h=St}function yt(e){return e instanceof vt&&e.constructor===vt&&e.h===St?e.a:(D("expected object of type SafeUrl, got '"+e+"' of type "+v(e)),"type_error:SafeUrl")}vt.prototype.ma=!0,vt.prototype.ka=function(){return this.a.toString()},vt.prototype.g=function(){return 1},vt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var bt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function wt(e){return e instanceof vt?e:(e="object"==typeof e&&e.ma?e.ka():String(e),bt.test(e)||(e="about:invalid#zClosurez"),kt(e))}function xt(e){return e instanceof vt?e:(e="object"==typeof e&&e.ma?e.ka():String(e),bt.test(e)||(e="about:invalid#zClosurez"),kt(e))}var St={};function kt(e){var t=new vt;return t.a=e,t}function Et(){this.a="",this.g=Ct}kt("about:blank"),Et.prototype.ma=!0;var Ct={};function _t(){this.a="",this.j=It,this.h=null}function Tt(e){return e instanceof _t&&e.constructor===_t&&e.j===It?e.a:(D("expected object of type SafeHtml, got '"+e+"' of type "+v(e)),"type_error:SafeHtml")}Et.prototype.ka=function(){return this.a},Et.prototype.toString=function(){return"SafeStyle{"+this.a+"}"},_t.prototype.g=function(){return this.h},_t.prototype.ma=!0,_t.prototype.ka=function(){return this.a.toString()},_t.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var It={};function Nt(e,t){var n=new _t;return n.a=e,n.h=t,n}Nt("<!DOCTYPE html>",0);var At=Nt("",0);Nt("<br>",0);var Rt=function(){var e,t=!1;return function(){return t||(e=function(){if("undefined"==typeof document)return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),!!e.firstChild&&(t=e.firstChild.firstChild,e.innerHTML=Tt(At),!t.parentElement)}(),t=!0),e}}();function Pt(e,t){t=t instanceof vt?t:xt(t),e.assign(yt(t))}function Dt(e,t){this.a=d(e)?e:0,this.g=d(t)?t:0}function Mt(e,t){this.width=e,this.height=t}function jt(e){return e?new $t(Bt(e)):T||(T=new $t)}function Lt(e,t){var n=t||document;return n.querySelectorAll&&n.querySelector?n.querySelectorAll("."+e):Ut(document,e,t)}function Ot(e,t){var n=t||document;if(n.getElementsByClassName)e=n.getElementsByClassName(e)[0];else{n=document;var r=t||n;e=r.querySelectorAll&&r.querySelector&&e?r.querySelector(e?"."+e:""):Ut(n,e,t)[0]||null}return e||null}function Ut(e,t,n){var r;if((e=n||e).querySelectorAll&&e.querySelector&&t)return e.querySelectorAll(t?"."+t:"");if(t&&e.getElementsByClassName){var i=e.getElementsByClassName(t);return i}if(i=e.getElementsByTagName("*"),t){var s={};for(n=r=0;e=i[n];n++){var a=e.className;"function"==typeof a.split&&F(a.split(/\s+/),t)&&(s[r++]=e)}return s.length=r,s}return i}Dt.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Dt.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Dt.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Dt.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this},(e=Mt.prototype).toString=function(){return"("+this.width+" x "+this.height+")"},e.aspectRatio=function(){return this.width/this.height},e.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},e.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},e.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var Ft={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function zt(e){return e.scrollingElement?e.scrollingElement:(et||"CSS1Compat"!=e.compatMode)&&e.body||e.documentElement}function Vt(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Bt(e){return 9==e.nodeType?e:e.ownerDocument||e.document}function Ht(e,t){if("textContent"in e)e.textContent=t;else if(3==e.nodeType)e.data=String(t);else if(e.firstChild&&3==e.firstChild.nodeType){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=String(t)}else{for(var n;n=e.firstChild;)e.removeChild(n);e.appendChild(Bt(e).createTextNode(String(t)))}}function Wt(e,t){return t?function(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}(e,function(e){return!t||h(e.className)&&F(e.className.split(/\s+/),t)}):null}function $t(e){this.a=e||u.document||document}$t.prototype.N=function(){return h(void 0)?this.a.getElementById(void 0):void 0};var qt={Fc:!0},Kt={Hc:!0},Gt={},Yt={Gc:!0};function Qt(){throw Error("Do not instantiate directly")}function Jt(e,t,n,r){if(e=e(t||Zt,void 0,n),r=(r||jt()).a.createElement("DIV"),(e=function(e){if(!x(e))return te(String(e));if(e instanceof Qt){if(e.fa===qt)return e.content;if(e.fa===Yt)return te(e.content)}return D("Soy template output is unsafe for use as HTML: "+e),"zSoyz"}(e)).match(Xt),e=Nt(e,null),Rt())for(;r.lastChild;)r.removeChild(r.lastChild);return r.innerHTML=Tt(e),1==r.childNodes.length&&(1==(e=r.firstChild).nodeType&&(r=e)),r}Qt.prototype.va=null,Qt.prototype.toString=function(){return this.content};var Xt=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,Zt={};function en(){Qt.call(this)}function tn(e){return null!=e&&e.fa===qt?e:e instanceof _t?an(Tt(e).toString(),e.g()):an(te(String(String(e))),function(e){if(null!=e)switch(e.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}(e))}function nn(){Qt.call(this)}function rn(e,t){this.content=String(e),this.va=null!=t?t:null}function sn(e){return new rn(e,void 0)}A(en,Qt),en.prototype.fa=qt,A(nn,Qt),nn.prototype.fa=Kt,nn.prototype.va=1,A(rn,Qt),rn.prototype.fa=Yt;var an=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,n){return e=new t(String(e)),void 0!==n&&(e.va=n),e}}(en),on=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e){return new t(String(e))}}(nn);function ln(e){return(e=String(e))?new rn(e,void 0):""}var cn=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,n){return(e=String(e))?(e=new t(e),void 0!==n&&(e.va=n),e):""}}(en);function un(e){return null!=e&&e.fa===qt?String(String(e.content).replace(xn,"").replace(Sn,"&lt;")).replace(vn,pn):te(String(e))}function dn(e){return null!=e&&e.fa===Kt?e=String(e).replace(yn,gn):e instanceof vt?e=String(yt(e).toString()).replace(yn,gn):(e=String(e),wn.test(e)?e=e.replace(yn,gn):(D("Bad value `%s` for |filterNormalizeUri",[e]),e="#zSoyz")),e}function hn(e){return null!=e&&e.fa===Gt?e=e.content:null==e?e="":e instanceof Et?e instanceof Et&&e.constructor===Et&&e.g===Ct?e=e.a:(D("expected object of type SafeStyle, got '"+e+"' of type "+v(e)),e="type_error:SafeStyle"):(e=String(e),bn.test(e)||(D("Bad value `%s` for |filterCssValue",[e]),e="zSoyz")),e}var fn={"\0":"&#0;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;","":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function pn(e){return fn[e]}var mn={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","":"%07","\b":"%08","\t":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85","":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","":"%EF%BC%81","":"%EF%BC%83","":"%EF%BC%84","":"%EF%BC%86","":"%EF%BC%87","":"%EF%BC%88","":"%EF%BC%89","":"%EF%BC%8A","":"%EF%BC%8B","":"%EF%BC%8C","":"%EF%BC%8F","":"%EF%BC%9A","":"%EF%BC%9B","":"%EF%BC%9D","":"%EF%BC%9F","":"%EF%BC%A0","":"%EF%BC%BB","":"%EF%BC%BD"};function gn(e){return mn[e]}var vn=/[\x00\x22\x27\x3c\x3e]/g,yn=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,bn=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,wn=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,xn=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,Sn=/</g;function kn(){return sn("Enter a valid phone number")}function En(){return sn("Unable to send password reset code to specified email")}function Cn(){return sn("Something went wrong. Please try again.")}function _n(){return sn("This email already exists without any means of sign-in. Please reset the password to recover.")}function Tn(e){var t="";switch((e=e||{}).code){case"invalid-argument":t+="Client specified an invalid argument.";break;case"invalid-configuration":t+="Client specified an invalid project configuration.";break;case"failed-precondition":t+="Request can not be executed in the current system state.";break;case"out-of-range":t+="Client specified an invalid range.";break;case"unauthenticated":t+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":t+="Client does not have sufficient permission.";break;case"not-found":t+="Specified resource is not found.";break;case"aborted":t+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":t+="The resource that a client tried to create already exists.";break;case"resource-exhausted":t+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":t+="Request cancelled by the client.";break;case"data-loss":t+="Unrecoverable data loss or data corruption.";break;case"unknown":t+="Unknown server error.";break;case"internal":t+="Internal server error.";break;case"not-implemented":t+="API method not implemented by the server.";break;case"unavailable":t+="Service unavailable.";break;case"deadline-exceeded":t+="Request deadline exceeded.";break;case"auth/user-disabled":t+="The user account has been disabled by an administrator.";break;case"auth/timeout":t+="The operation has timed out.";break;case"auth/too-many-requests":t+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":t+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":t+="A network error has occurred. Try again later.";break;case"restart-process":t+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":t+="No sign-in provider is available for the given email, please try with a different email."}return sn(t)}function In(){return sn("Please login again to perform this operation")}function Nn(e,t,n){var r=Error.call(this);if(this.message=r.message,"stack"in r&&(this.stack=r.stack),this.code=An+e,!(e=t)){if(e="","firebaseui/merge-conflict"===this.code)e+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";else e+=Cn();e=sn(e).toString()}this.message=e||"",this.credential=n||null}a(Nn,Error),Nn.prototype.toJSON=function(){return{code:this.code,message:this.message}};var An="firebaseui/";function Rn(){this.T=this.T,this.C=this.C}function Pn(e,t){e.T?d(void 0)?t.call(void 0):t():(e.C||(e.C=[]),e.C.push(d(void 0)?E(t,void 0):t))}function Dn(e){e&&"function"==typeof e.m&&e.m()}Rn.prototype.T=!1,Rn.prototype.m=function(){!this.T&&(this.T=!0,this.o())},Rn.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};var Mn=Object.freeze||function(e){return e},jn=!Qe||9<=Number(ot),Ln=Qe&&!ct("9"),On=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",m,t),u.removeEventListener("test",m,t)}catch(n){}return e}();function Un(e,t){this.type=e,this.g=this.target=t,this.h=!1,this.qb=!0}function Fn(e,t){if(Un.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ze){e:{try{qe(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.key=e.key||"",this.j=e.charCode||("keypress"==n?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=h(e.pointerType)?e.pointerType:zn[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Un.prototype.stopPropagation=function(){this.h=!0},Un.prototype.preventDefault=function(){this.qb=!1},A(Fn,Un);var zn=Mn({2:"touch",3:"pen",4:"mouse"});Fn.prototype.stopPropagation=function(){Fn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Fn.prototype.preventDefault=function(){Fn.K.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Ln)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var Vn="closure_listenable_"+(1e6*Math.random()|0),Bn=0;function Hn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.La=i,this.key=++Bn,this.sa=this.Ia=!1}function Wn(e){e.sa=!0,e.listener=null,e.proxy=null,e.src=null,e.La=null}function $n(e){this.src=e,this.a={},this.g=0}function qn(e,t){var n=t.type;n in e.a&&z(e.a[n],t)&&(Wn(t),0==e.a[n].length&&(delete e.a[n],e.g--))}function Kn(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.sa&&s.listener==t&&s.capture==!!n&&s.La==r)return i}return-1}$n.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.a[s])||(e=this.a[s]=[],this.g++);var a=Kn(e,t,r,i);return-1<a?(t=e[a],n||(t.Ia=!1)):((t=new Hn(t,this.src,s,!!r,i)).Ia=n,e.push(t)),t};var Gn="closure_lm_"+(1e6*Math.random()|0),Yn={};function Qn(e,t,n,r,i){if(r&&r.once)return Xn(e,t,n,r,i);if(y(t)){for(var s=0;s<t.length;s++)Qn(e,t[s],n,r,i);return null}return n=or(n),e&&e[Vn]?e.J.add(String(t),n,!1,x(r)?!!r.capture:!!r,i):Jn(e,t,n,!1,r,i)}function Jn(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=x(i)?!!i.capture:!!i,o=sr(e);if(o||(e[Gn]=o=new $n(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){var e=ir,t=jn?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)On||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(tr(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Xn(e,t,n,r,i){if(y(t)){for(var s=0;s<t.length;s++)Xn(e,t[s],n,r,i);return null}return n=or(n),e&&e[Vn]?e.J.add(String(t),n,!0,x(r)?!!r.capture:!!r,i):Jn(e,t,n,!0,r,i)}function Zn(e,t,n,r,i){if(y(t))for(var s=0;s<t.length;s++)Zn(e,t[s],n,r,i);else r=x(r)?!!r.capture:!!r,n=or(n),e&&e[Vn]?(e=e.J,(t=String(t).toString())in e.a&&(-1<(n=Kn(s=e.a[t],n,r,i))&&(Wn(s[n]),V(s,n),0==s.length&&(delete e.a[t],e.g--)))):e&&(e=sr(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Kn(t,n,r,i)),(n=-1<e?t[e]:null)&&er(n))}function er(e){if("number"!=typeof e&&e&&!e.sa){var t=e.src;if(t&&t[Vn])qn(t.J,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(tr(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=sr(t))?(qn(n,e),0==n.g&&(n.src=null,t[Gn]=null)):Wn(e)}}}function tr(e){return e in Yn?Yn[e]:Yn[e]="on"+e}function nr(e,t,n,r){var i=!0;if((e=sr(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var s=t[e];s&&s.capture==n&&!s.sa&&(s=rr(s,r),i=i&&!1!==s)}return i}function rr(e,t){var n=e.listener,r=e.La||e.src;return e.Ia&&er(e),n.call(r,t)}function ir(e,t){if(e.sa)return!0;if(!jn){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Fn(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.g;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;!t.h&&0<=i;i--){t.g=r[i];var s=nr(r[i],e,!0,t);n=n&&s}for(i=0;!t.h&&i<r.length;i++)t.g=r[i],s=nr(r[i],e,!1,t),n=n&&s}return n}return rr(e,new Fn(t,this))}function sr(e){return(e=e[Gn])instanceof $n?e:null}var ar="__closure_events_fn_"+(1e9*Math.random()>>>0);function or(e){return w(e)?e:(e[ar]||(e[ar]=function(t){return e.handleEvent(t)}),e[ar])}function lr(){Rn.call(this),this.J=new $n(this),this.wb=this,this.Ha=null}function cr(e,t){var n,r=e.Ha;if(r)for(n=[];r;r=r.Ha)n.push(r);if(e=e.wb,r=t.type||t,h(t))t=new Un(t,e);else if(t instanceof Un)t.target=t.target||e;else{var i=t;se(t=new Un(r,e),i)}if(i=!0,n)for(var s=n.length-1;!t.h&&0<=s;s--){var a=t.g=n[s];i=ur(a,r,!0,t)&&i}if(t.h||(i=ur(a=t.g=e,r,!0,t)&&i,t.h||(i=ur(a,r,!1,t)&&i)),n)for(s=0;!t.h&&s<n.length;s++)i=ur(a=t.g=n[s],r,!1,t)&&i;return i}function ur(e,t,n,r){if(!(t=e.J.a[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.sa&&a.capture==n){var o=a.listener,l=a.La||a.src;a.Ia&&qn(e.J,a),i=!1!==o.call(l,r)&&i}}return i&&0!=r.qb}A(lr,Rn),lr.prototype[Vn]=!0,lr.prototype.Za=function(e){this.Ha=e},lr.prototype.removeEventListener=function(e,t,n,r){Zn(this,e,t,n,r)},lr.prototype.o=function(){if(lr.K.o.call(this),this.J){var e,t=this.J;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)Wn(n[r]);delete t.a[e],t.g--}}this.Ha=null};var dr={},hr=0;function fr(e,t){if(!e)throw Error("Event target element must be provided!");if(e=mr(e),dr[e]&&dr[e].length)for(var n=0;n<dr[e].length;n++)cr(dr[e][n],t)}function pr(e){var t=mr(e.N());dr[t]&&dr[t].length&&(function(e,t){e:{for(var n=e.length,r=h(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}0<=t&&V(e,t)}(dr[t],function(t){return t==e}),dr[t].length||delete dr[t])}function mr(e){return void 0===e.a&&(e.a=hr,hr++),e.a}function gr(e){if(!e)throw Error("Event target element must be provided!");lr.call(this),this.a=e}function vr(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function yr(e,t){this.h=e,this.j=t,this.g=0,this.a=null}function br(e,t){e.j(t),100>e.g&&(e.g++,t.next=e.a,e.a=t)}function wr(){this.g=this.a=null}a(gr,lr),gr.prototype.N=function(){return this.a},gr.prototype.register=function(){var e=mr(this.N());dr[e]?F(dr[e],this)||dr[e].push(this):dr[e]=[this]},yr.prototype.get=function(){if(0<this.g){this.g--;var e=this.a;this.a=e.next,e.next=null}else e=this.h();return e};var xr,Sr,kr=new yr(function(){return new Cr},function(e){e.reset()});function Er(){var e=Nr,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.g=null),t.next=null),t}function Cr(){this.next=this.g=this.a=null}function _r(e){u.setTimeout(function(){throw e},0)}function Tr(e,t){Sr||function(){if(u.Promise&&u.Promise.resolve){var e=u.Promise.resolve(void 0);Sr=function(){e.then(Ar)}}else Sr=function(){var e=Ar;!w(u.setImmediate)||u.Window&&u.Window.prototype&&!We("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(xr||(xr=function(){var e=u.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!We("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(""),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=E(function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!We("Trident")&&!We("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(d(n.next)){var e=(n=n.next).gb;n.gb=null,e()}},function(e){r.next={gb:e},r=r.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){u.setTimeout(e,0)}}()),xr(e)):u.setImmediate(e)}}(),Ir||(Sr(),Ir=!0),Nr.add(e,t)}wr.prototype.add=function(e,t){var n=kr.get();n.set(e,t),this.g?this.g.next=n:this.a=n,this.g=n},Cr.prototype.set=function(e,t){this.a=e,this.g=t,this.next=null},Cr.prototype.reset=function(){this.next=this.g=this.a=null};var Ir=!1,Nr=new wr;function Ar(){for(var e;e=Er();){try{e.a.call(e.g)}catch(t){_r(t)}br(kr,e)}Ir=!1}function Rr(e){if(this.a=Pr,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,e!=m)try{var t=this;e.call(void 0,function(e){Hr(t,Dr,e)},function(e){if(!(e instanceof Yr))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(n){}Hr(t,Mr,e)})}catch(n){Hr(this,Mr,n)}}var Pr=0,Dr=2,Mr=3;function jr(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}jr.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var Lr=new yr(function(){return new jr},function(e){e.reset()});function Or(e,t,n){var r=Lr.get();return r.s=e,r.g=t,r.j=n,r}function Ur(e){if(e instanceof Rr)return e;var t=new Rr(m);return Hr(t,Dr,e),t}function Fr(e){return new Rr(function(t,n){n(e)})}function zr(e,t){if(e.a==Pr)if(e.h){var n=e.h;if(n.g){for(var r=0,i=null,s=null,a=n.g;a&&(a.h||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(s=a);i&&(n.a==Pr&&1==r?zr(n,t):(s?((r=s).next==n.j&&(n.j=r),r.next=r.next.next):$r(n),qr(n,i,Mr,t)))}e.h=null}else Hr(e,Mr,t)}function Vr(e,t){e.g||e.a!=Dr&&e.a!=Mr||Wr(e),e.j?e.j.next=t:e.g=t,e.j=t}function Br(e,t,n,r){var i=Or(null,null,null);return i.a=new Rr(function(e,s){i.s=t?function(n){try{var i=t.call(r,n);e(i)}catch(a){s(a)}}:e,i.g=n?function(t){try{var i=n.call(r,t);!d(i)&&t instanceof Yr?s(t):e(i)}catch(a){s(a)}}:s}),i.a.h=e,Vr(e,i),i.a}function Hr(e,t,n){if(e.a==Pr){e===n&&(t=Mr,n=new TypeError("Promise cannot resolve to itself")),e.a=1;e:{var r=n,i=e.hc,s=e.ic;if(r instanceof Rr){Vr(r,Or(i||m,s||null,e));var a=!0}else if(vr(r))r.then(i,s,e),a=!0;else{if(x(r))try{var o=r.then;if(w(o)){!function(e,t,n,r,i){function s(e){o||(o=!0,r.call(i,e))}function a(e){o||(o=!0,n.call(i,e))}var o=!1;try{t.call(e,a,s)}catch(l){s(l)}}(r,o,i,s,e),a=!0;break e}}catch(l){s.call(e,l),a=!0;break e}a=!1}}a||(e.A=n,e.a=t,e.h=null,Wr(e),t!=Mr||n instanceof Yr||function(e,t){e.s=!0,Tr(function(){e.s&&Gr.call(null,t)})}(e,n))}}function Wr(e){e.i||(e.i=!0,Tr(e.Hb,e))}function $r(e){var t=null;return e.g&&(t=e.g,e.g=t.next,t.next=null),e.g||(e.j=null),t}function qr(e,t,n,r){if(n==Mr&&t.g&&!t.h)for(;e&&e.s;e=e.h)e.s=!1;if(t.a)t.a.h=null,Kr(t,n,r);else try{t.h?t.s.call(t.j):Kr(t,n,r)}catch(cE){Gr.call(null,cE)}br(Lr,t)}function Kr(e,t,n){t==Dr?e.s.call(e.j,n):e.g&&e.g.call(e.j,n)}Rr.prototype.then=function(e,t,n){return Br(this,w(e)?e:null,w(t)?t:null,n)},Rr.prototype.$goog_Thenable=!0,(e=Rr.prototype).fc=function(e,t){return(e=Or(e,e,t)).h=!0,Vr(this,e),this},e.Ca=function(e,t){return Br(this,null,e,t)},e.cancel=function(e){this.a==Pr&&Tr(function(){zr(this,new Yr(e))},this)},e.hc=function(e){this.a=Pr,Hr(this,Dr,e)},e.ic=function(e){this.a=Pr,Hr(this,Mr,e)},e.Hb=function(){for(var e;e=$r(this);)qr(this,e,this.a,this.A);this.i=!1};var Gr=_r;function Yr(e){R.call(this,e)}function Qr(e,t,n){t||(t={}),n=n||window;var r=e instanceof vt?e:wt(void 0!==e.href?e.href:String(e));e=t.target||e.target;var i=[];for(s in t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");return(We("iPhone")&&!We("iPod")&&!We("iPad")||We("iPad")||We("iPod"))&&n.navigator&&n.navigator.standalone&&e&&"_self"!=e?(s=n.document.createElement("A"),r=r instanceof vt?r:xt(r),s.href=yt(r),s.setAttribute("target",e),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,n,1),s.dispatchEvent(t),n={}):t.noreferrer?(n=n.open("",e,s),t=yt(r).toString(),n&&(Xe&&-1!=t.indexOf(";")&&(t="'"+t.replace(/'/g,"%27")+"'"),n.opener=null,t=Nt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+te(t)+'">',null),n.document.write(Tt(t)),n.document.close())):(n=n.open(yt(r).toString(),e,s))&&t.noopener&&(n.opener=null),n}function Jr(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch(e){}return!1}function Xr(e){Qr(e,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function Zr(e,t){if(null==(e=x(e)&&1==e.nodeType?e:document.querySelector(String(e))))throw Error(t||"Cannot find element.");return e}function ei(){return window.location.href}function ti(e){var t=hi;this.s=[],this.T=t,this.O=e||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}function ni(e,t,n){e.a=!0,e.h=n,e.j=!t,ai(e)}function ri(e){if(e.a){if(!e.J)throw new oi;e.J=!1}}function ii(e,t,n){e.s.push([t,n,void 0]),e.a&&ai(e)}function si(e){return U(e.s,function(e){return w(e[1])})}function ai(e){if(e.i&&e.a&&si(e)){var t=e.i,n=ui[t];n&&(u.clearTimeout(n.a),delete ui[t]),e.i=0}e.g&&(e.g.C--,delete e.g),t=e.h;for(var r=n=!1;e.s.length&&!e.A;){var i=e.s.shift(),s=i[0],a=i[1];if(i=i[2],s=e.j?a:s)try{var o=s.call(i||e.O,t);d(o)&&(e.j=e.j&&(o==t||o instanceof Error),e.h=t=o),(vr(t)||"function"==typeof u.Promise&&t instanceof u.Promise)&&(r=!0,e.A=!0)}catch(l){t=l,e.j=!0,si(e)||(n=!0)}}e.h=t,r&&(o=E(e.L,e,!0),r=E(e.L,e,!1),t instanceof ti?(ii(t,o,r),t.l=!0):t.then(o,r)),n&&(t=new ci(t),ui[t.a]=t,e.i=t.a)}function oi(){R.call(this)}function li(){R.call(this)}function ci(e){this.a=u.setTimeout(E(this.h,this),0),this.g=e}A(Yr,R),Yr.prototype.name="cancel",ti.prototype.cancel=function(e){if(this.a)this.h instanceof ti&&this.h.cancel();else{if(this.g){var t=this.g;delete this.g,e?t.cancel(e):(t.C--,0>=t.C&&t.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(e=new li,ri(this),ni(this,!1,e))}},ti.prototype.L=function(e,t){this.A=!1,ni(this,e,t)},ti.prototype.callback=function(e){ri(this),ni(this,!0,e)},ti.prototype.then=function(e,t,n){var r,i,s=new Rr(function(e,t){r=e,i=t});return ii(this,r,function(e){e instanceof li?s.cancel():i(e)}),s.then(e,t,n)},ti.prototype.$goog_Thenable=!0,A(oi,R),oi.prototype.message="Deferred has already fired",oi.prototype.name="AlreadyCalledError",A(li,R),li.prototype.message="Deferred was canceled",li.prototype.name="CanceledError",ci.prototype.h=function(){throw delete ui[this.a],this.g};var ui={};function di(e){var t={},n=t.document||document,r=mt(e).toString(),i=document.createElement("SCRIPT"),s={rb:i,sb:void 0},a=new ti(s),o=null,l=null!=t.timeout?t.timeout:5e3;return 0<l&&(o=window.setTimeout(function(){fi(i,!0);var e=new gi(mi,"Timeout reached for loading script "+r);ri(a),ni(a,!1,e)},l),s.sb=o),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(fi(i,t.xc||!1,o),a.callback(null))},i.onerror=function(){fi(i,!0,o);var e=new gi(pi,"Error while loading script "+r);ri(a),ni(a,!1,e)},se(s=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),function(e,t){ne(t,function(t,n){t&&"object"==typeof t&&t.ma&&(t=t.ka()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Ft.hasOwnProperty(n)?e.setAttribute(Ft[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})}(i,s),function(e,t){e.src=mt(t),null===p&&(p=(t=(t=u.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&f.test(t)?t:""),(t=p)&&e.setAttribute("nonce",t)}(i,e),function(e){var t=(e||document).getElementsByTagName("HEAD");return t&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function hi(){if(this&&this.rb){var e=this.rb;e&&"SCRIPT"==e.tagName&&fi(e,!0,this.sb)}}function fi(e,t,n){null!=n&&u.clearTimeout(n),e.onload=m,e.onerror=m,e.onreadystatechange=m,t&&window.setTimeout(function(){Vt(e)},0)}var pi=0,mi=1;function gi(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),R.call(this,n),this.code=e}function vi(){return u.google&&u.google.accounts&&u.google.accounts.id||null}function yi(e){this.a=e||vi(),this.h=!1,this.g=null}function bi(e,t,n){return e.a&&t?(e.h=!0,new Rr(function(r){e.g=r,e.a.initialize({client_id:t,callback:r,auto_select:!n}),e.a.prompt()})):Ur(t?xi.Xa().load().then(function(){return e.a=vi(),bi(e,t,n)}).Ca(function(){return null}):null)}A(gi,R),yi.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())},g(yi);var wi=new dt(ft,"https://accounts.google.com/gsi/client");function xi(){this.a=null}function Si(e,t){this.a=e,this.g=t||function(e){throw e}}function ki(e,t,n){this.reset(e,t,n,void 0,void 0)}function Ei(e){this.s=e,this.a=this.h=this.j=this.g=null}function Ci(e,t){this.name=e,this.value=t}xi.prototype.load=function(){var e=this;if(this.a)return this.a;var t=function(){var e=wi;e instanceof dt&&e.constructor===dt&&e.g===ht?e=e.a:(D("expected object of type Const, got '"+e+"'"),e="type_error:Const");var t=new pt;return t.a=e,t}();return vi()?Ur():this.a=function(){var e=null;return new Rr(function(t){"complete"==u.document.readyState?t():(e=function(){t()},Xn(window,"load",e))}).Ca(function(t){throw Zn(window,"load",e),t})}().then(function(){if(!vi())return new Rr(function(n,r){var i=setTimeout(function(){e.a=null,r(Error("Network error!"))},1e4);u.onGoogleLibraryLoad=function(){clearTimeout(i),n()},Ur(di(t)).then(function(){vi()&&n()}).Ca(function(t){clearTimeout(i),e.a=null,r(t)})})})},g(xi),Si.prototype.confirm=function(e){return Ur(this.a.confirm(e)).Ca(this.g)},ki.prototype.a=null,ki.prototype.reset=function(e,t,n,r,i){this.h=r||I(),this.j=e,this.s=t,this.g=n,delete this.a},Ci.prototype.toString=function(){return this.name};var _i=new Ci("SEVERE",1e3),Ti=new Ci("WARNING",900),Ii=new Ci("CONFIG",700);function Ni(e){return e.j?e.j:e.g?Ni(e.g):(D("Root logger has no level set."),null)}Ei.prototype.log=function(e,t,n){if(e.value>=Ni(this).value)for(w(t)&&(t=t()),e=new ki(e,String(t),this.s),n&&(e.a=n),n=this;n;){var r=n,i=e;if(r.a)for(var s=0;t=r.a[s];s++)t(i);n=n.g}};var Ai={},Ri=null;function Pi(){Ri||(Ri=new Ei(""),Ai[""]=Ri,Ri.j=Ii)}function Di(){this.a=I()}var Mi=null;function ji(e){this.j=e||"",Mi||(Mi=new Di),this.s=Mi}function Li(e){return 10>e?"0"+e:String(e)}function Oi(e){ji.call(this,e)}function Ui(){this.s=E(this.h,this),this.a=new Oi,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}Di.prototype.set=function(e){this.a=e},Di.prototype.reset=function(){this.set(I())},Di.prototype.get=function(){return this.a},ji.prototype.a=!0,ji.prototype.g=!0,ji.prototype.h=!1,A(Oi,ji),Ui.prototype.h=function(e){if(!this.j[e.g]){var t=function(e,t){var n=[];if(n.push(e.j," "),e.g){var r=new Date(t.h);n.push("[",Li(r.getFullYear()-2e3)+Li(r.getMonth()+1)+Li(r.getDate())+" "+Li(r.getHours())+":"+Li(r.getMinutes())+":"+Li(r.getSeconds())+"."+Li(Math.floor(r.getMilliseconds()/10)),"] ")}return n.push("[",function(e,t){t=(e=(e.h-t)/1e3).toFixed(3);var n=0;if(1>e)n=2;else for(;100>e;)n++,e*=10;for(;0<n--;)t=" "+t;return t}(t,e.s.get()),"s] "),n.push("[",t.g,"] "),n.push(t.s),e.h&&(t=t.a)&&n.push("\n",t instanceof Error?t.message:t.toString()),e.a&&n.push("\n"),n.join("")}(this.a,e);if(zi)!function(e,t,n,r){e[t]?e[t](n,r||""):e.log(n,r||"")}(zi,function(e){if(e){if(e.value>=_i.value)return"error";if(e.value>=Ti.value)return"warn";if(e.value>=Ii.value)return"log"}return"debug"}(e.j),t,e.a)}};var Fi,zi=u.console;function Vi(e,t){Fi&&Fi.log(_i,e,t)}Fi=function e(t){var n;if(Pi(),!(n=Ai[t])){n=new Ei(t);var r=t.lastIndexOf("."),i=t.substr(r+1);(r=e(t.substr(0,r))).h||(r.h={}),r.h[i]=n,n.g=r,Ai[t]=n}return n}("firebaseui");var Bi=new Ui;if(1!=Bi.g){var Hi;Pi(),Hi=Ri;var Wi=Bi.s;Hi.a||(Hi.a=[]),Hi.a.push(Wi),Bi.g=!0}function $i(e){Fi&&Fi.log(Ti,e,void 0)}function qi(){this.a=("undefined"==typeof document?null:document)||{cookie:""}}function Ki(e){e=(e.a.cookie||"").split(";");for(var t,n,r=[],i=[],s=0;s<e.length;s++)-1==(t=(n=q(e[s])).indexOf("="))?(r.push(""),i.push(n)):(r.push(n.substring(0,t)),i.push(n.substring(t+1)));return{keys:r,values:i}}(e=qi.prototype).set=function(e,t,n,r,i,s){if(/[;=\s]/.test(e))throw Error('Invalid cookie name "'+e+'"');if(/[;\r\n]/.test(t))throw Error('Invalid cookie value "'+t+'"');d(n)||(n=-1),i=i?";domain="+i:"",r=r?";path="+r:"",s=s?";secure":"",n=0>n?"":0==n?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(I()+1e3*n).toUTCString(),this.a.cookie=e+"="+t+i+r+n+s},e.get=function(e,t){for(var n,r=e+"=",i=(this.a.cookie||"").split(";"),s=0;s<i.length;s++){if(0==(n=q(i[s])).lastIndexOf(r,0))return n.substr(r.length);if(n==e)return""}return t},e.ja=function(){return Ki(this).keys},e.la=function(){return Ki(this).values},e.clear=function(){for(var e=Ki(this).keys,t=e.length-1;0<=t;t--){var n=e[t];this.get(n),this.set(n,"",0,void 0,void 0)}};var Gi=new qi;function Yi(){}function Qi(e,t,n,r){this.h=null!=e?e:-1,this.g=t||null,this.a=n||null,this.j=!!r}function Ji(e,t){this.g=e,this.a=t||null}function Xi(e){return{email:e.g,credential:e.a&&e.a.toJSON()}}function Zi(e){if(e&&e.email){var t=e.credential&&qo.auth.AuthCredential.fromJSON(e.credential);return new Ji(e.email,t)}return null}function es(e){this.a=e||null}function ts(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);255<i&&(t[n++]=255&i,i>>=8),t[n++]=i}return t}function ns(e){return O(e,function(e){return 1<(e=e.toString(16)).length?e:"0"+e}).join("")}function rs(e){for(this.i=e,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(is*(this.j+1)),e=0;e<this.g;e++)this.a[e]=[this.i[4*e],this.i[4*e+1],this.i[4*e+2],this.i[4*e+3]];var t=Array(4);for(e=this.g;e<is*(this.j+1);e++){if(t[0]=this.a[e-1][0],t[1]=this.a[e-1][1],t[2]=this.a[e-1][2],t[3]=this.a[e-1][3],0==e%this.g){var n=t,r=n[0];n[0]=n[1],n[1]=n[2],n[2]=n[3],n[3]=r,ds(t),t[0]^=ps[e/this.g][0],t[1]^=ps[e/this.g][1],t[2]^=ps[e/this.g][2],t[3]^=ps[e/this.g][3]}else 6<this.g&&4==e%this.g&&ds(t);this.a[e]=Array(4),this.a[e][0]=this.a[e-this.g][0]^t[0],this.a[e][1]=this.a[e-this.g][1]^t[1],this.a[e][2]=this.a[e-this.g][2]^t[2],this.a[e][3]=this.a[e-this.g][3]^t[3]}}a(Qi,Yi),Qi.prototype.set=function(e,t){Gi.set(e,t,this.h,this.g,this.a,this.j)},Qi.prototype.get=function(e){return Gi.get(e)||null},Qi.prototype.ra=function(e){var t=this.g,n=this.a;Gi.get(e),Gi.set(e,"",0,t,n)},rs.prototype.A=16;var is=rs.prototype.A/4;function ss(e,t){for(var n,r=0;r<is;r++)for(var i=0;4>i;i++)n=t[n=4*i+r],e.h[r][i]=n}function as(e){for(var t=[],n=0;n<is;n++)for(var r=0;4>r;r++)t[4*r+n]=e.h[n][r];return t}function os(e,t){for(var n=0;4>n;n++)for(var r=0;4>r;r++)e.h[n][r]^=e.a[4*t+r][n]}function ls(e,t){for(var n=0;4>n;n++)for(var r=0;4>r;r++)e.h[n][r]=t[e.h[n][r]]}function cs(e){for(var t=1;4>t;t++)for(var n=0;4>n;n++)e.s[t][n]=e.h[t][n];for(t=1;4>t;t++)for(n=0;4>n;n++)e.h[t][n]=e.s[t][(n+t)%is]}function us(e){for(var t=1;4>t;t++)for(var n=0;4>n;n++)e.s[t][(n+t)%is]=e.h[t][n];for(t=1;4>t;t++)for(n=0;4>n;n++)e.h[t][n]=e.s[t][n]}function ds(e){e[0]=hs[e[0]],e[1]=hs[e[1]],e[2]=hs[e[2]],e[3]=hs[e[3]]}var hs=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],fs=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],ps=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],ms=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],gs=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],vs=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],ys=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],bs=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],ws=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function xs(e,t){e=new rs(ks(e));for(var n,r=(t=ts(t)).splice(0,16),i="";r.length;){n=16-r.length;for(var s=0;s<n;s++)r.push(0);for(ss(n=e,r),os(n,0),r=1;r<n.j;++r){ls(n,hs),cs(n),s=n.h;for(var a=n.s[0],o=0;4>o;o++)a[0]=s[0][o],a[1]=s[1][o],a[2]=s[2][o],a[3]=s[3][o],s[0][o]=ms[a[0]]^gs[a[1]]^a[2]^a[3],s[1][o]=a[0]^ms[a[1]]^gs[a[2]]^a[3],s[2][o]=a[0]^a[1]^ms[a[2]]^gs[a[3]],s[3][o]=gs[a[0]]^a[1]^a[2]^ms[a[3]];os(n,r)}ls(n,hs),cs(n),os(n,n.j),i+=ns(as(n)),r=t.splice(0,16)}return i}function Ss(e,t){e=new rs(ks(e));for(var n=[],r=0;r<t.length;r+=2)n.push(parseInt(t.substring(r,r+2),16));var i=n.splice(0,16);for(t="";i.length;){for(ss(r=e,i),os(r,r.j),i=1;i<r.j;++i){us(r),ls(r,fs),os(r,r.j-i);for(var s=r.h,a=r.s[0],o=0;4>o;o++)a[0]=s[0][o],a[1]=s[1][o],a[2]=s[2][o],a[3]=s[3][o],s[0][o]=ws[a[0]]^ys[a[1]]^bs[a[2]]^vs[a[3]],s[1][o]=vs[a[0]]^ws[a[1]]^ys[a[2]]^bs[a[3]],s[2][o]=bs[a[0]]^vs[a[1]]^ws[a[2]]^ys[a[3]],s[3][o]=ys[a[0]]^bs[a[1]]^vs[a[2]]^ws[a[3]]}if(us(r),ls(r,fs),os(r,0),8192>=(r=as(r)).length)r=String.fromCharCode.apply(null,r);else{for(i="",s=0;s<r.length;s+=8192)i+=String.fromCharCode.apply(null,$(r,s,s+8192));r=i}t+=r,i=n.splice(0,16)}return t.replace(/(\x00)+$/,"")}function ks(e){for(var t=32-(e=ts(e.substring(0,32))).length,n=0;n<t;n++)e.push(0);return e}function Es(e){var t=[];return _s(new Cs,e,t),t.join("")}function Cs(){}function _s(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(y(t)){var r=t;t=r.length,n.push("[");for(var i="",s=0;s<t;s++)n.push(i),_s(e,r[s],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(s=t[r])&&(n.push(i),Ns(r,n),n.push(":"),_s(e,s,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":Ns(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}var Ts={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Is=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Ns(e,t){t.push('"',e.replace(Is,function(e){var t=Ts[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Ts[e]=t),t}),'"')}function As(e){this.a=e}function Rs(){}function Ps(e){this.a=e}function Ds(e){if(!e.a)return!1;try{return e.a.setItem("__sak","1"),e.a.removeItem("__sak"),!0}catch(t){return!1}}function Ms(){var e=null;try{e=window.localStorage||null}catch(t){}this.a=e}function js(){var e=null;try{e=window.sessionStorage||null}catch(t){}this.a=e}function Ls(e,t){this.g=e,this.a=t+"::"}As.prototype.set=function(e,t){d(t)?this.a.set(e,Es(t)):this.a.ra(e)},As.prototype.get=function(e){try{var t=this.a.get(e)}catch(n){return}if(null!==t)try{return JSON.parse(t)}catch(r){throw"Storage: Invalid value was encountered"}},A(Rs,Yi),Rs.prototype.clear=function(){var e=ce(this.ha(!0)),t=this;j(e,function(e){t.ra(e)})},A(Ps,Rs),(e=Ps.prototype).set=function(e,t){try{this.a.setItem(e,t)}catch(n){if(0==this.a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded"}},e.get=function(e){if(!h(e=this.a.getItem(e))&&null!==e)throw"Storage mechanism: Invalid value was encountered";return e},e.ra=function(e){this.a.removeItem(e)},e.ha=function(e){var t=0,n=this.a,r=new oe;return r.next=function(){if(t>=n.length)throw ae;var r=n.key(t++);if(e)return r;if(!h(r=n.getItem(r)))throw"Storage mechanism: Invalid value was encountered";return r},r},e.clear=function(){this.a.clear()},e.key=function(e){return this.a.key(e)},A(Ms,Ps),A(js,Ps),A(Ls,Rs),Ls.prototype.set=function(e,t){this.g.set(this.a+e,t)},Ls.prototype.get=function(e){return this.g.get(this.a+e)},Ls.prototype.ra=function(e){this.g.ra(this.a+e)},Ls.prototype.ha=function(e){var t=this.g.ha(!0),n=this,r=new oe;return r.next=function(){for(var r=t.next();r.substr(0,n.a.length)!=n.a;)r=t.next();return e?r.substr(n.a.length):n.g.get(r)},r},Ds(new Ms);var Os=new js,Us=new As(Ds(Os)?new Ls(Os,"firebaseui"):null),Fs={name:"pendingEmailCredential",storage:Us},zs={name:"redirectStatus",storage:Us},Vs={name:"redirectUrl",storage:Us},Bs={name:"emailForSignIn",storage:new As(new Qi(3600,"/"))},Hs={name:"pendingEncryptedCredential",storage:new As(new Qi(3600,"/"))};function Ws(e,t){return e.storage.get(t?e.name+":"+t:e.name)}function $s(e,t){e.storage.a.ra(t?e.name+":"+t:e.name)}function qs(e,t,n){e.storage.set(n?e.name+":"+n:e.name,t)}function Ks(e){return Ws(Vs,e)||null}function Gs(e){return Zi(e=Ws(Fs,e)||null)}function Ys(e){$s(Fs,e)}function Qs(e,t){qs(Fs,Xi(e),t)}function Js(e){return(e=Ws(zs,e)||null)&&void 0!==e.tenantId?new es(e.tenantId):null}function Xs(){this.W={}}function Zs(e,t,n){if(t.toLowerCase()in e.W)throw Error("Configuration "+t+" has already been defined.");e.W[t.toLowerCase()]=n}function ea(e,t,n){if(!(t.toLowerCase()in e.W))throw Error("Configuration "+t+" is not defined.");e.W[t.toLowerCase()]=n}function ta(e,t){if(!(e=e.get(t)))throw Error("Configuration "+t+" is required.");return e}function na(){this.g=void 0,this.a={}}function ra(e,t,n,r){for(var i=0;i<t.length;i++){var s=t.charAt(i);e.a[s]||(e.a[s]=new na),e=e.a[s]}if(r&&void 0!==e.g)throw Error('The collection already contains the key "'+t+'"');e.g=n}function ia(e,t){for(var n in void 0!==e.g&&t.push(e.g),e.a)ia(e.a[n],t)}function sa(e,t,n){for(var r in void 0!==e.g&&n.push(t),e.a)sa(e.a[r],t+r,n)}function aa(e){for(this.a=e,this.g=new na,e=0;e<this.a.length;e++){var t=this.g.get("+"+this.a[e].b);t?t.push(this.a[e]):this.g.add("+"+this.a[e].b,[this.a[e]])}}function oa(e,t){var n={},r=0;for(void 0!==(e=e.g).g&&(n[r]=e.g);r<t.length;r++){var i=t.charAt(r);if(!(i in e.a))break;void 0!==(e=e.a[i]).g&&(n[r]=e.g)}for(var s in n)if(n.hasOwnProperty(s))return n[s];return[]}function la(e){for(var t=0;t<ha.length;t++)if(ha[t].c===e)return ha[t];return null}function ca(e){e=e.toUpperCase();for(var t=[],n=0;n<ha.length;n++)ha[n].f===e&&t.push(ha[n]);return t}function ua(e){if(0<e.length&&"+"==e.charAt(0)){e=e.substring(1);for(var t=[],n=0;n<ha.length;n++)ha[n].b==e&&t.push(ha[n]);e=t}else e=ca(e);return e}function da(e){e.sort(function(e,t){return e.name.localeCompare(t.name,"en")})}Xs.prototype.get=function(e){if(!(e.toLowerCase()in this.W))throw Error("Configuration "+e+" is not defined.");return this.W[e.toLowerCase()]},(e=na.prototype).set=function(e,t){ra(this,e,t,!1)},e.add=function(e,t){ra(this,e,t,!0)},e.get=function(e){e:{for(var t=this,n=0;n<e.length;n++)if(!(t=t.a[e.charAt(n)])){e=void 0;break e}e=t}return e?e.g:void 0},e.la=function(){var e=[];return ia(this,e),e},e.ja=function(){var e=[];return sa(this,"",e),e},e.clear=function(){this.a={},this.g=void 0};var ha=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Cte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Runion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthlemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"So Tom and Prncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];da(ha);var fa=new aa(ha);function pa(e,t){this.a=e,this.Aa=t}function ma(e){e=q(e);var t=oa(fa,e);return 0<t.length?new pa("1"==t[0].b?"1-US-0":t[0].c,q(e.substr(t[0].b.length+1))):null}function ga(e){var t=la(e.a);if(!t)throw Error("Country ID "+e.a+" not found.");return"+"+t.b+e.Aa}function va(e,t){for(var n=0;n<e.length;n++)if(!F(ya,e[n])&&(null!==ba&&e[n]in ba||F(t,e[n])))return e[n];return null}var ya=["emailLink","password","phone"],ba={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function wa(){this.a=new Xs,Zs(this.a,"autoUpgradeAnonymousUsers"),Zs(this.a,"callbacks"),Zs(this.a,"credentialHelper",Ya),Zs(this.a,"immediateFederatedRedirect",!1),Zs(this.a,"popupMode",!1),Zs(this.a,"privacyPolicyUrl"),Zs(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),Zs(this.a,"queryParameterForWidgetMode","mode"),Zs(this.a,"signInFlow"),Zs(this.a,"signInOptions"),Zs(this.a,"signInSuccessUrl"),Zs(this.a,"siteName"),Zs(this.a,"tosUrl"),Zs(this.a,"widgetUrl"),Zs(this.a,"adminRestrictedOperation")}function xa(e){var t=!!e.a.get("autoUpgradeAnonymousUsers");return t&&!Ba(e)&&Vi('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),t}function Sa(e){e=e.a.get("signInOptions")||[];for(var t=[],n=0;n<e.length;n++){var r=e[n];(r=x(r)?r:{provider:r}).provider&&t.push(r)}return t}function ka(e,t){e=Sa(e);for(var n=0;n<e.length;n++)if(e[n].provider===t)return e[n];return null}function Ea(e){return Sa(e).map(function(e){return e.provider})}function Ca(e,t){e=_a(e);for(var n=0;n<e.length;n++)if(e[n].providerId===t)return e[n];return null}function _a(e){return Sa(e).map(function(e){if(ba[e.provider]||F(eo,e.provider)){for(var t in e={providerId:e.provider,S:e.providerName||null,V:e.fullLabel||null,ta:e.buttonColor||null,za:e.iconUrl?yt(wt(e.iconUrl)).toString():null})null===e[t]&&delete e[t];return e}return{providerId:e.provider,S:e.providerName||null,V:e.fullLabel||null,ta:e.buttonColor||null,za:e.iconUrl?yt(wt(e.iconUrl)).toString():null,Ob:e.loginHintKey||null}})}function Ta(e){var t,n=ka(e,qo.auth.GoogleAuthProvider.PROVIDER_ID);if(t=n&&n.clientId){e:{if("http:"===(window.location&&window.location.protocol)||"https:"===(window.location&&window.location.protocol))for(r in e=e.a.get("credentialHelper"),Qa)if(Qa[r]===e){var r=Qa[r];break e}r=Ya}t=r===Ga}return t&&n.clientId||null}function Ia(e){return!!((e=ka(e,qo.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp&&e.disableSignUp.status)}function Na(e){return!(!(e=e.a.get("adminRestrictedOperation")||null)||!e.status)}function Aa(e,t){return e=(e=ka(e,t))&&e.scopes,Array.isArray(e)?e:[]}function Ra(e,t){return x(e=(e=ka(e,t))&&e.customParameters)?(e=re(e),t===qo.auth.GoogleAuthProvider.PROVIDER_ID&&delete e.login_hint,t===qo.auth.GithubAuthProvider.PROVIDER_ID&&delete e.login,e):null}function Pa(e){if(!(e=ka(e,qo.auth.PhoneAuthProvider.PROVIDER_ID)))return null;var t=e.whitelistedCountries,n=e.blacklistedCountries;if(void 0!==t&&(!Array.isArray(t)||0==t.length))throw Error("WhitelistedCountries must be a non-empty array.");if(void 0!==n&&!Array.isArray(n))throw Error("BlacklistedCountries must be an array.");if(t&&n)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!t&&!n)return ha;if(e=[],t){n={};for(var r=0;r<t.length;r++)for(var i=ua(t[r]),s=0;s<i.length;s++)n[i[s].c]=i[s];for(var a in n)n.hasOwnProperty(a)&&e.push(n[a])}else{for(a={},t=0;t<n.length;t++)for(i=ua(n[t]),r=0;r<i.length;r++)a[i[r].c]=i[r];for(i=0;i<ha.length;i++)null!==a&&ha[i].c in a||e.push(ha[i])}return e}function Da(e){return ta(e.a,"queryParameterForWidgetMode")}function Ma(e){var t=e.a.get("tosUrl")||null;if(e=e.a.get("privacyPolicyUrl")||null,t&&!e&&$i("Privacy Policy URL is missing, the link will not be displayed."),t&&e){if("function"==typeof t)return t;if("string"==typeof t)return function(){Xr(t)}}return null}function ja(e){var t=e.a.get("tosUrl")||null,n=e.a.get("privacyPolicyUrl")||null;if(n&&!t&&$i("Term of Service URL is missing, the link will not be displayed."),t&&n){if("function"==typeof n)return n;if("string"==typeof n)return function(){Xr(n)}}return null}function La(e){return!(e=ka(e,qo.auth.EmailAuthProvider.PROVIDER_ID))||void 0===e.requireDisplayName||!!e.requireDisplayName}function Oa(e){return!(!(e=ka(e,qo.auth.EmailAuthProvider.PROVIDER_ID))||e.signInMethod!==qo.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function Ua(e){var t=!!e.a.get("immediateFederatedRedirect"),n=Ea(e);return e=Fa(e),t&&1==n.length&&!F(ya,n[0])&&e==Ja}function Fa(e){for(var t in e=e.a.get("signInFlow"),Xa)if(Xa[t]==e)return Xa[t];return Ja}function za(e){return Ha(e).signInSuccess||null}function Va(e){return Ha(e).signInSuccessWithAuthResult||null}function Ba(e){return Ha(e).signInFailure||null}function Ha(e){return e.a.get("callbacks")||{}}var Wa,$a,qa,Ka,Ga="googleyolo",Ya="none",Qa={nc:Ga,NONE:Ya},Ja="redirect",Xa={qc:"popup",rc:Ja},Za={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},eo=["anonymous"],to=["sitekey","tabindex","callback","expired-callback"],no={};function ro(e,t,n,r){no[e].apply(null,Array.prototype.slice.call(arguments,1))}function io(e){return e.classList?e.classList:h(e=e.className)&&e.match(/\S+/g)||[]}function so(e,t){return e.classList?e.classList.contains(t):F(io(e),t)}function ao(e,t){e.classList?e.classList.add(t):so(e,t)||(e.className+=0<e.className.length?" "+t:t)}function oo(e,t){e.classList?e.classList.remove(t):so(e,t)&&(e.className=L(io(e),function(e){return e!=t}).join(" "))}function lo(e){var t=e.type;switch(h(t)&&t.toLowerCase()){case"checkbox":case"radio":return e.checked?e.value:null;case"select-one":return 0<=(t=e.selectedIndex)?e.options[t].value:null;case"select-multiple":t=[];for(var n,r=0;n=e.options[r];r++)n.selected&&t.push(n.value);return t.length?t:null;default:return null!=e.value?e.value:null}}function co(e,t){var n=e.type;switch(h(n)&&n.toLowerCase()){case"checkbox":case"radio":e.checked=t;break;case"select-one":if(e.selectedIndex=-1,h(t))for(var r=0;n=e.options[r];r++)if(n.value==t){n.selected=!0;break}break;case"select-multiple":for(h(t)&&(t=[t]),r=0;n=e.options[r];r++)if(n.selected=!1,t)for(var i,s=0;i=t[s];s++)n.value==i&&(n.selected=!0);break;default:e.value=null!=t?t:""}}function uo(e,t,n,r,i,s){if(et&&!ct("525"))return!0;if(nt&&i)return ho(e);if(i&&!r)return!1;if(!Ze&&("number"==typeof t&&(t=fo(t)),(!n||nt)&&(17==t||18==t||nt&&91==t)||nt&&16==t&&(r||s)))return!1;if((et||Je)&&r&&n)switch(e){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Qe&&r&&t==e)return!1;switch(e){case 13:return!Ze||!s&&!i&&!(n&&r);case 27:return!(et||Je||Ze)}return(!Ze||!(r||i||s))&&ho(e)}function ho(e){if(48<=e&&57>=e||96<=e&&106>=e||65<=e&&90>=e||(et||Je)&&0==e)return!0;switch(e){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return Ze;default:return!1}}function fo(e){if(Ze)e=function(e){switch(e){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return e}}(e);else if(nt&&et&&93===e)e=91;return e}function po(e){lr.call(this),this.a=e,Qn(e,"keydown",this.g,!1,this),Qn(e,"click",this.h,!1,this)}function mo(e,t){var n=new vo(t);if(cr(e,n)){n=new go(t);try{cr(e,n)}finally{t.stopPropagation()}}}function go(e){Fn.call(this,e.a),this.type="action"}function vo(e){Fn.call(this,e.a),this.type="beforeaction"}function yo(e){lr.call(this),this.a=e,e=Qe?"focusout":"blur",this.g=Qn(this.a,Qe?"focusin":"focus",this,!Qe),this.h=Qn(this.a,e,this,!Qe)}function bo(e,t){lr.call(this),this.g=e||1,this.a=t||u,this.h=E(this.gc,this),this.j=I()}function wo(e){e.Ka=!1,e.aa&&(e.a.clearTimeout(e.aa),e.aa=null)}function xo(e){Rn.call(this),this.g=e,this.a={}}A(po,lr),po.prototype.g=function(e){(13==e.keyCode||et&&3==e.keyCode)&&mo(this,e)},po.prototype.h=function(e){mo(this,e)},po.prototype.o=function(){po.K.o.call(this),Zn(this.a,"keydown",this.g,!1,this),Zn(this.a,"click",this.h,!1,this),delete this.a},A(go,Fn),A(vo,Fn),A(yo,lr),yo.prototype.handleEvent=function(e){var t=new Fn(e.a);t.type="focusin"==e.type||"focus"==e.type?"focusin":"focusout",cr(this,t)},yo.prototype.o=function(){yo.K.o.call(this),er(this.g),er(this.h),delete this.a},A(bo,lr),(e=bo.prototype).Ka=!1,e.aa=null,e.gc=function(){if(this.Ka){var e=I()-this.j;0<e&&e<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-e):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),cr(this,"tick"),this.Ka&&(wo(this),this.start()))}},e.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=I())},e.o=function(){bo.K.o.call(this),wo(this),delete this.a},A(xo,Rn);var So=[];function ko(e,t,n,r){y(n)||(n&&(So[0]=n.toString()),n=So);for(var i=0;i<n.length;i++){var s=Qn(t,n[i],r||e.handleEvent,!1,e.g||e);if(!s)break;e.a[s.key]=s}}function Eo(e){ne(e.a,function(e,t){this.a.hasOwnProperty(t)&&er(e)},e),e.a={}}function Co(e){lr.call(this),this.a=null,this.g=e,e=Qe||Je||et&&!ct("531")&&"TEXTAREA"==e.tagName,this.h=new xo(this),ko(this.h,this.g,e?["keydown","paste","cut","drop","input"]:"input",this)}function _o(e){null!=e.a&&(u.clearTimeout(e.a),e.a=null)}function To(e){return(e=new Fn(e.a)).type="input",e}function Io(e,t){lr.call(this),e&&(this.Oa&&Do(this),this.qa=e,this.Na=Qn(this.qa,"keypress",this,t),this.Ya=Qn(this.qa,"keydown",this.Jb,t,this),this.Oa=Qn(this.qa,"keyup",this.Kb,t,this))}xo.prototype.o=function(){xo.K.o.call(this),Eo(this)},xo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},A(Co,lr),Co.prototype.handleEvent=function(e){if("input"==e.type)Qe&&ct(10)&&0==e.keyCode&&0==e.j||(_o(this),cr(this,To(e)));else if("keydown"!=e.type||function(e){if(e.altKey&&!e.ctrlKey||e.metaKey||112<=e.keyCode&&123>=e.keyCode)return!1;if(ho(e.keyCode))return!0;switch(e.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!Ze;default:return 166>e.keyCode||183<e.keyCode}}(e)){var t="keydown"==e.type?this.g.value:null;Qe&&229==e.keyCode&&(t=null);var n=To(e);_o(this),this.a=function(e,t){if(w(e))t&&(e=E(e,t));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=E(e.handleEvent,e)}return 2147483647<Number(0)?-1:u.setTimeout(e,0)}(function(){this.a=null,this.g.value!=t&&cr(this,n)},this)}},Co.prototype.o=function(){Co.K.o.call(this),this.h.m(),_o(this),delete this.g},A(Io,lr),(e=Io.prototype).qa=null,e.Na=null,e.Ya=null,e.Oa=null,e.R=-1,e.X=-1,e.Ua=!1;var No={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Ao={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Ro=!et||ct("525"),Po=nt&&Ze;function Do(e){e.Na&&(er(e.Na),er(e.Ya),er(e.Oa),e.Na=null,e.Ya=null,e.Oa=null),e.qa=null,e.R=-1,e.X=-1}function Mo(e,t,n,r){Fn.call(this,r),this.type="key",this.keyCode=e,this.j=t,this.repeat=n}function jo(e,t,n,r){this.top=e,this.right=t,this.bottom=n,this.left=r}function Lo(e,t){var n=Bt(e);return n.defaultView&&n.defaultView.getComputedStyle&&(e=n.defaultView.getComputedStyle(e,null))&&(e[t]||e.getPropertyValue(t))||""}function Oo(e){try{var t=e.getBoundingClientRect()}catch(n){return{left:0,top:0,right:0,bottom:0}}return Qe&&e.ownerDocument.body&&(e=e.ownerDocument,t.left-=e.documentElement.clientLeft+e.body.clientLeft,t.top-=e.documentElement.clientTop+e.body.clientTop),t}function Uo(e){var t=Bt(e),n=new Dt(0,0),r=t?Bt(t):document;return e==(r=!Qe||9<=Number(ot)||"CSS1Compat"==jt(r).a.compatMode?r.documentElement:r.body)||(e=Oo(e),t=zt(r=jt(t).a),r=r.parentWindow||r.defaultView,t=Qe&&ct("10")&&r.pageYOffset!=t.scrollTop?new Dt(t.scrollLeft,t.scrollTop):new Dt(r.pageXOffset||t.scrollLeft,r.pageYOffset||t.scrollTop),n.a=e.left+t.a,n.g=e.top+t.g),n}(e=Io.prototype).Jb=function(e){(et||Je)&&(17==this.R&&!e.ctrlKey||18==this.R&&!e.altKey||nt&&91==this.R&&!e.metaKey)&&(this.X=this.R=-1),-1==this.R&&(e.ctrlKey&&17!=e.keyCode?this.R=17:e.altKey&&18!=e.keyCode?this.R=18:e.metaKey&&91!=e.keyCode&&(this.R=91)),Ro&&!uo(e.keyCode,this.R,e.shiftKey,e.ctrlKey,e.altKey,e.metaKey)?this.handleEvent(e):(this.X=fo(e.keyCode),Po&&(this.Ua=e.altKey))},e.Kb=function(e){this.X=this.R=-1,this.Ua=e.altKey},e.handleEvent=function(e){var t=e.a,n=t.altKey;if(Qe&&"keypress"==e.type)var r=this.X,i=13!=r&&27!=r?t.keyCode:0;else(et||Je)&&"keypress"==e.type?(r=this.X,i=0<=t.charCode&&63232>t.charCode&&ho(r)?t.charCode:0):Ye&&!et?i=ho(r=this.X)?t.keyCode:0:("keypress"==e.type?(Po&&(n=this.Ua),t.keyCode==t.charCode?32>t.keyCode?(r=t.keyCode,i=0):(r=this.X,i=t.charCode):(r=t.keyCode||this.X,i=t.charCode||0)):(r=t.keyCode||this.X,i=t.charCode||0),nt&&63==i&&224==r&&(r=191));var s=r=fo(r);r?63232<=r&&r in No?s=No[r]:25==r&&e.shiftKey&&(s=9):t.keyIdentifier&&t.keyIdentifier in Ao&&(s=Ao[t.keyIdentifier]),Ze&&Ro&&"keypress"==e.type&&!uo(s,this.R,e.shiftKey,e.ctrlKey,n,e.metaKey)||(e=s==this.R,this.R=s,(t=new Mo(s,i,e,t)).altKey=n,cr(this,t))},e.N=function(){return this.qa},e.o=function(){Io.K.o.call(this),Do(this)},A(Mo,Fn),jo.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},jo.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},jo.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},jo.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};var Fo={thin:2,medium:4,thick:6};function zo(e,t){if("none"==(e.currentStyle?e.currentStyle[t+"Style"]:null))return 0;var n=e.currentStyle?e.currentStyle[t+"Width"]:null;if(n in Fo)e=Fo[n];else if(/^\d+px?$/.test(n))e=parseInt(n,10);else{t=e.style.left;var r=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,e.style.left=n,n=e.style.pixelLeft,e.style.left=t,e.runtimeStyle.left=r,e=+n}return e}function Vo(){}function Bo(e){lr.call(this),this.s=e||jt(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}function Ho(e,t){return e.g?Ot(t,e.g||e.s.a):null}function Wo(e){return e.L||(e.L=new xo(e)),e.L}function $o(e,t){e.Ea&&j(e.Ea,t,void 0)}function Ko(e,t){var n=Wt(e,"firebaseui-textfield");t?(oo(e,"firebaseui-input-invalid"),ao(e,"firebaseui-input"),n&&oo(n,"firebaseui-textfield-invalid")):(oo(e,"firebaseui-input"),ao(e,"firebaseui-input-invalid"),n&&ao(n,"firebaseui-textfield-invalid"))}function Go(e,t,n){Pn(e,C(Dn,t=new Co(t))),ko(Wo(e),t,"input",n)}function Yo(e,t,n){Pn(e,C(Dn,t=new Io(t))),ko(Wo(e),t,"key",function(e){13==e.keyCode&&(e.stopPropagation(),e.preventDefault(),n(e))})}function Qo(e,t,n){Pn(e,C(Dn,t=new po(t))),ko(Wo(e),t,"action",function(e){e.stopPropagation(),e.preventDefault(),n(e)})}function Jo(e){ao(e,"firebaseui-hidden")}function Xo(e,t){t&&Ht(e,t),oo(e,"firebaseui-hidden")}function Zo(e){return!so(e,"firebaseui-hidden")&&"none"!=e.style.display}function el(e){var t=(e=e||{}).email,n=e.disabled,r='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return r=e.wc?r+"Enter new email address":r+"Email",r+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+un(null!=t?t:"")+'"'+(n?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',an(r)}function tl(e){var t='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return t=(e=(e=e||{}).label)?t+tn(e):t+"Next",an(t+"</button>")}function nl(){var e=""+tl({label:ln("Sign In")});return an(e)}function rl(){var e=""+tl({label:ln("Save")});return an(e)}function il(){var e=""+tl({label:ln("Continue")});return an(e)}function sl(e){var t='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return t=(e=(e=e||{}).label)?t+tn(e):t+"Choose password",an(t+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function al(){var e='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return an((e={}.current?e+"Current password":e+"Password")+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function ol(){return an('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function ll(e){var t='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return t=(e=(e=e||{}).label)?t+tn(e):t+"Cancel",an(t+"</button>")}function cl(e){var t="";return e.F&&e.D&&(t+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),an(t)}function ul(e){var t="";return e.F&&e.D&&(t+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),an(t)}function dl(e){return e='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+tn(e.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',an(e)}function hl(e){var t=e.content;return e=e.Ab,an('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(e?" "+un(e):"")+'">'+tn(t)+"</dialog>")}function fl(e){var t=e.message;return an(hl({content:cn('<div class="firebaseui-dialog-icon-wrapper"><div class="'+un(e.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+tn(t)+"</div>")}))}function pl(e){for(var t='<div class="firebaseui-list-box-actions">',n=(e=e.items).length,r=0;r<n;r++){var i=e[r];t+='<button type="button" data-listboxid="'+un(i.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(i.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+un(i.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+tn(i.label)+"</div></button>"}return t=""+hl({Ab:ln("firebaseui-list-box-dialog"),content:cn(t+"</div>")}),an(t)}function ml(e){return an((e=e||{}).tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}function gl(e,t){return sn((e=(e=e||{}).ga).S?e.S:t.hb[e.providerId]?""+t.hb[e.providerId]:e.providerId&&0==e.providerId.indexOf("saml.")||e.providerId&&0==e.providerId.indexOf("oidc.")?e.providerId.substring(5):""+e.providerId)}function vl(e){wl(e,"upgradeElement")}function yl(e){wl(e,"downgradeElements")}g(Vo),Vo.prototype.a=0,A(Bo,lr),(e=Bo.prototype).Lb=Vo.Xa(),e.N=function(){return this.g},e.Za=function(e){if(this.Y&&this.Y!=e)throw Error("Method not supported");Bo.K.Za.call(this,e)},e.kb=function(){this.g=this.s.a.createElement("DIV")},e.render=function(e){if(this.na)throw Error("Component already rendered");this.g||this.kb(),e?e.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},e.v=function(){this.na=!0,$o(this,function(e){!e.na&&e.N()&&e.v()})},e.ya=function(){$o(this,function(e){e.na&&e.ya()}),this.L&&Eo(this.L),this.na=!1},e.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),$o(this,function(e){e.m()}),this.g&&Vt(this.g),this.Y=this.g=this.oa=this.Ea=null,Bo.K.o.call(this)},e.removeChild=function(e,t){if(e){var n=h(e)?e:e.cb||(e.cb=":"+(e.Lb.a++).toString(36));if(this.oa&&n?e=(null!==(e=this.oa)&&n in e?e[n]:void 0)||null:e=null,n&&e){var r=this.oa;if(n in r&&delete r[n],z(this.Ea,e),t&&(e.ya(),e.g&&Vt(e.g)),null==(t=e))throw Error("Unable to set parent component");t.Y=null,Bo.K.Za.call(t,null)}}if(!e)throw Error("Child is not in parent component");return e},dl.a="firebaseui.auth.soy2.element.infoBar",fl.a="firebaseui.auth.soy2.element.progressDialog",pl.a="firebaseui.auth.soy2.element.listBoxDialog",ml.a="firebaseui.auth.soy2.element.busyIndicator";var bl=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function wl(e,t){e&&window.componentHandler&&window.componentHandler[t]&&bl.forEach(function(n){so(e,n)&&window.componentHandler[t](e),j(Lt(n,e),function(e){window.componentHandler[t](e)})})}function xl(e,t,n){if(Sl.call(this),document.body.appendChild(e),e.showModal||window.dialogPolyfill.registerDialog(e),e.showModal(),vl(e),t&&Qo(this,e,function(t){var n=e.getBoundingClientRect();(t.clientX<n.left||n.left+n.width<t.clientX||t.clientY<n.top||n.top+n.height<t.clientY)&&Sl.call(this)}),!n){var r=this.N().parentElement||this.N().parentNode;if(r){var i=this;this.da=function(){if(e.open){var t=e.getBoundingClientRect().height,n=r.getBoundingClientRect().height,s=r.getBoundingClientRect().top-document.body.getBoundingClientRect().top,a=r.getBoundingClientRect().left-document.body.getBoundingClientRect().left,o=e.getBoundingClientRect().width,l=r.getBoundingClientRect().width;e.style.top=(s+(n-t)/2).toString()+"px",t=a+(l-o)/2,e.style.left=t.toString()+"px",e.style.right=(document.body.getBoundingClientRect().width-t-o).toString()+"px"}else window.removeEventListener("resize",i.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function Sl(){var e=kl.call(this);e&&(yl(e),e.open&&e.close(),Vt(e),this.da&&window.removeEventListener("resize",this.da))}function kl(){return Ot("firebaseui-id-dialog")}function El(){Vt(Cl.call(this))}function Cl(){return Ho(this,"firebaseui-id-info-bar")}function _l(){return Ho(this,"firebaseui-id-dismiss-info-bar")}var Tl={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function Il(e,t,n){for(var r in Un.call(this,e,t),n)this[r]=n[r]}function Nl(e,t,n,r,i){Bo.call(this,n),this.fb=e,this.eb=t,this.Fa=!1,this.Ga=r||null,this.A=this.ca=null,this.Z=re(Tl),se(this.Z,i||{})}function Al(e){return e.N().parentElement||e.N().parentNode}function Rl(e,t,n){Yo(e,t,function(){n.focus()})}function Pl(e,t,n){Yo(e,t,function(){n()})}function Dl(e,t,n){t=(e=e||{}).Va;var r=e.ia;return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+el(e)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?ll(null):"")+tl(null)+'</div></div><div class="firebaseui-card-footer">'+(r?ul(n):cl(n))+"</div></form></div>",an(e)}function Ml(e,t,n){return t=(e=e||{}).ia,e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+el(e)+al()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+ol()+'</div><div class="firebaseui-form-actions">'+nl()+'</div></div><div class="firebaseui-card-footer">'+(t?ul(n):cl(n))+"</div></form></div>",an(e)}function jl(e,t,n){var r=(e=e||{}).Tb;t=e.Ta;var i=e.ia,s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+el(e);return r?(e='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+un(null!=(e=(e=e||{}).name)?e:"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',e=an(e)):e="",n=s+e+sl(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?ll(null):"")+rl()+'</div></div><div class="firebaseui-card-footer">'+(i?ul(n):cl(n))+"</div></form></div>",an(n)}function Ll(e,t,n){return t=(e=e||{}).Ta,e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+el(e)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?ll(null):"")+tl({label:ln("Send")})+'</div></div><div class="firebaseui-card-footer">'+cl(n)+"</div></form></div>",an(e)}function Ol(e,t,n){t=e.G;var r="";return r+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="Follow the instructions sent to <strong>"+tn(e.email)+"</strong> to recover your password")+'</p></div><div class="firebaseui-card-actions">',t&&(r+='<div class="firebaseui-form-actions">'+tl({label:ln("Done")})+"</div>"),r+='</div><div class="firebaseui-card-footer">'+cl(n)+"</div></div>",an(r)}function Ul(e,t,n){return an('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+ml(null)+"</div></div>")}function Fl(e,t,n){return an('<div class="firebaseui-container firebaseui-id-page-spinner">'+ml({tb:!0})+"</div>")}function zl(){return an('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}function Vl(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+(e="A sign-in email with additional instructions was sent to <strong>"+tn(e.email)+"</strong>. Check your email to complete sign-in.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+an('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>')+'</div><div class="firebaseui-form-actions">'+ll({label:ln("Back")})+'</div></div><div class="firebaseui-card-footer">'+cl(n)+"</div></form></div>",an(t)}function Bl(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn\'t work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+an('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+ll({label:ln("Back")})+'</div></div><div class="firebaseui-card-footer">'+cl(n)+"</div></form></div>",an(e)}function Hl(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+el(e)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ll(null)+tl(null)+'</div></div><div class="firebaseui-card-footer">'+cl(n)+"</div></form></div>",an(e)}function Wl(){var e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ll({label:ln("Dismiss")})+"</div></div></div>";return an(e)}function $l(){var e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ll({label:ln("Dismiss")})+"</div></div></div>";return an(e)}function ql(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(e="Youve already used <strong>"+tn(e.email)+"</strong> to sign in. Enter your password for that account.")+"</p>"+al()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+ol()+'</div><div class="firebaseui-form-actions">'+nl()+'</div></div><div class="firebaseui-card-footer">'+cl(n)+"</div></form></div>",an(t)}function Kl(e,t,n){var r=e.email;return t="",e=ln(e=""+gl(e,n)),t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+(r="Youve already used <strong>"+tn(r)+"</strong>. You can connect your <strong>"+tn(e)+"</strong> account with <strong>"+tn(r)+"</strong> by signing in with email link below.")+'<p class="firebaseui-text firebaseui-text-justify">'+(e="For this flow to successfully connect your "+tn(e)+" account with this email, you have to open the link on the same device or browser.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+nl()+'</div></div><div class="firebaseui-card-footer">'+cl(n)+"</div></form></div>",an(t)}function Gl(e,t,n){t="";var r=""+gl(e,n);return t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+(e="You originally intended to connect <strong>"+tn(r=ln(r))+"</strong> to your email account but have opened the link on a different device where you are not signed in.")+'</p><p class="firebaseui-text firebaseui-text-justify">'+(r="If you still want to connect your <strong>"+tn(r)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+il()+'</div></div><div class="firebaseui-card-footer">'+cl(n)+"</div></form></div>",an(t)}function Yl(e,t,n){var r=e.email;return t="",e=ln(e=""+gl(e,n)),t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(r="Youve already used <strong>"+tn(r)+"</strong>. Sign in with "+tn(e)+" to continue.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+tl({label:ln("Sign in with "+e)})+'</div></div><div class="firebaseui-card-footer">'+cl(n)+"</div></form></div>",an(t)}function Ql(e,t,n){var r=(e=e||{}).kc;t=e.yb,e=e.Eb;var i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return r?i+=r="<strong>"+tn(r)+"</strong> is not authorized to view the requested page.":i+="User is not authorized to view the requested page.",i+="</p>",t&&(i+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+(t="Please contact <strong>"+tn(t)+"</strong> for authorization.")+"</p>"),i+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',e&&(i+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),i+='</div><div class="firebaseui-form-actions">'+ll({label:ln("Back")})+'</div></div><div class="firebaseui-card-footer">'+cl(n)+"</div></form></div>",an(i)}function Jl(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="To continue sign in with <strong>"+tn(e.email)+"</strong> on this device, you have to recover the password.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ll(null)+tl({label:ln("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+cl(n)+"</div></form></div>",an(t)}function Xl(e){var t="";return t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+('<p class="firebaseui-text">for <strong>'+tn(e.email)+"</strong></p>")+sl(function(e){function t(){}var n={label:ln("New password")};for(var r in t.prototype=e,e=new t,n)e[r]=n[r];return e}(e))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+rl()+"</div></div></form></div>",an(t)}function Zl(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+il()+"</div>":"")+"</div></div>",an(e)}function ec(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+il()+"</div>":"")+"</div></div>",an(e)}function tc(e){var t=e.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="Your sign-in email address has been changed back to <strong>"+tn(e.email)+"</strong>.")+'</p><p class="firebaseui-text">If you didnt ask to change your sign-in email, its possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+il()+"</div>":"")+"</div></form></div>",an(n)}function nc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still cant reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+il()+"</div>":"")+"</div></div>",an(e)}function rc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+il()+"</div>":"")+"</div></div>",an(e)}function ic(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+il()+"</div>":"")+"</div></div>",an(e)}function sc(e){var t=e.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="You can now sign in with your new email <strong>"+tn(e.email)+"</strong>.")+'</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+il()+"</div>":"")+"</div></div>",an(n)}function ac(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+il()+"</div>":"")+"</div></div>",an(e)}function oc(e){var t=e.factorId,n=e.phoneNumber;e=e.G;var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';if("phone"===t)r+=t="The <strong>"+tn(t)+" "+tn(n)+"</strong> was removed as a second authentication step.";else r+="The device or app was removed as a second authentication step.";return r+='</p><p class="firebaseui-text">If you don\'t recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(e?'<div class="firebaseui-form-actions">'+il()+"</div>":"")+"</div></form></div>",an(r)}function lc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn\'t remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn\'t work, contact support for assistance.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+il()+"</div>":"")+"</div></div>",an(e)}function cc(e){var t=e.zb;return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+tn(e.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',t&&(e+=tl({label:ln("Retry")})),an(e+"</div></div></div>")}function uc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+tn(e.errorMessage)+"</p></div></div>",an(e)}function dc(e,t,n){var r=e.Qb;return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+(e="Continue with "+tn(e.jc)+"?")+'</h2><p class="firebaseui-text">'+(r="You originally wanted to sign in with "+tn(r))+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ll(null)+tl({label:ln("Continue")})+'</div></div><div class="firebaseui-card-footer">'+cl(n)+"</div></form></div>",an(t)}function hc(e,t,n){var r='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';t=(e=e.Sb).length;for(var i=0;i<t;i++){var s={ga:e[i]},a=n,o=(s=s||{}).ga,l=s,c="";switch((l=l||{}).ga.providerId){case"google.com":c+="firebaseui-idp-google";break;case"github.com":c+="firebaseui-idp-github";break;case"facebook.com":c+="firebaseui-idp-facebook";break;case"twitter.com":c+="firebaseui-idp-twitter";break;case"phone":c+="firebaseui-idp-phone";break;case"anonymous":c+="firebaseui-idp-anonymous";break;case"password":c+="firebaseui-idp-password";break;default:c+="firebaseui-idp-generic"}l=(l='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+un(sn(c))+' firebaseui-id-idp-button" data-provider-id="'+un(o.providerId)+'" style="background-color:')+un(hn(sn((c=(c=(c=s)||{}).ga).ta?c.ta:a.wa[c.providerId]?""+a.wa[c.providerId]:0==c.providerId.indexOf("saml.")?""+a.wa.saml:0==c.providerId.indexOf("oidc.")?""+a.wa.oidc:""+a.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var u=s;c=a,u=(u=u||{}).ga,c=on(u.za?dn(u.za):c.xa[u.providerId]?dn(c.xa[u.providerId]):0==u.providerId.indexOf("saml.")?dn(c.xa.saml):0==u.providerId.indexOf("oidc.")?dn(c.xa.oidc):dn(c.xa.password)),l=l+un(dn(c))+'"></span>',"password"==o.providerId?(l+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',o.V?l+=tn(o.V):o.S?l+=s="Sign in with "+tn(gl(s,a)):l+="Sign in with email",l+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',l=o.S?l+tn(o.S):l+"Email",l+="</span>"):"phone"==o.providerId?(l+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',o.V?l+=tn(o.V):o.S?l+=s="Sign in with "+tn(gl(s,a)):l+="Sign in with phone",l+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',l=o.S?l+tn(o.S):l+"Phone",l+="</span>"):"anonymous"==o.providerId?(l+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',o.V?l+=tn(o.V):o.S?l+=s="Sign in with "+tn(gl(s,a)):l+="Continue as guest",l+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',l=o.S?l+tn(o.S):l+"Guest",l+="</span>"):(l+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',o.V?l+=tn(o.V):l+=c="Sign in with "+tn(gl(s,a)),l+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(o.S?tn(o.S):tn(gl(s,a)))+"</span>"),r+='<li class="firebaseui-list-item">'+(o=an(l+"</button>"))+"</li>"}return r+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+ul(n)+"</div></div>",an(r)}function fc(e,t,n){var r,i=(e=e||{}).Gb,s=e.Va;return t=e.ia,e='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+un(null!=(e=(e=e||{}).Aa)?e:"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',r=(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+an(e))+(r=i?an('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):"")+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(s?ll(null):"")+tl({label:ln("Verify")})+'</div></div><div class="firebaseui-card-footer">',t?(t='<p class="firebaseui-tos firebaseui-phone-tos">',t=n.F&&n.D?t+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':t+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",n=an(t+"</p>")):n=an('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+cl(n),an(r+n+"</div></form></div>")}function pc(e,t,n){var r="";return e='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+tn(t=(e=e||{}).phoneNumber)+"</a>",tn(t),t=r,n='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+e+"</p>"+(r=an('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ll(null)+tl({label:ln("Continue")})+'</div></div><div class="firebaseui-card-footer">'+cl(n)+"</div></form>",e=an('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),an(t+(n+e+"</div>"))}function mc(){return an('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}function gc(e,t,n){var r='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';t=(e=e.ec).length;for(var i=0;i<t;i++){var s=e[i],a="",o=tn(s.displayName),l=s.tenantId?s.tenantId:"top-level-project";a+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+un(l=ln(l))+' firebaseui-id-tenant-selection-button"'+(s.tenantId?'data-tenant-id="'+un(s.tenantId)+'"':"")+'style="background-color:'+un(hn(s.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+un(dn(s.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?a+=tn(s.V):a+=s="Sign in to "+tn(s.displayName),r+='<li class="firebaseui-list-item">'+(a=an(a+'</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+o+"</span></button>"))+"</li>"}return r+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+ul(n)+"</div></div>",an(r)}function vc(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+el(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+tl(null)+'</div></div><div class="firebaseui-card-footer">'+ul(n)+"</div></form></div>",an(e)}function yc(){return Ho(this,"firebaseui-id-submit")}function bc(){return Ho(this,"firebaseui-id-secondary-link")}function wc(e,t){Qo(this,yc.call(this),function(t){e(t)});var n=bc.call(this);n&&t&&Qo(this,n,function(e){t(e)})}function xc(){return Ho(this,"firebaseui-id-password")}function Sc(){return Ho(this,"firebaseui-id-password-error")}function kc(){var e=xc.call(this),t=Sc.call(this);Go(this,e,function(){Zo(t)&&(Ko(e,!0),Jo(t))})}function Ec(){var e=xc.call(this),t=Sc.call(this);return lo(e)?(Ko(e,!0),Jo(t),t=!0):(Ko(e,!1),Xo(t,sn("Enter your password").toString()),t=!1),t?lo(e):null}function Cc(e,t,n,r,i,s){Nl.call(this,ql,{email:e},s,"passwordLinking",{F:r,D:i}),this.w=t,this.H=n}A(Il,Un),A(Nl,Bo),(e=Nl.prototype).kb=function(){var e=Jt(this.fb,this.eb,this.Z,this.s);vl(e),this.g=e},e.v=function(){if(Nl.K.v.call(this),fr(Al(this),new Il("pageEnter",Al(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var e=this.Z.F;Qo(this,this.bb(),function(){e()})}if(this.ab()&&this.Z.D){var t=this.Z.D;Qo(this,this.ab(),function(){t()})}},e.ya=function(){fr(Al(this),new Il("pageExit",Al(this),{pageId:this.Ga})),Nl.K.ya.call(this)},e.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,yl(this.N()),Nl.K.o.call(this)},e.I=function(e,t,n,r){function i(){if(s.T)return null;s.Fa=!1,window.clearTimeout(s.ca),s.ca=null,s.A&&(yl(s.A),Vt(s.A),s.A=null)}var s=this;return s.Fa?null:(function(e){e.Fa=!0;var t=so(e.N(),"firebaseui-use-spinner");e.ca=window.setTimeout(function(){e.N()&&null===e.A&&(e.A=Jt(ml,{tb:t},null,e.s),e.N().appendChild(e.A),vl(e.A))},500)}(s),e.apply(null,t).then(n,r).then(i,i))},_(Nl.prototype,{a:function(e){El.call(this);var t=Jt(dl,{message:e},null,this.s);this.N().appendChild(t),Qo(this,_l.call(this),function(){Vt(t)})},yc:El,Ac:Cl,zc:_l,$:function(e,t){e=Jt(fl,{Ma:e,message:t},null,this.s),xl.call(this,e)},h:Sl,Cb:kl,Cc:function(){return Ho(this,"firebaseui-tos")},bb:function(){return Ho(this,"firebaseui-tos-link")},ab:function(){return Ho(this,"firebaseui-pp-link")},Dc:function(){return Ho(this,"firebaseui-tos-list")}}),Dl.a="firebaseui.auth.soy2.page.signIn",Ml.a="firebaseui.auth.soy2.page.passwordSignIn",jl.a="firebaseui.auth.soy2.page.passwordSignUp",Ll.a="firebaseui.auth.soy2.page.passwordRecovery",Ol.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent",Ul.a="firebaseui.auth.soy2.page.callback",Fl.a="firebaseui.auth.soy2.page.spinner",zl.a="firebaseui.auth.soy2.page.blank",Vl.a="firebaseui.auth.soy2.page.emailLinkSignInSent",Bl.a="firebaseui.auth.soy2.page.emailNotReceived",Hl.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation",Wl.a="firebaseui.auth.soy2.page.differentDeviceError",$l.a="firebaseui.auth.soy2.page.anonymousUserMismatch",ql.a="firebaseui.auth.soy2.page.passwordLinking",Kl.a="firebaseui.auth.soy2.page.emailLinkSignInLinking",Gl.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice",Yl.a="firebaseui.auth.soy2.page.federatedLinking",Ql.a="firebaseui.auth.soy2.page.unauthorizedUser",Jl.a="firebaseui.auth.soy2.page.unsupportedProvider",Xl.a="firebaseui.auth.soy2.page.passwordReset",Zl.a="firebaseui.auth.soy2.page.passwordResetSuccess",ec.a="firebaseui.auth.soy2.page.passwordResetFailure",tc.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess",nc.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure",rc.a="firebaseui.auth.soy2.page.emailVerificationSuccess",ic.a="firebaseui.auth.soy2.page.emailVerificationFailure",sc.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess",ac.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure",oc.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess",lc.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure",cc.a="firebaseui.auth.soy2.page.recoverableError",uc.a="firebaseui.auth.soy2.page.unrecoverableError",dc.a="firebaseui.auth.soy2.page.emailMismatch",hc.a="firebaseui.auth.soy2.page.providerSignIn",fc.a="firebaseui.auth.soy2.page.phoneSignInStart",pc.a="firebaseui.auth.soy2.page.phoneSignInFinish",mc.a="firebaseui.auth.soy2.page.signOut",gc.a="firebaseui.auth.soy2.page.selectTenant",vc.a="firebaseui.auth.soy2.page.providerMatchByEmail",a(Cc,Nl),Cc.prototype.v=function(){this.P(),this.M(this.w,this.H),Pl(this,this.i(),this.w),this.i().focus(),Nl.prototype.v.call(this)},Cc.prototype.o=function(){this.w=null,Nl.prototype.o.call(this)},Cc.prototype.j=function(){return lo(Ho(this,"firebaseui-id-email"))},_(Cc.prototype,{i:xc,B:Sc,P:kc,u:Ec,ea:yc,ba:bc,M:wc});var _c=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Tc(){return Ho(this,"firebaseui-id-email")}function Ic(){return Ho(this,"firebaseui-id-email-error")}function Nc(e){var t=Tc.call(this),n=Ic.call(this);Go(this,t,function(){Zo(n)&&(Ko(t,!0),Jo(n))}),e&&Yo(this,t,function(){e()})}function Ac(){return q(lo(Tc.call(this))||"")}function Rc(){var e=Tc.call(this),t=Ic.call(this),n=lo(e)||"";return n?_c.test(n)?(Ko(e,!0),Jo(t),t=!0):(Ko(e,!1),Xo(t,sn("That email address isn't correct").toString()),t=!1):(Ko(e,!1),Xo(t,sn("Enter your email address to continue").toString()),t=!1),t?q(lo(e)):null}function Pc(e,t,n,r,i,s,a){Nl.call(this,Ml,{email:n,ia:!!s},a,"passwordSignIn",{F:r,D:i}),this.w=e,this.H=t}function Dc(e,t,n,r,i,s){Nl.call(this,e,t,r,i||"notice",s),this.i=n||null}function Mc(e,t,n,r,i){Dc.call(this,Ol,{email:e,G:!!t},t,i,"passwordRecoveryEmailSent",{F:n,D:r})}function jc(e,t){Dc.call(this,rc,{G:!!e},e,t,"emailVerificationSuccess")}function Lc(e,t){Dc.call(this,ic,{G:!!e},e,t,"emailVerificationFailure")}function Oc(e,t,n){Dc.call(this,sc,{email:e,G:!!t},t,n,"verifyAndChangeEmailSuccess")}function Uc(e,t){Dc.call(this,ac,{G:!!e},e,t,"verifyAndChangeEmailFailure")}function Fc(e,t){Dc.call(this,lc,{G:!!e},e,t,"revertSecondFactorAdditionFailure")}function zc(e){Dc.call(this,mc,void 0,void 0,e,"signOut")}function Vc(e,t){Dc.call(this,Zl,{G:!!e},e,t,"passwordResetSuccess")}function Bc(e,t){Dc.call(this,ec,{G:!!e},e,t,"passwordResetFailure")}function Hc(e,t){Dc.call(this,nc,{G:!!e},e,t,"emailChangeRevokeFailure")}function Wc(e,t,n){Dc.call(this,cc,{errorMessage:e,zb:!!t},t,n,"recoverableError")}function $c(e,t){Dc.call(this,uc,{errorMessage:e},void 0,t,"unrecoverableError")}function qc(e){if("auth/invalid-credential"===e.code&&e.message&&-1!==e.message.indexOf("error=consent_required"))return{code:"auth/user-cancelled"};if(e.message&&-1!==e.message.indexOf("HTTP Cloud Function returned an error:")){var t=JSON.parse(e.message.substring(e.message.indexOf("{"),e.message.lastIndexOf("}")+1));return{code:e.code,message:t&&t.error&&t.error.message||e.message}}return e}function Kc(e,t,n,r){function i(n){if(!n.name||"cancel"!=n.name){e:{var r=n.message;try{var i=((JSON.parse(r).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(i&&i.length){var s=!0;break e}}catch(a){}s=!1}if(s)n=Al(t),t.m(),eu(e,n,void 0,sn("Your sign-in session has expired. Please try again.").toString());else{if(s=n&&n.message||"",n.code){if("auth/email-already-in-use"==n.code||"auth/credential-already-in-use"==n.code)return;s=Qc(n)}t.a(s)}}}if(Cd(e),r)return Gc(e,n),Ur();if(!n.credential)throw Error("No credential found!");if(!md(e).currentUser&&!n.user)throw Error("User not logged in.");try{var s=function(e,t){return Id(e),Sd(e,function(n){if(e.j&&!e.j.isAnonymous&&xa(Td(e))&&!md(e).currentUser)return Ad(e).then(function(){return"password"==t.credential.providerId&&(t.credential=null),t});if(n)return Ad(e).then(function(){return n.linkWithCredential(t.credential)}).then(function(e){return t.user=e.user,t.credential=e.credential,t.operationType=e.operationType,t.additionalUserInfo=e.additionalUserInfo,t},function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return Rd(e,n,t.credential)});if(!t.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Ad(e).then(function(){return gd(e).updateCurrentUser(t.user)}).then(function(){return t.user=gd(e).currentUser,t.operationType="signIn",t.credential&&t.credential.providerId&&"password"==t.credential.providerId&&(t.credential=null),t})})}(e,n)}catch(a){return Vi(a.code||a.message,a),t.a(a.code||a.message),Ur()}return n=s.then(function(t){Gc(e,t)},i).then(void 0,i),Ed(e,s),Ur(n)}function Gc(e,t){if(!t.user)throw Error("No user found");var n=Va(Td(e));if(za(Td(e))&&n&&$i("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),n){n=Va(Td(e));var r=Ks(vd(e))||void 0;$s(Vs,vd(e));var i=!1;Jr()?(n&&!n(t,r)||(i=!0,Pt(window.opener.location,Yc(e,r))),n||window.close()):n&&!n(t,r)||(i=!0,Pt(window.location,Yc(e,r))),i||e.reset()}else{n=t.user,t=t.credential,r=za(Td(e)),i=Ks(vd(e))||void 0,$s(Vs,vd(e));var s=!1;Jr()?(r&&!r(n,t,i)||(s=!0,Pt(window.opener.location,Yc(e,i))),r||window.close()):r&&!r(n,t,i)||(s=!0,Pt(window.location,Yc(e,i))),s||e.reset()}}function Yc(e,t){if(!(e=t||Td(e).a.get("signInSuccessUrl")))throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return e}function Qc(e){var t={code:e.code},n="";switch((t=t||{}).code){case"auth/email-already-in-use":n+="The email address is already used by another account";break;case"auth/requires-recent-login":case"auth/user-token-expired":n+=In();break;case"auth/too-many-requests":n+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":n+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":n+="That email address doesn't match an existing account";break;case"auth/weak-password":n+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":n+="The email and password you entered don't match";break;case"auth/network-request-failed":n+="A network error has occurred";break;case"auth/invalid-phone-number":n+=kn();break;case"auth/invalid-verification-code":n+=sn("Wrong code. Try again.");break;case"auth/code-expired":n+="This code is no longer valid";break;case"auth/expired-action-code":n+="This code has expired.";break;case"auth/invalid-action-code":n+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(t=sn(n).toString())return t;try{return JSON.parse(e.message),Vi("Internal error: "+e.message,void 0),Cn().toString()}catch(r){return e.message}}function Jc(e,t,n,r){function i(){!function(e,t){qs(zs,{tenantId:e.a},t)}(new es(e.h.tenantId||null),vd(e)),Ed(e,t.I(E(e.dc,e),[l],function(){if("file:"===(window.location&&window.location.protocol))return Ed(e,hd(e).then(function(n){t.m(),$s(zs,vd(e)),ro("callback",e,o,Ur(n))},s))},a))}function s(r){if($s(zs,vd(e)),!r.name||"cancel"!=r.name)switch(r=qc(r),r.code){case"auth/popup-blocked":i();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":t.a(Qc(r));break;case"auth/admin-restricted-operation":t.m(),Na(Td(e))?ro("handleUnauthorizedUser",e,o,null,n):ro("callback",e,o,Fr(r));break;default:t.m(),ro("callback",e,o,Fr(r))}}function a(n){$s(zs,vd(e)),n.name&&"cancel"==n.name||(Vi("signInWithRedirect: "+n.code,void 0),n=Qc(n),"blank"==t.Ga&&Ua(Td(e))?(t.m(),ro("providerSignIn",e,o,n)):t.a(n))}var o=Al(t),l=function(e,t,n){var r=ba[t]&&qo.auth[ba[t]]?new qo.auth[ba[t]]:0==t.indexOf("saml.")?new qo.auth.SAMLAuthProvider(t):new qo.auth.OAuthProvider(t);if(!r)throw Error("Invalid Firebase Auth provider!");var i=Aa(Td(e),t);if(r.addScope)for(var s=0;s<i.length;s++)r.addScope(i[s]);return i=Ra(Td(e),t)||{},n&&(e=t==qo.auth.GoogleAuthProvider.PROVIDER_ID?"login_hint":t==qo.auth.GithubAuthProvider.PROVIDER_ID?"login":(e=Ca(Td(e),t))&&e.Ob)&&(i[e]=n),r.setCustomParameters&&r.setCustomParameters(i),r}(e,n,r);Fa(Td(e))==Ja?i():Ed(e,function(e,t){return Id(e),Sd(e,function(n){return n&&!Gs(vd(e))?n.linkWithPopup(t).then(function(e){return e},function(t){if(t&&"auth/email-already-in-use"==t.code&&t.email&&t.credential)throw t;return Rd(e,t)}):md(e).signInWithPopup(t)})}(e,l).then(function(n){t.m(),ro("callback",e,o,Ur(n))},s))}function Xc(e){return 1==(e=Ea(Td(e))).length&&e[0]==qo.auth.EmailAuthProvider.PROVIDER_ID}function Zc(e){return 1==(e=Ea(Td(e))).length&&e[0]==qo.auth.PhoneAuthProvider.PROVIDER_ID}function eu(e,t,n,r){Xc(e)?r?ro("signIn",e,t,n,r):iu(e,t,n):e&&Zc(e)&&!r?ro("phoneSignInStart",e,t):e&&Ua(Td(e))&&!r?ro("federatedRedirect",e,t,n):ro("providerSignIn",e,t,r,n)}function tu(e,t,n,r){var i=Al(t);Ed(e,t.I(E(md(e).fetchSignInMethodsForEmail,md(e)),[n],function(s){t.m(),nu(e,i,s,n,r)},function(e){e=Qc(e),t.a(e)}))}function nu(e,t,n,r,i,s){n.length||Oa(Td(e))&&!Oa(Td(e))?F(n,qo.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ro("passwordSignIn",e,t,r,s):1==n.length&&n[0]===qo.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Oa(Td(e))?ro("sendEmailLinkForSignIn",e,t,r,function(){ro("signIn",e,t)}):ro("unsupportedProvider",e,t,r):(n=va(n,Ea(Td(e))))?(Qs(new Ji(r),vd(e)),ro("federatedSignIn",e,t,r,n,i)):ro("unsupportedProvider",e,t,r):Ia(Td(e))?ro("handleUnauthorizedUser",e,t,r,qo.auth.EmailAuthProvider.PROVIDER_ID):Oa(Td(e))?ro("sendEmailLinkForSignIn",e,t,r,function(){ro("signIn",e,t)}):ro("passwordSignUp",e,t,r,void 0,void 0,s)}function ru(e,t,n,r,i,s){var a=Al(t);Ed(e,t.I(E(e.Ib,e),[n,s],function(){t.m(),ro("emailLinkSignInSent",e,a,n,r,s)},i))}function iu(e,t,n){n?ro("prefilledEmailSignIn",e,t,n):ro("signIn",e,t)}function su(){return ge(ei(),"oobCode")}function au(){var e=ge(ei(),"continueUrl");return e?function(){Pt(window.location,e)}:null}function ou(e,t){Nl.call(this,$l,void 0,t,"anonymousUserMismatch"),this.i=e}function lu(e){Nl.call(this,Ul,void 0,e,"callback")}function cu(e,t,n){if(n.user){var r={user:n.user,credential:n.credential,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},i=Gs(vd(e)),s=i&&i.g;if(s&&!function(e,t){if(t==e.email)return!0;if(e.providerData)for(var n=0;n<e.providerData.length;n++)if(t==e.providerData[n].email)return!0;return!1}(n.user,s))!function(e,t,n){var r=Al(t);Ed(e,Ad(e).then(function(){t.m(),ro("emailMismatch",e,r,n)},function(e){e.name&&"cancel"==e.name||(e=Qc(e.code),t.a(e))}))}(e,t,r);else{var a=i&&i.a;a?Ed(e,n.user.linkWithCredential(a).then(function(n){r={user:n.user,credential:a,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},uu(e,t,r)},function(n){du(e,t,n)})):uu(e,t,r)}}else n=Al(t),t.m(),Ys(vd(e)),eu(e,n)}function uu(e,t,n){Ys(vd(e)),Kc(e,t,n)}function du(e,t,n){var r=Al(t);Ys(vd(e)),n=Qc(n),t.m(),eu(e,r,void 0,n)}function hu(e,t,n,r){var i=Al(t);Ed(e,md(e).fetchSignInMethodsForEmail(n).then(function(s){t.m(),s.length?F(s,qo.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ro("passwordLinking",e,i,n):1==s.length&&s[0]===qo.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ro("emailLinkSignInLinking",e,i,n):(s=va(s,Ea(Td(e))))?ro("federatedLinking",e,i,n,s,r):(Ys(vd(e)),ro("unsupportedProvider",e,i,n)):(Ys(vd(e)),ro("passwordRecovery",e,i,n,!1,_n().toString()))},function(n){du(e,t,n)}))}function fu(e,t){Nl.call(this,Wl,void 0,t,"differentDeviceError"),this.i=e}function pu(e,t,n,r){Nl.call(this,tc,{email:e,G:!!n},r,"emailChangeRevoke"),this.l=t,this.i=n||null}function mu(){return Ho(this,"firebaseui-id-new-password")}function gu(){return Ho(this,"firebaseui-id-password-toggle")}function vu(){this.Ra=!this.Ra;var e=gu.call(this),t=mu.call(this);this.Ra?(t.type="text",ao(e,"firebaseui-input-toggle-off"),oo(e,"firebaseui-input-toggle-on")):(t.type="password",ao(e,"firebaseui-input-toggle-on"),oo(e,"firebaseui-input-toggle-off")),t.focus()}function yu(){return Ho(this,"firebaseui-id-new-password-error")}function bu(){this.Ra=!1;var e=mu.call(this);e.type="password";var t=yu.call(this);Go(this,e,function(){Zo(t)&&(Ko(e,!0),Jo(t))});var n=gu.call(this);ao(n,"firebaseui-input-toggle-on"),oo(n,"firebaseui-input-toggle-off"),function(e,t,n){Pn(e,C(Dn,t=new yo(t))),ko(Wo(e),t,"focusin",n)}(this,e,function(){ao(n,"firebaseui-input-toggle-focus"),oo(n,"firebaseui-input-toggle-blur")}),function(e,t,n){Pn(e,C(Dn,t=new yo(t))),ko(Wo(e),t,"focusout",n)}(this,e,function(){ao(n,"firebaseui-input-toggle-blur"),oo(n,"firebaseui-input-toggle-focus")}),Qo(this,n,E(vu,this))}function wu(){var e=mu.call(this),t=yu.call(this);return lo(e)?(Ko(e,!0),Jo(t),t=!0):(Ko(e,!1),Xo(t,sn("Enter your password").toString()),t=!1),t?lo(e):null}function xu(e,t,n){Nl.call(this,Xl,{email:e},n,"passwordReset"),this.l=t}function Su(e,t,n,r,i){Nl.call(this,oc,{factorId:e,phoneNumber:n||null,G:!!r},i,"revertSecondFactorAdditionSuccess"),this.l=t,this.i=r||null}function ku(e,t,n,r){"auth/weak-password"==(r&&r.code)?(e=Qc(r),Ko(n.i(),!1),Xo(n.w(),e),n.i().focus()):(n&&n.m(),(n=new Bc).render(t),fd(e,n))}function Eu(e,t){try{var n="number"==typeof e.selectionStart}catch(r){n=!1}n?(e.selectionStart=t,e.selectionEnd=t):Qe&&!ct("9")&&("textarea"==e.type&&(t=e.value.substring(0,t).replace(/(\r\n|\r|\n)/g,"\n").length),(e=e.createTextRange()).collapse(!0),e.move("character",t),e.select())}function Cu(e,t,n,r,i,s){Nl.call(this,Hl,{email:n},s,"emailLinkSignInConfirmation",{F:r,D:i}),this.l=e,this.u=t}function _u(e,t,n,r,i){Nl.call(this,Gl,{ga:e},i,"emailLinkSignInLinkingDifferentDevice",{F:n,D:r}),this.i=t}function Tu(e){Nl.call(this,zl,void 0,e,"blank")}function Iu(e,t,n,r,i){var s=new Tu,a=new Oe(n),o=a.a.a.get(Ve.$a)||"",l=a.a.a.get(Ve.Sa)||"",c="1"===a.a.a.get(Ve.Qa),u=Ue(a),d=a.a.a.get(Ve.PROVIDER_ID)||null;a=a.a.a.get(Ve.vb)||null,_d(e,a);var h=!Ws(Bs,vd(e)),f=r||function(e,t){var n=null;if(t=Ws(Bs,t))try{var r=Ss(e,t),i=JSON.parse(r);n=i&&i.email||null}catch(s){}return n}(l,vd(e)),p=(r=function(e,t){var n=null;if(t=Ws(Hs,t))try{var r=Ss(e,t);n=JSON.parse(r)}catch(i){}return Zi(n||null)}(l,vd(e)))&&r.a;d&&p&&p.providerId!==d&&(p=null),s.render(t),fd(e,s),Ed(e,s.I(function(){var t=Ur(null);t=u&&h||h&&c?Fr(Error("anonymous-user-not-found")):function(e,t){var n=Ue(new Oe(t));return n?(t=new Rr(function(t,r){var i=gd(e).onAuthStateChanged(function(e){i(),e&&e.isAnonymous&&e.uid===n?t(e):e&&e.isAnonymous&&e.uid!==n?r(Error("anonymous-user-mismatch")):r(Error("anonymous-user-not-found"))});Ed(e,i)}),Ed(e,t),t):Ur(null)}(e,n).then(function(e){if(d&&!p)throw Error("pending-credential-not-found");return e});var r=null;return t.then(function(t){return r=t,i?null:md(e).checkActionCode(o)}).then(function(){return r})},[],function(r){f?function(e,t,n,r,i,s){var a=Al(t);t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",sn("Signing in...").toString());var o=null;i=(s?function(e,t,n,r,i){Id(e);var s=i||null,a=qo.auth.EmailAuthProvider.credentialWithLink(n,r);return n=s?md(e).signInWithEmailLink(n,r).then(function(e){return e.user.linkWithCredential(s)}).then(function(){return Ad(e)}).then(function(){return Rd(e,{code:"auth/email-already-in-use"},s)}):md(e).fetchSignInMethodsForEmail(n).then(function(n){return n.length?Rd(e,{code:"auth/email-already-in-use"},a):t.linkWithCredential(a)}),Ed(e,n),n}(e,s,n,r,i):function(e,t,n,r){Id(e);var i,s=r||null;return t=md(e).signInWithEmailLink(t,n).then(function(e){if(i={user:e.user,credential:null,operationType:e.operationType,additionalUserInfo:e.additionalUserInfo},s)return e.user.linkWithCredential(s).then(function(e){i={user:e.user,credential:s,operationType:i.operationType,additionalUserInfo:e.additionalUserInfo}})}).then(function(){Ad(e)}).then(function(){return gd(e).updateCurrentUser(i.user)}).then(function(){return i.user=gd(e).currentUser,i}),Ed(e,t),t}(e,n,r,i)).then(function(n){$s(Hs,vd(e)),$s(Bs,vd(e)),t.h(),t.$("firebaseui-icon-done",sn("Signed in!").toString()),o=setTimeout(function(){t.h(),Kc(e,t,n,!0)},1e3),Ed(e,function(){t&&(t.h(),t.m()),clearTimeout(o)})},function(i){if(t.h(),t.m(),!i.name||"cancel"!=i.name){var s=Qc(i=qc(i));"auth/email-already-in-use"==i.code||"auth/credential-already-in-use"==i.code?($s(Hs,vd(e)),$s(Bs,vd(e))):"auth/invalid-email"==i.code?(s=sn("The email provided does not match the current sign-in session.").toString(),ro("emailLinkConfirmation",e,a,r,Nu,null,s)):eu(e,a,n,s)}}),Ed(e,i)}(e,s,f,n,p,r):c?(s.m(),ro("differentDeviceError",e,t)):(s.m(),ro("emailLinkConfirmation",e,t,n,Nu))},function(r){var i=void 0;if(!r||!r.name||"cancel"!=r.name)switch(s.m(),r&&r.message){case"anonymous-user-not-found":ro("differentDeviceError",e,t);break;case"anonymous-user-mismatch":ro("anonymousUserMismatch",e,t);break;case"pending-credential-not-found":ro("emailLinkNewDeviceLinking",e,t,n,Au);break;default:r&&(i=Qc(r)),eu(e,t,void 0,i)}}))}function Nu(e,t,n,r){Iu(e,t,r,n,!0)}function Au(e,t,n){Iu(e,t,n)}function Ru(e,t,n,r,i,s){Nl.call(this,Kl,{email:e,ga:t},s,"emailLinkSignInLinking",{F:r,D:i}),this.i=n}function Pu(e,t,n,r,i,s){Nl.call(this,Vl,{email:e},s,"emailLinkSignInSent",{F:r,D:i}),this.u=t,this.i=n}function Du(e,t,n,r,i,s,a){Nl.call(this,dc,{jc:e,Qb:t},a,"emailMismatch",{F:i,D:s}),this.l=n,this.i=r}function Mu(e,t,n,r,i){Nl.call(this,Bl,void 0,i,"emailNotReceived",{F:n,D:r}),this.l=e,this.i=t}function ju(e,t,n,r,i,s){Nl.call(this,Yl,{email:e,ga:t},s,"federatedLinking",{F:r,D:i}),this.i=n}function Lu(e,t,n,r,i,s){Nl.call(this,Ll,{email:n,Ta:!!t},s,"passwordRecovery",{F:r,D:i}),this.l=e,this.u=t}function Ou(){return Ho(this,"firebaseui-id-name")}function Uu(){return Ho(this,"firebaseui-id-name-error")}function Fu(e,t,n,r,i,s,a,o,l){Nl.call(this,jl,{email:r,Tb:e,name:i,Ta:!!n,ia:!!o},l,"passwordSignUp",{F:s,D:a}),this.w=t,this.H=n,this.B=e}function zu(e,t){var n=La(Td(e)),r=t.j(),i=null;n&&(i=t.M());var s=t.P();if(r){if(n){if(!i)return void t.u().focus();i=te(i)}if(s){var a=qo.auth.EmailAuthProvider.credential(r,s);Ed(e,t.I(E(e.Yb,e),[r,s],function(r){var s={user:r.user,credential:a,operationType:r.operationType,additionalUserInfo:r.additionalUserInfo};return n?(r=r.user.updateProfile({displayName:i}).then(function(){return Kc(e,t,s)}),Ed(e,r),r):Kc(e,t,s)},function(n){if(!n.name||"cancel"!=n.name){var i=qc(n);switch(n=Qc(i),i.code){case"auth/email-already-in-use":return function(e,t,n,r){function i(){var e=Qc(r);Ko(t.i(),!1),Xo(t.U(),e),t.i().focus()}var s=md(e).fetchSignInMethodsForEmail(n).then(function(r){r.length?i():(r=Al(t),t.m(),ro("passwordRecovery",e,r,n,!1,_n().toString()))},function(){i()});return Ed(e,s),s}(e,t,r,i);case"auth/too-many-requests":n=sn("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":Ko(t.l(),!1),Xo(t.ba(),n);break;case"auth/admin-restricted-operation":Na(Td(e))?(n=Al(t),t.m(),ro("handleUnauthorizedUser",e,n,r,qo.auth.EmailAuthProvider.PROVIDER_ID)):t.a(n);break;default:Vi(i="setAccountInfo: "+Es(i),void 0),t.a(n)}}}))}else t.l().focus()}else t.i().focus()}function Vu(){return Ho(this,"firebaseui-id-phone-confirmation-code")}function Bu(){return Ho(this,"firebaseui-id-phone-confirmation-code-error")}function Hu(){return Ho(this,"firebaseui-id-resend-countdown")}function Wu(e,t,n,r,i,s,a,o,l){Nl.call(this,pc,{phoneNumber:i},l,"phoneSignInFinish",{F:a,D:o}),this.jb=s,this.i=new bo(1e3),this.B=s,this.P=e,this.l=t,this.H=n,this.M=r}a(Pc,Nl),Pc.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),Rl(this,this.l(),this.i()),Pl(this,this.i(),this.w),lo(this.l())?this.i().focus():this.l().focus(),Nl.prototype.v.call(this)},Pc.prototype.o=function(){this.H=this.w=null,Nl.prototype.o.call(this)},_(Pc.prototype,{l:Tc,U:Ic,P:Nc,M:Ac,j:Rc,i:xc,B:Sc,ea:kc,u:Ec,ua:yc,pa:bc,ba:wc}),A(Dc,Nl),Dc.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),Dc.K.v.call(this)},Dc.prototype.o=function(){this.i=null,Dc.K.o.call(this)},_(Dc.prototype,{l:yc,w:bc,u:wc}),A(Mc,Dc),A(jc,Dc),A(Lc,Dc),A(Oc,Dc),A(Uc,Dc),A(Fc,Dc),A(zc,Dc),A(Vc,Dc),A(Bc,Dc),A(Hc,Dc),A(Wc,Dc),A($c,Dc),a(ou,Nl),ou.prototype.v=function(){var e=this;Qo(this,this.l(),function(){e.i()}),this.l().focus(),Nl.prototype.v.call(this)},ou.prototype.o=function(){this.i=null,Nl.prototype.o.call(this)},_(ou.prototype,{l:bc}),no.anonymousUserMismatch=function(e,t){var n=new ou(function(){n.m(),eu(e,t)});n.render(t),fd(e,n)},a(lu,Nl),lu.prototype.I=function(e,t,n,r){return e.apply(null,t).then(n,r)},no.callback=function(e,t,n){var r=new lu;r.render(t),fd(e,r),n=n||hd(e),Ed(e,n.then(function(t){cu(e,r,t)},function(n){if((n=qc(n))&&("auth/account-exists-with-different-credential"==n.code||"auth/email-already-in-use"==n.code)&&n.email&&n.credential)Qs(new Ji(n.email,n.credential),vd(e)),hu(e,r,n.email);else if(n&&"auth/user-cancelled"==n.code){var i=Gs(vd(e)),s=Qc(n);i&&i.a?hu(e,r,i.g,s):i?tu(e,r,i.g,s):du(e,r,n)}else n&&"auth/credential-already-in-use"==n.code||(n&&"auth/operation-not-supported-in-this-environment"==n.code&&Xc(e)?cu(e,r,{user:null,credential:null}):n&&"auth/admin-restricted-operation"==n.code&&Na(Td(e))?(r.m(),Ys(vd(e)),ro("handleUnauthorizedUser",e,t,null,null)):du(e,r,n))}))},a(fu,Nl),fu.prototype.v=function(){var e=this;Qo(this,this.l(),function(){e.i()}),this.l().focus(),Nl.prototype.v.call(this)},fu.prototype.o=function(){this.i=null,Nl.prototype.o.call(this)},_(fu.prototype,{l:bc}),no.differentDeviceError=function(e,t){var n=new fu(function(){n.m(),eu(e,t)});n.render(t),fd(e,n)},a(pu,Nl),pu.prototype.v=function(){var e=this;Qo(this,Ho(this,"firebaseui-id-reset-password-link"),function(){e.l()}),this.i&&(this.w(this.i),this.u().focus()),Nl.prototype.v.call(this)},pu.prototype.o=function(){this.l=this.i=null,Nl.prototype.o.call(this)},_(pu.prototype,{u:yc,B:bc,w:wc}),a(xu,Nl),xu.prototype.v=function(){this.H(),this.B(this.l),Pl(this,this.i(),this.l),this.i().focus(),Nl.prototype.v.call(this)},xu.prototype.o=function(){this.l=null,Nl.prototype.o.call(this)},_(xu.prototype,{i:mu,w:yu,M:gu,H:bu,u:wu,U:yc,P:bc,B:wc}),a(Su,Nl),Su.prototype.v=function(){var e=this;Qo(this,Ho(this,"firebaseui-id-reset-password-link"),function(){e.l()}),this.i&&(this.w(this.i),this.u().focus()),Nl.prototype.v.call(this)},Su.prototype.o=function(){this.l=this.i=null,Nl.prototype.o.call(this)},_(Su.prototype,{u:yc,B:bc,w:wc}),no.passwordReset=function(e,t,n,r){Ed(e,md(e).verifyPasswordResetCode(n).then(function(i){var s=new xu(i,function(){!function(e,t,n,r,i){var s=n.u();s&&Ed(e,n.I(E(md(e).confirmPasswordReset,md(e)),[r,s],function(){n.m();var r=new Vc(i);r.render(t),fd(e,r)},function(r){ku(e,t,n,r)}))}(e,t,s,n,r)});s.render(t),fd(e,s)},function(){ku(e,t)}))},no.emailChangeRevocation=function(e,t,n){var r=null;Ed(e,md(e).checkActionCode(n).then(function(t){return r=t.data.email,md(e).applyActionCode(n)}).then(function(){!function(e,t,n){var r=new pu(n,function(){Ed(e,r.I(E(md(e).sendPasswordResetEmail,md(e)),[n],function(){r.m(),(r=new Mc(n,void 0,Ma(Td(e)),ja(Td(e)))).render(t),fd(e,r)},function(){r.a(En().toString())}))});r.render(t),fd(e,r)}(e,t,r)},function(){var n=new Hc;n.render(t),fd(e,n)}))},no.emailVerification=function(e,t,n,r){Ed(e,md(e).applyActionCode(n).then(function(){var n=new jc(r);n.render(t),fd(e,n)},function(){var n=new Lc;n.render(t),fd(e,n)}))},no.revertSecondFactorAddition=function(e,t,n){var r=null,i=null;Ed(e,md(e).checkActionCode(n).then(function(t){return r=t.data.email,i=t.data.multiFactorInfo,md(e).applyActionCode(n)}).then(function(){!function(e,t,n,r){var i=new Su(r.factorId,function(){i.I(E(md(e).sendPasswordResetEmail,md(e)),[n],function(){i.m(),(i=new Mc(n,void 0,Ma(Td(e)),ja(Td(e)))).render(t),fd(e,i)},function(){i.a(En().toString())})},r.phoneNumber);i.render(t),fd(e,i)}(e,t,r,i)},function(){var n=new Fc;n.render(t),fd(e,n)}))},no.verifyAndChangeEmail=function(e,t,n,r){var i=null;Ed(e,md(e).checkActionCode(n).then(function(t){return i=t.data.email,md(e).applyActionCode(n)}).then(function(){var n=new Oc(i,r);n.render(t),fd(e,n)},function(){var n=new Uc;n.render(t),fd(e,n)}))},a(Cu,Nl),Cu.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),Eu(this.i(),(this.i().value||"").length),Nl.prototype.v.call(this)},Cu.prototype.o=function(){this.u=this.l=null,Nl.prototype.o.call(this)},_(Cu.prototype,{i:Tc,M:Ic,w:Nc,H:Ac,j:Rc,U:yc,P:bc,B:wc}),no.emailLinkConfirmation=function(e,t,n,r,i,s){var a=new Cu(function(){var i=a.j();i?(a.m(),r(e,t,i,n)):a.i().focus()},function(){a.m(),eu(e,t,i||void 0)},i||void 0,Ma(Td(e)),ja(Td(e)));a.render(t),fd(e,a),s&&a.a(s)},a(_u,Nl),_u.prototype.v=function(){this.u(this.i),this.l().focus(),Nl.prototype.v.call(this)},_u.prototype.o=function(){this.i=null,Nl.prototype.o.call(this)},_(_u.prototype,{l:yc,u:wc}),no.emailLinkNewDeviceLinking=function(e,t,n,r){var i=new Oe(n);if(n=i.a.a.get(Ve.PROVIDER_ID)||null,Fe(i,null),n){var s=new _u(Ca(Td(e),n),function(){s.m(),r(e,t,i.toString())},Ma(Td(e)),ja(Td(e)));s.render(t),fd(e,s)}else eu(e,t)},a(Tu,Nl),no.emailLinkSignInCallback=Iu,a(Ru,Nl),Ru.prototype.v=function(){this.u(this.i),this.l().focus(),Nl.prototype.v.call(this)},Ru.prototype.o=function(){this.i=null,Nl.prototype.o.call(this)},_(Ru.prototype,{l:yc,u:wc}),no.emailLinkSignInLinking=function(e,t,n){var r=Gs(vd(e));if(Ys(vd(e)),r){var i=r.a.providerId,s=new Ru(n,Ca(Td(e),i),function(){!function(e,t,n,r){var i=Al(t);ru(e,t,n,function(){eu(e,i,n)},function(r){if(!r.name||"cancel"!=r.name){var s=Qc(r);r&&"auth/network-request-failed"==r.code?t.a(s):(t.m(),eu(e,i,n,s))}},r)}(e,s,n,r)},Ma(Td(e)),ja(Td(e)));s.render(t),fd(e,s)}else eu(e,t)},a(Pu,Nl),Pu.prototype.v=function(){var e=this;Qo(this,this.l(),function(){e.i()}),Qo(this,Ho(this,"firebaseui-id-trouble-getting-email-link"),function(){e.u()}),this.l().focus(),Nl.prototype.v.call(this)},Pu.prototype.o=function(){this.i=this.u=null,Nl.prototype.o.call(this)},_(Pu.prototype,{l:bc}),no.emailLinkSignInSent=function(e,t,n,r,i){var s=new Pu(n,function(){s.m(),ro("emailNotReceived",e,t,n,r,i)},function(){s.m(),r()},Ma(Td(e)),ja(Td(e)));s.render(t),fd(e,s)},a(Du,Nl),Du.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Nl.prototype.v.call(this)},Du.prototype.o=function(){this.i=null,Nl.prototype.o.call(this)},_(Du.prototype,{u:yc,B:bc,w:wc}),no.emailMismatch=function(e,t,n){var r=Gs(vd(e));if(r){var i=new Du(n.user.email,r.g,function(){var t=i;Ys(vd(e)),Kc(e,t,n)},function(){var t=n.credential.providerId,s=Al(i);i.m(),r.a?ro("federatedLinking",e,s,r.g,t):ro("federatedSignIn",e,s,r.g,t)},Ma(Td(e)),ja(Td(e)));i.render(t),fd(e,i)}else eu(e,t)},a(Mu,Nl),Mu.prototype.v=function(){var e=this;Qo(this,this.u(),function(){e.i()}),Qo(this,this.Da(),function(){e.l()}),this.u().focus(),Nl.prototype.v.call(this)},Mu.prototype.Da=function(){return Ho(this,"firebaseui-id-resend-email-link")},Mu.prototype.o=function(){this.i=this.l=null,Nl.prototype.o.call(this)},_(Mu.prototype,{u:bc}),no.emailNotReceived=function(e,t,n,r,i){var s=new Mu(function(){ru(e,s,n,r,function(e){e=Qc(e),s.a(e)},i)},function(){s.m(),eu(e,t,n)},Ma(Td(e)),ja(Td(e)));s.render(t),fd(e,s)},a(ju,Nl),ju.prototype.v=function(){this.u(this.i),this.l().focus(),Nl.prototype.v.call(this)},ju.prototype.o=function(){this.i=null,Nl.prototype.o.call(this)},_(ju.prototype,{l:yc,u:wc}),no.federatedLinking=function(e,t,n,r,i){var s=Gs(vd(e));if(s&&s.a){var a=new ju(n,Ca(Td(e),r),function(){Jc(e,a,r,n)},Ma(Td(e)),ja(Td(e)));a.render(t),fd(e,a),i&&a.a(i)}else eu(e,t)},no.federatedRedirect=function(e,t,n){var r=new Tu;r.render(t),fd(e,r),Jc(e,r,t=Ea(Td(e))[0],n)},no.federatedSignIn=function(e,t,n,r,i){var s=new ju(n,Ca(Td(e),r),function(){Jc(e,s,r,n)},Ma(Td(e)),ja(Td(e)));s.render(t),fd(e,s),i&&s.a(i)},no.passwordLinking=function(e,t,n){var r=Gs(vd(e));Ys(vd(e));var i=r&&r.a;if(i){var s=new Cc(n,function(){!function(e,t,n,r){var i=t.u();i?Ed(e,t.I(E(e.Xb,e),[n,i],function(n){return n=n.user.linkWithCredential(r).then(function(n){return Kc(e,t,{user:n.user,credential:r,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})}),Ed(e,n),n},function(e){if(!e.name||"cancel"!=e.name)switch(e.code){case"auth/wrong-password":Ko(t.i(),!1),Xo(t.B(),Qc(e));break;case"auth/too-many-requests":t.a(Qc(e));break;default:Vi("signInWithEmailAndPassword: "+e.message,void 0),t.a(Qc(e))}})):t.i().focus()}(e,s,n,i)},function(){s.m(),ro("passwordRecovery",e,t,n)},Ma(Td(e)),ja(Td(e)));s.render(t),fd(e,s)}else eu(e,t)},a(Lu,Nl),Lu.prototype.v=function(){this.B(),this.H(this.l,this.u),lo(this.i())||this.i().focus(),Pl(this,this.i(),this.l),Nl.prototype.v.call(this)},Lu.prototype.o=function(){this.u=this.l=null,Nl.prototype.o.call(this)},_(Lu.prototype,{i:Tc,w:Ic,B:Nc,M:Ac,j:Rc,U:yc,P:bc,H:wc}),no.passwordRecovery=function(e,t,n,r,i){var s=new Lu(function(){!function(e,t){var n=t.j();if(n){var r=Al(t);Ed(e,t.I(E(md(e).sendPasswordResetEmail,md(e)),[n],function(){t.m();var i=new Mc(n,function(){i.m(),eu(e,r)},Ma(Td(e)),ja(Td(e)));i.render(r),fd(e,i)},function(e){Ko(t.i(),!1),Xo(t.w(),Qc(e))}))}else t.i().focus()}(e,s)},r?void 0:function(){s.m(),eu(e,t)},n,Ma(Td(e)),ja(Td(e)));s.render(t),fd(e,s),i&&s.a(i)},no.passwordSignIn=function(e,t,n,r){var i=new Pc(function(){!function(e,t){var n=t.j(),r=t.u();if(n)if(r){var i=qo.auth.EmailAuthProvider.credential(n,r);Ed(e,t.I(E(e.bc,e),[n,r],function(n){return Kc(e,t,{user:n.user,credential:i,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})},function(e){if(!e.name||"cancel"!=e.name)switch(e.code){case"auth/email-already-in-use":break;case"auth/email-exists":Ko(t.l(),!1),Xo(t.U(),Qc(e));break;case"auth/too-many-requests":case"auth/wrong-password":Ko(t.i(),!1),Xo(t.B(),Qc(e));break;default:Vi("verifyPassword: "+e.message,void 0),t.a(Qc(e))}}))}else t.i().focus();else t.l().focus()}(e,i)},function(){var n=i.M();i.m(),ro("passwordRecovery",e,t,n)},n,Ma(Td(e)),ja(Td(e)),r);i.render(t),fd(e,i)},a(Fu,Nl),Fu.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(Rl(this,this.i(),this.u()),Rl(this,this.u(),this.l())):Rl(this,this.i(),this.l()),this.w&&Pl(this,this.l(),this.w),lo(this.i())?this.B&&!lo(this.u())?this.u().focus():this.l().focus():this.i().focus(),Nl.prototype.v.call(this)},Fu.prototype.o=function(){this.H=this.w=null,Nl.prototype.o.call(this)},_(Fu.prototype,{i:Tc,U:Ic,ea:Nc,jb:Ac,j:Rc,u:Ou,Bc:Uu,Ja:function(){var e=Ou.call(this),t=Uu.call(this);Go(this,e,function(){Zo(t)&&(Ko(e,!0),Jo(t))})},M:function(){var e=Ou.call(this),t=Uu.call(this),n=lo(e);return Ko(e,n=!/^[\s\xa0]*$/.test(null==n?"":String(n))),n?(Jo(t),t=!0):(Xo(t,sn("Enter your account name").toString()),t=!1),t?q(lo(e)):null},l:mu,ba:yu,lb:gu,ua:bu,P:wu,Nb:yc,Mb:bc,pa:wc}),no.passwordSignUp=function(e,t,n,r,i,s){var a=new Fu(La(Td(e)),function(){zu(e,a)},i?void 0:function(){a.m(),eu(e,t)},n,r,Ma(Td(e)),ja(Td(e)),s);a.render(t),fd(e,a)},a(Wu,Nl),Wu.prototype.v=function(){var e=this;this.U(this.jb),Qn(this.i,"tick",this.w,!1,this),this.i.start(),Qo(this,Ho(this,"firebaseui-id-change-phone-number-link"),function(){e.P()}),Qo(this,this.Da(),function(){e.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),Nl.prototype.v.call(this)},Wu.prototype.o=function(){this.M=this.H=this.l=this.P=null,wo(this.i),Zn(this.i,"tick",this.w),this.i=null,Nl.prototype.o.call(this)},Wu.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(wo(this.i),Zn(this.i,"tick",this.w),this.ua(),this.lb())},_(Wu.prototype,{u:Vu,pa:Bu,Ja:function(e){var t=Vu.call(this),n=Bu.call(this);Go(this,t,function(){Zo(n)&&(Ko(t,!0),Jo(n))}),e&&Yo(this,t,function(){e()})},ba:function(){var e=q(lo(Vu.call(this))||"");return/^\d{6}$/.test(e)?e:null},Fb:Hu,U:function(e){Ht(Hu.call(this),sn("Resend code in "+(9<e?"0:":"0:0")+e).toString())},ua:function(){Jo(this.Fb())},Da:function(){return Ho(this,"firebaseui-id-resend-link")},lb:function(){Xo(this.Da())},Nb:yc,Mb:bc,ea:wc}),no.phoneSignInFinish=function(e,t,n,r,i,s){var a=new Wu(function(){a.m(),ro("phoneSignInStart",e,t,n)},function(){!function(e,t,n,r){function i(e){t.u().focus(),Ko(t.u(),!1),Xo(t.pa(),e)}var s=t.ba();s?(t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",sn("Verifying...").toString()),Ed(e,t.I(E(r.confirm,r),[s],function(n){t.h(),t.$("firebaseui-icon-done",sn("Verified!").toString());var r=setTimeout(function(){t.h(),t.m();var r={user:gd(e).currentUser,credential:null,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo};Kc(e,t,r,!0)},1e3);Ed(e,function(){t&&t.h(),clearTimeout(r)})},function(r){if(r.name&&"cancel"==r.name)t.h();else{var s=qc(r);switch(r=Qc(s),s.code){case"auth/credential-already-in-use":t.h();break;case"auth/code-expired":s=Al(t),t.h(),t.m(),ro("phoneSignInStart",e,s,n,r);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":t.h(),i(r);break;default:t.h(),t.a(r)}}}))):i(sn("Wrong code. Try again.").toString())}(e,a,n,i)},function(){a.m(),eu(e,t)},function(){a.m(),ro("phoneSignInStart",e,t,n)},ga(n),r,Ma(Td(e)),ja(Td(e)));a.render(t),fd(e,a),s&&a.a(s)};var $u=!(Qe||We("Safari")&&!($e()||We("Coast")||We("Opera")||We("Edge")||We("Firefox")||We("FxiOS")||We("Silk")||We("Android")));function qu(e,t){return/-[a-z]/.test(t)?null:$u&&e.dataset?!We("Android")||$e()||We("Firefox")||We("FxiOS")||We("Opera")||We("Silk")||t in e.dataset?void 0===(e=e.dataset[t])?null:e:null:e.getAttribute("data-"+String(t).replace(/([A-Z])/g,"-$1").toLowerCase())}function Ku(e,t,n){var r=this;e=Jt(pl,{items:e},null,this.s),xl.call(this,e,!0,!0),n&&(n=function(e,t){e=(e||document).getElementsByTagName("BUTTON");for(var n=0;n<e.length;n++)if(qu(e[n],"listboxid")===t)return e[n];return null}(e,n))&&(n.focus(),function(e,t){var n=(t=t||zt(document))||zt(document),r=Uo(e),i=Uo(n);if(!Qe||9<=Number(ot)){a=Lo(n,"borderLeftWidth");var s=Lo(n,"borderRightWidth");o=Lo(n,"borderTopWidth"),l=Lo(n,"borderBottomWidth"),s=new jo(parseFloat(o),parseFloat(s),parseFloat(l),parseFloat(a))}else{var a=zo(n,"borderLeft");s=zo(n,"borderRight");var o=zo(n,"borderTop"),l=zo(n,"borderBottom");s=new jo(o,s,l,a)}n==zt(document)?(a=r.a-n.scrollLeft,r=r.g-n.scrollTop,!Qe||10<=Number(ot)||(a+=s.left,r+=s.top)):(a=r.a-i.a-s.left,r=r.g-i.g-s.top),i=e.offsetWidth,s=e.offsetHeight,o=et&&!i&&!s,e=d(i)&&!o||!e.getBoundingClientRect?new Mt(i,s):new Mt((e=Oo(e)).right-e.left,e.bottom-e.top),i=n.clientHeight-e.height,s=n.scrollLeft,o=n.scrollTop,n=new Dt(s+=Math.min(a,Math.max(a-(n.clientWidth-e.width),0)),o+=Math.min(r,Math.max(r-i,0))),t.scrollLeft=n.a,t.scrollTop=n.g}(n,e)),Qo(this,e,function(e){(e=(e=Wt(e.target,"firebaseui-id-list-box-dialog-button"))&&qu(e,"listboxid"))&&(Sl.call(r),t(e))})}function Gu(){return Ho(this,"firebaseui-id-phone-number")}function Yu(){return Ho(this,"firebaseui-id-country-selector")}function Qu(){return Ho(this,"firebaseui-id-phone-number-error")}function Ju(e,t){var n=e.a,r=Xu("1-US-0",n),i=null;if(!(i=t&&Xu(t,n)?t:r?"1-US-0":0<n.length?n[0].c:null))throw Error("No available default country");td.call(this,i,e)}function Xu(e,t){return!(!(e=la(e))||!F(t,e))}function Zu(e){return"firebaseui-flag-"+e.f}function ed(e){var t=this;Ku.call(this,function(e){return e.map(function(e){return{id:e.c,Ma:"firebaseui-flag "+Zu(e),label:e.name+" +"+e.b}})}(e.a),function(n){td.call(t,n,e,!0),t.O().focus()},this.Ba)}function td(e,t,n){var r=la(e);r&&(n&&((t=oa(t,n=q(lo(Gu.call(this))||""))).length&&t[0].b!=r.b&&(n="+"+r.b+n.substr(t[0].b.length+1),co(Gu.call(this),n))),t=la(this.Ba),this.Ba=e,e=Ho(this,"firebaseui-id-country-selector-flag"),t&&oo(e,Zu(t)),ao(e,Zu(r)),Ht(Ho(this,"firebaseui-id-country-selector-code"),"+"+r.b))}function nd(e,t,n,r,i,s,a,o,l,c){Nl.call(this,fc,{Gb:t,Aa:l||null,Va:!!n,ia:!!s},c,"phoneSignInStart",{F:r,D:i}),this.H=o||null,this.M=t,this.l=e,this.w=n||null,this.pa=a||null}function rd(e,t,n,r){try{var i=t.U(qa)}catch(s){return}i?Wa?(t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",sn("Verifying...").toString()),Ed(e,t.I(E(e.cc,e),[ga(i),n],function(n){var r=Al(t);t.$("firebaseui-icon-done",sn("Code sent!").toString());var s=setTimeout(function(){t.h(),t.m(),ro("phoneSignInFinish",e,r,i,15,n)},1e3);Ed(e,function(){t&&t.h(),clearTimeout(s)})},function(n){if(t.h(),!n.name||"cancel"!=n.name){grecaptcha.reset(Ka),Wa=null;var r=n&&n.message||"";if(n.code)switch(n.code){case"auth/too-many-requests":r=sn("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":return t.O().focus(),void Xo(t.B(),kn().toString());case"auth/admin-restricted-operation":if(Na(Td(e)))return n=Al(t),t.m(),void ro("handleUnauthorizedUser",e,n,ga(i),qo.auth.PhoneAuthProvider.PROVIDER_ID);r=Qc(n);break;default:r=Qc(n)}t.a(r)}}))):$a?Xo(t.u(),sn("Solve the reCAPTCHA").toString()):!$a&&r&&t.i().click():(t.O().focus(),Xo(t.B(),kn().toString()))}function id(e,t,n,r,i){Nl.call(this,hc,{Sb:t},i,"providerSignIn",{F:n,D:r}),this.i=e}function sd(e,t,n,r,i,s,a){Nl.call(this,Dl,{email:n,Va:!!t,ia:!!s},a,"signIn",{F:r,D:i}),this.i=e,this.u=t}function ad(e,t,n,r,i,s,a){Nl.call(this,Ql,{kc:e,yb:n,Eb:!!r},a,"unauthorizedUser",{F:i,D:s}),this.l=t,this.i=r}function od(e,t,n,r,i,s){Nl.call(this,Jl,{email:e},s,"unsupportedProvider",{F:r,D:i}),this.l=t,this.i=n}function ld(e,t){this.$=!1;var n=dd(t);if(ud[n])throw Error('An AuthUI instance already exists for the key "'+n+'"');ud[n]=this,this.a=e,this.u=null,this.Y=!1,cd(this.a),this.h=qo.initializeApp({apiKey:e.app.options.apiKey,authDomain:e.app.options.authDomain},e.app.name+"-firebaseui-temp").auth(),(e=e.emulatorConfig)&&(n=e.port,this.h.useEmulator(e.protocol+"://"+e.host+(null===n?"":":"+n),e.options)),cd(this.h),this.h.setPersistence&&this.h.setPersistence(qo.auth.Auth.Persistence.SESSION),this.oa=t,this.ca=new wa,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=yi.Xa(),this.j=this.C=null,this.da=this.A=!1}function cd(e){e&&e.INTERNAL&&e.INTERNAL.logFramework&&e.INTERNAL.logFramework("FirebaseUI-web")}a(nd,Nl),nd.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||Rl(this,this.O(),this.i()),Pl(this,this.i(),this.l),this.O().focus(),Eu(this.O(),(this.O().value||"").length),Nl.prototype.v.call(this)},nd.prototype.o=function(){this.w=this.l=null,Nl.prototype.o.call(this)},_(nd.prototype,{Cb:kl,O:Gu,B:Qu,ea:function(e,t,n){var r=this,i=Gu.call(this),s=Yu.call(this),a=Qu.call(this),o=e||fa,l=o.a;if(0==l.length)throw Error("No available countries provided.");Ju.call(r,o,t),Qo(this,s,function(){ed.call(r,o)}),Go(this,i,function(){Zo(a)&&(Ko(i,!0),Jo(a));var e=q(lo(i)||""),t=la(this.Ba),n=oa(o,e);e=Xu("1-US-0",l),n.length&&n[0].b!=t.b&&(t=n[0],td.call(r,"1"==t.b&&e?"1-US-0":t.c,o))}),n&&Yo(this,i,function(){n()})},U:function(e){var t=q(lo(Gu.call(this))||""),n=(e=e||fa).a,r=oa(fa,t);if(r.length&&!F(n,r[0]))throw co(Gu.call(this)),Gu.call(this).focus(),Xo(Qu.call(this),sn("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return n=la(this.Ba),r.length&&r[0].b!=n.b&&td.call(this,r[0].c,e),r.length&&(t=t.substr(r[0].b.length+1)),t?new pa(this.Ba,t):null},Ja:Yu,ba:function(){return Ho(this,"firebaseui-recaptcha-container")},u:function(){return Ho(this,"firebaseui-id-recaptcha-error")},i:yc,ua:bc,P:wc}),no.phoneSignInStart=function(e,t,n,r){var i=function(e){var t=null;if(Sa(e).forEach(function(e){e.provider==qo.auth.PhoneAuthProvider.PROVIDER_ID&&x(e.recaptchaParameters)&&!Array.isArray(e.recaptchaParameters)&&(t=re(e.recaptchaParameters))}),t){var n=[];to.forEach(function(e){void 0!==t[e]&&(n.push(e),delete t[e])}),n.length&&$i('The following provided "recaptchaParameters" keys are not allowed: '+n.join(", "))}return t}(Td(e))||{};Wa=null,$a=!(i&&"invisible"===i.size);var s=Zc(e),a=function(e){var t=(e=ka(e,qo.auth.PhoneAuthProvider.PROVIDER_ID))&&e.defaultCountry||null;t=t&&ca(t);var n=null;return e&&"string"==typeof e.loginHint&&(n=ma(e.loginHint)),t&&t[0]||n&&la(n.a)||null}(Td(e)),o=s?function(e){var t=null;return(e=ka(e,qo.auth.PhoneAuthProvider.PROVIDER_ID))&&"string"==typeof e.loginHint&&(t=ma(e.loginHint)),e&&e.defaultNationalNumber||t&&t.Aa||null}(Td(e)):null;a=n&&n.a||a&&a.c||null,n=n&&n.Aa||o,(o=Pa(Td(e)))&&da(o),qa=o?new aa(Pa(Td(e))):fa;var l=new nd(function(t){rd(e,l,c,!(!t||!t.keyCode))},$a,s?null:function(){c.clear(),l.m(),eu(e,t)},Ma(Td(e)),ja(Td(e)),s,qa,a,n);l.render(t),fd(e,l),r&&l.a(r),i.callback=function(t){l.u()&&Jo(l.u()),Wa=t,$a||rd(e,l,c)},i["expired-callback"]=function(){Wa=null};var c=new qo.auth.RecaptchaVerifier($a?l.ba():l.i(),i,gd(e).app);Ed(e,l.I(E(c.render,c),[],function(e){Ka=e},function(n){n.name&&"cancel"==n.name||(n=Qc(n),l.m(),eu(e,t,void 0,n))}))},no.prefilledEmailSignIn=function(e,t,n){var r=new Tu;r.render(t),fd(e,r),Ed(e,r.I(E(md(e).fetchSignInMethodsForEmail,md(e)),[n],function(i){r.m();var s=!(!Xc(e)||!yd(e));nu(e,t,i,n,void 0,s)},function(i){i=Qc(i),r.m(),ro("signIn",e,t,n,i)}))},a(id,Nl),id.prototype.v=function(){this.l(this.i),Nl.prototype.v.call(this)},id.prototype.o=function(){this.i=null,Nl.prototype.o.call(this)},_(id.prototype,{l:function(e){function t(t){e(t)}for(var n=this.g?Lt("firebaseui-id-idp-button",this.g||this.s.a):[],r=0;r<n.length;r++){var i=n[r];Qo(this,i,C(t,qu(i,"providerId")))}}}),no.providerSignIn=function(e,t,n,r){var i=new id(function(n){n==qo.auth.EmailAuthProvider.PROVIDER_ID?(i.m(),iu(e,t,r)):n==qo.auth.PhoneAuthProvider.PROVIDER_ID?(i.m(),ro("phoneSignInStart",e,t)):"anonymous"==n?function(e,t){Ed(e,t.I(E(e.$b,e),[],function(n){return t.m(),Kc(e,t,n,!0)},function(e){e.name&&"cancel"==e.name||(Vi("ContinueAsGuest: "+e.code,void 0),e=Qc(e),t.a(e))}))}(e,i):Jc(e,i,n,r),Id(e),e.l.cancel()},_a(Td(e)),Ma(Td(e)),ja(Td(e)));i.render(t),fd(e,i),n&&i.a(n),function(e){Id(e);try{bi(e.l,Ta(Td(e)),function(e){var t;return Id(e),(t=e.Z)||(e=Td(e),e=Ra(e,qo.auth.GoogleAuthProvider.PROVIDER_ID),t=!(!e||"select_account"!==e.prompt)),t}(e)).then(function(t){return!!e.g&&function(e,t,n){if(n&&n.credential&&n.clientId===Ta(Td(e))){if(Aa(Td(e),qo.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var r=JSON.parse(atob(n.credential.split(".")[1])).email}catch(i){}return Jc(e,t,qo.auth.GoogleAuthProvider.PROVIDER_ID,r),Ur(!0)}return i=qo.auth.GoogleAuthProvider.credential(n.credential),s=!1,i=t.I(E(e.ac,e),[i],function(n){var r=Al(t);t.m(),ro("callback",e,r,Ur(n)),s=!0},function(n){if(!(n.name&&"cancel"==n.name||n&&"auth/credential-already-in-use"==n.code))if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential){var r=Al(t);t.m(),ro("callback",e,r,Fr(n))}else n&&"auth/admin-restricted-operation"==n.code&&Na(Td(e))?(n=Al(t),t.m(),ro("handleUnauthorizedUser",e,n,null,qo.auth.GoogleAuthProvider.PROVIDER_ID)):(n=Qc(n),t.a(n))}),Ed(e,i),i.then(function(){return s},function(){return!1})}var i,s;return n&&t.a(sn("The selected credential for the authentication provider is not supported!").toString()),Ur(!1)}(e,e.g,t)})}catch(t){}}(e)},no.sendEmailLinkForSignIn=function(e,t,n,r){var i=new lu;i.render(t),fd(e,i),ru(e,i,n,r,function(r){i.m(),r&&"auth/admin-restricted-operation"==r.code&&Na(Td(e))?ro("handleUnauthorizedUser",e,t,n,qo.auth.EmailAuthProvider.PROVIDER_ID):(r=Qc(r),ro("signIn",e,t,n,r))})},a(sd,Nl),sd.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),Eu(this.l(),(this.l().value||"").length),Nl.prototype.v.call(this)},sd.prototype.o=function(){this.u=this.i=null,Nl.prototype.o.call(this)},_(sd.prototype,{l:Tc,M:Ic,w:Nc,H:Ac,j:Rc,U:yc,P:bc,B:wc}),no.signIn=function(e,t,n,r){var i=Xc(e),s=new sd(function(){var t=s,n=t.j()||"";n&&tu(e,t,n)},i?null:function(){s.m(),eu(e,t,n)},n,Ma(Td(e)),ja(Td(e)),i);s.render(t),fd(e,s),r&&s.a(r)},a(ad,Nl),ad.prototype.v=function(){var e=this,t=Ho(this,"firebaseui-id-unauthorized-user-help-link");this.i&&t&&Qo(this,t,function(){e.i()}),Qo(this,this.u(),function(){e.l()}),this.u().focus(),Nl.prototype.v.call(this)},ad.prototype.o=function(){this.i=this.l=null,Nl.prototype.o.call(this)},_(ad.prototype,{u:bc}),no.handleUnauthorizedUser=function(e,t,n,r){function i(){eu(e,t)}r===qo.auth.EmailAuthProvider.PROVIDER_ID?i=function(){iu(e,t)}:r===qo.auth.PhoneAuthProvider.PROVIDER_ID&&(i=function(){ro("phoneSignInStart",e,t)});var s=null,a=null;r===qo.auth.EmailAuthProvider.PROVIDER_ID&&Ia(Td(e))?(s=function(e){return(e=ka(e,qo.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp&&e.disableSignUp.adminEmail||null}(Td(e)),a=function(e){if((e=ka(e,qo.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp){var t=e.disableSignUp.helpLink||null;if(t&&"string"==typeof t)return function(){Xr(t)}}return null}(Td(e))):Na(Td(e))&&(s=function(e){return(e=e.a.get("adminRestrictedOperation"))&&e.adminEmail?e.adminEmail:null}(Td(e)),a=function(e){if(e=e.a.get("adminRestrictedOperation")||null){var t=e.helpLink||null;if(t&&"string"==typeof t)return function(){Xr(t)}}return null}(Td(e)));var o=new ad(n,function(){o.m(),i()},s,a,Ma(Td(e)),ja(Td(e)));o.render(t),fd(e,o)},a(od,Nl),od.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Nl.prototype.v.call(this)},od.prototype.o=function(){this.i=this.l=null,Nl.prototype.o.call(this)},_(od.prototype,{u:yc,B:bc,w:wc}),no.unsupportedProvider=function(e,t,n){var r=new od(n,function(){r.m(),ro("passwordRecovery",e,t,n)},function(){r.m(),eu(e,t,n)},Ma(Td(e)),ja(Td(e)));r.render(t),fd(e,r)};var ud={};function dd(e){return e||"[DEFAULT]"}function hd(e){return Id(e),e.i||(e.i=Sd(e,function(t){return t&&!Gs(vd(e))?Ur(gd(e).getRedirectResult().then(function(e){return e},function(t){if(t&&"auth/email-already-in-use"==t.code&&t.email&&t.credential)throw t;return Rd(e,t)})):Ur(md(e).getRedirectResult().then(function(t){return xa(Td(e))&&!t.user&&e.j&&!e.j.isAnonymous?gd(e).getRedirectResult():t}))})),e.i}function fd(e,t){Id(e),e.g=t}var pd=null;function md(e){return Id(e),e.h}function gd(e){return Id(e),e.a}function vd(e){return Id(e),e.oa}function yd(e){return Id(e),e.O?e.O.emailHint:void 0}function bd(e){return"signIn"===((e=new Oe(e)).a.a.get(Ve.ub)||null)&&!!e.a.a.get(Ve.$a)}function wd(e,t,n,r){Id(e),void 0!==e.a.languageCode&&(e.u=e.a.languageCode);var i="en".replace(/_/g,"-");e.a.languageCode=i,e.h.languageCode=i,e.Y=!0,void 0!==e.a.tenantId&&(e.h.tenantId=e.a.tenantId),e.ib(n),e.O=r||null;var s=u.document;e.C?e.C.then(function(){"complete"==s.readyState?xd(e,t):Xn(window,"load",function(){xd(e,t)})}):"complete"==s.readyState?xd(e,t):Xn(window,"load",function(){xd(e,t)})}function xd(e,t){var n=Zr(t,"Could not find the FirebaseUI widget element on the page.");if(n.setAttribute("lang","en".replace(/_/g,"-")),pd){var r=pd;Id(r),Gs(vd(r))&&$i("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),pd.reset()}if(pd=e,e.T=n,function(e,t){e.L=null,e.J=new gr(t),e.J.register(),Qn(e.J,"pageEnter",function(t){if(t=t&&t.pageId,e.L!=t){var n=Td(e);(n=Ha(n).uiChanged||null)&&n(e.L,t),e.L=t}})}(e,n),Ds(new Ms)&&Ds(new js)){t=Zr(t,"Could not find the FirebaseUI widget element on the page."),n=(n=ge(n=ei(),r=ta(Td(e).a,"queryParameterForSignInSuccessUrl")))?yt(wt(n)).toString():null;e:{r=ei();var i=Da(Td(e));for(s in r=ge(r,i)||"",Za)if(Za[s].toLowerCase()==r.toLowerCase()){var s=Za[s];break e}s="callback"}switch(s){case"callback":n&&(s=vd(e),qs(Vs,n,s)),e.nb()?ro("callback",e,t):eu(e,t,yd(e));break;case"resetPassword":ro("passwordReset",e,t,su(),au());break;case"recoverEmail":ro("emailChangeRevocation",e,t,su());break;case"revertSecondFactorAddition":ro("revertSecondFactorAddition",e,t,su());break;case"verifyEmail":ro("emailVerification",e,t,su(),au());break;case"verifyAndChangeEmail":ro("verifyAndChangeEmail",e,t,su(),au());break;case"signIn":ro("emailLinkSignInCallback",e,t,ei()),Nd();break;case"select":n&&(s=vd(e),qs(Vs,n,s)),eu(e,t);break;default:throw Error("Unhandled widget operation.")}(t=Ha(t=Td(e)).uiShown||null)&&t()}else t=Zr(t,"Could not find the FirebaseUI widget element on the page."),(s=new $c(sn("The browser you are using does not support Web Storage. Please try again in a different browser.").toString())).render(t),fd(e,s);t=e.g&&"blank"==e.g.Ga&&Ua(Td(e)),Js(vd(e))&&!t&&(_d(e,(t=Js(vd(e))).a),$s(zs,vd(e)))}function Sd(e,t){if(e.A)return t(kd(e));if(Ed(e,function(){e.A=!1}),xa(Td(e))){var n=new Rr(function(n){Ed(e,e.a.onAuthStateChanged(function(r){e.j=r,e.A||(e.A=!0,n(t(kd(e))))}))});return Ed(e,n),n}return e.A=!0,t(null)}function kd(e){return Id(e),xa(Td(e))&&e.j&&e.j.isAnonymous?e.j:null}function Ed(e,t){if(Id(e),t){e.s.push(t);var n=function(){B(e.s,function(e){return e==t})};"function"!=typeof t&&t.then(n,n)}}function Cd(e){void 0!==e.a.languageCode&&e.Y&&(e.Y=!1,e.a.languageCode=e.u)}function _d(e,t){e.a.tenantId=t,e.h.tenantId=t}function Td(e){return Id(e),e.ca}function Id(e){if(e.$)throw Error("AuthUI instance is deleted!")}function Nd(){var e=ei();if(bd(e)){for(var t in e=new Oe(e),Ve)Ve.hasOwnProperty(t)&&De(e.a.a,Ve[t]);t={state:"signIn",mode:"emailLink",operation:"clear"};var n=u.document.title;u.history&&u.history.replaceState&&u.history.replaceState(t,n,e.toString())}}function Ad(e){return Id(e),md(e).signOut()}function Rd(e,t,n){if(Id(e),t&&t.code&&("auth/email-already-in-use"==t.code||"auth/credential-already-in-use"==t.code)){var r=Ba(Td(e));return Ur().then(function(){return r(new Nn("anonymous-upgrade-merge-conflict",null,n||t.credential))}).then(function(){throw e.g&&(e.g.m(),e.g=null),t})}return Fr(t)}function Pd(e,t,n,r){Nl.call(this,vc,void 0,r,"providerMatchByEmail",{F:t,D:n}),this.i=e}function Dd(e,t,n,r,i){Nl.call(this,gc,{ec:t},i,"selectTenant",{F:n,D:r}),this.i=e}function Md(e){Nl.call(this,Fl,void 0,e,"spinner")}function jd(e){for(var t in this.a=new Xs,Zs(this.a,"authDomain"),Zs(this.a,"displayMode",Hd),Zs(this.a,"tenants"),Zs(this.a,"callbacks"),Zs(this.a,"tosUrl"),Zs(this.a,"privacyPolicyUrl"),e)if(e.hasOwnProperty(t))try{ea(this.a,t,e[t])}catch(n){Vi('Invalid config: "'+t+'"',void 0)}}function Ld(e){return e.a.get("callbacks")||{}}function Od(e){var t=e.a.get("tosUrl")||null;if(e=e.a.get("privacyPolicyUrl")||null,t&&!e&&$i("Privacy Policy URL is missing, the link will not be displayed."),t&&e){if("function"==typeof t)return t;if("string"==typeof t)return function(){Xr(t)}}return null}function Ud(e){var t=e.a.get("tosUrl")||null,n=e.a.get("privacyPolicyUrl")||null;if(n&&!t&&$i("Terms of Service URL is missing, the link will not be displayed."),t&&n){if("function"==typeof n)return n;if("string"==typeof n)return function(){Xr(n)}}return null}function Fd(e,t){if(!(e=e.a.get("tenants"))||!e.hasOwnProperty(t)&&!e.hasOwnProperty($d))throw Error("Invalid tenant configuration!")}function zd(e,t,n){if(!(e=e.a.get("tenants")))throw Error("Invalid tenant configuration!");var r=[];if(!(e=e[t]||e[$d]))return Vi("Invalid tenant configuration: "+t+" is not configured!",void 0),r;if(!(t=e.signInOptions))throw Error("Invalid tenant configuration: signInOptions are invalid!");return t.forEach(function(e){if("string"==typeof e)r.push(e);else if("string"==typeof e.provider){var t=e.hd;t&&n?(t instanceof RegExp?t:new RegExp("@"+t.replace(".","\\.")+"$")).test(n)&&r.push(e.provider):r.push(e.provider)}else Vi(e="Invalid tenant configuration: signInOption "+JSON.stringify(e)+" is invalid!",void 0)}),r}function Vd(e,t,n){return e=function(e,t){var n=Bd,r=void 0===r?{}:r;return Fd(e,t),e=e.a.get("tenants"),function(e,t,n){return n=void 0===n?{}:n,Object.keys(e).filter(function(e){return t.includes(e)}).reduce(function(t,n){return t[n]=e[n],t},n)}(e[t]||e[$d],n,r)}(e,t),(t=e.signInOptions)&&n&&(t=t.filter(function(e){return"string"==typeof e?n.includes(e):n.includes(e.provider)}),e.signInOptions=t),e}(e=ld.prototype).nb=function(){return Id(this),!!Js(vd(this))||bd(ei())},e.start=function(e,t){wd(this,e,t)},e.Db=function(){Id(this),this.Z=!0},e.reset=function(){Id(this);var e=this;this.T&&this.T.removeAttribute("lang"),this.J&&pr(this.J),Cd(this),this.O=null,Nd(),$s(zs,vd(this)),Id(this),this.l.cancel(),this.i=Ur({user:null,credential:null}),pd==this&&(pd=null),this.T=null;for(var t=0;t<this.s.length;t++)"function"==typeof this.s[t]?this.s[t]():this.s[t].cancel&&this.s[t].cancel();this.s=[],Ys(vd(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=Ad(this).then(function(){e.C=null},function(){e.C=null}))},e.ib=function(e){Id(this);var t,n=this.ca;for(t in e)try{ea(n.a,t,e[t])}catch(r){Vi('Invalid config: "'+t+'"',void 0)}tt&&ea(n.a,"popupMode",!1),Pa(n),!this.da&&za(Td(this))&&($i("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)},e.Wb=function(){Id(this);var e=Td(this),t=ta(e.a,"widgetUrl");e=Da(e);for(var n,r=t.search(me),i=0,s=[];0<=(n=pe(t,i,e,r));)s.push(t.substring(i,n)),i=Math.min(t.indexOf("&",n)+1||r,r);s.push(t.substr(i)),t=s.join("").replace(ve,"$1"),(e+=r="="+encodeURIComponent("select"))?(0>(r=t.indexOf("#"))&&(r=t.length),0>(i=t.indexOf("?"))||i>r?(i=r,n=""):n=t.substring(i+1,r),r=(t=[t.substr(0,i),n,t.substr(r)])[1],t[1]=e?r?r+"&"+e:e:r,r=t[0]+(t[1]?"?"+t[1]:"")+t[2]):r=t,Td(this).a.get("popupMode")?(r=r||"about:blank",(e={width:500,height:600,top:0<(e=(window.screen.availHeight-600)/2)?e:0,left:0<(t=(window.screen.availWidth-500)/2)?t:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1}).target=e.target||r.target||"google_popup",e.width=e.width||690,e.height=e.height||500,(e=Qr(r,e))&&e.focus()):Pt(window.location,r)},e.Wa=function(){var e=this;return Id(this),this.h.app.delete().then(function(){var t=dd(vd(e));delete ud[t],e.reset(),e.$=!0})},e.Ib=function(e,t){Id(this);var n=this,r=function(){for(var e=32,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();if(!Oa(Td(this)))return Fr(Error("Email link sign-in should be enabled to trigger email sending."));var i=function(e){if(Oa(e)){var t={url:ei(),handleCodeInApp:!0};(e=ka(e,qo.auth.EmailAuthProvider.PROVIDER_ID))&&"function"==typeof e.emailLinkSignIn&&se(t,e.emailLinkSignIn()),e=t.url;var n=ei();n instanceof ye||(n=Se(n)),e instanceof ye||(e=Se(e));var r=n;n=new ye(r);var i=!!e.j;i?be(n,e.j):i=!!e.A,i?n.A=e.A:i=!!e.h,i?n.h=e.h:i=null!=e.C;var s=e.g;if(i)we(n,e.C);else if(i=!!e.g)if("/"!=s.charAt(0)&&(r.h&&!r.g?s="/"+s:-1!=(r=n.g.lastIndexOf("/"))&&(s=n.g.substr(0,r+1)+s)),".."==s||"."==s)s="";else if(-1!=s.indexOf("./")||-1!=s.indexOf("/.")){r=0==s.lastIndexOf("/",0),s=s.split("/");for(var a=[],o=0;o<s.length;){var l=s[o++];"."==l?r&&o==s.length&&a.push(""):".."==l?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),r&&o==s.length&&a.push("")):(a.push(l),r=!0)}s=a.join("/")}return i?n.g=s:i=""!==e.a.toString(),i?xe(n,je(e.a)):i=!!e.s,i&&(n.s=e.s),t.url=n.toString(),t}return null}(Td(this)),s=new Oe(i.url);return function(e,t){t?e.a.a.set(Ve.Sa,t):De(e.a.a,Ve.Sa)}(s,r),t&&t.a&&(function(e,t,n){qs(Hs,xs(e,JSON.stringify(Xi(t))),n)}(r,t,vd(this)),Fe(s,t.a.providerId)),function(e,t){null!==t?e.a.a.set(Ve.Qa,t?"1":"0"):De(e.a.a,Ve.Qa)}(s,function(e){return!(!(e=ka(e,qo.auth.EmailAuthProvider.PROVIDER_ID))||!e.forceSameDevice)}(Td(this))),Sd(this,function(t){return t&&((t=t.uid)?s.a.a.set(Ve.Pa,t):De(s.a.a,Ve.Pa)),i.url=s.toString(),md(n).sendSignInLinkToEmail(e,i)}).then(function(){var t=vd(n),i={};i.email=e,qs(Bs,xs(r,JSON.stringify(i)),t)},function(e){throw $s(Hs,vd(n)),$s(Bs,vd(n)),e})},e.bc=function(e,t){Id(this);var n=this;return md(this).signInWithEmailAndPassword(e,t).then(function(r){return Sd(n,function(i){return i?Ad(n).then(function(){return Rd(n,{code:"auth/email-already-in-use"},qo.auth.EmailAuthProvider.credential(e,t))}):r})})},e.Yb=function(e,t){Id(this);var n=this;return Sd(this,function(r){if(r){var i=qo.auth.EmailAuthProvider.credential(e,t);return r.linkWithCredential(i)}return md(n).createUserWithEmailAndPassword(e,t)})},e.ac=function(e){Id(this);var t=this;return Sd(this,function(n){return n?n.linkWithCredential(e).then(function(e){return e},function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return Rd(t,n,e)}):md(t).signInWithCredential(e)})},e.dc=function(e){Id(this);var t=this,n=this.i;return this.i=null,Sd(this,function(n){return n&&!Gs(vd(t))?n.linkWithRedirect(e):md(t).signInWithRedirect(e)}).then(function(){},function(e){throw t.i=n,e})},e.cc=function(e,t){Id(this);var n=this;return Sd(this,function(r){return r?r.linkWithPhoneNumber(e,t).then(function(e){return new Si(e,function(e){if("auth/credential-already-in-use"==e.code)return Rd(n,e);throw e})}):gd(n).signInWithPhoneNumber(e,t).then(function(e){return new Si(e)})})},e.$b=function(){return Id(this),gd(this).signInAnonymously()},e.Xb=function(e,t){return Id(this),md(this).signInWithEmailAndPassword(e,t)},a(Pd,Nl),Pd.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),Eu(this.l(),(this.l().value||"").length),Nl.prototype.v.call(this)},Pd.prototype.o=function(){this.i=null,Nl.prototype.o.call(this)},_(Pd.prototype,{l:Tc,H:Ic,u:Nc,B:Ac,j:Rc,M:yc,w:wc}),a(Dd,Nl),Dd.prototype.v=function(){!function(e,t){function n(e){t(e)}for(var r=e.g?Lt("firebaseui-id-tenant-selection-button",e.g||e.s.a):[],i=0;i<r.length;i++){var s=r[i];Qo(e,s,C(n,qu(s,"tenantId")))}}(this,this.i),Nl.prototype.v.call(this)},Dd.prototype.o=function(){this.i=null,Nl.prototype.o.call(this)},a(Md,Nl);var Bd=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],Hd="optionFirst",Wd={pc:Hd,oc:"identifierFirst"},$d="*";function qd(e,t){var n=this;this.s=Zr(e),this.a={},Object.keys(t).forEach(function(e){n.a[e]=new jd(t[e])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(e){this.ob=e||null},enumerable:!1})}function Kd(e){e.j&&e.j.reset(),e.mb(),e.g&&e.g.m()}(e=qd.prototype).Ub=function(e,t){var n=this;Kd(this);var r=e.apiKey;return new Rr(function(e,i){if(n.a.hasOwnProperty(r)){var s=Ld(n.a[r]).selectTenantUiHidden||null;if(function(e){for(var t in e=e.a.get("displayMode"),Wd)if(Wd[t]===e)return Wd[t];return Hd}(n.a[r])===Hd){var a=[];t.forEach(function(e){e=e||"_";var t=n.a[r].a.get("tenants");if(!t)throw Error("Invalid tenant configuration!");(t=t[e]||t[$d])?e={tenantId:"_"!==e?e:null,V:t.fullLabel||null,displayName:t.displayName,za:t.iconUrl,ta:t.buttonColor}:(Vi("Invalid tenant configuration: "+e+" is not configured!",void 0),e=null),e&&a.push(e)});var o=function(t){t={tenantId:t,providerIds:zd(n.a[r],t||"_")},e(t)};if(1===a.length)return void o(a[0].tenantId);n.g=new Dd(function(e){Kd(n),s&&s(),o(e)},a,Od(n.a[r]),Ud(n.a[r]))}else n.g=new Pd(function(){var i=n.g.j();if(i){for(var a=0;a<t.length;a++){var o=zd(n.a[r],t[a]||"_",i);if(0!==o.length)return i={tenantId:t[a],providerIds:o,email:i},Kd(n),s&&s(),void e(i)}n.g.a(Tn({code:"no-matching-tenant-for-email"}).toString())}},Od(n.a[r]),Ud(n.a[r]));n.g.render(n.s),(i=Ld(n.a[r]).selectTenantUiShown||null)&&i()}else{var l=Error("Invalid project configuration: API key is invalid!");l.code="invalid-configuration",n.pb(l),i(l)}})},e.Pb=function(e,t){if(!this.a.hasOwnProperty(e))throw Error("Invalid project configuration: API key is invalid!");var n=t||void 0;Fd(this.a[e],t||"_");try{this.i=qo.app(n).auth()}catch(cE){var r=this.a[e].a.get("authDomain");if(!r)throw Error("Invalid project configuration: authDomain is required!");(e=qo.initializeApp({apiKey:e,authDomain:r},n)).auth().tenantId=t,this.i=e.auth()}return this.i},e.Zb=function(e,t){var n=this;return new Rr(function(r,i){function s(t,r){n.j=new ld(e),wd(n.j,n.s,t,r)}var a=e.app.options.apiKey;n.a.hasOwnProperty(a)||i(Error("Invalid project configuration: API key is invalid!"));var o=Vd(n.a[a],e.tenantId||"_",t&&t.providerIds);Kd(n),i={signInSuccessWithAuthResult:function(e){return r(e),!1}};var l,c=Ld(n.a[a]).signInUiShown||null,u=!1;i.uiChanged=function(t,r){null===t&&"callback"===r?((t=Ot("firebaseui-id-page-callback",n.s))&&Jo(t),n.h=new Md,n.h.render(n.s)):u||null===t&&"spinner"===r||"blank"===r||(n.h&&(n.h.m(),n.h=null),u=!0,c&&c(e.tenantId))},o.callbacks=i,o.credentialHelper="none",t&&t.email&&(l={emailHint:t.email}),n.j?n.j.Wa().then(function(){s(o,l)}):s(o,l)})},e.reset=function(){var e=this;return Ur().then(function(){e.j&&e.j.Wa()}).then(function(){e.j=null,Kd(e)})},e.Vb=function(){var e=this;this.h||this.A||(this.A=window.setTimeout(function(){Kd(e),e.h=new Md,e.g=e.h,e.h.render(e.s),e.A=null},500))},e.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},e.Bb=function(){return Kd(this),this.g=new zc,this.g.render(this.s),Ur()},e.pb=function(e){var t,n=this,r=Tn({code:e.code}).toString()||e.message;Kd(this),e.retry&&"function"==typeof e.retry&&(t=function(){n.reset(),e.retry()}),this.g=new Wc(r,t),this.g.render(this.s)},e.Rb=function(e){var t=this;return Ur().then(function(){var n=t.i&&t.i.app.options.apiKey;if(!t.a.hasOwnProperty(n))throw Error("Invalid project configuration: API key is invalid!");if(Fd(t.a[n],e.tenantId||"_"),!t.i.currentUser||t.i.currentUser.uid!==e.uid)throw Error("The user being processed does not match the signed in user!");return(n=Ld(t.a[n]).beforeSignInSuccess||null)?n(e):e}).then(function(t){if(t.uid!==e.uid)throw Error("User with mismatching UID returned.");return t})},N("firebaseui.auth.FirebaseUiHandler",qd),N("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",qd.prototype.Ub),N("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",qd.prototype.Pb),N("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",qd.prototype.Zb),N("firebaseui.auth.FirebaseUiHandler.prototype.reset",qd.prototype.reset),N("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",qd.prototype.Vb),N("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",qd.prototype.mb),N("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",qd.prototype.Bb),N("firebaseui.auth.FirebaseUiHandler.prototype.handleError",qd.prototype.pb),N("firebaseui.auth.FirebaseUiHandler.prototype.processUser",qd.prototype.Rb),N("firebaseui.auth.AuthUI",ld),N("firebaseui.auth.AuthUI.getInstance",function(e){return e=dd(e),ud[e]?ud[e]:null}),N("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",ld.prototype.Db),N("firebaseui.auth.AuthUI.prototype.start",ld.prototype.start),N("firebaseui.auth.AuthUI.prototype.setConfig",ld.prototype.ib),N("firebaseui.auth.AuthUI.prototype.signIn",ld.prototype.Wb),N("firebaseui.auth.AuthUI.prototype.reset",ld.prototype.reset),N("firebaseui.auth.AuthUI.prototype.delete",ld.prototype.Wa),N("firebaseui.auth.AuthUI.prototype.isPendingRedirect",ld.prototype.nb),N("firebaseui.auth.AuthUIError",Nn),N("firebaseui.auth.AuthUIError.prototype.toJSON",Nn.prototype.toJSON),N("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",Ga),N("firebaseui.auth.CredentialHelper.NONE",Ya),N("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Rr.prototype.catch=Rr.prototype.Ca,Rr.prototype.finally=Rr.prototype.fc}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:window)}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:window),"undefined"!=typeof window&&(window.dialogPolyfill=sf);var gf=firebaseui.auth;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Io("firebase","10.14.1","app");var vf,yf,bf="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e;
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"==typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);d(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,yf=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},vf=r}).apply(void 0!==bf?bf:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var wf,xf,Sf,kf,Ef,Cf,_f,Tf,If="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof If&&If];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */
var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=!(-1==m().indexOf("Gecko")||-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge")||-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE")||-1!=m().indexOf("Edge"));function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){i.setTimeout(()=>{throw e},0)}function E(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new _,e=>e.reset());class _{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,I=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},A=()=>{const e=i.Promise.resolve(void 0);T=()=>{e.then(R)}};var R=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(n){k(n)}var t=C;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function P(){this.s=this.s,this.C=this.C}function D(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},D.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function j(e,t){if(D.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&j.aa.h.call(this)}}d(j,D);var L={2:"touch",3:"pen",4:"mouse"};j.prototype.h=function(){j.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var O="closure_listenable_"+(1e6*Math.random()|0),U=0;function F(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++U,this.da=this.fa=!1}function z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}V.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=H(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new F(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var W="closure_lm_"+(1e6*Math.random()|0),$={};function q(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)q(e,t[s],n,r,i);return null}return n=Z(n),e&&e[O]?e.K(t,n,!!a(r)&&!!r.capture,i):function(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=J(e);if(l||(e[W]=l=new V(e)),n=l.add(t,n,r,o,s),n.proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Q;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)M||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Y(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}(e,t,n,!1,r,i)}function K(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=Z(n),e&&e[O]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(s=e.g[t],n,r,i))&&(z(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=J(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,i)),(n=-1<e?t[e]:null)&&G(n))}function G(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[O])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Y(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=J(t))?(B(n,e),0==n.h&&(n.src=null,t[W]=null)):z(e)}}}function Y(e){return e in $?$[e]:$[e]="on"+e}function Q(e,t){if(e.da)e=!0;else{t=new j(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&G(e),e=n.call(r,t)}return e}function J(e){return(e=e[W])instanceof V?e:null}var X="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z(e){return"function"==typeof e?e:(e[X]||(e[X]=function(t){return e.handleEvent(t)}),e[X])}function ee(){P.call(this),this.i=new V(this),this.M=this,this.F=null}function te(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new D(t,e);else if(t instanceof D)t.target=t.target||e;else{var i=t;x(t=new D(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ne(a,r,!0,t)&&i}if(i=ne(a=t.g=e,r,!0,t)&&i,i=ne(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ne(a=t.g=n[s],r,!1,t)&&i}function ne(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function re(e,t,n){if("function"==typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ie(e){e.g=re(()=>{e.g=null,e.i&&(e.i=!1,ie(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ee,P),ee.prototype[O]=!0,ee.prototype.removeEventListener=function(e,t,n,r){K(this,e,t,n,r)},ee.prototype.N=function(){if(ee.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)z(n[r]);delete t.g[e],t.h--}}this.F=null},ee.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ee.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ie(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ae(e){P.call(this),this.h=e,this.g={}}d(ae,P);var oe=[];function le(e){y(e.g,function(e,t){this.g.hasOwnProperty(t)&&G(e)},e),e.g={}}ae.prototype.N=function(){ae.aa.N.call(this),le(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ce=i.JSON.stringify,ue=i.JSON.parse,de=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function he(){}function fe(e){return e.h||(e.h=e.i())}function pe(){}he.prototype.h=null;var me={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ge(){D.call(this,"d")}function ve(){D.call(this,"c")}d(ge,D),d(ve,D);var ye={},be=null;function we(){return be=be||new ee}function xe(e){D.call(this,ye.La,e)}function Se(e){const t=we();te(t,new xe(t))}function ke(e,t){D.call(this,ye.STAT_EVENT,e),this.stat=t}function Ee(e){const t=we();te(t,new ke(t,e))}function Ce(e,t){D.call(this,ye.Ma,e),this.size=t}function _e(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Te(){this.g=!0}function Ie(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return ce(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}ye.La="serverreachability",d(xe,D),ye.STAT_EVENT="statevent",d(ke,D),ye.Ma="timingevent",d(Ce,D),Te.prototype.xa=function(){this.g=!1},Te.prototype.info=function(){};var Ne,Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Pe(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ae(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}d(Pe,he),Pe.prototype.g=function(){return new XMLHttpRequest},Pe.prototype.i=function(){return{}},Ne=new Pe;var je={},Le={};function Oe(e,t,n){e.L=1,e.v=ct(it(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),Ve(e),e.A=it(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),St(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=un(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(oe[0]=i.toString()),i=oe);for(var s=0;s<i.length;s++){var a=q(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Fe(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Le:(n=Number(t.substring(n,r)),isNaN(n)?je:(r+=1)+n>t.length?Le:(t=t.slice(r,r+n),e.C=r+n,t))}function Ve(e){e.S=Date.now()+e.I,Be(e,e.I)}function Be(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_e(c(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||sn(e.j,e)}function $e(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,le(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Je(n.h,e)))if(!e.K&&Je(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;rn(n),Kt(n)}en(n),Ee(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=_e(c(n.Za,n),6e3));if(1>=Qe(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else on(n,11)}else if((e.K||n.g==e)&&rn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Xe(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,lt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=cn(r,r.J?r.ia:null,r.W),a.K){Ze(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(He(o),Ve(o)),r.g=a}else Zt(r);0<n.i.length&&Yt(n)}else"stop"!=c[0]&&"close"!=c[0]||on(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?on(n,7):qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Se()}catch(u){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Bt(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const h=Bt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Ht(this.g)))){this.J||4!=h||7==t||Se(),He(this);var n=this.g.Z();this.X=n;t:if(Fe(this)){var r=Ht(this.g);e="";var s=r.length,a=4==Bt(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){$e(this),We(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ee(12),$e(this),We(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=ze(this,o),e==Le){4==h&&(this.s=4,Ee(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==je){this.s=4,Ee(15),Ie(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),qe(this,e)}if(Fe(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Ee(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),tn(d),d.M=!0,Ee(11))}}else Ie(this.i,this.l,o,"[Invalid Chunked Response]"),$e(this),We(this)}else Ie(this.i,this.l,o,null),qe(this,o);4==h&&$e(this),this.o&&!this.J&&(4==h?sn(this.j,this):(this.o=!1,Ve(this)))}else(function(e){const t={};e=(e.g&&2<=Bt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),$e(this),We(this)}}}catch(h){}},De.prototype.cancel=function(){this.J=!0,$e(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Se(),Ee(17)),$e(this),this.s=2,We(this)):Be(this,this.S-e)};var Ke=class{constructor(e,t){this.g=e,this.map=t}};function Ge(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ye(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Qe(e){return e.h?1:e.g?e.g.size:0}function Je(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Xe(e,t){e.g?e.g.add(t):e.h=t}function Ze(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function et(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function tt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(s(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Ge.prototype.cancel=function(){if(this.i=et(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var nt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof rt){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,at(this,e.s),this.l=e.l;var t=e.i,n=new yt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ot(this,n),this.m=e.m}else e&&(t=String(e).match(nt))?(this.h=!1,st(this,t[1]||"",!0),this.o=ut(t[2]||""),this.g=ut(t[3]||"",!0),at(this,t[4]),this.l=ut(t[5]||"",!0),ot(this,t[6]||"",!0),this.m=ut(t[7]||"")):(this.h=!1,this.i=new yt(null,this.h))}function it(e){return new rt(e)}function st(e,t,n){e.j=n?ut(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function at(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ot(e,t,n){t instanceof yt?(e.i=t,function(e,t){t&&!e.j&&(bt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(wt(this,t),St(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=dt(t,gt)),e.i=new yt(t,e.h))}function lt(e,t,n){e.i.set(t,n)}function ct(e){return lt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ut(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function dt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ht),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ht(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}rt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(dt(t,ft,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(dt(t,ft,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(dt(n,"/"==n.charAt(0)?mt:pt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",dt(n,vt)),e.join("")};var ft=/[#\/\?@]/g,pt=/[#\?:]/g,mt=/[#\?]/g,gt=/[#\?@]/g,vt=/#/g;function yt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function bt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function wt(e,t){bt(e),t=kt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function xt(e,t){return bt(e),t=kt(e,t),e.g.has(t)}function St(e,t,n){wt(e,t),0<n.length&&(e.i=null,e.g.set(kt(e,t),h(n)),e.h+=n.length)}function kt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Et(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Ct(){this.g=new de}function _t(e,t,n){const r=n||"";try{tt(e,function(e,n){let i=e;a(e)&&(i=ce(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(cE){throw t.push(r+"type="+encodeURIComponent("_badmap")),cE}}function Tt(e){this.l=e.Ub||null,this.j=e.eb||!1}function It(e,t){ee.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Nt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function At(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Rt(e)}function Rt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Pt(e){let t="";return y(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Dt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Pt(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):lt(e,t,n))}function Mt(e){ee.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=yt.prototype).add=function(e,t){bt(this),this.i=null,e=kt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){bt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){bt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){bt(this);let t=[];if("string"==typeof e)xt(this,e)&&(t=t.concat(this.g.get(kt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return bt(this),this.i=null,xt(this,e=kt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(Tt,he),Tt.prototype.g=function(){return new It(this.l,this.j)},Tt.prototype.i=function(e){return function(){return e}}({}),d(It,ee),(e=It.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Rt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,At(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rt(this)),this.g&&(this.readyState=3,Rt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?At(this):Rt(this),3==this.readyState&&Nt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,At(this))},e.Qa=function(e){this.g&&(this.response=e,At(this))},e.ga=function(){this.g&&At(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(It.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ee);var jt=/^https?$/i,Lt=["POST","PUT"];function Ot(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ut(e),zt(e)}function Ut(e){e.A||(e.A=!0,te(e,"complete"),te(e,"error"))}function Ft(e){if(e.h&&void 0!==r&&(!e.v[1]||4!=Bt(e)||2!=e.Z()))if(e.u&&4==Bt(e))re(e.Ea,0,e);else if(te(e,"readystatechange"),4==Bt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(nt)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!jt.test(a?a.toLowerCase():"")}n=s}if(n)te(e,"complete"),te(e,"success");else{e.m=6;try{var o=2<Bt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Ut(e)}}finally{zt(e)}}}function zt(e,t){if(e.g){Vt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||te(e,"ready");try{n.onreadystatechange=r}catch(cE){}}}function Vt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Bt(e){return e.g?e.g.readyState:0}function Ht(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Wt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function $t(e){this.Aa=0,this.i=[],this.j=new Te,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wt("baseRetryDelayMs",5e3,e),this.cb=Wt("retryDelaySeedMs",1e4,e),this.Wa=Wt("forwardChannelMaxRetries",2,e),this.wa=Wt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ge(e&&e.concurrentRequestLimit),this.Da=new Ct,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function qt(e){if(Gt(e),3==e.G){var t=e.U++,n=it(e.I);if(lt(n,"SID",e.K),lt(n,"RID",t),lt(n,"TYPE","terminate"),Jt(e,n),(t=new De(e,e.j,t)).L=2,t.v=ct(it(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=un(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ve(t)}ln(e)}function Kt(e){e.g&&(tn(e),e.g.cancel(),e.g=null)}function Gt(e){Kt(e),e.u&&(i.clearTimeout(e.u),e.u=null),rn(e),e.h.cancel(),e.s&&("number"==typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Yt(e){if(!Ye(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||A(),I||(T(),I=!0),N.add(t,e),e.B=0}}function Qt(e,t){var n;n=t?t.l:e.U++;const r=it(e.I);lt(r,"SID",e.K),lt(r,"RID",n),lt(r,"AID",e.T),Jt(e,r),e.m&&e.o&&Dt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=Xt(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),Xe(e.h,n),Oe(n,r,t)}function Jt(e,t){e.H&&y(e.H,function(e,n){lt(t,n,e)}),e.l&&tt({},function(e,n){lt(t,n,e)})}function Xt(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{_t(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function Zt(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||A(),I||(T(),I=!0),N.add(t,e),e.v=0}}function en(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=_e(c(e.Fa,e),an(e,e.v)),e.v++,!0)}function tn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function nn(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=it(e.qa);lt(t,"RID","rpc"),lt(t,"SID",e.K),lt(t,"AID",e.T),lt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&lt(t,"TO",e.ja),lt(t,"TYPE","xmlhttp"),Jt(e,t),e.m&&e.o&&Dt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ct(it(t)),n.m=null,n.P=!0,Ue(n,e)}function rn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function sn(e,t){var n=null;if(e.g==t){rn(e),tn(e),e.g=null;var r=2}else{if(!Je(e.h,t))return;n=t.D,Ze(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;te(r=we(),new Ce(r,n)),Yt(e)}else Zt(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Qe(e.h)>=e.h.j-(e.s?1:0)||(e.s?(e.i=t.D.concat(e.i),0):1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa)||(e.s=_e(c(e.Ga,e,t),an(e,e.B)),e.B++,0)))}(e,t)||2==r&&en(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:on(e,5);break;case 4:on(e,10);break;case 3:on(e,6);break;default:on(e,2)}}function an(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function on(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new rt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||st(r,"https"),ct(r),t?function(e,t){const n=new Te;if(i.Image){const r=new Image;r.onload=u(Et,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Et,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Et,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Et,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Te;const n=new AbortController,r=setTimeout(()=>{n.abort(),Et(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Et(0,0,!0,t):Et(0,0,!1,t)}).catch(()=>{clearTimeout(r),Et(0,0,!1,t)})}(r.toString(),n)}else Ee(2);e.G=0,e.l&&e.l.sa(t),ln(e),Gt(e)}function ln(e){if(e.G=0,e.ka=[],e.l){const t=et(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function cn(e,t,n){var r=n instanceof rt?it(n):new rt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),at(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new rt(null);r&&st(a,r),t&&(a.g=t),s&&at(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&lt(r,n,t),lt(r,"VER",e.la),Jt(e,r),r}function un(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new Tt({eb:n})):new Mt(e.pa)).Ha(e.J),t}function dn(){}function hn(){}function fn(e,t){ee.call(this),this.g=new $t(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new gn(this)}function pn(e){ge.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function mn(){ve.call(this),this.status=1}function gn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ne.g(),this.v=this.o?fe(this.o):fe(Ne),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Ot(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Lt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Ot(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,te(this,"complete"),te(this,"abort"),zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zt(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ft(this):this.bb())},e.bb=function(){Ft(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Bt(this)?this.g.status:-1}catch(e){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ue(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=$t.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ee(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=cn(this,null,this.W),Yt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new De(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),x(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Xt(this,i,t),lt(n=it(this.I),"RID",e),lt(n,"CVER",22),this.D&&lt(n,"X-HTTP-Session-Id",this.D),Jt(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Pt(s)))+"&"+t:this.m&&Dt(n,this.m,s)),Xe(this.h,i),this.Ua&&lt(n,"TYPE","init"),this.P?(lt(n,"$req",t),lt(n,"SID","null"),i.T=!0,Oe(i,n,null)):Oe(i,n,t),this.G=2}}else 3==this.G&&(e?Qt(this,e):0==this.i.length||Ye(this.h)||Qt(this))},e.Fa=function(){if(this.u=null,nn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=_e(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),Kt(this),nn(this))},e.Za=function(){null!=this.C&&(this.C=null,Kt(this),en(this),Ee(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=dn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},hn.prototype.g=function(e,t){return new fn(e,t)},d(fn,ee),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){qt(this.g)},fn.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ce(e),e=n);t.i.push(new Ke(t.Ya++,e)),3==t.G&&Yt(t)},fn.prototype.N=function(){this.g.l=null,delete this.j,qt(this.g),delete this.g,fn.aa.N.call(this)},d(pn,ge),d(mn,ve),d(gn,dn),gn.prototype.ua=function(){te(this.g,"a")},gn.prototype.ta=function(e){te(this.g,new pn(e))},gn.prototype.sa=function(e){te(this.g,new mn)},gn.prototype.ra=function(){te(this.g,"b")},hn.prototype.createWebChannel=hn.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,Tf=function(){return new hn},_f=function(){return we()},Cf=ye,Ef={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,kf=Ae,Re.COMPLETE="complete",Sf=Re,pe.EventType=me,me.OPEN="a",me.CLOSE="b",me.ERROR="c",me.MESSAGE="d",ee.prototype.listen=ee.prototype.K,xf=pe,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,wf=Mt}).apply(void 0!==If?If:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const Nf="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Af.UNAUTHENTICATED=new Af(null),Af.GOOGLE_CREDENTIALS=new Af("google-credentials-uid"),Af.FIRST_PARTY=new Af("first-party-uid"),Af.MOCK_USER=new Af("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Rf="10.14.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf=new ga("@firebase/firestore");function Df(){return Pf.logLevel}function Mf(e,...t){if(Pf.logLevel<=ua.DEBUG){const n=t.map(Of);Pf.debug(`Firestore (${Rf}): ${e}`,...n)}}function jf(e,...t){if(Pf.logLevel<=ua.ERROR){const n=t.map(Of);Pf.error(`Firestore (${Rf}): ${e}`,...n)}}function Lf(e,...t){if(Pf.logLevel<=ua.WARN){const n=t.map(Of);Pf.warn(`Firestore (${Rf}): ${e}`,...n)}}function Of(e){if("string"==typeof e)return e;try{
/**
    * @license
    * Copyright 2020 Google LLC
    *
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    *   http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    */
return t=e,JSON.stringify(t)}catch(n){return e}var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(e="Unexpected state"){const t=`FIRESTORE (${Rf}) INTERNAL ASSERTION FAILED: `+e;throw jf(t),new Error(t)}function Ff(e,t){e||Uf()}function zf(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Bf extends qs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $f{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Af.UNAUTHENTICATED))}shutdown(){}}class qf{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Kf{constructor(e){this.t=e,this.currentUser=Af.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ff(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Hf;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Hf,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{Mf("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Mf("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Hf)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Mf("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ff("string"==typeof t.accessToken),new Wf(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ff(null===e||"string"==typeof e),new Af(e)}}class Gf{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Af.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Yf{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Gf(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Af.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qf{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jf{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ff(void 0===this.o);const n=e=>{null!=e.error&&Mf("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Mf("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Mf("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Mf("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Ff("string"==typeof e.token),this.R=e.token,new Qf(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Xf(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function ep(e,t){return e<t?-1:e>t?1:0}function tp(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Bf(Vf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Bf(Vf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Bf(Vf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Bf(Vf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return np.fromMillis(Date.now())}static fromDate(e){return np.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new np(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ep(this.nanoseconds,e.nanoseconds):ep(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e){this.timestamp=e}static fromTimestamp(e){return new rp(e)}static min(){return new rp(new np(0,0))}static max(){return new rp(new np(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,t,n){void 0===t?t=0:t>e.length&&Uf(),void 0===n?n=e.length-t:n>e.length-t&&Uf(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ip.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ip?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class sp extends ip{construct(e,t,n){return new sp(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Bf(Vf.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new sp(t)}static emptyPath(){return new sp([])}}const ap=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class op extends ip{construct(e,t,n){return new op(e,t,n)}static isValidIdentifier(e){return ap.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),op.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new op(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Bf(Vf.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Bf(Vf.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Bf(Vf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Bf(Vf.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new op(t)}static emptyPath(){return new op([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this.path=e}static fromPath(e){return new lp(sp.fromString(e))}static fromName(e){return new lp(sp.fromString(e).popFirst(5))}static empty(){return new lp(sp.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===sp.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return sp.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new lp(new sp(e.slice()))}}function cp(e){return new up(e.readTime,e.key,-1)}class up{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new up(rp.min(),lp.empty(),-1)}static max(){return new up(rp.max(),lp.empty(),-1)}}function dp(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=lp.comparator(e.documentKey,t.documentKey),0!==n?n:ep(e.largestBatchId,t.largestBatchId)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}class hp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fp(e){if(e.code!==Vf.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;Mf("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Uf(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pp((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pp?t:pp.resolve(t)}catch(t){return pp.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pp.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pp.reject(t)}static resolve(e){return new pp((t,n)=>{t(e)})}static reject(e){return new pp((t,n)=>{n(e)})}static waitFor(e){return new pp((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=pp.resolve(!1);for(const n of e)t=t.next(e=>e?pp.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new pp((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new pp((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function mp(e){return"IndexedDbTransactionError"===e.name}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function vp(e){return null==e}function yp(e){return 0===e&&1/e==-1/0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function bp(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function wp(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function xp(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gp.oe=-1;class Sp{constructor(e,t){this.comparator=e,this.root=t||Ep.EMPTY}insert(e,t){return new Sp(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ep.BLACK,null,null))}remove(e){return new Sp(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ep.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kp(this.root,e,this.comparator,!1)}getReverseIterator(){return new kp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kp(this.root,e,this.comparator,!0)}}class kp{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ep{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ep.RED,this.left=null!=r?r:Ep.EMPTY,this.right=null!=i?i:Ep.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ep(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ep.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ep.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ep.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ep.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Uf();if(this.right.isRed())throw Uf();const e=this.left.check();if(e!==this.right.check())throw Uf();return e+(this.isRed()?0:1)}}Ep.EMPTY=null,Ep.RED=!0,Ep.BLACK=!1,Ep.EMPTY=new class{constructor(){this.size=0}get key(){throw Uf()}get value(){throw Uf()}get color(){throw Uf()}get left(){throw Uf()}get right(){throw Uf()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ep(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Cp{constructor(e){this.comparator=e,this.data=new Sp(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _p(this.data.getIterator())}getIteratorFrom(e){return new _p(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Cp))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Cp(this.comparator);return t.data=e,t}}class _p{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e){this.fields=e,e.sort(op.comparator)}static empty(){return new Tp([])}unionWith(e){let t=new Cp(op.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Tp(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tp(this.fields,e.fields,(e,t)=>e.isEqual(t))}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new Ip("Invalid base64 string: "+t):t}}(e);return new Np(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Np(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ep(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Np.EMPTY_BYTE_STRING=new Np("");const Ap=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rp(e){if(Ff(!!e),"string"==typeof e){let t=0;const n=Ap.exec(e);if(Ff(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Pp(e.seconds),nanos:Pp(e.nanos)}}function Pp(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Dp(e){return"string"==typeof e?Np.fromBase64String(e):Np.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function jp(e){const t=e.mapValue.fields.__previous_value__;return Mp(t)?jp(t):t}function Lp(e){const t=Rp(e.mapValue.fields.__local_write_time__.timestampValue);return new np(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class Up{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Up("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Up&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp={};function zp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Mp(e)?4:function(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)?9007199254740991:function(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}(e)?10:11:Uf()}function Vp(e,t){if(e===t)return!0;const n=zp(e);if(n!==zp(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Lp(e).isEqual(Lp(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Rp(e.timestampValue),r=Rp(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,Dp(e.bytesValue).isEqual(Dp(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Pp(e.geoPointValue.latitude)===Pp(t.geoPointValue.latitude)&&Pp(e.geoPointValue.longitude)===Pp(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Pp(e.integerValue)===Pp(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Pp(e.doubleValue),r=Pp(t.doubleValue);return n===r?yp(n)===yp(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return tp(e.arrayValue.values||[],t.arrayValue.values||[],Vp);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(bp(n)!==bp(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Vp(n[i],r[i])))return!1;return!0}(e,t);default:return Uf()}var r}function Bp(e,t){return void 0!==(e.values||[]).find(e=>Vp(e,t))}function Hp(e,t){if(e===t)return 0;const n=zp(e),r=zp(t);if(n!==r)return ep(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ep(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Pp(e.integerValue||e.doubleValue),r=Pp(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Wp(e.timestampValue,t.timestampValue);case 4:return Wp(Lp(e),Lp(t));case 5:return ep(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Dp(e),r=Dp(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ep(n[i],r[i]);if(0!==e)return e}return ep(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ep(Pp(e.latitude),Pp(t.latitude));return 0!==n?n:ep(Pp(e.longitude),Pp(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return $p(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=o.value)||void 0===r?void 0:r.arrayValue,u=ep((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:$p(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Fp&&t===Fp)return 0;if(e===Fp)return 1;if(t===Fp)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=ep(r[a],s[a]);if(0!==e)return e;const t=Hp(n[r[a]],i[s[a]]);if(0!==t)return t}return ep(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Uf()}}function Wp(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ep(e,t);const n=Rp(e),r=Rp(t),i=ep(n.seconds,r.seconds);return 0!==i?i:ep(n.nanos,r.nanos)}function $p(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Hp(n[i],r[i]);if(e)return e}return ep(n.length,r.length)}function qp(e){return Kp(e)}function Kp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Rp(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Dp(e.bytesValue).toBase64():"referenceValue"in e?function(e){return lp.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Kp(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Kp(e.fields[i])}`;return n+"}"}(e.mapValue):Uf()}function Gp(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Yp(e){return!!e&&"integerValue"in e}function Qp(e){return!!e&&"arrayValue"in e}function Jp(e){return!!e&&"nullValue"in e}function Xp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Zp(e){return!!e&&"mapValue"in e}function em(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return wp(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=em(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=em(e.arrayValue.values[n]);return t}return Object.assign({},e)}class tm{constructor(e){this.value=e}static empty(){return new tm({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Zp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=em(t)}setAll(e){let t=op.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=em(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Zp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vp(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Zp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){wp(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new tm(em(this.value))}}function nm(e){const t=[];return wp(e.fields,(e,n)=>{const r=new op([e]);if(Zp(n)){const e=nm(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Tp(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class rm{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new rm(e,0,rp.min(),rp.min(),rp.min(),tm.empty(),0)}static newFoundDocument(e,t,n,r){return new rm(e,1,t,rp.min(),n,r,0)}static newNoDocument(e,t){return new rm(e,2,t,rp.min(),rp.min(),tm.empty(),0)}static newUnknownDocument(e,t){return new rm(e,3,t,rp.min(),rp.min(),tm.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(rp.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tm.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tm.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rp.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof rm&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rm(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,t){this.position=e,this.inclusive=t}}function sm(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?lp.comparator(lp.fromName(a.referenceValue),n.key):Hp(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function am(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Vp(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,t="asc"){this.field=e,this.dir=t}}function lm(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{}class um extends cm{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new vm(e,t,n):"array-contains"===t?new xm(e,n):"in"===t?new Sm(e,n):"not-in"===t?new km(e,n):"array-contains-any"===t?new Em(e,n):new um(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ym(e,n):new bm(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Hp(t,this.value)):null!==t&&zp(this.value)===zp(t)&&this.matchesComparison(Hp(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Uf()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dm extends cm{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new dm(e,t)}matches(e){return hm(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function hm(e){return"and"===e.op}function fm(e){return function(e){for(const t of e.filters)if(t instanceof dm)return!1;return!0}(e)&&hm(e)}function pm(e){if(e instanceof um)return e.field.canonicalString()+e.op.toString()+qp(e.value);if(fm(e))return e.filters.map(e=>pm(e)).join(",");{const t=e.filters.map(e=>pm(e)).join(",");return`${e.op}(${t})`}}function mm(e,t){return e instanceof um?(n=e,(r=t)instanceof um&&n.op===r.op&&n.field.isEqual(r.field)&&Vp(n.value,r.value)):e instanceof dm?function(e,t){return t instanceof dm&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&mm(n,t.filters[r]),!0)}(e,t):void Uf();var n,r}function gm(e){return e instanceof um?`${(t=e).field.canonicalString()} ${t.op} ${qp(t.value)}`:e instanceof dm?function(e){return e.op.toString()+" {"+e.getFilters().map(gm).join(" ,")+"}"}(e):"Filter";var t}class vm extends um{constructor(e,t,n){super(e,t,n),this.key=lp.fromName(n.referenceValue)}matches(e){const t=lp.comparator(e.key,this.key);return this.matchesComparison(t)}}class ym extends um{constructor(e,t){super(e,"in",t),this.keys=wm("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bm extends um{constructor(e,t){super(e,"not-in",t),this.keys=wm("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function wm(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>lp.fromName(e.referenceValue))}class xm extends um{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qp(t)&&Bp(t.arrayValue,this.value)}}class Sm extends um{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Bp(this.value.arrayValue,t)}}class km extends um{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Bp(this.value.arrayValue,t)}}class Em extends um{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Bp(this.value.arrayValue,e))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,t=null,n=[],r=[],i=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}}function _m(e,t=null,n=[],r=[],i=null,s=null,a=null){return new Cm(e,t,n,r,i,s,a)}function Tm(e){const t=zf(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>pm(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>{return(t=e).field.canonicalString()+t.dir;var t}).join(","),vp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>qp(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>qp(e)).join(",")),t.ue=e}return t.ue}function Im(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!lm(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!mm(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!am(e.startAt,t.startAt)&&am(e.endAt,t.endAt)}function Nm(e){return lp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,t=null,n=[],r=[],i=null,s="F",a=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Rm(e){return new Am(e)}function Pm(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Dm(e){return null!==e.collectionGroup}function Mm(e){const t=zf(e);if(null===t.ce){t.ce=[];const e=new Set;for(const r of t.explicitOrderBy)t.ce.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(e){let t=new Cp(op.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t})(t).forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new om(r,n))}),e.has(op.keyField().canonicalString())||t.ce.push(new om(op.keyField(),n))}return t.ce}function jm(e){const t=zf(e);return t.le||(t.le=function(e,t){if("F"===e.limitType)return _m(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new om(e.field,t)});const n=e.endAt?new im(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new im(e.startAt.position,e.startAt.inclusive):null;return _m(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(t,Mm(e))),t.le}function Lm(e,t){const n=e.filters.concat([t]);return new Am(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Om(e,t,n){return new Am(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Um(e,t){return Im(jm(e),jm(t))&&e.limitType===t.limitType}function Fm(e){return`${Tm(jm(e))}|lt:${e.limitType}`}function zm(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>gm(e)).join(", ")}]`),vp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>{return`${(t=e).field.canonicalString()} (${t.dir})`;var t}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>qp(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>qp(e)).join(",")),`Target(${t})`}(jm(e))}; limitType=${e.limitType})`}function Vm(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):lp.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Mm(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(r=t,!((n=e).startAt&&!function(e,t,n){const r=sm(e,t,n);return e.inclusive?r<=0:r<0}(n.startAt,Mm(n),r)||n.endAt&&!function(e,t,n){const r=sm(e,t,n);return e.inclusive?r>=0:r>0}(n.endAt,Mm(n),r)));var n,r}function Bm(e){return(t,n)=>{let r=!1;for(const i of Mm(e)){const e=Hm(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Hm(e,t,n){const r=e.field.isKeyField()?lp.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Hp(r,i):Uf()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Uf()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){wp(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return xp(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m=new Sp(lp.comparator);function qm(){return $m}const Km=new Sp(lp.comparator);function Gm(...e){let t=Km;for(const n of e)t=t.insert(n.key,n);return t}function Ym(e){let t=Km;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Qm(){return Xm()}function Jm(){return Xm()}function Xm(){return new Wm(e=>e.toString(),(e,t)=>e.isEqual(t))}const Zm=new Sp(lp.comparator),eg=new Cp(lp.comparator);function tg(...e){let t=eg;for(const n of e)t=t.add(n);return t}const ng=new Cp(ep);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function rg(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yp(t)?"-0":t}}function ig(e){return{integerValue:""+e}}function sg(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!yp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?ig(t):rg(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(){this._=void 0}}function og(e,t,n){return e instanceof ug?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Mp(t)&&(t=jp(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof dg?hg(e,t):e instanceof fg?pg(e,t):function(e,t){const n=cg(e,t),r=gg(n)+gg(e.Pe);return Yp(n)&&Yp(e.Pe)?ig(r):rg(e.serializer,r)}(e,t)}function lg(e,t,n){return e instanceof dg?hg(e,t):e instanceof fg?pg(e,t):n}function cg(e,t){return e instanceof mg?Yp(n=t)||(r=n)&&"doubleValue"in r?t:{integerValue:0}:null;var n,r}class ug extends ag{}class dg extends ag{constructor(e){super(),this.elements=e}}function hg(e,t){const n=vg(t);for(const r of e.elements)n.some(e=>Vp(e,r))||n.push(r);return{arrayValue:{values:n}}}class fg extends ag{constructor(e){super(),this.elements=e}}function pg(e,t){let n=vg(t);for(const r of e.elements)n=n.filter(e=>!Vp(e,r));return{arrayValue:{values:n}}}class mg extends ag{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function gg(e){return Pp(e.integerValue||e.doubleValue)}function vg(e){return Qp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class yg{constructor(e,t){this.version=e,this.transformResults=t}}class bg{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bg}static exists(e){return new bg(void 0,e)}static updateTime(e){return new bg(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class xg{}function Sg(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Pg(e.key,bg.none()):new Tg(e.key,e.data,bg.none());{const n=e.data,r=tm.empty();let i=new Cp(op.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ig(e.key,r,new Tp(i.toArray()),bg.none())}}function kg(e,t,n){var r;e instanceof Tg?function(e,t,n){const r=e.value.clone(),i=Ag(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ig?function(e,t,n){if(!wg(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ag(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ng(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):(r=n,t.convertToNoDocument(r.version).setHasCommittedMutations())}function Eg(e,t,n,r){return e instanceof Tg?function(e,t,n,r){if(!wg(e.precondition,t))return n;const i=e.value.clone(),s=Rg(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ig?function(e,t,n,r){if(!wg(e.precondition,t))return n;const i=Rg(e.fieldTransforms,r,t),s=t.data;return s.setAll(Ng(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):(i=t,s=n,wg(e.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):s);var i,s}function Cg(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=cg(r.transform,e||null);null!=i&&(null===n&&(n=tm.empty()),n.set(r.field,i))}return n||null}function _g(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&tp(n,r,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof dg&&r instanceof dg||n instanceof fg&&r instanceof fg?tp(n.elements,r.elements,Vp):n instanceof mg&&r instanceof mg?Vp(n.Pe,r.Pe):n instanceof ug&&r instanceof ug);var n,r}(e,t)))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask)));var n,r}class Tg extends xg{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ig extends xg{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ng(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Ag(e,t,n){const r=new Map;Ff(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,lg(a,o,n[i]))}return r}function Rg(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,og(e,s,t))}return r}class Pg extends xg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dg extends xg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&kg(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Eg(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Eg(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Jm();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Sg(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(rp.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tg())}isEqual(e){return this.batchId===e.batchId&&tp(this.mutations,e.mutations,(e,t)=>_g(e,t))&&tp(this.baseMutations,e.baseMutations,(e,t)=>_g(e,t))}}class jg{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ff(e.mutations.length===n.length);let r=function(){return Zm}();const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new jg(e,t,n,r)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,t){this.count=e,this.unchangedNames=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ug,Fg;function zg(e){if(void 0===e)return jf("GRPC error has no .code"),Vf.UNKNOWN;switch(e){case Ug.OK:return Vf.OK;case Ug.CANCELLED:return Vf.CANCELLED;case Ug.UNKNOWN:return Vf.UNKNOWN;case Ug.DEADLINE_EXCEEDED:return Vf.DEADLINE_EXCEEDED;case Ug.RESOURCE_EXHAUSTED:return Vf.RESOURCE_EXHAUSTED;case Ug.INTERNAL:return Vf.INTERNAL;case Ug.UNAVAILABLE:return Vf.UNAVAILABLE;case Ug.UNAUTHENTICATED:return Vf.UNAUTHENTICATED;case Ug.INVALID_ARGUMENT:return Vf.INVALID_ARGUMENT;case Ug.NOT_FOUND:return Vf.NOT_FOUND;case Ug.ALREADY_EXISTS:return Vf.ALREADY_EXISTS;case Ug.PERMISSION_DENIED:return Vf.PERMISSION_DENIED;case Ug.FAILED_PRECONDITION:return Vf.FAILED_PRECONDITION;case Ug.ABORTED:return Vf.ABORTED;case Ug.OUT_OF_RANGE:return Vf.OUT_OF_RANGE;case Ug.UNIMPLEMENTED:return Vf.UNIMPLEMENTED;case Ug.DATA_LOSS:return Vf.DATA_LOSS;default:return Uf()}}(Fg=Ug||(Ug={}))[Fg.OK=0]="OK",Fg[Fg.CANCELLED=1]="CANCELLED",Fg[Fg.UNKNOWN=2]="UNKNOWN",Fg[Fg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fg[Fg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fg[Fg.NOT_FOUND=5]="NOT_FOUND",Fg[Fg.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fg[Fg.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fg[Fg.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fg[Fg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fg[Fg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fg[Fg.ABORTED=10]="ABORTED",Fg[Fg.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fg[Fg.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fg[Fg.INTERNAL=13]="INTERNAL",Fg[Fg.UNAVAILABLE=14]="UNAVAILABLE",Fg[Fg.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Vg=new vf([4294967295,4294967295],0);function Bg(e){const t=(new TextEncoder).encode(e),n=new yf;return n.update(t),new Uint8Array(n.digest())}function Hg(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new vf([n,r],0),new vf([i,s],0)]}class Wg{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new $g(`Invalid padding: ${t}`);if(n<0)throw new $g(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new $g(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new $g(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=vf.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(vf.fromNumber(n)));return 1===r.compare(Vg)&&(r=new vf([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Bg(e),[n,r]=Hg(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Wg(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.Ie)return;const t=Bg(e),[n,r]=Hg(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class $g extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Kg.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new qg(rp.min(),r,new Sp(ep),qm(),tg())}}class Kg{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Kg(n,t,tg(),tg(),tg())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Yg{constructor(e,t){this.targetId=e,this.me=t}}class Qg{constructor(e,t,n=Np.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Jg{constructor(){this.fe=0,this.ge=ev(),this.pe=Np.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=tg(),t=tg(),n=tg();return this.ge.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Uf()}}),new Kg(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=ev()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ff(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Xg{constructor(e){this.Le=e,this.Be=new Map,this.ke=qm(),this.qe=Zg(),this.Qe=new Sp(ep)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Uf()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((e,n)=>{this.ze(n)&&t(n)})}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(Nm(i))if(0===n){const e=new lp(i.path);this.Ue(t,e,rm.newNoDocument(e,rp.min()))}else Ff(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=Dp(n).toUint8Array()}catch(o){if(o instanceof Ip)return Lf("Decoding the base64 bloom filter in existence filter failed ("+o.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw o}try{a=new Wg(s,r,i)}catch(o){return Lf(o instanceof $g?"BloomFilter error: ":"Applying bloom filter failed: ",o),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Le.tt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.Ue(t,n,null),r++)}),r}rt(e){const t=new Map;this.Be.forEach((n,r)=>{const i=this.Je(r);if(i){if(n.current&&Nm(i.target)){const t=new lp(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,rm.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}});let n=tg();this.qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ke.forEach((t,n)=>n.setReadTime(e));const r=new qg(e,t,this.Qe,this.ke,n);return this.ke=qm(),this.qe=Zg(),this.Qe=new Sp(ep),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Jg,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Cp(ep),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Mf("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Jg),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Zg(){return new Sp(lp.comparator)}function ev(){return new Sp(lp.comparator)}const tv=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),nv=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),rv=(()=>({and:"AND",or:"OR"}))();class iv{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sv(e,t){return e.useProto3Json||vp(t)?t:{value:t}}function av(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ov(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function lv(e,t){return av(e,t.toTimestamp())}function cv(e){return Ff(!!e),rp.fromTimestamp(function(e){const t=Rp(e);return new np(t.seconds,t.nanos)}(e))}function uv(e,t){return dv(e,t).canonicalString()}function dv(e,t){const n=(r=e,new sp(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?n:n.child(t)}function hv(e){const t=sp.fromString(e);return Ff(Av(t)),t}function fv(e,t){return uv(e.databaseId,t.path)}function pv(e,t){const n=hv(t);if(n.get(1)!==e.databaseId.projectId)throw new Bf(Vf.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Bf(Vf.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new lp(vv(n))}function mv(e,t){return uv(e.databaseId,t)}function gv(e){return new sp(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function vv(e){return Ff(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function yv(e,t,n){return{name:fv(e,t),fields:n.value.mapValue.fields}}function bv(e,t){return{documents:[mv(e,t.path)]}}function wv(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mv(e,i);const s=function(e){if(0!==e.length)return Iv(dm.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>{return{field:_v((t=e).field),direction:kv(t.dir)};var t})}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=sv(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i};var l}function xv(e){let t=function(e){const t=hv(e);return 4===t.length?sp.emptyPath():vv(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ff(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Sv(e);return t instanceof dm&&fm(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(e=>{return new om(Tv((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t}));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,vp(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new im(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new im(n,t)}(n.endAt)),function(e,t,n,r,i,s,a,o){return new Am(e,t,n,r,i,s,a,o)}(t,i,a,s,o,"F",l,c)}function Sv(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Tv(e.unaryFilter.field);return um.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Tv(e.unaryFilter.field);return um.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Tv(e.unaryFilter.field);return um.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Tv(e.unaryFilter.field);return um.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Uf()}}(e):void 0!==e.fieldFilter?(t=e,um.create(Tv(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Uf()}}(t.fieldFilter.op),t.fieldFilter.value)):void 0!==e.compositeFilter?function(e){return dm.create(e.compositeFilter.filters.map(e=>Sv(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Uf()}}(e.compositeFilter.op))}(e):Uf();var t}function kv(e){return tv[e]}function Ev(e){return nv[e]}function Cv(e){return rv[e]}function _v(e){return{fieldPath:e.canonicalString()}}function Tv(e){return op.fromServerFormat(e.fieldPath)}function Iv(e){return e instanceof um?function(e){if("=="===e.op){if(Xp(e.value))return{unaryFilter:{field:_v(e.field),op:"IS_NAN"}};if(Jp(e.value))return{unaryFilter:{field:_v(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Xp(e.value))return{unaryFilter:{field:_v(e.field),op:"IS_NOT_NAN"}};if(Jp(e.value))return{unaryFilter:{field:_v(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_v(e.field),op:Ev(e.op),value:e.value}}}(e):e instanceof dm?function(e){const t=e.getFilters().map(e=>Iv(e));return 1===t.length?t[0]:{compositeFilter:{op:Cv(e.op),filters:t}}}(e):Uf()}function Nv(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Av(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,t,n,r,i=rp.min(),s=rp.min(),a=Np.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Rv(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Rv(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e){this.ct=e}}function Dv(e){const t=xv({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Om(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(){this.un=new jv}addToCollectionParentIndex(e,t){return this.un.add(t),pp.resolve()}getCollectionParents(e,t){return pp.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return pp.resolve()}deleteFieldIndex(e,t){return pp.resolve()}deleteAllFieldIndexes(e){return pp.resolve()}createTargetIndexes(e,t){return pp.resolve()}getDocumentsMatchingTarget(e,t){return pp.resolve(null)}getIndexType(e,t){return pp.resolve(0)}getFieldIndexes(e,t){return pp.resolve([])}getNextCollectionGroupToUpdate(e){return pp.resolve(null)}getMinOffset(e,t){return pp.resolve(up.min())}getMinOffsetFromCollectionGroup(e,t){return pp.resolve(up.min())}updateCollectionGroup(e,t,n){return pp.resolve()}updateIndexEntries(e,t){return pp.resolve()}}class jv{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Cp(sp.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Cp(sp.comparator)).toArray()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Lv(0)}static kn(){return new Lv(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(){this.changes=new Wm(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rm.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?pp.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Eg(n.mutation,e,Tp.empty(),np.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,tg()).next(()=>t))}getLocalViewOfDocuments(e,t,n=tg()){const r=Qm();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Gm();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Qm();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,tg()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=qm();const s=Xm(),a=Xm();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Ig)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Eg(a.mutation,t,a.mutation.getFieldMask(),np.now())):s.set(t.key,Tp.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new Uv(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=Xm();let r=new Sp((e,t)=>e-t),i=tg();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Tp.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||tg()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Jm();l.forEach(e=>{if(!i.has(e)){const r=Sg(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return pp.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return i=t,lp.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Dm(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r);var i}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):pp.resolve(Qm());let a=-1,o=i;return s.next(t=>pp.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?pp.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,tg())).next(e=>({batchId:a,changes:Ym(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new lp(t)).next(e=>{let t=Gm();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Gm();return this.indexManager.getCollectionParents(e,i).next(a=>pp.forEach(a,a=>{const o=(l=t,c=a.child(i),new Am(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,rm.newInvalidDocument(r)))});let n=Gm();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&Eg(s.mutation,r,Tp.empty(),np.now()),Vm(t,r)&&(n=n.insert(e,r))}),n})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return pp.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,{id:(n=t).id,version:n.version,createTime:cv(n.createTime)}),pp.resolve();var n}getNamedQuery(e,t){return pp.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,{name:(n=t).name,query:Dv(n.bundledQuery),readTime:cv(n.readTime)}),pp.resolve();var n}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(){this.overlays=new Sp(lp.comparator),this.Ir=new Map}getOverlay(e,t){return pp.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Qm();return pp.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ht(e,t,r)}),pp.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Ir.delete(n)),pp.resolve()}getOverlaysForCollection(e,t,n){const r=Qm(),i=t.length+1,s=new lp(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return pp.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Sp((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Qm(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Qm(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return pp.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Lg(t,n));let i=this.Ir.get(t);void 0===i&&(i=tg(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(){this.sessionToken=Np.EMPTY_BYTE_STRING}getSessionToken(e){return pp.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,pp.resolve()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(){this.Tr=new Cp(Wv.Er),this.dr=new Cp(Wv.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new Wv(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Vr(new Wv(e,t))}mr(e,t){e.forEach(e=>this.removeReference(e,t))}gr(e){const t=new lp(new sp([])),n=new Wv(t,e),r=new Wv(t,e+1),i=[];return this.dr.forEachInRange([n,r],e=>{this.Vr(e),i.push(e.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new lp(new sp([])),n=new Wv(t,e),r=new Wv(t,e+1);let i=tg();return this.dr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Wv(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Wv{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return lp.comparator(e.key,t.key)||ep(e.wr,t.wr)}static Ar(e,t){return ep(e.wr,t.wr)||lp.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Cp(Wv.Er)}checkEmpty(e){return pp.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Mg(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.br=this.br.add(new Wv(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return pp.resolve(s)}lookupMutationBatch(e,t){return pp.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return pp.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return pp.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return pp.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Wv(t,0),r=new Wv(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],e=>{const t=this.Dr(e.wr);i.push(t)}),pp.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Cp(ep);return t.forEach(e=>{const t=new Wv(e,0),r=new Wv(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],e=>{n=n.add(e.wr)})}),pp.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;lp.isDocumentKey(i)||(i=i.child(""));const s=new Wv(new lp(i),0);let a=new Cp(ep);return this.br.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.wr)),!0)},s),pp.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(e=>{const n=this.Dr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Ff(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return pp.forEach(t.mutations,r=>{const i=new Wv(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new Wv(t,0),r=this.br.firstAfterOrEqual(n);return pp.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,pp.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e){this.Mr=e,this.docs=new Sp(lp.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return pp.resolve(n?n.document.mutableCopy():rm.newInvalidDocument(t))}getEntries(e,t){let n=qm();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():rm.newInvalidDocument(e))}),pp.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=qm();const s=t.path,a=new lp(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||dp(cp(a),n)<=0||(r.has(a.key)||Vm(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return pp.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Uf()}Or(e,t){return pp.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Kv(this)}getSize(e){return pp.resolve(this.size)}}class Kv extends Ov{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)}),pp.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e){this.persistence=e,this.Nr=new Wm(e=>Tm(e),Im),this.lastRemoteSnapshotVersion=rp.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Hv,this.targetCount=0,this.kr=Lv.Bn()}forEachTarget(e,t){return this.Nr.forEach((e,n)=>t(n)),pp.resolve()}getLastRemoteSnapshotVersion(e){return pp.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pp.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),pp.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),pp.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Lv(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,pp.resolve()}updateTargetData(e,t){return this.Kn(t),pp.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,pp.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),pp.waitFor(i).next(()=>r)}getTargetCount(e){return pp.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return pp.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),pp.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),pp.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),pp.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return pp.resolve(n)}containsKey(e,t){return pp.resolve(this.Br.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,t){this.qr={},this.overlays={},this.Qr=new gp(0),this.Kr=!1,this.Kr=!0,this.$r=new Bv,this.referenceDelegate=e(this),this.Ur=new Gv(this),this.indexManager=new Mv,this.remoteDocumentCache=new qv(e=>this.referenceDelegate.Wr(e)),this.serializer=new Pv(t),this.Gr=new zv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Vv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new $v(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){Mf("MemoryPersistence","Starting transaction:",e);const r=new Qv(this.Qr.next());return this.referenceDelegate.zr(),n(r).next(e=>this.referenceDelegate.jr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Hr(e,t){return pp.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class Qv extends hp{constructor(e){super(),this.currentSequenceNumber=e}}class Jv{constructor(e){this.persistence=e,this.Jr=new Hv,this.Yr=null}static Zr(e){return new Jv(e)}get Xr(){if(this.Yr)return this.Yr;throw Uf()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),pp.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),pp.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),pp.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(e=>this.Xr.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Xr.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pp.forEach(this.Xr,n=>{const r=lp.fromPath(n);return this.ei(e,r).next(e=>{e||t.removeEntry(r,rp.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return pp.or([()=>pp.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=tg(),r=tg();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Xv(e,t.fromCache,n,r)}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=!zs()&&navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")?8:function(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(Fs())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.Zi(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Zv;return this.Xi(e,t,n).next(r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)})}).next(()=>i.result)}es(e,t,n,r){return n.documentReadCount<this.ji?(Df()<=ua.DEBUG&&Mf("QueryEngine","SDK will not create cache indexes for query:",zm(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),pp.resolve()):(Df()<=ua.DEBUG&&Mf("QueryEngine","Query:",zm(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(Df()<=ua.DEBUG&&Mf("QueryEngine","The SDK decides to create cache indexes for query:",zm(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jm(t))):pp.resolve())}Yi(e,t){if(Pm(t))return pp.resolve(null);let n=jm(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Om(t,null,"F"),n=jm(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=tg(...r);return this.Ji.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.ts(t,r);return this.ns(t,s,i,n.readTime)?this.Yi(e,Om(t,null,"F")):this.rs(e,s,t,n)}))})))}Zi(e,t,n,r){return Pm(t)||r.isEqual(rp.min())?pp.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const s=this.ts(t,i);return this.ns(t,s,n,r)?pp.resolve(null):(Df()<=ua.DEBUG&&Mf("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),zm(t)),this.rs(e,s,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=rp.fromTimestamp(1e9===r?new np(n+1,0):new np(n,r));return new up(i,lp.empty(),t)}(r,-1)).next(e=>e))})}ts(e,t){let n=new Cp(Bm(e));return t.forEach((t,r)=>{Vm(e,r)&&(n=n.add(r))}),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return Df()<=ua.DEBUG&&Mf("QueryEngine","Using full collection scan to execute query:",zm(t)),this.Ji.getDocumentsMatchingQuery(e,t,up.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new Sp(ep),this._s=new Wm(e=>Tm(e),Im),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}async function ny(e,t){const n=zf(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=tg();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({hs:e,removedBatchIds:i,addedBatchIds:s}))})})}function ry(e){const t=zf(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function iy(e,t){const n=zf(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Ur.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Ur.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);var u,d,h;null!==t.targetMismatches.get(o)?c=c.withResumeToken(Np.EMPTY_BYTE_STRING,rp.min()).withLastLimboFreeSnapshotVersion(rp.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),d=c,h=s,(0===(u=l).resumeToken.approximateByteSize()||d.snapshotVersion.toMicroseconds()-u.snapshotVersion.toMicroseconds()>=3e8||h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size>0)&&a.push(n.Ur.updateTargetData(e,c))});let o=qm(),l=tg();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(function(e,t,n){let r=tg(),i=tg();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=qm();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(rp.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Mf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{Ps:r,Is:i}})}(e,s,t.documentUpdates).next(e=>{o=e.Ps,l=e.Is})),!r.isEqual(rp.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next(t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return pp.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.os=i,e))}function sy(e,t){const n=zf(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}async function ay(e,t,n){const r=zf(e),i=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(a){if(!mp(a))throw a;Mf("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function oy(e,t,n){const r=zf(e);let i=rp.min(),s=tg();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=zf(e),i=r._s.get(n);return void 0!==i?pp.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,jm(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:rp.min(),n?s:tg())).next(e=>(function(e,t,n){let r=e.us.get(t)||rp.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.us.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,Ts:s})))}class ly{constructor(){this.activeTargetIds=ng}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cy{constructor(){this.so=new ly,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ly,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{_o(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Mf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Mf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hy=null;function fy(){return null===hy?hy=268435456+Math.round(2147483648*Math.random()):hy++,"0x"+hy.toString(16)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const py={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="WebChannelConnection";class vy extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Fo(){return!1}Mo(e,t,n,r,i){const s=fy(),a=this.xo(e,t.toUriEncodedString());Mf("RestConnection",`Sending RPC '${e}' ${s}:`,a,n);const o={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(o,r,i),this.No(e,a,o,n).then(t=>(Mf("RestConnection",`Received RPC '${e}' ${s}: `,t),t),t=>{throw Lf("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t})}Lo(e,t,n,r,i,s){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Rf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}xo(e,t){const n=py[e];return`${this.Do}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=fy();return new Promise((s,a)=>{const o=new wf;o.setWithCredentials(!0),o.listenOnce(Sf.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case kf.NO_ERROR:const t=o.getResponseJson();Mf(gy,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case kf.TIMEOUT:Mf(gy,`RPC '${e}' ${i} timed out`),a(new Bf(Vf.DEADLINE_EXCEEDED,"Request time out"));break;case kf.HTTP_ERROR:const n=o.getStatus();if(Mf(gy,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Vf).indexOf(t)>=0?t:Vf.UNKNOWN}(t.status);a(new Bf(e,t.message))}else a(new Bf(Vf.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Bf(Vf.UNAVAILABLE,"Connection failed."));break;default:Uf()}}finally{Mf(gy,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(r);Mf(gy,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)})}Bo(e,t,n){const r=fy(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Tf(),a=_f(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Mf(gy,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);let d=!1,h=!1;const f=new my({Io:t=>{h?Mf(gy,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Mf(gy,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),Mf(gy,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},To:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(t){setTimeout(()=>{throw t},0)}})};return p(u,xf.EventType.OPEN,()=>{h||(Mf(gy,`RPC '${e}' stream ${r} transport opened.`),f.yo())}),p(u,xf.EventType.CLOSE,()=>{h||(h=!0,Mf(gy,`RPC '${e}' stream ${r} transport closed`),f.So())}),p(u,xf.EventType.ERROR,t=>{h||(h=!0,Lf(gy,`RPC '${e}' stream ${r} transport errored:`,t),f.So(new Bf(Vf.UNAVAILABLE,"The operation could not be completed")))}),p(u,xf.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];Ff(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){Mf(gy,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=Ug[e];if(void 0!==t)return zg(t)}(t),i=a.message;void 0===n&&(n=Vf.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.So(new Bf(n,i)),u.close()}else Mf(gy,`RPC '${e}' stream ${r} received:`,i),f.bo(i)}}),p(a,Cf.STAT_EVENT,t=>{t.stat===Ef.PROXY?Mf(gy,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Ef.NOPROXY&&Mf(gy,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.wo()},0),f}}function yy(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(e){return new iv(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,t,n=1e3,r=1.5,i=6e4){this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&Mf("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,t,n,r,i,s,a,o){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new wy(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===Vf.RESOURCE_EXHAUSTED?(jf(t.toString()),jf("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Vf.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.Yo===t&&this.P_(e,n)},t=>{e(()=>{const e=new Bf(Vf.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(e=>{n(()=>this.I_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.e_?this.E_(e):this.onNext(e))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Mf("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Mf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Sy extends xy{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:Uf(),s=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Ff(void 0===t||"string"==typeof t),Np.fromBase64String(t||"")):(Ff(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Np.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,l=o&&function(e){const t=void 0===e.code?Vf.UNKNOWN:zg(e.code);return new Bf(t,e.message||"")}(o);n=new Qg(i,s,a,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=pv(e,r.document.name),s=cv(r.document.updateTime),a=r.document.createTime?cv(r.document.createTime):rp.min(),o=new tm({mapValue:{fields:r.document.fields}}),l=rm.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Gg(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=pv(e,r.document),s=r.readTime?cv(r.readTime):rp.min(),a=rm.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Gg([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=pv(e,r.document),s=r.removedTargetIds||[];n=new Gg([],s,i,null)}else{if(!("filter"in t))return Uf();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Og(r,i),a=e.targetId;n=new Yg(a,s)}}var r;return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return rp.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?rp.min():t.readTime?cv(t.readTime):rp.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=gv(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Nm(r)?{documents:bv(e,r)}:{query:wv(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ov(e,t.resumeToken);const r=sv(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(rp.min())>0){n.readTime=av(e,t.snapshotVersion.toTimestamp());const r=sv(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Uf()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=gv(this.serializer),t.removeTarget=e,this.a_(t)}}class ky extends xy{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Ff(!!e.streamToken),this.lastStreamToken=e.streamToken,Ff(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Ff(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(Ff(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?cv(e.updateTime):cv(t);return n.isEqual(rp.min())&&(n=cv(t)),new yg(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=cv(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=gv(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>function(e,t){let n;if(t instanceof Tg)n={update:yv(e,t.key,t.value)};else if(t instanceof Pg)n={delete:fv(e,t.key)};else if(t instanceof Ig)n={update:yv(e,t.key,t.data),updateMask:Nv(t.fieldMask)};else{if(!(t instanceof Dg))return Uf();n={verify:fv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof ug)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof dg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof fg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof mg)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Uf()}(0,e))),t.precondition.isNone||(n.currentDocument=(r=e,void 0!==(i=t.precondition).updateTime?{updateTime:lv(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Uf())),n;var r,i}(this.serializer,e))};this.a_(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Bf(Vf.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Mo(e,dv(t,n),r,i,s)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Vf.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Bf(Vf.UNKNOWN,e.toString())})}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,dv(t,n),r,s,a,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Vf.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Bf(Vf.UNKNOWN,e.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Cy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(jf(t),this.D_=!1):Mf("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(e=>{n.enqueueAndForget(async()=>{jy(this)&&(Mf("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=zf(e);t.L_.add(4),await Iy(t),t.q_.set("Unknown"),t.L_.delete(4),await Ty(t)}(this))})}),this.q_=new Cy(n,r)}}async function Ty(e){if(jy(e))for(const t of e.B_)await t(!0)}async function Iy(e){for(const t of e.B_)await t(!1)}function Ny(e,t){const n=zf(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),My(n)?Dy(n):Zy(n).r_()&&Ry(n,t))}function Ay(e,t){const n=zf(e),r=Zy(n);n.N_.delete(t),r.r_()&&Py(n,t),0===n.N_.size&&(r.r_()?r.o_():jy(n)&&n.q_.set("Unknown"))}function Ry(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(rp.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Zy(e).A_(t)}function Py(e,t){e.Q_.xe(t),Zy(e).R_(t)}function Dy(e){e.Q_=new Xg({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Zy(e).start(),e.q_.v_()}function My(e){return jy(e)&&!Zy(e).n_()&&e.N_.size>0}function jy(e){return 0===zf(e).L_.size}function Ly(e){e.Q_=void 0}async function Oy(e){e.q_.set("Online")}async function Uy(e){e.N_.forEach((t,n)=>{Ry(e,t)})}async function Fy(e,t){Ly(e),My(e)?(e.q_.M_(t),Dy(e)):e.q_.set("Unknown")}async function zy(e,t,n){if(e.q_.set("Online"),t instanceof Qg&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(r){Mf("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Vy(e,r)}else if(t instanceof Gg?e.Q_.Ke(t):t instanceof Yg?e.Q_.He(t):e.Q_.We(t),!n.isEqual(rp.min()))try{const t=await ry(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(Np.EMPTY_BYTE_STRING,r.snapshotVersion)),Py(e,t);const i=new Rv(r.target,t,n,r.sequenceNumber);Ry(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(i){Mf("RemoteStore","Failed to raise snapshot:",i),await Vy(e,i)}}async function Vy(e,t,n){if(!mp(t))throw t;e.L_.add(1),await Iy(e),e.q_.set("Offline"),n||(n=()=>ry(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Mf("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Ty(e)})}function By(e,t){return t().catch(n=>Vy(e,n,t))}async function Hy(e){const t=zf(e),n=eb(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Wy(t);)try{const e=await sy(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,$y(t,e)}catch(i){await Vy(t,i)}qy(t)&&Ky(t)}function Wy(e){return jy(e)&&e.O_.length<10}function $y(e,t){e.O_.push(t);const n=eb(e);n.r_()&&n.V_&&n.m_(t.mutations)}function qy(e){return jy(e)&&!eb(e).n_()&&e.O_.length>0}function Ky(e){eb(e).start()}async function Gy(e){eb(e).p_()}async function Yy(e){const t=eb(e);for(const n of e.O_)t.m_(n.mutations)}async function Qy(e,t,n){const r=e.O_.shift(),i=jg.from(r,t,n);await By(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Hy(e)}async function Jy(e,t){t&&eb(e).V_&&await async function(e,t){if(function(e){switch(e){default:return Uf();case Vf.CANCELLED:case Vf.UNKNOWN:case Vf.DEADLINE_EXCEEDED:case Vf.RESOURCE_EXHAUSTED:case Vf.INTERNAL:case Vf.UNAVAILABLE:case Vf.UNAUTHENTICATED:return!1;case Vf.INVALID_ARGUMENT:case Vf.NOT_FOUND:case Vf.ALREADY_EXISTS:case Vf.PERMISSION_DENIED:case Vf.FAILED_PRECONDITION:case Vf.ABORTED:case Vf.OUT_OF_RANGE:case Vf.UNIMPLEMENTED:case Vf.DATA_LOSS:return!0}}(n=t.code)&&n!==Vf.ABORTED){const n=e.O_.shift();eb(e).s_(),await By(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Hy(e)}var n}(e,t),qy(e)&&Ky(e)}async function Xy(e,t){const n=zf(e);n.asyncQueue.verifyOperationInProgress(),Mf("RemoteStore","RemoteStore received new credentials");const r=jy(n);n.L_.add(3),await Iy(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Ty(n)}function Zy(e){return e.K_||(e.K_=function(e,t,n){const r=zf(e);return r.w_(),new Sy(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:Oy.bind(null,e),Ro:Uy.bind(null,e),mo:Fy.bind(null,e),d_:zy.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),My(e)?Dy(e):e.q_.set("Unknown")):(await e.K_.stop(),Ly(e))})),e.K_}function eb(e){return e.U_||(e.U_=function(e,t,n){const r=zf(e);return r.w_(),new ky(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Gy.bind(null,e),mo:Jy.bind(null,e),f_:Yy.bind(null,e),g_:Qy.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await Hy(e)):(await e.U_.stop(),e.O_.length>0&&(Mf("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class tb{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Hf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new tb(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Bf(Vf.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nb(e,t){if(jf("AsyncQueue",`${t}: ${e}`),mp(e))return new Bf(Vf.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this.comparator=e?(t,n)=>e(t,n)||lp.comparator(t.key,n.key):(e,t)=>lp.comparator(e.key,t.key),this.keyedMap=Gm(),this.sortedSet=new Sp(this.comparator)}static emptySet(e){return new rb(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof rb))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new rb;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this.W_=new Sp(lp.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Uf():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class sb{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new sb(e,t,rb.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Um(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class ob{constructor(){this.queries=lb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=zf(e),r=n.queries;n.queries=lb(),r.forEach((e,n)=>{for(const r of n.j_)r.onError(t)})}(this,new Bf(Vf.ABORTED,"Firestore shutting down"))}}function lb(){return new Wm(e=>Fm(e),Um)}async function cb(e,t){const n=zf(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new ab,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const e=nb(a,`Initialization of query '${zm(t.query)}' failed`);return void t.onError(e)}n.queries.set(i,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&fb(n)}async function ub(e,t){const n=zf(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function db(e,t){const n=zf(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&fb(n)}function hb(e,t,n){const r=zf(e),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(t)}function fb(e){e.Y_.forEach(e=>{e.next()})}var pb,mb;(mb=pb||(pb={})).ea="default",mb.Cache="cache";class gb{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new sb(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=sb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==pb.Cache}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e){this.key=e}}class yb{constructor(e){this.key=e}}class bb{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=tg(),this.mutatedKeys=tg(),this.Aa=Bm(e),this.Ra=new rb(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new ib,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Vm(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Aa(u,o)>0||l&&this.Aa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Uf()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc)),this.pa(n),r=null!=r&&r;const a=t&&!r?this.ya():[],o=0===this.da.size&&this.current&&!r?1:0,l=o!==this.Ea;return this.Ea=o,0!==s.length||l?{snapshot:new sb(this.query,e.Ra,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ib,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=tg(),this.Ra.forEach(e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))});const t=[];return e.forEach(e=>{this.da.has(e)||t.push(new yb(e))}),this.da.forEach(n=>{e.has(n)||t.push(new vb(n))}),t}ba(e){this.Ta=e.Ts,this.da=tg();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return sb.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class wb{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class xb{constructor(e){this.key=e,this.va=!1}}class Sb{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Wm(e=>Fm(e),Um),this.Ma=new Map,this.xa=new Set,this.Oa=new Sp(lp.comparator),this.Na=new Map,this.La=new Hv,this.Ba={},this.ka=new Map,this.qa=Lv.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function kb(e,t,n=!0){const r=Wb(e);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Cb(r,t,n,!0),i}async function Eb(e,t){const n=Wb(e);await Cb(n,t,!0,!1)}async function Cb(e,t,n,r){const i=await function(e,t){const n=zf(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Ur.getTargetData(e,t).next(i=>i?(r=i,pp.resolve(r)):n.Ur.allocateTargetId(e).next(i=>(r=new Rv(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e})}(e.localStore,jm(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await async function(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await oy(e.localStore,t.query,!1).then(({documents:e})=>t.view.ma(e,i)));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Ub(e,t.targetId,o.wa),o.snapshot}(e,t,n,r);const s=await oy(e.localStore,t,!0),a=new bb(t,s.Ts),o=a.ma(s.documents),l=Kg.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Ub(e,n,c.wa);const u=new wb(t,n,a);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Ny(e.remoteStore,i),o}async function _b(e,t,n){const r=zf(e),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(e=>!Um(e,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ay(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ay(r.remoteStore,i.targetId),Lb(r,i.targetId)}).catch(fp)):(Lb(r,i.targetId),await ay(r.localStore,i.targetId,!0))}async function Tb(e,t){const n=zf(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ay(n.remoteStore,r.targetId))}async function Ib(e,t,n){const r=function(e){const t=zf(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Pb.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Db.bind(null,t),t}(e);try{const e=await function(e,t){const n=zf(e),r=np.now(),i=t.reduce((e,t)=>e.add(t.key),tg());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=qm(),l=tg();return n.cs.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=Cg(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Ig(e.key,t,nm(t.value.mapValue),bg.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Ym(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new Sp(ep)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await Vb(r,e.changes),await Hy(r.remoteStore)}catch(i){const e=nb(i,"Failed to persist write");n.reject(e)}}async function Nb(e,t){const n=zf(e);try{const e=await iy(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Na.get(t);r&&(Ff(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?Ff(r.va):e.removedDocuments.size>0&&(Ff(r.va),r.va=!1))}),await Vb(n,e,t)}catch(r){await fp(r)}}function Ab(e,t,n){const r=zf(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=zf(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)}),r&&fb(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Rb(e,t,n){const r=zf(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),s=i&&i.key;if(s){let e=new Sp(lp.comparator);e=e.insert(s,rm.newNoDocument(s,rp.min()));const n=tg().add(s),i=new qg(rp.min(),new Map,new Sp(ep),e,n);await Nb(r,i),r.Oa=r.Oa.remove(s),r.Na.delete(t),zb(r)}else await ay(r.localStore,t,!1).then(()=>Lb(r,t,n)).catch(fp)}async function Pb(e,t){const n=zf(e),r=t.batch.batchId;try{const e=await function(e,t){const n=zf(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=pp.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Ff(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=tg();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);jb(n,r,null),Mb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vb(n,e)}catch(i){await fp(i)}}async function Db(e,t,n){const r=zf(e);try{const e=await function(e,t){const n=zf(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Ff(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);jb(r,t,n),Mb(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Vb(r,e)}catch(i){await fp(i)}}function Mb(e,t){(e.ka.get(t)||[]).forEach(e=>{e.resolve()}),e.ka.delete(t)}function jb(e,t,n){const r=zf(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function Lb(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(t=>{e.La.containsKey(t)||Ob(e,t)})}function Ob(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(Ay(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),zb(e))}function Ub(e,t,n){for(const r of n)r instanceof vb?(e.La.addReference(r.key,t),Fb(e,r)):r instanceof yb?(Mf("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||Ob(e,r.key)):Uf()}function Fb(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(Mf("SyncEngine","New document in limbo: "+n),e.xa.add(r),zb(e))}function zb(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new lp(sp.fromString(t)),r=e.qa.next();e.Na.set(r,new xb(n)),e.Oa=e.Oa.insert(n,r),Ny(e.remoteStore,new Rv(jm(Rm(n.path)),r,"TargetPurposeLimboResolution",gp.oe))}}async function Vb(e,t,n){const r=zf(e),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((e,o)=>{a.push(r.Ka(o,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Xv.Wi(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(e,t){const n=zf(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>pp.forEach(t,t=>pp.forEach(t.$i,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>pp.forEach(t.Ui,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(r){if(!mp(r))throw r;Mf("LocalStore","Failed to update sequence numbers: "+r)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,s))}async function Bb(e,t){const n=zf(e);if(!n.currentUser.isEqual(t)){Mf("SyncEngine","User change. New user:",t.toKey());const e=await ny(n.localStore,t);n.currentUser=t,i="'waitForPendingWrites' promise is rejected due to a user change.",(r=n).ka.forEach(e=>{e.forEach(e=>{e.reject(new Bf(Vf.CANCELLED,i))})}),r.ka.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Vb(n,e.hs)}var r,i}function Hb(e,t){const n=zf(e),r=n.Na.get(t);if(r&&r.va)return tg().add(r.key);{let e=tg();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function Wb(e){const t=zf(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Nb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hb.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Rb.bind(null,t),t.Ca.d_=db.bind(null,t.eventManager),t.Ca.$a=hb.bind(null,t.eventManager),t}class $b{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=by(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return function(e,t,n,r){return new ty(e,t,n,r)}(this.persistence,new ey,e.initialUser,this.serializer)}Ga(e){return new Yv(Jv.Zr,this.serializer)}Wa(e){return new cy}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$b.provider={build:()=>new $b};class qb{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ab(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bb.bind(null,this.syncEngine),await async function(e,t){const n=zf(e);t?(n.L_.delete(2),await Ty(n)):t||(n.L_.add(2),await Iy(n),n.q_.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ob}createDatastore(e){const t=by(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new vy(r));var r;return function(e,t,n,r){return new Ey(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Ab(this.syncEngine,e,0),s=dy.D()?new dy:new uy,new _y(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Sb(e,t,n,r,i,s);return a&&(o.Qa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=zf(e);Mf("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await Iy(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}qb.provider={build:()=>new qb};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Kb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):jf("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Af.UNAUTHENTICATED,this.clientId=Zf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Mf("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Mf("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=nb(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Yb(e,t){e.asyncQueue.verifyOperationInProgress(),Mf("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await ny(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Qb(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Mf("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yb(e,e._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!("FirebaseError"===(n=i).name?n.code===Vf.FAILED_PRECONDITION||n.code===Vf.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code))throw i;Lf("Error using user provided cache. Falling back to memory cache: "+i),await Yb(e,new $b)}}else Mf("FirestoreClient","Using default OfflineComponentProvider"),await Yb(e,new $b);var n;return e._offlineComponents}(e);Mf("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Xy(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Xy(t.remoteStore,n)),e._onlineComponents=t}async function Jb(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Mf("FirestoreClient","Using user provided OnlineComponentProvider"),await Qb(e,e._uninitializedComponentsProvider._online)):(Mf("FirestoreClient","Using default OnlineComponentProvider"),await Qb(e,new qb))),e._onlineComponents}async function Xb(e){const t=await Jb(e),n=t.eventManager;return n.onListen=kb.bind(null,t.syncEngine),n.onUnlisten=_b.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Eb.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Tb.bind(null,t.syncEngine),n}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Zb(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const ew=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(e,t,n){if(!n)throw new Bf(Vf.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function nw(e){if(!lp.isDocumentKey(e))throw new Bf(Vf.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function rw(e){if(lp.isDocumentKey(e))throw new Bf(Vf.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function iw(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof e?"a function":Uf()}function sw(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Bf(Vf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=iw(e);throw new Bf(Vf.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Bf(Vf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Bf(Vf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Bf(Vf.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zb(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Bf(Vf.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Bf(Vf.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Bf(Vf.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class ow{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Bf(Vf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Bf(Vf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aw(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new $f;switch(e.type){case"firstParty":return new Yf(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Bf(Vf.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ew.get(e);t&&(Mf("ComponentProvider","Removing Datastore"),ew.delete(e),t.terminate())}(this),Promise.resolve()}}function lw(e,t,n,r={}){var i;const s=(e=sw(e,ow))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&Lf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Af.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Is(JSON.stringify({alg:"none",type:"JWT"})),Is(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Bf(Vf.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Af(s)}e._authCredentials=new qf(new Wf(t,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new cw(this.firestore,e,this._query)}}class uw{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dw(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new uw(this.firestore,e,this._key)}}class dw extends cw{constructor(e,t,n){super(e,t,Rm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new uw(this.firestore,null,new lp(e))}withConverter(e){return new dw(this.firestore,e,this._path)}}function hw(e,t,...n){if(e=ia(e),1===arguments.length&&(t=Zf.newId()),tw("doc","path",t),e instanceof ow){const r=sp.fromString(t,...n);return nw(r),new uw(e,null,new lp(r))}{if(!(e instanceof uw||e instanceof dw))throw new Bf(Vf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(sp.fromString(t,...n));return nw(r),new uw(e.firestore,e instanceof dw?e.converter:null,new lp(r))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new wy(this,"async_queue_retry"),this.Vu=()=>{const e=yy();e&&Mf("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=yy();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=yy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Hf;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(cE){if(!mp(cE))throw cE;Mf("AsyncQueue","Operation failed with retryable error: "+cE)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(e=>{this.Eu=e,this.du=!1;throw jf("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.du=!1,e))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=tb.createAndSchedule(this,e,t,n,e=>this.yu(e));return this.Tu.push(r),r}fu(){this.Eu&&Uf()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class pw extends ow{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new fw,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fw(e),this._firestoreClient=void 0,await e}}}function mw(e){if(e._terminated)throw new Bf(Vf.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){var t,n,r;const i=e._freezeSettings(),s=(a=e._databaseId,o=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",l=e._persistenceKey,c=i,new Op(a,o,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Zb(c.experimentalLongPollingOptions),c.useFetchStreams));var a,o,l,c;e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Gb(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e),e._firestoreClient}class gw{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gw(Np.fromBase64String(e))}catch(t){throw new Bf(Vf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gw(Np.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Bf(Vf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new op(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Bf(Vf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Bf(Vf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ep(this._lat,e._lat)||ep(this._long,e._long)}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=/^__.*__$/;class Sw{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ig(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tg(e,this.data,t,this.fieldTransforms)}}function kw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Uf()}}class Ew{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Ew(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return jw(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(kw(this.Cu)&&xw.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Cw{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||by(e)}Qu(e,t,n,r=!1){return new Ew({Cu:e,methodName:t,qu:n,path:op.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _w(e){const t=e._freezeSettings(),n=by(e._databaseId);return new Cw(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Tw(e,t,n,r,i,s={}){const a=e.Qu(s.merge||s.mergeFields?2:0,t,n,i);Rw("Data must be an object, but it was:",a,r);const o=Nw(r,a);let l,c;if(s.merge)l=new Tp(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Pw(t,r,n);if(!a.contains(i))throw new Bf(Vf.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Lw(e,i)||e.push(i)}l=new Tp(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new Sw(new tm(o),l,c)}function Iw(e,t){if(Aw(e=ia(e)))return Rw("Unsupported field value:",t,e),Nw(e,t);if(e instanceof yw)return function(e,t){if(!kw(t.Cu))throw t.Bu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Bu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Iw(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ia(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return sg(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=np.fromDate(e);return{timestampValue:av(t.serializer,n)}}if(e instanceof np){const n=new np(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:av(t.serializer,n)}}if(e instanceof bw)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof gw)return{bytesValue:ov(t.serializer,e._byteString)};if(e instanceof uw){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:uv(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof ww)return n=t,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw n.Bu("VectorValues must only contain numeric values.");return rg(n.serializer,e)})}}}}};var n;throw t.Bu(`Unsupported field value: ${iw(e)}`)}(e,t)}function Nw(e,t){const n={};return xp(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wp(e,(e,r)=>{const i=Iw(r,t.Mu(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Aw(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof np||e instanceof bw||e instanceof gw||e instanceof uw||e instanceof yw||e instanceof ww)}function Rw(e,t,n){if(!Aw(n)||("object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))){const r=iw(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}var r}function Pw(e,t,n){if((t=ia(t))instanceof vw)return t._internalPath;if("string"==typeof t)return Mw(e,t);throw jw("Field path arguments must be of type string or ",e,!1,void 0,n)}const Dw=new RegExp("[~\\*/\\[\\]]");function Mw(e,t,n){if(t.search(Dw)>=0)throw jw(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new vw(...t.split("."))._internalPath}catch(r){throw jw(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function jw(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Bf(Vf.INVALID_ARGUMENT,o+e+l)}function Lw(e,t){return e.some(e=>e.isEqual(t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new uw(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Uw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Fw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Uw extends Ow{data(){return super.data()}}function Fw(e,t){return"string"==typeof t?Mw(e,t):t instanceof vw?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{}class Vw extends zw{}class Bw extends Vw{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Bw(e,t,n)}_apply(e){const t=this._parse(e);return Kw(e._query,t),new cw(e.firestore,e.converter,Lm(e._query,t))}_parse(e){const t=_w(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Bf(Vf.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){qw(a,s);const t=[];for(const n of a)t.push($w(r,e,n));o={arrayValue:{values:t}}}else o=$w(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||qw(a,s),o=function(e,t,n,r=!1){return Iw(n,e.Qu(r?4:3,t))}(n,t,a,"in"===s||"not-in"===s);return um.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Hw extends zw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hw(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:dm.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Kw(n,i),n=Lm(n,i)}(e._query,t),new cw(e.firestore,e.converter,Lm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ww extends Vw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ww(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Bf(Vf.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Bf(Vf.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new om(t,n)}(e._query,this._field,this._direction);return new cw(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Am(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function $w(e,t,n){if("string"==typeof(n=ia(n))){if(""===n)throw new Bf(Vf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dm(t)&&-1!==n.indexOf("/"))throw new Bf(Vf.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(sp.fromString(n));if(!lp.isDocumentKey(r))throw new Bf(Vf.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Gp(e,new lp(r))}if(n instanceof uw)return Gp(e,n._key);throw new Bf(Vf.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${iw(n)}.`)}function qw(e,t){if(!Array.isArray(e)||0===e.length)throw new Bf(Vf.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Kw(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Bf(Vf.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Bf(Vf.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Gw{convertValue(e,t="none"){switch(zp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pp(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Dp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Uf()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return wp(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>Pp(e.doubleValue));return new ww(i)}convertGeoPoint(e){return new bw(Pp(e.latitude),Pp(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=jp(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Lp(e));default:return null}}convertTimestamp(e){const t=Rp(e);return new np(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=sp.fromString(e);Ff(Av(n));const r=new Up(n.get(1),n.get(3)),i=new lp(n.popFirst(5));return r.isEqual(t)||jf(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Yw{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qw extends Ow{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Jw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Fw("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Jw extends Qw{data(e={}){return super.data(e)}}class Xw{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Yw(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Jw(this._firestore,this._userDataWriter,n.key,n,new Yw(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Bf(Vf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Jw(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Yw(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Jw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Yw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Zw(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Zw(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Uf()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(e){e=sw(e,uw);const t=sw(e.firestore,pw);return function(e,t,n={}){const r=new Hf;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Kb({next:o=>{s.Za(),t.enqueueAndForget(()=>ub(e,a));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new Bf(Vf.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new Bf(Vf.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new gb(Rm(n.path),s,{includeMetadataChanges:!0,_a:!0});return cb(e,a)}(await Xb(e),e.asyncQueue,t,n,r)),r.promise}(mw(t),e._key).then(n=>function(e,t,n){const r=n.docs.get(t._key),i=new tx(e);return new Qw(e,i,t._key,r,new Yw(n.hasPendingWrites,n.fromCache),t.converter)}(t,e,n))}class tx extends Gw{constructor(e){super(),this.firestore=e}convertBytes(e){return new gw(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new uw(this.firestore,null,t)}}function nx(e){e=sw(e,cw);const t=sw(e.firestore,pw),n=mw(t),r=new tx(t);return function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Bf(Vf.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query),function(e,t,n={}){const r=new Hf;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Kb({next:n=>{s.Za(),t.enqueueAndForget(()=>ub(e,a)),n.fromCache&&"server"===r.source?i.reject(new Bf(Vf.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new gb(n,s,{includeMetadataChanges:!0,_a:!0});return cb(e,a)}(await Xb(e),e.asyncQueue,t,n,r)),r.promise}(n,e._query).then(n=>new Xw(t,r,e,n))}function rx(e,t){return function(e,t){const n=new Hf;return e.asyncQueue.enqueueAndForget(async()=>Ib(await function(e){return Jb(e).then(e=>e.syncEngine)}(e),t,n)),n.promise}(mw(e),t)}!function(e,t=!0){Rf=Eo,vo(new sa("firestore",(e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),s=new pw(new Kf(e.getProvider("auth-internal")),new Jf(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Bf(Vf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Up(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),Io(Nf,"4.7.3",e),Io(Nf,"4.7.3","esm2017")}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ix="functions";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,t,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(e=>this.auth=e,()=>{}),this.messaging||t.get().then(e=>this.messaging=e,()=>{}),this.appCheck||n.get().then(e=>this.appCheck=e,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return null==e?void 0:e.accessToken}catch(cE){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(cE){return}}async getAppCheckToken(e){if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(e)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="us-central1";class ox{constructor(e,t,n,r,i=ax,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new sx(t,n,r),this.cancelAllRequests=new Promise(e=>{this.deleteService=()=>Promise.resolve(e())});try{const e=new URL(i);this.customDomain=e.origin+("/"===e.pathname?"":e.pathname),this.region=ax}catch(cE){this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;if(null!==this.emulatorOrigin){return`${this.emulatorOrigin}/${t}/${this.region}/${e}`}return null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const lx="@firebase/functions",cx="0.11.8";!function(e,t){vo(new sa(ix,(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("messaging-internal"),a=t.getProvider("app-check-internal");return new ox(r,i,s,a,n,e)},"PUBLIC").setMultipleInstances(!0)),Io(lx,cx,t),Io(lx,cx,"esm2017")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(fetch.bind(self));const ux=Co({apiKey:"AIzaSyDBLjHyR3kiZNsoz63ZGpRcHfMoARgnRAA",authDomain:"chop-stop.firebaseapp.com",projectId:"chop-stop",storageBucket:"chop-stop.firebasestorage.app",messagingSenderId:"285885896798",appId:"1:285885896798:web:05ffbca2d4ead63140bccf"}),dx=function(e){const t="string"==typeof e?e:"(default)",n=yo("object"==typeof e?e:_o(),"firestore").getImmediate({identifier:t});if(!n._initialized){const e=js("firestore");e&&lw(n,...e)}return n}(ux),hx=function(e=_o()){const t=yo(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=yo(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Qs(n.getOptions(),null!=t?t:{}))return e;ul(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ih,persistence:[td,Uu,zu]}),r=Os("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>dh)return;const r=null==t?void 0:t.token;hh!==r&&(hh=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){ia(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){ia(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const s=Ms("auth");return s&&Cc(n,`http://${s}`),n}(ux);!function(e=_o(),t=ax){const n=yo(ia(e),ix).getImmediate({identifier:t}),r=js("functions");r&&function(e,t,n){!function(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}(ia(e),t,n)}(n,...r)}(ux);const fx=({onSuccess:e})=>{const t=n.useRef(null);return n.useEffect(()=>{if(t.current){(gf.AuthUI.getInstance()||new gf.AuthUI(hx)).start(t.current,{signInFlow:"popup",signInOptions:[qc.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:(t,n)=>(e?.(t.user),!1)}})}},[e]),i.jsx("div",{ref:t,id:"firebaseui-auth-container"})};function px({isOpen:e,onOpenChange:t}){return i.jsx(gs,{open:e,onOpenChange:t,children:i.jsxs(bs,{className:"sm:max-w-[425px]",children:[i.jsxs(ws,{children:[i.jsx(Ss,{children:"Sign In / Sign Up"}),i.jsx(ks,{children:"Access your saved sessions and personalize your experience."})]}),i.jsx(fx,{onSuccess:()=>t(!1)})]})})}const mx=n.createContext(),gx=({children:e})=>{const[t,r]=n.useState(null),[s,a]=n.useState(!0);return n.useEffect(()=>{const e=(t=e=>{r(e),a(!1)},ia(hx).onAuthStateChanged(t,n,i));var t,n,i;return()=>e()},[]),i.jsx(mx.Provider,{value:{user:t,logout:()=>{ia(hx).signOut()},loading:s},children:e})},vx=()=>n.useContext(mx),yx=[{name:"Chopper",href:"/",icon:Et},{name:"My Sessions",href:"/my-sessions",icon:mt},{name:"Latency Test",href:"/latency-test",icon:$t}];function bx({children:e}){const t=ke(),[r,s]=n.useState(!1),{user:a,logout:o}=vx();return i.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-gray-900 via-purple-900 to-blue-900 text-white font-sans",children:[i.jsxs("div",{className:"relative min-h-screen w-full backdrop-blur-sm",children:[i.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 p-4",children:i.jsxs("div",{className:"container mx-auto flex justify-between items-center p-3 bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl shadow-lg",children:[i.jsxs(qe,{to:"/",className:"flex items-center gap-3",children:[i.jsx(Et,{className:"w-8 h-8 text-cyan-400"}),i.jsx("h1",{className:"text-2xl font-bold tracking-tighter",children:"The Chop Shop"})]}),i.jsxs("nav",{className:"flex items-center gap-2 p-1 bg-white/10 rounded-full border border-white/10",children:[yx.map(e=>i.jsxs(qe,{to:e.href,className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300\n                    "+(t.pathname===e.href?"bg-cyan-400 text-black shadow-md":"text-gray-300 hover:bg-white/10"),children:[i.jsx(e.icon,{className:"w-4 h-4"}),i.jsx("span",{children:e.name})]},e.name)),a?i.jsxs(er,{onClick:o,className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 bg-red-500 hover:bg-red-600 text-white",children:[i.jsx(St,{className:"w-4 h-4"}),i.jsx("span",{children:"Logout"})]}):i.jsxs(er,{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 bg-green-500 hover:bg-green-600 text-white",children:[i.jsx(xt,{className:"w-4 h-4"}),i.jsx("span",{children:"Sign In"})]})]})]})}),i.jsx("main",{className:"pt-28 pb-10",children:i.jsx("div",{className:"container mx-auto",children:e})}),i.jsx("footer",{className:"fixed bottom-0 left-0 right-0 p-4",children:i.jsx("div",{className:"container mx-auto text-center text-xs text-white/40",children:i.jsx("p",{children:"For educational and auditioning purposes only. Please support artists by purchasing their music."})})})]}),i.jsx(px,{isOpen:r,onOpenChange:s})]})}const wx=new class{constructor(){this.dbName="YouTubeAudioSampler",this.dbVersion=1,this.storeName="audioCache",this.db=null,this.isInitialized=!1,this.config={maxStorageSize:524288e3,maxEntries:50,cleanupThreshold:.8,entryTTL:864e5,retryAttempts:3,retryDelay:1e3},this.init=this.init.bind(this),this.store=this.store.bind(this),this.retrieve=this.retrieve.bind(this),this.remove=this.remove.bind(this),this.cleanup=this.cleanup.bind(this),this.clear=this.clear.bind(this),this.getStorageInfo=this.getStorageInfo.bind(this)}async init(){if(!this.isInitialized||!this.db)return new Promise((e,t)=>{const n=indexedDB.open(this.dbName,this.dbVersion);n.onerror=()=>{t(new Error(`IndexedDB initialization failed: ${n.error?.message}`))},n.onsuccess=()=>{this.db=n.result,this.isInitialized=!0,this.db.onerror=e=>{},e()},n.onupgradeneeded=e=>{const t=e.target.result;if(!t.objectStoreNames.contains(this.storeName)){const e=t.createObjectStore(this.storeName,{keyPath:"id"});e.createIndex("timestamp","timestamp",{unique:!1}),e.createIndex("size","size",{unique:!1}),e.createIndex("youtubeUrl","youtubeUrl",{unique:!1})}}})}async store(e,t,n=null){try{await this.ensureInitialized();const r=this.generateId(e),i=this.serializeAudioBuffer(t),s=this.calculateSize(i,n);await this.ensureStorageSpace(s);const a={id:r,youtubeUrl:e,audioData:i,waveformData:n,size:s,timestamp:Date.now(),format:"audiobuffer",sampleRate:t.sampleRate,numberOfChannels:t.numberOfChannels,duration:t.duration};return await this.performStore(a),!0}catch(r){if("QuotaExceededError"===r.name)try{return await this.performEmergencyCleanup(),await this.performStore(entry),!0}catch(i){}throw new Error(`Storage failed: ${r.message}`)}}async retrieve(e){try{await this.ensureInitialized();const t=this.generateId(e),n=await this.performRetrieve(t);if(!n)return null;if(this.isExpired(n))return await this.remove(e),null;const r=this.deserializeAudioBuffer(n.audioData,n.sampleRate,n.numberOfChannels);return await this.updateAccessTime(t),{audioBuffer:r,waveformData:n.waveformData,metadata:{duration:n.duration,sampleRate:n.sampleRate,numberOfChannels:n.numberOfChannels,size:n.size,timestamp:n.timestamp}}}catch(t){return null}}async remove(e){try{await this.ensureInitialized();const t=this.generateId(e);return new Promise((e,n)=>{const r=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).delete(t);r.onsuccess=()=>{e(!0)},r.onerror=()=>{n(new Error(`Failed to remove entry: ${r.error?.message}`))}})}catch(t){return!1}}async has(e){try{await this.ensureInitialized();const t=this.generateId(e),n=await this.performRetrieve(t);return!!n&&(!this.isExpired(n)||(await this.remove(e),!1))}catch(t){return!1}}async cleanup(){try{await this.ensureInitialized();const e=await this.getAllEntries();Date.now();let t=0;e.sort((e,t)=>e.timestamp-t.timestamp);const n=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName);for(const r of e){let i=!1;this.isExpired(r)&&(i=!0),e.length-t>this.config.maxEntries&&(i=!0),i&&(await new Promise((e,t)=>{const i=n.delete(r.id);i.onsuccess=()=>e(),i.onerror=()=>t(i.error)}),t++)}return t}catch(e){return 0}}async clear(){try{return await this.ensureInitialized(),new Promise((e,t)=>{const n=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).clear();n.onsuccess=()=>{e(!0)},n.onerror=()=>{t(new Error(`Failed to clear storage: ${n.error?.message}`))}})}catch(e){return!1}}async getStorageInfo(){try{await this.ensureInitialized();const t=await this.getAllEntries(),n=t.reduce((e,t)=>e+(t.size||0),0),r=t.filter(e=>this.isExpired(e)).length;let i=null,s=null;if("storage"in navigator&&"estimate"in navigator.storage)try{const e=await navigator.storage.estimate();i=e.quota,s=e.usage}catch(e){}return{entryCount:t.length,expiredCount:r,totalSize:n,totalSizeMB:Math.round(n/1048576*100)/100,maxEntries:this.config.maxEntries,maxSize:this.config.maxStorageSize,maxSizeMB:Math.round(this.config.maxStorageSize/1048576),quota:i,usage:s,utilizationPercent:i?Math.round(s/i*100):null,oldestEntry:t.length>0?Math.min(...t.map(e=>e.timestamp)):null,newestEntry:t.length>0?Math.max(...t.map(e=>e.timestamp)):null}}catch(e){return{entryCount:0,expiredCount:0,totalSize:0,error:e.message}}}async ensureInitialized(){this.isInitialized||await this.init()}generateId(e){const t=e.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/);return t?`yt_${t[1]}`:`url_${btoa(e).replace(/[^a-zA-Z0-9]/g,"")}`}serializeAudioBuffer(e){const t=[];for(let n=0;n<e.numberOfChannels;n++){const r=e.getChannelData(n);t.push(Array.from(r))}return{channels:t,sampleRate:e.sampleRate,numberOfChannels:e.numberOfChannels,duration:e.duration}}deserializeAudioBuffer(e,t,n){const r=new(window.AudioContext||window.webkitAudioContext),i=e.channels[0].length,s=r.createBuffer(n,i,t);for(let a=0;a<n;a++){const t=s.getChannelData(a),n=e.channels[a];for(let e=0;e<i;e++)t[e]=n[e]}return s}calculateSize(e,t){let n=0;if(e&&e.channels)for(const r of e.channels)n+=4*r.length;return t&&(n+=4*t.length),n+=1024,n}async ensureStorageSpace(e){(await this.getStorageInfo()).totalSize+e>this.config.maxStorageSize*this.config.cleanupThreshold&&await this.cleanup();if((await this.getStorageInfo()).totalSize+e>this.config.maxStorageSize)throw new Error("Insufficient storage space available")}async performEmergencyCleanup(){const e=await this.getAllEntries();e.sort((e,t)=>e.timestamp-t.timestamp);const t=e.slice(0,Math.floor(e.length/2)),n=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName);for(const r of t)await new Promise((e,t)=>{const i=n.delete(r.id);i.onsuccess=()=>e(),i.onerror=()=>t(i.error)})}async performStore(e){return new Promise((t,n)=>{const r=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).put(e);r.onsuccess=()=>t(),r.onerror=()=>n(r.error)})}async performRetrieve(e){return new Promise((t,n)=>{const r=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).get(e);r.onsuccess=()=>t(r.result),r.onerror=()=>n(r.error)})}async updateAccessTime(e){try{const t=await this.performRetrieve(e);t&&(t.lastAccessed=Date.now(),await this.performStore(t))}catch(t){}}async getAllEntries(){return new Promise((e,t)=>{const n=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).getAll();n.onsuccess=()=>e(n.result||[]),n.onerror=()=>t(n.error)})}isExpired(e){return Date.now()-e.timestamp>this.config.entryTTL}formatSize(e){if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB"][t]}async close(){this.db&&(this.db.close(),this.db=null,this.isInitialized=!1)}};wx.init().catch(e=>{}),"undefined"!=typeof window&&(window.addEventListener("beforeunload",()=>{wx.close()}),setInterval(()=>{wx.cleanup().catch(e=>{})},18e5));const xx=new class{constructor(){this.metrics=new Map,this.memorySnapshots=[],this.performanceObserver=null,this.isMonitoring=!1,this.config={maxMetricsHistory:100,memorySnapshotInterval:5e3,maxMemorySnapshots:50,performanceThresholds:{audioDownload:3e4,audioProcessing:1e4,waveformGeneration:5e3,memoryUsage:524288e3,gcTriggerThreshold:.8}},this.startMonitoring=this.startMonitoring.bind(this),this.stopMonitoring=this.stopMonitoring.bind(this),this.recordMetric=this.recordMetric.bind(this),this.getMetrics=this.getMetrics.bind(this),this.cleanup=this.cleanup.bind(this)}startMonitoring(){this.isMonitoring||(this.isMonitoring=!0,this.startMemoryMonitoring(),this.initializePerformanceObserver())}stopMonitoring(){this.isMonitoring&&(this.isMonitoring=!1,this.memoryInterval&&(clearInterval(this.memoryInterval),this.memoryInterval=null),this.performanceObserver&&(this.performanceObserver.disconnect(),this.performanceObserver=null))}recordMetric(e,t,n={}){const r={operation:e,duration:t,timestamp:Date.now(),metadata:{...n}};this.metrics.has(e)||this.metrics.set(e,[]);const i=this.metrics.get(e);return i.push(r),i.length>this.config.maxMetricsHistory&&i.shift(),this.checkPerformanceThresholds(e,t,n),r}startMeasurement(e){const t=performance.now(),n=this.getCurrentMemoryUsage();return(r={})=>{const i=performance.now()-t,s=this.getCurrentMemoryUsage(),a={...r,startMemory:n,endMemory:s,memoryDelta:s.usedJSHeapSize-n.usedJSHeapSize};return this.recordMetric(e,i,a)}}getMetrics(e=null){if(e){const t=this.metrics.get(e)||[];return this.calculateMetricsSummary(t,e)}const t={};for(const[n,r]of this.metrics)t[n]=this.calculateMetricsSummary(r,n);return{operations:t,memory:this.getMemoryMetrics(),system:this.getSystemMetrics()}}getCurrentMemoryUsage(){return"memory"in performance?{usedJSHeapSize:performance.memory.usedJSHeapSize,totalJSHeapSize:performance.memory.totalJSHeapSize,jsHeapSizeLimit:performance.memory.jsHeapSizeLimit,timestamp:Date.now()}:{usedJSHeapSize:0,totalJSHeapSize:0,jsHeapSizeLimit:0,timestamp:Date.now(),unavailable:!0}}shouldTriggerGC(){const e=this.getCurrentMemoryUsage();if(e.unavailable)return!1;return e.usedJSHeapSize/e.jsHeapSizeLimit>this.config.performanceThresholds.gcTriggerThreshold}triggerGC(){if(window.gc&&"function"==typeof window.gc)try{this.getCurrentMemoryUsage();window.gc();this.getCurrentMemoryUsage();return!0}catch(e){}return!1}getMemoryOptimizationRecommendations(){const e=[],t=this.getCurrentMemoryUsage();if(t.unavailable)return["Memory monitoring unavailable in this environment"];const n=t.usedJSHeapSize/t.jsHeapSizeLimit;if(n>.9?e.push("Critical: Memory usage above 90%. Consider clearing audio cache."):n>.8&&e.push("Warning: Memory usage above 80%. Monitor closely."),this.memorySnapshots.length>=10){const t=this.memorySnapshots.slice(-10);this.calculateMemoryTrend(t)>.1&&e.push("Potential memory leak detected. Consider restarting the application.")}const r=this.metrics.get("audio_processing")||[];if(r.length>0){r.reduce((e,t)=>e+(t.metadata.memoryDelta||0),0)/r.length>52428800&&e.push("Audio processing consuming significant memory. Consider optimizing buffer management.")}return e}getPerformanceOptimizationRecommendations(){const e=[],t=this.metrics.get("audio_download")||[];if(t.length>0){t.reduce((e,t)=>e+t.duration,0)/t.length>this.config.performanceThresholds.audioDownload&&e.push("Audio downloads are slow. Check network connection or server performance.")}const n=this.metrics.get("waveform_generation")||[];if(n.length>0){n.reduce((e,t)=>e+t.duration,0)/n.length>this.config.performanceThresholds.waveformGeneration&&e.push("Waveform generation is slow. Consider using Web Workers or reducing sample count.")}return e}startMemoryMonitoring(){this.memoryInterval=setInterval(()=>{const e=this.getCurrentMemoryUsage();this.memorySnapshots.push(e),this.memorySnapshots.length>this.config.maxMemorySnapshots&&this.memorySnapshots.shift(),this.shouldTriggerGC()&&this.triggerGC()},this.config.memorySnapshotInterval)}initializePerformanceObserver(){if("PerformanceObserver"in window)try{this.performanceObserver=new PerformanceObserver(e=>{const t=e.getEntries();for(const n of t)"measure"===n.entryType&&this.recordMetric(`browser_${n.name}`,n.duration,{entryType:n.entryType,startTime:n.startTime})}),this.performanceObserver.observe({entryTypes:["measure","navigation"]})}catch(e){}}checkPerformanceThresholds(e,t,n){this.config.performanceThresholds[e]}calculateMetricsSummary(e,t){if(0===e.length)return{operation:t,count:0,avgDuration:0,minDuration:0,maxDuration:0,totalDuration:0};const n=e.map(e=>e.duration),r=n.reduce((e,t)=>e+t,0);return{operation:t,count:e.length,avgDuration:Math.round(r/e.length),minDuration:Math.min(...n),maxDuration:Math.max(...n),totalDuration:Math.round(r),recentMetrics:e.slice(-5)}}getMemoryMetrics(){if(0===this.memorySnapshots.length)return{unavailable:!0};const e=this.memorySnapshots[this.memorySnapshots.length-1],t=this.calculateMemoryTrend(this.memorySnapshots.slice(-10));return{current:{used:this.formatBytes(e.usedJSHeapSize),total:this.formatBytes(e.totalJSHeapSize),limit:this.formatBytes(e.jsHeapSizeLimit),usagePercent:Math.round(e.usedJSHeapSize/e.jsHeapSizeLimit*100)},trend:{direction:t>.05?"increasing":t<-.05?"decreasing":"stable",percentage:Math.round(100*t)},snapshots:this.memorySnapshots.length}}getSystemMetrics(){const e={timestamp:Date.now(),userAgent:navigator.userAgent,hardwareConcurrency:navigator.hardwareConcurrency||"unknown"};return"connection"in navigator&&(e.connection={effectiveType:navigator.connection.effectiveType,downlink:navigator.connection.downlink,rtt:navigator.connection.rtt}),e}calculateMemoryTrend(e){if(e.length<2)return 0;const t=e[0].usedJSHeapSize;return(e[e.length-1].usedJSHeapSize-t)/t}formatBytes(e){if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB"][t]}cleanup(){this.stopMonitoring(),this.metrics.clear(),this.memorySnapshots=[]}};xx.startMonitoring(),"undefined"!=typeof window&&window.addEventListener("beforeunload",()=>{xx.cleanup()});const Sx=new class{constructor(){this.audioBuffers=new Map,this.bufferMetadata=new Map,this.cleanupCallbacks=new Set,this.isMonitoring=!1,this.config={maxMemoryUsage:419430400,cleanupThreshold:.8,maxBufferAge:18e5,maxBufferCount:20,gcInterval:6e4,memoryCheckInterval:1e4,priorityLevels:{HIGH:3,MEDIUM:2,LOW:1}},this.registerBuffer=this.registerBuffer.bind(this),this.unregisterBuffer=this.unregisterBuffer.bind(this),this.getBuffer=this.getBuffer.bind(this),this.cleanup=this.cleanup.bind(this),this.startMonitoring=this.startMonitoring.bind(this),this.stopMonitoring=this.stopMonitoring.bind(this)}startMonitoring(){this.isMonitoring||(this.isMonitoring=!0,this.gcInterval=setInterval(()=>{this.performGarbageCollection()},this.config.gcInterval),this.memoryCheckInterval=setInterval(()=>{this.checkMemoryUsage()},this.config.memoryCheckInterval))}stopMonitoring(){this.isMonitoring&&(this.isMonitoring=!1,this.gcInterval&&(clearInterval(this.gcInterval),this.gcInterval=null),this.memoryCheckInterval&&(clearInterval(this.memoryCheckInterval),this.memoryCheckInterval=null))}registerBuffer(e,t,n={}){try{if(!t||!e)throw new Error("Invalid buffer or ID provided");const r=this.calculateBufferSize(t);this.shouldTriggerCleanup(r)&&this.performEmergencyCleanup(r);const i={id:e,size:r,createdAt:Date.now(),lastAccessed:Date.now(),accessCount:0,priority:n.priority||this.config.priorityLevels.MEDIUM,persistent:n.persistent||!1,tags:n.tags||[],source:n.source||"unknown"};return this.audioBuffers.set(e,t),this.bufferMetadata.set(e,i),!0}catch(r){return!1}}unregisterBuffer(e){try{const n=this.bufferMetadata.get(e);if(n)for(const r of this.cleanupCallbacks)try{r(e,n)}catch(t){}return this.audioBuffers.delete(e),this.bufferMetadata.delete(e),!0}catch(t){return!1}}getBuffer(e){const t=this.audioBuffers.get(e);if(t){const t=this.bufferMetadata.get(e);t&&(t.lastAccessed=Date.now(),t.accessCount++)}return t||null}hasBuffer(e){return this.audioBuffers.has(e)}getBufferMetadata(e){return this.bufferMetadata.get(e)||null}updateBufferPriority(e,t){const n=this.bufferMetadata.get(e);n&&(n.priority=t)}addCleanupCallback(e){this.cleanupCallbacks.add(e)}removeCleanupCallback(e){this.cleanupCallbacks.delete(e)}getMemoryStats(){let e=0,t=null,n=null;const r={HIGH:0,MEDIUM:0,LOW:0};for(const[s,a]of this.bufferMetadata){e+=a.size,(!t||a.createdAt<t.createdAt)&&(t=a),(!n||a.createdAt>n.createdAt)&&(n=a);const i=Object.keys(this.config.priorityLevels).find(e=>this.config.priorityLevels[e]===a.priority)||"UNKNOWN";r[i]=(r[i]||0)+1}const i=xx.getCurrentMemoryUsage();return{audioBuffers:{count:this.audioBuffers.size,totalSize:e,totalSizeMB:Math.round(e/1048576*100)/100,maxSize:this.config.maxMemoryUsage,maxSizeMB:Math.round(this.config.maxMemoryUsage/1048576),usagePercent:Math.round(e/this.config.maxMemoryUsage*100),oldestBuffer:t?{id:t.id,age:Date.now()-t.createdAt,size:this.formatBytes(t.size)}:null,newestBuffer:n?{id:n.id,age:Date.now()-n.createdAt,size:this.formatBytes(n.size)}:null,byPriority:r},system:{jsHeapUsed:i.usedJSHeapSize,jsHeapTotal:i.totalJSHeapSize,jsHeapLimit:i.jsHeapSizeLimit,jsHeapUsedMB:Math.round(i.usedJSHeapSize/1048576*100)/100},recommendations:this.getMemoryRecommendations()}}listBuffers(){const e=[];for(const[t,n]of this.bufferMetadata)e.push({id:t,size:this.formatBytes(n.size),age:Date.now()-n.createdAt,lastAccessed:Date.now()-n.lastAccessed,accessCount:n.accessCount,priority:n.priority,persistent:n.persistent,tags:n.tags,source:n.source});return e.sort((e,t)=>t.lastAccessed-e.lastAccessed)}performGarbageCollection(){const e=xx.startMeasurement("memory_gc");try{let t=0,n=0;const r=Date.now(),i=Array.from(this.bufferMetadata.entries()).map(([e,t])=>({id:e,...t})).sort(this.getCleanupPriority.bind(this));for(const e of i){let i=!1;const s=r-e.createdAt;!e.persistent&&s>this.config.maxBufferAge&&(i=!0),this.audioBuffers.size>this.config.maxBufferCount&&(i=!0),i&&(n+=e.size,this.unregisterBuffer(e.id),t++)}e({cleanedCount:t,freedBytes:n})}catch(t){e({error:t.message})}}performEmergencyCleanup(e=0){const t=xx.startMeasurement("emergency_cleanup");try{let n=0,r=0;const i=Array.from(this.bufferMetadata.entries()).map(([e,t])=>({id:e,...t})).sort(this.getCleanupPriority.bind(this)).reverse();for(const t of i){if(t.persistent)continue;if(n+=t.size,this.unregisterBuffer(t.id),r++,e>0&&n>=e)break;if(this.getCurrentMemoryUsage()<this.config.maxMemoryUsage*this.config.cleanupThreshold)break}t({cleanedCount:r,freedBytes:n,requiredBytes:e})}catch(n){t({error:n.message})}}checkMemoryUsage(){this.getCurrentMemoryUsage()>this.config.maxMemoryUsage*this.config.cleanupThreshold&&this.performGarbageCollection()}calculateBufferSize(e){return e.numberOfChannels*e.length*4}getCurrentMemoryUsage(){let e=0;for(const t of this.bufferMetadata.values())e+=t.size;return e}shouldTriggerCleanup(e=0){return this.getCurrentMemoryUsage()+e>this.config.maxMemoryUsage*this.config.cleanupThreshold||this.audioBuffers.size>=this.config.maxBufferCount}getCleanupPriority(e,t){return e.priority!==t.priority?t.priority-e.priority:e.persistent!==t.persistent?t.persistent-e.persistent:e.lastAccessed!==t.lastAccessed?t.lastAccessed-e.lastAccessed:e.accessCount!==t.accessCount?t.accessCount-e.accessCount:t.createdAt-e.createdAt}getMemoryRecommendations(){const e=[];let t=0,n=null;for(const[i,s]of this.bufferMetadata)t+=s.size,(!n||s.createdAt<n.createdAt)&&(n=s);const r=Math.round(t/this.config.maxMemoryUsage*100);if(r>90?e.push("Critical: Audio buffer memory usage above 90%. Consider clearing unused buffers."):r>80&&e.push("Warning: Audio buffer memory usage above 80%. Monitor closely."),this.audioBuffers.size>.8*this.config.maxBufferCount&&e.push("High buffer count detected. Consider implementing more aggressive cleanup."),n){Date.now()-n.createdAt>this.config.maxBufferAge&&e.push("Old audio buffers detected. Consider manual cleanup.")}return e}formatBytes(e){if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB"][t]}cleanup(){this.stopMonitoring();for(const[t,n]of this.bufferMetadata)for(const r of this.cleanupCallbacks)try{r(t,n)}catch(e){}this.audioBuffers.clear(),this.bufferMetadata.clear(),this.cleanupCallbacks.clear()}};Sx.startMonitoring(),"undefined"!=typeof window&&window.addEventListener("beforeunload",()=>{Sx.cleanup()});class kx{constructor(){this.audioContext=null,this.masterGainNode=null,this.activeSources=new Map,this.audioBuffer=null,this.storageManager=wx,this.isInitialized=!1,this.masterVolume=1,this.initializeAudioContext=this.initializeAudioContext.bind(this),this.cleanup=this.cleanup.bind(this)}async initializeAudioContext(){try{return this.audioContext&&"closed"!==this.audioContext.state||(this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.masterGainNode=this.audioContext.createGain(),this.masterGainNode.connect(this.audioContext.destination),this.masterGainNode.gain.value=this.masterVolume),"suspended"===this.audioContext.state&&await this.audioContext.resume(),this.isInitialized=!0,!0}catch(e){throw new Error(`AudioContext initialization failed: ${e.message}`)}}async loadAudioBuffer(e,t=null){try{await this.initializeAudioContext();let n=t;if(!n){const t=await this.storageManager.getAudioData(e);if(!t||!t.audioBuffer)throw new Error(`No audio buffer found for ID: ${e}`);n=t.audioBuffer}return this.audioBuffer=await this.audioContext.decodeAudioData(n.slice()),this.audioBuffer}catch(n){throw new Error(`Audio buffer loading failed: ${n.message}`)}}async playSample(e,t=null,n=null,r=null){const i=xx.startMeasurement("sample_playback");try{if(!this.audioBuffer)throw new Error("No audio buffer loaded");await this.initializeAudioContext();const s=r||`sample_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;if(e<0||e>=this.audioBuffer.duration)throw new Error(`Invalid start time: ${e}. Must be between 0 and ${this.audioBuffer.duration}`);const a=this.audioBuffer.duration-e,o=t?Math.min(t,a):a,l=this.audioContext.createBufferSource();l.buffer=this.audioBuffer;const c=this.audioContext.createGain(),u=null!==n?n:this.masterVolume;c.gain.value=u,l.connect(c),c.connect(this.masterGainNode),this.activeSources.set(s,{source:l,gainNode:c,startTime:e,duration:o,startedAt:this.audioContext.currentTime}),l.onended=()=>{this.activeSources.delete(s)};const d=this.audioContext.currentTime;l.start(d,e,o);const h={id:s,startTime:e,duration:o,volume:u};return i({success:!0,sampleId:s,startTime:e,duration:o,activeSamples:this.activeSources.size}),h}catch(s){throw i({error:s.message,startTime:e,duration:t}),new Error(`Sample playback failed: ${s.message}`)}}stopSample(e){try{const t=this.activeSources.get(e);return!!t&&(t.source.stop(),this.activeSources.delete(e),!0)}catch(t){return!1}}stopAllSamples(){try{for(const[t,n]of this.activeSources)try{n.source.stop()}catch(e){}this.activeSources.clear()}catch(e){}}setMasterVolume(e){try{this.masterVolume=Math.max(0,Math.min(1,e)),this.masterGainNode&&(this.masterGainNode.gain.value=this.masterVolume)}catch(t){}}setSampleVolume(e,t){try{const n=this.activeSources.get(e);if(n){const e=Math.max(0,Math.min(1,t));return n.gainNode.gain.value=e,!0}return!1}catch(n){return!1}}getActiveSamples(){const e=[],t=this.audioContext?this.audioContext.currentTime:0;for(const[n,r]of this.activeSources){const i=t-r.startedAt,s=Math.max(0,r.duration-i);e.push({id:n,startTime:r.startTime,duration:r.duration,elapsed:i,remaining:s,volume:r.gainNode.gain.value})}return e}async jumpToTimestamp(e,t=!0){const n=xx.startMeasurement("timestamp_jump");try{if(!this.audioBuffer)throw new Error("No audio buffer loaded");if(e<0||e>=this.audioBuffer.duration)throw new Error(`Invalid timestamp: ${e}. Must be between 0 and ${this.audioBuffer.duration}`);const r=this.activeSources.size;let i;return this.stopAllSamples(),i=t?await this.playSample(e):{timestamp:e,playing:!1},n({success:!0,newTimestamp:e,maintainPlayback:t,previousSampleCount:r,newSampleId:i.id||null}),i}catch(r){throw n({error:r.message,newTimestamp:e,maintainPlayback:t}),new Error(`Timestamp jump failed: ${r.message}`)}}getStatus(){return{isInitialized:this.isInitialized,audioContextState:this.audioContext?this.audioContext.state:"not-created",hasAudioBuffer:!!this.audioBuffer,audioBufferDuration:this.audioBuffer?this.audioBuffer.duration:0,activeSamplesCount:this.activeSources.size,masterVolume:this.masterVolume}}async cleanup(){try{this.stopAllSamples(),this.audioContext&&"closed"!==this.audioContext.state&&await this.audioContext.close(),this.audioContext=null,this.masterGainNode=null,this.audioBuffer=null,this.isInitialized=!1,this.activeSources.clear()}catch(e){}}}function Ex({youtubeUrl:e,setPlayerState:t,volume:r,onPlayerReady:a,audioBuffer:o,onSyncError:l}){const[c,u]=n.useState(""),[d,h]=n.useState(null),[f,p]=n.useState(!1),m=n.useRef(null),g=n.useRef(null),[v,y]=n.useState(!1),[b,w]=n.useState(null),x=n.useRef(0),S=n.useRef(!1);n.useEffect(()=>{const t=e.match(/(?:v=)([^&?]+)/)||e.match(/(?:youtu.be\/)([^&?]+)/),n=t?t[1]:"";u(n)},[e]),n.useEffect(()=>{(async()=>{try{g.current||(g.current=new kx),o?(await g.current.loadAudioBuffer("video-sync",o),y(!0),w(null)):y(!1)}catch(e){w(`Engine initialization failed: ${e.message}`),y(!1),l?.(e)}})()},[o,l]),n.useEffect(()=>{if(window.YT&&window.YT.Player)p(!0);else if(!window.onYouTubeIframeAPIReady){const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";const t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),window.onYouTubeIframeAPIReady=()=>{p(!0)}}},[]),n.useEffect(()=>{if(!f||!c)return;const e=new window.YT.Player("youtube-player",{height:"100%",width:"100%",videoId:c,playerVars:{autoplay:0,controls:1,modestbranding:1,rel:0,enablejsapi:1},events:{onReady:e=>{h(e.target);const n=e.target.getDuration();t(e=>({...e,duration:n}));const r={...e.target,syncToTimestamp:C,handleSampleTriggered:_,getSyncStatus:T,sampleEngine:g.current};a?.(r)},onStateChange:e=>{const n=e.data===window.YT.PlayerState.PLAYING;t(e=>({...e,isPlaying:n})),n?k():E()}}});return()=>{e&&e.destroy&&e.destroy(),E()}},[f,c,t,a]),n.useEffect(()=>()=>{g.current&&g.current.cleanup().catch(e=>{})},[c]);const k=()=>{m.current&&clearInterval(m.current),m.current=setInterval(()=>{if(d&&d.getCurrentTime){const n=d.getCurrentTime();if(t(e=>({...e,currentTime:n})),v&&g.current)try{g.current.getActiveSamples()}catch(e){}}},100)},E=()=>{m.current&&(clearInterval(m.current),m.current=null)},C=n.useCallback(async(e,n=!0)=>{try{if(!d||!v||!g.current)throw new Error("Video player or audio engine not ready for synchronization");if(S.current)return;S.current=!0,x.current=e;const r=d.getPlayerState()===window.YT.PlayerState.PLAYING;d.seekTo(e,!0),n&&r?await g.current.jumpToTimestamp(e,!0):await g.current.jumpToTimestamp(e,!1),t(t=>({...t,currentTime:e,isPlaying:n&&r})),w(null)}catch(r){w(`Sync failed: ${r.message}`),l?.(r)}finally{S.current=!1}},[d,v,t,l]),_=n.useCallback(async e=>{try{if(!v||!g.current)throw new Error("Audio engine not ready for sample playback");const t=d?.getCurrentTime()||0;Math.abs(t-e)>.5&&await C(e,!0),await g.current.playSample(e)}catch(t){w(`Sample trigger failed: ${t.message}`),l?.(t)}},[d,v,C,l]),T=n.useCallback(()=>({isEngineReady:v,hasAudioBuffer:!!o,syncError:b,lastSeekTime:x.current,isSyncing:S.current,engineStatus:g.current?.getStatus()||null}),[v,o,b]);return n.useEffect(()=>{d&&d.setVolume&&d.setVolume(100*r)},[d,r]),i.jsx(s.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"aspect-video w-full bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl shadow-lg overflow-hidden relative",children:c?i.jsxs(i.Fragment,{children:[i.jsx("div",{id:"youtube-player",className:"w-full h-full"}),o&&i.jsxs("div",{className:"absolute top-2 right-2 flex items-center space-x-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full "+(v?"bg-green-400":"bg-yellow-400"),title:v?"Audio sync ready":"Audio sync initializing"}),b&&i.jsx("div",{className:"bg-red-500/80 text-white text-xs px-2 py-1 rounded",title:b,children:"Sync Error"})]})]}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx("p",{className:"text-white/50",children:"Enter a YouTube URL to get started"})})})}const Cx=({error:e,errorInfo:t,retryCount:r=0,isRecovering:s=!1,onRetry:a,onFallbackMode:o,canRetry:l=!0,isTransient:c=!1})=>{const[u,d]=n.useState(!1);return i.jsx("div",{className:"waveform-fallback-container bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-6 text-center min-h-[200px] flex flex-col justify-center",children:i.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[i.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-orange-100 rounded-full",children:i.jsx(jt,{className:"w-8 h-8 text-orange-600"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Waveform Display Unavailable"}),i.jsx("p",{className:"text-gray-600 max-w-md",children:(()=>{if(!e)return"An unknown error occurred";const t=(e.message||e.toString()).toLowerCase();return t.includes("canvas")?"Unable to initialize waveform display. Your browser may not support the required graphics features.":t.includes("audio")||t.includes("web audio")?"Cannot access audio for waveform analysis. This may be due to browser security restrictions.":t.includes("memory")||t.includes("allocation")?"Insufficient memory to generate waveform. Try closing other browser tabs or refreshing the page.":t.includes("network")||t.includes("fetch")?"Network error while loading audio data. Please check your internet connection.":"Waveform visualization encountered an unexpected error."})()}),r>0&&i.jsx("p",{className:"text-sm text-blue-600",children:0===r?"":1===r?"First retry attempt...":2===r?"Second retry attempt...":"Final retry attempt..."})]}),s&&i.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[i.jsx(Nt,{className:"w-4 h-4 animate-spin"}),i.jsx("span",{className:"text-sm",children:"Attempting to recover..."})]}),!s&&i.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:(()=>{const t=[];return c&&l&&t.push({label:"Retry",action:a,icon:Nt,primary:!0,description:"Attempt to reload the waveform visualization"}),t.push({label:"Use Simple Mode",action:o,icon:$t,primary:!l,description:"Switch to a simplified waveform display that works on all devices"}),e?.message?.includes("canvas")&&t.push({label:"Update Browser",action:()=>window.open("https://browsehappy.com/","_blank"),icon:Pt,description:"Update your browser for better graphics support"}),t})().map((e,t)=>i.jsxs("button",{onClick:e.action,className:`\n                  flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors\n                  ${e.primary?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-700 hover:bg-gray-300"}\n                `,title:e.description,children:[i.jsx(e.icon,{className:"w-4 h-4"}),i.jsx("span",{children:e.label})]},t))}),i.jsxs("button",{onClick:()=>d(!u),className:"flex items-center space-x-1 text-sm text-gray-500 hover:text-gray-700 transition-colors",children:[i.jsx(gt,{className:"w-4 h-4"}),i.jsxs("span",{children:[u?"Hide":"Show"," technical details"]})]}),u&&i.jsx("div",{className:"mt-4 p-4 bg-gray-100 rounded-lg text-left max-w-full overflow-auto",children:i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Error:"})," ",e?.name||"Unknown"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Message:"})," ",e?.message||"No message"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Retry Count:"})," ",r]}),e?.stack&&i.jsxs("div",{children:[i.jsx("strong",{children:"Stack Trace:"}),i.jsx("pre",{className:"mt-1 text-xs bg-white p-2 rounded border overflow-x-auto",children:e.stack})]})]})}),i.jsx("div",{className:"text-xs text-gray-500 max-w-md",children:i.jsx("p",{children:"The waveform visualization helps you see audio patterns and create precise samples. You can still use the sampler without it by clicking on the pads to set timestamps."})})]})})},_x=n.lazy(()=>l(()=>import("./waveform-core-ygTHjRxL.js").then(e=>e.W),__vite__mapDeps([0,1,2,3])).then(e=>({default:e.WaveformVisualization}))),Tx=n.lazy(()=>l(()=>import("./waveform-analysis-BBBO2Bve.js"),[]).then(e=>({default:e.WebAudioAnalyzer}))),Ix=n.lazy(()=>l(()=>import("./waveform-advanced-C_AaKX5q.js").then(e=>e.V),__vite__mapDeps([1,0,3,2])).then(e=>({default:e.VisualEnhancementEngine}))),Nx=({enableVisualEnhancements:e=!1,enableAdvancedAnalysis:t=!1,fallbackComponent:r,...s})=>{const a=r||Cx;return i.jsxs("div",{className:"waveform-lazy-container",children:[i.jsx(n.Suspense,{fallback:i.jsx(a,{message:"Loading waveform visualization..."}),children:i.jsx(_x,{...s})}),e&&i.jsx(n.Suspense,{fallback:null,children:i.jsx(Ix,{})}),t&&i.jsx(n.Suspense,{fallback:null,children:i.jsx(Tx,{})})]})},Ax=!0,Rx={rendering:{mobileResolutionScale:.75,maxFrameRate:30,viewportPadding:.1,staticLayerCaching:!0,dynamicLayerThrottling:16,maxCanvasSize:4096,texturePoolSize:8},analysis:{defaultSampleRate:22050,fftSize:1024,chunkSize:65536,maxConcurrentChunks:2,webAudioTimeout:3e3,videoFrameTimeout:5e3,qualityPresets:{low:{sampleRate:11025,fftSize:512,updateInterval:100},medium:{sampleRate:22050,fftSize:1024,updateInterval:50},high:{sampleRate:44100,fftSize:2048,updateInterval:16}}},memory:{maxWaveformCacheSize:52428800,maxAnalysisDataSize:20971520,gcThreshold:.8,gcInterval:3e4,enableObjectPooling:Ax,poolSizes:{canvasContexts:4,audioBuffers:8,typedArrays:16}},features:{visualEnhancements:!0,zeroCrossingDetection:!0,smartSnapping:!0,frequencyAnalysis:!1,performanceMonitoring:Ax,errorReporting:Ax,analyticsTracking:Ax,webWorkerAnalysis:!0,offscreenCanvas:"OffscreenCanvas"in window,audioWorklet:"AudioWorklet"in window},bundling:{splitPoints:["waveform-core","waveform-analysis","waveform-advanced","waveform-fallback"],lazyLoadThreshold:2e3,preloadStrategy:"conservative",sideEffects:!1,minification:{removeConsole:Ax,removeDebugger:Ax,dropUnusedFunctions:Ax}},errorHandling:{maxRetries:3,retryDelay:1e3,exponentialBackoff:!0,enableFallbackChain:!0,fallbackTimeout:5e3,reportErrors:Ax,errorSampling:.1,autoRecovery:!0,gracefulDegradation:!0},monitoring:{collectMetrics:Ax,metricsInterval:1e4,budgets:{waveformGeneration:2e3,interactionLatency:16,memoryUsage:104857600,bundleSize:512e3},alerts:{highMemoryUsage:.9,slowGeneration:1.5,highErrorRate:.05}}};class Px{constructor(){this.errorHistory=[],this.recoveryStrategies=new Map,this.maxErrorHistory=50,this.initializeRecoveryStrategies()}initializeRecoveryStrategies(){this.recoveryStrategies.set("canvas",{maxRetries:2,retryDelay:1e3,strategy:this.recoverCanvasContext.bind(this)}),this.recoveryStrategies.set("audio",{maxRetries:3,retryDelay:500,strategy:this.recoverAudioContext.bind(this)}),this.recoveryStrategies.set("memory",{maxRetries:1,retryDelay:2e3,strategy:this.recoverMemoryIssues.bind(this)}),this.recoveryStrategies.set("network",{maxRetries:3,retryDelay:2e3,strategy:this.recoverNetworkIssues.bind(this)}),this.recoveryStrategies.set("generic",{maxRetries:1,retryDelay:1e3,strategy:this.genericRecovery.bind(this)})}reportError(e){const t={...e,id:this.generateErrorId(),reportedAt:Date.now(),errorType:this.classifyError(e.error)};return this.errorHistory.push(t),this.errorHistory.length>this.maxErrorHistory&&this.errorHistory.shift(),t}async attemptRecovery(e){const t=this.classifyError(e),n=this.recoveryStrategies.get(t)||this.recoveryStrategies.get("generic");try{return await n.strategy(e),!0}catch(r){throw r}}classifyError(e){if(!e)return"generic";const t=e.message?.toLowerCase()||"",n=e.name?.toLowerCase()||"";return t.includes("canvas")||n.includes("canvas")?"canvas":t.includes("audio")||t.includes("webaudio")||n.includes("audio")?"audio":t.includes("memory")||t.includes("allocation")||n.includes("memory")?"memory":t.includes("network")||t.includes("fetch")||t.includes("cors")?"network":"generic"}async recoverCanvasContext(e){window.waveformCanvasContexts&&(window.waveformCanvasContexts.forEach(e=>{if(e&&"function"==typeof e.clearRect)try{e.clearRect(0,0,e.canvas.width,e.canvas.height)}catch(cE){}}),window.waveformCanvasContexts=[]),window.gc&&window.gc(),await this.delay(500);const t=document.createElement("canvas");t.width=100,t.height=50;const n=t.getContext("2d",{alpha:!1,desynchronized:!0});if(!n)throw new Error("Cannot create canvas context after recovery attempt");n.fillStyle="#000",n.fillRect(0,0,10,10)}async recoverAudioContext(e){if(window.waveformAudioContexts){for(const e of window.waveformAudioContexts)if(e&&"closed"!==e.state)try{await e.close()}catch(cE){}window.waveformAudioContexts=[]}await this.delay(1e3);try{const e=new(window.AudioContext||window.webkitAudioContext);"suspended"===e.state&&await e.resume(),await e.close()}catch(t){throw new Error("Cannot create audio context after recovery attempt")}}async recoverMemoryIssues(e){if(window.waveformCache&&window.waveformCache.clear(),window.waveformBuffers&&(window.waveformBuffers.forEach(e=>{e&&e.length&&e.fill(0)}),window.waveformBuffers=[]),window.gc&&window.gc(),await this.delay(2e3),navigator.deviceMemory&&navigator.deviceMemory<2)throw new Error("Insufficient device memory for waveform visualization")}async recoverNetworkIssues(e){if(!navigator.onLine)throw new Error("No network connection available");await this.delay(1e3);try{if(!(await fetch("/favicon.ico",{method:"HEAD",cache:"no-cache"})).ok)throw new Error("Network connectivity test failed")}catch(t){throw new Error("Network recovery failed: "+t.message)}}async genericRecovery(e){if(window.waveformState&&(window.waveformState=null),await this.delay(1e3),!document.createElement("canvas").getContext)throw new Error("Canvas support not available");!window.AudioContext&&window.webkitAudioContext}getErrorStatistics(){const e=Date.now(),t=this.errorHistory.filter(t=>e-t.reportedAt<3e5),n={};return t.forEach(e=>{n[e.errorType]=(n[e.errorType]||0)+1}),{totalErrors:this.errorHistory.length,recentErrors:t.length,errorsByType:n,lastError:this.errorHistory[this.errorHistory.length-1]||null}}isSystemHealthy(){const e=this.getErrorStatistics();if(e.recentErrors>5)return!1;return!["canvas","memory"].some(t=>(e.errorsByType[t]||0)>2)}generateErrorId(){return`waveform_error_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}delay(e){return new Promise(t=>setTimeout(t,e))}clearErrorHistory(){this.errorHistory=[]}}class Dx extends a.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,retryCount:0,isRecovering:!1},this.errorRecoveryService=new Px}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t}),this.errorRecoveryService.reportError({error:e,errorInfo:t,component:"WaveformVisualization",timestamp:Date.now(),retryCount:this.state.retryCount}),!1!==this.props.enableAutoRecovery&&this.attemptAutoRecovery(e)}attemptAutoRecovery=async e=>{const{retryCount:t}=this.state;if(this.isTransientError(e)&&t<3){this.setState({isRecovering:!0});try{setTimeout(async()=>{try{await this.errorRecoveryService.attemptRecovery(e),this.setState({hasError:!1,error:null,errorInfo:null,retryCount:t+1,isRecovering:!1})}catch(n){this.setState({isRecovering:!1})}},1e3)}catch(n){this.setState({isRecovering:!1})}}};isTransientError=e=>[/network/i,/timeout/i,/temporary/i,/canvas.*context/i,/audio.*context/i].some(t=>t.test(e.message)||t.test(e.name));handleManualRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null,retryCount:this.state.retryCount+1,isRecovering:!1}),setTimeout(()=>{this.forceUpdate()},0)};handleFallbackMode=()=>{this.props.onFallbackMode&&this.props.onFallbackMode(),this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?i.jsx(Cx,{error:this.state.error,errorInfo:this.state.errorInfo,retryCount:this.state.retryCount,isRecovering:this.state.isRecovering,onRetry:this.handleManualRetry,onFallbackMode:this.handleFallbackMode,canRetry:this.state.retryCount<3,isTransient:this.isTransientError(this.state.error)}):this.props.children}}const Mx=(jx=a.memo(({audioSource:e,chops:t,currentTime:r,isPlaying:s,onChopCreate:a,onChopUpdate:o,onTimeSeek:h,visualSettings:f={},...p})=>{const[m,g]=n.useState(!1),[v,y]=n.useState(null),b=c("waveformVisualization"),w=c("webAudioAnalysis"),x=c("visualEnhancements"),S=c("performanceMonitoring"),k=u();if(n.useEffect(()=>{(async()=>{try{const e=(()=>{const e={...Rx},t=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),n=navigator.hardwareConcurrency<=2||navigator.deviceMemory<=2;(t||n)&&(e.analysis.defaultSampleRate=11025,e.analysis.fftSize=512,e.rendering.maxFrameRate=24,e.rendering.mobileResolutionScale=.5,e.features.frequencyAnalysis=!1,e.features.visualEnhancements=!1);const r=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return r&&r.effectiveType&&["slow-2g","2g"].includes(r.effectiveType)&&(e.bundling.preloadStrategy="minimal",e.bundling.lazyLoadThreshold=5e3,e.analysis.chunkSize=32768),e})();y(e),"minimal"!==e.bundling.preloadStrategy&&await(async()=>{try{await Promise.all([l(()=>import("./waveform-core-ygTHjRxL.js").then(e=>e.W),__vite__mapDeps([0,1,2,3])),l(()=>import("./waveform-core-ygTHjRxL.js").then(e=>e.c),__vite__mapDeps([0,1,2,3])),l(()=>import("./waveform-interaction-CMmfpf38.js").then(e=>e.a),__vite__mapDeps([3,0,1,2]))])}catch(e){}})(),S&&k.trackEvent("waveform_initialization",{config:e,featureFlags:d.getEnabledFeatures(),deviceCapabilities:d.deviceCapabilities}),g(!0)}catch(e){S&&k.trackError("initialization_error",e.message,{component:"WaveformProductionWrapper"})}})()},[k,S]),n.useEffect(()=>{S&&m&&k.trackFeatureUsage("waveform_production_wrapper",{webAudioEnabled:w,visualEnhancementsEnabled:x,configPreset:v?.analysis?.qualityPresets?"optimized":"default"})},[k,S,m,w,x,v]),n.useEffect(()=>{if(!S||!m)return;const e=performance.now();return()=>{const t=performance.now()-e;k.trackPerformance("component_render_time",t,{component:"WaveformProductionWrapper"})}},[k,S,m,e,t]),!b)return i.jsx(Cx,{message:"Waveform visualization is currently disabled",showRetry:!1});if(!m||!v)return i.jsx(Cx,{message:"Initializing waveform visualization...",showRetry:!1});const E={...p,audioSource:e,chops:t,currentTime:r,isPlaying:s,onChopCreate:(e,t,n={})=>{S&&k.trackChopActivity("create",{duration:t-e,startTime:e,creationMethod:n.creationMethod||"unknown"}),a(e,t,n)},onChopUpdate:(e,t,n={})=>{S&&k.trackChopActivity("edit",{chopId:e,duration:t.endTime-t.startTime,startTime:t.startTime,editMethod:n.editMethod||"unknown"}),o(e,t,n)},onTimeSeek:(e,t={})=>{S&&k.trackNavigation("seek",null,{start:e,end:e}),h(e,t)},visualSettings:{...f,enableVisualEnhancements:x,performanceMode:v.rendering.maxFrameRate<60,qualityPreset:v.analysis.qualityPresets?"optimized":"default"},config:v};return i.jsx(Dx,{onError:(e,t)=>{S&&k.trackError("component_error",e.message,{component:"WaveformProductionWrapper",errorInfo:t,featureFlags:d.getEnabledFeatures()})},children:i.jsxs("div",{className:"waveform-production-container",children:[i.jsx(Nx,{...E,enableVisualEnhancements:x,enableAdvancedAnalysis:w,fallbackComponent:Cx}),!1]})})},(e,t)=>["audioSource","chops","currentTime","isPlaying"].every(n=>"chops"===n?JSON.stringify(e[n])===JSON.stringify(t[n]):e[n]===t[n])),class extends a.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){Rx.errorHandling.reportErrors}render(){return this.state.hasError?a.createElement("div",{className:"waveform-error-fallback"},"Waveform visualization temporarily unavailable"):a.createElement(jx,this.props)}});var jx;const Lx=n.forwardRef(({className:e,type:t,...n},r)=>i.jsx("input",{type:t,className:Xn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));function Ox({playerState:e,selectedChop:t,setChopTime:r,waveformData:a,deleteChop:o,youtubeUrl:l,allChops:c=[],onTimestampClick:u,isPlaying:d=!1,onPlayPause:f,capturedAudioData:p,className:m=""}){const g=n.useRef(null),[v,y]=n.useState({startTime:"",endTime:""}),[b,w]=n.useState(!1),[x,S]=n.useState({enableFrequencyColorCoding:!0,enableAmplitudeColorCoding:!0,enableStructureDetection:!0,showPlayheadTime:!0,quality:"high",playheadColor:"#ef4444",playheadWidth:2,activeChopColor:"#fbbf24"}),k=n.useMemo(()=>c.map(e=>({id:e.padId,padId:e.padId,startTime:e.startTime,endTime:e.endTime,color:e.color,waveformRegion:{startSample:Math.floor(e.startTime*(a?.sampleRate||44100)),endSample:Math.floor(e.endTime*(a?.sampleRate||44100)),peakAmplitude:1},metadata:{createdAt:Date.now(),lastModified:Date.now(),snapPoints:[]}})),[c,a]),E=n.useMemo(()=>p?.waveformData?{samples:p.waveformData,sampleRate:p.metadata?.sampleRate||44100,duration:p.metadata?.duration||e.duration,channels:1,metadata:{analysisMethod:"captured",quality:"high",generatedAt:Date.now(),sourceInfo:{type:"captured",url:l}}}:a?{samples:a,sampleRate:44100,duration:e.duration,channels:1,metadata:{analysisMethod:"legacy",quality:"medium",generatedAt:Date.now(),sourceInfo:{type:"legacy",url:l}}}:null,[p,a,e.duration,l]);n.useEffect(()=>{y(t?{startTime:t.startTime.toFixed(4),endTime:t.endTime.toFixed(4)}:{startTime:"",endTime:""})},[t]);const C=n.useCallback((e,n)=>{t?.padId&&r&&(r("startTime",e),r("endTime",n))},[t,r]),_=n.useCallback((e,t)=>{c.find(t=>t.padId===e)&&(void 0!==t.startTime&&r&&r("startTime",t.startTime),void 0!==t.endTime&&r&&r("endTime",t.endTime))},[c,r]),T=n.useCallback(e=>{u&&u(e)},[u]),I=n.useCallback((e,t)=>{y(n=>({...n,[e]:t}))},[]),N=n.useCallback(()=>{if(!t||!r)return;const e=parseFloat(v.startTime),n=parseFloat(v.endTime);isNaN(e)||isNaN(n)||e>=n||(r("startTime",e),r("endTime",n),w(!1))},[t,r,v]),A=n.useCallback(()=>{t&&o&&o(t.padId)},[t,o]),R=n.useCallback(()=>{g.current&&g.current.zoomIn(2,e.currentTime)},[e.currentTime]),P=n.useCallback(()=>{g.current&&g.current.zoomOut(2,e.currentTime)},[e.currentTime]),D=n.useCallback(()=>{g.current&&g.current.zoomToFit()},[]);return n.useCallback(()=>g.current,[]),i.jsxs(s.div,{className:`bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl shadow-lg p-6 space-y-4 ${m}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:"Interactive Waveform"}),p&&i.jsx("span",{className:"text-xs text-purple-300 bg-purple-500/20 px-2 py-1 rounded",children:"High Quality Audio"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(er,{onClick:f,variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10","aria-label":d?"Pause":"Play",children:d?i.jsx(Ct,{className:"w-4 h-4"}):i.jsx(Tt,{className:"w-4 h-4"})}),i.jsx(h,{onZoomIn:R,onZoomOut:P,onZoomToFit:D,className:"border-white/20"})]})]}),i.jsx("div",{className:"relative h-64 bg-gray-900/50 rounded-lg overflow-hidden",children:E?i.jsx(Mx,{ref:g,audioSource:l,waveformData:E,chops:k,currentTime:e.currentTime,isPlaying:d,onChopCreate:C,onChopUpdate:_,onTimeSeek:T,visualSettings:x,className:"w-full h-full"}):i.jsx("div",{className:"flex items-center justify-center h-full text-white/50",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm",children:"No waveform data available"}),i.jsx("div",{className:"text-xs mt-1",children:"Load a video to generate waveform"})]})})}),t&&i.jsxs("div",{className:"bg-white/5 rounded-lg p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h4",{className:"text-sm font-medium text-white",children:["Edit Sample: ",t.padId]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(er,{onClick:()=>w(!b),variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:b?"Cancel":"Edit"}),t&&i.jsx(er,{onClick:A,variant:"outline",size:"sm",className:"border-red-400/20 text-red-400 hover:bg-red-400/10","aria-label":"Delete chop",children:i.jsx(Mt,{className:"w-4 h-4"})})]})]}),b?i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-white/70 block mb-1",children:"Start Time (s)"}),i.jsx(Lx,{type:"number",step:"0.001",value:v.startTime,onChange:e=>I("startTime",e.target.value),className:"bg-white/10 border-white/20 text-white text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-white/70 block mb-1",children:"End Time (s)"}),i.jsx(Lx,{type:"number",step:"0.001",value:v.endTime,onChange:e=>I("endTime",e.target.value),className:"bg-white/10 border-white/20 text-white text-sm"})]}),i.jsx("div",{className:"col-span-2",children:i.jsxs(er,{onClick:N,className:"w-full bg-cyan-500 hover:bg-cyan-600 text-black font-medium",children:[i.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]}):i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-white/70",children:"Start:"}),i.jsxs("div",{className:"text-white font-mono",children:[t.startTime.toFixed(3),"s"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-white/70",children:"End:"}),i.jsxs("div",{className:"text-white font-mono",children:[t.endTime.toFixed(3),"s"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-white/70",children:"Duration:"}),i.jsxs("div",{className:"text-white font-mono",children:[(t.endTime-t.startTime).toFixed(3),"s"]})]})]})]}),i.jsx("div",{className:"text-xs text-white/50 space-y-1",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("div",{children:" Click on waveform to seek to time position"}),i.jsx("div",{children:" Select a pad first, then drag on waveform to create/edit samples"}),i.jsx("div",{children:" Use zoom controls to get precise timing"}),p&&i.jsx("div",{className:"text-purple-300",children:" Using high-quality captured audio for enhanced precision"})]}),i.jsx("div",{className:"text-right",children:t?i.jsxs("div",{className:"text-cyan-300 font-medium",children:[" Pad ",t.padId," selected"]}):i.jsx("div",{className:"text-yellow-300",children:" Select a pad to create samples"})})]})})]})}function Ux({padId:e,keyLabel:t,isAssigned:r,isSelected:a,color:l,onClick:c,onEdit:u,onDelete:d,chop:h,isPadGridFocused:f=!1}){const[p,m]=n.useState(!1),[g,v]=n.useState(!1),[y,b]=n.useState({x:0,y:0}),w=n.useCallback(e=>{if(!r)return;e.preventDefault(),e.stopPropagation();const t=e.currentTarget.getBoundingClientRect();b({x:e.clientX-t.left,y:e.clientY-t.top}),v(!0)},[r]),x=n.useCallback(t=>{t.stopPropagation(),v(!1),u&&u(e)},[e,u]),S=n.useCallback(t=>{t.stopPropagation(),v(!1),d&&d(e)},[e,d]);n.useEffect(()=>{const e=()=>v(!1);if(g)return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[g]);const k=n.useCallback(e=>{if(isNaN(e)||e<0)return"0:00";return`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`},[]);n.useEffect(()=>{if(p){const e=setTimeout(()=>m(!1),150);return()=>clearTimeout(e)}},[p]);const E={idle:{scale:1,boxShadow:"0px 4px 10px rgba(0,0,0,0.3)"},triggered:{scale:.95,boxShadow:`0px 0px 20px ${l||"#06b6d4"}`}};return i.jsxs("div",{className:"relative w-full h-full",children:[i.jsxs(s.button,{variants:E,animate:p?"triggered":"idle",transition:{type:"spring",stiffness:500,damping:15},onClick:()=>{c(),m(!0),v(!1)},onContextMenu:w,className:`relative w-full h-full rounded-lg transition-all duration-300 focus:outline-none flex flex-col justify-between p-2\n                    ${a?"ring-2 ring-offset-2 ring-offset-black/20 ring-cyan-400":""}\n                    ${f?r?"bg-white/20 hover:bg-white/30":"bg-black/30 hover:bg-black/40":r?"bg-white/10":"bg-black/20"}\n                    ${f?"opacity-100":"opacity-60"}\n                `,style:{backgroundColor:r?`${l}${f?"4D":"20"}`:"",border:`1px solid ${r?l:f?"rgba(255,255,255,0.2)":"rgba(255,255,255,0.1)"}`},children:[i.jsx("span",{className:"absolute top-1 left-2 text-xs font-mono transition-colors duration-300 "+(f?"text-white/40":"text-white/20"),children:e}),r&&u&&f&&i.jsx("div",{className:"absolute top-1 right-2",children:i.jsx(_t,{className:"w-3 h-3 text-white/30"})}),!f&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 rounded-lg",children:i.jsx("div",{className:"text-xs text-white/30 font-medium",children:"Click to activate"})}),i.jsx("span",{className:"text-2xl font-bold self-center transition-colors duration-300 "+(f?"text-white/80":"text-white/40"),children:t?.toUpperCase()}),r&&h&&f&&i.jsxs("div",{className:"absolute bottom-6 left-2 right-2 text-xs text-white/60 text-center",children:[k(h.startTime)," - ",k(h.endTime)]}),i.jsx("div",{className:"w-full h-1 absolute bottom-1 left-0",children:r&&i.jsx("div",{className:"h-full rounded-full mx-auto transition-opacity duration-300 "+(f?"opacity-100":"opacity-40"),style:{backgroundColor:l,width:"30%"}})})]}),i.jsx(o,{children:g&&i.jsxs(s.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute z-50 bg-black/90 backdrop-blur-lg border border-white/20 rounded-lg shadow-lg py-1 min-w-[120px]",style:{left:Math.min(y.x,window.innerWidth-140),top:Math.min(y.y,window.innerHeight-80)},onClick:e=>e.stopPropagation(),children:[i.jsxs("button",{onClick:x,className:"w-full px-3 py-2 text-left text-sm text-white hover:bg-white/10 flex items-center gap-2",children:[i.jsx(ct,{className:"w-3 h-3"}),"Edit Timestamp"]}),i.jsxs("button",{onClick:S,className:"w-full px-3 py-2 text-left text-sm text-red-300 hover:bg-red-500/20 flex items-center gap-2",children:[i.jsx(Mt,{className:"w-3 h-3"}),"Delete Sample"]})]})})]})}function Fx({chop:e,audioDuration:t,onSave:r,onCancel:a,onPreview:o,isPreviewPlaying:l=!1,className:c=""}){const[u,d]=n.useState(e?.startTime||0),[h,f]=n.useState(e?.endTime||0),[p,m]=n.useState({}),[g,v]=n.useState(!1),y=n.useRef(null),b=n.useRef(null);n.useEffect(()=>{e&&(d(e.startTime),f(e.endTime),v(!1),m({}))},[e]);const w=n.useCallback(e=>{if(isNaN(e)||e<0)return"00:00.000";const t=Math.floor(e/60),n=Math.floor(e%60),r=Math.floor(e%1*1e3);return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}.${r.toString().padStart(3,"0")}`},[]),x=n.useCallback(e=>{if(!e)return 0;const t=e.match(/^(\d{1,2}):(\d{1,2})(?:\.(\d{1,3}))?$/);if(t){const[,e,n,r="0"]=t,i=60*parseInt(e)+parseInt(n)+parseInt(r.padEnd(3,"0"))/1e3;return Math.max(0,i)}const n=parseFloat(e);return isNaN(n)?0:Math.max(0,n)},[]),S=n.useCallback((e,n)=>{const r={};e<0&&(r.startTime="Start time cannot be negative"),n<0&&(r.endTime="End time cannot be negative"),t&&e>=t&&(r.startTime=`Start time cannot exceed audio duration (${w(t)})`),t&&n>t&&(r.endTime=`End time cannot exceed audio duration (${w(t)})`),e>=n&&(r.endTime="End time must be greater than start time");const i=n-e;return i<.1&&(r.endTime="Sample must be at least 0.1 seconds long"),i>30&&(r.endTime="Sample cannot be longer than 30 seconds"),r},[t,w]),k=n.useCallback(e=>{const t=x(e);d(t),v(!0);const n=S(t,h);m(n)},[h,x,S]),E=n.useCallback(e=>{const t=x(e);f(t),v(!0);const n=S(u,t);m(n)},[u,x,S]),C=n.useCallback(()=>{const t=S(u,h);Object.keys(t).length>0?m(t):r({...e,startTime:u,endTime:h})},[e,u,h,S,r]),_=n.useCallback(()=>{d(e?.startTime||0),f(e?.endTime||0),v(!1),m({}),a()},[e,a]),T=n.useCallback(()=>{d(e?.startTime||0),f(e?.endTime||0),v(!1),m({})},[e]),I=n.useCallback(()=>{Object.keys(p).length>0||o({startTime:u,endTime:h,duration:h-u})},[u,h,p,o]);if(n.useEffect(()=>{const e=e=>{"Enter"===e.key&&(e.ctrlKey||e.metaKey)?(e.preventDefault(),C()):"Escape"===e.key?(e.preventDefault(),_()):" "===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),I())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[C,_,I]),!e)return null;const N=h-u,A=Object.keys(p).length>0;return i.jsxs(s.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`bg-black/80 backdrop-blur-lg border border-white/20 rounded-lg p-4 ${c}`,children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(ct,{className:"w-4 h-4 text-blue-400"}),i.jsxs("h3",{className:"text-sm font-medium text-white",children:["Edit Timestamp - Pad ",e.padId]}),g&&i.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-300 mb-1",children:"Start Time"}),i.jsx(Lx,{ref:y,type:"text",value:w(u),onChange:e=>k(e.target.value),placeholder:"00:00.000",className:"bg-black/40 border-white/20 text-white "+(p.startTime?"border-red-500":"")}),p.startTime&&i.jsx("p",{className:"text-xs text-red-400 mt-1",children:p.startTime})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-300 mb-1",children:"End Time"}),i.jsx(Lx,{ref:b,type:"text",value:w(h),onChange:e=>E(e.target.value),placeholder:"00:00.000",className:"bg-black/40 border-white/20 text-white "+(p.endTime?"border-red-500":"")}),p.endTime&&i.jsx("p",{className:"text-xs text-red-400 mt-1",children:p.endTime})]}),i.jsx("div",{className:"bg-black/20 rounded p-2",children:i.jsxs("div",{className:"flex justify-between text-xs text-gray-300",children:[i.jsx("span",{children:"Duration:"}),i.jsx("span",{className:N>0?"text-green-400":"text-red-400",children:w(N)})]})}),i.jsx(er,{onClick:I,disabled:A,variant:"outline",size:"sm",className:"w-full bg-blue-600/20 border-blue-500/50 text-blue-300 hover:bg-blue-600/30",children:l?i.jsxs(i.Fragment,{children:[i.jsx(Ct,{className:"w-3 h-3 mr-2"}),"Stop Preview"]}):i.jsxs(i.Fragment,{children:[i.jsx(Tt,{className:"w-3 h-3 mr-2"}),"Preview Sample"]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(er,{onClick:C,disabled:!g||A,size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:[i.jsx(st,{className:"w-3 h-3 mr-2"}),"Save"]}),g&&i.jsx(er,{onClick:T,variant:"outline",size:"sm",className:"bg-yellow-600/20 border-yellow-500/50 text-yellow-300 hover:bg-yellow-600/30",children:i.jsx(At,{className:"w-3 h-3"})}),i.jsx(er,{onClick:_,variant:"outline",size:"sm",className:"bg-red-600/20 border-red-500/50 text-red-300 hover:bg-red-600/30",children:i.jsx(Ht,{className:"w-3 h-3"})})]}),i.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[i.jsx("div",{children:"Ctrl+Enter: Save  Escape: Cancel  Ctrl+Space: Preview"}),i.jsx("div",{children:'Format: MM:SS.mmm or seconds (e.g., "1:30.500" or "90.5")'})]})]})]})}Lx.displayName="Input";const zx={q:0,w:1,e:2,r:3,a:4,s:5,d:6,f:7,z:8,x:9,c:10,v:11,t:12,y:13,u:14,i:15};function Vx({chops:e,activeBank:t,selectedPadId:r,setSelectedPadId:a,playerState:l,onCreateSample:c,onUpdateSample:u,onDeleteSample:d,youtubePlayer:h,audioBuffer:f,waveformAPI:p=null}){const m=n.useRef(l),g=n.useRef(null),[v,y]=n.useState(null),[b,w]=n.useState(!1);n.useEffect(()=>{m.current=l},[l]);const x=n.useCallback(t=>{e.filter(e=>e.endTime>t&&e.startTime<t).forEach(e=>{const n={...e,endTime:t};u?.(n)})},[e,u]),S=n.useCallback(e=>{const t=["video","#youtube-player video","#youtube-player iframe",'iframe[src*="youtube"]','[id*="player"] video'];for(const n of t){const t=document.querySelector(n);if(t)if("VIDEO"===t.tagName)try{return t.currentTime=e,void(t.paused&&t.play().catch(e=>{}))}catch(cE){}else if("IFRAME"===t.tagName)try{return void t.contentWindow.postMessage(JSON.stringify({event:"command",func:"seekTo",args:[e,!0]}),"*")}catch(cE){}}if(h)try{if(h.seekTo)return void h.seekTo(e,!0);if(h.getCurrentTime&&h.playVideo)return h.pauseVideo(),void setTimeout(()=>{h.seekTo(e,!0),h.playVideo()},100)}catch(cE){}try{const t=document.querySelector("#youtube-player iframe");if(t&&t.contentWindow)return void t.contentWindow.postMessage(JSON.stringify({event:"command",func:"seekTo",args:[e,!0]}),"https://www.youtube.com")}catch(cE){}},[h]),k=n.useCallback(t=>{a(t);const n=e.find(e=>e.padId===t);n&&S(n.startTime)},[e,a,S]),E=n.useCallback(e=>{a(e)},[a]),C=n.useCallback((n,r=null,i=null)=>{const s=`${t}${n}`;if(null!==r&&null!==i)return c(s,r,i),a(s),void x(r);let o=0,l="fallback";if(h&&h.getCurrentTime)try{o=h.getCurrentTime(),l="youtube-api"}catch(cE){}if(0===o){const e=document.querySelector("video");e&&e.currentTime&&(o=e.currentTime,l="video-element")}0===o&&(o=m.current.currentTime,l="player-state");const u=m.current.duration||180;let d;const f=e.filter(e=>e.startTime>o).sort((e,t)=>e.startTime-t.startTime);if(f.length>0)d=f[0].startTime;else{const e=4;d=Math.min(o+e,u)}d-o<.1&&(d=Math.min(o+.1,u)),c(s,o,d),a(s),x(o)},[t,c,a,h,e,x]);n.useEffect(()=>{const e=()=>w(!0),t=e=>{g.current&&!g.current.contains(e.relatedTarget)&&w(!1)},n=e=>{g.current&&!g.current.contains(e.target)&&w(!1)},r=g.current;if(r)return r.addEventListener("focusin",e),r.addEventListener("focusout",t),document.addEventListener("click",n),()=>{r.removeEventListener("focusin",e),r.removeEventListener("focusout",t),document.removeEventListener("click",n)}},[]),n.useEffect(()=>{const n=n=>{if("INPUT"===n.target.tagName||"TEXTAREA"===n.target.tagName)return;if(!b)return;const r=zx[n.key.toLowerCase()];if(void 0!==r){n.preventDefault(),n.stopPropagation();const i=`${t}${r}`;e.find(e=>e.padId===i)?k(i):m.current.isPlaying?C(r):E(i)}},r={capture:!0,passive:!1};return document.addEventListener("keydown",n,r),()=>document.removeEventListener("keydown",n,r)},[e,t,k,C,E,b]);const _=n.useCallback(e=>{y(e),a(e)},[a]),T=n.useCallback(e=>{u?.(e),y(null)},[u]),I=n.useCallback(()=>{y(null)},[]),N=n.useCallback(e=>{d?.(e),r===e&&a(null),v===e&&y(null)},[d,r,v,a]),A=n.useCallback(e=>{S(e.startTime)},[S]),R={createSampleFromWaveform:n.useCallback((e,t)=>{if(!r)return!1;const n=parseInt(r.slice(1),10);return C(n,e,t),!0},[r,C]),getSelectedPadId:()=>r,selectPad:E,triggerPad:k,jumpToTimestamp:S};n.useEffect(()=>{p&&"object"==typeof p&&(p.padGrid=R)},[p,R]);return i.jsxs("div",{className:"relative",children:[i.jsxs(s.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 flex items-center justify-between text-sm backdrop-blur-sm rounded-xl p-4 border transition-all duration-300 "+(b?"bg-cyan-500/20 border-cyan-400/50":"bg-black/30 border-white/10"),children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 transition-colors duration-300 "+(b?"text-cyan-300":"text-white/60"),children:[i.jsx("div",{className:"w-3 h-3 rounded-full transition-all duration-300 "+(b?"bg-cyan-400":"bg-white/30")}),i.jsx("span",{className:"font-medium",children:b?" Pads Active":" Click Pad Area to Activate"})]}),b&&e.length>0&&i.jsxs("div",{className:"flex items-center gap-1 text-cyan-200",children:[i.jsx("span",{className:"text-green-400",children:""}),i.jsxs("span",{children:[e.length," samples"]})]})]}),!b&&i.jsx("div",{className:"text-xs text-white/40 italic",children:"Click on the pad grid to enable keyboard shortcuts"}),b&&i.jsx("div",{className:"text-xs text-cyan-200/80",children:"Press Q-W-E-R, A-S-D-F, Z-X-C-V, T-Y-U-I to trigger pads"})]}),i.jsx(s.div,{ref:g,initial:{opacity:0,y:20},animate:{opacity:1,y:0,scale:b?1.02:1},transition:{delay:.2,scale:{type:"spring",stiffness:300,damping:20}},onClick:()=>{w(!0)},tabIndex:0,className:"grid grid-cols-4 grid-rows-4 gap-3 aspect-square backdrop-blur-lg rounded-2xl shadow-lg p-4 transition-all duration-300 cursor-pointer focus:outline-none "+(b?"bg-black/30 border-2 border-cyan-400/60 shadow-xl shadow-cyan-500/20":"bg-black/20 border border-white/20 hover:border-white/30"),children:Array.from({length:16}).map((n,s)=>{const a=`${t}${s}`,o=e.find(e=>e.padId===a),l=Object.keys(zx).find(e=>zx[e]===s);return i.jsx(Ux,{padId:a,keyLabel:l,isAssigned:!!o,isSelected:r===a,color:o?.color,chop:o,isPadGridFocused:b,onEdit:_,onDelete:N,onClick:()=>{w(!0),o?k(a):E(a)}},a)})}),i.jsx(o,{children:v&&i.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:i.jsx(Fx,{chop:e.find(e=>e.padId===v),audioDuration:l.duration,onSave:T,onCancel:I,onPreview:A,isPreviewPlaying:!1,className:"max-w-md w-full mx-4"})})})]})}function Bx(e,[t,n]){return Math.min(n,Math.max(t,e))}var Hx=n.createContext(void 0);function Wx(e){const t=e+"CollectionProvider",[n,r]=nr(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=e=>{const{scope:t,children:n}=e,r=a.useRef(null),o=a.useRef(new Map).current;return i.jsx(s,{scope:t,itemMap:o,collectionRef:r,children:n})};l.displayName=t;const c=e+"CollectionSlot",u=Yt(c),d=a.forwardRef((e,t)=>{const{scope:n,children:r}=e,s=Gt(t,o(c,n).collectionRef);return i.jsx(u,{ref:s,children:r})});d.displayName=c;const h=e+"CollectionItemSlot",f="data-radix-collection-item",p=Yt(h),m=a.forwardRef((e,t)=>{const{scope:n,children:r,...s}=e,l=a.useRef(null),c=Gt(t,l),u=o(h,n);return a.useEffect(()=>(u.itemMap.set(l,{ref:l,...s}),()=>{u.itemMap.delete(l)})),i.jsx(p,{[f]:"",ref:c,children:r})});return m.displayName=h,[{Provider:l,Slot:d,ItemSlot:m},function(t){const n=o(e+"CollectionConsumer",t);return a.useCallback(()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${f}]`));return Array.from(n.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current))},[n.collectionRef,n.itemMap])},r]}var $x=["PageUp","PageDown"],qx=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Kx={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Gx="Slider",[Yx,Qx,Jx]=Wx(Gx),[Xx,Zx]=nr(Gx,[Jx]),[eS,tS]=Xx(Gx),nS=n.forwardRef((e,t)=>{const{name:r,min:s=0,max:a=100,step:o=1,orientation:l="horizontal",disabled:c=!1,minStepsBetweenThumbs:u=0,defaultValue:d=[s],value:h,onValueChange:f=()=>{},onValueCommit:p=()=>{},inverted:m=!1,form:g,...v}=e,y=n.useRef(new Set),b=n.useRef(0),w="horizontal"===l?sS:aS,[x=[],S]=cr({prop:h,defaultProp:d,onChange:e=>{const t=[...y.current];t[b.current]?.focus(),f(e)}}),k=n.useRef(x);function E(e,t,{commit:n}={commit:!1}){const r=function(e){return(String(e).split(".")[1]||"").length}(o),i=function(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}(Math.round((e-s)/o)*o+s,r),l=Bx(i,[s,a]);S((e=[])=>{const r=function(e=[],t,n){const r=[...e];return r[n]=t,r.sort((e,t)=>e-t)}(e,l,t);if(function(e,t){if(t>0){const n=function(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}(e);return Math.min(...n)>=t}return!0}(r,u*o)){b.current=r.indexOf(l);const t=String(r)!==String(e);return t&&n&&p(r),t?r:e}return e})}return i.jsx(eS,{scope:e.__scopeSlider,name:r,disabled:c,min:s,max:a,valueIndexToChangeRef:b,thumbs:y.current,values:x,orientation:l,form:g,children:i.jsx(Yx.Provider,{scope:e.__scopeSlider,children:i.jsx(Yx.Slot,{scope:e.__scopeSlider,children:i.jsx(w,{"aria-disabled":c,"data-disabled":c?"":void 0,...v,ref:t,onPointerDown:tr(v.onPointerDown,()=>{c||(k.current=x)}),min:s,max:a,inverted:m,onSlideStart:c?void 0:function(e){const t=function(e,t){if(1===e.length)return 0;const n=e.map(e=>Math.abs(e-t)),r=Math.min(...n);return n.indexOf(r)}(x,e);E(e,t)},onSlideMove:c?void 0:function(e){E(e,b.current)},onSlideEnd:c?void 0:function(){const e=k.current[b.current];x[b.current]!==e&&p(x)},onHomeKeyDown:()=>!c&&E(s,0,{commit:!0}),onEndKeyDown:()=>!c&&E(a,x.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!c){const n=$x.includes(e.key)||e.shiftKey&&qx.includes(e.key)?10:1,r=b.current;E(x[r]+o*n*t,r,{commit:!0})}}})})})})});nS.displayName=Gx;var[rS,iS]=Xx(Gx,{startEdge:"left",endEdge:"right",size:"width",direction:1}),sS=n.forwardRef((e,t)=>{const{min:r,max:s,dir:a,inverted:o,onSlideStart:l,onSlideMove:c,onSlideEnd:u,onStepKeyDown:d,...h}=e,[f,p]=n.useState(null),m=Gt(t,e=>p(e)),g=n.useRef(void 0),v=function(e){const t=n.useContext(Hx);return e||t||"ltr"}(a),y="ltr"===v,b=y&&!o||!y&&o;function w(e){const t=g.current||f.getBoundingClientRect(),n=vS([0,t.width],b?[r,s]:[s,r]);return g.current=t,n(e-t.left)}return i.jsx(rS,{scope:e.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:i.jsx(oS,{dir:v,"data-orientation":"horizontal",...h,ref:m,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const t=w(e.clientX);l?.(t)},onSlideMove:e=>{const t=w(e.clientX);c?.(t)},onSlideEnd:()=>{g.current=void 0,u?.()},onStepKeyDown:e=>{const t=Kx[b?"from-left":"from-right"].includes(e.key);d?.({event:e,direction:t?-1:1})}})})}),aS=n.forwardRef((e,t)=>{const{min:r,max:s,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,h=n.useRef(null),f=Gt(t,h),p=n.useRef(void 0),m=!a;function g(e){const t=p.current||h.current.getBoundingClientRect(),n=vS([0,t.height],m?[s,r]:[r,s]);return p.current=t,n(e-t.top)}return i.jsx(rS,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:i.jsx(oS,{"data-orientation":"vertical",...d,ref:f,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const t=g(e.clientY);o?.(t)},onSlideMove:e=>{const t=g(e.clientY);l?.(t)},onSlideEnd:()=>{p.current=void 0,c?.()},onStepKeyDown:e=>{const t=Kx[m?"from-bottom":"from-top"].includes(e.key);u?.({event:e,direction:t?-1:1})}})})}),oS=n.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=tS(Gx,n);return i.jsx(ur.span,{...u,ref:t,onKeyDown:tr(e.onKeyDown,e=>{"Home"===e.key?(o(e),e.preventDefault()):"End"===e.key?(l(e),e.preventDefault()):$x.concat(qx).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:tr(e.onPointerDown,e=>{const t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),d.thumbs.has(t)?t.focus():r(e)}),onPointerMove:tr(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&s(e)}),onPointerUp:tr(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),a(e))})})}),lS="SliderTrack",cS=n.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=tS(lS,n);return i.jsx(ur.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});cS.displayName=lS;var uS="SliderRange",dS=n.forwardRef((e,t)=>{const{__scopeSlider:r,...s}=e,a=tS(uS,r),o=iS(uS,r),l=Gt(t,n.useRef(null)),c=a.values.length,u=a.values.map(e=>gS(e,a.min,a.max)),d=c>1?Math.min(...u):0,h=100-Math.max(...u);return i.jsx(ur.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...s,ref:l,style:{...e.style,[o.startEdge]:d+"%",[o.endEdge]:h+"%"}})});dS.displayName=uS;var hS="SliderThumb",fS=n.forwardRef((e,t)=>{const r=Qx(e.__scopeSlider),[s,a]=n.useState(null),o=Gt(t,e=>a(e)),l=n.useMemo(()=>s?r().findIndex(e=>e.ref.current===s):-1,[r,s]);return i.jsx(pS,{...e,ref:o,index:l})}),pS=n.forwardRef((e,t)=>{const{__scopeSlider:r,index:s,name:a,...o}=e,l=tS(hS,r),c=iS(hS,r),[u,d]=n.useState(null),h=Gt(t,e=>d(e)),f=!u||(l.form||!!u.closest("form")),p=function(e){const[t,r]=n.useState(void 0);return ir(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const n=t[0];let i,s;if("borderBoxSize"in n){const e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,s=t.blockSize}else i=e.offsetWidth,s=e.offsetHeight;r({width:i,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}(u),m=l.values[s],g=void 0===m?0:gS(m,l.min,l.max),v=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(s,l.values.length),y=p?.[c.size],b=y?function(e,t,n){const r=e/2,i=vS([0,50],[0,r]);return(r-i(t)*n)*n}(y,g,c.direction):0;return n.useEffect(()=>{if(u)return l.thumbs.add(u),()=>{l.thumbs.delete(u)}},[u,l.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${g}% + ${b}px)`},children:[i.jsx(Yx.ItemSlot,{scope:e.__scopeSlider,children:i.jsx(ur.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":l.min,"aria-valuenow":m,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...o,ref:h,style:void 0===m?{display:"none"}:e.style,onFocus:tr(e.onFocus,()=>{l.valueIndexToChangeRef.current=s})})}),f&&i.jsx(mS,{name:a??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:m},s)]})});fS.displayName=hS;var mS=n.forwardRef(({__scopeSlider:e,value:t,...r},s)=>{const a=n.useRef(null),o=Gt(a,s),l=function(e){const t=n.useRef({value:e,previous:e});return n.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(t);return n.useEffect(()=>{const e=a.current;if(!e)return;const n=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(n,"value").set;if(l!==t&&r){const n=new Event("input",{bubbles:!0});r.call(e,t),e.dispatchEvent(n)}},[l,t]),i.jsx(ur.input,{style:{display:"none"},...r,ref:o,defaultValue:t})});function gS(e,t,n){return Bx(100/(n-t)*(e-t),[0,100])}function vS(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}mS.displayName="RadioBubbleInput";var yS=nS,bS=cS,wS=dS,xS=fS;const SS=n.forwardRef(({className:e,...t},n)=>i.jsxs(yS,{ref:n,className:Xn("relative flex w-full touch-none select-none items-center",e),...t,children:[i.jsx(bS,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:i.jsx(wS,{className:"absolute h-full bg-primary"})}),i.jsx(xS,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));SS.displayName=yS.displayName;const kS=function(e,t,...n){if(e=ia(e),tw("collection","path",t),e instanceof ow){const r=sp.fromString(t,...n);return rw(r),new dw(e,null,r)}{if(!(e instanceof uw||e instanceof dw))throw new Bf(Vf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(sp.fromString(t,...n));return rw(r),new dw(e.firestore,null,r)}}(dx,"chopSessions"),ES={async create(e){try{const t=hx.currentUser;if(!t)throw new Error("User not authenticated");const n=e.chops.map(({audioData:e,...t})=>t);return(await function(e,t){const n=sw(e.firestore,pw),r=hw(e),i=function(e,t){let n;return n=e?e.toFirestore(t):t,n}(e.converter,t);return rx(n,[Tw(_w(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,bg.exists(!1))]).then(()=>r)}(kS,{...e,chops:n,userId:t.uid,created_date:new Date})).id}catch(cE){throw cE}},async list(e="-created_date"){try{const t=hx.currentUser;if(!t)return[];const n=function(e,t,...n){let r=[];t instanceof zw&&r.push(t),r=r.concat(n),function(e){const t=e.filter(e=>e instanceof Hw).length,n=e.filter(e=>e instanceof Bw).length;if(t>1||t>0&&n>0)throw new Bf(Vf.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}(kS,function(e,t,n){const r=t,i=Fw("where",e);return Bw._create(i,r,n)}("userId","==",t.uid),function(e,t="asc"){const n=t,r=Fw("orderBy",e);return Ww._create(r,n)}("created_date",e.startsWith("-")?"desc":"asc"));return(await nx(n)).docs.map(e=>({id:e.id,...e.data()}))}catch(cE){throw cE}},async get(e){try{const t=hw(dx,"chopSessions",e),n=await ex(t);if(n.exists()){const e=n.data(),t=hx.currentUser;if(e.userId!==t?.uid)throw new Error("User not authorized to view this session");return{id:n.id,...e}}return null}catch(cE){throw cE}},async delete(e){try{if(!(await this.get(e)))throw new Error("Session not found or user not authorized.");await(t=hw(dx,"chopSessions",e),rx(sw(t.firestore,pw),[new Pg(t._key,bg.none())]))}catch(t){throw t}var t}};let CS=0;const _S=new Map,TS=e=>{if(_S.has(e))return;const t=setTimeout(()=>{_S.delete(e),RS({type:"REMOVE_TOAST",toastId:e})},1e6);_S.set(e,t)},IS=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?TS(n):e.toasts.forEach(e=>{TS(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,open:!1}:e)}}case"REMOVE_TOAST":return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},NS=[];let AS={toasts:[]};function RS(e){AS=IS(AS,e),NS.forEach(e=>{e(AS)})}function PS(e){const t=(CS=(CS+1)%Number.MAX_VALUE,CS.toString()),n=()=>RS({type:"DISMISS_TOAST",toastId:t});return RS({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||n()}}}),{id:t,dismiss:n,update:e=>RS({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function DS(){const[e,t]=n.useState(AS);return n.useEffect(()=>(NS.push(t),()=>{const e=NS.indexOf(t);e>-1&&NS.splice(e,1)}),[e]),{...e,toast:PS,dismiss:e=>RS({type:"DISMISS_TOAST",toastId:e})}}var MS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),jS=n.forwardRef((e,t)=>i.jsx(ur.span,{...e,ref:t,style:{...MS,...e.style}}));jS.displayName="VisuallyHidden";var LS="ToastProvider",[OS,US,FS]=Wx("Toast"),[zS,VS]=nr("Toast",[FS]),[BS,HS]=zS(LS),WS=e=>{const{__scopeToast:t,label:r="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:l}=e,[c,u]=n.useState(null),[d,h]=n.useState(0),f=n.useRef(!1),p=n.useRef(!1);return r.trim(),i.jsx(OS.Provider,{scope:t,children:i.jsx(BS,{scope:t,label:r,duration:s,swipeDirection:a,swipeThreshold:o,toastCount:d,viewport:c,onViewportChange:u,onToastAdd:n.useCallback(()=>h(e=>e+1),[]),onToastRemove:n.useCallback(()=>h(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:l})})};WS.displayName=LS;var $S="ToastViewport",qS=["F8"],KS="toast.viewportPause",GS="toast.viewportResume",YS=n.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:s=qS,label:a="Notifications ({hotkey})",...o}=e,l=HS($S,r),c=US(r),u=n.useRef(null),d=n.useRef(null),h=n.useRef(null),f=n.useRef(null),p=Gt(t,f,l.onViewportChange),m=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=l.toastCount>0;n.useEffect(()=>{const e=e=>{0!==s.length&&s.every(t=>e[t]||e.code===t)&&f.current?.focus()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[s]),n.useEffect(()=>{const e=u.current,t=f.current;if(g&&e&&t){const n=()=>{if(!l.isClosePausedRef.current){const e=new CustomEvent(KS);t.dispatchEvent(e),l.isClosePausedRef.current=!0}},r=()=>{if(l.isClosePausedRef.current){const e=new CustomEvent(GS);t.dispatchEvent(e),l.isClosePausedRef.current=!1}},i=t=>{!e.contains(t.relatedTarget)&&r()},s=()=>{e.contains(document.activeElement)||r()};return e.addEventListener("focusin",n),e.addEventListener("focusout",i),e.addEventListener("pointermove",n),e.addEventListener("pointerleave",s),window.addEventListener("blur",n),window.addEventListener("focus",r),()=>{e.removeEventListener("focusin",n),e.removeEventListener("focusout",i),e.removeEventListener("pointermove",n),e.removeEventListener("pointerleave",s),window.removeEventListener("blur",n),window.removeEventListener("focus",r)}}},[g,l.isClosePausedRef]);const v=n.useCallback(({tabbingDirection:e})=>{const t=c().map(t=>{const n=t.ref.current,r=[n,...fk(n)];return"forwards"===e?r:r.reverse()});return("forwards"===e?t.reverse():t).flat()},[c]);return n.useEffect(()=>{const e=f.current;if(e){const t=t=>{const n=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!n){const n=document.activeElement,r=t.shiftKey;if(t.target===e&&r)return void d.current?.focus();const i=v({tabbingDirection:r?"backwards":"forwards"}),s=i.findIndex(e=>e===n);pk(i.slice(s+1))?t.preventDefault():r?d.current?.focus():h.current?.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},[c,v]),i.jsxs(kr,{ref:u,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&i.jsx(JS,{ref:d,onFocusFromOutsideViewport:()=>{pk(v({tabbingDirection:"forwards"}))}}),i.jsx(OS.Slot,{scope:r,children:i.jsx(ur.ol,{tabIndex:-1,...o,ref:p})}),g&&i.jsx(JS,{ref:h,onFocusFromOutsideViewport:()=>{pk(v({tabbingDirection:"backwards"}))}})]})});YS.displayName=$S;var QS="ToastFocusProxy",JS=n.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,a=HS(QS,n);return i.jsx(jS,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:e=>{const t=e.relatedTarget;!a.viewport?.contains(t)&&r()}})});JS.displayName=QS;var XS="Toast",ZS=n.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:a,...o}=e,[l,c]=cr({prop:r,defaultProp:s??!0,onChange:a,caller:XS});return i.jsx(jr,{present:n||l,children:i.jsx(nk,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:hr(e.onPause),onResume:hr(e.onResume),onSwipeStart:tr(e.onSwipeStart,e=>{e.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:tr(e.onSwipeMove,e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${n}px`)}),onSwipeCancel:tr(e.onSwipeCancel,e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:tr(e.onSwipeEnd,e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${n}px`),c(!1)})})})});ZS.displayName=XS;var[ek,tk]=zS(XS,{onClose(){}}),nk=n.forwardRef((e,t)=>{const{__scopeToast:r,type:s="foreground",duration:a,open:o,onClose:l,onEscapeKeyDown:c,onPause:u,onResume:d,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:m,...g}=e,v=HS(XS,r),[y,b]=n.useState(null),w=Gt(t,e=>b(e)),x=n.useRef(null),S=n.useRef(null),k=a||v.duration,E=n.useRef(0),C=n.useRef(k),_=n.useRef(0),{onToastAdd:T,onToastRemove:I}=v,N=hr(()=>{const e=y?.contains(document.activeElement);e&&v.viewport?.focus(),l()}),R=n.useCallback(e=>{e&&e!==1/0&&(window.clearTimeout(_.current),E.current=(new Date).getTime(),_.current=window.setTimeout(N,e))},[N]);n.useEffect(()=>{const e=v.viewport;if(e){const t=()=>{R(C.current),d?.()},n=()=>{const e=(new Date).getTime()-E.current;C.current=C.current-e,window.clearTimeout(_.current),u?.()};return e.addEventListener(KS,n),e.addEventListener(GS,t),()=>{e.removeEventListener(KS,n),e.removeEventListener(GS,t)}}},[v.viewport,k,u,d,R]),n.useEffect(()=>{o&&!v.isClosePausedRef.current&&R(k)},[o,k,v.isClosePausedRef,R]),n.useEffect(()=>(T(),()=>I()),[T,I]);const P=n.useMemo(()=>y?uk(y):null,[y]);return v.viewport?i.jsxs(i.Fragment,{children:[P&&i.jsx(rk,{__scopeToast:r,role:"status","aria-live":"foreground"===s?"assertive":"polite","aria-atomic":!0,children:P}),i.jsx(ek,{scope:r,onClose:N,children:A.createPortal(i.jsx(OS.ItemSlot,{scope:r,children:i.jsx(Sr,{asChild:!0,onEscapeKeyDown:tr(c,()=>{v.isFocusedToastEscapeKeyDownRef.current||N(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(ur.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...g,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:tr(e.onKeyDown,e=>{"Escape"===e.key&&(c?.(e.nativeEvent),e.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:tr(e.onPointerDown,e=>{0===e.button&&(x.current={x:e.clientX,y:e.clientY})}),onPointerMove:tr(e.onPointerMove,e=>{if(!x.current)return;const t=e.clientX-x.current.x,n=e.clientY-x.current.y,r=Boolean(S.current),i=["left","right"].includes(v.swipeDirection),s=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,a=i?s(0,t):0,o=i?0:s(0,n),l="touch"===e.pointerType?10:2,c={x:a,y:o},u={originalEvent:e,delta:c};r?(S.current=c,dk("toast.swipeMove",f,u,{discrete:!1})):hk(c,v.swipeDirection,l)?(S.current=c,dk("toast.swipeStart",h,u,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(n)>l)&&(x.current=null)}),onPointerUp:tr(e.onPointerUp,e=>{const t=S.current,n=e.target;if(n.hasPointerCapture(e.pointerId)&&n.releasePointerCapture(e.pointerId),S.current=null,x.current=null,t){const n=e.currentTarget,r={originalEvent:e,delta:t};hk(t,v.swipeDirection,v.swipeThreshold)?dk("toast.swipeEnd",m,r,{discrete:!0}):dk("toast.swipeCancel",p,r,{discrete:!0}),n.addEventListener("click",e=>e.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),rk=e=>{const{__scopeToast:t,children:r,...s}=e,a=HS(XS,t),[o,l]=n.useState(!1),[c,u]=n.useState(!1);return function(e=()=>{}){const t=hr(e);ir(()=>{let e=0,n=0;return e=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(n)}},[t])}(()=>l(!0)),n.useEffect(()=>{const e=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(e)},[]),c?null:i.jsx(Mr,{asChild:!0,children:i.jsx(jS,{...s,children:o&&i.jsxs(i.Fragment,{children:[a.label," ",r]})})})},ik=n.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(ur.div,{...r,ref:t})});ik.displayName="ToastTitle";var sk=n.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(ur.div,{...r,ref:t})});sk.displayName="ToastDescription";var ak=n.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?i.jsx(ck,{altText:n,asChild:!0,children:i.jsx(lk,{...r,ref:t})}):null});ak.displayName="ToastAction";var ok="ToastClose",lk=n.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=tk(ok,n);return i.jsx(ck,{asChild:!0,children:i.jsx(ur.button,{type:"button",...r,ref:t,onClick:tr(e.onClick,s.onClose)})})});lk.displayName=ok;var ck=n.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return i.jsx(ur.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function uk(e){const t=[];return Array.from(e.childNodes).forEach(e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const n=e.ariaHidden||e.hidden||"none"===e.style.display,r=""===e.dataset.radixToastAnnounceExclude;if(!n)if(r){const n=e.dataset.radixToastAnnounceAlt;n&&t.push(n)}else t.push(...uk(e))}}),t}function dk(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?dr(i,s):i.dispatchEvent(s)}var hk=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),s=r>i;return"left"===t||"right"===t?s&&r>n:!s&&i>n};function fk(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function pk(e){const t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}var mk=YS,gk=ZS,vk=ik,yk=sk,bk=ak,wk=lk;const xk=WS,Sk=n.forwardRef(({className:e,...t},n)=>i.jsx(mk,{ref:n,className:Xn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Sk.displayName=mk.displayName;const kk=sn("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ek=n.forwardRef(({className:e,variant:t,...n},r)=>i.jsx(gk,{ref:r,className:Xn(kk({variant:t}),e),...n}));Ek.displayName=gk.displayName;n.forwardRef(({className:e,...t},n)=>i.jsx(bk,{ref:n,className:Xn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t})).displayName=bk.displayName;const Ck=n.forwardRef(({className:e,...t},n)=>i.jsx(wk,{ref:n,className:Xn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(Ht,{className:"h-4 w-4"})}));Ck.displayName=wk.displayName;const _k=n.forwardRef(({className:e,...t},n)=>i.jsx(vk,{ref:n,className:Xn("text-sm font-semibold",e),...t}));_k.displayName=vk.displayName;const Tk=n.forwardRef(({className:e,...t},n)=>i.jsx(yk,{ref:n,className:Xn("text-sm opacity-90",e),...t}));function Ik(){const{toasts:e}=DS();return i.jsxs(xk,{children:[e.map(function({id:e,title:t,description:n,action:r,...s}){return i.jsxs(Ek,{...s,children:[i.jsxs("div",{className:"grid gap-1",children:[t&&i.jsx(_k,{children:t}),n&&i.jsx(Tk,{children:n})]}),r,i.jsx(Ck,{})]},e)}),i.jsx(Sk,{})]})}function Nk({activeBank:e,setActiveBank:t,masterVolume:r,setMasterVolume:a,chops:o,youtubeUrl:l}){const{toast:c}=DS(),{currentUser:u}=vx(),[d,h]=n.useState(""),[f,p]=n.useState(!1);return i.jsxs(i.Fragment,{children:[i.jsx(Ik,{}),i.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl shadow-lg p-4 space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white/80",children:[i.jsx(vt,{className:"w-4 h-4 text-cyan-400"}),"Sample Banks"]}),i.jsx("div",{className:"grid grid-cols-4 gap-2",children:["A","B","C","D"].map(n=>i.jsx(er,{onClick:()=>t(n),className:"font-mono text-lg transition-all duration-200\n                                "+(e===n?"bg-cyan-500 text-black shadow-md":"bg-white/10 hover:bg-white/20"),children:n},n))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white/80",children:[i.jsx(Ft,{className:"w-4 h-4 text-cyan-400"}),"Master Volume"]}),i.jsx(SS,{defaultValue:[100],max:100,step:1,onValueChange:e=>a(e[0]/100),className:"[&>span:first-child]:bg-cyan-400"})]}),i.jsxs("div",{className:"space-y-3 pt-4 border-t border-white/10",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white/80",children:[i.jsx(Rt,{className:"w-4 h-4 text-cyan-400"}),"Save Session"]}),u?i.jsxs(i.Fragment,{children:[i.jsx(Lx,{placeholder:"Session Name...",value:d,onChange:e=>h(e.target.value),className:"bg-white/10 border-white/20 placeholder-gray-400"}),i.jsx(er,{onClick:async()=>{if(u)if(d){p(!0);try{await ES.create({sessionName:d,youtubeUrl:l,chops:o,userId:u.uid}),c({title:"Session Saved!",description:`"${d}" has been saved successfully.`})}catch(e){c({variant:"destructive",title:"Save Failed",description:"Could not save your session. Please try again."})}finally{p(!1)}}else c({variant:"destructive",title:"Uh oh! Something went wrong.",description:"Please enter a name for your session."});else c({variant:"destructive",title:"Authentication Required",description:"You must be signed in to save a session."})},disabled:f||!u,className:"w-full bg-purple-600 hover:bg-purple-700 font-bold",children:f?"Saving...":"Save Chops"})]}):i.jsx("div",{className:"text-center text-sm text-white/60 p-4 bg-black/20 rounded-lg",children:i.jsx("p",{children:"Please sign in to save your sessions."})})]})]})]})}function Ak({className:e="",children:t,...n}){return i.jsx("div",{className:`relative w-full rounded-lg border p-4 ${e}`,...n,children:t})}function Rk({className:e="",children:t,...n}){return i.jsx("div",{className:`text-sm ${e}`,...n,children:t})}Tk.displayName=yk.displayName;const Pk=new class{constructor(){this.storageKey="youtube-chopper-sessions",this.currentSessionKey="current-session"}async saveSession(e,t=null){try{const n=this.generateSessionId(),r=(new Date).toISOString(),i={id:n,name:t||`Session ${(new Date).toLocaleDateString()}`,youtubeUrl:e.youtubeUrl,videoId:this.extractVideoId(e.youtubeUrl),chops:e.chops.map(e=>({padId:e.padId,startTime:e.startTime,endTime:e.endTime,color:e.color})),activeBank:e.activeBank||"A",createdAt:r,updatedAt:r,version:"1.0"},s=await this.getAllSessions();return s[n]=i,localStorage.setItem(this.storageKey,JSON.stringify(s)),localStorage.setItem(this.currentSessionKey,n),{success:!0,sessionId:n,sessionName:i.name}}catch(n){return{success:!1,error:n.message}}}async loadSession(e){try{const t=(await this.getAllSessions())[e];if(!t)throw new Error(`Session ${e} not found`);return localStorage.setItem(this.currentSessionKey,e),{success:!0,session:t}}catch(t){return{success:!1,error:t.message}}}async getAllSessions(){try{const e=localStorage.getItem(this.storageKey);return e?JSON.parse(e):{}}catch(e){return{}}}async deleteSession(e){try{const t=await this.getAllSessions();if(!t[e])throw new Error(`Session ${e} not found`);const n=t[e].name;delete t[e],localStorage.setItem(this.storageKey,JSON.stringify(t));return localStorage.getItem(this.currentSessionKey)===e&&localStorage.removeItem(this.currentSessionKey),{success:!0,sessionName:n}}catch(t){return{success:!1,error:t.message}}}getCurrentSessionId(){return localStorage.getItem(this.currentSessionKey)}autoSave(e){this.autoSaveTimeout&&clearTimeout(this.autoSaveTimeout),this.autoSaveTimeout=setTimeout(async()=>{const t=this.getCurrentSessionId();t?await this.updateSession(t,e):await this.saveSession(e,"Auto-saved Session")},2e3)}async updateSession(e,t){try{const n=await this.getAllSessions(),r=n[e];if(!r)throw new Error(`Session ${e} not found`);const i={...r,youtubeUrl:t.youtubeUrl,videoId:this.extractVideoId(t.youtubeUrl),chops:t.chops.map(e=>({padId:e.padId,startTime:e.startTime,endTime:e.endTime,color:e.color})),activeBank:t.activeBank||r.activeBank,updatedAt:(new Date).toISOString()};return n[e]=i,localStorage.setItem(this.storageKey,JSON.stringify(n)),{success:!0,session:i}}catch(n){return{success:!1,error:n.message}}}async exportSession(e){try{const t=await this.loadSession(e);if(!t.success)throw new Error(t.error);return{success:!0,data:{...t.session,exportedAt:(new Date).toISOString(),appVersion:"1.0"},filename:`chopper-session-${t.session.name.replace(/[^a-z0-9]/gi,"-").toLowerCase()}.json`}}catch(t){return{success:!1,error:t.message}}}async importSession(e){try{if(!e.youtubeUrl||!Array.isArray(e.chops))throw new Error("Invalid session data format");const t=this.generateSessionId(),n={...e,id:t,name:`${e.name} (Imported)`,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},r=await this.getAllSessions();return r[t]=n,localStorage.setItem(this.storageKey,JSON.stringify(r)),{success:!0,sessionId:t,session:n}}catch(t){return{success:!1,error:t.message}}}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}extractVideoId(e){const t=e.match(/(?:v=|youtu\.be\/)([^&?]+)/);return t?t[1]:null}clearAllSessions(){localStorage.removeItem(this.storageKey),localStorage.removeItem(this.currentSessionKey)}async getSessionStats(){const e=await this.getAllSessions(),t=Object.values(e);return{totalSessions:t.length,totalChops:t.reduce((e,t)=>e+t.chops.length,0),oldestSession:t.length>0?t.reduce((e,t)=>new Date(t.createdAt)<new Date(e.createdAt)?t:e).createdAt:null,newestSession:t.length>0?t.reduce((e,t)=>new Date(t.createdAt)>new Date(e.createdAt)?t:e).createdAt:null}}};function Dk({currentSession:e,onLoadSession:t,onNewSession:r,isOpen:a,onClose:l}){const[c,u]=n.useState({}),[d,h]=n.useState(""),[f,p]=n.useState(!1),[m,g]=n.useState(null),[v,y]=n.useState(null);n.useEffect(()=>{b()},[]);const b=async()=>{const e=await Pk.getAllSessions();u(e)},w=async()=>{if(!e.youtubeUrl)return void g({type:"error",text:"No video loaded to save"});if(!d.trim())return void g({type:"error",text:"Please enter a session name"});p(!0);const t=await Pk.saveSession(e,d.trim());t.success?(g({type:"success",text:`Session "${t.sessionName}" saved successfully!`}),h(""),await b()):g({type:"error",text:`Failed to save session: ${t.error}`}),p(!1)},x=Object.values(c).sort((e,t)=>new Date(t.updatedAt)-new Date(e.updatedAt));return a?i.jsxs(s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:l,children:[i.jsxs(s.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-black/90 backdrop-blur-lg border border-white/20 rounded-2xl shadow-2xl max-w-4xl w-full max-h-[80vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[i.jsx("div",{className:"p-6 border-b border-white/10",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ht,{className:"w-6 h-6 text-cyan-400"}),i.jsx("h2",{className:"text-xl font-bold text-white",children:"Session Manager"})]}),i.jsx(er,{onClick:l,variant:"ghost",size:"sm",className:"text-white/60 hover:text-white",children:""})]})}),i.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(80vh-120px)]",children:[i.jsx(o,{children:m&&i.jsx(s.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-4",children:i.jsx(Ak,{className:"border "+("success"===m.type?"border-green-400 bg-green-400/10":"border-red-400 bg-red-400/10"),children:i.jsx(Rk,{className:"success"===m.type?"text-green-200":"text-red-200",children:m.text})})})}),i.jsxs("div",{className:"mb-6 p-4 bg-white/5 rounded-lg border border-white/10",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[i.jsx(Rt,{className:"w-5 h-5 text-cyan-400"}),"Save Current Session"]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Lx,{placeholder:"Enter session name...",value:d,onChange:e=>h(e.target.value),className:"bg-white/10 border-white/20 text-white placeholder-gray-400",onKeyPress:e=>"Enter"===e.key&&w()}),i.jsx(er,{onClick:w,disabled:f||!d.trim(),className:"bg-cyan-500 hover:bg-cyan-600 text-black font-bold",children:f?"Saving...":"Save"})]}),e.chops?.length>0&&i.jsxs("p",{className:"text-sm text-white/60 mt-2",children:["Current session has ",e.chops.length," chops"]})]}),i.jsxs("div",{className:"mb-6 flex gap-3",children:[i.jsxs("label",{className:"flex-1",children:[i.jsx("input",{type:"file",accept:".json",onChange:e=>{const t=e.target.files[0];if(!t)return;const n=new FileReader;n.onload=async e=>{try{const t=JSON.parse(e.target.result),n=await Pk.importSession(t);n.success?(g({type:"success",text:`Session "${n.session.name}" imported successfully!`}),await b()):g({type:"error",text:`Failed to import session: ${n.error}`})}catch(t){g({type:"error",text:"Invalid session file format"})}},n.readAsText(t),e.target.value=""},className:"hidden"}),i.jsxs(er,{as:"span",variant:"outline",className:"w-full border-white/20 text-white hover:bg-white/10",children:[i.jsx(Lt,{className:"w-4 h-4 mr-2"}),"Import Session"]})]}),i.jsxs(er,{onClick:r,variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[i.jsx(It,{className:"w-4 h-4 mr-2"}),"New Session"]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-white mb-4",children:["Saved Sessions (",x.length,")"]}),0===x.length?i.jsxs("div",{className:"text-center py-8 text-white/60",children:[i.jsx(ht,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),i.jsx("p",{children:"No saved sessions yet"}),i.jsx("p",{className:"text-sm",children:"Create your first session by saving your current work"})]}):i.jsx("div",{className:"space-y-3",children:x.map(e=>{return i.jsx(s.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-white/5 rounded-lg border border-white/10 hover:bg-white/10 transition-colors",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-white mb-1",children:e.name}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-white/60 mb-2",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Ut,{className:"w-3 h-3"}),e.videoId]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(ct,{className:"w-3 h-3"}),(n=e.updatedAt,new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))]}),i.jsxs("span",{children:[e.chops.length," chops"]})]}),i.jsx("p",{className:"text-xs text-white/40 truncate",children:e.youtubeUrl})]}),i.jsxs("div",{className:"flex gap-2 ml-4",children:[i.jsx(er,{onClick:()=>(async e=>{p(!0);const n=await Pk.loadSession(e);n.success?(t(n.session),g({type:"success",text:`Session "${n.session.name}" loaded successfully!`}),l()):g({type:"error",text:`Failed to load session: ${n.error}`}),p(!1)})(e.id),size:"sm",className:"bg-cyan-500 hover:bg-cyan-600 text-black",children:"Load"}),i.jsx(er,{onClick:()=>(async e=>{const t=await Pk.exportSession(e);if(t.success){const e=new Blob([JSON.stringify(t.data,null,2)],{type:"application/json"}),n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t.filename,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n),g({type:"success",text:"Session exported successfully!"})}else g({type:"error",text:`Failed to export session: ${t.error}`})})(e.id),size:"sm",variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:i.jsx(ut,{className:"w-3 h-3"})}),i.jsx(er,{onClick:()=>y(e.id),size:"sm",variant:"outline",className:"border-red-400/20 text-red-400 hover:bg-red-400/10",children:i.jsx(Mt,{className:"w-3 h-3"})})]})]})},e.id);var n})})]})]})]}),i.jsx(o,{children:v&&i.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 flex items-center justify-center",onClick:()=>y(null),children:i.jsxs(s.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-black/90 border border-red-400/20 rounded-lg p-6 max-w-md mx-4",onClick:e=>e.stopPropagation(),children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Delete Session"}),i.jsx("p",{className:"text-white/70 mb-4",children:"Are you sure you want to delete this session? This action cannot be undone."}),i.jsxs("div",{className:"flex gap-3 justify-end",children:[i.jsx(er,{onClick:()=>y(null),variant:"outline",className:"border-white/20 text-white",children:"Cancel"}),i.jsx(er,{onClick:()=>(async e=>{const t=await Pk.deleteSession(e);t.success?(g({type:"success",text:`Session "${t.sessionName}" deleted`}),await b()):g({type:"error",text:`Failed to delete session: ${t.error}`}),y(null)})(v),className:"bg-red-500 hover:bg-red-600 text-white",children:"Delete"})]})]})})})]}):null}function Mk({value:e=0,className:t="",...n}){const r=Math.min(100,Math.max(0,e));return i.jsx("div",{className:`relative w-full overflow-hidden rounded-full bg-gray-200 ${t}`,...n,children:i.jsx("div",{className:"h-full bg-cyan-500 transition-all duration-300 ease-out",style:{width:`${r}%`}})})}const jk=new class{constructor(){this.workers=[],this.maxWorkers=Math.min(navigator.hardwareConcurrency||4,4),this.workerPool=[],this.activeJobs=new Map,this.cache=new Map,this.config={defaultSamples:400,maxSamples:2e3,chunkSize:1048576,useWebWorkers:!0,enableCaching:!0,progressiveRendering:!0,memoryThreshold:104857600},this.generateWaveform=this.generateWaveform.bind(this),this.generateProgressiveWaveform=this.generateProgressiveWaveform.bind(this),this.cleanup=this.cleanup.bind(this)}async generateWaveform(e,t={}){const n=xx.startMeasurement("waveform_generation");try{const r={samples:Math.min(t.samples||this.config.defaultSamples,this.config.maxSamples),channel:t.channel||0,normalize:!1!==t.normalize,progressive:t.progressive||!1,onProgress:t.onProgress||null},i=this.generateCacheKey(e,r);if(this.config.enableCaching&&this.cache.has(i)){const e=this.cache.get(i);return r.onProgress&&r.onProgress({progress:100,status:"cached"}),n({cached:!0,samples:r.samples}),e}const s=this.estimateAudioSize(e),a=this.config.useWebWorkers&&s>this.config.memoryThreshold;let o;return o=a&&this.supportsWebWorkers()?await this.generateWithWebWorkers(e,r):r.progressive&&s>this.config.memoryThreshold?await this.generateProgressiveWaveform(e,r):await this.generateSynchronous(e,r),this.config.enableCaching&&(this.cache.set(i,o),this.manageCacheSize()),n({samples:r.samples,audioSize:s,useWorkers:a,progressive:r.progressive}),o}catch(r){throw n({error:r.message}),new Error(`Waveform generation failed: ${r.message}`)}}async generateProgressiveWaveform(e,t){const n=e.getChannelData(t.channel),r=n.length,i=Math.floor(r/t.samples),s=Math.min(this.config.chunkSize,Math.floor(r/10)),a=new Float32Array(t.samples);let o=0;for(let c=0;c<r;c+=s){const e=Math.min(c+s,r)-c;if(await this.processChunk(n,c,e,i,a,t.samples),o+=e,t.onProgress){const e=Math.round(o/r*100);t.onProgress({progress:e,status:"processing",processedSamples:o,totalSamples:r})}await this.yieldControl()}let l=Array.from(a);return t.normalize&&(l=this.normalizeWaveform(l)),{data:l,samples:t.samples,duration:e.duration,sampleRate:e.sampleRate,channels:e.numberOfChannels,progressive:!0}}async generateWithWebWorkers(e,t){return new Promise((n,r)=>{const i=this.getWorker(),s=`waveform_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;this.activeJobs.set(s,{worker:i,resolve:n,reject:r});const a=e=>{const{type:o,jobId:l,data:c,error:u}=e.data;l===s&&("progress"===o&&t.onProgress?t.onProgress(c):"complete"===o?(i.removeEventListener("message",a),this.releaseWorker(i),this.activeJobs.delete(s),n(c)):"error"===o&&(i.removeEventListener("message",a),this.releaseWorker(i),this.activeJobs.delete(s),r(new Error(u))))};i.addEventListener("message",a);const o=e.getChannelData(t.channel);i.postMessage({type:"generateWaveform",jobId:s,audioData:o.buffer.slice(),config:{samples:t.samples,normalize:t.normalize,sampleRate:e.sampleRate,duration:e.duration,channels:e.numberOfChannels}}),setTimeout(()=>{this.activeJobs.has(s)&&(i.removeEventListener("message",a),this.releaseWorker(i),this.activeJobs.delete(s),r(new Error("Waveform generation timeout")))},3e4)})}async generateSynchronous(e,t){const n=e.getChannelData(t.channel),r=Math.floor(n.length/t.samples),i=[];for(let s=0;s<t.samples;s++){const e=r*s,a=Math.min(e+r,n.length);let o=0,l=0;for(let t=e;t<a;t++){const e=n[t];o+=e*e,l++}const c=l>0?Math.sqrt(o/l):0;if(i.push(c),t.onProgress&&s%50==0){const e=Math.round(s/t.samples*100);t.onProgress({progress:e,status:"processing"})}s%100==0&&await this.yieldControl()}return{data:t.normalize?this.normalizeWaveform(i):i,samples:t.samples,duration:e.duration,sampleRate:e.sampleRate,channels:e.numberOfChannels,progressive:!1}}async processChunk(e,t,n,r,i,s){const a=Math.floor(n/e.length*s),o=Math.floor(t/e.length*s);for(let l=0;l<a;l++){const t=o+l;if(t>=s)break;const n=Math.floor(t/s*e.length),a=Math.min(n+r,e.length);let c=0,u=0;for(let r=n;r<a;r++){const t=e[r];c+=t*t,u++}const d=u>0?Math.sqrt(c/u):0;i[t]=d}}normalizeWaveform(e){const t=Math.max(...e);if(0===t)return e;const n=1/t;return e.map(e=>e*n)}getWorker(){if(this.workerPool.length>0)return this.workerPool.pop();if(this.workers.length<this.maxWorkers){const e=this.createWorker();return this.workers.push(e),e}return new Promise(e=>{const t=()=>{this.workerPool.length>0?e(this.workerPool.pop()):setTimeout(t,100)};t()})}releaseWorker(e){this.workerPool.push(e)}createWorker(){const e=new Blob(["\n      self.addEventListener('message', function(event) {\n        const { type, jobId, audioData, config } = event.data;\n        \n        if (type === 'generateWaveform') {\n          try {\n            const channelData = new Float32Array(audioData);\n            const blockSize = Math.floor(channelData.length / config.samples);\n            const waveformData = [];\n            \n            for (let i = 0; i < config.samples; i++) {\n              const blockStart = blockSize * i;\n              const blockEnd = Math.min(blockStart + blockSize, channelData.length);\n              \n              let sum = 0;\n              let count = 0;\n              \n              for (let j = blockStart; j < blockEnd; j++) {\n                const sample = channelData[j];\n                sum += sample * sample;\n                count++;\n              }\n              \n              const rms = count > 0 ? Math.sqrt(sum / count) : 0;\n              waveformData.push(rms);\n              \n              // Report progress every 10%\n              if (i % Math.floor(config.samples / 10) === 0) {\n                self.postMessage({\n                  type: 'progress',\n                  jobId,\n                  data: {\n                    progress: Math.round((i / config.samples) * 100),\n                    status: 'processing'\n                  }\n                });\n              }\n            }\n            \n            // Normalize if requested\n            let finalData = waveformData;\n            if (config.normalize) {\n              const maxValue = Math.max(...waveformData);\n              if (maxValue > 0) {\n                const multiplier = 1 / maxValue;\n                finalData = waveformData.map(value => value * multiplier);\n              }\n            }\n            \n            self.postMessage({\n              type: 'complete',\n              jobId,\n              data: {\n                data: finalData,\n                samples: config.samples,\n                duration: config.duration,\n                sampleRate: config.sampleRate,\n                channels: config.channels,\n                progressive: false\n              }\n            });\n            \n          } catch (error) {\n            self.postMessage({\n              type: 'error',\n              jobId,\n              error: error.message\n            });\n          }\n        }\n      });\n    "],{type:"application/javascript"});return new Worker(URL.createObjectURL(e))}supportsWebWorkers(){return"undefined"!=typeof Worker}estimateAudioSize(e){return e.numberOfChannels*e.length*4}generateCacheKey(e,t){return`${`${e.duration}_${e.sampleRate}_${e.numberOfChannels}`}_${`${t.samples}_${t.channel}_${t.normalize}`}`}manageCacheSize(){if(this.cache.size>10){const e=Array.from(this.cache.entries()),t=e.slice(0,e.length-10);for(const[n]of t)this.cache.delete(n)}}async yieldControl(){return new Promise(e=>setTimeout(e,0))}getStats(){return{activeWorkers:this.workers.length,availableWorkers:this.workerPool.length,activeJobs:this.activeJobs.size,cacheSize:this.cache.size,maxWorkers:this.maxWorkers,supportsWebWorkers:this.supportsWebWorkers()}}clearCache(){this.cache.clear()}cleanup(){for(const e of this.workers)e.terminate();this.workers=[],this.workerPool=[],this.activeJobs.clear(),this.cache.clear()}};"undefined"!=typeof window&&window.addEventListener("beforeunload",()=>{jk.cleanup()});const Lk=new class{constructor(){this.audioContext=null,this.mediaElementSource=null,this.analyser=null,this.scriptProcessor=null,this.isCapturing=!1,this.capturedSamples=[],this.videoElement=null,this.captureStartTime=0,this.targetDuration=0,this.config={sampleRate:44100,bufferSize:4096,fftSize:2048,maxCaptureTime:600,waveformSamples:400},this.startCapture=this.startCapture.bind(this),this.stopCapture=this.stopCapture.bind(this),this.cleanup=this.cleanup.bind(this)}async startCapture(e,t=null,n=null){const r=xx.startMeasurement("youtube_stream_capture");try{if(!e)throw new Error("Video element not provided");return this.videoElement=e,this.targetDuration=n||e.duration||this.config.maxCaptureTime,this.audioContext=new(window.AudioContext||window.webkitAudioContext)({sampleRate:this.config.sampleRate}),"suspended"===this.audioContext.state&&await this.audioContext.resume(),this.mediaElementSource=this.audioContext.createMediaElementSource(e),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=this.config.fftSize,this.analyser.smoothingTimeConstant=.8,this.scriptProcessor=this.audioContext.createScriptProcessor(this.config.bufferSize,1,1),this.mediaElementSource.connect(this.analyser),this.analyser.connect(this.scriptProcessor),this.scriptProcessor.connect(this.audioContext.destination),this.setupAudioProcessing(t),this.isCapturing=!0,this.captureStartTime=this.audioContext.currentTime,this.capturedSamples=[],new Promise((e,t)=>{this.captureResolve=e,this.captureReject=t,setTimeout(()=>{this.isCapturing&&this.stopCapture().then(e).catch(t)},1e3*this.targetDuration)})}catch(i){throw r({error:i.message}),new Error(`Capture initialization failed: ${i.message}`)}}setupAudioProcessing(e){let t=0;const n=Math.floor(this.config.sampleRate/10);this.scriptProcessor.onaudioprocess=r=>{if(!this.isCapturing)return;const i=r.inputBuffer.getChannelData(0),s=new Float32Array(i.length);if(s.set(i),this.capturedSamples.push(s),t+=i.length,t%n===0&&e){const n=t/this.config.sampleRate,r=Math.min(n/this.targetDuration*100,99);e({status:"capturing",progress:Math.round(r),capturedTime:n,targetDuration:this.targetDuration})}t/this.config.sampleRate>=this.targetDuration&&this.stopCapture()}}async stopCapture(){if(!this.isCapturing)return null;const e=xx.startMeasurement("youtube_capture_processing");try{this.isCapturing=!1,this.scriptProcessor&&(this.scriptProcessor.disconnect(),this.scriptProcessor.onaudioprocess=null),this.analyser&&this.analyser.disconnect(),this.mediaElementSource&&this.mediaElementSource.disconnect();const t=await this.createAudioBufferFromSamples();if(!t)throw new Error("No audio data captured");const n=await jk.generateWaveform(t,{samples:this.config.waveformSamples,normalize:!0}),r=`youtube_capture_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;Sx.registerBuffer(r,t,{priority:Sx.config.priorityLevels.HIGH,tags:["youtube","captured","streaming"],source:"youtube_stream"});const i={audioBuffer:t,waveformData:n.data,metadata:{duration:t.duration,sampleRate:t.sampleRate,channels:t.numberOfChannels,capturedSamples:this.capturedSamples.length,bufferId:r,source:"youtube_stream"}};return e({success:!0,duration:t.duration,samples:this.capturedSamples.length}),this.captureResolve&&this.captureResolve(i),i}catch(t){throw e({error:t.message}),this.captureReject&&this.captureReject(t),t}}async createAudioBufferFromSamples(){if(0===this.capturedSamples.length)return null;const e=this.capturedSamples.reduce((e,t)=>e+t.length,0);if(0===e)return null;const t=this.audioContext.createBuffer(1,e,this.config.sampleRate),n=t.getChannelData(0);let r=0;for(const i of this.capturedSamples)n.set(i,r),r+=i.length;return t}getStatus(){return{isCapturing:this.isCapturing,capturedSamples:this.capturedSamples.length,capturedDuration:this.capturedSamples.length>0?this.capturedSamples.length*this.config.bufferSize/this.config.sampleRate:0,targetDuration:this.targetDuration,audioContextState:this.audioContext?.state||"not-initialized"}}static isSupported(){return!(!window.AudioContext&&!window.webkitAudioContext)}cleanup(){this.stopCapture(),this.audioContext&&"closed"!==this.audioContext.state&&(this.audioContext.close(),this.audioContext=null),this.capturedSamples=[],this.videoElement=null}};function Ok({youtubeUrl:e,videoElement:t,onCaptureComplete:r,onCaptureError:a,isVideoReady:l=!1}){const[c,u]=n.useState("idle"),[d,h]=n.useState(0),[f,p]=n.useState(null),[m,g]=n.useState(null),[v,y]=n.useState(null);n.useEffect(()=>{u("idle"),h(0),p(null),g(null),y(null)},[e]);const b=n.useCallback(e=>{h(e.progress),p({capturedTime:e.capturedTime,targetDuration:e.targetDuration,status:e.status})},[]),w=n.useCallback(async()=>{if(t)if(l)try{u("capturing"),g(null),h(0);const e=t.duration||300,n=Math.min(e,600),i=await Lk.startCapture(t,b,n);u("processing"),y(i),u("complete"),h(100),r&&r(i)}catch(e){u("error"),g(e.message||"Audio capture failed"),a&&a(e)}else g("Video not ready. Please wait for video to fully load.");else g("Video element not available. Please wait for video to load.")},[t,l,b,r,a]),x=n.useCallback(async()=>{try{u("processing");const e=await Lk.stopCapture();e?(y(e),u("complete"),h(100),r&&r(e)):(u("idle"),h(0))}catch(e){u("error"),g(e.message||"Failed to stop capture")}},[r]),S=n.useCallback(()=>{Lk.cleanup(),u("idle"),h(0),p(null),g(null),y(null)},[]);if(!Lk.constructor.isSupported())return i.jsxs(Ak,{className:"border-red-400 bg-red-400/10",children:[i.jsx(at,{className:"h-4 w-4 text-red-400"}),i.jsx(Rk,{className:"text-red-200",children:"Audio capture is not supported in this browser. Please use a modern browser with Web Audio API support."})]});const k=(()=>{switch(c){case"idle":return{icon:kt,message:"Ready to capture audio from YouTube video",color:"text-white/70"};case"capturing":return{icon:wt,message:`Capturing audio... ${d}%`,color:"text-cyan-400",animate:!0};case"processing":return{icon:wt,message:"Processing captured audio...",color:"text-yellow-400",animate:!0};case"complete":return{icon:ot,message:"Audio capture complete!",color:"text-green-400"};case"error":return{icon:at,message:"Capture failed",color:"text-red-400"};default:return{icon:kt,message:"Unknown state",color:"text-white/50"}}})(),E=k.icon;return i.jsxs(s.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl p-4 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"p-2 bg-purple-600/20 rounded-lg",children:i.jsx(kt,{className:"w-4 h-4 text-purple-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-medium",children:"Audio Capture"}),i.jsx("p",{className:"text-white/60 text-sm",children:"Capture audio directly from YouTube"})]})]}),i.jsx("div",{className:"flex items-center gap-1 text-white/40",children:t?.muted?i.jsx(zt,{className:"w-4 h-4"}):i.jsx(Ft,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(E,{className:`w-4 h-4 ${k.color} ${k.animate?"animate-spin":""}`}),i.jsx("span",{className:`text-sm font-medium ${k.color}`,children:k.message})]}),i.jsx(o,{children:("capturing"===c||"processing"===c)&&i.jsxs(s.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-2",children:[i.jsx(Mk,{value:d,className:"h-2 bg-white/10"}),f&&i.jsxs("div",{className:"flex justify-between text-xs text-white/50",children:[i.jsxs("span",{children:[f.capturedTime?.toFixed(1),"s / ",f.targetDuration?.toFixed(1),"s"]}),i.jsxs("span",{children:[d,"%"]})]})]})}),i.jsx(o,{children:m&&i.jsx(s.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:i.jsxs(Ak,{className:"border-red-400 bg-red-400/10",children:[i.jsx(at,{className:"h-4 w-4 text-red-400"}),i.jsx(Rk,{className:"text-red-200 text-sm",children:m})]})})}),i.jsx(o,{children:v&&"complete"===c&&i.jsx(s.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-green-500/10 border border-green-500/20 rounded-lg p-3",children:i.jsxs("div",{className:"text-green-200 text-sm space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Duration:"}),i.jsxs("span",{children:[v.metadata.duration.toFixed(2),"s"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Sample Rate:"}),i.jsxs("span",{children:[v.metadata.sampleRate," Hz"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Channels:"}),i.jsx("span",{children:v.metadata.channels})]})]})})}),i.jsxs("div",{className:"flex gap-2",children:["idle"===c&&i.jsxs(er,{onClick:w,disabled:!l||!t,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white",children:[i.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Start Capture"]}),"capturing"===c&&i.jsxs(er,{onClick:x,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:[i.jsx(Dt,{className:"w-4 h-4 mr-2"}),"Stop Capture"]}),("complete"===c||"error"===c)&&i.jsxs(i.Fragment,{children:[i.jsx(er,{onClick:S,variant:"outline",className:"flex-1 border-white/20 text-white hover:bg-white/10",children:"Reset"}),"complete"===c&&i.jsxs(er,{onClick:w,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white",children:[i.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Capture Again"]})]})]}),"idle"===c&&i.jsxs("div",{className:"text-xs text-white/40 space-y-1",children:[i.jsx("p",{children:" This captures audio directly from the YouTube player"}),i.jsx("p",{children:" Make sure the video is playing and not muted"}),i.jsx("p",{children:" Capture will automatically stop at video end"})]})]})}const Uk=new class{constructor(){this.retryAttempts=new Map,this.errorHistory=[],this.config={maxRetries:3,baseRetryDelay:1e3,maxRetryDelay:1e4,transientErrorPatterns:[/network/i,/timeout/i,/fetch/i,/connection/i,/temporary/i,/rate.?limit/i,/service.?unavailable/i,/internal.?server/i,/502|503|504/],permanentErrorPatterns:[/not.?found/i,/unauthorized/i,/forbidden/i,/invalid.?url/i,/malformed/i,/unsupported/i,/private/i,/deleted/i,/restricted/i]},this.shouldRetry=this.shouldRetry.bind(this),this.executeWithRetry=this.executeWithRetry.bind(this),this.classifyError=this.classifyError.bind(this)}classifyError(e){const t=`${e?.message||""} ${e?.stack||""}`.toLowerCase();if(this.config.permanentErrorPatterns.some(e=>e.test(t)))return{type:"permanent",category:this.getErrorCategory(t),retryable:!1,userActionRequired:!0,severity:"error"};return this.config.transientErrorPatterns.some(e=>e.test(t))?{type:"transient",category:this.getErrorCategory(t),retryable:!0,userActionRequired:!1,severity:"warning"}:{type:"unknown",category:"system",retryable:!0,userActionRequired:!1,severity:"error"}}getErrorCategory(e){return/network|connection|fetch|cors/i.test(e)?"network":/audio|decode|buffer|context/i.test(e)?"audio":/video|youtube|player|embed/i.test(e)?"video":/timeout|slow|delay/i.test(e)?"timeout":/quota|limit|rate/i.test(e)?"quota":/storage|cache|memory/i.test(e)?"storage":/permission|unauthorized|forbidden/i.test(e)?"permission":"system"}shouldRetry(e,t){if(!this.classifyError(e).retryable)return!1;return(this.retryAttempts.get(t)||0)<this.config.maxRetries}calculateRetryDelay(e){const t=Math.min(this.config.baseRetryDelay*Math.pow(2,e),this.config.maxRetryDelay),n=.3*Math.random()*t;return Math.floor(t+n)}async executeWithRetry(e,t,n={}){const{onProgress:r=null,onRetry:i=null,maxRetries:s=this.config.maxRetries,context:a={}}=n;let o=null;const l=Date.now();this.retryAttempts.set(t,0);for(let h=0;h<=s;h++)try{r&&r({status:0===h?"starting":"retrying",attempt:h+1,maxAttempts:s+1,operationId:t,context:a});const n=await e();return this.retryAttempts.delete(t),this.recordSuccess(t,h,Date.now()-l),n}catch(d){o=d;const e=this.classifyError(d);if(this.recordError(t,d,h,e),h>=s||!e.retryable)break;const n=this.calculateRetryDelay(h);this.retryAttempts.set(t,h+1),i&&i({error:d,attempt:h+1,maxAttempts:s+1,delay:n,classification:e,operationId:t}),r&&r({status:"waiting_retry",attempt:h+1,maxAttempts:s+1,delay:n,error:d.message,operationId:t,context:a}),await this.sleep(n)}this.retryAttempts.delete(t);const c=this.classifyError(o),u=new Error(o.message);throw u.originalError=o,u.classification=c,u.attempts=s+1,u.operationId=t,u}recordError(e,t,n,r){const i={timestamp:Date.now(),operationId:e,error:{message:t.message,stack:t.stack,name:t.name},attempt:n,classification:r};this.errorHistory.push(i),this.errorHistory.length>100&&this.errorHistory.shift()}recordSuccess(e,t,n){}getErrorStats(){const e=Date.now(),t=this.errorHistory.filter(t=>e-t.timestamp<3e5),n={},r={};return t.forEach(e=>{const t=e.classification.category,i=e.classification.type;n[t]=(n[t]||0)+1,r[i]=(r[i]||0)+1}),{totalErrors:this.errorHistory.length,recentErrors:t.length,activeRetries:this.retryAttempts.size,errorsByCategory:n,errorsByType:r,lastError:this.errorHistory[this.errorHistory.length-1]||null}}getUserFriendlyError(e){const t=e.classification||this.classifyError(e),n={network:{title:"Connection Problem",message:"Unable to connect to the service. Please check your internet connection.",suggestions:["Check your internet connection","Try refreshing the page","Wait a moment and try again"]},audio:{title:"Audio Processing Error",message:"Unable to process the audio from this video.",suggestions:["Try a different YouTube video","Check if the video has audio","Ensure your browser supports audio playback"]},video:{title:"Video Player Error",message:"Unable to load or play the video.",suggestions:["Check if the YouTube URL is valid","Ensure the video is public","Try refreshing the page"]},timeout:{title:"Request Timeout",message:"The operation is taking too long to complete.",suggestions:["Check your internet speed","Try a shorter video","Wait and try again later"]},quota:{title:"Service Limit Reached",message:"The service has reached its usage limit.",suggestions:["Wait a few minutes and try again","Try during off-peak hours","Contact support if this persists"]},storage:{title:"Storage Error",message:"Unable to store or retrieve data locally.",suggestions:["Clear your browser cache","Free up storage space","Try using a private/incognito window"]},permission:{title:"Permission Error",message:"Access to the requested resource is denied.",suggestions:["Check if the video is public","Try a different video","Contact the video owner if needed"]},system:{title:"System Error",message:"An unexpected error occurred.",suggestions:["Try refreshing the page","Clear your browser cache","Try a different browser if the issue persists"]}};return{...n[t.category]||n.system,classification:t,canRetry:t.retryable&&!e.attempts,technical:null}}sleep(e){return new Promise(t=>setTimeout(t,e))}reset(){this.errorHistory.length=0,this.retryAttempts.clear()}cleanup(){this.reset()}};const Fk=new class{constructor(){this.audioContext=null,this.supportedFormats=["audio/mpeg","audio/mp3","audio/wav","audio/wave","audio/ogg","audio/webm","audio/mp4","audio/m4a","audio/flac"],this.processFile=this.processFile.bind(this),this.processURL=this.processURL.bind(this),this.cleanup=this.cleanup.bind(this)}async processFile(e,t=null){const n=xx.startMeasurement("audio_file_processing");try{this.validateFile(e),t&&t({status:"reading",progress:10});const r=await this.readFileAsArrayBuffer(e);t&&t({status:"decoding",progress:30}),this.audioContext=new(window.AudioContext||window.webkitAudioContext);const i=await this.audioContext.decodeAudioData(r);t&&t({status:"generating_waveform",progress:70});const s=await jk.generateWaveform(i,{samples:400,normalize:!0,onProgress:e=>{if(t){const n=70+.25*e.progress;t({status:"generating_waveform",progress:Math.round(n)})}}}),a=`uploaded_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;Sx.registerBuffer(a,i,{priority:Sx.config.priorityLevels.HIGH,tags:["uploaded","user_file"],source:"file_upload"});const o={audioBuffer:i,waveformData:s.data,metadata:{filename:e.name,size:e.size,type:e.type,duration:i.duration,sampleRate:i.sampleRate,channels:i.numberOfChannels,bufferId:a}};return t&&t({status:"complete",progress:100}),n({success:!0,filename:e.name,duration:i.duration,size:e.size}),o}catch(r){throw n({error:r.message,filename:e?.name}),new Error(`File processing failed: ${r.message}`)}}async processURL(e,t=null){const n=xx.startMeasurement("audio_url_processing");try{t&&t({status:"downloading",progress:10});const r=await fetch(e);if(!r.ok)throw new Error(`Failed to fetch audio: ${r.status}`);const i=await r.arrayBuffer();t&&t({status:"decoding",progress:50}),this.audioContext=new(window.AudioContext||window.webkitAudioContext);const s=await this.audioContext.decodeAudioData(i);t&&t({status:"generating_waveform",progress:80});const a=await jk.generateWaveform(s,{samples:400,normalize:!0}),o=`url_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;Sx.registerBuffer(o,s,{priority:Sx.config.priorityLevels.MEDIUM,tags:["url","remote"],source:"url_download"});const l={audioBuffer:s,waveformData:a.data,metadata:{url:e,duration:s.duration,sampleRate:s.sampleRate,channels:s.numberOfChannels,bufferId:o}};return t&&t({status:"complete",progress:100}),n({success:!0,url:e,duration:s.duration}),l}catch(r){throw n({error:r.message,url:e}),new Error(`URL processing failed: ${r.message}`)}}validateFile(e){if(!e)throw new Error("No file provided");if(!this.supportedFormats.includes(e.type))throw new Error(`Unsupported file type: ${e.type}. Supported formats: ${this.supportedFormats.join(", ")}`);if(e.size>104857600)throw new Error(`File too large: ${Math.round(e.size/1024/1024)}MB. Maximum size: 100MB`)}readFileAsArrayBuffer(e){return new Promise((t,n)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=()=>n(new Error("Failed to read file")),r.readAsArrayBuffer(e)})}getSupportedFormats(){return[...this.supportedFormats]}isFormatSupported(e){return this.supportedFormats.includes(e)}cleanup(){this.audioContext&&"closed"!==this.audioContext.state&&(this.audioContext.close(),this.audioContext=null)}};const zk=new class{constructor(){this.audioContext=null,this.downloadCache=new Map,this.progressCallbacks=new Map,this.abortControllers=new Map,this.config={maxRetries:3,baseRetryDelay:1e3,maxRetryDelay:1e4,downloadTimeout:6e4,functionUrl:"https://us-central1-chop-stop.cloudfunctions.net/getAudioStream"},this.downloadAndProcessAudio=this.downloadAndProcessAudio.bind(this),this.getAudioBuffer=this.getAudioBuffer.bind(this),this.clearCache=this.clearCache.bind(this),this.cleanup=this.cleanup.bind(this)}getAudioContext(){return this.audioContext&&"closed"!==this.audioContext.state||(this.audioContext=new(window.AudioContext||window.webkitAudioContext)),"suspended"===this.audioContext.state&&this.audioContext.resume().catch(e=>{}),this.audioContext}async downloadAndProcessAudio(e,t=null){if(e instanceof File)return await this.processAudioFile(e,t);if("string"==typeof e){if(this.isDirectAudioURL(e))return await this.processDirectAudioURL(e,t);if(this.isYouTubeURL(e))return await this.processYouTubeURL(e,t);throw new Error("Unsupported URL format")}throw new Error("Invalid source type")}async processAudioFile(e,t=null){const n=xx.startMeasurement("audio_file_upload");try{const r=await Fk.processFile(e,t);return n({success:!0,filename:e.name}),r}catch(r){throw n({error:r.message}),r}}async processDirectAudioURL(e,t=null){const n=xx.startMeasurement("direct_audio_url");try{const r=await Fk.processURL(e,t);return n({success:!0,url:e}),r}catch(r){throw n({error:r.message}),r}}async processYouTubeURL(e,t=null){const n=xx.startMeasurement("audio_download");if(!e)throw new Error("YouTube URL is required");const r=this.getCacheKey(e);if(this.downloadCache.has(r)){const e=this.downloadCache.get(r);return t&&t({status:"ready",progress:100}),n({cached:!0,cacheKey:r}),e}t&&this.progressCallbacks.set(r,t);const i=`audio_download_${r}`;try{const s=await Uk.executeWithRetry(()=>this.performDownload(e,r,t),i,{maxRetries:this.config.maxRetries,onProgress:e=>{t&&t({status:"starting"===e.status?"downloading":"retrying"===e.status||"waiting_retry"===e.status?"retrying":"downloading",progress:0,attempt:e.attempt,maxAttempts:e.maxAttempts,retryDelay:e.delay,error:e.error,operationId:e.operationId})},onRetry:e=>{},context:{youtubeUrl:e,cacheKey:r}});return this.downloadCache.set(r,s),Sx.registerBuffer(r,s.audioBuffer,{priority:Sx.config.priorityLevels.HIGH,source:"audio_download",tags:["youtube","audio"]}),t&&t({status:"ready",progress:100}),n({success:!0,cacheKey:r,audioSize:this.estimateAudioSize(s.audioBuffer),waveformSamples:s.waveformData?.length||0}),s}catch(s){const r=new Error(s.message);throw r.originalError=s.originalError||s,r.classification=s.classification,r.attempts=s.attempts,r.operationId=i,r.youtubeUrl=e,t&&t({status:"error",progress:0,error:r.message,classification:r.classification}),n({error:r.message,classification:r.classification,attempts:r.attempts}),r}}async performDownload(e,t,n){const r=new AbortController;this.abortControllers.set(t,r);try{const t=setTimeout(()=>{r.abort()},this.config.downloadTimeout),i=`${this.config.functionUrl}?url=${encodeURIComponent(e)}`,s=await fetch(i,{method:"GET",signal:r.signal});if(clearTimeout(t),!s.ok){let e=`Server responded with ${s.status}`;try{e=(await s.json()).message||e}catch{e=await s.text()||e}throw new Error(e)}const a=s.headers.get("content-length"),o=s.body.getReader(),l=[];let c=0;for(;;){const{done:e,value:t}=await o.read();if(e)break;if(l.push(t),c+=t.length,a&&n){const e=Math.round(c/parseInt(a)*70);n({status:"downloading",progress:Math.min(e,70),bytesReceived:c,totalBytes:parseInt(a)})}}const u=new ArrayBuffer(c),d=new Uint8Array(u);let h=0;for(const e of l)d.set(e,h),h+=e.length;n&&n({status:"processing",progress:75});const f=this.getAudioContext(),p=await f.decodeAudioData(u);n&&n({status:"generating_waveform",progress:90});return{audioBuffer:p,waveformData:this.generateWaveformData(p)}}finally{this.abortControllers.delete(t)}}async generateWaveformData(e,t=400){const n=xx.startMeasurement("waveform_generation");try{const r=await jk.generateWaveform(e,{samples:t,normalize:!0,progressive:this.estimateAudioSize(e)>52428800});return n({samples:t,audioSize:this.estimateAudioSize(e),progressive:r.progressive}),r.data}catch(r){return n({error:r.message}),this.generateSimpleWaveform(e,t)}}generateSimpleWaveform(e,t=400){const n=e.getChannelData(0),r=Math.floor(n.length/t),i=[];for(let o=0;o<t;o++){const e=r*o;let t=0;for(let i=0;i<r;i++)t+=Math.abs(n[e+i]);i.push(t/r)}const s=Math.max(...i),a=s>0?Math.pow(s,-1):1;return i.map(e=>e*a)}getAudioBuffer(e){const t=this.getCacheKey(e);return this.downloadCache.get(t)||null}isCached(e){const t=this.getCacheKey(e);return this.downloadCache.has(t)}getDownloadProgress(e){const t=this.getCacheKey(e);return this.progressCallbacks.get(t)?{hasProgress:!0}:null}cancelDownload(e){const t=this.getCacheKey(e),n=this.abortControllers.get(t);n&&(n.abort(),this.abortControllers.delete(t)),this.progressCallbacks.delete(t)}clearCache(){for(const[e,t]of this.abortControllers)t.abort();for(const e of this.downloadCache.keys())Sx.unregisterBuffer(e);this.downloadCache.clear(),this.progressCallbacks.clear(),this.abortControllers.clear()}cleanup(){this.clearCache(),this.audioContext&&"closed"!==this.audioContext.state&&(this.audioContext.close().catch(e=>{}),this.audioContext=null)}calculateRetryDelay(e){const t=Math.min(this.config.baseRetryDelay*Math.pow(2,e),this.config.maxRetryDelay),n=.1*Math.random()*t;return Math.floor(t+n)}isDirectAudioURL(e){const t=e.toLowerCase();return[".mp3",".wav",".ogg",".m4a",".flac",".webm"].some(e=>t.includes(e))||e.includes("audio/")||e.includes("soundcloud.com")||e.includes("bandcamp.com")}isYouTubeURL(e){return e.includes("youtube.com")||e.includes("youtu.be")}getCacheKey(e){if("string"==typeof e){const t=e.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/);return t?t[1]:e}return e instanceof File?`file_${e.name}_${e.size}_${e.lastModified}`:e.toString()}sleep(e){return new Promise(t=>setTimeout(t,e))}getStats(){return{cachedItems:this.downloadCache.size,activeDownloads:this.abortControllers.size,audioContextState:this.audioContext?.state||"not_initialized",memoryUsage:this.estimateMemoryUsage()}}estimateMemoryUsage(){let e=0;for(const[,t]of this.downloadCache)t.audioBuffer&&(e+=this.estimateAudioSize(t.audioBuffer));return{bytes:e,mb:Math.round(e/1048576*100)/100}}estimateAudioSize(e){return e.numberOfChannels*e.length*4}};function Vk(){const e=function(e){const[t,r]=n.useState(null),[i,s]=n.useState(!1),[a,o]=n.useState(0),[l,c]=n.useState(null),u=n.useRef(e),d=n.useCallback(async(e,t={})=>{const{maxRetries:n=3,onProgress:i=null,onRetry:a=null,context:l={}}=t;r(null),s(!1),o(0),c(Date.now());try{const t=await Uk.executeWithRetry(e,u.current,{maxRetries:n,onProgress:e=>{"retrying"===e.status||"waiting_retry"===e.status?(s(!0),o(e.attempt-1)):"starting"===e.status&&s(!1),i&&i(e)},onRetry:e=>{o(e.attempt-1),c(Date.now()),a&&a(e)},context:l});return s(!1),r(null),t}catch(d){throw s(!1),r(d),d}},[]),h=n.useCallback(async(e,t={})=>{if(!e)throw new Error("Operation function is required for retry");return d(e,t)},[d]),f=n.useCallback(()=>{r(null),s(!1),o(0),c(null)},[]),p=n.useCallback(e=>Uk.shouldRetry(e,u.current),[]),m=n.useCallback(e=>Uk.getUserFriendlyError(e||e),[]),g=n.useCallback(e=>Uk.classifyError(e||e),[]);return{error:t,isRetrying:i,retryCount:a,lastAttempt:l,executeWithRetry:d,retry:h,reset:f,shouldRetry:p,getUserFriendlyError:m,classifyError:g,getStats:()=>Uk.getErrorStats()}}("audio_processing"),t=n.useCallback(async(t,n={})=>e.executeWithRetry(t,{...n,context:{type:"audio",...n.context}}),[e]),r=n.useCallback(t=>{const n=e.getUserFriendlyError(t);return"audio"===e.classifyError(t).category?{...n,suggestions:["Check if the video has audio content","Try a different YouTube video","Ensure your browser supports Web Audio API",...n.suggestions]}:n},[e]);return{...e,executeAudioOperation:t,getAudioErrorGuidance:r}}"undefined"!=typeof window&&window.addEventListener("beforeunload",()=>{zk.cleanup()});a.Component;class Bk extends a.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,retryCount:0,isRetrying:!1,videoUrl:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t,hasError:!0,videoUrl:this.props.youtubeUrl||null}),this.props.onError&&this.props.onError(e,t)}handleRetry=async()=>{this.setState({isRetrying:!0,retryCount:this.state.retryCount+1});try{this.props.onRetry&&await this.props.onRetry(),setTimeout(()=>{this.setState({hasError:!1,error:null,errorInfo:null,isRetrying:!1,videoUrl:null})},100)}catch(e){this.setState({isRetrying:!1,error:e})}};handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null,retryCount:0,isRetrying:!1,videoUrl:null}),this.props.onReset&&this.props.onReset()};getErrorType(e){const t=e?.message?.toLowerCase()||"";return t.includes("youtube")||t.includes("player")?"youtube":t.includes("network")||t.includes("load")||t.includes("fetch")?"network":t.includes("embed")||t.includes("iframe")?"embed":t.includes("api")||t.includes("script")?"api":t.includes("unavailable")||t.includes("private")||t.includes("restricted")?"unavailable":"unknown"}getErrorDetails(e,t,n){const r=navigator.onLine;switch(e){case"youtube":return{icon:Ot,title:"YouTube Player Error",description:"The YouTube player failed to initialize or load the video.",suggestions:["Check if the YouTube URL is valid","Ensure the video is public and available","Try refreshing the page","Check if YouTube is accessible in your region"],canRetry:!0,severity:"error",showUrl:!0};case"network":return{icon:r?Bt:Vt,title:"Network Connection Error",description:r?"Unable to load the video player. This might be a temporary connection issue.":"You appear to be offline. Video playback requires an internet connection.",suggestions:[r?"Check your internet connection":"Connect to the internet","Try refreshing the page","Check if YouTube is accessible","Wait a moment and try again"],canRetry:!0,severity:"warning",showUrl:!1};case"embed":return{icon:Ut,title:"Video Embed Error",description:"Failed to embed the YouTube video. The video might not allow embedding.",suggestions:["Try a different YouTube video","Check if the video allows embedding","Ensure the video is public","Try copying the URL directly from YouTube"],canRetry:!0,severity:"warning",showUrl:!0};case"api":return{icon:jt,title:"YouTube API Error",description:"Failed to load the YouTube player API. This might be due to browser restrictions.",suggestions:["Check if JavaScript is enabled","Disable ad blockers temporarily","Try a different browser","Clear browser cache and cookies"],canRetry:!0,severity:"error",showUrl:!1};case"unavailable":return{icon:Ot,title:"Video Unavailable",description:"This video cannot be played. It might be private, deleted, or restricted.",suggestions:["Try a different public YouTube video","Check if the video exists and is public","Ensure the video is available in your region","Contact the video owner if it's private"],canRetry:!1,severity:"error",showUrl:!0};default:return{icon:jt,title:"Video Player Error",description:t?.message||"An unexpected error occurred with the video player.",suggestions:["Try refreshing the page","Check your browser compatibility","Clear browser cache","Try a different browser if the issue persists"],canRetry:!0,severity:"error",showUrl:!0}}}extractVideoId(e){if(!e)return null;const t=e.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/);return t?t[1]:null}render(){if(!this.state.hasError)return this.props.children;const e=this.getErrorType(this.state.error),t=this.getErrorDetails(e,this.state.error,this.state.videoUrl),n=t.icon,r=this.extractVideoId(this.state.videoUrl);return i.jsx("div",{className:"bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl shadow-lg p-6",children:i.jsxs(Ak,{className:`border-${"error"===t.severity?"red":"yellow"}-400 bg-${"error"===t.severity?"red":"yellow"}-400/10`,children:[i.jsx(n,{className:`h-4 w-4 text-${"error"===t.severity?"red":"yellow"}-400`}),i.jsx(Rk,{className:`text-${"error"===t.severity?"red":"yellow"}-200`,children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold",children:t.title}),i.jsx("p",{className:"text-sm mt-1",children:t.description})]}),t.showUrl&&this.state.videoUrl&&i.jsxs("div",{className:"bg-black/20 rounded p-2 text-xs",children:[i.jsx("span",{className:"text-white/60",children:"Video URL: "}),i.jsx("span",{className:"text-white/80 break-all",children:this.state.videoUrl}),r&&i.jsxs("div",{className:"mt-1",children:[i.jsx("span",{className:"text-white/60",children:"Video ID: "}),i.jsx("span",{className:"text-white/80",children:r})]})]}),t.suggestions.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium mb-2",children:"Troubleshooting steps:"}),i.jsx("ul",{className:"text-sm space-y-1 list-disc list-inside ml-2",children:t.suggestions.map((e,t)=>i.jsx("li",{children:e},t))})]}),i.jsxs("div",{className:"flex gap-2 pt-2",children:[t.canRetry&&i.jsx(er,{onClick:this.handleRetry,disabled:this.state.isRetrying,size:"sm",className:"bg-cyan-500 hover:bg-cyan-600 text-black",children:this.state.isRetrying?i.jsxs(i.Fragment,{children:[i.jsx(Nt,{className:"w-3 h-3 mr-1 animate-spin"}),"Retrying..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Nt,{className:"w-3 h-3 mr-1"}),"Retry Video ",this.state.retryCount>0&&`(${this.state.retryCount+1})`]})}),i.jsx(er,{onClick:this.handleReset,variant:"outline",size:"sm",className:"border-white/20 text-white/80 hover:bg-white/10",children:"Reset Player"}),this.state.videoUrl&&i.jsxs(er,{onClick:()=>window.open(this.state.videoUrl,"_blank"),variant:"outline",size:"sm",className:"border-white/20 text-white/80 hover:bg-white/10",children:[i.jsx(Ut,{className:"w-3 h-3 mr-1"}),"Open in YouTube"]})]}),!1]})})]})})}}class Hk extends a.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,retryCount:0,isRetrying:!1,lastFailedAction:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t,hasError:!0,lastFailedAction:this.props.lastAction||"unknown"}),this.props.onError&&this.props.onError(e,t)}handleRetry=async()=>{this.setState({isRetrying:!0,retryCount:this.state.retryCount+1});try{this.props.onRetry&&await this.props.onRetry(),setTimeout(()=>{this.setState({hasError:!1,error:null,errorInfo:null,isRetrying:!1,lastFailedAction:null})},100)}catch(e){this.setState({isRetrying:!1,error:e})}};handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null,retryCount:0,isRetrying:!1,lastFailedAction:null}),this.props.onReset&&this.props.onReset()};getErrorType(e){const t=e?.message?.toLowerCase()||"";return t.includes("audiocontext")||t.includes("suspended")?"audiocontext":t.includes("buffer")||t.includes("decode")?"buffer":t.includes("playback")||t.includes("play")?"playback":t.includes("timestamp")||t.includes("time")?"timestamp":t.includes("sample")||t.includes("pad")?"sample":"unknown"}getErrorDetails(e,t,n){switch(e){case"audiocontext":return{icon:Ft,title:"Audio Context Error",description:"The browser's audio system is not responding. This usually happens when audio is blocked or suspended.",suggestions:["Click anywhere on the page to activate audio","Check if audio is muted in your browser","Try refreshing the page","Ensure your browser supports Web Audio API"],canRetry:!0,severity:"warning",action:"Click to activate audio"};case"buffer":return{icon:jt,title:"Audio Buffer Error",description:"There's an issue with the audio data. The audio buffer might be corrupted or invalid.",suggestions:["Try reloading the audio","Check if the original video is still available","Clear the audio cache and try again"],canRetry:!0,severity:"error",action:"Reload audio"};case"playback":return{icon:Tt,title:"Playback Error",description:`Failed to ${n||"play"} the sample. This might be due to audio system conflicts.`,suggestions:["Stop other audio and try again","Check your system audio settings","Try a different sample","Refresh the page if the issue persists"],canRetry:!0,severity:"warning",action:"Try playback again"};case"timestamp":return{icon:jt,title:"Timestamp Error",description:"Invalid sample timing. The start or end time might be outside the audio duration.",suggestions:["Check that timestamps are within the audio length","Ensure start time is before end time","Try creating the sample again","Reload the audio if timestamps seem correct"],canRetry:!0,severity:"warning",action:"Fix timestamps"};case"sample":return{icon:jt,title:"Sample Creation Error",description:"Failed to create or manage the sample. There might be an issue with the sample data.",suggestions:["Try creating the sample at a different time","Check if the audio is fully loaded","Clear existing samples and try again","Ensure the video is playing when creating samples"],canRetry:!0,severity:"error",action:"Create sample again"};default:return{icon:jt,title:"Sample System Error",description:t?.message||"An unexpected error occurred in the sample playback system.",suggestions:["Try the action again","Refresh the page","Clear browser cache if the issue persists","Try a different browser"],canRetry:!0,severity:"error",action:"Try again"}}}render(){if(!this.state.hasError)return this.props.children;const e=this.getErrorType(this.state.error),t=this.getErrorDetails(e,this.state.error,this.state.lastFailedAction),n=t.icon;return i.jsx("div",{className:"p-4 space-y-3",children:i.jsxs(Ak,{className:`border-${"error"===t.severity?"red":"yellow"}-400 bg-${"error"===t.severity?"red":"yellow"}-400/10`,children:[i.jsx(n,{className:`h-4 w-4 text-${"error"===t.severity?"red":"yellow"}-400`}),i.jsx(Rk,{className:`text-${"error"===t.severity?"red":"yellow"}-200`,children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-sm",children:t.title}),i.jsx("p",{className:"text-xs mt-1",children:t.description})]}),t.suggestions.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium mb-1",children:"Quick fixes:"}),i.jsx("ul",{className:"text-xs space-y-0.5 list-disc list-inside ml-2",children:t.suggestions.slice(0,2).map((e,t)=>i.jsx("li",{children:e},t))})]}),i.jsxs("div",{className:"flex gap-2 pt-1",children:[t.canRetry&&i.jsx(er,{onClick:this.handleRetry,disabled:this.state.isRetrying,size:"sm",className:"bg-cyan-500 hover:bg-cyan-600 text-black text-xs h-7",children:this.state.isRetrying?i.jsxs(i.Fragment,{children:[i.jsx(Nt,{className:"w-3 h-3 mr-1 animate-spin"}),"Retrying..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Nt,{className:"w-3 h-3 mr-1"}),t.action]})}),i.jsx(er,{onClick:this.handleReset,variant:"outline",size:"sm",className:"border-white/20 text-white/80 hover:bg-white/10 text-xs h-7",children:"Dismiss"})]})]})})]})})}}const Wk=({error:e,onRetry:t,onReset:n,youtubeUrl:r,isRetrying:s=!1,retryCount:a=0})=>{const o=()=>{r&&window.open(r,"_blank")},l=()=>{n&&n()},c=(e=>{const t=e?.message?.toLowerCase()||"";return t.includes("network")||t.includes("timeout")?"warning":t.includes("unavailable")||t.includes("private")?"error":"warning"})(e),u=(e=>{const n=e?.message?.toLowerCase()||"";return n.includes("network")||n.includes("timeout")?[{icon:Nt,title:"Check Connection",description:"Verify your internet connection and try again",action:t,primary:!0},{icon:dt,title:"Open in YouTube",description:"Listen to the audio directly on YouTube",action:o,primary:!1}]:n.includes("unavailable")||n.includes("private")?[{icon:Lt,title:"Try Different Video",description:"Use a public YouTube video that allows audio extraction",action:l,primary:!0},{icon:dt,title:"Open Original",description:"Check if the video exists and is accessible",action:o,primary:!1}]:[{icon:Nt,title:"Try Again",description:"Retry the audio processing",action:t,primary:!0},{icon:Lt,title:"Different Video",description:"Try with a different YouTube video",action:l,primary:!1}]})(e);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ak,{className:`border-${"error"===c?"red":"yellow"}-400 bg-${"error"===c?"red":"yellow"}-400/10`,children:[i.jsx(zt,{className:`h-4 w-4 text-${"error"===c?"red":"yellow"}-400`}),i.jsx(Rk,{className:`text-${"error"===c?"red":"yellow"}-200`,children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold",children:"Audio Processing Failed"}),i.jsx("p",{className:"text-sm mt-1",children:e?.message||"Unable to process audio from this YouTube video."})]}),a>0&&i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"text-white/60",children:"Retry attempts: "}),i.jsx("span",{className:"text-white/80",children:a})]})]})})]}),s&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Nt,{className:"w-4 h-4 animate-spin text-cyan-400"}),i.jsx("span",{className:"text-sm text-cyan-200",children:"Retrying audio processing..."})]}),i.jsx(Mk,{value:void 0,className:"h-2 bg-white/10"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map((e,t)=>{const n=e.icon;return i.jsx("div",{className:"bg-black/20 backdrop-blur-lg border border-white/20 rounded-xl p-4 "+(e.primary?"ring-2 ring-cyan-500/30":""),children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg "+(e.primary?"bg-cyan-500/20 text-cyan-400":"bg-white/10 text-white/60"),children:i.jsx(n,{className:"w-4 h-4"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h5",{className:"font-medium text-white mb-1",children:e.title}),i.jsx("p",{className:"text-sm text-white/60 mb-3",children:e.description}),i.jsx(er,{onClick:e.action,disabled:s,size:"sm",className:e.primary?"bg-cyan-500 hover:bg-cyan-600 text-black":"bg-white/10 hover:bg-white/20 text-white border-white/20",children:e.title})]})]})},t)})}),i.jsxs("div",{className:"bg-black/10 backdrop-blur-lg border border-white/10 rounded-xl p-4",children:[i.jsxs("h5",{className:"font-medium text-white mb-3 flex items-center gap-2",children:[i.jsx(jt,{className:"w-4 h-4 text-yellow-400"}),"Troubleshooting Tips"]}),i.jsxs("ul",{className:"text-sm text-white/70 space-y-2 list-disc list-inside",children:[i.jsx("li",{children:"Ensure the YouTube video is public and has audio content"}),i.jsx("li",{children:"Check your internet connection stability"}),i.jsx("li",{children:"Try videos that are shorter than 10 minutes for better performance"}),i.jsx("li",{children:"Clear your browser cache if you continue experiencing issues"}),i.jsx("li",{children:"Some videos may have restrictions that prevent audio extraction"})]})]}),r&&i.jsxs("div",{className:"bg-black/10 backdrop-blur-lg border border-white/10 rounded-xl p-4",children:[i.jsx("h5",{className:"font-medium text-white mb-2",children:"Current Video"}),i.jsx("div",{className:"text-sm text-white/60 break-all",children:r}),i.jsx("div",{className:"flex gap-2 mt-3",children:i.jsxs(er,{onClick:o,variant:"outline",size:"sm",className:"border-white/20 text-white/80 hover:bg-white/10",children:[i.jsx(dt,{className:"w-3 h-3 mr-1"}),"Open in YouTube"]})})]})]})},$k=["#06b6d4","#3b82f6","#8b5cf6","#d946ef","#059669","#10b981","#65a30d","#ca8a04","#f97316","#ef4444","#ec4899","#a855f7","#22c55e","#eab308","#f43f5e","#6366f1"];function qk(){const[e,t]=n.useState("https://www.youtube.com/watch?v=yp7-wNhGBDY&t"),[r,a]=n.useState(""),[l,c]=n.useState([]),[u,d]=n.useState("A"),[h,f]=n.useState(null),[p,m]=n.useState({currentTime:0,duration:180,isPlaying:!1}),[g,v]=n.useState(1),[y,b]=n.useState(null),[w,x]=n.useState(null),[S,k]=n.useState(navigator.onLine),[E,C]=n.useState(!1),[_,T]=n.useState(!1),[I,N]=n.useState(""),[A,R]=n.useState(null),[P,D]=n.useState(null),[M,j]=n.useState(!1),{waveformData:L,audioBuffer:O,analysisStatus:U,progress:F,error:z,downloadStats:V,retry:B}=function(e){const[t,r]=n.useState("idle"),[i,s]=n.useState(null),[a,o]=n.useState(null),[l,c]=n.useState(0),[u,d]=n.useState(null),[h,f]=n.useState(null),p=n.useRef(null),m=n.useRef(!0),g=n.useCallback(t=>{if(m.current&&p.current===e)switch(c(t.progress||0),t.status){case"downloading":r("fetching"),f({attempt:t.attempt,maxAttempts:t.maxAttempts,bytesReceived:t.bytesReceived,totalBytes:t.totalBytes});break;case"processing":case"generating_waveform":r("decoding");break;case"retrying":r("fetching"),f({attempt:t.attempt,maxAttempts:t.maxAttempts,retryDelay:t.retryDelay,lastError:t.error});break;case"ready":r("ready"),f(null);break;case"error":r(`error: ${t.error}`),d(t.error),f(null)}},[e]),v=n.useCallback(async()=>{e&&(d(null),r("idle"),c(0),f(null),zk.cancelDownload(e),y())},[e]),y=n.useCallback(async()=>{if(!e||!m.current)return;if(p.current=e,d(null),s(null),o(null),c(0),f(null),e.includes("youtube.com")||e.includes("youtu.be"))return r("ready"),void c(100);const t=zk.getAudioBuffer(e);if(t)return o(t.audioBuffer),s(t.waveformData),r("ready"),void c(100);try{r("fetching");const t=await zk.downloadAndProcessAudio(e,g);m.current&&p.current===e&&(o(t.audioBuffer),s(t.waveformData),r("ready"),c(100),d(null),f(null))}catch(n){m.current&&p.current===e&&(r(`error: ${n.message}`),d(n.message),s(null),o(null),c(0),f(null))}},[e,g]);return n.useEffect(()=>(m.current=!0,e?(y(),()=>{m.current=!1,p.current&&zk.cancelDownload(p.current)}):(r("idle"),s(null),o(null),c(0),d(null),f(null),void(p.current=null))),[e,y]),n.useEffect(()=>()=>{m.current=!1,p.current&&zk.cancelDownload(p.current)},[]),{waveformData:i,audioBuffer:a,analysisStatus:t,progress:l,error:u,downloadStats:h,retry:v,serviceStats:zk.getStats(),isCached:!!e&&zk.isCached(e),cancelDownload:()=>{e&&zk.cancelDownload(e)}}}(r),H=Vk(),W=l.find(e=>e.padId===h);n.useEffect(()=>{},[L,U,r,P]),n.useEffect(()=>{const e=()=>k(!1);return window.addEventListener("online",()=>k(!0)),window.addEventListener("offline",e),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e)}},[]),n.useEffect(()=>{if(!r&&e&&S)try{const t=new URL(e),n=t.searchParams.get("v")||t.pathname.split("/").pop();if(n&&11===n.length){a(`https://www.youtube.com/watch?v=${n}`)}}catch(t){}},[r,e,S]);const $=n.useCallback(e=>{b(e);try{if(e&&e.getVideoData){const t=e.getVideoData();N(t.title||"Unknown Video")}}catch(t){}setTimeout(()=>{const e=document.querySelector("video");e&&(R(e),j(!0))},1e3)},[]),q=n.useCallback((e,t)=>{h&&c(n=>{const r=n.findIndex(e=>e.padId===h);if(r>-1){const i=[...n];return i[r]={...i[r],[e]:t},i}{const r=parseInt(h.slice(1),10),i="startTime"===e?t:p.currentTime,s="endTime"===e?t:Math.min(p.currentTime+2,p.duration);return[...n,{padId:h,startTime:i,endTime:s,color:$k[r%$k.length]}]}})},[h,p.currentTime,p.duration]),K=n.useCallback((e,t,n)=>{const r=parseInt(e.slice(1),10),i={padId:e,startTime:t,endTime:n,color:$k[r%$k.length]};c(t=>{const n=t.findIndex(t=>t.padId===e);if(n>-1){const e=[...t];return e[n]=i,e}return[...t,i]})},[]),G=n.useCallback(e=>{c(t=>{const n=t.findIndex(t=>t.padId===e.padId);if(n>-1){const r=[...t];return r[n]=e,r}return t})},[]),Y=n.useCallback(e=>{c(t=>t.filter(t=>t.padId!==e)),h===e&&f(null)},[h]),Q=e=>e.includes("network")||e.includes("fetch")?"Network error: Unable to load video. Check your internet connection.":e.includes("timeout")?"Loading timeout: The video is taking too long to load.":e.includes("unavailable")||e.includes("private")?"Video unavailable: This video may be private, deleted, or restricted.":e.includes("quota")||e.includes("limit")?"Service limit reached: Please try again later.":`Video loading failed: ${e}`,J=e=>e.includes("network")||e.includes("fetch")?"Check your internet connection and try again.":e.includes("timeout")?"Try refreshing the page or check your connection speed.":e.includes("unavailable")||e.includes("private")?"Try a different public YouTube video.":e.includes("quota")||e.includes("limit")?"Wait a few minutes and try again.":"Try refreshing the page or using a different video.",X=()=>{C(!1),B&&B()},Z=()=>{C(!1),a(""),c([])},ee=n.useCallback((e,t)=>{y&&(y.seekTo(e,!0),t&&f(t.padId))},[y]),te=n.useCallback(()=>{y&&(p.isPlaying?y.pauseVideo():y.playVideo())},[y,p.isPlaying]),ne=n.useCallback(()=>({youtubeUrl:r,chops:l,activeBank:u,playerState:p}),[r,l,u,p]),re=n.useCallback(e=>{t(e.youtubeUrl),a(e.youtubeUrl),c(e.chops||[]),d(e.activeBank||"A"),f(null)},[]);n.useCallback(()=>{t(""),a(""),c([]),d("A"),f(null),T(!1),D(null),j(!1)},[]);const ie=n.useCallback(e=>{D(e)},[]),se=n.useCallback(e=>{},[]),ae=n.useCallback(e=>{},[]),oe=(()=>{const e={message:"",type:"info",showProgress:!1,showRetry:!1,actionable:null};switch(U){case"idle":return{...e,message:"Enter a YouTube URL to load video.",type:"info"};case"fetching":case"decoding":return{...e,message:"Loading video...",type:"loading",showProgress:!1};case"ready":const t=P?"Audio captured! Create samples by pressing keys or use capture controls.":"Video ready. Use capture controls or press keys to create samples!";return{...e,message:t,type:"success"};default:if(U.startsWith("error:")){const t=U.substring(6);return{...e,message:Q(t),type:"error",showRetry:!0,actionable:J(t)}}return{...e,message:"Loading...",type:"loading"}}})();return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(s.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl shadow-lg p-6",children:[i.jsxs("form",{onSubmit:t=>{if(t.preventDefault(),x(null),S)if(e.trim())try{const t=new URL(e),n=t.searchParams.get("v")||t.pathname.split("/").pop();if(!n||11!==n.length)throw new Error("Invalid YouTube URL. Please make sure you're using a valid YouTube video link.");a(`https://www.youtube.com/watch?v=${n}`),c([]),D(null),j(!1),R(null)}catch(n){x(n.message||"Invalid YouTube URL format. Please check the URL and try again.")}else x("Please enter a YouTube URL.");else x("You're offline. Please check your internet connection and try again.")},className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Wt,{className:"w-6 h-6 text-red-500 flex-shrink-0"}),!S&&i.jsx(Vt,{className:"w-4 h-4 text-red-400"}),S&&i.jsx(Bt,{className:"w-4 h-4 text-green-400"})]}),i.jsx(Lx,{type:"text",placeholder:"Paste a YouTube URL to begin...",value:e,onPaste:e=>{const n=e.clipboardData.getData("text");t(n)},onChange:e=>{t(e.target.value),x(null)},className:"bg-white/10 border-white/20 placeholder-gray-400 "+(w?"border-red-400 focus:border-red-400":""),disabled:!S}),i.jsx(er,{type:"submit",className:"bg-cyan-500 hover:bg-cyan-600 text-black font-bold",disabled:!S||"fetching"===U||"decoding"===U,children:"fetching"===U||"decoding"===U?i.jsxs(i.Fragment,{children:[i.jsx(wt,{className:"w-4 h-4 mr-2 animate-spin"}),"Loading"]}):"Load Video"}),i.jsxs(er,{onClick:()=>T(!0),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[i.jsx(ht,{className:"w-4 h-4 mr-2"}),"Sessions"]})]}),i.jsx(o,{children:w&&i.jsx(s.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4",children:i.jsxs(Ak,{className:"border-red-400 bg-red-400/10",children:[i.jsx(at,{className:"h-4 w-4 text-red-400"}),i.jsx(Rk,{className:"text-red-200",children:w})]})})}),i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:["loading"===oe.type&&i.jsx(wt,{className:"w-4 h-4 animate-spin text-cyan-400"}),"success"===oe.type&&i.jsx(ot,{className:"w-4 h-4 text-green-400"}),"error"===oe.type&&i.jsx(at,{className:"w-4 h-4 text-red-400"}),i.jsx("span",{className:"text-sm font-medium "+("error"===oe.type?"text-red-200":"success"===oe.type?"text-green-200":"loading"===oe.type?"text-cyan-200":"text-white/60"),children:oe.message})]}),oe.showRetry&&i.jsxs(er,{onClick:X,variant:"outline",size:"sm",className:"border-white/20 text-white/80 hover:bg-white/10",children:[i.jsx(Nt,{className:"w-3 h-3 mr-1"}),"Retry"]})]}),oe.showProgress&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(Mk,{value:F,className:"h-2 bg-white/10"}),i.jsxs("div",{className:"flex justify-between text-xs text-white/50",children:[i.jsxs("span",{children:[Math.round(F),"% complete"]}),V?.bytesReceived&&V?.totalBytes&&i.jsxs("span",{children:[Math.round(V.bytesReceived/1024/1024),"MB /",Math.round(V.totalBytes/1024/1024),"MB"]})]})]}),oe.actionable&&i.jsxs("div",{className:"text-xs text-white/40 italic",children:[" ",oe.actionable]}),P&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-purple-300 bg-purple-500/10 rounded-lg px-3 py-2",children:[i.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-pulse"}),i.jsxs("span",{children:["Using captured audio (",P.metadata.duration.toFixed(1),"s) - High quality samples available"]})]}),V&&(V.attempt>1||V.lastError)&&i.jsxs("details",{className:"text-xs text-white/40",children:[i.jsx("summary",{className:"cursor-pointer hover:text-white/60",children:"Technical Details"}),i.jsxs("div",{className:"mt-2 space-y-1 pl-4 border-l border-white/10",children:[V.attempt>1&&i.jsxs("div",{children:["Retry attempt: ",V.attempt,"/",V.maxAttempts]}),V.retryDelay&&i.jsxs("div",{children:["Next retry in: ",Math.round(V.retryDelay/1e3),"s"]}),V.lastError&&i.jsxs("div",{children:["Last error: ",V.lastError]})]})]})]})]}),E&&z?i.jsx(Wk,{error:z,onRetry:X,onReset:Z,youtubeUrl:r,isRetrying:H.isRetrying,retryCount:H.retryCount}):i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsx(Bk,{youtubeUrl:r,onError:(e,t)=>{},onRetry:X,onReset:Z,children:i.jsx(Ex,{youtubeUrl:r,setPlayerState:m,volume:g,onPlayerReady:$})}),i.jsx(Dx,{enableAutoRecovery:!0,onFallbackMode:()=>C(!0),children:i.jsx(Ox,{playerState:p,selectedChop:W,setChopTime:q,waveformData:P?.waveformData||L,deleteChop:Y,youtubeUrl:r,allChops:l,onTimestampClick:ee,isPlaying:p.isPlaying,onPlayPause:te,capturedAudioData:P})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx(Nk,{activeBank:u,setActiveBank:d,masterVolume:g,setMasterVolume:v,chops:l,youtubeUrl:r}),M&&r&&i.jsx(Ok,{youtubeUrl:r,videoElement:A,onCaptureComplete:ie,onCaptureError:se,isVideoReady:"ready"===U}),i.jsxs("div",{className:"relative "+("ready"!==U?"opacity-50 pointer-events-none":""),children:[i.jsx(Hk,{onError:(e,t)=>{},onRetry:X,onReset:()=>c([]),children:i.jsx(Vx,{chops:l,activeBank:u,selectedPadId:h,setSelectedPadId:f,setPlayerState:m,playerState:p,onCreateSample:K,onUpdateSample:G,onDeleteSample:Y,youtubePlayer:y,audioBuffer:P?.audioBuffer||O,capturedAudioData:P})}),"ready"!==U&&i.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-2xl flex items-center justify-center",children:i.jsx("p",{className:"text-white/80 font-semibold",children:"Waiting for video..."})})]})]})]}),i.jsx(Dk,{currentSession:ne(),onLoadSession:re,onSaveSession:ae,isOpen:_,onClose:()=>T(!1)})]})}const Kk=n.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Xn("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Kk.displayName="Card";const Gk=n.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Xn("flex flex-col space-y-1.5 p-6",e),...t}));Gk.displayName="CardHeader";const Yk=n.forwardRef(({className:e,...t},n)=>i.jsx("h3",{ref:n,className:Xn("text-2xl font-semibold leading-none tracking-tight",e),...t}));Yk.displayName="CardTitle";const Qk=n.forwardRef(({className:e,...t},n)=>i.jsx("p",{ref:n,className:Xn("text-sm text-muted-foreground",e),...t}));Qk.displayName="CardDescription";const Jk=n.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Xn("p-6 pt-0",e),...t}));Jk.displayName="CardContent";const Xk=n.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Xn("flex items-center p-6 pt-0",e),...t}));function Zk({className:e,...t}){return i.jsx("div",{className:Xn("animate-pulse rounded-md bg-muted",e),...t})}function eE(){const[e,t]=n.useState([]),[r,a]=n.useState(!0),{user:l,loading:c}=vx(),[u,d]=n.useState(!1);n.useEffect(()=>{!c&&l?h():c||l||(a(!1),t([]))},[l,c]);const h=async()=>{a(!0);try{const e=await ES.list("-created_date");t(e)}catch(e){}finally{a(!1)}},f=e=>{if(!e)return"";const t=e.match(/(?:v=)([^&?]+)/)||e.match(/(?:youtu.be\/)([^&?]+)/),n=t?t[1]:"";return n?`https://img.youtube.com/vi/${n}/mqdefault.jpg`:""};return c?i.jsx("div",{className:"text-center col-span-full py-20 bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl",children:i.jsx("p",{className:"text-white/70",children:"Loading sessions..."})}):l?i.jsxs("div",{className:"space-y-6",children:[i.jsxs(s.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center gap-4 text-3xl font-bold tracking-tighter",children:[i.jsx(mt,{className:"w-8 h-8 text-cyan-400"}),i.jsx("h2",{children:"My Saved Sessions"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:i.jsx(o,{children:r?Array.from({length:4}).map((e,t)=>i.jsxs(Kk,{className:"bg-black/20 backdrop-blur-lg border border-white/20 text-white overflow-hidden",children:[i.jsx(Gk,{children:i.jsx(Zk,{className:"h-40 -mx-6 -mt-6"})}),i.jsxs(Jk,{children:[i.jsx(Zk,{className:"h-6 w-3/4 mb-2"}),i.jsx(Zk,{className:"h-4 w-1/2"})]}),i.jsxs(Xk,{className:"flex justify-between",children:[i.jsx(Zk,{className:"h-10 w-24"}),i.jsx(Zk,{className:"h-10 w-10"})]})]},t)):e.map(n=>i.jsx(s.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{type:"spring",stiffness:260,damping:20},children:i.jsxs(Kk,{className:"bg-black/20 backdrop-blur-lg border border-white/20 text-white overflow-hidden shadow-xl hover:shadow-cyan-500/20 transition-shadow duration-300 h-full flex flex-col",children:[i.jsx(Gk,{className:"p-0",children:i.jsx("img",{src:f(n.youtubeUrl),alt:n.sessionName,className:"w-full h-40 object-cover"})}),i.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[i.jsx(Yk,{className:"tracking-tight",children:n.sessionName}),i.jsxs(Qk,{className:"text-white/60 flex items-center gap-2 mt-1",children:[i.jsx(bt,{className:"w-4 h-4"}),n.chops?.length||0," Chops"]}),i.jsx("div",{className:"flex-grow"}),i.jsxs(Xk,{className:"p-0 pt-6 flex justify-between items-center",children:[i.jsx(qe,{to:`/?sessionId=${n.id}`,children:i.jsx(er,{className:"bg-cyan-500 hover:bg-cyan-600 text-black font-bold",children:"Load"})}),i.jsx(er,{variant:"ghost",size:"icon",className:"text-red-500 hover:bg-red-500/20",onClick:()=>(async n=>{try{await ES.delete(n),t(e.filter(e=>e.id!==n))}catch(r){}})(n.id),children:i.jsx(Mt,{className:"w-5 h-5"})})]})]})]})},n.id))})}),!r&&0===e.length&&i.jsxs("div",{className:"text-center col-span-full py-20 bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl",children:[i.jsx("p",{className:"text-white/70",children:"You have no saved sessions."}),i.jsx(qe,{to:"/",children:i.jsx(er,{className:"mt-4 bg-cyan-500 hover:bg-cyan-600 text-black font-bold",children:"Create your first chop!"})})]})]}):i.jsxs("div",{className:"text-center col-span-full py-20 bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl",children:[i.jsx("p",{className:"text-white/70",children:"Please sign in to view your saved sessions."}),i.jsxs(er,{onClick:()=>d(!0),className:"mt-4 bg-cyan-500 hover:bg-cyan-600 text-black font-bold",children:[i.jsx(xt,{className:"w-4 h-4 mr-2"}),"Sign In"]}),i.jsx(px,{isOpen:u,onOpenChange:d})]})}Xk.displayName="CardFooter";const tE=new class{constructor(){this.audioContext=null,this.masterGainNode=null,this.compressorNode=null,this.limiterNode=null,this.bufferSize=128,this.sampleRate=44100,this.latencyHint="interactive",this.sampleCache=new Map,this.preloadedBuffers=new Map,this.activeVoices=new Map,this.maxVoices=32,this.voicePool=[],this.voiceIndex=0,this.latencyMeasurements=[],this.avgLatency=0,this.initialize()}async initialize(){try{const e={latencyHint:this.latencyHint,sampleRate:this.sampleRate};if(this.audioContext=new(window.AudioContext||window.webkitAudioContext)(e),this.audioContext.audioWorklet)try{await this.setupAudioWorklet()}catch(cE){this.setupScriptProcessor()}else this.setupScriptProcessor();"suspended"===this.audioContext.state&&await this.audioContext.resume(),this.setupAudioChain(),this.preWarmAudioContext()}catch(e){throw e}}async setupAudioWorklet(){const e=new Blob(["\n            class UltraLowLatencyProcessor extends AudioWorkletProcessor {\n                constructor() {\n                    super();\n                    this.samples = new Map();\n                    this.triggers = [];\n                }\n                \n                process(inputs, outputs, parameters) {\n                    const output = outputs[0];\n                    const outputChannel = output[0];\n                    \n                    // Process any pending triggers\n                    while (this.triggers.length > 0) {\n                        const trigger = this.triggers.shift();\n                        // Immediate sample playback logic here\n                    }\n                    \n                    return true;\n                }\n            }\n            \n            registerProcessor('ultra-low-latency-processor', UltraLowLatencyProcessor);\n        "],{type:"application/javascript"}),t=URL.createObjectURL(e);await this.audioContext.audioWorklet.addModule(t),this.workletNode=new AudioWorkletNode(this.audioContext,"ultra-low-latency-processor"),URL.revokeObjectURL(t)}setupScriptProcessor(){this.scriptProcessor=this.audioContext.createScriptProcessor(this.bufferSize,0,2),this.scriptProcessor.onaudioprocess=e=>{e.outputBuffer}}setupAudioChain(){this.masterGainNode=this.audioContext.createGain(),this.masterGainNode.gain.value=1,this.compressorNode=this.audioContext.createDynamicsCompressor(),this.compressorNode.threshold.value=-12,this.compressorNode.knee.value=0,this.compressorNode.ratio.value=3,this.compressorNode.attack.value=.001,this.compressorNode.release.value=.01,this.limiterNode=this.audioContext.createDynamicsCompressor(),this.limiterNode.threshold.value=-.1,this.limiterNode.knee.value=0,this.limiterNode.ratio.value=20,this.limiterNode.attack.value=1e-4,this.limiterNode.release.value=.001,this.masterGainNode.connect(this.compressorNode),this.compressorNode.connect(this.limiterNode),this.limiterNode.connect(this.audioContext.destination)}preWarmAudioContext(){const e=this.audioContext.createBuffer(1,1,this.audioContext.sampleRate),t=this.audioContext.createBufferSource();t.buffer=e,t.connect(this.masterGainNode),t.start()}async preloadSample(e,t,n,r){try{const i=Math.floor(n*t.sampleRate),s=Math.floor(r*t.sampleRate)-i;if(s<=0)throw new Error("Invalid sample range");const a=this.audioContext.createBuffer(t.numberOfChannels,s,t.sampleRate);for(let e=0;e<t.numberOfChannels;e++){const n=t.getChannelData(e),r=a.getChannelData(e),o=Math.min(64,s/10);for(let e=0;e<s;e++){let t=n[i+e]||0;e<o?t*=e/o:e>s-o&&(t*=(s-e)/o),r[e]=t}}return this.preloadedBuffers.set(e,{buffer:a,duration:s/t.sampleRate,originalStart:n,originalEnd:r,preloadedAt:this.audioContext.currentTime}),!0}catch(i){return!1}}async triggerSample(e,t=1,n={}){const r=performance.now();try{const i=this.preloadedBuffers.get(e);if(!i)return this.triggerSampleFallback(e,t,n);const s=this.audioContext.createBufferSource(),a=this.audioContext.createGain();s.buffer=i.buffer,a.gain.value=t*(n.volume||1),s.connect(a),a.connect(this.masterGainNode);const o=this.audioContext.currentTime+(n.delay||0);s.start(o);const l=this.getNextVoiceId();this.activeVoices.set(l,{source:s,gainNode:a,sampleId:e,startTime:r,audioStartTime:o}),s.onended=()=>{this.cleanupVoice(l)};const c=performance.now()-r;return this.recordLatency(c),{voiceId:l,latency:c,success:!0}}catch(i){return{success:!1,error:i.message,latency:performance.now()-r}}}async triggerSampleFallback(e,t,n){return{success:!1,error:"Sample not preloaded"}}stopSample(e,t=.01){const n=this.activeVoices.get(e);if(!n)return!1;try{if(t>0){const e=this.audioContext.currentTime;n.gainNode.gain.setValueAtTime(n.gainNode.gain.value,e),n.gainNode.gain.linearRampToValueAtTime(0,e+t),n.source.stop(e+t)}else n.source.stop();return!0}catch(r){return!1}}stopAllSamples(e=.01){const t=Array.from(this.activeVoices.keys());let n=0;return t.forEach(t=>{this.stopSample(t,e)&&n++}),n}getNextVoiceId(){return`voice_${Date.now()}_${this.voiceIndex++}`}cleanupVoice(e){const t=this.activeVoices.get(e);if(t){try{t.source.disconnect(),t.gainNode.disconnect()}catch(cE){}this.activeVoices.delete(e)}}recordLatency(e){this.latencyMeasurements.push(e),this.latencyMeasurements.length>100&&this.latencyMeasurements.shift(),this.avgLatency=this.latencyMeasurements.reduce((e,t)=>e+t,0)/this.latencyMeasurements.length}getPerformanceMetrics(){return{averageLatency:this.avgLatency,minLatency:Math.min(...this.latencyMeasurements),maxLatency:Math.max(...this.latencyMeasurements),activeVoices:this.activeVoices.size,preloadedSamples:this.preloadedBuffers.size,audioContextLatency:{base:1e3*this.audioContext?.baseLatency||0,output:1e3*this.audioContext?.outputLatency||0},bufferSize:this.bufferSize,sampleRate:this.audioContext?.sampleRate||0}}setMasterVolume(e){if(this.masterGainNode){const t=this.audioContext.currentTime;this.masterGainNode.gain.setTargetAtTime(e,t,.01)}}async optimizeForUltraLowLatency(){try{this.audioContext.audioWorklet&&"requestIdleCallback"in window&&window.requestIdleCallback(()=>{this.preloadOptimization()})}catch(e){}}preloadOptimization(){for(const[e,t]of this.preloadedBuffers)this.audioContext.currentTime,t.preloadedAt}dispose(){try{this.stopAllSamples(0),this.scriptProcessor&&this.scriptProcessor.disconnect(),this.workletNode&&this.workletNode.disconnect(),this.audioContext&&"closed"!==this.audioContext.state&&this.audioContext.close(),this.preloadedBuffers.clear(),this.activeVoices.clear()}catch(e){}}};const nE=new class{constructor(){this.measurements={keyPress:[],audioTrigger:[],bufferLatency:[],totalLatency:[]},this.thresholds={excellent:5,good:10,acceptable:20,poor:50},this.isMonitoring=!1,this.monitoringInterval=null,this.callbacks=new Set,this.optimizations={bufferSizeReduced:!1,audioWorkletEnabled:!1,preloadingActive:!1,contextOptimized:!1}}startMonitoring(e=1e3){this.isMonitoring||(this.isMonitoring=!0,this.monitoringInterval=setInterval(()=>{this.collectSystemMetrics(),this.analyzePerformance(),this.notifyCallbacks()},e))}stopMonitoring(){this.isMonitoring&&(this.isMonitoring=!1,this.monitoringInterval&&(clearInterval(this.monitoringInterval),this.monitoringInterval=null))}recordKeyPressLatency(e,t){const n=t-e;return this.addMeasurement("keyPress",n),n}recordAudioTriggerLatency(e,t){const n=t-e;return this.addMeasurement("audioTrigger",n),n}recordBufferLatency(e){return this.addMeasurement("bufferLatency",e),e}recordTotalLatency(e,t){const n=t-e;return this.addMeasurement("totalLatency",n),n}addMeasurement(e,t){this.measurements[e]||(this.measurements[e]=[]),this.measurements[e].push({value:t,timestamp:performance.now()}),this.measurements[e].length>100&&this.measurements[e].shift()}collectSystemMetrics(){try{if(window.AudioContext||window.webkitAudioContext){const e=new(window.AudioContext||window.webkitAudioContext)({latencyHint:"interactive"});this.recordBufferLatency(1e3*e.baseLatency),e.close()}if(performance.memory){const e=performance.memory;this.lastMemoryUsage={used:e.usedJSHeapSize/1024/1024,total:e.totalJSHeapSize/1024/1024,limit:e.jsHeapSizeLimit/1024/1024}}}catch(e){}}analyzePerformance(){const e=this.getLatencyAnalysis();e.totalLatency.average>this.thresholds.acceptable&&this.suggestOptimizations(e),this.autoOptimize(e)}suggestOptimizations(e){const t=[];e.bufferLatency.average>10&&t.push({type:"buffer",message:"Consider reducing audio buffer size",impact:"high",action:()=>this.optimizeBufferSize()}),e.keyPress.average>5&&t.push({type:"input",message:"Key input latency is high - check for blocking operations",impact:"medium",action:()=>this.optimizeInputHandling()}),this.lastMemoryUsage&&this.lastMemoryUsage.used>.8*this.lastMemoryUsage.limit&&t.push({type:"memory",message:"High memory usage detected - consider cleanup",impact:"medium",action:()=>this.optimizeMemoryUsage()}),t.length>0&&this.notifyCallbacks({type:"suggestions",suggestions:t})}autoOptimize(e){!this.optimizations.preloadingActive&&e.totalLatency.average>15&&this.enablePreloading(),!this.optimizations.contextOptimized&&e.bufferLatency.average>8&&this.optimizeAudioContext()}enablePreloading(){this.optimizations.preloadingActive=!0,this.notifyCallbacks({type:"optimization",action:"enablePreloading"})}optimizeAudioContext(){this.optimizations.contextOptimized=!0,this.notifyCallbacks({type:"optimization",action:"optimizeAudioContext"})}getLatencyAnalysis(){const e={};for(const[t,n]of Object.entries(this.measurements)){if(0===n.length){e[t]={average:0,min:0,max:0,count:0,rating:"unknown"};continue}const r=n.map(e=>e.value),i=r.reduce((e,t)=>e+t,0)/r.length,s=Math.min(...r),a=Math.max(...r);e[t]={average:parseFloat(i.toFixed(2)),min:parseFloat(s.toFixed(2)),max:parseFloat(a.toFixed(2)),count:n.length,rating:this.getRating(i)}}return e}getRating(e){return e<this.thresholds.excellent?"excellent":e<this.thresholds.good?"good":e<this.thresholds.acceptable?"acceptable":e<this.thresholds.poor?"poor":"unacceptable"}getPerformanceStatus(){const e=this.getLatencyAnalysis(),t=e.totalLatency.average||0;return{overall:{latency:t,rating:this.getRating(t),status:t<this.thresholds.good?"optimal":"needs-optimization"},breakdown:e,optimizations:this.optimizations,recommendations:this.getRecommendations(e)}}getRecommendations(e){const t=[];return e.totalLatency.average>this.thresholds.acceptable&&(t.push("Consider using a dedicated audio interface"),t.push("Close other audio applications"),t.push("Reduce browser tab count")),e.bufferLatency.average>10&&(t.push("Try using Chrome or Firefox for better audio performance"),t.push("Enable hardware acceleration in browser settings")),e.keyPress.average>5&&(t.push("Disable browser extensions that might interfere"),t.push("Use a wired keyboard for better response")),t}subscribe(e){return this.callbacks.add(e),()=>this.callbacks.delete(e)}notifyCallbacks(e=null){const t=this.getPerformanceStatus();this.callbacks.forEach(n=>{try{n(e||t)}catch(r){}})}exportData(){return{measurements:this.measurements,analysis:this.getLatencyAnalysis(),optimizations:this.optimizations,timestamp:(new Date).toISOString()}}clearMeasurements(){for(const e of Object.keys(this.measurements))this.measurements[e]=[]}dispose(){this.stopMonitoring(),this.callbacks.clear(),this.clearMeasurements()}};function rE({isVisible:e,onClose:t}){const[r,a]=n.useState(null),[l,c]=n.useState(null),[u,d]=n.useState([]),[h,f]=n.useState(!1);n.useEffect(()=>{if(!e)return;const t=()=>{const e=nE.getPerformanceStatus(),t=tE.getPerformanceMetrics();a(e),c(t),d(e.recommendations||[])};t();const n=nE.subscribe(t),r=setInterval(t,1e3);return()=>{n(),clearInterval(r)}},[e]);const p=e=>{switch(e){case"excellent":return"text-green-400 bg-green-500/20";case"good":return"text-blue-400 bg-blue-500/20";case"acceptable":return"text-yellow-400 bg-yellow-500/20";case"poor":return"text-orange-400 bg-orange-500/20";case"unacceptable":return"text-red-400 bg-red-500/20";default:return"text-gray-400 bg-gray-500/20"}};return e?i.jsx(o,{children:i.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:i.jsxs(s.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-gray-900 border border-white/20 rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(rt,{className:"w-6 h-6 text-cyan-400"}),i.jsx("h2",{className:"text-xl font-bold text-white",children:"Performance Dashboard"}),r?.overall&&i.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm ${p(r.overall.rating)}`,children:[(e=>{switch(e){case"excellent":return i.jsx($t,{className:"w-4 h-4"});case"good":return i.jsx(ot,{className:"w-4 h-4"});case"acceptable":default:return i.jsx(rt,{className:"w-4 h-4"});case"poor":case"unacceptable":return i.jsx(jt,{className:"w-4 h-4"})}})(r.overall.rating),r.overall.rating.toUpperCase()]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:async()=>{f(!0);try{nE.clearMeasurements(),await tE.optimizeForUltraLowLatency(),setTimeout(()=>{f(!1)},2e3)}catch(e){f(!1)}},disabled:h,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-600 text-white rounded-lg transition-colors flex items-center gap-2",children:h?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Optimizing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pt,{className:"w-4 h-4"}),"Optimize"]})}),i.jsx("button",{onClick:()=>{const e=nE.exportData(),t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=`latency-report-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)},className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Export Data"}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 text-white rounded-lg transition-colors",children:i.jsx(Ht,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[r?.overall&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Overall Performance"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[i.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Total Latency"}),i.jsxs("div",{className:"text-2xl font-bold text-white",children:[r.overall.latency.toFixed(1),"ms"]})]}),i.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[i.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Status"}),i.jsx("div",{className:`text-lg font-semibold ${p(r.overall.rating).split(" ")[0]}`,children:r.overall.status.replace("-"," ").toUpperCase()})]}),i.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[i.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Rating"}),i.jsx("div",{className:`text-lg font-semibold ${p(r.overall.rating).split(" ")[0]}`,children:r.overall.rating.toUpperCase()})]})]})]}),r?.breakdown&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Latency Breakdown"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Object.entries(r.breakdown).map(([e,t])=>i.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[i.jsx("div",{className:"text-sm text-white/60 mb-2 capitalize",children:e.replace(/([A-Z])/g," $1").trim()}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-xs text-white/40",children:"Avg:"}),i.jsxs("span",{className:"text-sm text-white",children:[t.average,"ms"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-xs text-white/40",children:"Min:"}),i.jsxs("span",{className:"text-sm text-white",children:[t.min,"ms"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-xs text-white/40",children:"Max:"}),i.jsxs("span",{className:"text-sm text-white",children:[t.max,"ms"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-xs text-white/40",children:"Count:"}),i.jsx("span",{className:"text-sm text-white",children:t.count})]}),i.jsx("div",{className:`text-xs px-2 py-1 rounded ${p(t.rating)} text-center`,children:t.rating.toUpperCase()})]})]},e))})]}),l&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Engine Status"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[i.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Active Voices"}),i.jsx("div",{className:"text-xl font-bold text-white",children:l.activeVoices})]}),i.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[i.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Preloaded Samples"}),i.jsx("div",{className:"text-xl font-bold text-white",children:l.preloadedSamples})]}),i.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[i.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Buffer Size"}),i.jsx("div",{className:"text-xl font-bold text-white",children:l.bufferSize})]}),i.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[i.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Sample Rate"}),i.jsxs("div",{className:"text-xl font-bold text-white",children:[l.sampleRate,"Hz"]})]})]}),l.audioContextLatency&&i.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[i.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Base Latency"}),i.jsxs("div",{className:"text-xl font-bold text-white",children:[l.audioContextLatency.base.toFixed(2),"ms"]})]}),i.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[i.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Output Latency"}),i.jsxs("div",{className:"text-xl font-bold text-white",children:[l.audioContextLatency.output.toFixed(2),"ms"]})]})]})]}),u.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Recommendations"}),i.jsx("div",{className:"space-y-2",children:u.map((e,t)=>i.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-3",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(jt,{className:"w-4 h-4 text-yellow-400 mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-sm text-yellow-200",children:e})]})},t))})]}),r?.optimizations&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Active Optimizations"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(r.optimizations).map(([e,t])=>i.jsx("div",{className:"bg-black/30 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-white capitalize",children:e.replace(/([A-Z])/g," $1").trim()}),i.jsx("div",{className:"w-3 h-3 rounded-full "+(t?"bg-green-400":"bg-gray-500")})]})},e))})]})]})]})})}):null}function iE(){const[e,t]=n.useState(!1),[r,a]=n.useState([]),[o,l]=n.useState(!1),[c,u]=n.useState(null),[d,h]=n.useState(null),[f,p]=n.useState(!1),[m,g]=n.useState(null);n.useRef(null);const v=n.useRef(0);n.useEffect(()=>((async()=>{try{await tE.initialize(),await tE.optimizeForUltraLowLatency(),nE.startMonitoring(100);const e=new(window.AudioContext||window.webkitAudioContext),n=e.sampleRate,r=.5,i=440,s=e.createBuffer(1,n*r,n),a=s.getChannelData(0);for(let t=0;t<a.length;t++){const e=t/n,r=Math.exp(3*-e);a[t]=Math.sin(2*Math.PI*i*e)*r*.3}g(s),await tE.preloadSample("TEST",s,0,r),t(!0)}catch(e){}})(),()=>{nE.stopMonitoring()}),[]),n.useEffect(()=>{if(!e)return;return nE.subscribe(e=>{h(e)})},[e]);const y=[{name:"Single Trigger Test",description:"Test single sample trigger latency",iterations:1,delay:0,test:async()=>{const e=performance.now(),t=await tE.triggerSample("TEST",1),n=performance.now();return{success:t.success,latency:t.latency,totalTime:n-e,engineLatency:t.latency}}},{name:"Rapid Fire Test",description:"Test rapid successive triggers (10 triggers, 100ms apart)",iterations:10,delay:100,test:async()=>{const e=performance.now(),t=await tE.triggerSample("TEST",1),n=performance.now();return{success:t.success,latency:t.latency,totalTime:n-e,engineLatency:t.latency}}},{name:"Burst Test",description:"Test simultaneous triggers (5 at once)",iterations:5,delay:0,simultaneous:!0,test:async()=>{const e=performance.now(),t=Array(5).fill().map(()=>tE.triggerSample("TEST",1)),n=await Promise.all(t),r=performance.now(),i=n.reduce((e,t)=>e+(t.latency||0),0)/n.length;return{success:n.every(e=>e.success),latency:i,totalTime:r-e,engineLatency:i,results:n}}},{name:"Stress Test",description:"Test system under load (50 triggers, 50ms apart)",iterations:50,delay:50,test:async()=>{const e=performance.now(),t=await tE.triggerSample("TEST",1),n=performance.now();return{success:t.success,latency:t.latency,totalTime:n-e,engineLatency:t.latency}}}];return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 p-6",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Ultra-Low Latency Test Suite"}),i.jsx("p",{className:"text-white/60",children:"Comprehensive performance testing for audio latency optimization"})]}),i.jsx("div",{className:"flex items-center gap-3",children:e?i.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-green-500/20 text-green-300 rounded-lg",children:[i.jsx($t,{className:"w-4 h-4"}),"System Ready"]}):i.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-yellow-500/20 text-yellow-300 rounded-lg",children:[i.jsx(Nt,{className:"w-4 h-4 animate-spin"}),"Initializing..."]})})]}),d&&i.jsxs("div",{className:"bg-black/30 rounded-xl p-6 mb-8",children:[i.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Current Performance"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-white",children:[d.overall?.latency?.toFixed(1)||"--","ms"]}),i.jsx("div",{className:"text-sm text-white/60",children:"Overall Latency"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold "+("excellent"===d.overall?.rating?"text-green-400":"good"===d.overall?.rating?"text-blue-400":"acceptable"===d.overall?.rating?"text-yellow-400":"text-red-400"),children:d.overall?.rating?.toUpperCase()||"UNKNOWN"}),i.jsx("div",{className:"text-sm text-white/60",children:"Rating"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-white",children:tE.getPerformanceMetrics()?.activeVoices||0}),i.jsx("div",{className:"text-sm text-white/60",children:"Active Voices"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-white",children:tE.getPerformanceMetrics()?.preloadedSamples||0}),i.jsx("div",{className:"text-sm text-white/60",children:"Preloaded"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[i.jsxs("div",{className:"bg-black/30 rounded-xl p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Test Configurations"}),i.jsx("div",{className:"space-y-3",children:y.map((t,n)=>i.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-white",children:t.name}),i.jsx("button",{onClick:()=>(async t=>{if(o||!e)return;l(!0),u(t.name),v.current=0;const n=[],r=Date.now();try{if(t.simultaneous){const e=await t.test();n.push({iteration:1,timestamp:Date.now(),...e})}else for(let r=0;r<t.iterations;r++){v.current=r+1;const e=await t.test();n.push({iteration:r+1,timestamp:Date.now(),...e}),e.success&&nE.recordTotalLatency(performance.now()-e.totalTime,performance.now()),t.delay>0&&r<t.iterations-1&&await new Promise(e=>setTimeout(e,t.delay))}const e=Date.now()-r,i=n.filter(e=>e.success),s=i.map(e=>e.latency),o=i.map(e=>e.totalTime),l={testName:t.name,description:t.description,totalIterations:t.iterations,successfulIterations:i.length,successRate:i.length/t.iterations*100,testDuration:e,latency:{min:Math.min(...s),max:Math.max(...s),avg:s.reduce((e,t)=>e+t,0)/s.length,median:s.sort((e,t)=>e-t)[Math.floor(s.length/2)]},totalTime:{min:Math.min(...o),max:Math.max(...o),avg:o.reduce((e,t)=>e+t,0)/o.length},results:n,timestamp:(new Date).toISOString()};a(e=>[l,...e])}catch(i){}finally{l(!1),u(null),v.current=0}})(t),disabled:o||!e,className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 disabled:bg-gray-600 text-white rounded-lg transition-colors flex items-center gap-2",children:o&&c===t.name?i.jsxs(i.Fragment,{children:[i.jsx(Nt,{className:"w-4 h-4 animate-spin"}),"Running... (",v.current,"/",t.iterations,")"]}):i.jsxs(i.Fragment,{children:[i.jsx(Tt,{className:"w-4 h-4"}),"Run Test"]})})]}),i.jsx("p",{className:"text-sm text-white/60",children:t.description}),i.jsxs("div",{className:"text-xs text-white/40 mt-1",children:[t.iterations," iterations  ",t.delay,"ms delay"]})]},n))})]}),i.jsxs("div",{className:"bg-black/30 rounded-xl p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Manual Controls"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("button",{onClick:async()=>{if(!e)return;performance.now(),await tE.triggerSample("TEST",1),performance.now()},disabled:!e,className:"w-full px-6 py-4 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-600 text-white rounded-lg transition-colors flex items-center justify-center gap-2 text-lg font-semibold",children:[i.jsx($t,{className:"w-5 h-5"}),"Manual Trigger Test"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("button",{onClick:()=>p(!0),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2",children:[i.jsx(it,{className:"w-4 h-4"}),"Dashboard"]}),i.jsxs("button",{onClick:()=>{const e={testResults:r,performanceMetrics:d,engineMetrics:tE.getPerformanceMetrics(),timestamp:(new Date).toISOString(),userAgent:navigator.userAgent},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download=`latency-test-results-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)},disabled:0===r.length,className:"px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white rounded-lg transition-colors flex items-center justify-center gap-2",children:[i.jsx(ut,{className:"w-4 h-4"}),"Export"]})]}),i.jsxs("button",{onClick:()=>{a([]),nE.clearMeasurements()},disabled:0===r.length,className:"w-full px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-600 text-white rounded-lg transition-colors flex items-center justify-center gap-2",children:[i.jsx(Dt,{className:"w-4 h-4"}),"Clear Results"]})]})]})]}),r.length>0&&i.jsxs("div",{className:"bg-black/30 rounded-xl p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Test Results"}),i.jsx("div",{className:"space-y-4",children:r.map((e,t)=>i.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/5 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"font-semibold text-white",children:e.testName}),i.jsx("div",{className:"text-sm text-white/60",children:new Date(e.timestamp).toLocaleTimeString()})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-white/60",children:"Success Rate"}),i.jsxs("div",{className:"text-lg font-semibold text-white",children:[e.successRate.toFixed(1),"%"]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-white/60",children:"Avg Latency"}),i.jsxs("div",{className:"text-lg font-semibold text-white",children:[e.latency.avg.toFixed(2),"ms"]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-white/60",children:"Min/Max"}),i.jsxs("div",{className:"text-lg font-semibold text-white",children:[e.latency.min.toFixed(1),"/",e.latency.max.toFixed(1),"ms"]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-white/60",children:"Test Duration"}),i.jsxs("div",{className:"text-lg font-semibold text-white",children:[(e.testDuration/1e3).toFixed(1),"s"]})]})]}),i.jsxs("div",{className:"text-sm text-white/60",children:[e.description,"  ",e.successfulIterations,"/",e.totalIterations," successful"]})]},t))})]}),i.jsx(rE,{isVisible:f,onClose:()=>p(!1)})]})})}const sE=[{icon:yt,title:"Intuitive Sampling",description:"Easily chop YouTube videos into custom samples."},{icon:$t,title:"Live Performance",description:"Trigger samples instantly with keyboard shortcuts."},{icon:pt,title:"Web-Based Access",description:"Use it anywhere, anytime, directly in your browser."}],aE="chopshop_feature_tour_shown";function oE(){const[e,t]=n.useState(!1);n.useEffect(()=>{localStorage.getItem(aE)||t(!0)},[]);return i.jsx(gs,{open:e,onOpenChange:t,children:i.jsxs(bs,{className:"sm:max-w-[500px] bg-gradient-to-br from-gray-900 via-purple-900 to-blue-900 text-white border-white/20 shadow-lg",children:[i.jsxs(ws,{className:"text-center",children:[i.jsx(s.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:260,damping:20},children:i.jsx(ft,{className:"w-16 h-16 mx-auto text-yellow-400 drop-shadow-lg"})}),i.jsx(Ss,{className:"text-3xl font-bold tracking-tighter mt-4",children:"Welcome to The Chop Shop!"}),i.jsx(ks,{className:"text-white/80 mt-2",children:"Unleash your creativity by sampling YouTube videos with ease."})]}),i.jsx("div",{className:"space-y-4 py-4",children:sE.map((e,t)=>i.jsxs(s.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2+.1*t,type:"spring",stiffness:100,damping:10},className:"flex items-start gap-4 p-3 bg-black/20 rounded-lg border border-white/10",children:[i.jsx(e.icon,{className:"w-6 h-6 text-cyan-400 flex-shrink-0 mt-1"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-lg",children:e.title}),i.jsx("p",{className:"text-white/70 text-sm",children:e.description})]})]},t))}),i.jsxs(s.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8,type:"spring",stiffness:100,damping:10},className:"text-center mt-6 p-4 bg-purple-900/40 rounded-xl border border-purple-700/50 shadow-inner",children:[i.jsxs("p",{className:"text-yellow-200 font-bold flex items-center justify-center gap-2",children:[i.jsx(lt,{className:"w-5 h-5"}),"One-Time Purchase, Free Lifetime Upgrades!"]}),i.jsx("p",{className:"text-white/70 text-sm mt-1",children:"Get all future features and improvements at no extra cost."})]}),i.jsx(xs,{className:"mt-6",children:i.jsx(er,{onClick:()=>{localStorage.setItem(aE,"true"),t(!1)},className:"w-full bg-cyan-500 hover:bg-cyan-600 text-black font-bold py-3 text-lg rounded-xl shadow-md hover:shadow-lg transition-all duration-300",children:"Let's Get Chopping!"})})]})})}function lE(){return i.jsxs(gx,{children:[i.jsx(He,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:i.jsx(bx,{children:i.jsxs(Ue,{children:[i.jsx(Le,{path:"/",element:i.jsx(qk,{})}),i.jsx(Le,{path:"/my-sessions",element:i.jsx(eE,{})}),i.jsx(Le,{path:"/latency-test",element:i.jsx(iE,{})})]})})}),i.jsx(oE,{})]})}N.createRoot(document.getElementById("root")).render(i.jsx(n.StrictMode,{children:i.jsx(gx,{children:i.jsx(lE,{})})}));
