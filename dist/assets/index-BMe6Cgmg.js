function gP(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function H_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Lw={exports:{}},cv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rS;function vP(){if(rS)return cv;rS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,o,l){var d=null;if(l!==void 0&&(d=""+l),o.key!==void 0&&(d=""+o.key),"key"in o){l={};for(var p in o)p!=="key"&&(l[p]=o[p])}else l=o;return o=l.ref,{$$typeof:n,type:i,key:d,ref:o!==void 0?o:null,props:l}}return cv.Fragment=e,cv.jsx=t,cv.jsxs=t,cv}var sS;function yP(){return sS||(sS=1,Lw.exports=vP()),Lw.exports}var _=yP(),jw={exports:{}},yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oS;function bP(){if(oS)return yt;oS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function C(J){return J===null||typeof J!="object"?null:(J=T&&J[T]||J["@@iterator"],typeof J=="function"?J:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,I={};function k(J,ae,Re){this.props=J,this.context=ae,this.refs=I,this.updater=Re||N}k.prototype.isReactComponent={},k.prototype.setState=function(J,ae){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,ae,"setState")},k.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function D(){}D.prototype=k.prototype;function z(J,ae,Re){this.props=J,this.context=ae,this.refs=I,this.updater=Re||N}var K=z.prototype=new D;K.constructor=z,O(K,k.prototype),K.isPureReactComponent=!0;var W=Array.isArray,Y={H:null,A:null,T:null,S:null,V:null},Z=Object.prototype.hasOwnProperty;function U(J,ae,Re,Ee,Le,Fe){return Re=Fe.ref,{$$typeof:n,type:J,key:ae,ref:Re!==void 0?Re:null,props:Fe}}function V(J,ae){return U(J.type,ae,void 0,void 0,void 0,J.props)}function B(J){return typeof J=="object"&&J!==null&&J.$$typeof===n}function $(J){var ae={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(Re){return ae[Re]})}var H=/\/+/g;function G(J,ae){return typeof J=="object"&&J!==null&&J.key!=null?$(""+J.key):ae.toString(36)}function L(){}function se(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(L,L):(J.status="pending",J.then(function(ae){J.status==="pending"&&(J.status="fulfilled",J.value=ae)},function(ae){J.status==="pending"&&(J.status="rejected",J.reason=ae)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function _e(J,ae,Re,Ee,Le){var Fe=typeof J;(Fe==="undefined"||Fe==="boolean")&&(J=null);var Ge=!1;if(J===null)Ge=!0;else switch(Fe){case"bigint":case"string":case"number":Ge=!0;break;case"object":switch(J.$$typeof){case n:case e:Ge=!0;break;case w:return Ge=J._init,_e(Ge(J._payload),ae,Re,Ee,Le)}}if(Ge)return Le=Le(J),Ge=Ee===""?"."+G(J,0):Ee,W(Le)?(Re="",Ge!=null&&(Re=Ge.replace(H,"$&/")+"/"),_e(Le,ae,Re,"",function(er){return er})):Le!=null&&(B(Le)&&(Le=V(Le,Re+(Le.key==null||J&&J.key===Le.key?"":(""+Le.key).replace(H,"$&/")+"/")+Ge)),ae.push(Le)),1;Ge=0;var an=Ee===""?".":Ee+":";if(W(J))for(var Ft=0;Ft<J.length;Ft++)Ee=J[Ft],Fe=an+G(Ee,Ft),Ge+=_e(Ee,ae,Re,Fe,Le);else if(Ft=C(J),typeof Ft=="function")for(J=Ft.call(J),Ft=0;!(Ee=J.next()).done;)Ee=Ee.value,Fe=an+G(Ee,Ft++),Ge+=_e(Ee,ae,Re,Fe,Le);else if(Fe==="object"){if(typeof J.then=="function")return _e(se(J),ae,Re,Ee,Le);throw ae=String(J),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Ge}function re(J,ae,Re){if(J==null)return J;var Ee=[],Le=0;return _e(J,Ee,"","",function(Fe){return ae.call(Re,Fe,Le++)}),Ee}function fe(J){if(J._status===-1){var ae=J._result;ae=ae(),ae.then(function(Re){(J._status===0||J._status===-1)&&(J._status=1,J._result=Re)},function(Re){(J._status===0||J._status===-1)&&(J._status=2,J._result=Re)}),J._status===-1&&(J._status=0,J._result=ae)}if(J._status===1)return J._result.default;throw J._result}var ve=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)};function Ne(){}return yt.Children={map:re,forEach:function(J,ae,Re){re(J,function(){ae.apply(this,arguments)},Re)},count:function(J){var ae=0;return re(J,function(){ae++}),ae},toArray:function(J){return re(J,function(ae){return ae})||[]},only:function(J){if(!B(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},yt.Component=k,yt.Fragment=t,yt.Profiler=o,yt.PureComponent=z,yt.StrictMode=i,yt.Suspense=m,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,yt.__COMPILER_RUNTIME={__proto__:null,c:function(J){return Y.H.useMemoCache(J)}},yt.cache=function(J){return function(){return J.apply(null,arguments)}},yt.cloneElement=function(J,ae,Re){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var Ee=O({},J.props),Le=J.key,Fe=void 0;if(ae!=null)for(Ge in ae.ref!==void 0&&(Fe=void 0),ae.key!==void 0&&(Le=""+ae.key),ae)!Z.call(ae,Ge)||Ge==="key"||Ge==="__self"||Ge==="__source"||Ge==="ref"&&ae.ref===void 0||(Ee[Ge]=ae[Ge]);var Ge=arguments.length-2;if(Ge===1)Ee.children=Re;else if(1<Ge){for(var an=Array(Ge),Ft=0;Ft<Ge;Ft++)an[Ft]=arguments[Ft+2];Ee.children=an}return U(J.type,Le,void 0,void 0,Fe,Ee)},yt.createContext=function(J){return J={$$typeof:d,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:l,_context:J},J},yt.createElement=function(J,ae,Re){var Ee,Le={},Fe=null;if(ae!=null)for(Ee in ae.key!==void 0&&(Fe=""+ae.key),ae)Z.call(ae,Ee)&&Ee!=="key"&&Ee!=="__self"&&Ee!=="__source"&&(Le[Ee]=ae[Ee]);var Ge=arguments.length-2;if(Ge===1)Le.children=Re;else if(1<Ge){for(var an=Array(Ge),Ft=0;Ft<Ge;Ft++)an[Ft]=arguments[Ft+2];Le.children=an}if(J&&J.defaultProps)for(Ee in Ge=J.defaultProps,Ge)Le[Ee]===void 0&&(Le[Ee]=Ge[Ee]);return U(J,Fe,void 0,void 0,null,Le)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(J){return{$$typeof:p,render:J}},yt.isValidElement=B,yt.lazy=function(J){return{$$typeof:w,_payload:{_status:-1,_result:J},_init:fe}},yt.memo=function(J,ae){return{$$typeof:v,type:J,compare:ae===void 0?null:ae}},yt.startTransition=function(J){var ae=Y.T,Re={};Y.T=Re;try{var Ee=J(),Le=Y.S;Le!==null&&Le(Re,Ee),typeof Ee=="object"&&Ee!==null&&typeof Ee.then=="function"&&Ee.then(Ne,ve)}catch(Fe){ve(Fe)}finally{Y.T=ae}},yt.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},yt.use=function(J){return Y.H.use(J)},yt.useActionState=function(J,ae,Re){return Y.H.useActionState(J,ae,Re)},yt.useCallback=function(J,ae){return Y.H.useCallback(J,ae)},yt.useContext=function(J){return Y.H.useContext(J)},yt.useDebugValue=function(){},yt.useDeferredValue=function(J,ae){return Y.H.useDeferredValue(J,ae)},yt.useEffect=function(J,ae,Re){var Ee=Y.H;if(typeof Re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ee.useEffect(J,ae)},yt.useId=function(){return Y.H.useId()},yt.useImperativeHandle=function(J,ae,Re){return Y.H.useImperativeHandle(J,ae,Re)},yt.useInsertionEffect=function(J,ae){return Y.H.useInsertionEffect(J,ae)},yt.useLayoutEffect=function(J,ae){return Y.H.useLayoutEffect(J,ae)},yt.useMemo=function(J,ae){return Y.H.useMemo(J,ae)},yt.useOptimistic=function(J,ae){return Y.H.useOptimistic(J,ae)},yt.useReducer=function(J,ae,Re){return Y.H.useReducer(J,ae,Re)},yt.useRef=function(J){return Y.H.useRef(J)},yt.useState=function(J){return Y.H.useState(J)},yt.useSyncExternalStore=function(J,ae,Re){return Y.H.useSyncExternalStore(J,ae,Re)},yt.useTransition=function(){return Y.H.useTransition()},yt.version="19.1.1",yt}var aS;function q_(){return aS||(aS=1,jw.exports=bP()),jw.exports}var R=q_();const da=H_(R),G_=gP({__proto__:null,default:da},[R]);var Vw={exports:{}},uv={},Uw={exports:{}},Bw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lS;function wP(){return lS||(lS=1,function(n){function e(re,fe){var ve=re.length;re.push(fe);e:for(;0<ve;){var Ne=ve-1>>>1,J=re[Ne];if(0<o(J,fe))re[Ne]=fe,re[ve]=J,ve=Ne;else break e}}function t(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var fe=re[0],ve=re.pop();if(ve!==fe){re[0]=ve;e:for(var Ne=0,J=re.length,ae=J>>>1;Ne<ae;){var Re=2*(Ne+1)-1,Ee=re[Re],Le=Re+1,Fe=re[Le];if(0>o(Ee,ve))Le<J&&0>o(Fe,Ee)?(re[Ne]=Fe,re[Le]=ve,Ne=Le):(re[Ne]=Ee,re[Re]=ve,Ne=Re);else if(Le<J&&0>o(Fe,ve))re[Ne]=Fe,re[Le]=ve,Ne=Le;else break e}}return fe}function o(re,fe){var ve=re.sortIndex-fe.sortIndex;return ve!==0?ve:re.id-fe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var d=Date,p=d.now();n.unstable_now=function(){return d.now()-p}}var m=[],v=[],w=1,T=null,C=3,N=!1,O=!1,I=!1,k=!1,D=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function W(re){for(var fe=t(v);fe!==null;){if(fe.callback===null)i(v);else if(fe.startTime<=re)i(v),fe.sortIndex=fe.expirationTime,e(m,fe);else break;fe=t(v)}}function Y(re){if(I=!1,W(re),!O)if(t(m)!==null)O=!0,Z||(Z=!0,G());else{var fe=t(v);fe!==null&&_e(Y,fe.startTime-re)}}var Z=!1,U=-1,V=5,B=-1;function $(){return k?!0:!(n.unstable_now()-B<V)}function H(){if(k=!1,Z){var re=n.unstable_now();B=re;var fe=!0;try{e:{O=!1,I&&(I=!1,z(U),U=-1),N=!0;var ve=C;try{t:{for(W(re),T=t(m);T!==null&&!(T.expirationTime>re&&$());){var Ne=T.callback;if(typeof Ne=="function"){T.callback=null,C=T.priorityLevel;var J=Ne(T.expirationTime<=re);if(re=n.unstable_now(),typeof J=="function"){T.callback=J,W(re),fe=!0;break t}T===t(m)&&i(m),W(re)}else i(m);T=t(m)}if(T!==null)fe=!0;else{var ae=t(v);ae!==null&&_e(Y,ae.startTime-re),fe=!1}}break e}finally{T=null,C=ve,N=!1}fe=void 0}}finally{fe?G():Z=!1}}}var G;if(typeof K=="function")G=function(){K(H)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,se=L.port2;L.port1.onmessage=H,G=function(){se.postMessage(null)}}else G=function(){D(H,0)};function _e(re,fe){U=D(function(){re(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return C},n.unstable_next=function(re){switch(C){case 1:case 2:case 3:var fe=3;break;default:fe=C}var ve=C;C=fe;try{return re()}finally{C=ve}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(re,fe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ve=C;C=re;try{return fe()}finally{C=ve}},n.unstable_scheduleCallback=function(re,fe,ve){var Ne=n.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Ne+ve:Ne):ve=Ne,re){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ve+J,re={id:w++,callback:fe,priorityLevel:re,startTime:ve,expirationTime:J,sortIndex:-1},ve>Ne?(re.sortIndex=ve,e(v,re),t(m)===null&&re===t(v)&&(I?(z(U),U=-1):I=!0,_e(Y,ve-Ne))):(re.sortIndex=J,e(m,re),O||N||(O=!0,Z||(Z=!0,G()))),re},n.unstable_shouldYield=$,n.unstable_wrapCallback=function(re){var fe=C;return function(){var ve=C;C=fe;try{return re.apply(this,arguments)}finally{C=ve}}}}(Bw)),Bw}var cS;function _P(){return cS||(cS=1,Uw.exports=wP()),Uw.exports}var Fw={exports:{}},Mr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uS;function EP(){if(uS)return Mr;uS=1;var n=q_();function e(m){var v="https://react.dev/errors/"+m;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)v+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+m+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(m,v,w){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:v,implementation:w}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,v){if(m==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Mr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Mr.createPortal=function(m,v){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return l(m,v,null,w)},Mr.flushSync=function(m){var v=d.T,w=i.p;try{if(d.T=null,i.p=2,m)return m()}finally{d.T=v,i.p=w,i.d.f()}},Mr.preconnect=function(m,v){typeof m=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,i.d.C(m,v))},Mr.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Mr.preinit=function(m,v){if(typeof m=="string"&&v&&typeof v.as=="string"){var w=v.as,T=p(w,v.crossOrigin),C=typeof v.integrity=="string"?v.integrity:void 0,N=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;w==="style"?i.d.S(m,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:T,integrity:C,fetchPriority:N}):w==="script"&&i.d.X(m,{crossOrigin:T,integrity:C,fetchPriority:N,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Mr.preinitModule=function(m,v){if(typeof m=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var w=p(v.as,v.crossOrigin);i.d.M(m,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&i.d.M(m)},Mr.preload=function(m,v){if(typeof m=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var w=v.as,T=p(w,v.crossOrigin);i.d.L(m,w,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Mr.preloadModule=function(m,v){if(typeof m=="string")if(v){var w=p(v.as,v.crossOrigin);i.d.m(m,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else i.d.m(m)},Mr.requestFormReset=function(m){i.d.r(m)},Mr.unstable_batchedUpdates=function(m,v){return m(v)},Mr.useFormState=function(m,v,w){return d.H.useFormState(m,v,w)},Mr.useFormStatus=function(){return d.H.useHostTransitionStatus()},Mr.version="19.1.1",Mr}var dS;function UA(){if(dS)return Fw.exports;dS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fw.exports=EP(),Fw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hS;function TP(){if(hS)return uv;hS=1;var n=_P(),e=q_(),t=UA();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function d(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function p(s){if(l(s)!==s)throw Error(i(188))}function m(s){var a=s.alternate;if(!a){if(a=l(s),a===null)throw Error(i(188));return a!==s?null:s}for(var u=s,f=a;;){var b=u.return;if(b===null)break;var E=b.alternate;if(E===null){if(f=b.return,f!==null){u=f;continue}break}if(b.child===E.child){for(E=b.child;E;){if(E===u)return p(b),s;if(E===f)return p(b),a;E=E.sibling}throw Error(i(188))}if(u.return!==f.return)u=b,f=E;else{for(var P=!1,F=b.child;F;){if(F===u){P=!0,u=b,f=E;break}if(F===f){P=!0,f=b,u=E;break}F=F.sibling}if(!P){for(F=E.child;F;){if(F===u){P=!0,u=E,f=b;break}if(F===f){P=!0,f=E,u=b;break}F=F.sibling}if(!P)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?s:a}function v(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=v(s),a!==null)return a;s=s.sibling}return null}var w=Object.assign,T=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),K=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function G(s){return s===null||typeof s!="object"?null:(s=H&&s[H]||s["@@iterator"],typeof s=="function"?s:null)}var L=Symbol.for("react.client.reference");function se(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===L?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case O:return"Fragment";case k:return"Profiler";case I:return"StrictMode";case Y:return"Suspense";case Z:return"SuspenseList";case B:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case N:return"Portal";case K:return(s.displayName||"Context")+".Provider";case z:return(s._context.displayName||"Context")+".Consumer";case W:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case U:return a=s.displayName||null,a!==null?a:se(s.type)||"Memo";case V:a=s._payload,s=s._init;try{return se(s(a))}catch{}}return null}var _e=Array.isArray,re=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Ne=[],J=-1;function ae(s){return{current:s}}function Re(s){0>J||(s.current=Ne[J],Ne[J]=null,J--)}function Ee(s,a){J++,Ne[J]=s.current,s.current=a}var Le=ae(null),Fe=ae(null),Ge=ae(null),an=ae(null);function Ft(s,a){switch(Ee(Ge,a),Ee(Fe,s),Ee(Le,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?Du(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=Du(a),s=y0(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Re(Le),Ee(Le,s)}function er(){Re(Le),Re(Fe),Re(Ge)}function vr(s){s.memoizedState!==null&&Ee(an,s);var a=Le.current,u=y0(a,s.type);a!==u&&(Ee(Fe,s),Ee(Le,u))}function ln(s){Fe.current===s&&(Re(Le),Re(Fe)),an.current===s&&(Re(an),Ih._currentValue=ve)}var jn=Object.prototype.hasOwnProperty,tn=n.unstable_scheduleCallback,cn=n.unstable_cancelCallback,Ws=n.unstable_shouldYield,Ur=n.unstable_requestPaint,Mi=n.unstable_now,Pi=n.unstable_getCurrentPriorityLevel,Br=n.unstable_ImmediatePriority,ss=n.unstable_UserBlockingPriority,tr=n.unstable_NormalPriority,yr=n.unstable_LowPriority,Fr=n.unstable_IdlePriority,zr=n.log,Hr=n.unstable_setDisableYieldValue,Lt=null,dt=null;function Nt(s){if(typeof zr=="function"&&Hr(s),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(Lt,s)}catch{}}var Se=Math.clz32?Math.clz32:nn,et=Math.log,Cn=Math.LN2;function nn(s){return s>>>=0,s===0?32:31-(et(s)/Cn|0)|0}var Rn=256,zn=4194304;function xe(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function te(s,a,u){var f=s.pendingLanes;if(f===0)return 0;var b=0,E=s.suspendedLanes,P=s.pingedLanes;s=s.warmLanes;var F=f&134217727;return F!==0?(f=F&~E,f!==0?b=xe(f):(P&=F,P!==0?b=xe(P):u||(u=F&~s,u!==0&&(b=xe(u))))):(F=f&~E,F!==0?b=xe(F):P!==0?b=xe(P):u||(u=f&~s,u!==0&&(b=xe(u)))),b===0?0:a!==0&&a!==b&&(a&E)===0&&(E=b&-b,u=a&-a,E>=u||E===32&&(u&4194048)!==0)?a:b}function Ve(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function De(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xe(){var s=Rn;return Rn<<=1,(Rn&4194048)===0&&(Rn=256),s}function rt(){var s=zn;return zn<<=1,(zn&62914560)===0&&(zn=4194304),s}function He(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function We(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function vt(s,a,u,f,b,E){var P=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var F=s.entanglements,Q=s.expirationTimes,le=s.hiddenUpdates;for(u=P&~u;0<u;){var pe=31-Se(u),ye=1<<pe;F[pe]=0,Q[pe]=-1;var ce=le[pe];if(ce!==null)for(le[pe]=null,pe=0;pe<ce.length;pe++){var ue=ce[pe];ue!==null&&(ue.lane&=-536870913)}u&=~ye}f!==0&&ht(s,f,0),E!==0&&b===0&&s.tag!==0&&(s.suspendedLanes|=E&~(P&~a))}function ht(s,a,u){s.pendingLanes|=a,s.suspendedLanes&=~a;var f=31-Se(a);s.entangledLanes|=a,s.entanglements[f]=s.entanglements[f]|1073741824|u&4194090}function rn(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var f=31-Se(u),b=1<<f;b&a|s[f]&a&&(s[f]|=a),u&=~b}}function un(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function zt(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function yi(){var s=fe.p;return s!==0?s:(s=window.event,s===void 0?32:Mh(s.type))}function Fi(s,a){var u=fe.p;try{return fe.p=s,a()}finally{fe.p=u}}var Ue=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Ue,In="__reactProps$"+Ue,Zn="__reactContainer$"+Ue,bi="__reactEvents$"+Ue,os="__reactListeners$"+Ue,Di="__reactHandles$"+Ue,md="__reactResources$"+Ue,ya="__reactMarker$"+Ue;function qr(s){delete s[Mt],delete s[In],delete s[bi],delete s[os],delete s[Di]}function No(s){var a=s[Mt];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Zn]||u[Mt]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=w0(s);s!==null;){if(u=s[Mt])return u;s=w0(s)}return a}s=u,u=s.parentNode}return null}function zi(s){if(s=s[Mt]||s[Zn]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function Ys(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function nr(s){var a=s[md];return a||(a=s[md]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Vn(s){s[ya]=!0}var Nc=new Set,yn={};function Hi(s,a){Xs(s,a),Xs(s+"Capture",a)}function Xs(s,a){for(yn[s]=a,s=0;s<a.length;s++)Nc.add(a[s])}var gd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ft={},ba={};function Mc(s){return jn.call(ba,s)?!0:jn.call(ft,s)?!1:gd.test(s)?ba[s]=!0:(ft[s]=!0,!1)}function wa(s,a,u){if(Mc(a))if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+u)}}function ws(s,a,u){if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+u)}}function _t(s,a,u,f){if(f===null)s.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(a,u,""+f)}}var br,cf;function ci(s){if(br===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);br=a&&a[1]||"",cf=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+br+s+cf}var ei=!1;function Pc(s,a){if(!s||ei)return"";ei=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(ue){var ce=ue}Reflect.construct(s,[],ye)}else{try{ye.call()}catch(ue){ce=ue}s.call(ye.prototype)}}else{try{throw Error()}catch(ue){ce=ue}(ye=s())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(ue){if(ue&&ce&&typeof ue.stack=="string")return[ue.stack,ce.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=f.DetermineComponentFrameRoot(),P=E[0],F=E[1];if(P&&F){var Q=P.split(`
`),le=F.split(`
`);for(b=f=0;f<Q.length&&!Q[f].includes("DetermineComponentFrameRoot");)f++;for(;b<le.length&&!le[b].includes("DetermineComponentFrameRoot");)b++;if(f===Q.length||b===le.length)for(f=Q.length-1,b=le.length-1;1<=f&&0<=b&&Q[f]!==le[b];)b--;for(;1<=f&&0<=b;f--,b--)if(Q[f]!==le[b]){if(f!==1||b!==1)do if(f--,b--,0>b||Q[f]!==le[b]){var pe=`
`+Q[f].replace(" at new "," at ");return s.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",s.displayName)),pe}while(1<=f&&0<=b);break}}}finally{ei=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?ci(u):""}function as(s){switch(s.tag){case 26:case 27:case 5:return ci(s.type);case 16:return ci("Lazy");case 13:return ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return Pc(s.type,!1);case 11:return Pc(s.type.render,!1);case 1:return Pc(s.type,!0);case 31:return ci("Activity");default:return""}}function yl(s){try{var a="";do a+=as(s),s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function wi(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function bl(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function vd(s){var a=bl(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var b=u.get,E=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return b.call(this)},set:function(P){f=""+P,E.call(this,P)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(P){f=""+P},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function _a(s){s._valueTracker||(s._valueTracker=vd(s))}function yd(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return s&&(f=bl(s)?s.checked?"true":"false":s.value),s=f,s!==u?(a.setValue(s),!0):!1}function Gr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var wl=/[\n"\\]/g;function Hn(s){return s.replace(wl,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function _i(s,a,u,f,b,E,P,F){s.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?s.type=P:s.removeAttribute("type"),a!=null?P==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+wi(a)):s.value!==""+wi(a)&&(s.value=""+wi(a)):P!=="submit"&&P!=="reset"||s.removeAttribute("value"),a!=null?Mo(s,P,wi(a)):u!=null?Mo(s,P,wi(u)):f!=null&&s.removeAttribute("value"),b==null&&E!=null&&(s.defaultChecked=!!E),b!=null&&(s.checked=b&&typeof b!="function"&&typeof b!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?s.name=""+wi(F):s.removeAttribute("name")}function Ea(s,a,u,f,b,E,P,F){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.type=E),a!=null||u!=null){if(!(E!=="submit"&&E!=="reset"||a!=null))return;u=u!=null?""+wi(u):"",a=a!=null?""+wi(a):u,F||a===s.value||(s.value=a),s.defaultValue=a}f=f??b,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=F?s.checked:!!f,s.defaultChecked=!!f,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(s.name=P)}function Mo(s,a,u){a==="number"&&Gr(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function ir(s,a,u,f){if(s=s.options,a){a={};for(var b=0;b<u.length;b++)a["$"+u[b]]=!0;for(u=0;u<s.length;u++)b=a.hasOwnProperty("$"+s[u].value),s[u].selected!==b&&(s[u].selected=b),b&&f&&(s[u].defaultSelected=!0)}else{for(u=""+wi(u),a=null,b=0;b<s.length;b++){if(s[b].value===u){s[b].selected=!0,f&&(s[b].defaultSelected=!0);return}a!==null||s[b].disabled||(a=s[b])}a!==null&&(a.selected=!0)}}function Xt(s,a,u){if(a!=null&&(a=""+wi(a),a!==s.value&&(s.value=a),u==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=u!=null?""+wi(u):""}function _l(s,a,u,f){if(a==null){if(f!=null){if(u!=null)throw Error(i(92));if(_e(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),a=u}u=wi(a),s.defaultValue=u,f=s.textContent,f===u&&f!==""&&f!==null&&(s.value=f)}function $r(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var ui=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _s(s,a,u){var f=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":f?s.setProperty(a,u):typeof u!="number"||u===0||ui.has(a)?a==="float"?s.cssFloat=u:s[a]=(""+u).trim():s[a]=u+"px"}function Dc(s,a,u){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var b in a)f=a[b],a.hasOwnProperty(b)&&u[b]!==f&&_s(s,b,f)}else for(var E in a)a.hasOwnProperty(E)&&_s(s,E,a[E])}function Ta(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),df=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(s){return df.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var wr=null;function Kr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var qi=null,ls=null;function Oc(s){var a=zi(s);if(a&&(s=a.stateNode)){var u=s[In]||null;e:switch(s=a.stateNode,a.type){case"input":if(_i(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Hn(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==s&&f.form===s.form){var b=f[In]||null;if(!b)throw Error(i(90));_i(f,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(a=0;a<u.length;a++)f=u[a],f.form===s.form&&yd(f)}break e;case"textarea":Xt(s,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&ir(s,!!u.multiple,a,!1)}}}var _r=!1;function hf(s,a,u){if(_r)return s(a,u);_r=!0;try{var f=s(a);return f}finally{if(_r=!1,(qi!==null||ls!==null)&&(ch(),qi&&(a=qi,s=ls,ls=qi=null,Oc(a),s)))for(a=0;a<s.length;a++)Oc(s[a])}}function El(s,a){var u=s.stateNode;if(u===null)return null;var f=u[In]||null;if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(i(231,a,typeof u));return u}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oi=!1;if(Es)try{var Er={};Object.defineProperty(Er,"passive",{get:function(){Oi=!0}}),window.addEventListener("test",Er,Er),window.removeEventListener("test",Er,Er)}catch{Oi=!1}var cs=null,Ts=null,Ss=null;function Tl(){if(Ss)return Ss;var s,a=Ts,u=a.length,f,b="value"in cs?cs.value:cs.textContent,E=b.length;for(s=0;s<u&&a[s]===b[s];s++);var P=u-s;for(f=1;f<=P&&a[u-f]===b[E-f];f++);return Ss=b.slice(s,1<f?1-f:void 0)}function xs(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Qs(){return!0}function Lc(){return!1}function qn(s){function a(u,f,b,E,P){this._reactName=u,this._targetInst=b,this.type=f,this.nativeEvent=E,this.target=P,this.currentTarget=null;for(var F in s)s.hasOwnProperty(F)&&(u=s[F],this[F]=u?u(E):E[F]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Qs:Lc,this.isPropagationStopped=Lc,this}return w(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Qs)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Qs)},persist:function(){},isPersistent:Qs}),a}var xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Js=qn(xt),Po=w({},xt,{view:0,detail:0}),bd=qn(Po),jc,xa,Wr,Aa=w({},Po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sl,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Wr&&(Wr&&s.type==="mousemove"?(jc=s.screenX-Wr.screenX,xa=s.screenY-Wr.screenY):xa=jc=0,Wr=s),jc)},movementY:function(s){return"movementY"in s?s.movementY:xa}}),us=qn(Aa),wd=w({},Aa,{dataTransfer:0}),Zs=qn(wd),As=w({},Po,{relatedTarget:0}),Vc=qn(As),_d=w({},xt,{animationName:0,elapsedTime:0,pseudoElement:0}),Uc=qn(_d),ff=w({},xt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Do=qn(ff),Ye=w({},xt,{data:0}),Ca=qn(Ye),eo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},At={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ke={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ed(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=ke[s])?!!a[s]:!1}function Sl(){return Ed}var bn=w({},Po,{key:function(s){if(s.key){var a=eo[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=xs(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?At[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sl,charCode:function(s){return s.type==="keypress"?xs(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?xs(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),xl=qn(bn),Ei=w({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cs=qn(Ei),to=w({},Po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sl}),pf=qn(to),mf=w({},xt,{propertyName:0,elapsedTime:0,pseudoElement:0}),gf=qn(mf),Bc=w({},Aa,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Fc=qn(Bc),Li=w({},xt,{newState:0,oldState:0}),vf=qn(Li),yf=[9,13,27,32],no=Es&&"CompositionEvent"in window,g=null;Es&&"documentMode"in document&&(g=document.documentMode);var A=Es&&"TextEvent"in window&&!g,M=Es&&(!no||g&&8<g&&11>=g),q=" ",ie=!1;function he(s,a){switch(s){case"keyup":return yf.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ie(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Et=!1;function di(s,a){switch(s){case"compositionend":return Ie(a);case"keypress":return a.which!==32?null:(ie=!0,q);case"textInput":return s=a.data,s===q&&ie?null:s;default:return null}}function pt(s,a){if(Et)return s==="compositionend"||!no&&he(s,a)?(s=Tl(),Ss=Ts=cs=null,Et=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return M&&a.locale!=="ko"?null:a.data;default:return null}}var Ti={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kn(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Ti[s.type]:a==="textarea"}function Yr(s,a,u,f){qi?ls?ls.push(f):ls=[f]:qi=f,a=bh(a,"onChange"),0<a.length&&(u=new Js("onChange","change",null,u,f),s.push({event:u,listeners:a}))}var ji=null,Rs=null;function Td(s){f0(s,0)}function bf(s){var a=Ys(s);if(yd(a))return s}function io(s,a){if(s==="change")return a}var Gi=!1;if(Es){var Pm;if(Es){var Al="oninput"in document;if(!Al){var Oy=document.createElement("div");Oy.setAttribute("oninput","return;"),Al=typeof Oy.oninput=="function"}Pm=Al}else Pm=!1;Gi=Pm&&(!document.documentMode||9<document.documentMode)}function Ly(){ji&&(ji.detachEvent("onpropertychange",Sd),Rs=ji=null)}function Sd(s){if(s.propertyName==="value"&&bf(Rs)){var a=[];Yr(a,Rs,s,Kr(s)),hf(Td,a)}}function wf(s,a,u){s==="focusin"?(Ly(),ji=a,Rs=u,ji.attachEvent("onpropertychange",Sd)):s==="focusout"&&Ly()}function Dm(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return bf(Rs)}function Om(s,a){if(s==="click")return bf(a)}function Lm(s,a){if(s==="input"||s==="change")return bf(a)}function jm(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Nn=typeof Object.is=="function"?Object.is:jm;function zc(s,a){if(Nn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var b=u[f];if(!jn.call(a,b)||!Nn(s[b],a[b]))return!1}return!0}function jy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Hc(s,a){var u=jy(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=a&&f>=a)return{node:u,offset:a-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=jy(u)}}function Ra(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Ra(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Oo(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Gr(s.document);a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=Gr(s.document)}return a}function _f(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var Vy=Es&&"documentMode"in document&&11>=document.documentMode,Cl=null,Vm=null,Ia=null,xd=!1;function Ef(s,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;xd||Cl==null||Cl!==Gr(f)||(f=Cl,"selectionStart"in f&&_f(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ia&&zc(Ia,f)||(Ia=f,f=bh(Vm,"onSelect"),0<f.length&&(a=new Js("onSelect","select",null,a,u),s.push({event:a,listeners:f}),a.target=Cl)))}function dn(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Xr={animationend:dn("Animation","AnimationEnd"),animationiteration:dn("Animation","AnimationIteration"),animationstart:dn("Animation","AnimationStart"),transitionrun:dn("Transition","TransitionRun"),transitionstart:dn("Transition","TransitionStart"),transitioncancel:dn("Transition","TransitionCancel"),transitionend:dn("Transition","TransitionEnd")},qc={},Tr={};Es&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete Xr.animationend.animation,delete Xr.animationiteration.animation,delete Xr.animationstart.animation),"TransitionEvent"in window||delete Xr.transitionend.transition);function ka(s){if(qc[s])return qc[s];if(!Xr[s])return s;var a=Xr[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in Tr)return qc[s]=a[u];return s}var Um=ka("animationend"),Uy=ka("animationiteration"),Tf=ka("animationstart"),Sf=ka("transitionrun"),By=ka("transitionstart"),Bm=ka("transitioncancel"),Fm=ka("transitionend"),zm=new Map,xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xf.push("scrollEnd");function Is(s,a){zm.set(s,a),Hi(a,[s])}var Af=new WeakMap;function Qr(s,a){if(typeof s=="object"&&s!==null){var u=Af.get(s);return u!==void 0?u:(a={value:s,source:a,stack:yl(a)},Af.set(s,a),a)}return{value:s,source:a,stack:yl(a)}}var Sr=[],Gc=0,Ad=0;function Rl(){for(var s=Gc,a=Ad=Gc=0;a<s;){var u=Sr[a];Sr[a++]=null;var f=Sr[a];Sr[a++]=null;var b=Sr[a];Sr[a++]=null;var E=Sr[a];if(Sr[a++]=null,f!==null&&b!==null){var P=f.pending;P===null?b.next=b:(b.next=P.next,P.next=b),f.pending=b}E!==0&&Hm(u,b,E)}}function Cf(s,a,u,f){Sr[Gc++]=s,Sr[Gc++]=a,Sr[Gc++]=u,Sr[Gc++]=f,Ad|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function Cd(s,a,u,f){return Cf(s,a,u,f),Mn(s)}function Il(s,a){return Cf(s,null,null,a),Mn(s)}function Hm(s,a,u){s.lanes|=u;var f=s.alternate;f!==null&&(f.lanes|=u);for(var b=!1,E=s.return;E!==null;)E.childLanes|=u,f=E.alternate,f!==null&&(f.childLanes|=u),E.tag===22&&(s=E.stateNode,s===null||s._visibility&1||(b=!0)),s=E,E=E.return;return s.tag===3?(E=s.stateNode,b&&a!==null&&(b=31-Se(u),s=E.hiddenUpdates,f=s[b],f===null?s[b]=[a]:f.push(a),a.lane=u|536870912),E):null}function Mn(s){if(50<Su)throw Su=0,hp=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var ds={};function Rd(s,a,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(s,a,u,f){return new Rd(s,a,u,f)}function Rf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ro(s,a){var u=s.alternate;return u===null?(u=Gn(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function If(s,a){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,a=u.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function wn(s,a,u,f,b,E){var P=0;if(f=s,typeof s=="function")Rf(s)&&(P=1);else if(typeof s=="string")P=Ap(s,u,Le.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case B:return s=Gn(31,u,a,b),s.elementType=B,s.lanes=E,s;case O:return hs(u.children,b,E,a);case I:P=8,b|=24;break;case k:return s=Gn(12,u,a,b|2),s.elementType=k,s.lanes=E,s;case Y:return s=Gn(13,u,a,b),s.elementType=Y,s.lanes=E,s;case Z:return s=Gn(19,u,a,b),s.elementType=Z,s.lanes=E,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:case K:P=10;break e;case z:P=9;break e;case W:P=11;break e;case U:P=14;break e;case V:P=16,f=null;break e}P=29,u=Error(i(130,s===null?"null":typeof s,"")),f=null}return a=Gn(P,u,a,b),a.elementType=s,a.type=f,a.lanes=E,a}function hs(s,a,u,f){return s=Gn(7,s,f,a),s.lanes=u,s}function kf(s,a,u){return s=Gn(6,s,null,a),s.lanes=u,s}function Id(s,a,u){return a=Gn(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var kl=[],fs=0,Nf=null,kd=0,Jr=[],Zr=0,Na=null,Lo=1,so="";function ps(s,a){kl[fs++]=kd,kl[fs++]=Nf,Nf=s,kd=a}function qm(s,a,u){Jr[Zr++]=Lo,Jr[Zr++]=so,Jr[Zr++]=Na,Na=s;var f=Lo;s=so;var b=32-Se(f)-1;f&=~(1<<b),u+=1;var E=32-Se(a)+b;if(30<E){var P=b-b%5;E=(f&(1<<P)-1).toString(32),f>>=P,b-=P,Lo=1<<32-Se(a)+b|u<<b|f,so=E+s}else Lo=1<<E|u<<b|f,so=s}function Mf(s){s.return!==null&&(ps(s,1),qm(s,1,0))}function Ma(s){for(;s===Nf;)Nf=kl[--fs],kl[fs]=null,kd=kl[--fs],kl[fs]=null;for(;s===Na;)Na=Jr[--Zr],Jr[Zr]=null,so=Jr[--Zr],Jr[Zr]=null,Lo=Jr[--Zr],Jr[Zr]=null}var Si=null,$t=null,Ht=!1,Nl=null,oo=!1,ao=Error(i(519));function ks(s){var a=Error(i(418,""));throw jo(Qr(a,s)),ao}function Nd(s){var a=s.stateNode,u=s.type,f=s.memoizedProps;switch(a[Mt]=s,a[In]=f,u){case"dialog":ut("cancel",a),ut("close",a);break;case"iframe":case"object":case"embed":ut("load",a);break;case"video":case"audio":for(u=0;u<Iu.length;u++)ut(Iu[u],a);break;case"source":ut("error",a);break;case"img":case"image":case"link":ut("error",a),ut("load",a);break;case"details":ut("toggle",a);break;case"input":ut("invalid",a),Ea(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),_a(a);break;case"select":ut("invalid",a);break;case"textarea":ut("invalid",a),_l(a,f.value,f.defaultValue,f.children),_a(a)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||f.suppressHydrationWarning===!0||v0(a.textContent,u)?(f.popover!=null&&(ut("beforetoggle",a),ut("toggle",a)),f.onScroll!=null&&ut("scroll",a),f.onScrollEnd!=null&&ut("scrollend",a),f.onClick!=null&&(a.onclick=ac),a=!0):a=!1,a||ks(s)}function Gm(s){for(Si=s.return;Si;)switch(Si.tag){case 5:case 13:oo=!1;return;case 27:case 3:oo=!0;return;default:Si=Si.return}}function $c(s){if(s!==Si)return!1;if(!Ht)return Gm(s),Ht=!0,!1;var a=s.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||cc(s.type,s.memoizedProps)),u=!u),u&&$t&&ks(s),Gm(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(a===0){$t=Yi(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;s=s.nextSibling}$t=null}}else a===27?(a=$t,_o(s.type)?(s=ev,ev=null,$t=s):$t=a):$t=Si?Yi(s.stateNode.nextSibling):null;return!0}function Kc(){$t=Si=null,Ht=!1}function Md(){var s=Nl;return s!==null&&(cr===null?cr=s:cr.push.apply(cr,s),Nl=null),s}function jo(s){Nl===null?Nl=[s]:Nl.push(s)}var Pf=ae(null),lo=null,Vo=null;function Pa(s,a,u){Ee(Pf,a._currentValue),a._currentValue=u}function Uo(s){s._currentValue=Pf.current,Re(Pf)}function Wc(s,a,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===u)break;s=s.return}}function $m(s,a,u,f){var b=s.child;for(b!==null&&(b.return=s);b!==null;){var E=b.dependencies;if(E!==null){var P=b.child;E=E.firstContext;e:for(;E!==null;){var F=E;E=b;for(var Q=0;Q<a.length;Q++)if(F.context===a[Q]){E.lanes|=u,F=E.alternate,F!==null&&(F.lanes|=u),Wc(E.return,u,s),f||(P=null);break e}E=F.next}}else if(b.tag===18){if(P=b.return,P===null)throw Error(i(341));P.lanes|=u,E=P.alternate,E!==null&&(E.lanes|=u),Wc(P,u,s),P=null}else P=b.child;if(P!==null)P.return=b;else for(P=b;P!==null;){if(P===s){P=null;break}if(b=P.sibling,b!==null){b.return=P.return,P=b;break}P=P.return}b=P}}function Pd(s,a,u,f){s=null;for(var b=a,E=!1;b!==null;){if(!E){if((b.flags&524288)!==0)E=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var P=b.alternate;if(P===null)throw Error(i(387));if(P=P.memoizedProps,P!==null){var F=b.type;Nn(b.pendingProps.value,P.value)||(s!==null?s.push(F):s=[F])}}else if(b===an.current){if(P=b.alternate,P===null)throw Error(i(387));P.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(s!==null?s.push(Ih):s=[Ih])}b=b.return}s!==null&&$m(a,s,u,f),a.flags|=262144}function Yc(s){for(s=s.firstContext;s!==null;){if(!Nn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ns(s){lo=s,Vo=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function xi(s){return Fy(lo,s)}function Dd(s,a){return lo===null&&Ns(s),Fy(s,a)}function Fy(s,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},Vo===null){if(s===null)throw Error(i(308));Vo=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Vo=Vo.next=a;return u}var Km=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(u,f){s.push(f)}};this.abort=function(){a.aborted=!0,s.forEach(function(u){return u()})}},Wm=n.unstable_scheduleCallback,Ym=n.unstable_NormalPriority,$n={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xc(){return{controller:new Km,data:new Map,refCount:0}}function Qc(s){s.refCount--,s.refCount===0&&Wm(Ym,function(){s.controller.abort()})}var Jc=null,Df=0,Ml=0,Da=null;function Od(s,a){if(Jc===null){var u=Jc=[];Df=0,Ml=vh(),Da={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Df++,a.then(Xm,Xm),a}function Xm(){if(--Df===0&&Jc!==null){Da!==null&&(Da.status="fulfilled");var s=Jc;Jc=null,Ml=0,Da=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function zy(s,a){var u=[],f={status:"pending",value:null,reason:null,then:function(b){u.push(b)}};return s.then(function(){f.status="fulfilled",f.value=a;for(var b=0;b<u.length;b++)(0,u[b])(a)},function(b){for(f.status="rejected",f.reason=b,b=0;b<u.length;b++)(0,u[b])(void 0)}),f}var Ld=re.S;re.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Od(s,a),Ld!==null&&Ld(s,a)};var Bo=ae(null);function Pl(){var s=Bo.current;return s!==null?s:sn.pooledCache}function co(s,a){a===null?Ee(Bo,Bo.current):Ee(Bo,a.pool)}function Hy(){var s=Pl();return s===null?null:{parent:$n._currentValue,pool:s}}var Zc=Error(i(460)),qy=Error(i(474)),jd=Error(i(542)),Qm={then:function(){}};function Gy(s){return s=s.status,s==="fulfilled"||s==="rejected"}function $i(){}function Of(s,a,u){switch(u=s[u],u===void 0?s.push(a):u!==a&&(a.then($i,$i),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,$y(s),s;default:if(typeof a.status=="string")a.then($i,$i);else{if(s=sn,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(f){if(a.status==="pending"){var b=a;b.status="fulfilled",b.value=f}},function(f){if(a.status==="pending"){var b=a;b.status="rejected",b.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,$y(s),s}throw Dl=a,Zc}}var Dl=null;function Vd(){if(Dl===null)throw Error(i(459));var s=Dl;return Dl=null,s}function $y(s){if(s===Zc||s===jd)throw Error(i(483))}var rr=!1;function Lf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ud(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ms(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Fo(s,a,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Pt&2)!==0){var b=f.pending;return b===null?a.next=a:(a.next=b.next,b.next=a),f.pending=a,a=Mn(s),Hm(s,null,u),a}return Cf(s,f,a,u),Mn(s)}function uo(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,rn(s,u)}}function Bd(s,a){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var b=null,E=null;if(u=u.firstBaseUpdate,u!==null){do{var P={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};E===null?b=E=P:E=E.next=P,u=u.next}while(u!==null);E===null?b=E=a:E=E.next=a}else b=E=a;u={baseState:f.baseState,firstBaseUpdate:b,lastBaseUpdate:E,shared:f.shared,callbacks:f.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}var jf=!1;function eu(){if(jf){var s=Da;if(s!==null)throw s}}function tu(s,a,u,f){jf=!1;var b=s.updateQueue;rr=!1;var E=b.firstBaseUpdate,P=b.lastBaseUpdate,F=b.shared.pending;if(F!==null){b.shared.pending=null;var Q=F,le=Q.next;Q.next=null,P===null?E=le:P.next=le,P=Q;var pe=s.alternate;pe!==null&&(pe=pe.updateQueue,F=pe.lastBaseUpdate,F!==P&&(F===null?pe.firstBaseUpdate=le:F.next=le,pe.lastBaseUpdate=Q))}if(E!==null){var ye=b.baseState;P=0,pe=le=Q=null,F=E;do{var ce=F.lane&-536870913,ue=ce!==F.lane;if(ue?(It&ce)===ce:(f&ce)===ce){ce!==0&&ce===Ml&&(jf=!0),pe!==null&&(pe=pe.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var tt=s,Qe=F;ce=a;var gn=u;switch(Qe.tag){case 1:if(tt=Qe.payload,typeof tt=="function"){ye=tt.call(gn,ye,ce);break e}ye=tt;break e;case 3:tt.flags=tt.flags&-65537|128;case 0:if(tt=Qe.payload,ce=typeof tt=="function"?tt.call(gn,ye,ce):tt,ce==null)break e;ye=w({},ye,ce);break e;case 2:rr=!0}}ce=F.callback,ce!==null&&(s.flags|=64,ue&&(s.flags|=8192),ue=b.callbacks,ue===null?b.callbacks=[ce]:ue.push(ce))}else ue={lane:ce,tag:F.tag,payload:F.payload,callback:F.callback,next:null},pe===null?(le=pe=ue,Q=ye):pe=pe.next=ue,P|=ce;if(F=F.next,F===null){if(F=b.shared.pending,F===null)break;ue=F,F=ue.next,ue.next=null,b.lastBaseUpdate=ue,b.shared.pending=null}}while(!0);pe===null&&(Q=ye),b.baseState=Q,b.firstBaseUpdate=le,b.lastBaseUpdate=pe,E===null&&(b.shared.lanes=0),Qo|=P,s.lanes=P,s.memoizedState=ye}}function Jm(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function Ky(s,a){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)Jm(u[s],a)}var zo=ae(null),Ho=ae(0);function Zm(s,a){s=yo,Ee(Ho,s),Ee(zo,a),yo=s|a.baseLanes}function Vf(){Ee(Ho,yo),Ee(zo,zo.current)}function Oa(){yo=Ho.current,Re(zo),Re(Ho)}var Ps=0,mt=null,Qt=null,Kn=null,qo=!1,Ol=!1,ho=!1,Ll=0,La=0,Go=null,Uf=0;function Tn(){throw Error(i(321))}function nu(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!Nn(s[u],a[u]))return!1;return!0}function Bf(s,a,u,f,b,E){return Ps=E,mt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,re.H=s===null||s.memoizedState===null?Zy:e0,ho=!1,E=u(f,b),ho=!1,Ol&&(E=tg(a,u,f,b)),eg(s),E}function eg(s){re.H=Qf;var a=Qt!==null&&Qt.next!==null;if(Ps=0,Kn=Qt=mt=null,qo=!1,La=0,Go=null,a)throw Error(i(300));s===null||Bn||(s=s.dependencies,s!==null&&Yc(s)&&(Bn=!0))}function tg(s,a,u,f){mt=s;var b=0;do{if(Ol&&(Go=null),La=0,Ol=!1,25<=b)throw Error(i(301));if(b+=1,Kn=Qt=null,s.updateQueue!=null){var E=s.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}re.H=xw,E=a(u,f)}while(Ol);return E}function Wy(){var s=re.H,a=s.useState()[0];return a=typeof a.then=="function"?ja(a):a,s=s.useState()[0],(Qt!==null?Qt.memoizedState:null)!==s&&(mt.flags|=1024),a}function ng(){var s=Ll!==0;return Ll=0,s}function Fd(s,a,u){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~u}function Ff(s){if(qo){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}qo=!1}Ps=0,Kn=Qt=mt=null,Ol=!1,La=Ll=0,Go=null}function xr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?mt.memoizedState=Kn=s:Kn=Kn.next=s,Kn}function Wn(){if(Qt===null){var s=mt.alternate;s=s!==null?s.memoizedState:null}else s=Qt.next;var a=Kn===null?mt.memoizedState:Kn.next;if(a!==null)Kn=a,Qt=s;else{if(s===null)throw mt.alternate===null?Error(i(467)):Error(i(310));Qt=s,s={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Kn===null?mt.memoizedState=Kn=s:Kn=Kn.next=s}return Kn}function jl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ja(s){var a=La;return La+=1,Go===null&&(Go=[]),s=Of(Go,s,a),a=mt,(Kn===null?a.memoizedState:Kn.next)===null&&(a=a.alternate,re.H=a===null||a.memoizedState===null?Zy:e0),s}function Vl(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return ja(s);if(s.$$typeof===K)return xi(s)}throw Error(i(438,String(s)))}function iu(s){var a=null,u=mt.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var f=mt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(b){return b.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=jl(),mt.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(s),f=0;f<s;f++)u[f]=$;return a.index++,u}function Ds(s,a){return typeof a=="function"?a(s):a}function ru(s){var a=Wn();return Va(a,Qt,s)}function Va(s,a,u){var f=s.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var b=s.baseQueue,E=f.pending;if(E!==null){if(b!==null){var P=b.next;b.next=E.next,E.next=P}a.baseQueue=b=E,f.pending=null}if(E=s.baseState,b===null)s.memoizedState=E;else{a=b.next;var F=P=null,Q=null,le=a,pe=!1;do{var ye=le.lane&-536870913;if(ye!==le.lane?(It&ye)===ye:(Ps&ye)===ye){var ce=le.revertLane;if(ce===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),ye===Ml&&(pe=!0);else if((Ps&ce)===ce){le=le.next,ce===Ml&&(pe=!0);continue}else ye={lane:0,revertLane:le.revertLane,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Q===null?(F=Q=ye,P=E):Q=Q.next=ye,mt.lanes|=ce,Qo|=ce;ye=le.action,ho&&u(E,ye),E=le.hasEagerState?le.eagerState:u(E,ye)}else ce={lane:ye,revertLane:le.revertLane,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Q===null?(F=Q=ce,P=E):Q=Q.next=ce,mt.lanes|=ye,Qo|=ye;le=le.next}while(le!==null&&le!==a);if(Q===null?P=E:Q.next=F,!Nn(E,s.memoizedState)&&(Bn=!0,pe&&(u=Da,u!==null)))throw u;s.memoizedState=E,s.baseState=P,s.baseQueue=Q,f.lastRenderedState=E}return b===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function zf(s){var a=Wn(),u=a.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=s;var f=u.dispatch,b=u.pending,E=a.memoizedState;if(b!==null){u.pending=null;var P=b=b.next;do E=s(E,P.action),P=P.next;while(P!==b);Nn(E,a.memoizedState)||(Bn=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),u.lastRenderedState=E}return[E,f]}function ig(s,a,u){var f=mt,b=Wn(),E=Ht;if(E){if(u===void 0)throw Error(i(407));u=u()}else u=a();var P=!Nn((Qt||b).memoizedState,u);P&&(b.memoizedState=u,Bn=!0),b=b.queue;var F=Ua.bind(null,f,b,s);if(lu(2048,8,F,[s]),b.getSnapshot!==a||P||Kn!==null&&Kn.memoizedState.tag&1){if(f.flags|=2048,hn(9,ou(),qf.bind(null,f,b,u,a),null),sn===null)throw Error(i(349));E||(Ps&124)!==0||Hf(f,a,u)}return u}function Hf(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=mt.updateQueue,a===null?(a=jl(),mt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function qf(s,a,u,f){a.value=u,a.getSnapshot=f,su(a)&&Ul(s)}function Ua(s,a,u){return u(function(){su(a)&&Ul(s)})}function su(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!Nn(s,u)}catch{return!0}}function Ul(s){var a=Il(s,2);a!==null&&Nr(a,s,2)}function Bl(s){var a=xr();if(typeof s=="function"){var u=s;if(s=u(),ho){Nt(!0);try{u()}finally{Nt(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:s},a}function Fl(s,a,u,f){return s.baseState=u,Va(s,Qt,typeof f=="function"?f:Ds)}function Ar(s,a,u,f,b){if(Gd(s))throw Error(i(485));if(s=a.action,s!==null){var E={payload:b,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){E.listeners.push(P)}};re.T!==null?u(!0):E.isTransition=!1,f(E),u=a.pending,u===null?(E.next=a.pending=E,zl(a,E)):(E.next=u.next,a.pending=u.next=E)}}function zl(s,a){var u=a.action,f=a.payload,b=s.state;if(a.isTransition){var E=re.T,P={};re.T=P;try{var F=u(b,f),Q=re.S;Q!==null&&Q(P,F),rg(s,a,F)}catch(le){ms(s,a,le)}finally{re.T=E}}else try{E=u(b,f),rg(s,a,E)}catch(le){ms(s,a,le)}}function rg(s,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){Os(s,a,f)},function(f){return ms(s,a,f)}):Os(s,a,u)}function Os(s,a,u){a.status="fulfilled",a.value=u,sg(a),s.state=u,a=s.pending,a!==null&&(u=a.next,u===a?s.pending=null:(u=u.next,a.next=u,zl(s,u)))}function ms(s,a,u){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=u,sg(a),a=a.next;while(a!==f)}s.action=null}function sg(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function Gf(s,a){return a}function Yy(s,a){if(Ht){var u=sn.formState;if(u!==null){e:{var f=mt;if(Ht){if($t){t:{for(var b=$t,E=oo;b.nodeType!==8;){if(!E){b=null;break t}if(b=Yi(b.nextSibling),b===null){b=null;break t}}E=b.data,b=E==="F!"||E==="F"?b:null}if(b){$t=Yi(b.nextSibling),f=b.data==="F!";break e}}ks(f)}f=!1}f&&(a=u[0])}}return u=xr(),u.memoizedState=u.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gf,lastRenderedState:a},u.queue=f,u=uu.bind(null,mt,f),f.dispatch=u,f=Bl(!1),E=Xf.bind(null,mt,!1,f.queue),f=xr(),b={state:a,dispatch:null,action:s,pending:null},f.queue=b,u=Ar.bind(null,mt,b,E,u),b.dispatch=u,f.memoizedState=s,[a,u,!1]}function Xy(s){var a=Wn();return Qy(a,Qt,s)}function Qy(s,a,u){if(a=Va(s,a,Gf)[0],s=ru(Ds)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=ja(a)}catch(P){throw P===Zc?jd:P}else f=a;a=Wn();var b=a.queue,E=b.dispatch;return u!==a.memoizedState&&(mt.flags|=2048,hn(9,ou(),Sw.bind(null,b,u),null)),[f,E,s]}function Sw(s,a){s.action=a}function $f(s){var a=Wn(),u=Qt;if(u!==null)return Qy(a,u,s);Wn(),a=a.memoizedState,u=Wn();var f=u.queue.dispatch;return u.memoizedState=s,[a,f,!1]}function hn(s,a,u,f){return s={tag:s,create:u,deps:f,inst:a,next:null},a=mt.updateQueue,a===null&&(a=jl(),mt.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,a.lastEffect=s),s}function ou(){return{destroy:void 0,resource:void 0}}function Kf(){return Wn().memoizedState}function au(s,a,u,f){var b=xr();f=f===void 0?null:f,mt.flags|=s,b.memoizedState=hn(1|a,ou(),u,f)}function lu(s,a,u,f){var b=Wn();f=f===void 0?null:f;var E=b.memoizedState.inst;Qt!==null&&f!==null&&nu(f,Qt.memoizedState.deps)?b.memoizedState=hn(a,E,u,f):(mt.flags|=s,b.memoizedState=hn(1|a,E,u,f))}function og(s,a){au(8390656,8,s,a)}function ag(s,a){lu(2048,8,s,a)}function lg(s,a){return lu(4,2,s,a)}function zd(s,a){return lu(4,4,s,a)}function Ba(s,a){if(typeof a=="function"){s=s();var u=a(s);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function cg(s,a,u){u=u!=null?u.concat([s]):null,lu(4,4,Ba.bind(null,a,s),u)}function Wf(){}function ug(s,a){var u=Wn();a=a===void 0?null:a;var f=u.memoizedState;return a!==null&&nu(a,f[1])?f[0]:(u.memoizedState=[s,a],s)}function Ki(s,a){var u=Wn();a=a===void 0?null:a;var f=u.memoizedState;if(a!==null&&nu(a,f[1]))return f[0];if(f=s(),ho){Nt(!0);try{s()}finally{Nt(!1)}}return u.memoizedState=[f,a],f}function Hl(s,a,u){return u===void 0||(Ps&1073741824)!==0?s.memoizedState=a:(s.memoizedState=u,s=Lg(),mt.lanes|=s,Qo|=s,u)}function dg(s,a,u,f){return Nn(u,a)?u:zo.current!==null?(s=Hl(s,u,f),Nn(s,a)||(Bn=!0),s):(Ps&42)===0?(Bn=!0,s.memoizedState=u):(s=Lg(),mt.lanes|=s,Qo|=s,a)}function hg(s,a,u,f,b){var E=fe.p;fe.p=E!==0&&8>E?E:8;var P=re.T,F={};re.T=F,Xf(s,!1,a,u);try{var Q=b(),le=re.S;if(le!==null&&le(F,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var pe=zy(Q,f);du(s,a,pe,kr(s))}else du(s,a,f,kr(s))}catch(ye){du(s,a,{then:function(){},status:"rejected",reason:ye},kr())}finally{fe.p=E,re.T=P}}function fg(){}function Yf(s,a,u,f){if(s.tag!==5)throw Error(i(476));var b=pg(s).queue;hg(s,b,a,ve,u===null?fg:function(){return ql(s),u(f)})}function pg(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:ve},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:u},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function ql(s){var a=pg(s).next.queue;du(s,a,{},kr())}function mg(){return xi(Ih)}function Hd(){return Wn().memoizedState}function qd(){return Wn().memoizedState}function es(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var u=kr();s=Ms(u);var f=Fo(a,s,u);f!==null&&(Nr(f,a,u),uo(f,a,u)),a={cache:Xc()},s.payload=a;return}a=a.return}}function cu(s,a,u){var f=kr();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Gd(s)?Fa(a,u):(u=Cd(s,a,u,f),u!==null&&(Nr(u,s,f),Jy(u,a,f)))}function uu(s,a,u){var f=kr();du(s,a,u,f)}function du(s,a,u,f){var b={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Gd(s))Fa(a,b);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var P=a.lastRenderedState,F=E(P,u);if(b.hasEagerState=!0,b.eagerState=F,Nn(F,P))return Cf(s,a,b,0),sn===null&&Rl(),!1}catch{}finally{}if(u=Cd(s,a,b,f),u!==null)return Nr(u,s,f),Jy(u,a,f),!0}return!1}function Xf(s,a,u,f){if(f={lane:2,revertLane:vh(),action:f,hasEagerState:!1,eagerState:null,next:null},Gd(s)){if(a)throw Error(i(479))}else a=Cd(s,u,f,2),a!==null&&Nr(a,s,2)}function Gd(s){var a=s.alternate;return s===mt||a!==null&&a===mt}function Fa(s,a){Ol=qo=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function Jy(s,a,u){if((u&4194048)!==0){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,rn(s,u)}}var Qf={readContext:xi,use:Vl,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useLayoutEffect:Tn,useInsertionEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useSyncExternalStore:Tn,useId:Tn,useHostTransitionStatus:Tn,useFormState:Tn,useActionState:Tn,useOptimistic:Tn,useMemoCache:Tn,useCacheRefresh:Tn},Zy={readContext:xi,use:Vl,useCallback:function(s,a){return xr().memoizedState=[s,a===void 0?null:a],s},useContext:xi,useEffect:og,useImperativeHandle:function(s,a,u){u=u!=null?u.concat([s]):null,au(4194308,4,Ba.bind(null,a,s),u)},useLayoutEffect:function(s,a){return au(4194308,4,s,a)},useInsertionEffect:function(s,a){au(4,2,s,a)},useMemo:function(s,a){var u=xr();a=a===void 0?null:a;var f=s();if(ho){Nt(!0);try{s()}finally{Nt(!1)}}return u.memoizedState=[f,a],f},useReducer:function(s,a,u){var f=xr();if(u!==void 0){var b=u(a);if(ho){Nt(!0);try{u(a)}finally{Nt(!1)}}}else b=a;return f.memoizedState=f.baseState=b,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:b},f.queue=s,s=s.dispatch=cu.bind(null,mt,s),[f.memoizedState,s]},useRef:function(s){var a=xr();return s={current:s},a.memoizedState=s},useState:function(s){s=Bl(s);var a=s.queue,u=uu.bind(null,mt,a);return a.dispatch=u,[s.memoizedState,u]},useDebugValue:Wf,useDeferredValue:function(s,a){var u=xr();return Hl(u,s,a)},useTransition:function(){var s=Bl(!1);return s=hg.bind(null,mt,s.queue,!0,!1),xr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,u){var f=mt,b=xr();if(Ht){if(u===void 0)throw Error(i(407));u=u()}else{if(u=a(),sn===null)throw Error(i(349));(It&124)!==0||Hf(f,a,u)}b.memoizedState=u;var E={value:u,getSnapshot:a};return b.queue=E,og(Ua.bind(null,f,E,s),[s]),f.flags|=2048,hn(9,ou(),qf.bind(null,f,E,u,a),null),u},useId:function(){var s=xr(),a=sn.identifierPrefix;if(Ht){var u=so,f=Lo;u=(f&~(1<<32-Se(f)-1)).toString(32)+u,a=""+a+"R"+u,u=Ll++,0<u&&(a+="H"+u.toString(32)),a+=""}else u=Uf++,a=""+a+"r"+u.toString(32)+"";return s.memoizedState=a},useHostTransitionStatus:mg,useFormState:Yy,useActionState:Yy,useOptimistic:function(s){var a=xr();a.memoizedState=a.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=Xf.bind(null,mt,!0,u),u.dispatch=a,[s,a]},useMemoCache:iu,useCacheRefresh:function(){return xr().memoizedState=es.bind(null,mt)}},e0={readContext:xi,use:Vl,useCallback:ug,useContext:xi,useEffect:ag,useImperativeHandle:cg,useInsertionEffect:lg,useLayoutEffect:zd,useMemo:Ki,useReducer:ru,useRef:Kf,useState:function(){return ru(Ds)},useDebugValue:Wf,useDeferredValue:function(s,a){var u=Wn();return dg(u,Qt.memoizedState,s,a)},useTransition:function(){var s=ru(Ds)[0],a=Wn().memoizedState;return[typeof s=="boolean"?s:ja(s),a]},useSyncExternalStore:ig,useId:Hd,useHostTransitionStatus:mg,useFormState:Xy,useActionState:Xy,useOptimistic:function(s,a){var u=Wn();return Fl(u,Qt,s,a)},useMemoCache:iu,useCacheRefresh:qd},xw={readContext:xi,use:Vl,useCallback:ug,useContext:xi,useEffect:ag,useImperativeHandle:cg,useInsertionEffect:lg,useLayoutEffect:zd,useMemo:Ki,useReducer:zf,useRef:Kf,useState:function(){return zf(Ds)},useDebugValue:Wf,useDeferredValue:function(s,a){var u=Wn();return Qt===null?Hl(u,s,a):dg(u,Qt.memoizedState,s,a)},useTransition:function(){var s=zf(Ds)[0],a=Wn().memoizedState;return[typeof s=="boolean"?s:ja(s),a]},useSyncExternalStore:ig,useId:Hd,useHostTransitionStatus:mg,useFormState:$f,useActionState:$f,useOptimistic:function(s,a){var u=Wn();return Qt!==null?Fl(u,Qt,s,a):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:iu,useCacheRefresh:qd},Gl=null,hu=0;function Jf(s){var a=hu;return hu+=1,Gl===null&&(Gl=[]),Of(Gl,s,a)}function $d(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function fu(s,a){throw a.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function gg(s){var a=s._init;return a(s._payload)}function Un(s){function a(ne,ee){if(s){var oe=ne.deletions;oe===null?(ne.deletions=[ee],ne.flags|=16):oe.push(ee)}}function u(ne,ee){if(!s)return null;for(;ee!==null;)a(ne,ee),ee=ee.sibling;return null}function f(ne){for(var ee=new Map;ne!==null;)ne.key!==null?ee.set(ne.key,ne):ee.set(ne.index,ne),ne=ne.sibling;return ee}function b(ne,ee){return ne=ro(ne,ee),ne.index=0,ne.sibling=null,ne}function E(ne,ee,oe){return ne.index=oe,s?(oe=ne.alternate,oe!==null?(oe=oe.index,oe<ee?(ne.flags|=67108866,ee):oe):(ne.flags|=67108866,ee)):(ne.flags|=1048576,ee)}function P(ne){return s&&ne.alternate===null&&(ne.flags|=67108866),ne}function F(ne,ee,oe,me){return ee===null||ee.tag!==6?(ee=kf(oe,ne.mode,me),ee.return=ne,ee):(ee=b(ee,oe),ee.return=ne,ee)}function Q(ne,ee,oe,me){var Oe=oe.type;return Oe===O?pe(ne,ee,oe.props.children,me,oe.key):ee!==null&&(ee.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===V&&gg(Oe)===ee.type)?(ee=b(ee,oe.props),$d(ee,oe),ee.return=ne,ee):(ee=wn(oe.type,oe.key,oe.props,null,ne.mode,me),$d(ee,oe),ee.return=ne,ee)}function le(ne,ee,oe,me){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==oe.containerInfo||ee.stateNode.implementation!==oe.implementation?(ee=Id(oe,ne.mode,me),ee.return=ne,ee):(ee=b(ee,oe.children||[]),ee.return=ne,ee)}function pe(ne,ee,oe,me,Oe){return ee===null||ee.tag!==7?(ee=hs(oe,ne.mode,me,Oe),ee.return=ne,ee):(ee=b(ee,oe),ee.return=ne,ee)}function ye(ne,ee,oe){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=kf(""+ee,ne.mode,oe),ee.return=ne,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case C:return oe=wn(ee.type,ee.key,ee.props,null,ne.mode,oe),$d(oe,ee),oe.return=ne,oe;case N:return ee=Id(ee,ne.mode,oe),ee.return=ne,ee;case V:var me=ee._init;return ee=me(ee._payload),ye(ne,ee,oe)}if(_e(ee)||G(ee))return ee=hs(ee,ne.mode,oe,null),ee.return=ne,ee;if(typeof ee.then=="function")return ye(ne,Jf(ee),oe);if(ee.$$typeof===K)return ye(ne,Dd(ne,ee),oe);fu(ne,ee)}return null}function ce(ne,ee,oe,me){var Oe=ee!==null?ee.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Oe!==null?null:F(ne,ee,""+oe,me);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case C:return oe.key===Oe?Q(ne,ee,oe,me):null;case N:return oe.key===Oe?le(ne,ee,oe,me):null;case V:return Oe=oe._init,oe=Oe(oe._payload),ce(ne,ee,oe,me)}if(_e(oe)||G(oe))return Oe!==null?null:pe(ne,ee,oe,me,null);if(typeof oe.then=="function")return ce(ne,ee,Jf(oe),me);if(oe.$$typeof===K)return ce(ne,ee,Dd(ne,oe),me);fu(ne,oe)}return null}function ue(ne,ee,oe,me,Oe){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return ne=ne.get(oe)||null,F(ee,ne,""+me,Oe);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case C:return ne=ne.get(me.key===null?oe:me.key)||null,Q(ee,ne,me,Oe);case N:return ne=ne.get(me.key===null?oe:me.key)||null,le(ee,ne,me,Oe);case V:var Ct=me._init;return me=Ct(me._payload),ue(ne,ee,oe,me,Oe)}if(_e(me)||G(me))return ne=ne.get(oe)||null,pe(ee,ne,me,Oe,null);if(typeof me.then=="function")return ue(ne,ee,oe,Jf(me),Oe);if(me.$$typeof===K)return ue(ne,ee,oe,Dd(ee,me),Oe);fu(ee,me)}return null}function tt(ne,ee,oe,me){for(var Oe=null,Ct=null,ze=ee,Je=ee=0,Xi=null;ze!==null&&Je<oe.length;Je++){ze.index>Je?(Xi=ze,ze=null):Xi=ze.sibling;var Wt=ce(ne,ze,oe[Je],me);if(Wt===null){ze===null&&(ze=Xi);break}s&&ze&&Wt.alternate===null&&a(ne,ze),ee=E(Wt,ee,Je),Ct===null?Oe=Wt:Ct.sibling=Wt,Ct=Wt,ze=Xi}if(Je===oe.length)return u(ne,ze),Ht&&ps(ne,Je),Oe;if(ze===null){for(;Je<oe.length;Je++)ze=ye(ne,oe[Je],me),ze!==null&&(ee=E(ze,ee,Je),Ct===null?Oe=ze:Ct.sibling=ze,Ct=ze);return Ht&&ps(ne,Je),Oe}for(ze=f(ze);Je<oe.length;Je++)Xi=ue(ze,ne,Je,oe[Je],me),Xi!==null&&(s&&Xi.alternate!==null&&ze.delete(Xi.key===null?Je:Xi.key),ee=E(Xi,ee,Je),Ct===null?Oe=Xi:Ct.sibling=Xi,Ct=Xi);return s&&ze.forEach(function(Hu){return a(ne,Hu)}),Ht&&ps(ne,Je),Oe}function Qe(ne,ee,oe,me){if(oe==null)throw Error(i(151));for(var Oe=null,Ct=null,ze=ee,Je=ee=0,Xi=null,Wt=oe.next();ze!==null&&!Wt.done;Je++,Wt=oe.next()){ze.index>Je?(Xi=ze,ze=null):Xi=ze.sibling;var Hu=ce(ne,ze,Wt.value,me);if(Hu===null){ze===null&&(ze=Xi);break}s&&ze&&Hu.alternate===null&&a(ne,ze),ee=E(Hu,ee,Je),Ct===null?Oe=Hu:Ct.sibling=Hu,Ct=Hu,ze=Xi}if(Wt.done)return u(ne,ze),Ht&&ps(ne,Je),Oe;if(ze===null){for(;!Wt.done;Je++,Wt=oe.next())Wt=ye(ne,Wt.value,me),Wt!==null&&(ee=E(Wt,ee,Je),Ct===null?Oe=Wt:Ct.sibling=Wt,Ct=Wt);return Ht&&ps(ne,Je),Oe}for(ze=f(ze);!Wt.done;Je++,Wt=oe.next())Wt=ue(ze,ne,Je,Wt.value,me),Wt!==null&&(s&&Wt.alternate!==null&&ze.delete(Wt.key===null?Je:Wt.key),ee=E(Wt,ee,Je),Ct===null?Oe=Wt:Ct.sibling=Wt,Ct=Wt);return s&&ze.forEach(function(mP){return a(ne,mP)}),Ht&&ps(ne,Je),Oe}function gn(ne,ee,oe,me){if(typeof oe=="object"&&oe!==null&&oe.type===O&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case C:e:{for(var Oe=oe.key;ee!==null;){if(ee.key===Oe){if(Oe=oe.type,Oe===O){if(ee.tag===7){u(ne,ee.sibling),me=b(ee,oe.props.children),me.return=ne,ne=me;break e}}else if(ee.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===V&&gg(Oe)===ee.type){u(ne,ee.sibling),me=b(ee,oe.props),$d(me,oe),me.return=ne,ne=me;break e}u(ne,ee);break}else a(ne,ee);ee=ee.sibling}oe.type===O?(me=hs(oe.props.children,ne.mode,me,oe.key),me.return=ne,ne=me):(me=wn(oe.type,oe.key,oe.props,null,ne.mode,me),$d(me,oe),me.return=ne,ne=me)}return P(ne);case N:e:{for(Oe=oe.key;ee!==null;){if(ee.key===Oe)if(ee.tag===4&&ee.stateNode.containerInfo===oe.containerInfo&&ee.stateNode.implementation===oe.implementation){u(ne,ee.sibling),me=b(ee,oe.children||[]),me.return=ne,ne=me;break e}else{u(ne,ee);break}else a(ne,ee);ee=ee.sibling}me=Id(oe,ne.mode,me),me.return=ne,ne=me}return P(ne);case V:return Oe=oe._init,oe=Oe(oe._payload),gn(ne,ee,oe,me)}if(_e(oe))return tt(ne,ee,oe,me);if(G(oe)){if(Oe=G(oe),typeof Oe!="function")throw Error(i(150));return oe=Oe.call(oe),Qe(ne,ee,oe,me)}if(typeof oe.then=="function")return gn(ne,ee,Jf(oe),me);if(oe.$$typeof===K)return gn(ne,ee,Dd(ne,oe),me);fu(ne,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,ee!==null&&ee.tag===6?(u(ne,ee.sibling),me=b(ee,oe),me.return=ne,ne=me):(u(ne,ee),me=kf(oe,ne.mode,me),me.return=ne,ne=me),P(ne)):u(ne,ee)}return function(ne,ee,oe,me){try{hu=0;var Oe=gn(ne,ee,oe,me);return Gl=null,Oe}catch(ze){if(ze===Zc||ze===jd)throw ze;var Ct=Gn(29,ze,null,ne.mode);return Ct.lanes=me,Ct.return=ne,Ct}finally{}}}var fn=Un(!0),vg=Un(!1),Vi=ae(null),fo=null;function za(s){var a=s.alternate;Ee(ti,ti.current&1),Ee(Vi,s),fo===null&&(a===null||zo.current!==null||a.memoizedState!==null)&&(fo=s)}function Zf(s){if(s.tag===22){if(Ee(ti,ti.current),Ee(Vi,s),fo===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(fo=s)}}else $o()}function $o(){Ee(ti,ti.current),Ee(Vi,Vi.current)}function Ls(s){Re(Vi),fo===s&&(fo=null),Re(ti)}var ti=ae(0);function Kd(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Tp(u)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function $l(s,a,u,f){a=s.memoizedState,u=u(f,a),u=u==null?a:w({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Wd={enqueueSetState:function(s,a,u){s=s._reactInternals;var f=kr(),b=Ms(f);b.payload=a,u!=null&&(b.callback=u),a=Fo(s,b,f),a!==null&&(Nr(a,s,f),uo(a,s,f))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var f=kr(),b=Ms(f);b.tag=1,b.payload=a,u!=null&&(b.callback=u),a=Fo(s,b,f),a!==null&&(Nr(a,s,f),uo(a,s,f))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=kr(),f=Ms(u);f.tag=2,a!=null&&(f.callback=a),a=Fo(s,f,u),a!==null&&(Nr(a,s,u),uo(a,s,u))}};function Yd(s,a,u,f,b,E,P){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,E,P):a.prototype&&a.prototype.isPureReactComponent?!zc(u,f)||!zc(b,E):!0}function ep(s,a,u,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==s&&Wd.enqueueReplaceState(a,a.state,null)}function po(s,a){var u=a;if("ref"in a){u={};for(var f in a)f!=="ref"&&(u[f]=a[f])}if(s=s.defaultProps){u===a&&(u=w({},u));for(var b in s)u[b]===void 0&&(u[b]=s[b])}return u}var pu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function tp(s){pu(s)}function t0(s){console.error(s)}function n0(s){pu(s)}function Ha(s,a){try{var u=s.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function Kl(s,a,u){try{var f=s.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Xd(s,a,u){return u=Ms(u),u.tag=3,u.payload={element:null},u.callback=function(){Ha(s,a)},u}function yg(s){return s=Ms(s),s.tag=3,s}function Vt(s,a,u,f){var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var E=f.value;s.payload=function(){return b(E)},s.callback=function(){Kl(a,u,f)}}var P=u.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(s.callback=function(){Kl(a,u,f),typeof b!="function"&&(Jo===null?Jo=new Set([this]):Jo.add(this));var F=f.stack;this.componentDidCatch(f.value,{componentStack:F!==null?F:""})})}function Pe(s,a,u,f,b){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=u.alternate,a!==null&&Pd(a,u,b,!0),u=Vi.current,u!==null){switch(u.tag){case 13:return fo===null?fp():u.alternate===null&&Pn===0&&(Pn=3),u.flags&=-257,u.flags|=65536,u.lanes=b,f===Qm?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([f]):a.add(f),mp(s,f,b)),!1;case 22:return u.flags|=65536,f===Qm?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([f]):u.add(f)),mp(s,f,b)),!1}throw Error(i(435,u.tag))}return mp(s,f,b),fp(),!1}if(Ht)return a=Vi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=b,f!==ao&&(s=Error(i(422),{cause:f}),jo(Qr(s,u)))):(f!==ao&&(a=Error(i(423),{cause:f}),jo(Qr(a,u))),s=s.current.alternate,s.flags|=65536,b&=-b,s.lanes|=b,f=Qr(f,u),b=Xd(s.stateNode,f,b),Bd(s,b),Pn!==4&&(Pn=2)),!1;var E=Error(i(520),{cause:f});if(E=Qr(E,u),Tu===null?Tu=[E]:Tu.push(E),Pn!==4&&(Pn=2),a===null)return!0;f=Qr(f,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,s=b&-b,u.lanes|=s,s=Xd(u.stateNode,f,s),Bd(u,s),!1;case 1:if(a=u.type,E=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Jo===null||!Jo.has(E))))return u.flags|=65536,b&=-b,u.lanes|=b,b=yg(b),Vt(b,s,u,f),Bd(u,b),!1}u=u.return}while(u!==null);return!1}var bg=Error(i(461)),Bn=!1;function pn(s,a,u,f){a.child=s===null?vg(a,null,u,f):fn(a,s.child,u,f)}function js(s,a,u,f,b){u=u.render;var E=a.ref;if("ref"in f){var P={};for(var F in f)F!=="ref"&&(P[F]=f[F])}else P=f;return Ns(a),f=Bf(s,a,u,P,E,b),F=ng(),s!==null&&!Bn?(Fd(s,a,b),ts(s,a,b)):(Ht&&F&&Mf(a),a.flags|=1,pn(s,a,f,b),a.child)}function hi(s,a,u,f,b){if(s===null){var E=u.type;return typeof E=="function"&&!Rf(E)&&E.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=E,wg(s,a,E,f,b)):(s=wn(u.type,null,f,a,a.mode,b),s.ref=a.ref,s.return=a,a.child=s)}if(E=s.child,!Zd(s,b)){var P=E.memoizedProps;if(u=u.compare,u=u!==null?u:zc,u(P,f)&&s.ref===a.ref)return ts(s,a,b)}return a.flags|=1,s=ro(E,f),s.ref=a.ref,s.return=a,a.child=s}function wg(s,a,u,f,b){if(s!==null){var E=s.memoizedProps;if(zc(E,f)&&s.ref===a.ref)if(Bn=!1,a.pendingProps=f=E,Zd(s,b))(s.flags&131072)!==0&&(Bn=!0);else return a.lanes=s.lanes,ts(s,a,b)}return Qd(s,a,u,f,b)}function i0(s,a,u){var f=a.pendingProps,b=f.children,E=s!==null?s.memoizedState:null;if(f.mode==="hidden"){if((a.flags&128)!==0){if(f=E!==null?E.baseLanes|u:u,s!==null){for(b=a.child=s.child,E=0;b!==null;)E=E|b.lanes|b.childLanes,b=b.sibling;a.childLanes=E&~f}else a.childLanes=0,a.child=null;return _g(s,a,f,u)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&co(a,E!==null?E.cachePool:null),E!==null?Zm(a,E):Vf(),Zf(a);else return a.lanes=a.childLanes=536870912,_g(s,a,E!==null?E.baseLanes|u:u,u)}else E!==null?(co(a,E.cachePool),Zm(a,E),$o(),a.memoizedState=null):(s!==null&&co(a,null),Vf(),$o());return pn(s,a,b,u),a.child}function _g(s,a,u,f){var b=Pl();return b=b===null?null:{parent:$n._currentValue,pool:b},a.memoizedState={baseLanes:u,cachePool:b},s!==null&&co(a,null),Vf(),Zf(a),s!==null&&Pd(s,a,f,!0),null}function qa(s,a){var u=a.ref;if(u===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(s===null||s.ref!==u)&&(a.flags|=4194816)}}function Qd(s,a,u,f,b){return Ns(a),u=Bf(s,a,u,f,void 0,b),f=ng(),s!==null&&!Bn?(Fd(s,a,b),ts(s,a,b)):(Ht&&f&&Mf(a),a.flags|=1,pn(s,a,u,b),a.child)}function r0(s,a,u,f,b,E){return Ns(a),a.updateQueue=null,u=tg(a,f,u,b),eg(s),f=ng(),s!==null&&!Bn?(Fd(s,a,E),ts(s,a,E)):(Ht&&f&&Mf(a),a.flags|=1,pn(s,a,u,E),a.child)}function Wl(s,a,u,f,b){if(Ns(a),a.stateNode===null){var E=ds,P=u.contextType;typeof P=="object"&&P!==null&&(E=xi(P)),E=new u(f,E),a.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Wd,a.stateNode=E,E._reactInternals=a,E=a.stateNode,E.props=f,E.state=a.memoizedState,E.refs={},Lf(a),P=u.contextType,E.context=typeof P=="object"&&P!==null?xi(P):ds,E.state=a.memoizedState,P=u.getDerivedStateFromProps,typeof P=="function"&&($l(a,u,P,f),E.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(P=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),P!==E.state&&Wd.enqueueReplaceState(E,E.state,null),tu(a,f,E,b),eu(),E.state=a.memoizedState),typeof E.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(s===null){E=a.stateNode;var F=a.memoizedProps,Q=po(u,F);E.props=Q;var le=E.context,pe=u.contextType;P=ds,typeof pe=="object"&&pe!==null&&(P=xi(pe));var ye=u.getDerivedStateFromProps;pe=typeof ye=="function"||typeof E.getSnapshotBeforeUpdate=="function",F=a.pendingProps!==F,pe||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(F||le!==P)&&ep(a,E,f,P),rr=!1;var ce=a.memoizedState;E.state=ce,tu(a,f,E,b),eu(),le=a.memoizedState,F||ce!==le||rr?(typeof ye=="function"&&($l(a,u,ye,f),le=a.memoizedState),(Q=rr||Yd(a,u,Q,f,ce,le,P))?(pe||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(a.flags|=4194308)):(typeof E.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=le),E.props=f,E.state=le,E.context=P,f=Q):(typeof E.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{E=a.stateNode,Ud(s,a),P=a.memoizedProps,pe=po(u,P),E.props=pe,ye=a.pendingProps,ce=E.context,le=u.contextType,Q=ds,typeof le=="object"&&le!==null&&(Q=xi(le)),F=u.getDerivedStateFromProps,(le=typeof F=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==ye||ce!==Q)&&ep(a,E,f,Q),rr=!1,ce=a.memoizedState,E.state=ce,tu(a,f,E,b),eu();var ue=a.memoizedState;P!==ye||ce!==ue||rr||s!==null&&s.dependencies!==null&&Yc(s.dependencies)?(typeof F=="function"&&($l(a,u,F,f),ue=a.memoizedState),(pe=rr||Yd(a,u,pe,f,ce,ue,Q)||s!==null&&s.dependencies!==null&&Yc(s.dependencies))?(le||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(f,ue,Q),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(f,ue,Q)),typeof E.componentDidUpdate=="function"&&(a.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof E.componentDidUpdate!="function"||P===s.memoizedProps&&ce===s.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&ce===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=ue),E.props=f,E.state=ue,E.context=Q,f=pe):(typeof E.componentDidUpdate!="function"||P===s.memoizedProps&&ce===s.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&ce===s.memoizedState||(a.flags|=1024),f=!1)}return E=f,qa(s,a),f=(a.flags&128)!==0,E||f?(E=a.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:E.render(),a.flags|=1,s!==null&&f?(a.child=fn(a,s.child,null,b),a.child=fn(a,null,u,b)):pn(s,a,u,b),a.memoizedState=E.state,s=a.child):s=ts(s,a,b),s}function Eg(s,a,u,f){return Kc(),a.flags|=256,pn(s,a,u,f),a.child}var np={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ip(s){return{baseLanes:s,cachePool:Hy()}}function Ga(s,a,u){return s=s!==null?s.childLanes&~u:0,a&&(s|=ns),s}function Jd(s,a,u){var f=a.pendingProps,b=!1,E=(a.flags&128)!==0,P;if((P=E)||(P=s!==null&&s.memoizedState===null?!1:(ti.current&2)!==0),P&&(b=!0,a.flags&=-129),P=(a.flags&32)!==0,a.flags&=-33,s===null){if(Ht){if(b?za(a):$o(),Ht){var F=$t,Q;if(Q=F){e:{for(Q=F,F=oo;Q.nodeType!==8;){if(!F){F=null;break e}if(Q=Yi(Q.nextSibling),Q===null){F=null;break e}}F=Q}F!==null?(a.memoizedState={dehydrated:F,treeContext:Na!==null?{id:Lo,overflow:so}:null,retryLane:536870912,hydrationErrors:null},Q=Gn(18,null,null,0),Q.stateNode=F,Q.return=a,a.child=Q,Si=a,$t=null,Q=!0):Q=!1}Q||ks(a)}if(F=a.memoizedState,F!==null&&(F=F.dehydrated,F!==null))return Tp(F)?a.lanes=32:a.lanes=536870912,null;Ls(a)}return F=f.children,f=f.fallback,b?($o(),b=a.mode,F=rp({mode:"hidden",children:F},b),f=hs(f,b,u,null),F.return=a,f.return=a,F.sibling=f,a.child=F,b=a.child,b.memoizedState=ip(u),b.childLanes=Ga(s,P,u),a.memoizedState=np,f):(za(a),mu(a,F))}if(Q=s.memoizedState,Q!==null&&(F=Q.dehydrated,F!==null)){if(E)a.flags&256?(za(a),a.flags&=-257,a=$a(s,a,u)):a.memoizedState!==null?($o(),a.child=s.child,a.flags|=128,a=null):($o(),b=f.fallback,F=a.mode,f=rp({mode:"visible",children:f.children},F),b=hs(b,F,u,null),b.flags|=2,f.return=a,b.return=a,f.sibling=b,a.child=f,fn(a,s.child,null,u),f=a.child,f.memoizedState=ip(u),f.childLanes=Ga(s,P,u),a.memoizedState=np,a=b);else if(za(a),Tp(F)){if(P=F.nextSibling&&F.nextSibling.dataset,P)var le=P.dgst;P=le,f=Error(i(419)),f.stack="",f.digest=P,jo({value:f,source:null,stack:null}),a=$a(s,a,u)}else if(Bn||Pd(s,a,u,!1),P=(u&s.childLanes)!==0,Bn||P){if(P=sn,P!==null&&(f=u&-u,f=(f&42)!==0?1:un(f),f=(f&(P.suspendedLanes|u))!==0?0:f,f!==0&&f!==Q.retryLane))throw Q.retryLane=f,Il(s,f),Nr(P,s,f),bg;F.data==="$?"||fp(),a=$a(s,a,u)}else F.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=Q.treeContext,$t=Yi(F.nextSibling),Si=a,Ht=!0,Nl=null,oo=!1,s!==null&&(Jr[Zr++]=Lo,Jr[Zr++]=so,Jr[Zr++]=Na,Lo=s.id,so=s.overflow,Na=a),a=mu(a,f.children),a.flags|=4096);return a}return b?($o(),b=f.fallback,F=a.mode,Q=s.child,le=Q.sibling,f=ro(Q,{mode:"hidden",children:f.children}),f.subtreeFlags=Q.subtreeFlags&65011712,le!==null?b=ro(le,b):(b=hs(b,F,u,null),b.flags|=2),b.return=a,f.return=a,f.sibling=b,a.child=f,f=b,b=a.child,F=s.child.memoizedState,F===null?F=ip(u):(Q=F.cachePool,Q!==null?(le=$n._currentValue,Q=Q.parent!==le?{parent:le,pool:le}:Q):Q=Hy(),F={baseLanes:F.baseLanes|u,cachePool:Q}),b.memoizedState=F,b.childLanes=Ga(s,P,u),a.memoizedState=np,f):(za(a),u=s.child,s=u.sibling,u=ro(u,{mode:"visible",children:f.children}),u.return=a,u.sibling=null,s!==null&&(P=a.deletions,P===null?(a.deletions=[s],a.flags|=16):P.push(s)),a.child=u,a.memoizedState=null,u)}function mu(s,a){return a=rp({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function rp(s,a){return s=Gn(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function $a(s,a,u){return fn(a,s.child,null,u),s=mu(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Tg(s,a,u){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),Wc(s.return,a,u)}function Ka(s,a,u,f,b){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:b}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=f,E.tail=u,E.tailMode=b)}function Sg(s,a,u){var f=a.pendingProps,b=f.revealOrder,E=f.tail;if(pn(s,a,f.children,u),f=ti.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Tg(s,u,a);else if(s.tag===19)Tg(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}switch(Ee(ti,f),b){case"forwards":for(u=a.child,b=null;u!==null;)s=u.alternate,s!==null&&Kd(s)===null&&(b=u),u=u.sibling;u=b,u===null?(b=a.child,a.child=null):(b=u.sibling,u.sibling=null),Ka(a,!1,b,u,E);break;case"backwards":for(u=null,b=a.child,a.child=null;b!==null;){if(s=b.alternate,s!==null&&Kd(s)===null){a.child=b;break}s=b.sibling,b.sibling=u,u=b,b=s}Ka(a,!0,u,null,E);break;case"together":Ka(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ts(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Qo|=a.lanes,(u&a.childLanes)===0)if(s!==null){if(Pd(s,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,u=ro(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=ro(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function Zd(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Yc(s)))}function s0(s,a,u){switch(a.tag){case 3:Ft(a,a.stateNode.containerInfo),Pa(a,$n,s.memoizedState.cache),Kc();break;case 27:case 5:vr(a);break;case 4:Ft(a,a.stateNode.containerInfo);break;case 10:Pa(a,a.type,a.memoizedProps.value);break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(za(a),a.flags|=128,null):(u&a.child.childLanes)!==0?Jd(s,a,u):(za(a),s=ts(s,a,u),s!==null?s.sibling:null);za(a);break;case 19:var b=(s.flags&128)!==0;if(f=(u&a.childLanes)!==0,f||(Pd(s,a,u,!1),f=(u&a.childLanes)!==0),b){if(f)return Sg(s,a,u);a.flags|=128}if(b=a.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Ee(ti,ti.current),f)break;return null;case 22:case 23:return a.lanes=0,i0(s,a,u);case 24:Pa(a,$n,s.memoizedState.cache)}return ts(s,a,u)}function gu(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps)Bn=!0;else{if(!Zd(s,u)&&(a.flags&128)===0)return Bn=!1,s0(s,a,u);Bn=(s.flags&131072)!==0}else Bn=!1,Ht&&(a.flags&1048576)!==0&&qm(a,kd,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var f=a.elementType,b=f._init;if(f=b(f._payload),a.type=f,typeof f=="function")Rf(f)?(s=po(f,s),a.tag=1,a=Wl(null,a,f,s,u)):(a.tag=0,a=Qd(null,a,f,s,u));else{if(f!=null){if(b=f.$$typeof,b===W){a.tag=11,a=js(null,a,f,s,u);break e}else if(b===U){a.tag=14,a=hi(null,a,f,s,u);break e}}throw a=se(f)||f,Error(i(306,a,""))}}return a;case 0:return Qd(s,a,a.type,a.pendingProps,u);case 1:return f=a.type,b=po(f,a.pendingProps),Wl(s,a,f,b,u);case 3:e:{if(Ft(a,a.stateNode.containerInfo),s===null)throw Error(i(387));f=a.pendingProps;var E=a.memoizedState;b=E.element,Ud(s,a),tu(a,f,null,u);var P=a.memoizedState;if(f=P.cache,Pa(a,$n,f),f!==E.cache&&$m(a,[$n],u,!0),eu(),f=P.element,E.isDehydrated)if(E={element:f,isDehydrated:!1,cache:P.cache},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){a=Eg(s,a,f,u);break e}else if(f!==b){b=Qr(Error(i(424)),a),jo(b),a=Eg(s,a,f,u);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for($t=Yi(s.firstChild),Si=a,Ht=!0,Nl=null,oo=!0,u=vg(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Kc(),f===b){a=ts(s,a,u);break e}pn(s,a,f,u)}a=a.child}return a;case 26:return qa(s,a),s===null?(u=Uu(a.type,null,a.pendingProps,null))?a.memoizedState=u:Ht||(u=a.type,s=a.pendingProps,f=Ep(Ge.current).createElement(u),f[Mt]=a,f[In]=s,ni(f,u,s),Vn(f),a.stateNode=f):a.memoizedState=Uu(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return vr(a),s===null&&Ht&&(f=a.stateNode=wh(a.type,a.pendingProps,Ge.current),Si=a,oo=!0,b=$t,_o(a.type)?(ev=b,$t=Yi(f.firstChild)):$t=b),pn(s,a,a.pendingProps.children,u),qa(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Ht&&((b=f=$t)&&(f=Nw(f,a.type,a.pendingProps,oo),f!==null?(a.stateNode=f,Si=a,$t=Yi(f.firstChild),oo=!1,b=!0):b=!1),b||ks(a)),vr(a),b=a.type,E=a.pendingProps,P=s!==null?s.memoizedProps:null,f=E.children,cc(b,E)?f=null:P!==null&&cc(b,P)&&(a.flags|=32),a.memoizedState!==null&&(b=Bf(s,a,Wy,null,null,u),Ih._currentValue=b),qa(s,a),pn(s,a,f,u),a.child;case 6:return s===null&&Ht&&((s=u=$t)&&(u=Zg(u,a.pendingProps,oo),u!==null?(a.stateNode=u,Si=a,$t=null,s=!0):s=!1),s||ks(a)),null;case 13:return Jd(s,a,u);case 4:return Ft(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=fn(a,null,f,u):pn(s,a,f,u),a.child;case 11:return js(s,a,a.type,a.pendingProps,u);case 7:return pn(s,a,a.pendingProps,u),a.child;case 8:return pn(s,a,a.pendingProps.children,u),a.child;case 12:return pn(s,a,a.pendingProps.children,u),a.child;case 10:return f=a.pendingProps,Pa(a,a.type,f.value),pn(s,a,f.children,u),a.child;case 9:return b=a.type._context,f=a.pendingProps.children,Ns(a),b=xi(b),f=f(b),a.flags|=1,pn(s,a,f,u),a.child;case 14:return hi(s,a,a.type,a.pendingProps,u);case 15:return wg(s,a,a.type,a.pendingProps,u);case 19:return Sg(s,a,u);case 31:return f=a.pendingProps,u=a.mode,f={mode:f.mode,children:f.children},s===null?(u=rp(f,u),u.ref=a.ref,a.child=u,u.return=a,a=u):(u=ro(s.child,f),u.ref=a.ref,a.child=u,u.return=a,a=u),a;case 22:return i0(s,a,u);case 24:return Ns(a),f=xi($n),s===null?(b=Pl(),b===null&&(b=sn,E=Xc(),b.pooledCache=E,E.refCount++,E!==null&&(b.pooledCacheLanes|=u),b=E),a.memoizedState={parent:f,cache:b},Lf(a),Pa(a,$n,b)):((s.lanes&u)!==0&&(Ud(s,a),tu(a,null,null,u),eu()),b=s.memoizedState,E=a.memoizedState,b.parent!==f?(b={parent:f,cache:f},a.memoizedState=b,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=b),Pa(a,$n,f)):(f=E.cache,Pa(a,$n,f),f!==b.cache&&$m(a,[$n],u,!0))),pn(s,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function mo(s){s.flags|=4}function xg(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Eo(a)){if(a=Vi.current,a!==null&&((It&4194048)===It?fo!==null:(It&62914560)!==It&&(It&536870912)===0||a!==fo))throw Dl=Qm,qy;s.flags|=8192}}function eh(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?rt():536870912,s.lanes|=a,ec|=a)}function vu(s,a){if(!Ht)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Sn(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(a)for(var b=s.child;b!==null;)u|=b.lanes|b.childLanes,f|=b.subtreeFlags&65011712,f|=b.flags&65011712,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)u|=b.lanes|b.childLanes,f|=b.subtreeFlags,f|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=f,s.childLanes=u,a}function o0(s,a,u){var f=a.pendingProps;switch(Ma(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(a),null;case 1:return Sn(a),null;case 3:return u=a.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Uo($n),er(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&($c(a)?mo(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Md())),Sn(a),null;case 26:return u=a.memoizedState,s===null?(mo(a),u!==null?(Sn(a),xg(a,u)):(Sn(a),a.flags&=-16777217)):u?u!==s.memoizedState?(mo(a),Sn(a),xg(a,u)):(Sn(a),a.flags&=-16777217):(s.memoizedProps!==f&&mo(a),Sn(a),a.flags&=-16777217),null;case 27:ln(a),u=Ge.current;var b=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==f&&mo(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return Sn(a),null}s=Le.current,$c(a)?Nd(a):(s=wh(b,f,u),a.stateNode=s,mo(a))}return Sn(a),null;case 5:if(ln(a),u=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==f&&mo(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return Sn(a),null}if(s=Le.current,$c(a))Nd(a);else{switch(b=Ep(Ge.current),s){case 1:s=b.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=b.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=b.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof f.is=="string"?b.createElement("select",{is:f.is}):b.createElement("select"),f.multiple?s.multiple=!0:f.size&&(s.size=f.size);break;default:s=typeof f.is=="string"?b.createElement(u,{is:f.is}):b.createElement(u)}}s[Mt]=a,s[In]=f;e:for(b=a.child;b!==null;){if(b.tag===5||b.tag===6)s.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===a)break e;for(;b.sibling===null;){if(b.return===null||b.return===a)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}a.stateNode=s;e:switch(ni(s,u,f),u){case"button":case"input":case"select":case"textarea":s=!!f.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&mo(a)}}return Sn(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==f&&mo(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(i(166));if(s=Ge.current,$c(a)){if(s=a.stateNode,u=a.memoizedProps,f=null,b=Si,b!==null)switch(b.tag){case 27:case 5:f=b.memoizedProps}s[Mt]=a,s=!!(s.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||v0(s.nodeValue,u)),s||ks(a)}else s=Ep(s).createTextNode(f),s[Mt]=a,a.stateNode=s}return Sn(a),null;case 13:if(f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(b=$c(a),f!==null&&f.dehydrated!==null){if(s===null){if(!b)throw Error(i(318));if(b=a.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(i(317));b[Mt]=a}else Kc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Sn(a),b=!1}else b=Md(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=b),b=!0;if(!b)return a.flags&256?(Ls(a),a):(Ls(a),null)}if(Ls(a),(a.flags&128)!==0)return a.lanes=u,a;if(u=f!==null,s=s!==null&&s.memoizedState!==null,u){f=a.child,b=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(b=f.alternate.memoizedState.cachePool.pool);var E=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(E=f.memoizedState.cachePool.pool),E!==b&&(f.flags|=2048)}return u!==s&&u&&(a.child.flags|=8192),eh(a,a.updateQueue),Sn(a),null;case 4:return er(),s===null&&ku(a.stateNode.containerInfo),Sn(a),null;case 10:return Uo(a.type),Sn(a),null;case 19:if(Re(ti),b=a.memoizedState,b===null)return Sn(a),null;if(f=(a.flags&128)!==0,E=b.rendering,E===null)if(f)vu(b,!1);else{if(Pn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(E=Kd(s),E!==null){for(a.flags|=128,vu(b,!1),s=E.updateQueue,a.updateQueue=s,eh(a,s),a.subtreeFlags=0,s=u,u=a.child;u!==null;)If(u,s),u=u.sibling;return Ee(ti,ti.current&1|2),a.child}s=s.sibling}b.tail!==null&&Mi()>ah&&(a.flags|=128,f=!0,vu(b,!1),a.lanes=4194304)}else{if(!f)if(s=Kd(E),s!==null){if(a.flags|=128,f=!0,s=s.updateQueue,a.updateQueue=s,eh(a,s),vu(b,!0),b.tail===null&&b.tailMode==="hidden"&&!E.alternate&&!Ht)return Sn(a),null}else 2*Mi()-b.renderingStartTime>ah&&u!==536870912&&(a.flags|=128,f=!0,vu(b,!1),a.lanes=4194304);b.isBackwards?(E.sibling=a.child,a.child=E):(s=b.last,s!==null?s.sibling=E:a.child=E,b.last=E)}return b.tail!==null?(a=b.tail,b.rendering=a,b.tail=a.sibling,b.renderingStartTime=Mi(),a.sibling=null,s=ti.current,Ee(ti,f?s&1|2:s&1),a):(Sn(a),null);case 22:case 23:return Ls(a),Oa(),f=a.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(u&536870912)!==0&&(a.flags&128)===0&&(Sn(a),a.subtreeFlags&6&&(a.flags|=8192)):Sn(a),u=a.updateQueue,u!==null&&eh(a,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==u&&(a.flags|=2048),s!==null&&Re(Bo),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Uo($n),Sn(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function yu(s,a){switch(Ma(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Uo($n),er(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return ln(a),null;case 13:if(Ls(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Kc()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Re(ti),null;case 4:return er(),null;case 10:return Uo(a.type),null;case 22:case 23:return Ls(a),Oa(),s!==null&&Re(Bo),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Uo($n),null;case 25:return null;default:return null}}function th(s,a){switch(Ma(a),a.tag){case 3:Uo($n),er();break;case 26:case 27:case 5:ln(a);break;case 4:er();break;case 13:Ls(a);break;case 19:Re(ti);break;case 10:Uo(a.type);break;case 22:case 23:Ls(a),Oa(),s!==null&&Re(Bo);break;case 24:Uo($n)}}function bu(s,a){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var b=f.next;u=b;do{if((u.tag&s)===s){f=void 0;var E=u.create,P=u.inst;f=E(),P.destroy=f}u=u.next}while(u!==b)}}catch(F){Zt(a,a.return,F)}}function Wa(s,a,u){try{var f=a.updateQueue,b=f!==null?f.lastEffect:null;if(b!==null){var E=b.next;f=E;do{if((f.tag&s)===s){var P=f.inst,F=P.destroy;if(F!==void 0){P.destroy=void 0,b=a;var Q=u,le=F;try{le()}catch(pe){Zt(b,Q,pe)}}}f=f.next}while(f!==E)}}catch(pe){Zt(a,a.return,pe)}}function Ag(s){var a=s.updateQueue;if(a!==null){var u=s.stateNode;try{Ky(a,u)}catch(f){Zt(s,s.return,f)}}}function Cg(s,a,u){u.props=po(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(f){Zt(s,a,f)}}function Ya(s,a){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof u=="function"?s.refCleanup=u(f):u.current=f}}catch(b){Zt(s,a,b)}}function gs(s,a){var u=s.ref,f=s.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(b){Zt(s,a,b)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(b){Zt(s,a,b)}else u.current=null}function Xa(s){var a=s.type,u=s.memoizedProps,f=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(b){Zt(s,s.return,b)}}function St(s,a,u){try{var f=s.stateNode;Yg(f,s.type,u,a),f[In]=a}catch(b){Zt(s,s.return,b)}}function wu(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&_o(s.type)||s.tag===4}function nh(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||wu(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&_o(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function xn(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(s),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=ac));else if(f!==4&&(f===27&&_o(s.type)&&(u=s.stateNode,a=null),s=s.child,s!==null))for(xn(s,a,u),s=s.sibling;s!==null;)xn(s,a,u),s=s.sibling}function Ko(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(f!==4&&(f===27&&_o(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(Ko(s,a,u),s=s.sibling;s!==null;)Ko(s,a,u),s=s.sibling}function _u(s){var a=s.stateNode,u=s.memoizedProps;try{for(var f=s.type,b=a.attributes;b.length;)a.removeAttributeNode(b[0]);ni(a,f,u),a[Mt]=s,a[In]=u}catch(E){Zt(s,s.return,E)}}var Wo=!1,Yn=!1,_n=!1,Cr=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function Eu(s,a){if(s=s.containerInfo,_p=Bs,s=Oo(s),_f(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var b=f.anchorOffset,E=f.focusNode;f=f.focusOffset;try{u.nodeType,E.nodeType}catch{u=null;break e}var P=0,F=-1,Q=-1,le=0,pe=0,ye=s,ce=null;t:for(;;){for(var ue;ye!==u||b!==0&&ye.nodeType!==3||(F=P+b),ye!==E||f!==0&&ye.nodeType!==3||(Q=P+f),ye.nodeType===3&&(P+=ye.nodeValue.length),(ue=ye.firstChild)!==null;)ce=ye,ye=ue;for(;;){if(ye===s)break t;if(ce===u&&++le===b&&(F=P),ce===E&&++pe===f&&(Q=P),(ue=ye.nextSibling)!==null)break;ye=ce,ce=ye.parentNode}ye=ue}u=F===-1||Q===-1?null:{start:F,end:Q}}else u=null}u=u||{start:0,end:0}}else u=null;for(Xg={focusedElem:s,selectionRange:u},Bs=!1,Rt=a;Rt!==null;)if(a=Rt,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,Rt=s;else for(;Rt!==null;){switch(a=Rt,E=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&E!==null){s=void 0,u=a,b=E.memoizedProps,E=E.memoizedState,f=u.stateNode;try{var tt=po(u.type,b,u.elementType===u.type);s=f.getSnapshotBeforeUpdate(tt,E),f.__reactInternalSnapshotBeforeUpdate=s}catch(Qe){Zt(u,u.return,Qe)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,u=s.nodeType,u===9)Jg(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Jg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Rt=s;break}Rt=a.return}}function Yl(s,a,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Yo(s,u),f&4&&bu(5,u);break;case 1:if(Yo(s,u),f&4)if(s=u.stateNode,a===null)try{s.componentDidMount()}catch(P){Zt(u,u.return,P)}else{var b=po(u.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(b,a,s.__reactInternalSnapshotBeforeUpdate)}catch(P){Zt(u,u.return,P)}}f&64&&Ag(u),f&512&&Ya(u,u.return);break;case 3:if(Yo(s,u),f&64&&(s=u.updateQueue,s!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{Ky(s,a)}catch(P){Zt(u,u.return,P)}}break;case 27:a===null&&f&4&&_u(u);case 26:case 5:Yo(s,u),a===null&&f&4&&Xa(u),f&512&&Ya(u,u.return);break;case 12:Yo(s,u);break;case 13:Yo(s,u),f&4&&Ig(s,u),f&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=d0.bind(null,u),b0(s,u))));break;case 22:if(f=u.memoizedState!==null||Wo,!f){a=a!==null&&a.memoizedState!==null||Yn,b=Wo;var E=Yn;Wo=f,(Yn=a)&&!E?lr(s,u,(u.subtreeFlags&8772)!==0):Yo(s,u),Wo=b,Yn=E}break;case 30:break;default:Yo(s,u)}}function sr(s){var a=s.alternate;a!==null&&(s.alternate=null,sr(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&qr(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var mn=null,or=!1;function fi(s,a,u){for(u=u.child;u!==null;)Rg(s,a,u),u=u.sibling}function Rg(s,a,u){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(Lt,u)}catch{}switch(u.tag){case 26:Yn||gs(u,a),fi(s,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Yn||gs(u,a);var f=mn,b=or;_o(u.type)&&(mn=u.stateNode,or=!1),fi(s,a,u),_h(u.stateNode),mn=f,or=b;break;case 5:Yn||gs(u,a);case 6:if(f=mn,b=or,mn=null,fi(s,a,u),mn=f,or=b,mn!==null)if(or)try{(mn.nodeType===9?mn.body:mn.nodeName==="HTML"?mn.ownerDocument.body:mn).removeChild(u.stateNode)}catch(E){Zt(u,a,E)}else try{mn.removeChild(u.stateNode)}catch(E){Zt(u,a,E)}break;case 18:mn!==null&&(or?(s=mn,ju(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),j(s)):ju(mn,u.stateNode));break;case 4:f=mn,b=or,mn=u.stateNode.containerInfo,or=!0,fi(s,a,u),mn=f,or=b;break;case 0:case 11:case 14:case 15:Yn||Wa(2,u,a),Yn||Wa(4,u,a),fi(s,a,u);break;case 1:Yn||(gs(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"&&Cg(u,a,f)),fi(s,a,u);break;case 21:fi(s,a,u);break;case 22:Yn=(f=Yn)||u.memoizedState!==null,fi(s,a,u),Yn=f;break;default:fi(s,a,u)}}function Ig(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{j(s)}catch(u){Zt(a,a.return,u)}}function a0(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Cr),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Cr),a;default:throw Error(i(435,s.tag))}}function ar(s,a){var u=a0(s);a.forEach(function(f){var b=ph.bind(null,s,f);u.has(f)||(u.add(f),f.then(b,b))})}function Jt(s,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var b=u[f],E=s,P=a,F=P;e:for(;F!==null;){switch(F.tag){case 27:if(_o(F.type)){mn=F.stateNode,or=!1;break e}break;case 5:mn=F.stateNode,or=!1;break e;case 3:case 4:mn=F.stateNode.containerInfo,or=!0;break e}F=F.return}if(mn===null)throw Error(i(160));Rg(E,P,b),mn=null,or=!1,E=b.alternate,E!==null&&(E.return=null),b.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)kg(a,s),a=a.sibling}var Wi=null;function kg(s,a){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Jt(a,s),Rr(s),f&4&&(Wa(3,s,s.return),bu(3,s),Wa(5,s,s.return));break;case 1:Jt(a,s),Rr(s),f&512&&(Yn||u===null||gs(u,u.return)),f&64&&Wo&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var b=Wi;if(Jt(a,s),Rr(s),f&512&&(Yn||u===null||gs(u,u.return)),f&4){var E=u!==null?u.memoizedState:null;if(f=s.memoizedState,u===null)if(f===null)if(s.stateNode===null){e:{f=s.type,u=s.memoizedProps,b=b.ownerDocument||b;t:switch(f){case"title":E=b.getElementsByTagName("title")[0],(!E||E[ya]||E[Mt]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=b.createElement(f),b.head.insertBefore(E,b.querySelector("head > title"))),ni(E,f,u),E[Mt]=s,Vn(E),f=E;break e;case"link":var P=iv("link","href",b).get(f+(u.href||""));if(P){for(var F=0;F<P.length;F++)if(E=P[F],E.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&E.getAttribute("rel")===(u.rel==null?null:u.rel)&&E.getAttribute("title")===(u.title==null?null:u.title)&&E.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){P.splice(F,1);break t}}E=b.createElement(f),ni(E,f,u),b.head.appendChild(E);break;case"meta":if(P=iv("meta","content",b).get(f+(u.content||""))){for(F=0;F<P.length;F++)if(E=P[F],E.getAttribute("content")===(u.content==null?null:""+u.content)&&E.getAttribute("name")===(u.name==null?null:u.name)&&E.getAttribute("property")===(u.property==null?null:u.property)&&E.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&E.getAttribute("charset")===(u.charSet==null?null:u.charSet)){P.splice(F,1);break t}}E=b.createElement(f),ni(E,f,u),b.head.appendChild(E);break;default:throw Error(i(468,f))}E[Mt]=s,Vn(E),f=E}s.stateNode=f}else rv(b,s.type,s.stateNode);else s.stateNode=fc(b,f,s.memoizedProps);else E!==f?(E===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):E.count--,f===null?rv(b,s.type,s.stateNode):fc(b,f,s.memoizedProps)):f===null&&s.stateNode!==null&&St(s,s.memoizedProps,u.memoizedProps)}break;case 27:Jt(a,s),Rr(s),f&512&&(Yn||u===null||gs(u,u.return)),u!==null&&f&4&&St(s,s.memoizedProps,u.memoizedProps);break;case 5:if(Jt(a,s),Rr(s),f&512&&(Yn||u===null||gs(u,u.return)),s.flags&32){b=s.stateNode;try{$r(b,"")}catch(ue){Zt(s,s.return,ue)}}f&4&&s.stateNode!=null&&(b=s.memoizedProps,St(s,b,u!==null?u.memoizedProps:b)),f&1024&&(_n=!0);break;case 6:if(Jt(a,s),Rr(s),f&4){if(s.stateNode===null)throw Error(i(162));f=s.memoizedProps,u=s.stateNode;try{u.nodeValue=f}catch(ue){Zt(s,s.return,ue)}}break;case 3:if(Ch=null,b=Wi,Wi=Eh(a.containerInfo),Jt(a,s),Wi=b,Rr(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{j(a.containerInfo)}catch(ue){Zt(s,s.return,ue)}_n&&(_n=!1,Ng(s));break;case 4:f=Wi,Wi=Eh(s.stateNode.containerInfo),Jt(a,s),Rr(s),Wi=f;break;case 12:Jt(a,s),Rr(s);break;case 13:Jt(a,s),Rr(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(cp=Mi()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,ar(s,f)));break;case 22:b=s.memoizedState!==null;var Q=u!==null&&u.memoizedState!==null,le=Wo,pe=Yn;if(Wo=le||b,Yn=pe||Q,Jt(a,s),Yn=pe,Wo=le,Rr(s),f&8192)e:for(a=s.stateNode,a._visibility=b?a._visibility&-2:a._visibility|1,b&&(u===null||Q||Wo||Yn||go(s)),u=null,a=s;;){if(a.tag===5||a.tag===26){if(u===null){Q=u=a;try{if(E=Q.stateNode,b)P=E.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{F=Q.stateNode;var ye=Q.memoizedProps.style,ce=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;F.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(ue){Zt(Q,Q.return,ue)}}}else if(a.tag===6){if(u===null){Q=a;try{Q.stateNode.nodeValue=b?"":Q.memoizedProps}catch(ue){Zt(Q,Q.return,ue)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=s.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,ar(s,u))));break;case 19:Jt(a,s),Rr(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,ar(s,f)));break;case 30:break;case 21:break;default:Jt(a,s),Rr(s)}}function Rr(s){var a=s.flags;if(a&2){try{for(var u,f=s.return;f!==null;){if(wu(f)){u=f;break}f=f.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var b=u.stateNode,E=nh(s);Ko(s,E,b);break;case 5:var P=u.stateNode;u.flags&32&&($r(P,""),u.flags&=-33);var F=nh(s);Ko(s,F,P);break;case 3:case 4:var Q=u.stateNode.containerInfo,le=nh(s);xn(s,le,Q);break;default:throw Error(i(161))}}catch(pe){Zt(s,s.return,pe)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Ng(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;Ng(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Yo(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Yl(s,a.alternate,a),a=a.sibling}function go(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Wa(4,a,a.return),go(a);break;case 1:gs(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&Cg(a,a.return,u),go(a);break;case 27:_h(a.stateNode);case 26:case 5:gs(a,a.return),go(a);break;case 22:a.memoizedState===null&&go(a);break;case 30:go(a);break;default:go(a)}s=s.sibling}}function lr(s,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,b=s,E=a,P=E.flags;switch(E.tag){case 0:case 11:case 15:lr(b,E,u),bu(4,E);break;case 1:if(lr(b,E,u),f=E,b=f.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(le){Zt(f,f.return,le)}if(f=E,b=f.updateQueue,b!==null){var F=f.stateNode;try{var Q=b.shared.hiddenCallbacks;if(Q!==null)for(b.shared.hiddenCallbacks=null,b=0;b<Q.length;b++)Jm(Q[b],F)}catch(le){Zt(f,f.return,le)}}u&&P&64&&Ag(E),Ya(E,E.return);break;case 27:_u(E);case 26:case 5:lr(b,E,u),u&&f===null&&P&4&&Xa(E),Ya(E,E.return);break;case 12:lr(b,E,u);break;case 13:lr(b,E,u),u&&P&4&&Ig(b,E);break;case 22:E.memoizedState===null&&lr(b,E,u),Ya(E,E.return);break;case 30:break;default:lr(b,E,u)}a=a.sibling}}function ih(s,a){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&Qc(u))}function rh(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Qc(s))}function vo(s,a,u,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Mg(s,a,u,f),a=a.sibling}function Mg(s,a,u,f){var b=a.flags;switch(a.tag){case 0:case 11:case 15:vo(s,a,u,f),b&2048&&bu(9,a);break;case 1:vo(s,a,u,f);break;case 3:vo(s,a,u,f),b&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Qc(s)));break;case 12:if(b&2048){vo(s,a,u,f),s=a.stateNode;try{var E=a.memoizedProps,P=E.id,F=E.onPostCommit;typeof F=="function"&&F(P,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Q){Zt(a,a.return,Q)}}else vo(s,a,u,f);break;case 13:vo(s,a,u,f);break;case 23:break;case 22:E=a.stateNode,P=a.alternate,a.memoizedState!==null?E._visibility&2?vo(s,a,u,f):Qa(s,a):E._visibility&2?vo(s,a,u,f):(E._visibility|=2,Xl(s,a,u,f,(a.subtreeFlags&10256)!==0)),b&2048&&ih(P,a);break;case 24:vo(s,a,u,f),b&2048&&rh(a.alternate,a);break;default:vo(s,a,u,f)}}function Xl(s,a,u,f,b){for(b=b&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var E=s,P=a,F=u,Q=f,le=P.flags;switch(P.tag){case 0:case 11:case 15:Xl(E,P,F,Q,b),bu(8,P);break;case 23:break;case 22:var pe=P.stateNode;P.memoizedState!==null?pe._visibility&2?Xl(E,P,F,Q,b):Qa(E,P):(pe._visibility|=2,Xl(E,P,F,Q,b)),b&&le&2048&&ih(P.alternate,P);break;case 24:Xl(E,P,F,Q,b),b&&le&2048&&rh(P.alternate,P);break;default:Xl(E,P,F,Q,b)}a=a.sibling}}function Qa(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=s,f=a,b=f.flags;switch(f.tag){case 22:Qa(u,f),b&2048&&ih(f.alternate,f);break;case 24:Qa(u,f),b&2048&&rh(f.alternate,f);break;default:Qa(u,f)}a=a.sibling}}var Ql=8192;function Jl(s){if(s.subtreeFlags&Ql)for(s=s.child;s!==null;)Pg(s),s=s.sibling}function Pg(s){switch(s.tag){case 26:Jl(s),s.flags&Ql&&s.memoizedState!==null&&Dw(Wi,s.memoizedState,s.memoizedProps);break;case 5:Jl(s);break;case 3:case 4:var a=Wi;Wi=Eh(s.stateNode.containerInfo),Jl(s),Wi=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Ql,Ql=16777216,Jl(s),Ql=a):Jl(s));break;default:Jl(s)}}function Dg(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function sh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Rt=f,l0(f,s)}Dg(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)sp(s),s=s.sibling}function sp(s){switch(s.tag){case 0:case 11:case 15:sh(s),s.flags&2048&&Wa(9,s,s.return);break;case 3:sh(s);break;case 12:sh(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,ge(s)):sh(s);break;default:sh(s)}}function ge(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Rt=f,l0(f,s)}Dg(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Wa(8,a,a.return),ge(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,ge(a));break;default:ge(a)}s=s.sibling}}function l0(s,a){for(;Rt!==null;){var u=Rt;switch(u.tag){case 0:case 11:case 15:Wa(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Qc(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Rt=f;else e:for(u=s;Rt!==null;){f=Rt;var b=f.sibling,E=f.return;if(sr(f),f===u){Rt=null;break e}if(b!==null){b.return=E,Rt=b;break e}Rt=E}}}var An={getCacheForType:function(s){var a=xi($n),u=a.data.get(s);return u===void 0&&(u=s(),a.data.set(s,u)),u}},oh=typeof WeakMap=="function"?WeakMap:Map,Pt=0,sn=null,Tt=null,It=0,Kt=0,Ir=null,Xo=!1,Zl=!1,op=!1,yo=0,Pn=0,Qo=0,Ja=0,ap=0,ns=0,ec=0,Tu=null,cr=null,lp=!1,cp=0,ah=1/0,lh=null,Jo=null,Ai=0,Zo=null,tc=null,nc=0,up=0,dp=null,Og=null,Su=0,hp=null;function kr(){if((Pt&2)!==0&&It!==0)return It&-It;if(re.T!==null){var s=Ml;return s!==0?s:vh()}return yi()}function Lg(){ns===0&&(ns=(It&536870912)===0||Ht?Xe():536870912);var s=Vi.current;return s!==null&&(s.flags|=32),ns}function Nr(s,a,u){(s===sn&&(Kt===2||Kt===9)||s.cancelPendingCommit!==null)&&(En(s,0),ea(s,It,ns,!1)),We(s,u),((Pt&2)===0||s!==sn)&&(s===sn&&((Pt&2)===0&&(Ja|=u),Pn===4&&ea(s,It,ns,!1)),bo(s))}function jg(s,a,u){if((Pt&6)!==0)throw Error(i(327));var f=!u&&(a&124)===0&&(a&s.expiredLanes)===0||Ve(s,a),b=f?Aw(s,a):pp(s,a,!0),E=f;do{if(b===0){Zl&&!f&&ea(s,a,0,!1);break}else{if(u=s.current.alternate,E&&!c0(u)){b=pp(s,a,!1),E=!1;continue}if(b===2){if(E=a,s.errorRecoveryDisabledLanes&E)var P=0;else P=s.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){a=P;e:{var F=s;b=Tu;var Q=F.current.memoizedState.isDehydrated;if(Q&&(En(F,P).flags|=256),P=pp(F,P,!1),P!==2){if(op&&!Q){F.errorRecoveryDisabledLanes|=E,Ja|=E,b=4;break e}E=cr,cr=b,E!==null&&(cr===null?cr=E:cr.push.apply(cr,E))}b=P}if(E=!1,b!==2)continue}}if(b===1){En(s,0),ea(s,a,0,!0);break}e:{switch(f=s,E=b,E){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ea(f,a,ns,!Xo);break e;case 2:cr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(b=cp+300-Mi(),10<b)){if(ea(f,a,ns,!Xo),te(f,0,!0)!==0)break e;f.timeoutHandle=dc(Vg.bind(null,f,u,cr,lh,lp,a,ns,Ja,ec,Xo,E,2,-0,0),b);break e}Vg(f,u,cr,lh,lp,a,ns,Ja,ec,Xo,E,0,-0,0)}}break}while(!0);bo(s)}function Vg(s,a,u,f,b,E,P,F,Q,le,pe,ye,ce,ue){if(s.timeoutHandle=-1,ye=a.subtreeFlags,(ye&8192||(ye&16785408)===16785408)&&(zu={stylesheets:null,count:0,unsuspend:ot},Pg(a),ye=E0(),ye!==null)){s.cancelPendingCommit=ye(qt.bind(null,s,a,E,u,f,b,P,F,Q,pe,1,ce,ue)),ea(s,E,P,!le);return}qt(s,a,E,u,f,b,P,F,Q)}function c0(s){for(var a=s;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var b=u[f],E=b.getSnapshot;b=b.value;try{if(!Nn(E(),b))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ea(s,a,u,f){a&=~ap,a&=~Ja,s.suspendedLanes|=a,s.pingedLanes&=~a,f&&(s.warmLanes|=a),f=s.expirationTimes;for(var b=a;0<b;){var E=31-Se(b),P=1<<E;f[E]=-1,b&=~P}u!==0&&ht(s,u,a)}function ch(){return(Pt&6)===0?(gh(0),!1):!0}function Xn(){if(Tt!==null){if(Kt===0)var s=Tt.return;else s=Tt,Vo=lo=null,Ff(s),Gl=null,hu=0,s=Tt;for(;s!==null;)th(s.alternate,s),s=s.return;Tt=null}}function En(s,a){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,Iw(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),Xn(),sn=s,Tt=u=ro(s.current,null),It=a,Kt=0,Ir=null,Xo=!1,Zl=Ve(s,a),op=!1,ec=ns=ap=Ja=Qo=Pn=0,cr=Tu=null,lp=!1,(a&8)!==0&&(a|=a&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=a;0<f;){var b=31-Se(f),E=1<<b;a|=s[b],f&=~E}return yo=a,Rl(),u}function pi(s,a){mt=null,re.H=Qf,a===Zc||a===jd?(a=Vd(),Kt=3):a===qy?(a=Vd(),Kt=4):Kt=a===bg?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ir=a,Tt===null&&(Pn=1,Ha(s,Qr(a,s.current)))}function uh(){var s=re.H;return re.H=Qf,s===null?Qf:s}function dh(){var s=re.A;return re.A=An,s}function fp(){Pn=4,Xo||(It&4194048)!==It&&Vi.current!==null||(Zl=!0),(Qo&134217727)===0&&(Ja&134217727)===0||sn===null||ea(sn,It,ns,!1)}function pp(s,a,u){var f=Pt;Pt|=2;var b=uh(),E=dh();(sn!==s||It!==a)&&(lh=null,En(s,a)),a=!1;var P=Pn;e:do try{if(Kt!==0&&Tt!==null){var F=Tt,Q=Ir;switch(Kt){case 8:Xn(),P=6;break e;case 3:case 2:case 9:case 6:Vi.current===null&&(a=!0);var le=Kt;if(Kt=0,Ir=null,Vs(s,F,Q,le),u&&Zl){P=0;break e}break;default:le=Kt,Kt=0,Ir=null,Vs(s,F,Q,le)}}xu(),P=Pn;break}catch(pe){pi(s,pe)}while(!0);return a&&s.shellSuspendCounter++,Vo=lo=null,Pt=f,re.H=b,re.A=E,Tt===null&&(sn=null,It=0,Rl()),P}function xu(){for(;Tt!==null;)na(Tt)}function Aw(s,a){var u=Pt;Pt|=2;var f=uh(),b=dh();sn!==s||It!==a?(lh=null,ah=Mi()+500,En(s,a)):Zl=Ve(s,a);e:do try{if(Kt!==0&&Tt!==null){a=Tt;var E=Ir;t:switch(Kt){case 1:Kt=0,Ir=null,Vs(s,a,E,1);break;case 2:case 9:if(Gy(E)){Kt=0,Ir=null,ic(a);break}a=function(){Kt!==2&&Kt!==9||sn!==s||(Kt=7),bo(s)},E.then(a,a);break e;case 3:Kt=7;break e;case 4:Kt=5;break e;case 7:Gy(E)?(Kt=0,Ir=null,ic(a)):(Kt=0,Ir=null,Vs(s,a,E,7));break;case 5:var P=null;switch(Tt.tag){case 26:P=Tt.memoizedState;case 5:case 27:var F=Tt;if(!P||Eo(P)){Kt=0,Ir=null;var Q=F.sibling;if(Q!==null)Tt=Q;else{var le=F.return;le!==null?(Tt=le,ia(le)):Tt=null}break t}}Kt=0,Ir=null,Vs(s,a,E,5);break;case 6:Kt=0,Ir=null,Vs(s,a,E,6);break;case 8:Xn(),Pn=6;break e;default:throw Error(i(462))}}ta();break}catch(pe){pi(s,pe)}while(!0);return Vo=lo=null,re.H=f,re.A=b,Pt=u,Tt!==null?0:(sn=null,It=0,Rl(),Pn)}function ta(){for(;Tt!==null&&!Ws();)na(Tt)}function na(s){var a=gu(s.alternate,s,yo);s.memoizedProps=s.pendingProps,a===null?ia(s):Tt=a}function ic(s){var a=s,u=a.alternate;switch(a.tag){case 15:case 0:a=r0(u,a,a.pendingProps,a.type,void 0,It);break;case 11:a=r0(u,a,a.pendingProps,a.type.render,a.ref,It);break;case 5:Ff(a);default:th(u,a),a=Tt=If(a,yo),a=gu(u,a,yo)}s.memoizedProps=s.pendingProps,a===null?ia(s):Tt=a}function Vs(s,a,u,f){Vo=lo=null,Ff(a),Gl=null,hu=0;var b=a.return;try{if(Pe(s,b,a,u,It)){Pn=1,Ha(s,Qr(u,s.current)),Tt=null;return}}catch(E){if(b!==null)throw Tt=b,E;Pn=1,Ha(s,Qr(u,s.current)),Tt=null;return}a.flags&32768?(Ht||f===1?s=!0:Zl||(It&536870912)!==0?s=!1:(Xo=s=!0,(f===2||f===9||f===3||f===6)&&(f=Vi.current,f!==null&&f.tag===13&&(f.flags|=16384))),Au(a,s)):ia(a)}function ia(s){var a=s;do{if((a.flags&32768)!==0){Au(a,Xo);return}s=a.return;var u=o0(a.alternate,a,yo);if(u!==null){Tt=u;return}if(a=a.sibling,a!==null){Tt=a;return}Tt=a=s}while(a!==null);Pn===0&&(Pn=5)}function Au(s,a){do{var u=yu(s.alternate,s);if(u!==null){u.flags&=32767,Tt=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(s=s.sibling,s!==null)){Tt=s;return}Tt=s=u}while(s!==null);Pn=6,Tt=null}function qt(s,a,u,f,b,E,P,F,Q){s.cancelPendingCommit=null;do fh();while(Ai!==0);if((Pt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(E=a.lanes|a.childLanes,E|=Ad,vt(s,u,E,P,F,Q),s===sn&&(Tt=sn=null,It=0),tc=a,Zo=s,nc=u,up=E,dp=b,Og=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,ra(tr,function(){return zg(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=re.T,re.T=null,b=fe.p,fe.p=2,P=Pt,Pt|=4;try{Eu(s,a,u)}finally{Pt=P,fe.p=b,re.T=f}}Ai=1,hh(),Ug(),Bg()}}function hh(){if(Ai===1){Ai=0;var s=Zo,a=tc,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=re.T,re.T=null;var f=fe.p;fe.p=2;var b=Pt;Pt|=4;try{kg(a,s);var E=Xg,P=Oo(s.containerInfo),F=E.focusedElem,Q=E.selectionRange;if(P!==F&&F&&F.ownerDocument&&Ra(F.ownerDocument.documentElement,F)){if(Q!==null&&_f(F)){var le=Q.start,pe=Q.end;if(pe===void 0&&(pe=le),"selectionStart"in F)F.selectionStart=le,F.selectionEnd=Math.min(pe,F.value.length);else{var ye=F.ownerDocument||document,ce=ye&&ye.defaultView||window;if(ce.getSelection){var ue=ce.getSelection(),tt=F.textContent.length,Qe=Math.min(Q.start,tt),gn=Q.end===void 0?Qe:Math.min(Q.end,tt);!ue.extend&&Qe>gn&&(P=gn,gn=Qe,Qe=P);var ne=Hc(F,Qe),ee=Hc(F,gn);if(ne&&ee&&(ue.rangeCount!==1||ue.anchorNode!==ne.node||ue.anchorOffset!==ne.offset||ue.focusNode!==ee.node||ue.focusOffset!==ee.offset)){var oe=ye.createRange();oe.setStart(ne.node,ne.offset),ue.removeAllRanges(),Qe>gn?(ue.addRange(oe),ue.extend(ee.node,ee.offset)):(oe.setEnd(ee.node,ee.offset),ue.addRange(oe))}}}}for(ye=[],ue=F;ue=ue.parentNode;)ue.nodeType===1&&ye.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<ye.length;F++){var me=ye[F];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}Bs=!!_p,Xg=_p=null}finally{Pt=b,fe.p=f,re.T=u}}s.current=a,Ai=2}}function Ug(){if(Ai===2){Ai=0;var s=Zo,a=tc,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=re.T,re.T=null;var f=fe.p;fe.p=2;var b=Pt;Pt|=4;try{Yl(s,a.alternate,a)}finally{Pt=b,fe.p=f,re.T=u}}Ai=3}}function Bg(){if(Ai===4||Ai===3){Ai=0,Ur();var s=Zo,a=tc,u=nc,f=Og;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ai=5:(Ai=0,tc=Zo=null,Fg(s,s.pendingLanes));var b=s.pendingLanes;if(b===0&&(Jo=null),zt(u),a=a.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(Lt,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=re.T,b=fe.p,fe.p=2,re.T=null;try{for(var E=s.onRecoverableError,P=0;P<f.length;P++){var F=f[P];E(F.value,{componentStack:F.stack})}}finally{re.T=a,fe.p=b}}(nc&3)!==0&&fh(),bo(s),b=s.pendingLanes,(u&4194090)!==0&&(b&42)!==0?s===hp?Su++:(Su=0,hp=s):Su=0,gh(0)}}function Fg(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Qc(a)))}function fh(s){return hh(),Ug(),Bg(),zg()}function zg(){if(Ai!==5)return!1;var s=Zo,a=up;up=0;var u=zt(nc),f=re.T,b=fe.p;try{fe.p=32>u?32:u,re.T=null,u=dp,dp=null;var E=Zo,P=nc;if(Ai=0,tc=Zo=null,nc=0,(Pt&6)!==0)throw Error(i(331));var F=Pt;if(Pt|=4,sp(E.current),Mg(E,E.current,P,u),Pt=F,gh(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(Lt,E)}catch{}return!0}finally{fe.p=b,re.T=f,Fg(s,a)}}function Hg(s,a,u){a=Qr(u,a),a=Xd(s.stateNode,a,2),s=Fo(s,a,2),s!==null&&(We(s,2),bo(s))}function Zt(s,a,u){if(s.tag===3)Hg(s,s,u);else for(;a!==null;){if(a.tag===3){Hg(a,s,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Jo===null||!Jo.has(f))){s=Qr(u,s),u=yg(2),f=Fo(a,u,2),f!==null&&(Vt(u,f,a,s),We(f,2),bo(f));break}}a=a.return}}function mp(s,a,u){var f=s.pingCache;if(f===null){f=s.pingCache=new oh;var b=new Set;f.set(a,b)}else b=f.get(a),b===void 0&&(b=new Set,f.set(a,b));b.has(u)||(op=!0,b.add(u),s=u0.bind(null,s,a,u),a.then(s,s))}function u0(s,a,u){var f=s.pingCache;f!==null&&f.delete(a),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,sn===s&&(It&u)===u&&(Pn===4||Pn===3&&(It&62914560)===It&&300>Mi()-cp?(Pt&2)===0&&En(s,0):ap|=u,ec===It&&(ec=0)),bo(s)}function qg(s,a){a===0&&(a=rt()),s=Il(s,a),s!==null&&(We(s,a),bo(s))}function d0(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),qg(s,u)}function ph(s,a){var u=0;switch(s.tag){case 13:var f=s.stateNode,b=s.memoizedState;b!==null&&(u=b.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(a),qg(s,u)}function ra(s,a){return tn(s,a)}var mh=null,sa=null,Gt=!1,gp=!1,rc=!1,sc=0;function bo(s){s!==sa&&s.next===null&&(sa===null?mh=sa=s:sa=sa.next=s),gp=!0,Gt||(Gt=!0,Wg())}function gh(s,a){if(!rc&&gp){rc=!0;do for(var u=!1,f=mh;f!==null;){if(s!==0){var b=f.pendingLanes;if(b===0)var E=0;else{var P=f.suspendedLanes,F=f.pingedLanes;E=(1<<31-Se(42|s)+1)-1,E&=b&~(P&~F),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(u=!0,Kg(f,E))}else E=It,E=te(f,f===sn?E:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(E&3)===0||Ve(f,E)||(u=!0,Kg(f,E));f=f.next}while(u);rc=!1}}function vp(){Gg()}function Gg(){gp=Gt=!1;var s=0;sc!==0&&(Ou()&&(s=sc),sc=0);for(var a=Mi(),u=null,f=mh;f!==null;){var b=f.next,E=en(f,a);E===0?(f.next=null,u===null?mh=b:u.next=b,b===null&&(sa=u)):(u=f,(s!==0||(E&3)!==0)&&(gp=!0)),f=b}gh(s)}function en(s,a){for(var u=s.suspendedLanes,f=s.pingedLanes,b=s.expirationTimes,E=s.pendingLanes&-62914561;0<E;){var P=31-Se(E),F=1<<P,Q=b[P];Q===-1?((F&u)===0||(F&f)!==0)&&(b[P]=De(F,a)):Q<=a&&(s.expiredLanes|=F),E&=~F}if(a=sn,u=It,u=te(s,s===a?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,u===0||s===a&&(Kt===2||Kt===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&cn(f),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||Ve(s,u)){if(a=u&-u,a===s.callbackPriority)return a;switch(f!==null&&cn(f),zt(u)){case 2:case 8:u=ss;break;case 32:u=tr;break;case 268435456:u=Fr;break;default:u=tr}return f=$g.bind(null,s),u=tn(u,f),s.callbackPriority=a,s.callbackNode=u,a}return f!==null&&f!==null&&cn(f),s.callbackPriority=2,s.callbackNode=null,2}function $g(s,a){if(Ai!==0&&Ai!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(fh()&&s.callbackNode!==u)return null;var f=It;return f=te(s,s===sn?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(jg(s,f,a),en(s,Mi()),s.callbackNode!=null&&s.callbackNode===u?$g.bind(null,s):null)}function Kg(s,a){if(fh())return null;jg(s,a,!0)}function Wg(){kw(function(){(Pt&6)!==0?tn(Br,vp):Gg()})}function vh(){return sc===0&&(sc=Xe()),sc}function Cu(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Sa(""+s)}function yp(s,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,s.id&&u.setAttribute("form",s.id),a.parentNode.insertBefore(u,a),s=new FormData(s),u.parentNode.removeChild(u),s}function yh(s,a,u,f,b){if(a==="submit"&&u&&u.stateNode===b){var E=Cu((b[In]||null).action),P=f.submitter;P&&(a=(a=P[In]||null)?Cu(a.formAction):P.getAttribute("formAction"),a!==null&&(E=a,P=null));var F=new Js("action","action",null,f,b);s.push({event:F,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(sc!==0){var Q=P?yp(b,P):new FormData(b);Yf(u,{pending:!0,data:Q,method:b.method,action:E},null,Q)}}else typeof E=="function"&&(F.preventDefault(),Q=P?yp(b,P):new FormData(b),Yf(u,{pending:!0,data:Q,method:b.method,action:E},E,Q))},currentTarget:b}]})}}for(var Ru=0;Ru<xf.length;Ru++){var bp=xf[Ru],h0=bp.toLowerCase(),wp=bp[0].toUpperCase()+bp.slice(1);Is(h0,"on"+wp)}Is(Um,"onAnimationEnd"),Is(Uy,"onAnimationIteration"),Is(Tf,"onAnimationStart"),Is("dblclick","onDoubleClick"),Is("focusin","onFocus"),Is("focusout","onBlur"),Is(Sf,"onTransitionRun"),Is(By,"onTransitionStart"),Is(Bm,"onTransitionCancel"),Is(Fm,"onTransitionEnd"),Xs("onMouseEnter",["mouseout","mouseover"]),Xs("onMouseLeave",["mouseout","mouseover"]),Xs("onPointerEnter",["pointerout","pointerover"]),Xs("onPointerLeave",["pointerout","pointerover"]),Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Iu));function f0(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],b=f.event;f=f.listeners;e:{var E=void 0;if(a)for(var P=f.length-1;0<=P;P--){var F=f[P],Q=F.instance,le=F.currentTarget;if(F=F.listener,Q!==E&&b.isPropagationStopped())break e;E=F,b.currentTarget=le;try{E(b)}catch(pe){pu(pe)}b.currentTarget=null,E=Q}else for(P=0;P<f.length;P++){if(F=f[P],Q=F.instance,le=F.currentTarget,F=F.listener,Q!==E&&b.isPropagationStopped())break e;E=F,b.currentTarget=le;try{E(b)}catch(pe){pu(pe)}b.currentTarget=null,E=Q}}}}function ut(s,a){var u=a[bi];u===void 0&&(u=a[bi]=new Set);var f=s+"__bubble";u.has(f)||(p0(a,s,2,!1),u.add(f))}function oc(s,a,u){var f=0;a&&(f|=4),p0(u,s,f,a)}var Za="_reactListening"+Math.random().toString(36).slice(2);function ku(s){if(!s[Za]){s[Za]=!0,Nc.forEach(function(u){u!=="selectionchange"&&(Cw.has(u)||oc(u,!1,s),oc(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Za]||(a[Za]=!0,oc("selectionchange",!1,a))}}function p0(s,a,u,f){switch(Mh(a)){case 2:var b=kh;break;case 8:b=Rp;break;default:b=av}u=b.bind(null,a,u,s),b=void 0,!Oi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(b=!0),f?b!==void 0?s.addEventListener(a,u,{capture:!0,passive:b}):s.addEventListener(a,u,!0):b!==void 0?s.addEventListener(a,u,{passive:b}):s.addEventListener(a,u,!1)}function Nu(s,a,u,f,b){var E=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var P=f.tag;if(P===3||P===4){var F=f.stateNode.containerInfo;if(F===b)break;if(P===4)for(P=f.return;P!==null;){var Q=P.tag;if((Q===3||Q===4)&&P.stateNode.containerInfo===b)return;P=P.return}for(;F!==null;){if(P=No(F),P===null)return;if(Q=P.tag,Q===5||Q===6||Q===26||Q===27){f=E=P;continue e}F=F.parentNode}}f=f.return}hf(function(){var le=E,pe=Kr(u),ye=[];e:{var ce=zm.get(s);if(ce!==void 0){var ue=Js,tt=s;switch(s){case"keypress":if(xs(u)===0)break e;case"keydown":case"keyup":ue=xl;break;case"focusin":tt="focus",ue=Vc;break;case"focusout":tt="blur",ue=Vc;break;case"beforeblur":case"afterblur":ue=Vc;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=us;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Zs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=pf;break;case Um:case Uy:case Tf:ue=Uc;break;case Fm:ue=gf;break;case"scroll":case"scrollend":ue=bd;break;case"wheel":ue=Fc;break;case"copy":case"cut":case"paste":ue=Do;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Cs;break;case"toggle":case"beforetoggle":ue=vf}var Qe=(a&4)!==0,gn=!Qe&&(s==="scroll"||s==="scrollend"),ne=Qe?ce!==null?ce+"Capture":null:ce;Qe=[];for(var ee=le,oe;ee!==null;){var me=ee;if(oe=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||oe===null||ne===null||(me=El(ee,ne),me!=null&&Qe.push(Mu(ee,me,oe))),gn)break;ee=ee.return}0<Qe.length&&(ce=new ue(ce,tt,null,u,pe),ye.push({event:ce,listeners:Qe}))}}if((a&7)===0){e:{if(ce=s==="mouseover"||s==="pointerover",ue=s==="mouseout"||s==="pointerout",ce&&u!==wr&&(tt=u.relatedTarget||u.fromElement)&&(No(tt)||tt[Zn]))break e;if((ue||ce)&&(ce=pe.window===pe?pe:(ce=pe.ownerDocument)?ce.defaultView||ce.parentWindow:window,ue?(tt=u.relatedTarget||u.toElement,ue=le,tt=tt?No(tt):null,tt!==null&&(gn=l(tt),Qe=tt.tag,tt!==gn||Qe!==5&&Qe!==27&&Qe!==6)&&(tt=null)):(ue=null,tt=le),ue!==tt)){if(Qe=us,me="onMouseLeave",ne="onMouseEnter",ee="mouse",(s==="pointerout"||s==="pointerover")&&(Qe=Cs,me="onPointerLeave",ne="onPointerEnter",ee="pointer"),gn=ue==null?ce:Ys(ue),oe=tt==null?ce:Ys(tt),ce=new Qe(me,ee+"leave",ue,u,pe),ce.target=gn,ce.relatedTarget=oe,me=null,No(pe)===le&&(Qe=new Qe(ne,ee+"enter",tt,u,pe),Qe.target=oe,Qe.relatedTarget=gn,me=Qe),gn=me,ue&&tt)t:{for(Qe=ue,ne=tt,ee=0,oe=Qe;oe;oe=wo(oe))ee++;for(oe=0,me=ne;me;me=wo(me))oe++;for(;0<ee-oe;)Qe=wo(Qe),ee--;for(;0<oe-ee;)ne=wo(ne),oe--;for(;ee--;){if(Qe===ne||ne!==null&&Qe===ne.alternate)break t;Qe=wo(Qe),ne=wo(ne)}Qe=null}else Qe=null;ue!==null&&Pu(ye,ce,ue,Qe,!1),tt!==null&&gn!==null&&Pu(ye,gn,tt,Qe,!0)}}e:{if(ce=le?Ys(le):window,ue=ce.nodeName&&ce.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ce.type==="file")var Oe=io;else if(kn(ce))if(Gi)Oe=Lm;else{Oe=Dm;var Ct=wf}else ue=ce.nodeName,!ue||ue.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?le&&Ta(le.elementType)&&(Oe=io):Oe=Om;if(Oe&&(Oe=Oe(s,le))){Yr(ye,Oe,u,pe);break e}Ct&&Ct(s,ce,le),s==="focusout"&&le&&ce.type==="number"&&le.memoizedProps.value!=null&&Mo(ce,"number",ce.value)}switch(Ct=le?Ys(le):window,s){case"focusin":(kn(Ct)||Ct.contentEditable==="true")&&(Cl=Ct,Vm=le,Ia=null);break;case"focusout":Ia=Vm=Cl=null;break;case"mousedown":xd=!0;break;case"contextmenu":case"mouseup":case"dragend":xd=!1,Ef(ye,u,pe);break;case"selectionchange":if(Vy)break;case"keydown":case"keyup":Ef(ye,u,pe)}var ze;if(no)e:{switch(s){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Et?he(s,u)&&(Je="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Je="onCompositionStart");Je&&(M&&u.locale!=="ko"&&(Et||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Et&&(ze=Tl()):(cs=pe,Ts="value"in cs?cs.value:cs.textContent,Et=!0)),Ct=bh(le,Je),0<Ct.length&&(Je=new Ca(Je,s,null,u,pe),ye.push({event:Je,listeners:Ct}),ze?Je.data=ze:(ze=Ie(u),ze!==null&&(Je.data=ze)))),(ze=A?di(s,u):pt(s,u))&&(Je=bh(le,"onBeforeInput"),0<Je.length&&(Ct=new Ca("onBeforeInput","beforeinput",null,u,pe),ye.push({event:Ct,listeners:Je}),Ct.data=ze)),yh(ye,s,le,u,pe)}f0(ye,a)})}function Mu(s,a,u){return{instance:s,listener:a,currentTarget:u}}function bh(s,a){for(var u=a+"Capture",f=[];s!==null;){var b=s,E=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||E===null||(b=El(s,u),b!=null&&f.unshift(Mu(s,b,E)),b=El(s,a),b!=null&&f.push(Mu(s,b,E))),s.tag===3)return f;s=s.return}return[]}function wo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Pu(s,a,u,f,b){for(var E=a._reactName,P=[];u!==null&&u!==f;){var F=u,Q=F.alternate,le=F.stateNode;if(F=F.tag,Q!==null&&Q===f)break;F!==5&&F!==26&&F!==27||le===null||(Q=le,b?(le=El(u,E),le!=null&&P.unshift(Mu(u,le,Q))):b||(le=El(u,E),le!=null&&P.push(Mu(u,le,Q)))),u=u.return}P.length!==0&&s.push({event:a,listeners:P})}var Rw=/\r\n?/g,m0=/\u0000|\uFFFD/g;function g0(s){return(typeof s=="string"?s:""+s).replace(Rw,`
`).replace(m0,"")}function v0(s,a){return a=g0(a),g0(s)===a}function ac(){}function Ut(s,a,u,f,b,E){switch(u){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||$r(s,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&$r(s,""+f);break;case"className":ws(s,"class",f);break;case"tabIndex":ws(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":ws(s,u,f);break;case"style":Dc(s,f,E);break;case"data":if(a!=="object"){ws(s,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||u!=="href")){s.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=Sa(""+f),s.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(u==="formAction"?(a!=="input"&&Ut(s,a,"name",b.name,b,null),Ut(s,a,"formEncType",b.formEncType,b,null),Ut(s,a,"formMethod",b.formMethod,b,null),Ut(s,a,"formTarget",b.formTarget,b,null)):(Ut(s,a,"encType",b.encType,b,null),Ut(s,a,"method",b.method,b,null),Ut(s,a,"target",b.target,b,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=Sa(""+f),s.setAttribute(u,f);break;case"onClick":f!=null&&(s.onclick=ac);break;case"onScroll":f!=null&&ut("scroll",s);break;case"onScrollEnd":f!=null&&ut("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(b.children!=null)throw Error(i(60));s.innerHTML=u}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}u=Sa(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""+f):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":f===!0?s.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,f):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(u,f):s.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(u):s.setAttribute(u,f);break;case"popover":ut("beforetoggle",s),ut("toggle",s),wa(s,"popover",f);break;case"xlinkActuate":_t(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":_t(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":_t(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":_t(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":_t(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":_t(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":_t(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":_t(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":_t(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":wa(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=uf.get(u)||u,wa(s,u,f))}}function lc(s,a,u,f,b,E){switch(u){case"style":Dc(s,f,E);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(b.children!=null)throw Error(i(60));s.innerHTML=u}}break;case"children":typeof f=="string"?$r(s,f):(typeof f=="number"||typeof f=="bigint")&&$r(s,""+f);break;case"onScroll":f!=null&&ut("scroll",s);break;case"onScrollEnd":f!=null&&ut("scrollend",s);break;case"onClick":f!=null&&(s.onclick=ac);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yn.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(b=u.endsWith("Capture"),a=u.slice(2,b?u.length-7:void 0),E=s[In]||null,E=E!=null?E[u]:null,typeof E=="function"&&s.removeEventListener(a,E,b),typeof f=="function")){typeof E!="function"&&E!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(a,f,b);break e}u in s?s[u]=f:f===!0?s.setAttribute(u,""):wa(s,u,f)}}}function ni(s,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",s),ut("load",s);var f=!1,b=!1,E;for(E in u)if(u.hasOwnProperty(E)){var P=u[E];if(P!=null)switch(E){case"src":f=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ut(s,a,E,P,u,null)}}b&&Ut(s,a,"srcSet",u.srcSet,u,null),f&&Ut(s,a,"src",u.src,u,null);return;case"input":ut("invalid",s);var F=E=P=b=null,Q=null,le=null;for(f in u)if(u.hasOwnProperty(f)){var pe=u[f];if(pe!=null)switch(f){case"name":b=pe;break;case"type":P=pe;break;case"checked":Q=pe;break;case"defaultChecked":le=pe;break;case"value":E=pe;break;case"defaultValue":F=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(i(137,a));break;default:Ut(s,a,f,pe,u,null)}}Ea(s,E,F,Q,le,P,b,!1),_a(s);return;case"select":ut("invalid",s),f=P=E=null;for(b in u)if(u.hasOwnProperty(b)&&(F=u[b],F!=null))switch(b){case"value":E=F;break;case"defaultValue":P=F;break;case"multiple":f=F;default:Ut(s,a,b,F,u,null)}a=E,u=P,s.multiple=!!f,a!=null?ir(s,!!f,a,!1):u!=null&&ir(s,!!f,u,!0);return;case"textarea":ut("invalid",s),E=b=f=null;for(P in u)if(u.hasOwnProperty(P)&&(F=u[P],F!=null))switch(P){case"value":f=F;break;case"defaultValue":b=F;break;case"children":E=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(91));break;default:Ut(s,a,P,F,u,null)}_l(s,f,b,E),_a(s);return;case"option":for(Q in u)if(u.hasOwnProperty(Q)&&(f=u[Q],f!=null))switch(Q){case"selected":s.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Ut(s,a,Q,f,u,null)}return;case"dialog":ut("beforetoggle",s),ut("toggle",s),ut("cancel",s),ut("close",s);break;case"iframe":case"object":ut("load",s);break;case"video":case"audio":for(f=0;f<Iu.length;f++)ut(Iu[f],s);break;case"image":ut("error",s),ut("load",s);break;case"details":ut("toggle",s);break;case"embed":case"source":case"link":ut("error",s),ut("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in u)if(u.hasOwnProperty(le)&&(f=u[le],f!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ut(s,a,le,f,u,null)}return;default:if(Ta(a)){for(pe in u)u.hasOwnProperty(pe)&&(f=u[pe],f!==void 0&&lc(s,a,pe,f,u,void 0));return}}for(F in u)u.hasOwnProperty(F)&&(f=u[F],f!=null&&Ut(s,a,F,f,u,null))}function Yg(s,a,u,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,E=null,P=null,F=null,Q=null,le=null,pe=null;for(ue in u){var ye=u[ue];if(u.hasOwnProperty(ue)&&ye!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":Q=ye;default:f.hasOwnProperty(ue)||Ut(s,a,ue,null,f,ye)}}for(var ce in f){var ue=f[ce];if(ye=u[ce],f.hasOwnProperty(ce)&&(ue!=null||ye!=null))switch(ce){case"type":E=ue;break;case"name":b=ue;break;case"checked":le=ue;break;case"defaultChecked":pe=ue;break;case"value":P=ue;break;case"defaultValue":F=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(i(137,a));break;default:ue!==ye&&Ut(s,a,ce,ue,f,ye)}}_i(s,P,F,Q,le,pe,E,b);return;case"select":ue=P=F=ce=null;for(E in u)if(Q=u[E],u.hasOwnProperty(E)&&Q!=null)switch(E){case"value":break;case"multiple":ue=Q;default:f.hasOwnProperty(E)||Ut(s,a,E,null,f,Q)}for(b in f)if(E=f[b],Q=u[b],f.hasOwnProperty(b)&&(E!=null||Q!=null))switch(b){case"value":ce=E;break;case"defaultValue":F=E;break;case"multiple":P=E;default:E!==Q&&Ut(s,a,b,E,f,Q)}a=F,u=P,f=ue,ce!=null?ir(s,!!u,ce,!1):!!f!=!!u&&(a!=null?ir(s,!!u,a,!0):ir(s,!!u,u?[]:"",!1));return;case"textarea":ue=ce=null;for(F in u)if(b=u[F],u.hasOwnProperty(F)&&b!=null&&!f.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:Ut(s,a,F,null,f,b)}for(P in f)if(b=f[P],E=u[P],f.hasOwnProperty(P)&&(b!=null||E!=null))switch(P){case"value":ce=b;break;case"defaultValue":ue=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:b!==E&&Ut(s,a,P,b,f,E)}Xt(s,ce,ue);return;case"option":for(var tt in u)if(ce=u[tt],u.hasOwnProperty(tt)&&ce!=null&&!f.hasOwnProperty(tt))switch(tt){case"selected":s.selected=!1;break;default:Ut(s,a,tt,null,f,ce)}for(Q in f)if(ce=f[Q],ue=u[Q],f.hasOwnProperty(Q)&&ce!==ue&&(ce!=null||ue!=null))switch(Q){case"selected":s.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:Ut(s,a,Q,ce,f,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in u)ce=u[Qe],u.hasOwnProperty(Qe)&&ce!=null&&!f.hasOwnProperty(Qe)&&Ut(s,a,Qe,null,f,ce);for(le in f)if(ce=f[le],ue=u[le],f.hasOwnProperty(le)&&ce!==ue&&(ce!=null||ue!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(i(137,a));break;default:Ut(s,a,le,ce,f,ue)}return;default:if(Ta(a)){for(var gn in u)ce=u[gn],u.hasOwnProperty(gn)&&ce!==void 0&&!f.hasOwnProperty(gn)&&lc(s,a,gn,void 0,f,ce);for(pe in f)ce=f[pe],ue=u[pe],!f.hasOwnProperty(pe)||ce===ue||ce===void 0&&ue===void 0||lc(s,a,pe,ce,f,ue);return}}for(var ne in u)ce=u[ne],u.hasOwnProperty(ne)&&ce!=null&&!f.hasOwnProperty(ne)&&Ut(s,a,ne,null,f,ce);for(ye in f)ce=f[ye],ue=u[ye],!f.hasOwnProperty(ye)||ce===ue||ce==null&&ue==null||Ut(s,a,ye,ce,f,ue)}var _p=null,Xg=null;function Ep(s){return s.nodeType===9?s:s.ownerDocument}function Du(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y0(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function cc(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var uc=null;function Ou(){var s=window.event;return s&&s.type==="popstate"?s===uc?!1:(uc=s,!0):(uc=null,!1)}var dc=typeof setTimeout=="function"?setTimeout:void 0,Iw=typeof clearTimeout=="function"?clearTimeout:void 0,Lu=typeof Promise=="function"?Promise:void 0,kw=typeof queueMicrotask=="function"?queueMicrotask:typeof Lu<"u"?function(s){return Lu.resolve(null).then(s).catch(Qg)}:dc;function Qg(s){setTimeout(function(){throw s})}function _o(s){return s==="head"}function ju(s,a){var u=a,f=0,b=0;do{var E=u.nextSibling;if(s.removeChild(u),E&&E.nodeType===8)if(u=E.data,u==="/$"){if(0<f&&8>f){u=f;var P=s.ownerDocument;if(u&1&&_h(P.documentElement),u&2&&_h(P.body),u&4)for(u=P.head,_h(u),P=u.firstChild;P;){var F=P.nextSibling,Q=P.nodeName;P[ya]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&P.rel.toLowerCase()==="stylesheet"||u.removeChild(P),P=F}}if(b===0){s.removeChild(E),j(a);return}b--}else u==="$"||u==="$?"||u==="$!"?b++:f=u.charCodeAt(0)-48;else f=0;u=E}while(u);j(a)}function Jg(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Jg(u),qr(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function Nw(s,a,u,f){for(;s.nodeType===1;){var b=u;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[ya])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(E=s.getAttribute("rel"),E==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(E!==b.rel||s.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||s.getAttribute("title")!==(b.title==null?null:b.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(E=s.getAttribute("src"),(E!==(b.src==null?null:b.src)||s.getAttribute("type")!==(b.type==null?null:b.type)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&E&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var E=b.name==null?null:""+b.name;if(b.type==="hidden"&&s.getAttribute("name")===E)return s}else return s;if(s=Yi(s.nextSibling),s===null)break}return null}function Zg(s,a,u){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Yi(s.nextSibling),s===null))return null;return s}function Tp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function b0(s,a){var u=s.ownerDocument;if(s.data!=="$?"||u.readyState==="complete")a();else{var f=function(){a(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function Yi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var ev=null;function w0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}function wh(s,a,u){switch(a=Ep(u),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function _h(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);qr(s)}var vs=new Map,el=new Set;function Eh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Us=fe.d;fe.d={f:Mw,r:tv,D:Pw,C:xp,L:Th,m:_0,X:xh,S:Sh,M:Ah};function Mw(){var s=Us.f(),a=ch();return s||a}function tv(s){var a=zi(s);a!==null&&a.tag===5&&a.type==="form"?ql(a):Us.r(s)}var Vu=typeof document>"u"?null:document;function Sp(s,a,u){var f=Vu;if(f&&typeof a=="string"&&a){var b=Hn(a);b='link[rel="'+s+'"][href="'+b+'"]',typeof u=="string"&&(b+='[crossorigin="'+u+'"]'),el.has(b)||(el.add(b),s={rel:s,crossOrigin:u,href:a},f.querySelector(b)===null&&(a=f.createElement("link"),ni(a,"link",s),Vn(a),f.head.appendChild(a)))}}function Pw(s){Us.D(s),Sp("dns-prefetch",s,null)}function xp(s,a){Us.C(s,a),Sp("preconnect",s,a)}function Th(s,a,u){Us.L(s,a,u);var f=Vu;if(f&&s&&a){var b='link[rel="preload"][as="'+Hn(a)+'"]';a==="image"&&u&&u.imageSrcSet?(b+='[imagesrcset="'+Hn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(b+='[imagesizes="'+Hn(u.imageSizes)+'"]')):b+='[href="'+Hn(s)+'"]';var E=b;switch(a){case"style":E=ur(s);break;case"script":E=hc(s)}vs.has(E)||(s=w({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:s,as:a},u),vs.set(E,s),f.querySelector(b)!==null||a==="style"&&f.querySelector(Bu(E))||a==="script"&&f.querySelector(nt(E))||(a=f.createElement("link"),ni(a,"link",s),Vn(a),f.head.appendChild(a)))}}function _0(s,a){Us.m(s,a);var u=Vu;if(u&&s){var f=a&&typeof a.as=="string"?a.as:"script",b='link[rel="modulepreload"][as="'+Hn(f)+'"][href="'+Hn(s)+'"]',E=b;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=hc(s)}if(!vs.has(E)&&(s=w({rel:"modulepreload",href:s},a),vs.set(E,s),u.querySelector(b)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(nt(E)))return}f=u.createElement("link"),ni(f,"link",s),Vn(f),u.head.appendChild(f)}}}function Sh(s,a,u){Us.S(s,a,u);var f=Vu;if(f&&s){var b=nr(f).hoistableStyles,E=ur(s);a=a||"default";var P=b.get(E);if(!P){var F={loading:0,preload:null};if(P=f.querySelector(Bu(E)))F.loading=5;else{s=w({rel:"stylesheet",href:s,"data-precedence":a},u),(u=vs.get(E))&&is(s,u);var Q=P=f.createElement("link");Vn(Q),ni(Q,"link",s),Q._p=new Promise(function(le,pe){Q.onload=le,Q.onerror=pe}),Q.addEventListener("load",function(){F.loading|=1}),Q.addEventListener("error",function(){F.loading|=2}),F.loading|=4,gt(P,a,f)}P={type:"stylesheet",instance:P,count:1,state:F},b.set(E,P)}}}function xh(s,a){Us.X(s,a);var u=Vu;if(u&&s){var f=nr(u).hoistableScripts,b=hc(s),E=f.get(b);E||(E=u.querySelector(nt(b)),E||(s=w({src:s,async:!0},a),(a=vs.get(b))&&Ke(s,a),E=u.createElement("script"),Vn(E),ni(E,"link",s),u.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},f.set(b,E))}}function Ah(s,a){Us.M(s,a);var u=Vu;if(u&&s){var f=nr(u).hoistableScripts,b=hc(s),E=f.get(b);E||(E=u.querySelector(nt(b)),E||(s=w({src:s,async:!0,type:"module"},a),(a=vs.get(b))&&Ke(s,a),E=u.createElement("script"),Vn(E),ni(E,"link",s),u.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},f.set(b,E))}}function Uu(s,a,u,f){var b=(b=Ge.current)?Eh(b):null;if(!b)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=ur(u.href),u=nr(b).hoistableStyles,f=u.get(a),f||(f={type:"style",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=ur(u.href);var E=nr(b).hoistableStyles,P=E.get(s);if(P||(b=b.ownerDocument||b,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(s,P),(E=b.querySelector(Bu(s)))&&!E._p&&(P.instance=E,P.state.loading=5),vs.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},vs.set(s,u),E||nv(b,s,u,P.state))),a&&f===null)throw Error(i(528,""));return P}if(a&&f!==null)throw Error(i(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=hc(u),u=nr(b).hoistableScripts,f=u.get(a),f||(f={type:"script",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function ur(s){return'href="'+Hn(s)+'"'}function Bu(s){return'link[rel="stylesheet"]['+s+"]"}function Fu(s){return w({},s,{"data-precedence":s.precedence,precedence:null})}function nv(s,a,u,f){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=s.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),ni(a,"link",u),Vn(a),s.head.appendChild(a))}function hc(s){return'[src="'+Hn(s)+'"]'}function nt(s){return"script[async]"+s}function fc(s,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var f=s.querySelector('style[data-href~="'+Hn(u.href)+'"]');if(f)return a.instance=f,Vn(f),f;var b=w({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),Vn(f),ni(f,"style",b),gt(f,u.precedence,s),a.instance=f;case"stylesheet":b=ur(u.href);var E=s.querySelector(Bu(b));if(E)return a.state.loading|=4,a.instance=E,Vn(E),E;f=Fu(u),(b=vs.get(b))&&is(f,b),E=(s.ownerDocument||s).createElement("link"),Vn(E);var P=E;return P._p=new Promise(function(F,Q){P.onload=F,P.onerror=Q}),ni(E,"link",f),a.state.loading|=4,gt(E,u.precedence,s),a.instance=E;case"script":return E=hc(u.src),(b=s.querySelector(nt(E)))?(a.instance=b,Vn(b),b):(f=u,(b=vs.get(E))&&(f=w({},u),Ke(f,b)),s=s.ownerDocument||s,b=s.createElement("script"),Vn(b),ni(b,"link",f),s.head.appendChild(b),a.instance=b);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,gt(f,u.precedence,s));return a.instance}function gt(s,a,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=f.length?f[f.length-1]:null,E=b,P=0;P<f.length;P++){var F=f[P];if(F.dataset.precedence===a)E=F;else if(E!==b)break}E?E.parentNode.insertBefore(s,E.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(s,a.firstChild))}function is(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Ke(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Ch=null;function iv(s,a,u){if(Ch===null){var f=new Map,b=Ch=new Map;b.set(u,f)}else b=Ch,f=b.get(u),f||(f=new Map,b.set(u,f));if(f.has(s))return f;for(f.set(s,null),u=u.getElementsByTagName(s),b=0;b<u.length;b++){var E=u[b];if(!(E[ya]||E[Mt]||s==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var P=E.getAttribute(a)||"";P=s+P;var F=f.get(P);F?F.push(E):f.set(P,[E])}}return f}function rv(s,a,u){s=s.ownerDocument||s,s.head.insertBefore(u,a==="title"?s.querySelector("head > title"):null)}function Ap(s,a,u){if(u===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Eo(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var zu=null;function ot(){}function Dw(s,a,u){if(zu===null)throw Error(i(475));var f=zu;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var b=ur(u.href),E=s.querySelector(Bu(b));if(E){s=E._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(f.count++,f=Rh.bind(f),s.then(f,f)),a.state.loading|=4,a.instance=E,Vn(E);return}E=s.ownerDocument||s,u=Fu(u),(b=vs.get(b))&&is(u,b),E=E.createElement("link"),Vn(E);var P=E;P._p=new Promise(function(F,Q){P.onload=F,P.onerror=Q}),ni(E,"link",u),a.instance=E}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(f.count++,a=Rh.bind(f),s.addEventListener("load",a),s.addEventListener("error",a))}}function E0(){if(zu===null)throw Error(i(475));var s=zu;return s.stylesheets&&s.count===0&&be(s,s.stylesheets),0<s.count?function(a){var u=setTimeout(function(){if(s.stylesheets&&be(s,s.stylesheets),s.unsuspend){var f=s.unsuspend;s.unsuspend=null,f()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(u)}}:null}function Rh(){if(this.count--,this.count===0){if(this.stylesheets)be(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Cp=null;function be(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Cp=new Map,a.forEach(kt,s),Cp=null,Rh.call(s))}function kt(s,a){if(!(a.state.loading&4)){var u=Cp.get(s);if(u)var f=u.get(null);else{u=new Map,Cp.set(s,u);for(var b=s.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<b.length;E++){var P=b[E];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(u.set(P.dataset.precedence,P),f=P)}f&&u.set(null,f)}b=a.instance,P=b.getAttribute("data-precedence"),E=u.get(P)||f,E===f&&u.set(null,b),u.set(P,b),this.count++,f=Rh.bind(this),b.addEventListener("load",f),b.addEventListener("error",f),E?E.parentNode.insertBefore(b,E.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(b,s.firstChild)),a.state.loading|=4}}var Ih={$$typeof:K,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function Ow(s,a,u,f,b,E,P,F){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=He(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=He(0),this.hiddenUpdates=He(null),this.identifierPrefix=f,this.onUncaughtError=b,this.onCaughtError=E,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function T0(s,a,u,f,b,E,P,F,Q,le,pe,ye){return s=new Ow(s,a,u,P,F,Q,le,ye),a=1,E===!0&&(a|=24),E=Gn(3,null,null,a),s.current=E,E.stateNode=s,a=Xc(),a.refCount++,s.pooledCache=a,a.refCount++,E.memoizedState={element:f,isDehydrated:u,cache:a},Lf(E),s}function S0(s){return s?(s=ds,s):ds}function sv(s,a,u,f,b,E){b=S0(b),f.context===null?f.context=b:f.pendingContext=b,f=Ms(a),f.payload={element:u},E=E===void 0?null:E,E!==null&&(f.callback=E),u=Fo(s,f,a),u!==null&&(Nr(u,s,a),uo(u,s,a))}function x0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function ov(s,a){x0(s,a),(s=s.alternate)&&x0(s,a)}function oa(s){if(s.tag===13){var a=Il(s,67108864);a!==null&&Nr(a,s,67108864),ov(s,67108864)}}var Bs=!0;function kh(s,a,u,f){var b=re.T;re.T=null;var E=fe.p;try{fe.p=2,av(s,a,u,f)}finally{fe.p=E,re.T=b}}function Rp(s,a,u,f){var b=re.T;re.T=null;var E=fe.p;try{fe.p=8,av(s,a,u,f)}finally{fe.p=E,re.T=b}}function av(s,a,u,f){if(Bs){var b=Nh(f);if(b===null)Nu(s,a,f,Ip,u),Mp(s,f);else if(Fs(b,s,a,u,f))f.stopPropagation();else if(Mp(s,f),a&4&&-1<Np.indexOf(s)){for(;b!==null;){var E=zi(b);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var P=xe(E.pendingLanes);if(P!==0){var F=E;for(F.pendingLanes|=2,F.entangledLanes|=2;P;){var Q=1<<31-Se(P);F.entanglements[1]|=Q,P&=~Q}bo(E),(Pt&6)===0&&(ah=Mi()+500,gh(0))}}break;case 13:F=Il(E,2),F!==null&&Nr(F,E,2),ch(),ov(E,2)}if(E=Nh(f),E===null&&Nu(s,a,f,Ip,u),E===b)break;b=E}b!==null&&f.stopPropagation()}else Nu(s,a,f,null,u)}}function Nh(s){return s=Kr(s),lv(s)}var Ip=null;function lv(s){if(Ip=null,s=No(s),s!==null){var a=l(s);if(a===null)s=null;else{var u=a.tag;if(u===13){if(s=d(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Ip=s,null}function Mh(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pi()){case Br:return 2;case ss:return 8;case tr:case yr:return 32;case Fr:return 268435456;default:return 32}default:return 32}}var kp=!1,aa=null,To=null,la=null,Ph=new Map,Dh=new Map,tl=[],Np="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mp(s,a){switch(s){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":To=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":Ph.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dh.delete(a.pointerId)}}function nl(s,a,u,f,b,E){return s===null||s.nativeEvent!==E?(s={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:E,targetContainers:[b]},a!==null&&(a=zi(a),a!==null&&oa(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,b!==null&&a.indexOf(b)===-1&&a.push(b),s)}function Fs(s,a,u,f,b){switch(a){case"focusin":return aa=nl(aa,s,a,u,f,b),!0;case"dragenter":return To=nl(To,s,a,u,f,b),!0;case"mouseover":return la=nl(la,s,a,u,f,b),!0;case"pointerover":var E=b.pointerId;return Ph.set(E,nl(Ph.get(E)||null,s,a,u,f,b)),!0;case"gotpointercapture":return E=b.pointerId,Dh.set(E,nl(Dh.get(E)||null,s,a,u,f,b)),!0}return!1}function ca(s){var a=No(s.target);if(a!==null){var u=l(a);if(u!==null){if(a=u.tag,a===13){if(a=d(u),a!==null){s.blockedOn=a,Fi(s.priority,function(){if(u.tag===13){var f=kr();f=un(f);var b=Il(u,f);b!==null&&Nr(b,u,f),ov(u,f)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function r(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=Nh(s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);wr=f,u.target.dispatchEvent(f),wr=null}else return a=zi(u),a!==null&&oa(a),s.blockedOn=u,!1;a.shift()}return!0}function c(s,a,u){r(s)&&u.delete(a)}function h(){kp=!1,aa!==null&&r(aa)&&(aa=null),To!==null&&r(To)&&(To=null),la!==null&&r(la)&&(la=null),Ph.forEach(c),Dh.forEach(c)}function y(s,a){s.blockedOn===a&&(s.blockedOn=null,kp||(kp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,h)))}var S=null;function x(s){S!==s&&(S=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){S===s&&(S=null);for(var a=0;a<s.length;a+=3){var u=s[a],f=s[a+1],b=s[a+2];if(typeof f!="function"){if(lv(f||u)===null)continue;break}var E=zi(u);E!==null&&(s.splice(a,3),a-=3,Yf(E,{pending:!0,data:b,method:u.method,action:f},f,b))}}))}function j(s){function a(Q){return y(Q,s)}aa!==null&&y(aa,s),To!==null&&y(To,s),la!==null&&y(la,s),Ph.forEach(a),Dh.forEach(a);for(var u=0;u<tl.length;u++){var f=tl[u];f.blockedOn===s&&(f.blockedOn=null)}for(;0<tl.length&&(u=tl[0],u.blockedOn===null);)ca(u),u.blockedOn===null&&tl.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var b=u[f],E=u[f+1],P=b[In]||null;if(typeof E=="function")P||x(u);else if(P){var F=null;if(E&&E.hasAttribute("formAction")){if(b=E,P=E[In]||null)F=P.formAction;else if(lv(b)!==null)continue}else F=P.action;typeof F=="function"?u[f+1]=F:(u.splice(f,3),f-=3),x(u)}}}function X(s){this._internalRoot=s}de.prototype.render=X.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var u=a.current,f=kr();sv(u,f,s,a,null,null)},de.prototype.unmount=X.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;sv(s.current,2,null,s,null,null),ch(),a[Zn]=null}};function de(s){this._internalRoot=s}de.prototype.unstable_scheduleHydration=function(s){if(s){var a=yi();s={blockedOn:null,target:s,priority:a};for(var u=0;u<tl.length&&a!==0&&a<tl[u].priority;u++);tl.splice(u,0,s),u===0&&ca(s)}};var Ae=e.version;if(Ae!=="19.1.1")throw Error(i(527,Ae,"19.1.1"));fe.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=m(a),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var je={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jt=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jt.isDisabled&&jt.supportsFiber)try{Lt=jt.inject(je),dt=jt}catch{}}return uv.createRoot=function(s,a){if(!o(s))throw Error(i(299));var u=!1,f="",b=tp,E=t0,P=n0,F=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(b=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(P=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(F=a.unstable_transitionCallbacks)),a=T0(s,1,!1,null,null,u,f,b,E,P,F,null),s[Zn]=a.current,ku(s),new X(a)},uv.hydrateRoot=function(s,a,u){if(!o(s))throw Error(i(299));var f=!1,b="",E=tp,P=t0,F=n0,Q=null,le=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(E=u.onUncaughtError),u.onCaughtError!==void 0&&(P=u.onCaughtError),u.onRecoverableError!==void 0&&(F=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(Q=u.unstable_transitionCallbacks),u.formState!==void 0&&(le=u.formState)),a=T0(s,1,!0,a,u??null,f,b,E,P,F,Q,le),a.context=S0(null),u=a.current,f=kr(),f=un(f),b=Ms(f),b.callback=null,Fo(u,b,f),u=f,a.current.lanes=u,We(a,u),bo(a),s[Zn]=a.current,ku(s),new de(a)},uv.version="19.1.1",uv}var fS;function SP(){if(fS)return Vw.exports;fS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vw.exports=TP(),Vw.exports}var xP=SP(),$_=UA();const AP=H_($_);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zv(){return zv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},zv.apply(this,arguments)}var Yu;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Yu||(Yu={}));const pS="popstate";function CP(n){n===void 0&&(n={});function e(i,o){let{pathname:l,search:d,hash:p}=i.location;return P1("",{pathname:l,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:ob(o)}return IP(e,t,null,n)}function ki(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function BA(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RP(){return Math.random().toString(36).substr(2,8)}function mS(n,e){return{usr:n.state,key:n.key,idx:e}}function P1(n,e,t,i){return t===void 0&&(t=null),zv({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?ym(e):e,{state:t,key:e&&e.key||i||RP()})}function ob(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ym(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function IP(n,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:l=!1}=i,d=o.history,p=Yu.Pop,m=null,v=w();v==null&&(v=0,d.replaceState(zv({},d.state,{idx:v}),""));function w(){return(d.state||{idx:null}).idx}function T(){p=Yu.Pop;let k=w(),D=k==null?null:k-v;v=k,m&&m({action:p,location:I.location,delta:D})}function C(k,D){p=Yu.Push;let z=P1(I.location,k,D);v=w()+1;let K=mS(z,v),W=I.createHref(z);try{d.pushState(K,"",W)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;o.location.assign(W)}l&&m&&m({action:p,location:I.location,delta:1})}function N(k,D){p=Yu.Replace;let z=P1(I.location,k,D);v=w();let K=mS(z,v),W=I.createHref(z);d.replaceState(K,"",W),l&&m&&m({action:p,location:I.location,delta:0})}function O(k){let D=o.location.origin!=="null"?o.location.origin:o.location.href,z=typeof k=="string"?k:ob(k);return z=z.replace(/ $/,"%20"),ki(D,"No window.location.(origin|href) available to create URL for href: "+z),new URL(z,D)}let I={get action(){return p},get location(){return n(o,d)},listen(k){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(pS,T),m=k,()=>{o.removeEventListener(pS,T),m=null}},createHref(k){return e(o,k)},createURL:O,encodeLocation(k){let D=O(k);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:C,replace:N,go(k){return d.go(k)}};return I}var gS;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(gS||(gS={}));function kP(n,e,t){return t===void 0&&(t="/"),NP(n,e,t)}function NP(n,e,t,i){let o=typeof e=="string"?ym(e):e,l=K_(o.pathname||"/",t);if(l==null)return null;let d=FA(n);MP(d);let p=null;for(let m=0;p==null&&m<d.length;++m){let v=qP(l);p=FP(d[m],v)}return p}function FA(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(l,d,p)=>{let m={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};m.relativePath.startsWith("/")&&(ki(m.relativePath.startsWith(i),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(i.length));let v=Ju([i,m.relativePath]),w=t.concat(m);l.children&&l.children.length>0&&(ki(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),FA(l.children,e,w,v)),!(l.path==null&&!l.index)&&e.push({path:v,score:UP(v,l.index),routesMeta:w})};return n.forEach((l,d)=>{var p;if(l.path===""||!((p=l.path)!=null&&p.includes("?")))o(l,d);else for(let m of zA(l.path))o(l,d,m)}),e}function zA(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let d=zA(i.join("/")),p=[];return p.push(...d.map(m=>m===""?l:[l,m].join("/"))),o&&p.push(...d),p.map(m=>n.startsWith("/")&&m===""?"/":m)}function MP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:BP(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const PP=/^:[\w-]+$/,DP=3,OP=2,LP=1,jP=10,VP=-2,vS=n=>n==="*";function UP(n,e){let t=n.split("/"),i=t.length;return t.some(vS)&&(i+=VP),e&&(i+=OP),t.filter(o=>!vS(o)).reduce((o,l)=>o+(PP.test(l)?DP:l===""?LP:jP),i)}function BP(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function FP(n,e,t){let{routesMeta:i}=n,o={},l="/",d=[];for(let p=0;p<i.length;++p){let m=i[p],v=p===i.length-1,w=l==="/"?e:e.slice(l.length)||"/",T=zP({path:m.relativePath,caseSensitive:m.caseSensitive,end:v},w),C=m.route;if(!T)return null;Object.assign(o,T.params),d.push({params:o,pathname:Ju([l,T.pathname]),pathnameBase:WP(Ju([l,T.pathnameBase])),route:C}),T.pathnameBase!=="/"&&(l=Ju([l,T.pathnameBase]))}return d}function zP(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=HP(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],d=l.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:i.reduce((v,w,T)=>{let{paramName:C,isOptional:N}=w;if(C==="*"){let I=p[T]||"";d=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const O=p[T];return N&&!O?v[C]=void 0:v[C]=(O||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:d,pattern:n}}function HP(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),BA(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,m)=>(i.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function qP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return BA(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function K_(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function GP(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?ym(n):n;return{pathname:t?t.startsWith("/")?t:$P(t,e):e,search:YP(i),hash:XP(o)}}function $P(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function zw(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function KP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function HA(n,e){let t=KP(n);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function qA(n,e,t,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=ym(n):(o=zv({},n),ki(!o.pathname||!o.pathname.includes("?"),zw("?","pathname","search",o)),ki(!o.pathname||!o.pathname.includes("#"),zw("#","pathname","hash",o)),ki(!o.search||!o.search.includes("#"),zw("#","search","hash",o)));let l=n===""||o.pathname==="",d=l?"/":o.pathname,p;if(d==null)p=t;else{let T=e.length-1;if(!i&&d.startsWith("..")){let C=d.split("/");for(;C[0]==="..";)C.shift(),T-=1;o.pathname=C.join("/")}p=T>=0?e[T]:"/"}let m=GP(o,p),v=d&&d!=="/"&&d.endsWith("/"),w=(l||d===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(v||w)&&(m.pathname+="/"),m}const Ju=n=>n.join("/").replace(/\/\/+/g,"/"),WP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),YP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,XP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function QP(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const GA=["post","put","patch","delete"];new Set(GA);const JP=["get",...GA];new Set(JP);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hv(){return Hv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Hv.apply(this,arguments)}const W_=R.createContext(null),ZP=R.createContext(null),ef=R.createContext(null),Lb=R.createContext(null),tf=R.createContext({outlet:null,matches:[],isDataRoute:!1}),$A=R.createContext(null);function eD(n,e){let{relative:t}=e===void 0?{}:e;hy()||ki(!1);let{basename:i,navigator:o}=R.useContext(ef),{hash:l,pathname:d,search:p}=WA(n,{relative:t}),m=d;return i!=="/"&&(m=d==="/"?i:Ju([i,d])),o.createHref({pathname:m,search:p,hash:l})}function hy(){return R.useContext(Lb)!=null}function fy(){return hy()||ki(!1),R.useContext(Lb).location}function KA(n){R.useContext(ef).static||R.useLayoutEffect(n)}function tD(){let{isDataRoute:n}=R.useContext(tf);return n?pD():nD()}function nD(){hy()||ki(!1);let n=R.useContext(W_),{basename:e,future:t,navigator:i}=R.useContext(ef),{matches:o}=R.useContext(tf),{pathname:l}=fy(),d=JSON.stringify(HA(o,t.v7_relativeSplatPath)),p=R.useRef(!1);return KA(()=>{p.current=!0}),R.useCallback(function(v,w){if(w===void 0&&(w={}),!p.current)return;if(typeof v=="number"){i.go(v);return}let T=qA(v,JSON.parse(d),l,w.relative==="path");n==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Ju([e,T.pathname])),(w.replace?i.replace:i.push)(T,w.state,w)},[e,i,d,l,n])}function WA(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=R.useContext(ef),{matches:o}=R.useContext(tf),{pathname:l}=fy(),d=JSON.stringify(HA(o,i.v7_relativeSplatPath));return R.useMemo(()=>qA(n,JSON.parse(d),l,t==="path"),[n,d,l,t])}function iD(n,e){return rD(n,e)}function rD(n,e,t,i){hy()||ki(!1);let{navigator:o}=R.useContext(ef),{matches:l}=R.useContext(tf),d=l[l.length-1],p=d?d.params:{};d&&d.pathname;let m=d?d.pathnameBase:"/";d&&d.route;let v=fy(),w;if(e){var T;let k=typeof e=="string"?ym(e):e;m==="/"||(T=k.pathname)!=null&&T.startsWith(m)||ki(!1),w=k}else w=v;let C=w.pathname||"/",N=C;if(m!=="/"){let k=m.replace(/^\//,"").split("/");N="/"+C.replace(/^\//,"").split("/").slice(k.length).join("/")}let O=kP(n,{pathname:N}),I=cD(O&&O.map(k=>Object.assign({},k,{params:Object.assign({},p,k.params),pathname:Ju([m,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:Ju([m,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,t,i);return e&&I?R.createElement(Lb.Provider,{value:{location:Hv({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:Yu.Pop}},I):I}function sD(){let n=fD(),e=QP(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:o},t):null,null)}const oD=R.createElement(sD,null);class aD extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?R.createElement(tf.Provider,{value:this.props.routeContext},R.createElement($A.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lD(n){let{routeContext:e,match:t,children:i}=n,o=R.useContext(W_);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),R.createElement(tf.Provider,{value:e},i)}function cD(n,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var l;if(!t)return null;if(t.errors)n=t.matches;else if((l=i)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let d=n,p=(o=t)==null?void 0:o.errors;if(p!=null){let w=d.findIndex(T=>T.route.id&&p?.[T.route.id]!==void 0);w>=0||ki(!1),d=d.slice(0,Math.min(d.length,w+1))}let m=!1,v=-1;if(t&&i&&i.v7_partialHydration)for(let w=0;w<d.length;w++){let T=d[w];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(v=w),T.route.id){let{loaderData:C,errors:N}=t,O=T.route.loader&&C[T.route.id]===void 0&&(!N||N[T.route.id]===void 0);if(T.route.lazy||O){m=!0,v>=0?d=d.slice(0,v+1):d=[d[0]];break}}}return d.reduceRight((w,T,C)=>{let N,O=!1,I=null,k=null;t&&(N=p&&T.route.id?p[T.route.id]:void 0,I=T.route.errorElement||oD,m&&(v<0&&C===0?(mD("route-fallback"),O=!0,k=null):v===C&&(O=!0,k=T.route.hydrateFallbackElement||null)));let D=e.concat(d.slice(0,C+1)),z=()=>{let K;return N?K=I:O?K=k:T.route.Component?K=R.createElement(T.route.Component,null):T.route.element?K=T.route.element:K=w,R.createElement(lD,{match:T,routeContext:{outlet:w,matches:D,isDataRoute:t!=null},children:K})};return t&&(T.route.ErrorBoundary||T.route.errorElement||C===0)?R.createElement(aD,{location:t.location,revalidation:t.revalidation,component:I,error:N,children:z(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):z()},null)}var YA=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(YA||{}),XA=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(XA||{});function uD(n){let e=R.useContext(W_);return e||ki(!1),e}function dD(n){let e=R.useContext(ZP);return e||ki(!1),e}function hD(n){let e=R.useContext(tf);return e||ki(!1),e}function QA(n){let e=hD(),t=e.matches[e.matches.length-1];return t.route.id||ki(!1),t.route.id}function fD(){var n;let e=R.useContext($A),t=dD(),i=QA();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function pD(){let{router:n}=uD(YA.UseNavigateStable),e=QA(XA.UseNavigateStable),t=R.useRef(!1);return KA(()=>{t.current=!0}),R.useCallback(function(o,l){l===void 0&&(l={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,Hv({fromRouteId:e},l)))},[n,e])}const yS={};function mD(n,e,t){yS[n]||(yS[n]=!0)}function gD(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function H0(n){ki(!1)}function vD(n){let{basename:e="/",children:t=null,location:i,navigationType:o=Yu.Pop,navigator:l,static:d=!1,future:p}=n;hy()&&ki(!1);let m=e.replace(/^\/*/,"/"),v=R.useMemo(()=>({basename:m,navigator:l,static:d,future:Hv({v7_relativeSplatPath:!1},p)}),[m,p,l,d]);typeof i=="string"&&(i=ym(i));let{pathname:w="/",search:T="",hash:C="",state:N=null,key:O="default"}=i,I=R.useMemo(()=>{let k=K_(w,m);return k==null?null:{location:{pathname:k,search:T,hash:C,state:N,key:O},navigationType:o}},[m,w,T,C,N,O,o]);return I==null?null:R.createElement(ef.Provider,{value:v},R.createElement(Lb.Provider,{children:t,value:I}))}function yD(n){let{children:e,location:t}=n;return iD(D1(e),t)}new Promise(()=>{});function D1(n,e){e===void 0&&(e=[]);let t=[];return R.Children.forEach(n,(i,o)=>{if(!R.isValidElement(i))return;let l=[...e,o];if(i.type===R.Fragment){t.push.apply(t,D1(i.props.children,l));return}i.type!==H0&&ki(!1),!i.props.index||!i.props.children||ki(!1);let d={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=D1(i.props.children,l)),t.push(d)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function O1(){return O1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},O1.apply(this,arguments)}function bD(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function wD(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function _D(n,e){return n.button===0&&(!e||e==="_self")&&!wD(n)}const ED=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],TD="6";try{window.__reactRouterVersion=TD}catch{}const SD="startTransition",bS=G_[SD];function xD(n){let{basename:e,children:t,future:i,window:o}=n,l=R.useRef();l.current==null&&(l.current=CP({window:o,v5Compat:!0}));let d=l.current,[p,m]=R.useState({action:d.action,location:d.location}),{v7_startTransition:v}=i||{},w=R.useCallback(T=>{v&&bS?bS(()=>m(T)):m(T)},[m,v]);return R.useLayoutEffect(()=>d.listen(w),[d,w]),R.useEffect(()=>gD(i),[i]),R.createElement(vD,{basename:e,children:t,location:p.location,navigationType:p.action,navigator:d,future:i})}const AD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ab=R.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:l,replace:d,state:p,target:m,to:v,preventScrollReset:w,viewTransition:T}=e,C=bD(e,ED),{basename:N}=R.useContext(ef),O,I=!1;if(typeof v=="string"&&CD.test(v)&&(O=v,AD))try{let K=new URL(window.location.href),W=v.startsWith("//")?new URL(K.protocol+v):new URL(v),Y=K_(W.pathname,N);W.origin===K.origin&&Y!=null?v=Y+W.search+W.hash:I=!0}catch{}let k=eD(v,{relative:o}),D=RD(v,{replace:d,state:p,target:m,preventScrollReset:w,relative:o,viewTransition:T});function z(K){i&&i(K),K.defaultPrevented||D(K)}return R.createElement("a",O1({},C,{href:O||k,onClick:I||l?i:z,ref:t,target:m}))});var wS;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(wS||(wS={}));var _S;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(_S||(_S={}));function RD(n,e){let{target:t,replace:i,state:o,preventScrollReset:l,relative:d,viewTransition:p}=e===void 0?{}:e,m=tD(),v=fy(),w=WA(n,{relative:d});return R.useCallback(T=>{if(_D(T,t)){T.preventDefault();let C=i!==void 0?i:ob(v)===ob(w);m(n,{replace:C,state:o,preventScrollReset:l,relative:d,viewTransition:p})}},[v,m,w,i,o,t,n,l,d,p])}/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kD=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),ES=n=>{const e=kD(n);return e.charAt(0).toUpperCase()+e.slice(1)},JA=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),ND=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=R.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:d,...p},m)=>R.createElement("svg",{ref:m,...MD,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:JA("lucide",o),...!l&&!ND(p)&&{"aria-hidden":"true"},...p},[...d.map(([v,w])=>R.createElement(v,w)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=(n,e)=>{const t=R.forwardRef(({className:i,...o},l)=>R.createElement(PD,{ref:l,iconNode:e,className:JA(`lucide-${ID(ES(n))}`,`lucide-${n}`,i),...o}));return t.displayName=ES(n),t};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Hw=st("activity",DD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],LD=st("chart-column",OD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],VD=st("check",jD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Iv=st("circle-alert",UD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Y_=st("circle-check-big",BD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],zD=st("circle-check",FD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],X_=st("clock",HD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ZA=st("download",qD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],qw=st("external-link",GD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],L1=st("folder-open",$D);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],WD=st("gem",KD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],XD=st("globe",YD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],eC=st("hard-drive",QD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ZD=st("layers",JD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],tO=st("lightbulb",eO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["path",{d:"M21 15V6",key:"h1cx4g"}],["path",{d:"M18.5 18a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z",key:"8saifv"}],["path",{d:"M12 12H3",key:"18klou"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M12 18H3",key:"11ftsu"}]],iO=st("list-music",nO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],lb=st("loader-circle",rO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],tC=st("log-in",sO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],aO=st("log-out",oO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Gw=st("mic",lO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],nC=st("music",cO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],iC=st("pause",uO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],hO=st("pen-line",dO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],nm=st("play",fO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mO=st("plus",pO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ro=st("refresh-cw",gO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],yO=st("rotate-ccw",vO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],wO=st("ruler",bO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Q_=st("save",_O);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],TO=st("settings",EO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],rC=st("square",SO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],jb=st("trash-2",xO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Co=st("triangle-alert",AO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],j1=st("upload",CO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],TS=st("video-off",RO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],V1=st("video",IO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],J_=st("volume-2",kO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],cb=st("volume-x",NO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Z_=st("wifi-off",MO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],eE=st("wifi",PO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tE=st("x",DO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],LO=st("youtube",OO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],qv=st("zap",jO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],UO=st("zoom-in",VO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],FO=st("zoom-out",BO);function SS(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function sC(...n){return e=>{let t=!1;const i=n.map(o=>{const l=SS(o,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let o=0;o<i.length;o++){const l=i[o];typeof l=="function"?l():SS(n[o],null)}}}}function mr(...n){return R.useCallback(sC(...n),n)}function Gv(n){const e=HO(n),t=R.forwardRef((i,o)=>{const{children:l,...d}=i,p=R.Children.toArray(l),m=p.find(GO);if(m){const v=m.props.children,w=p.map(T=>T===m?R.Children.count(v)>1?R.Children.only(null):R.isValidElement(v)?v.props.children:null:T);return _.jsx(e,{...d,ref:o,children:R.isValidElement(v)?R.cloneElement(v,void 0,w):null})}return _.jsx(e,{...d,ref:o,children:l})});return t.displayName=`${n}.Slot`,t}var zO=Gv("Slot");function HO(n){const e=R.forwardRef((t,i)=>{const{children:o,...l}=t;if(R.isValidElement(o)){const d=KO(o),p=$O(l,o.props);return o.type!==R.Fragment&&(p.ref=i?sC(i,d):d),R.cloneElement(o,p)}return R.Children.count(o)>1?R.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var qO=Symbol("radix.slottable");function GO(n){return R.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===qO}function $O(n,e){const t={...e};for(const i in e){const o=n[i],l=e[i];/^on[A-Z]/.test(i)?o&&l?t[i]=(...p)=>{const m=l(...p);return o(...p),m}:o&&(t[i]=o):i==="style"?t[i]={...o,...l}:i==="className"&&(t[i]=[o,l].filter(Boolean).join(" "))}return{...n,...t}}function KO(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function oC(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=oC(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function aC(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=oC(n))&&(i&&(i+=" "),i+=e);return i}const xS=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,AS=aC,lC=(n,e)=>t=>{var i;if(e?.variants==null)return AS(n,t?.class,t?.className);const{variants:o,defaultVariants:l}=e,d=Object.keys(o).map(v=>{const w=t?.[v],T=l?.[v];if(w===null)return null;const C=xS(w)||xS(T);return o[v][C]}),p=t&&Object.entries(t).reduce((v,w)=>{let[T,C]=w;return C===void 0||(v[T]=C),v},{}),m=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((v,w)=>{let{class:T,className:C,...N}=w;return Object.entries(N).every(O=>{let[I,k]=O;return Array.isArray(k)?k.includes({...l,...p}[I]):{...l,...p}[I]===k})?[...v,T,C]:v},[]);return AS(n,d,m,t?.class,t?.className)},nE="-",WO=n=>{const e=XO(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:d=>{const p=d.split(nE);return p[0]===""&&p.length!==1&&p.shift(),cC(p,e)||YO(d)},getConflictingClassGroupIds:(d,p)=>{const m=t[d]||[];return p&&i[d]?[...m,...i[d]]:m}}},cC=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),o=i?cC(n.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const l=n.join(nE);return e.validators.find(({validator:d})=>d(l))?.classGroupId},CS=/^\[(.+)\]$/,YO=n=>{if(CS.test(n)){const e=CS.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},XO=n=>{const{theme:e,prefix:t}=n,i={nextPart:new Map,validators:[]};return JO(Object.entries(n.classGroups),t).forEach(([l,d])=>{U1(d,i,l,e)}),i},U1=(n,e,t,i)=>{n.forEach(o=>{if(typeof o=="string"){const l=o===""?e:RS(e,o);l.classGroupId=t;return}if(typeof o=="function"){if(QO(o)){U1(o(i),e,t,i);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([l,d])=>{U1(d,RS(e,l),t,i)})})},RS=(n,e)=>{let t=n;return e.split(nE).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},QO=n=>n.isThemeGetter,JO=(n,e)=>e?n.map(([t,i])=>{const o=i.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([d,p])=>[e+d,p])):l);return[t,o]}):n,ZO=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const o=(l,d)=>{t.set(l,d),e++,e>n&&(e=0,i=t,t=new Map)};return{get(l){let d=t.get(l);if(d!==void 0)return d;if((d=i.get(l))!==void 0)return o(l,d),d},set(l,d){t.has(l)?t.set(l,d):o(l,d)}}},uC="!",e4=n=>{const{separator:e,experimentalParseClassName:t}=n,i=e.length===1,o=e[0],l=e.length,d=p=>{const m=[];let v=0,w=0,T;for(let k=0;k<p.length;k++){let D=p[k];if(v===0){if(D===o&&(i||p.slice(k,k+l)===e)){m.push(p.slice(w,k)),w=k+l;continue}if(D==="/"){T=k;continue}}D==="["?v++:D==="]"&&v--}const C=m.length===0?p:p.substring(w),N=C.startsWith(uC),O=N?C.substring(1):C,I=T&&T>w?T-w:void 0;return{modifiers:m,hasImportantModifier:N,baseClassName:O,maybePostfixModifierPosition:I}};return t?p=>t({className:p,parseClassName:d}):d},t4=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(i=>{i[0]==="["?(e.push(...t.sort(),i),t=[]):t.push(i)}),e.push(...t.sort()),e},n4=n=>({cache:ZO(n.cacheSize),parseClassName:e4(n),...WO(n)}),i4=/\s+/,r4=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:o}=e,l=[],d=n.trim().split(i4);let p="";for(let m=d.length-1;m>=0;m-=1){const v=d[m],{modifiers:w,hasImportantModifier:T,baseClassName:C,maybePostfixModifierPosition:N}=t(v);let O=!!N,I=i(O?C.substring(0,N):C);if(!I){if(!O){p=v+(p.length>0?" "+p:p);continue}if(I=i(C),!I){p=v+(p.length>0?" "+p:p);continue}O=!1}const k=t4(w).join(":"),D=T?k+uC:k,z=D+I;if(l.includes(z))continue;l.push(z);const K=o(I,O);for(let W=0;W<K.length;++W){const Y=K[W];l.push(D+Y)}p=v+(p.length>0?" "+p:p)}return p};function s4(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=dC(e))&&(i&&(i+=" "),i+=t);return i}const dC=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=dC(n[i]))&&(t&&(t+=" "),t+=e);return t};function o4(n,...e){let t,i,o,l=d;function d(m){const v=e.reduce((w,T)=>T(w),n());return t=n4(v),i=t.cache.get,o=t.cache.set,l=p,p(m)}function p(m){const v=i(m);if(v)return v;const w=r4(m,t);return o(m,w),w}return function(){return l(s4.apply(null,arguments))}}const Dn=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},hC=/^\[(?:([a-z-]+):)?(.+)\]$/i,a4=/^\d+\/\d+$/,l4=new Set(["px","full","screen"]),c4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,u4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,d4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,h4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,f4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pc=n=>Wp(n)||l4.has(n)||a4.test(n),qu=n=>bm(n,"length",_4),Wp=n=>!!n&&!Number.isNaN(Number(n)),$w=n=>bm(n,"number",Wp),dv=n=>!!n&&Number.isInteger(Number(n)),p4=n=>n.endsWith("%")&&Wp(n.slice(0,-1)),bt=n=>hC.test(n),Gu=n=>c4.test(n),m4=new Set(["length","size","percentage"]),g4=n=>bm(n,m4,fC),v4=n=>bm(n,"position",fC),y4=new Set(["image","url"]),b4=n=>bm(n,y4,T4),w4=n=>bm(n,"",E4),hv=()=>!0,bm=(n,e,t)=>{const i=hC.exec(n);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):t(i[2]):!1},_4=n=>u4.test(n)&&!d4.test(n),fC=()=>!1,E4=n=>h4.test(n),T4=n=>f4.test(n),S4=()=>{const n=Dn("colors"),e=Dn("spacing"),t=Dn("blur"),i=Dn("brightness"),o=Dn("borderColor"),l=Dn("borderRadius"),d=Dn("borderSpacing"),p=Dn("borderWidth"),m=Dn("contrast"),v=Dn("grayscale"),w=Dn("hueRotate"),T=Dn("invert"),C=Dn("gap"),N=Dn("gradientColorStops"),O=Dn("gradientColorStopPositions"),I=Dn("inset"),k=Dn("margin"),D=Dn("opacity"),z=Dn("padding"),K=Dn("saturate"),W=Dn("scale"),Y=Dn("sepia"),Z=Dn("skew"),U=Dn("space"),V=Dn("translate"),B=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",bt,e],G=()=>[bt,e],L=()=>["",pc,qu],se=()=>["auto",Wp,bt],_e=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],re=()=>["solid","dashed","dotted","double","none"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>["start","end","center","between","around","evenly","stretch"],Ne=()=>["","0",bt],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[Wp,bt];return{cacheSize:500,separator:":",theme:{colors:[hv],spacing:[pc,qu],blur:["none","",Gu,bt],brightness:ae(),borderColor:[n],borderRadius:["none","","full",Gu,bt],borderSpacing:G(),borderWidth:L(),contrast:ae(),grayscale:Ne(),hueRotate:ae(),invert:Ne(),gap:G(),gradientColorStops:[n],gradientColorStopPositions:[p4,qu],inset:H(),margin:H(),opacity:ae(),padding:G(),saturate:ae(),scale:ae(),sepia:Ne(),skew:ae(),space:G(),translate:G()},classGroups:{aspect:[{aspect:["auto","square","video",bt]}],container:["container"],columns:[{columns:[Gu]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[..._e(),bt]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[I]}],"inset-x":[{"inset-x":[I]}],"inset-y":[{"inset-y":[I]}],start:[{start:[I]}],end:[{end:[I]}],top:[{top:[I]}],right:[{right:[I]}],bottom:[{bottom:[I]}],left:[{left:[I]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",dv,bt]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",bt]}],grow:[{grow:Ne()}],shrink:[{shrink:Ne()}],order:[{order:["first","last","none",dv,bt]}],"grid-cols":[{"grid-cols":[hv]}],"col-start-end":[{col:["auto",{span:["full",dv,bt]},bt]}],"col-start":[{"col-start":se()}],"col-end":[{"col-end":se()}],"grid-rows":[{"grid-rows":[hv]}],"row-start-end":[{row:["auto",{span:[dv,bt]},bt]}],"row-start":[{"row-start":se()}],"row-end":[{"row-end":se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",bt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",bt]}],gap:[{gap:[C]}],"gap-x":[{"gap-x":[C]}],"gap-y":[{"gap-y":[C]}],"justify-content":[{justify:["normal",...ve()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ve(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ve(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[z]}],px:[{px:[z]}],py:[{py:[z]}],ps:[{ps:[z]}],pe:[{pe:[z]}],pt:[{pt:[z]}],pr:[{pr:[z]}],pb:[{pb:[z]}],pl:[{pl:[z]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[U]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[U]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",bt,e]}],"min-w":[{"min-w":[bt,e,"min","max","fit"]}],"max-w":[{"max-w":[bt,e,"none","full","min","max","fit","prose",{screen:[Gu]},Gu]}],h:[{h:[bt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[bt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[bt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[bt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Gu,qu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$w]}],"font-family":[{font:[hv]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",bt]}],"line-clamp":[{"line-clamp":["none",Wp,$w]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pc,bt]}],"list-image":[{"list-image":["none",bt]}],"list-style-type":[{list:["none","disc","decimal",bt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[D]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[D]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pc,qu]}],"underline-offset":[{"underline-offset":["auto",pc,bt]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",bt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",bt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[D]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[..._e(),v4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",g4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},b4]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[O]}],"gradient-via-pos":[{via:[O]}],"gradient-to-pos":[{to:[O]}],"gradient-from":[{from:[N]}],"gradient-via":[{via:[N]}],"gradient-to":[{to:[N]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[p]}],"border-w-x":[{"border-x":[p]}],"border-w-y":[{"border-y":[p]}],"border-w-s":[{"border-s":[p]}],"border-w-e":[{"border-e":[p]}],"border-w-t":[{"border-t":[p]}],"border-w-r":[{"border-r":[p]}],"border-w-b":[{"border-b":[p]}],"border-w-l":[{"border-l":[p]}],"border-opacity":[{"border-opacity":[D]}],"border-style":[{border:[...re(),"hidden"]}],"divide-x":[{"divide-x":[p]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[p]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[D]}],"divide-style":[{divide:re()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...re()]}],"outline-offset":[{"outline-offset":[pc,bt]}],"outline-w":[{outline:[pc,qu]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[D]}],"ring-offset-w":[{"ring-offset":[pc,qu]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Gu,w4]}],"shadow-color":[{shadow:[hv]}],opacity:[{opacity:[D]}],"mix-blend":[{"mix-blend":[...fe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":fe()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[i]}],contrast:[{contrast:[m]}],"drop-shadow":[{"drop-shadow":["","none",Gu,bt]}],grayscale:[{grayscale:[v]}],"hue-rotate":[{"hue-rotate":[w]}],invert:[{invert:[T]}],saturate:[{saturate:[K]}],sepia:[{sepia:[Y]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[m]}],"backdrop-grayscale":[{"backdrop-grayscale":[v]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[w]}],"backdrop-invert":[{"backdrop-invert":[T]}],"backdrop-opacity":[{"backdrop-opacity":[D]}],"backdrop-saturate":[{"backdrop-saturate":[K]}],"backdrop-sepia":[{"backdrop-sepia":[Y]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",bt]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",bt]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",bt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[W]}],"scale-x":[{"scale-x":[W]}],"scale-y":[{"scale-y":[W]}],rotate:[{rotate:[dv,bt]}],"translate-x":[{"translate-x":[V]}],"translate-y":[{"translate-y":[V]}],"skew-x":[{"skew-x":[Z]}],"skew-y":[{"skew-y":[Z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",bt]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",bt]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",bt]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[pc,qu,$w]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},x4=o4(S4);function oi(...n){return x4(aC(n))}const A4=lC("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),wt=R.forwardRef(({className:n,variant:e,size:t,asChild:i=!1,...o},l)=>{const d=i?zO:"button";return _.jsx(d,{className:oi(A4({variant:e,size:t,className:n})),ref:l,...o})});wt.displayName="Button";function Fn(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n?.(o),t===!1||!o.defaultPrevented)return e?.(o)}}function C4(n,e){const t=R.createContext(e),i=l=>{const{children:d,...p}=l,m=R.useMemo(()=>p,Object.values(p));return _.jsx(t.Provider,{value:m,children:d})};i.displayName=n+"Provider";function o(l){const d=R.useContext(t);if(d)return d;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${n}\``)}return[i,o]}function Vb(n,e=[]){let t=[];function i(l,d){const p=R.createContext(d),m=t.length;t=[...t,d];const v=T=>{const{scope:C,children:N,...O}=T,I=C?.[n]?.[m]||p,k=R.useMemo(()=>O,Object.values(O));return _.jsx(I.Provider,{value:k,children:N})};v.displayName=l+"Provider";function w(T,C){const N=C?.[n]?.[m]||p,O=R.useContext(N);if(O)return O;if(d!==void 0)return d;throw new Error(`\`${T}\` must be used within \`${l}\``)}return[v,w]}const o=()=>{const l=t.map(d=>R.createContext(d));return function(p){const m=p?.[n]||l;return R.useMemo(()=>({[`__scope${n}`]:{...p,[n]:m}}),[p,m])}};return o.scopeName=n,[i,R4(o,...e)]}function R4(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const d=i.reduce((p,{useScope:m,scopeName:v})=>{const T=m(l)[`__scope${v}`];return{...p,...T}},{});return R.useMemo(()=>({[`__scope${e.scopeName}`]:d}),[d])}};return t.scopeName=e.scopeName,t}var $h=globalThis?.document?R.useLayoutEffect:()=>{},I4=G_[" useId ".trim().toString()]||(()=>{}),k4=0;function Kw(n){const[e,t]=R.useState(I4());return $h(()=>{t(i=>i??String(k4++))},[n]),n||(e?`radix-${e}`:"")}var N4=G_[" useInsertionEffect ".trim().toString()]||$h;function iE({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[o,l,d]=M4({defaultProp:e,onChange:t}),p=n!==void 0,m=p?n:o;{const w=R.useRef(n!==void 0);R.useEffect(()=>{const T=w.current;T!==p&&console.warn(`${i} is changing from ${T?"controlled":"uncontrolled"} to ${p?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),w.current=p},[p,i])}const v=R.useCallback(w=>{if(p){const T=P4(w)?w(n):w;T!==n&&d.current?.(T)}else l(w)},[p,n,l,d]);return[m,v]}function M4({defaultProp:n,onChange:e}){const[t,i]=R.useState(n),o=R.useRef(t),l=R.useRef(e);return N4(()=>{l.current=e},[e]),R.useEffect(()=>{o.current!==t&&(l.current?.(t),o.current=t)},[t,o]),[t,i,l]}function P4(n){return typeof n=="function"}var D4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],vi=D4.reduce((n,e)=>{const t=Gv(`Primitive.${e}`),i=R.forwardRef((o,l)=>{const{asChild:d,...p}=o,m=d?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(m,{...p,ref:l})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function pC(n,e){n&&$_.flushSync(()=>n.dispatchEvent(e))}function Ec(n){const e=R.useRef(n);return R.useEffect(()=>{e.current=n}),R.useMemo(()=>(...t)=>e.current?.(...t),[])}function O4(n,e=globalThis?.document){const t=Ec(n);R.useEffect(()=>{const i=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var L4="DismissableLayer",B1="dismissableLayer.update",j4="dismissableLayer.pointerDownOutside",V4="dismissableLayer.focusOutside",IS,mC=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rE=R.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:d,onDismiss:p,...m}=n,v=R.useContext(mC),[w,T]=R.useState(null),C=w?.ownerDocument??globalThis?.document,[,N]=R.useState({}),O=mr(e,U=>T(U)),I=Array.from(v.layers),[k]=[...v.layersWithOutsidePointerEventsDisabled].slice(-1),D=I.indexOf(k),z=w?I.indexOf(w):-1,K=v.layersWithOutsidePointerEventsDisabled.size>0,W=z>=D,Y=B4(U=>{const V=U.target,B=[...v.branches].some($=>$.contains(V));!W||B||(o?.(U),d?.(U),U.defaultPrevented||p?.())},C),Z=F4(U=>{const V=U.target;[...v.branches].some($=>$.contains(V))||(l?.(U),d?.(U),U.defaultPrevented||p?.())},C);return O4(U=>{z===v.layers.size-1&&(i?.(U),!U.defaultPrevented&&p&&(U.preventDefault(),p()))},C),R.useEffect(()=>{if(w)return t&&(v.layersWithOutsidePointerEventsDisabled.size===0&&(IS=C.body.style.pointerEvents,C.body.style.pointerEvents="none"),v.layersWithOutsidePointerEventsDisabled.add(w)),v.layers.add(w),kS(),()=>{t&&v.layersWithOutsidePointerEventsDisabled.size===1&&(C.body.style.pointerEvents=IS)}},[w,C,t,v]),R.useEffect(()=>()=>{w&&(v.layers.delete(w),v.layersWithOutsidePointerEventsDisabled.delete(w),kS())},[w,v]),R.useEffect(()=>{const U=()=>N({});return document.addEventListener(B1,U),()=>document.removeEventListener(B1,U)},[]),_.jsx(vi.div,{...m,ref:O,style:{pointerEvents:K?W?"auto":"none":void 0,...n.style},onFocusCapture:Fn(n.onFocusCapture,Z.onFocusCapture),onBlurCapture:Fn(n.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:Fn(n.onPointerDownCapture,Y.onPointerDownCapture)})});rE.displayName=L4;var U4="DismissableLayerBranch",gC=R.forwardRef((n,e)=>{const t=R.useContext(mC),i=R.useRef(null),o=mr(e,i);return R.useEffect(()=>{const l=i.current;if(l)return t.branches.add(l),()=>{t.branches.delete(l)}},[t.branches]),_.jsx(vi.div,{...n,ref:o})});gC.displayName=U4;function B4(n,e=globalThis?.document){const t=Ec(n),i=R.useRef(!1),o=R.useRef(()=>{});return R.useEffect(()=>{const l=p=>{if(p.target&&!i.current){let m=function(){vC(j4,t,v,{discrete:!0})};const v={originalEvent:p};p.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=m,e.addEventListener("click",o.current,{once:!0})):m()}else e.removeEventListener("click",o.current);i.current=!1},d=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(d),e.removeEventListener("pointerdown",l),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function F4(n,e=globalThis?.document){const t=Ec(n),i=R.useRef(!1);return R.useEffect(()=>{const o=l=>{l.target&&!i.current&&vC(V4,t,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function kS(){const n=new CustomEvent(B1);document.dispatchEvent(n)}function vC(n,e,t,{discrete:i}){const o=t.originalEvent.target,l=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),i?pC(o,l):o.dispatchEvent(l)}var z4=rE,H4=gC,Ww="focusScope.autoFocusOnMount",Yw="focusScope.autoFocusOnUnmount",NS={bubbles:!1,cancelable:!0},q4="FocusScope",yC=R.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...d}=n,[p,m]=R.useState(null),v=Ec(o),w=Ec(l),T=R.useRef(null),C=mr(e,I=>m(I)),N=R.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;R.useEffect(()=>{if(i){let I=function(K){if(N.paused||!p)return;const W=K.target;p.contains(W)?T.current=W:Ku(T.current,{select:!0})},k=function(K){if(N.paused||!p)return;const W=K.relatedTarget;W!==null&&(p.contains(W)||Ku(T.current,{select:!0}))},D=function(K){if(document.activeElement===document.body)for(const Y of K)Y.removedNodes.length>0&&Ku(p)};document.addEventListener("focusin",I),document.addEventListener("focusout",k);const z=new MutationObserver(D);return p&&z.observe(p,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",I),document.removeEventListener("focusout",k),z.disconnect()}}},[i,p,N.paused]),R.useEffect(()=>{if(p){PS.add(N);const I=document.activeElement;if(!p.contains(I)){const D=new CustomEvent(Ww,NS);p.addEventListener(Ww,v),p.dispatchEvent(D),D.defaultPrevented||(G4(X4(bC(p)),{select:!0}),document.activeElement===I&&Ku(p))}return()=>{p.removeEventListener(Ww,v),setTimeout(()=>{const D=new CustomEvent(Yw,NS);p.addEventListener(Yw,w),p.dispatchEvent(D),D.defaultPrevented||Ku(I??document.body,{select:!0}),p.removeEventListener(Yw,w),PS.remove(N)},0)}}},[p,v,w,N]);const O=R.useCallback(I=>{if(!t&&!i||N.paused)return;const k=I.key==="Tab"&&!I.altKey&&!I.ctrlKey&&!I.metaKey,D=document.activeElement;if(k&&D){const z=I.currentTarget,[K,W]=$4(z);K&&W?!I.shiftKey&&D===W?(I.preventDefault(),t&&Ku(K,{select:!0})):I.shiftKey&&D===K&&(I.preventDefault(),t&&Ku(W,{select:!0})):D===z&&I.preventDefault()}},[t,i,N.paused]);return _.jsx(vi.div,{tabIndex:-1,...d,ref:C,onKeyDown:O})});yC.displayName=q4;function G4(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(Ku(i,{select:e}),document.activeElement!==t)return}function $4(n){const e=bC(n),t=MS(e,n),i=MS(e.reverse(),n);return[t,i]}function bC(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function MS(n,e){for(const t of n)if(!K4(t,{upTo:e}))return t}function K4(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function W4(n){return n instanceof HTMLInputElement&&"select"in n}function Ku(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&W4(n)&&e&&n.select()}}var PS=Y4();function Y4(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=DS(n,e),n.unshift(e)},remove(e){n=DS(n,e),n[0]?.resume()}}}function DS(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function X4(n){return n.filter(e=>e.tagName!=="A")}var Q4="Portal",sE=R.forwardRef((n,e)=>{const{container:t,...i}=n,[o,l]=R.useState(!1);$h(()=>l(!0),[]);const d=t||o&&globalThis?.document?.body;return d?AP.createPortal(_.jsx(vi.div,{...i,ref:e}),d):null});sE.displayName=Q4;function J4(n,e){return R.useReducer((t,i)=>e[t][i]??t,n)}var py=n=>{const{present:e,children:t}=n,i=Z4(e),o=typeof t=="function"?t({present:i.isPresent}):R.Children.only(t),l=mr(i.ref,e3(o));return typeof t=="function"||i.isPresent?R.cloneElement(o,{ref:l}):null};py.displayName="Presence";function Z4(n){const[e,t]=R.useState(),i=R.useRef(null),o=R.useRef(n),l=R.useRef("none"),d=n?"mounted":"unmounted",[p,m]=J4(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const v=A0(i.current);l.current=p==="mounted"?v:"none"},[p]),$h(()=>{const v=i.current,w=o.current;if(w!==n){const C=l.current,N=A0(v);n?m("MOUNT"):N==="none"||v?.display==="none"?m("UNMOUNT"):m(w&&C!==N?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,m]),$h(()=>{if(e){let v;const w=e.ownerDocument.defaultView??window,T=N=>{const I=A0(i.current).includes(N.animationName);if(N.target===e&&I&&(m("ANIMATION_END"),!o.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",v=w.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},C=N=>{N.target===e&&(l.current=A0(i.current))};return e.addEventListener("animationstart",C),e.addEventListener("animationcancel",T),e.addEventListener("animationend",T),()=>{w.clearTimeout(v),e.removeEventListener("animationstart",C),e.removeEventListener("animationcancel",T),e.removeEventListener("animationend",T)}}else m("ANIMATION_END")},[e,m]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:R.useCallback(v=>{i.current=v?getComputedStyle(v):null,t(v)},[])}}function A0(n){return n?.animationName||"none"}function e3(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Xw=0;function t3(){R.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??OS()),document.body.insertAdjacentElement("beforeend",n[1]??OS()),Xw++,()=>{Xw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Xw--}},[])}function OS(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var rl=function(){return rl=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},rl.apply(this,arguments)};function my(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function n3(n,e,t){if(t||arguments.length===2)for(var i=0,o=e.length,l;i<o;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return n.concat(l||Array.prototype.slice.call(e))}var q0="right-scroll-bar-position",G0="width-before-scroll-bar",i3="with-scroll-bars-hidden",r3="--removed-body-scroll-bar-size";function Qw(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function s3(n,e){var t=R.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var o=t.value;o!==i&&(t.value=i,t.callback(i,o))}}}})[0];return t.callback=e,t.facade}var o3=typeof window<"u"?R.useLayoutEffect:R.useEffect,LS=new WeakMap;function a3(n,e){var t=s3(null,function(i){return n.forEach(function(o){return Qw(o,i)})});return o3(function(){var i=LS.get(t);if(i){var o=new Set(i),l=new Set(n),d=t.current;o.forEach(function(p){l.has(p)||Qw(p,null)}),l.forEach(function(p){o.has(p)||Qw(p,d)})}LS.set(t,n)},[n]),t}function l3(n){return n}function c3(n,e){e===void 0&&(e=l3);var t=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(l){var d=e(l,i);return t.push(d),function(){t=t.filter(function(p){return p!==d})}},assignSyncMedium:function(l){for(i=!0;t.length;){var d=t;t=[],d.forEach(l)}t={push:function(p){return l(p)},filter:function(){return t}}},assignMedium:function(l){i=!0;var d=[];if(t.length){var p=t;t=[],p.forEach(l),d=t}var m=function(){var w=d;d=[],w.forEach(l)},v=function(){return Promise.resolve().then(m)};v(),t={push:function(w){d.push(w),v()},filter:function(w){return d=d.filter(w),t}}}};return o}function u3(n){n===void 0&&(n={});var e=c3(null);return e.options=rl({async:!0,ssr:!1},n),e}var wC=function(n){var e=n.sideCar,t=my(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return R.createElement(i,rl({},t))};wC.isSideCarExport=!0;function d3(n,e){return n.useMedium(e),wC}var _C=u3(),Jw=function(){},Ub=R.forwardRef(function(n,e){var t=R.useRef(null),i=R.useState({onScrollCapture:Jw,onWheelCapture:Jw,onTouchMoveCapture:Jw}),o=i[0],l=i[1],d=n.forwardProps,p=n.children,m=n.className,v=n.removeScrollBar,w=n.enabled,T=n.shards,C=n.sideCar,N=n.noRelative,O=n.noIsolation,I=n.inert,k=n.allowPinchZoom,D=n.as,z=D===void 0?"div":D,K=n.gapMode,W=my(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),Y=C,Z=a3([t,e]),U=rl(rl({},W),o);return R.createElement(R.Fragment,null,w&&R.createElement(Y,{sideCar:_C,removeScrollBar:v,shards:T,noRelative:N,noIsolation:O,inert:I,setCallbacks:l,allowPinchZoom:!!k,lockRef:t,gapMode:K}),d?R.cloneElement(R.Children.only(p),rl(rl({},U),{ref:Z})):R.createElement(z,rl({},U,{className:m,ref:Z}),p))});Ub.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ub.classNames={fullWidth:G0,zeroRight:q0};var h3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function f3(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=h3();return e&&n.setAttribute("nonce",e),n}function p3(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function m3(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var g3=function(){var n=0,e=null;return{add:function(t){n==0&&(e=f3())&&(p3(e,t),m3(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},v3=function(){var n=g3();return function(e,t){R.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},EC=function(){var n=v3(),e=function(t){var i=t.styles,o=t.dynamic;return n(i,o),null};return e},y3={left:0,top:0,right:0,gap:0},Zw=function(n){return parseInt(n||"",10)||0},b3=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[Zw(t),Zw(i),Zw(o)]},w3=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return y3;var e=b3(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},_3=EC(),Yp="data-scroll-locked",E3=function(n,e,t,i){var o=n.left,l=n.top,d=n.right,p=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(i3,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(p,"px ").concat(i,`;
  }
  body[`).concat(Yp,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(p,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(q0,` {
    right: `).concat(p,"px ").concat(i,`;
  }
  
  .`).concat(G0,` {
    margin-right: `).concat(p,"px ").concat(i,`;
  }
  
  .`).concat(q0," .").concat(q0,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(G0," .").concat(G0,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Yp,`] {
    `).concat(r3,": ").concat(p,`px;
  }
`)},jS=function(){var n=parseInt(document.body.getAttribute(Yp)||"0",10);return isFinite(n)?n:0},T3=function(){R.useEffect(function(){return document.body.setAttribute(Yp,(jS()+1).toString()),function(){var n=jS()-1;n<=0?document.body.removeAttribute(Yp):document.body.setAttribute(Yp,n.toString())}},[])},S3=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,o=i===void 0?"margin":i;T3();var l=R.useMemo(function(){return w3(o)},[o]);return R.createElement(_3,{styles:E3(l,!e,o,t?"":"!important")})},F1=!1;if(typeof window<"u")try{var C0=Object.defineProperty({},"passive",{get:function(){return F1=!0,!0}});window.addEventListener("test",C0,C0),window.removeEventListener("test",C0,C0)}catch{F1=!1}var Pp=F1?{passive:!1}:!1,x3=function(n){return n.tagName==="TEXTAREA"},TC=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!x3(n)&&t[e]==="visible")},A3=function(n){return TC(n,"overflowY")},C3=function(n){return TC(n,"overflowX")},VS=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=SC(n,i);if(o){var l=xC(n,i),d=l[1],p=l[2];if(d>p)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},R3=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},I3=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},SC=function(n,e){return n==="v"?A3(e):C3(e)},xC=function(n,e){return n==="v"?R3(e):I3(e)},k3=function(n,e){return n==="h"&&e==="rtl"?-1:1},N3=function(n,e,t,i,o){var l=k3(n,window.getComputedStyle(e).direction),d=l*i,p=t.target,m=e.contains(p),v=!1,w=d>0,T=0,C=0;do{if(!p)break;var N=xC(n,p),O=N[0],I=N[1],k=N[2],D=I-k-l*O;(O||D)&&SC(n,p)&&(T+=D,C+=O);var z=p.parentNode;p=z&&z.nodeType===Node.DOCUMENT_FRAGMENT_NODE?z.host:z}while(!m&&p!==document.body||m&&(e.contains(p)||e===p));return(w&&Math.abs(T)<1||!w&&Math.abs(C)<1)&&(v=!0),v},R0=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},US=function(n){return[n.deltaX,n.deltaY]},BS=function(n){return n&&"current"in n?n.current:n},M3=function(n,e){return n[0]===e[0]&&n[1]===e[1]},P3=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},D3=0,Dp=[];function O3(n){var e=R.useRef([]),t=R.useRef([0,0]),i=R.useRef(),o=R.useState(D3++)[0],l=R.useState(EC)[0],d=R.useRef(n);R.useEffect(function(){d.current=n},[n]),R.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var I=n3([n.lockRef.current],(n.shards||[]).map(BS),!0).filter(Boolean);return I.forEach(function(k){return k.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),I.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var p=R.useCallback(function(I,k){if("touches"in I&&I.touches.length===2||I.type==="wheel"&&I.ctrlKey)return!d.current.allowPinchZoom;var D=R0(I),z=t.current,K="deltaX"in I?I.deltaX:z[0]-D[0],W="deltaY"in I?I.deltaY:z[1]-D[1],Y,Z=I.target,U=Math.abs(K)>Math.abs(W)?"h":"v";if("touches"in I&&U==="h"&&Z.type==="range")return!1;var V=VS(U,Z);if(!V)return!0;if(V?Y=U:(Y=U==="v"?"h":"v",V=VS(U,Z)),!V)return!1;if(!i.current&&"changedTouches"in I&&(K||W)&&(i.current=Y),!Y)return!0;var B=i.current||Y;return N3(B,k,I,B==="h"?K:W)},[]),m=R.useCallback(function(I){var k=I;if(!(!Dp.length||Dp[Dp.length-1]!==l)){var D="deltaY"in k?US(k):R0(k),z=e.current.filter(function(Y){return Y.name===k.type&&(Y.target===k.target||k.target===Y.shadowParent)&&M3(Y.delta,D)})[0];if(z&&z.should){k.cancelable&&k.preventDefault();return}if(!z){var K=(d.current.shards||[]).map(BS).filter(Boolean).filter(function(Y){return Y.contains(k.target)}),W=K.length>0?p(k,K[0]):!d.current.noIsolation;W&&k.cancelable&&k.preventDefault()}}},[]),v=R.useCallback(function(I,k,D,z){var K={name:I,delta:k,target:D,should:z,shadowParent:L3(D)};e.current.push(K),setTimeout(function(){e.current=e.current.filter(function(W){return W!==K})},1)},[]),w=R.useCallback(function(I){t.current=R0(I),i.current=void 0},[]),T=R.useCallback(function(I){v(I.type,US(I),I.target,p(I,n.lockRef.current))},[]),C=R.useCallback(function(I){v(I.type,R0(I),I.target,p(I,n.lockRef.current))},[]);R.useEffect(function(){return Dp.push(l),n.setCallbacks({onScrollCapture:T,onWheelCapture:T,onTouchMoveCapture:C}),document.addEventListener("wheel",m,Pp),document.addEventListener("touchmove",m,Pp),document.addEventListener("touchstart",w,Pp),function(){Dp=Dp.filter(function(I){return I!==l}),document.removeEventListener("wheel",m,Pp),document.removeEventListener("touchmove",m,Pp),document.removeEventListener("touchstart",w,Pp)}},[]);var N=n.removeScrollBar,O=n.inert;return R.createElement(R.Fragment,null,O?R.createElement(l,{styles:P3(o)}):null,N?R.createElement(S3,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function L3(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const j3=d3(_C,O3);var AC=R.forwardRef(function(n,e){return R.createElement(Ub,rl({},n,{ref:e,sideCar:j3}))});AC.classNames=Ub.classNames;var V3=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Op=new WeakMap,I0=new WeakMap,k0={},e1=0,CC=function(n){return n&&(n.host||CC(n.parentNode))},U3=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=CC(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},B3=function(n,e,t,i){var o=U3(e,Array.isArray(n)?n:[n]);k0[t]||(k0[t]=new WeakMap);var l=k0[t],d=[],p=new Set,m=new Set(o),v=function(T){!T||p.has(T)||(p.add(T),v(T.parentNode))};o.forEach(v);var w=function(T){!T||m.has(T)||Array.prototype.forEach.call(T.children,function(C){if(p.has(C))w(C);else try{var N=C.getAttribute(i),O=N!==null&&N!=="false",I=(Op.get(C)||0)+1,k=(l.get(C)||0)+1;Op.set(C,I),l.set(C,k),d.push(C),I===1&&O&&I0.set(C,!0),k===1&&C.setAttribute(t,"true"),O||C.setAttribute(i,"true")}catch(D){console.error("aria-hidden: cannot operate on ",C,D)}})};return w(e),p.clear(),e1++,function(){d.forEach(function(T){var C=Op.get(T)-1,N=l.get(T)-1;Op.set(T,C),l.set(T,N),C||(I0.has(T)||T.removeAttribute(i),I0.delete(T)),N||T.removeAttribute(t)}),e1--,e1||(Op=new WeakMap,Op=new WeakMap,I0=new WeakMap,k0={})}},F3=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),o=V3(n);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),B3(i,o,t,"aria-hidden")):function(){return null}},Bb="Dialog",[RC,D$]=Vb(Bb),[z3,va]=RC(Bb),IC=n=>{const{__scopeDialog:e,children:t,open:i,defaultOpen:o,onOpenChange:l,modal:d=!0}=n,p=R.useRef(null),m=R.useRef(null),[v,w]=iE({prop:i,defaultProp:o??!1,onChange:l,caller:Bb});return _.jsx(z3,{scope:e,triggerRef:p,contentRef:m,contentId:Kw(),titleId:Kw(),descriptionId:Kw(),open:v,onOpenChange:w,onOpenToggle:R.useCallback(()=>w(T=>!T),[w]),modal:d,children:t})};IC.displayName=Bb;var kC="DialogTrigger",H3=R.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=va(kC,t),l=mr(e,o.triggerRef);return _.jsx(vi.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":lE(o.open),...i,ref:l,onClick:Fn(n.onClick,o.onOpenToggle)})});H3.displayName=kC;var oE="DialogPortal",[q3,NC]=RC(oE,{forceMount:void 0}),MC=n=>{const{__scopeDialog:e,forceMount:t,children:i,container:o}=n,l=va(oE,e);return _.jsx(q3,{scope:e,forceMount:t,children:R.Children.map(i,d=>_.jsx(py,{present:t||l.open,children:_.jsx(sE,{asChild:!0,container:o,children:d})}))})};MC.displayName=oE;var ub="DialogOverlay",PC=R.forwardRef((n,e)=>{const t=NC(ub,n.__scopeDialog),{forceMount:i=t.forceMount,...o}=n,l=va(ub,n.__scopeDialog);return l.modal?_.jsx(py,{present:i||l.open,children:_.jsx($3,{...o,ref:e})}):null});PC.displayName=ub;var G3=Gv("DialogOverlay.RemoveScroll"),$3=R.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=va(ub,t);return _.jsx(AC,{as:G3,allowPinchZoom:!0,shards:[o.contentRef],children:_.jsx(vi.div,{"data-state":lE(o.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),Kh="DialogContent",DC=R.forwardRef((n,e)=>{const t=NC(Kh,n.__scopeDialog),{forceMount:i=t.forceMount,...o}=n,l=va(Kh,n.__scopeDialog);return _.jsx(py,{present:i||l.open,children:l.modal?_.jsx(K3,{...o,ref:e}):_.jsx(W3,{...o,ref:e})})});DC.displayName=Kh;var K3=R.forwardRef((n,e)=>{const t=va(Kh,n.__scopeDialog),i=R.useRef(null),o=mr(e,t.contentRef,i);return R.useEffect(()=>{const l=i.current;if(l)return F3(l)},[]),_.jsx(OC,{...n,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fn(n.onCloseAutoFocus,l=>{l.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:Fn(n.onPointerDownOutside,l=>{const d=l.detail.originalEvent,p=d.button===0&&d.ctrlKey===!0;(d.button===2||p)&&l.preventDefault()}),onFocusOutside:Fn(n.onFocusOutside,l=>l.preventDefault())})}),W3=R.forwardRef((n,e)=>{const t=va(Kh,n.__scopeDialog),i=R.useRef(!1),o=R.useRef(!1);return _.jsx(OC,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{n.onCloseAutoFocus?.(l),l.defaultPrevented||(i.current||t.triggerRef.current?.focus(),l.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:l=>{n.onInteractOutside?.(l),l.defaultPrevented||(i.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const d=l.target;t.triggerRef.current?.contains(d)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),OC=R.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:l,...d}=n,p=va(Kh,t),m=R.useRef(null),v=mr(e,m);return t3(),_.jsxs(_.Fragment,{children:[_.jsx(yC,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:l,children:_.jsx(rE,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":lE(p.open),...d,ref:v,onDismiss:()=>p.onOpenChange(!1)})}),_.jsxs(_.Fragment,{children:[_.jsx(Y3,{titleId:p.titleId}),_.jsx(Q3,{contentRef:m,descriptionId:p.descriptionId})]})]})}),aE="DialogTitle",LC=R.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=va(aE,t);return _.jsx(vi.h2,{id:o.titleId,...i,ref:e})});LC.displayName=aE;var jC="DialogDescription",VC=R.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=va(jC,t);return _.jsx(vi.p,{id:o.descriptionId,...i,ref:e})});VC.displayName=jC;var UC="DialogClose",BC=R.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=va(UC,t);return _.jsx(vi.button,{type:"button",...i,ref:e,onClick:Fn(n.onClick,()=>o.onOpenChange(!1))})});BC.displayName=UC;function lE(n){return n?"open":"closed"}var FC="DialogTitleWarning",[O$,zC]=C4(FC,{contentName:Kh,titleName:aE,docsSlug:"dialog"}),Y3=({titleId:n})=>{const e=zC(FC),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return R.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},X3="DialogDescriptionWarning",Q3=({contentRef:n,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${zC(X3).contentName}}.`;return R.useEffect(()=>{const o=n.current?.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(i))},[i,n,e]),null},J3=IC,Z3=MC,HC=PC,qC=DC,GC=LC,$C=VC,eL=BC;const KC=J3,tL=Z3,WC=R.forwardRef(({className:n,...e},t)=>_.jsx(HC,{ref:t,className:oi("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));WC.displayName=HC.displayName;const cE=R.forwardRef(({className:n,children:e,...t},i)=>_.jsxs(tL,{children:[_.jsx(WC,{}),_.jsxs(qC,{ref:i,className:oi("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",n),...t,children:[e,_.jsx(eL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:_.jsx("span",{className:"sr-only",children:"Close"})})]})]}));cE.displayName=qC.displayName;const uE=({className:n,...e})=>_.jsx("div",{className:oi("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});uE.displayName="DialogHeader";const YC=({className:n,...e})=>_.jsx("div",{className:oi("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});YC.displayName="DialogFooter";const dE=R.forwardRef(({className:n,...e},t)=>_.jsx(GC,{ref:t,className:oi("text-lg font-semibold leading-none tracking-tight",n),...e}));dE.displayName=GC.displayName;const hE=R.forwardRef(({className:n,...e},t)=>_.jsx($C,{ref:t,className:oi("text-sm text-muted-foreground",n),...e}));hE.displayName=$C.displayName;var FS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},nL=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],d=n[t++],p=n[t++],m=((o&7)<<18|(l&63)<<12|(d&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],d=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|d&63)}}return e.join("")},QC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],d=o+1<n.length,p=d?n[o+1]:0,m=o+2<n.length,v=m?n[o+2]:0,w=l>>2,T=(l&3)<<4|p>>4;let C=(p&15)<<2|v>>6,N=v&63;m||(N=64,d||(C=64)),i.push(t[w],t[T],t[C],t[N])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(XC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):nL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],p=o<n.length?t[n.charAt(o)]:0;++o;const v=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||p==null||v==null||T==null)throw new iL;const C=l<<2|p>>4;if(i.push(C),v!==64){const N=p<<4&240|v>>2;if(i.push(N),T!==64){const O=v<<6&192|T;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class iL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rL=function(n){const e=XC(n);return QC.encodeByteArray(e,!0)},db=function(n){return rL(n).replace(/\./g,"")},JC=function(n){try{return QC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hb(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!sL(t)||(n[t]=hb(n[t],e[t]));return n}function sL(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL=()=>ZC().__FIREBASE_DEFAULTS__,aL=()=>{if(typeof process>"u"||typeof FS>"u")return;const n=FS.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},lL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&JC(n[1]);return e&&JSON.parse(e)},Fb=()=>{try{return oL()||aL()||lL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},eR=n=>{var e,t;return(t=(e=Fb())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},tR=n=>{const e=eR(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},nR=()=>{var n;return(n=Fb())===null||n===void 0?void 0:n.config},iR=n=>{var e;return(e=Fb())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[db(JSON.stringify(t)),db(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ni())}function fE(){var n;const e=(n=Fb())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hL(){return typeof window<"u"||rR()}function rR(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function fL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function pE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oR(){const n=Ni();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function pL(){return!fE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fb(){try{return typeof indexedDB=="object"}catch{return!1}}function mL(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL="FirebaseError";class rs extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=gL,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nf.prototype.create)}}class nf{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],d=l?vL(l,i):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new rs(o,p,i)}}function vL(n,e){return n.replace(yL,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const yL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function bL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function pb(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],d=e[o];if(HS(l)&&HS(d)){if(!pb(l,d))return!1}else if(l!==d)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function HS(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function zp(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function bv(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function aR(n,e){const t=new wL(n,e);return t.subscribe.bind(t)}class wL{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");_L(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=t1),o.error===void 0&&(o.error=t1),o.complete===void 0&&(o.complete=t1);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _L(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function t1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(n){return n&&n._delegate?n._delegate:n}class ml{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EL=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new cL;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SL(e))try{this.getOrInitializeService({instanceIdentifier:Lh})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Lh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lh){return this.instances.has(e)}getOptions(e=Lh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(l);i===p&&d.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const d=this.instances.get(o);return d&&e(d,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:TL(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Lh){return this.component?this.component.multipleInstances?e:Lh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function TL(n){return n===Lh?void 0:n}function SL(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new EL(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=[];var Dt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Dt||(Dt={}));const cR={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},xL=Dt.INFO,AL={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},CL=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=AL[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zb{constructor(e){this.name=e,this._logLevel=xL,this._logHandler=CL,this._userLogHandler=null,mE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...e),this._logHandler(this,Dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...e),this._logHandler(this,Dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...e),this._logHandler(this,Dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...e),this._logHandler(this,Dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...e),this._logHandler(this,Dt.ERROR,...e)}}function RL(n){mE.forEach(e=>{e.setLogLevel(n)})}function IL(n,e){for(const t of mE){let i=null;e&&e.level&&(i=cR[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(o,l,...d)=>{const p=d.map(m=>{if(m==null)return null;if(typeof m=="string")return m;if(typeof m=="number"||typeof m=="boolean")return m.toString();if(m instanceof Error)return m.message;try{return JSON.stringify(m)}catch{return null}}).filter(m=>m).join(" ");l>=(i??o.logLevel)&&n({level:Dt[l].toLowerCase(),message:p,args:d,type:o.name})}}}const kL=(n,e)=>e.some(t=>n instanceof t);let qS,GS;function NL(){return qS||(qS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ML(){return GS||(GS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uR=new WeakMap,z1=new WeakMap,dR=new WeakMap,n1=new WeakMap,gE=new WeakMap;function PL(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",d)},l=()=>{t(Zu(n.result)),o()},d=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&uR.set(t,n)}).catch(()=>{}),gE.set(e,n),e}function DL(n){if(z1.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",d),n.removeEventListener("abort",d)},l=()=>{t(),o()},d=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",d),n.addEventListener("abort",d)});z1.set(n,e)}let H1={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return z1.get(n);if(e==="objectStoreNames")return n.objectStoreNames||dR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Zu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function OL(n){H1=n(H1)}function LL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(i1(this),e,...t);return dR.set(i,e.sort?e.sort():[e]),Zu(i)}:ML().includes(n)?function(...e){return n.apply(i1(this),e),Zu(uR.get(this))}:function(...e){return Zu(n.apply(i1(this),e))}}function jL(n){return typeof n=="function"?LL(n):(n instanceof IDBTransaction&&DL(n),kL(n,NL())?new Proxy(n,H1):n)}function Zu(n){if(n instanceof IDBRequest)return PL(n);if(n1.has(n))return n1.get(n);const e=jL(n);return e!==n&&(n1.set(n,e),gE.set(e,n)),e}const i1=n=>gE.get(n);function VL(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const d=indexedDB.open(n,e),p=Zu(d);return i&&d.addEventListener("upgradeneeded",m=>{i(Zu(d.result),m.oldVersion,m.newVersion,Zu(d.transaction),m)}),t&&d.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),p.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const UL=["get","getKey","getAll","getAllKeys","count"],BL=["put","add","delete","clear"],r1=new Map;function $S(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(r1.get(e))return r1.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=BL.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||UL.includes(t)))return;const l=async function(d,...p){const m=this.transaction(d,o?"readwrite":"readonly");let v=m.store;return i&&(v=v.index(p.shift())),(await Promise.all([v[t](...p),o&&m.done]))[0]};return r1.set(e,l),l}OL(n=>({...n,get:(e,t,i)=>$S(e,t)||n.get(e,t,i),has:(e,t)=>!!$S(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(zL(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function zL(n){const e=n.getComponent();return e?.type==="VERSION"}const mb="@firebase/app",q1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=new zb("@firebase/app"),HL="@firebase/app-compat",qL="@firebase/analytics-compat",GL="@firebase/analytics",$L="@firebase/app-check-compat",KL="@firebase/app-check",WL="@firebase/auth",YL="@firebase/auth-compat",XL="@firebase/database",QL="@firebase/data-connect",JL="@firebase/database-compat",ZL="@firebase/functions",ej="@firebase/functions-compat",tj="@firebase/installations",nj="@firebase/installations-compat",ij="@firebase/messaging",rj="@firebase/messaging-compat",sj="@firebase/performance",oj="@firebase/performance-compat",aj="@firebase/remote-config",lj="@firebase/remote-config-compat",cj="@firebase/storage",uj="@firebase/storage-compat",dj="@firebase/firestore",hj="@firebase/vertexai-preview",fj="@firebase/firestore-compat",pj="firebase",mj="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td="[DEFAULT]",gj={[mb]:"fire-core",[HL]:"fire-core-compat",[GL]:"fire-analytics",[qL]:"fire-analytics-compat",[KL]:"fire-app-check",[$L]:"fire-app-check-compat",[WL]:"fire-auth",[YL]:"fire-auth-compat",[XL]:"fire-rtdb",[QL]:"fire-data-connect",[JL]:"fire-rtdb-compat",[ZL]:"fire-fn",[ej]:"fire-fn-compat",[tj]:"fire-iid",[nj]:"fire-iid-compat",[ij]:"fire-fcm",[rj]:"fire-fcm-compat",[sj]:"fire-perf",[oj]:"fire-perf-compat",[aj]:"fire-rc",[lj]:"fire-rc-compat",[cj]:"fire-gcs",[uj]:"fire-gcs-compat",[dj]:"fire-fst",[fj]:"fire-fst-compat",[hj]:"fire-vertex","fire-js":"fire-js",[pj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=new Map,im=new Map,rm=new Map;function $v(n,e){try{n.container.addComponent(e)}catch(t){Tc.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function hR(n,e){n.container.addOrOverwriteComponent(e)}function Sc(n){const e=n.name;if(rm.has(e))return Tc.debug(`There were multiple attempts to register component ${e}.`),!1;rm.set(e,n);for(const t of nd.values())$v(t,n);for(const t of im.values())$v(t,n);return!0}function _m(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function vj(n,e,t=td){_m(n,e).clearInstance(t)}function fR(n){return n.options!==void 0}function ri(n){return n.settings!==void 0}function yj(){rm.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Io=new nf("app","Firebase",bj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pR=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ml("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Io.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj extends pR{constructor(e,t,i,o){const l=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,d={name:i,automaticDataCollectionEnabled:l};if(e.apiKey!==void 0)super(e,d,o);else{const p=e;super(p.options,d,o)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:l},t),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,bs(mb,q1,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){vE(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Io.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=mj;function Hb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:td,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Io.create("bad-app-name",{appName:String(o)});if(t||(t=nR()),!t)throw Io.create("no-options");const l=nd.get(o);if(l){if(pb(t,l.options)&&pb(i,l.config))return l;throw Io.create("duplicate-app",{appName:o})}const d=new lR(o);for(const m of rm.values())d.addComponent(m);const p=new pR(t,i,d);return nd.set(o,p),p}function _j(n,e){if(hL()&&!rR())throw Io.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;fR(n)?t=n.options:t=n;const i=Object.assign(Object.assign({},e),t);i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const o=v=>[...v].reduce((w,T)=>Math.imul(31,w)+T.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Io.create("finalization-registry-not-supported",{});const l=""+o(JSON.stringify(i)),d=im.get(l);if(d)return d.incRefCount(e.releaseOnDeref),d;const p=new lR(l);for(const v of rm.values())p.addComponent(v);const m=new wj(t,e,l,p);return im.set(l,m),m}function qb(n=td){const e=nd.get(n);if(!e&&n===td&&nR())return Hb();if(!e)throw Io.create("no-app",{appName:n});return e}function Ej(){return Array.from(nd.values())}async function vE(n){let e=!1;const t=n.name;nd.has(t)?(e=!0,nd.delete(t)):im.has(t)&&n.decRefCount()<=0&&(im.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(i=>i.delete())),n.isDeleted=!0)}function bs(n,e,t){var i;let o=(i=gj[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),d=e.match(/\s|\//);if(l||d){const p=[`Unable to register library "${o}" with version "${e}":`];l&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tc.warn(p.join(" "));return}Sc(new ml(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}function mR(n,e){if(n!==null&&typeof n!="function")throw Io.create("invalid-log-argument");IL(n,e)}function gR(n){RL(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj="firebase-heartbeat-database",Sj=1,Kv="firebase-heartbeat-store";let s1=null;function vR(){return s1||(s1=VL(Tj,Sj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Kv)}catch(t){console.warn(t)}}}}).catch(n=>{throw Io.create("idb-open",{originalErrorMessage:n.message})})),s1}async function xj(n){try{const t=(await vR()).transaction(Kv),i=await t.objectStore(Kv).get(yR(n));return await t.done,i}catch(e){if(e instanceof rs)Tc.warn(e.message);else{const t=Io.create("idb-get",{originalErrorMessage:e?.message});Tc.warn(t.message)}}}async function KS(n,e){try{const i=(await vR()).transaction(Kv,"readwrite");await i.objectStore(Kv).put(e,yR(n)),await i.done}catch(t){if(t instanceof rs)Tc.warn(t.message);else{const i=Io.create("idb-set",{originalErrorMessage:t?.message});Tc.warn(i.message)}}}function yR(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=1024,Cj=720*60*60*1e3;class Rj{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new kj(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=WS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(d=>d.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const p=new Date(d.date).valueOf();return Date.now()-p<=Cj}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Tc.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=WS(),{heartbeatsToSend:i,unsentEntries:o}=Ij(this._heartbeatsCache.heartbeats),l=db(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Tc.warn(t),""}}}function WS(){return new Date().toISOString().substring(0,10)}function Ij(n,e=Aj){const t=[];let i=n.slice();for(const o of n){const l=t.find(d=>d.agent===o.agent);if(l){if(l.dates.push(o.date),YS(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),YS(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class kj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fb()?mL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await xj(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return KS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return KS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function YS(n){return db(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(n){Sc(new ml("platform-logger",e=>new FL(e),"PRIVATE")),Sc(new ml("heartbeat",e=>new Rj(e),"PRIVATE")),bs(mb,q1,n),bs(mb,q1,"esm2017"),bs("fire-js","")}Nj("");const Mj=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:rs,SDK_VERSION:hd,_DEFAULT_ENTRY_NAME:td,_addComponent:$v,_addOrOverwriteComponent:hR,_apps:nd,_clearComponents:yj,_components:rm,_getProvider:_m,_isFirebaseApp:fR,_isFirebaseServerApp:ri,_registerComponent:Sc,_removeServiceInstance:vj,_serverApps:im,deleteApp:vE,getApp:qb,getApps:Ej,initializeApp:Hb,initializeServerApp:_j,onLog:mR,registerVersion:bs,setLogLevel:gR},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,t){this._delegate=e,this.firebase=t,$v(e,new ml("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),vE(this._delegate)))}_getService(e,t=td){var i;this._delegate.checkDestroyed();const o=this._delegate.container.getProvider(e);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:t})}_removeServiceInstance(e,t=td){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){$v(this._delegate,e)}_addOrOverwriteComponent(e){hR(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},XS=new nf("app-compat","Firebase",Dj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(n){const e={},t={__esModule:!0,initializeApp:l,app:o,registerVersion:bs,setLogLevel:gR,onLog:mR,apps:null,SDK_VERSION:hd,INTERNAL:{registerComponent:p,removeApp:i,useAsService:m,modularAPIs:Mj}};t.default=t,Object.defineProperty(t,"apps",{get:d});function i(v){delete e[v]}function o(v){if(v=v||td,!zS(e,v))throw XS.create("no-app",{appName:v});return e[v]}o.App=n;function l(v,w={}){const T=Hb(v,w);if(zS(e,T.name))return e[T.name];const C=new n(T,t);return e[T.name]=C,C}function d(){return Object.keys(e).map(v=>e[v])}function p(v){const w=v.name,T=w.replace("-compat","");if(Sc(v)&&v.type==="PUBLIC"){const C=(N=o())=>{if(typeof N[T]!="function")throw XS.create("invalid-app-argument",{appName:w});return N[T]()};v.serviceProps!==void 0&&hb(C,v.serviceProps),t[T]=C,n.prototype[T]=function(...N){return this._getService.bind(this,w).apply(this,v.multipleInstances?N:[])}}return v.type==="PUBLIC"?t[T]:null}function m(v,w){return w==="serverAuth"?null:w}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){const n=Oj(Pj);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:bR,extendNamespace:e,createSubscribe:aR,ErrorFactory:nf,deepExtend:hb});function e(t){hb(n,t)}return n}const Lj=bR();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=new zb("@firebase/app-compat"),jj="@firebase/app-compat",Vj="0.2.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(n){bs(jj,Vj,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=ZC();if(n.firebase!==void 0){QS.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&QS.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const qe=Lj;Uj();var Bj="firebase",Fj="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qe.registerVersion(Bj,Fj,"app-compat");const fv={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Lp={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function wR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Hj=zj,qj=wR,_R=new nf("auth","Firebase",wR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=new zb("@firebase/auth");function Gj(n,...e){gb.logLevel<=Dt.WARN&&gb.warn(`Auth (${hd}): ${n}`,...e)}function $0(n,...e){gb.logLevel<=Dt.ERROR&&gb.error(`Auth (${hd}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(n,...e){throw bE(n,...e)}function Ui(n,...e){return bE(n,...e)}function yE(n,e,t){const i=Object.assign(Object.assign({},qj()),{[e]:t});return new nf("auth","Firebase",i).create(e,{appName:n.name})}function Ji(n){return yE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Em(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Zi(n,"argument-error"),yE(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bE(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return _R.create(n,...e)}function Ce(n,e,...t){if(!n)throw bE(e,...t)}function ll(n){const e="INTERNAL ASSERTION FAILED: "+n;throw $0(e),new Error(e)}function ma(n,e){n||ll(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function wE(){return JS()==="http:"||JS()==="https:"}function JS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wE()||sR()||"connection"in navigator)?navigator.onLine:!0}function Kj(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,t){this.shortDelay=e,this.longDelay=t,ma(t>e,"Short delay should be less than long delay!"),this.isMobile=dL()||pE()}get(){return $j()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(n,e){ma(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ll("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ll("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ll("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=new gy(3e4,6e4);function ai(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function li(n,e,t,i,o={}){return TR(n,o,async()=>{let l={},d={};i&&(e==="GET"?d=i:l={body:JSON.stringify(i)});const p=wm(Object.assign({key:n.config.apiKey},d)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const v=Object.assign({method:e,headers:m},l);return fL()||(v.referrerPolicy="no-referrer"),ER.fetch()(SR(n,n.config.apiHost,t,p),v)})}async function TR(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Wj),e);try{const o=new Qj(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await l.json();if("needConfirmation"in d)throw wv(n,"account-exists-with-different-credential",d);if(l.ok&&!("errorMessage"in d))return d;{const p=l.ok?d.errorMessage:d.error.message,[m,v]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw wv(n,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw wv(n,"email-already-in-use",d);if(m==="USER_DISABLED")throw wv(n,"user-disabled",d);const w=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw yE(n,w,v);Zi(n,w)}}catch(o){if(o instanceof rs)throw o;Zi(n,"network-request-failed",{message:String(o)})}}async function Ic(n,e,t,i,o={}){const l=await li(n,e,t,i,o);return"mfaPendingCredential"in l&&Zi(n,"multi-factor-auth-required",{_serverResponse:l}),l}function SR(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?_E(n.config,o):`${n.config.apiScheme}://${o}`}function Xj(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Qj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ui(this.auth,"network-request-failed")),Yj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wv(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Ui(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(n){return n!==void 0&&n.getResponse!==void 0}function ex(n){return n!==void 0&&n.enterprise!==void 0}class Jj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Xj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zj(n){return(await li(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function eV(n,e){return li(n,"GET","/v2/recaptchaConfig",ai(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tV(n,e){return li(n,"POST","/v1/accounts:delete",e)}async function nV(n,e){return li(n,"POST","/v1/accounts:update",e)}async function xR(n,e){return li(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iV(n,e=!1){const t=lt(n),i=await t.getIdToken(e),o=Gb(i);Ce(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,d=l?.sign_in_provider;return{claims:o,token:i,authTime:kv(o1(o.auth_time)),issuedAtTime:kv(o1(o.iat)),expirationTime:kv(o1(o.exp)),signInProvider:d||null,signInSecondFactor:l?.sign_in_second_factor||null}}function o1(n){return Number(n)*1e3}function Gb(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return $0("JWT malformed, contained fewer than 3 sections"),null;try{const o=JC(t);return o?JSON.parse(o):($0("Failed to decode base64 JWT payload"),null)}catch(o){return $0("Caught error parsing JWT payload as JSON",o?.toString()),null}}function tx(n){const e=Gb(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof rs&&rV(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function rV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=kv(this.lastLoginAt),this.creationTime=kv(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yv(n){var e;const t=n.auth,i=await n.getIdToken(),o=await xc(n,xR(t,{idToken:i}));Ce(o?.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const d=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?AR(l.providerUserInfo):[],p=aV(n.providerData,d),m=n.isAnonymous,v=!(n.email&&l.passwordHash)&&!p?.length,w=m?v:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new G1(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(n,T)}async function oV(n){const e=lt(n);await Yv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aV(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function AR(n){return n.map(e=>{var{providerId:t}=e,i=my(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lV(n,e){const t=await TR(n,{},async()=>{const i=wm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,d=SR(n,o,"/v1/token",`key=${l}`),p=await n._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",ER.fetch()(d,{method:"POST",headers:p,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function cV(n,e){return li(n,"POST","/v2/accounts:revokeToken",ai(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=tx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await lV(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,d=new Xp;return i&&(Ce(typeof i=="string","internal-error",{appName:e}),d.refreshToken=i),o&&(Ce(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),l&&(Ce(typeof l=="number","internal-error",{appName:e}),d.expirationTime=l),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xp,this.toJSON())}_performRefresh(){return ll("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class gc{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=my(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new G1(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await xc(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return iV(this,e)}reload(){return oV(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Yv(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(Ji(this.auth));const e=await this.getIdToken();return await xc(this,tV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,d,p,m,v,w;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,C=(o=t.email)!==null&&o!==void 0?o:void 0,N=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,O=(d=t.photoURL)!==null&&d!==void 0?d:void 0,I=(p=t.tenantId)!==null&&p!==void 0?p:void 0,k=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,D=(v=t.createdAt)!==null&&v!==void 0?v:void 0,z=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:K,emailVerified:W,isAnonymous:Y,providerData:Z,stsTokenManager:U}=t;Ce(K&&U,e,"internal-error");const V=Xp.fromJSON(this.name,U);Ce(typeof K=="string",e,"internal-error"),$u(T,e.name),$u(C,e.name),Ce(typeof W=="boolean",e,"internal-error"),Ce(typeof Y=="boolean",e,"internal-error"),$u(N,e.name),$u(O,e.name),$u(I,e.name),$u(k,e.name),$u(D,e.name),$u(z,e.name);const B=new gc({uid:K,auth:e,email:C,emailVerified:W,displayName:T,isAnonymous:Y,photoURL:O,phoneNumber:N,tenantId:I,stsTokenManager:V,createdAt:D,lastLoginAt:z});return Z&&Array.isArray(Z)&&(B.providerData=Z.map($=>Object.assign({},$))),k&&(B._redirectEventId=k),B}static async _fromIdTokenResponse(e,t,i=!1){const o=new Xp;o.updateFromServerResponse(t);const l=new gc({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Yv(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ce(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?AR(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!l?.length,p=new Xp;p.updateFromIdToken(i);const m=new gc({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new G1(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(m,v),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=new Map;function qs(n){ma(n instanceof Function,"Expected a class definition");let e=nx.get(n);return e?(ma(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,nx.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}CR.type="NONE";const sm=CR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(n,e,t){return`firebase:${n}:${e}:${t}`}class Qp{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=zh(this.userKey,o.apiKey,l),this.fullPersistenceKey=zh("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?gc._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Qp(qs(sm),e,i);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let l=o[0]||qs(sm);const d=zh(i,e.config.apiKey,e.name);let p=null;for(const v of t)try{const w=await v._get(d);if(w){const T=gc._fromJSON(e,w);v!==l&&(p=T),l=v;break}}catch{}const m=o.filter(v=>v._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Qp(l,e,i):(l=m[0],p&&await l._set(d,p.toJSON()),await Promise.all(t.map(async v=>{if(v!==l)try{await v._remove(d)}catch{}})),new Qp(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MR(e))return"Blackberry";if(PR(e))return"Webos";if(IR(e))return"Safari";if((e.includes("chrome/")||kR(e))&&!e.includes("edge/"))return"Chrome";if(vy(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function RR(n=Ni()){return/firefox\//i.test(n)}function IR(n=Ni()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kR(n=Ni()){return/crios\//i.test(n)}function NR(n=Ni()){return/iemobile/i.test(n)}function vy(n=Ni()){return/android/i.test(n)}function MR(n=Ni()){return/blackberry/i.test(n)}function PR(n=Ni()){return/webos/i.test(n)}function yy(n=Ni()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function uV(n=Ni()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function dV(n=Ni()){var e;return yy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hV(){return oR()&&document.documentMode===10}function DR(n=Ni()){return yy(n)||vy(n)||PR(n)||MR(n)||/windows phone/i.test(n)||NR(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(n,e=[]){let t;switch(n){case"Browser":t=ix(Ni());break;case"Worker":t=`${ix(Ni())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${hd}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((d,p)=>{try{const m=e(l);d(m)}catch(m){p(m)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pV(n,e={}){return li(n,"GET","/v2/passwordPolicy",ai(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=6;class gV{constructor(e){var t,i,o,l;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:mV,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,d,p;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(d=m.containsNumericCharacter)!==null&&d!==void 0?d:!0),m.isValid&&(m.isValid=(p=m.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),m}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rx(this),this.idTokenSubscription=new rx(this),this.beforeStateQueue=new fV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_R,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=qs(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Qp.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await xR(this,{idToken:e}),i=await gc._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ri(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,p=o?._redirectEventId,m=await this.tryRedirectSignIn(e);(!d||d===p)&&m?.user&&(o=m.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Yv(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Kj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ri(this.app))return Promise.reject(Ji(this));const t=e?lt(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ri(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pV(this),t=new gV(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nf("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await cV(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&qs(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await Qp.create(this,[qs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(p,this,"internal-error"),p.then(()=>{d||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,o);return()=>{d=!0,m()}}else{const m=e.addObserver(t);return()=>{d=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&Gj(`Error while retrieving App Check token: ${t.error}`),t?.token}}function si(n){return lt(n)}class rx{constructor(e){this.auth=e,this.observer=null,this.addObserver=aR(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let by={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yV(n){by=n}function EE(n){return by.loadJS(n)}function bV(){return by.recaptchaV2Script}function wV(){return by.recaptchaEnterpriseScript}function _V(){return by.gapiScript}function LR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const EV="recaptcha-enterprise",TV="NO_RECAPTCHA";class SV{constructor(e){this.type=EV,this.auth=si(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(d,p)=>{eV(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const v=new Jj(m);return l.tenantId==null?l._agentRecaptchaConfig=v:l._tenantRecaptchaConfigs[l.tenantId]=v,d(v.siteKey)}}).catch(m=>{p(m)})})}function o(l,d,p){const m=window.grecaptcha;ex(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(v=>{d(v)}).catch(()=>{d(TV)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((l,d)=>{i(this.auth).then(p=>{if(!t&&ex(window.grecaptcha))o(p,l,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let m=wV();m.length!==0&&(m+=p),EE(m).then(()=>{o(p,l,d)}).catch(v=>{d(v)})}}).catch(p=>{d(p)})})}}async function sx(n,e,t,i=!1){const o=new SV(n);let l;try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const d=Object.assign({},e);return i?Object.assign(d,{captchaResp:l}):Object.assign(d,{captchaResponse:l}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Xv(n,e,t,i){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await sx(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await sx(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(n,e){const t=_m(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(pb(l,e??{}))return o;Zi(o,"already-initialized")}return t.initialize({options:e})}function AV(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(qs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function jR(n,e,t){const i=si(n);Ce(i._canInitEmulator,i,"emulator-config-failed"),Ce(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!!t?.disableWarnings,l=VR(e),{host:d,port:p}=CV(e),m=p===null?"":`:${p}`;i.config.emulator={url:`${l}//${d}${m}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:d,port:p,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||RV()}function VR(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function CV(n){const e=VR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:ox(i.substr(l.length+1))}}else{const[l,d]=i.split(":");return{host:l,port:ox(d)}}}function ox(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function RV(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ll("not implemented")}_getIdTokenResponse(e){return ll("not implemented")}_linkToIdToken(e,t){return ll("not implemented")}_getReauthenticationResolver(e){return ll("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(n,e){return li(n,"POST","/v1/accounts:resetPassword",ai(n,e))}async function IV(n,e){return li(n,"POST","/v1/accounts:update",e)}async function kV(n,e){return li(n,"POST","/v1/accounts:signUp",e)}async function NV(n,e){return li(n,"POST","/v1/accounts:update",ai(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MV(n,e){return Ic(n,"POST","/v1/accounts:signInWithPassword",ai(n,e))}async function $b(n,e){return li(n,"POST","/v1/accounts:sendOobCode",ai(n,e))}async function PV(n,e){return $b(n,e)}async function DV(n,e){return $b(n,e)}async function OV(n,e){return $b(n,e)}async function LV(n,e){return $b(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(n,e){return Ic(n,"POST","/v1/accounts:signInWithEmailLink",ai(n,e))}async function VV(n,e){return Ic(n,"POST","/v1/accounts:signInWithEmailLink",ai(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv extends Tm{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Qv(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Qv(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xv(e,t,"signInWithPassword",MV);case"emailLink":return jV(e,{email:this._email,oobCode:this._password});default:Zi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xv(e,i,"signUpPassword",kV);case"emailLink":return VV(e,{idToken:t,email:this._email,oobCode:this._password});default:Zi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yc(n,e){return Ic(n,"POST","/v1/accounts:signInWithIdp",ai(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV="http://localhost";class gl extends Tm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new gl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=my(t,["providerId","signInMethod"]);if(!i||!o)return null;const d=new gl(i,o);return d.idToken=l.idToken||void 0,d.accessToken=l.accessToken||void 0,d.secret=l.secret,d.nonce=l.nonce,d.pendingToken=l.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return yc(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,yc(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yc(e,t)}buildRequest(){const e={requestUri:UV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wm(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BV(n,e){return li(n,"POST","/v1/accounts:sendVerificationCode",ai(n,e))}async function FV(n,e){return Ic(n,"POST","/v1/accounts:signInWithPhoneNumber",ai(n,e))}async function zV(n,e){const t=await Ic(n,"POST","/v1/accounts:signInWithPhoneNumber",ai(n,e));if(t.temporaryProof)throw wv(n,"account-exists-with-different-credential",t);return t}const HV={USER_NOT_FOUND:"user-not-found"};async function qV(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Ic(n,"POST","/v1/accounts:signInWithPhoneNumber",ai(n,t),HV)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh extends Tm{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Hh({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Hh({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return FV(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return zV(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return qV(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:i,verificationCode:o}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:i,code:o}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:i,phoneNumber:o,temporaryProof:l}=e;return!i&&!t&&!o&&!l?null:new Hh({verificationId:t,verificationCode:i,phoneNumber:o,temporaryProof:l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $V(n){const e=zp(bv(n)).link,t=e?zp(bv(e)).deep_link_id:null,i=zp(bv(n)).deep_link_id;return(i?zp(bv(i)).link:null)||i||t||e||n}class Kb{constructor(e){var t,i,o,l,d,p;const m=zp(bv(e)),v=(t=m.apiKey)!==null&&t!==void 0?t:null,w=(i=m.oobCode)!==null&&i!==void 0?i:null,T=GV((o=m.mode)!==null&&o!==void 0?o:null);Ce(v&&w&&T,"argument-error"),this.apiKey=v,this.operation=T,this.code=w,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(d=m.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(p=m.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const t=$V(e);try{return new Kb(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this.providerId=fd.PROVIDER_ID}static credential(e,t){return Qv._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Kb.parseLink(t);return Ce(i,"argument-error"),Qv._fromEmailAndCode(e,i.code,i.tenantId)}}fd.PROVIDER_ID="password";fd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm extends kc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Jp extends Sm{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return Ce("providerId"in t&&"signInMethod"in t,"argument-error"),gl._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Ce(e.idToken||e.accessToken,"argument-error"),gl._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Jp.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Jp.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:l,nonce:d,providerId:p}=e;if(!i&&!o&&!t&&!l||!p)return null;try{return new Jp(p)._credential({idToken:t,accessToken:i,nonce:d,pendingToken:l})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends Sm{constructor(){super("facebook.com")}static credential(e){return gl._fromParams({providerId:sl.PROVIDER_ID,signInMethod:sl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sl.credentialFromTaggedObject(e)}static credentialFromError(e){return sl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sl.credential(e.oauthAccessToken)}catch{return null}}}sl.FACEBOOK_SIGN_IN_METHOD="facebook.com";sl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends Sm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return gl._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ha.credential(t,i)}catch{return null}}}ha.GOOGLE_SIGN_IN_METHOD="google.com";ha.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends Sm{constructor(){super("github.com")}static credential(e){return gl._fromParams({providerId:ol.PROVIDER_ID,signInMethod:ol.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ol.credentialFromTaggedObject(e)}static credentialFromError(e){return ol.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ol.credential(e.oauthAccessToken)}catch{return null}}}ol.GITHUB_SIGN_IN_METHOD="github.com";ol.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV="http://localhost";class om extends Tm{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return yc(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,yc(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yc(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,pendingToken:l}=t;return!i||!o||!l||i!==o?null:new om(i,l)}static _create(e,t){return new om(e,t)}buildRequest(){return{requestUri:KV,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV="saml.";class vb extends kc{constructor(e){Ce(e.startsWith(WV),"argument-error"),super(e)}static credentialFromResult(e){return vb.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return vb.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=om.fromJSON(e);return Ce(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:i}=e;if(!t||!i)return null;try{return om._create(i,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends Sm{constructor(){super("twitter.com")}static credential(e,t){return gl._fromParams({providerId:al.PROVIDER_ID,signInMethod:al.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return al.credentialFromTaggedObject(e)}static credentialFromError(e){return al.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return al.credential(t,i)}catch{return null}}}al.TWITTER_SIGN_IN_METHOD="twitter.com";al.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(n,e){return Ic(n,"POST","/v1/accounts:signUp",ai(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await gc._fromIdTokenResponse(e,i,o),d=ax(i);return new ko({user:l,providerId:d,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=ax(i);return new ko({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function ax(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YV(n){var e;if(ri(n.app))return Promise.reject(Ji(n));const t=si(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new ko({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await BR(t,{returnSecureToken:!0}),o=await ko._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb extends rs{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,yb.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new yb(e,t,i,o)}}function FR(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?yb._fromErrorAndOperation(n,l,e,i):l})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XV(n,e){const t=lt(n);await Wb(!0,t,e);const{providerUserInfo:i}=await nV(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),o=zR(i||[]);return t.providerData=t.providerData.filter(l=>o.has(l.providerId)),o.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function TE(n,e,t=!1){const i=await xc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ko._forOperation(n,"link",i)}async function Wb(n,e,t){await Yv(e);const i=zR(e.providerData),o=n===!1?"provider-already-linked":"no-such-provider";Ce(i.has(t)===n,e.auth,o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(n,e,t=!1){const{auth:i}=n;if(ri(i.app))return Promise.reject(Ji(i));const o="reauthenticate";try{const l=await xc(n,FR(i,o,e,n),t);Ce(l.idToken,i,"internal-error");const d=Gb(l.idToken);Ce(d,i,"internal-error");const{sub:p}=d;return Ce(n.uid===p,i,"user-mismatch"),ko._forOperation(n,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Zi(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(n,e,t=!1){if(ri(n.app))return Promise.reject(Ji(n));const i="signIn",o=await FR(n,i,e),l=await ko._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}async function Yb(n,e){return qR(si(n),e)}async function GR(n,e){const t=lt(n);return await Wb(!1,t,e.providerId),TE(t,e)}async function $R(n,e){return HR(lt(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QV(n,e){return Ic(n,"POST","/v1/accounts:signInWithCustomToken",ai(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(n,e){if(ri(n.app))return Promise.reject(Ji(n));const t=si(n),i=await QV(t,{token:e,returnSecureToken:!0}),o=await ko._fromIdTokenResponse(t,"signIn",i);return await t._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?SE._fromServerResponse(e,t):"totpInfo"in t?xE._fromServerResponse(e,t):Zi(e,"internal-error")}}class SE extends wy{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new SE(t)}}class xE extends wy{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new xE(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(n,e,t){var i;Ce(((i=t.url)===null||i===void 0?void 0:i.length)>0,n,"invalid-continue-uri"),Ce(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(Ce(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(Ce(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AE(n){const e=si(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZV(n,e,t){const i=si(n),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Xb(i,o,t),await Xv(i,o,"getOobCode",DV)}async function e6(n,e,t){await UR(lt(n),{oobCode:e,newPassword:t}).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&AE(n),i})}async function t6(n,e){await NV(lt(n),{oobCode:e})}async function KR(n,e){const t=lt(n),i=await UR(t,{oobCode:e}),o=i.requestType;switch(Ce(o,t,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ce(i.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ce(i.mfaInfo,t,"internal-error");default:Ce(i.email,t,"internal-error")}let l=null;return i.mfaInfo&&(l=wy._fromServerResponse(si(t),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:l},operation:o}}async function n6(n,e){const{data:t}=await KR(lt(n),e);return t.email}async function i6(n,e,t){if(ri(n.app))return Promise.reject(Ji(n));const i=si(n),d=await Xv(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BR).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&AE(n),m}),p=await ko._fromIdTokenResponse(i,"signIn",d);return await i._updateCurrentUser(p.user),p}function r6(n,e,t){return ri(n.app)?Promise.reject(Ji(n)):Yb(lt(n),fd.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&AE(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s6(n,e,t){const i=si(n),o={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function l(d,p){Ce(p.handleCodeInApp,i,"argument-error"),p&&Xb(i,d,p)}l(o,t),await Xv(i,o,"getOobCode",OV)}function o6(n,e){const t=Kb.parseLink(e);return t?.operation==="EMAIL_SIGNIN"}async function a6(n,e,t){if(ri(n.app))return Promise.reject(Ji(n));const i=lt(n),o=fd.credentialWithLink(e,t||Wv());return Ce(o._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Yb(i,o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(n,e){return li(n,"POST","/v1/accounts:createAuthUri",ai(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c6(n,e){const t=wE()?Wv():"http://localhost",i={identifier:e,continueUri:t},{signinMethods:o}=await l6(lt(n),i);return o||[]}async function u6(n,e){const t=lt(n),o={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&Xb(t.auth,o,e);const{email:l}=await PV(t.auth,o);l!==n.email&&await n.reload()}async function d6(n,e,t){const i=lt(n),l={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&Xb(i.auth,l,t);const{email:d}=await LV(i.auth,l);d!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h6(n,e){return li(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f6(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=lt(n),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},d=await xc(i,h6(i.auth,l));i.displayName=d.displayName||null,i.photoURL=d.photoUrl||null;const p=i.providerData.find(({providerId:m})=>m==="password");p&&(p.displayName=i.displayName,p.photoURL=i.photoURL),await i._updateTokensIfNecessary(d)}function p6(n,e){const t=lt(n);return ri(t.auth.app)?Promise.reject(Ji(t.auth)):WR(t,e,null)}function m6(n,e){return WR(lt(n),null,e)}async function WR(n,e,t){const{auth:i}=n,l={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(l.email=e),t&&(l.password=t);const d=await xc(n,IV(i,l));await n._updateTokensIfNecessary(d,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(n){var e,t;if(!n)return null;const{providerId:i}=n,o=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},l=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!i&&n?.idToken){const d=(t=(e=Gb(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(d){const p=d!=="anonymous"&&d!=="custom"?d:null;return new Zp(l,p)}}if(!i)return null;switch(i){case"facebook.com":return new v6(l,o);case"github.com":return new y6(l,o);case"google.com":return new b6(l,o);case"twitter.com":return new w6(l,o,n.screenName||null);case"custom":case"anonymous":return new Zp(l,null);default:return new Zp(l,i,o)}}class Zp{constructor(e,t,i={}){this.isNewUser=e,this.providerId=t,this.profile=i}}class YR extends Zp{constructor(e,t,i,o){super(e,t,i),this.username=o}}class v6 extends Zp{constructor(e,t){super(e,"facebook.com",t)}}class y6 extends YR{constructor(e,t){super(e,"github.com",t,typeof t?.login=="string"?t?.login:null)}}class b6 extends Zp{constructor(e,t){super(e,"google.com",t)}}class w6 extends YR{constructor(e,t,i){super(e,"twitter.com",t,i)}}function _6(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:g6(t)}function E6(n,e,t,i){return lt(n).onIdTokenChanged(e,t,i)}function T6(n,e,t){return lt(n).beforeAuthStateChanged(e,t)}function S6(n,e,t,i){return lt(n).onAuthStateChanged(e,t,i)}function x6(n){return lt(n).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t,i){this.type=e,this.credential=t,this.user=i}static _fromIdtoken(e,t){return new Uh("enroll",e,t)}static _fromMfaPendingCredential(e){return new Uh("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,i;if(e?.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return Uh._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((i=e.multiFactorSession)===null||i===void 0)&&i.idToken)return Uh._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,t,i){this.session=e,this.hints=t,this.signInResolver=i}static _fromError(e,t){const i=si(e),o=t.customData._serverResponse,l=(o.mfaInfo||[]).map(p=>wy._fromServerResponse(i,p));Ce(o.mfaPendingCredential,i,"internal-error");const d=Uh._fromMfaPendingCredential(o.mfaPendingCredential);return new CE(d,l,async p=>{const m=await p._process(i,d);delete o.mfaInfo,delete o.mfaPendingCredential;const v=Object.assign(Object.assign({},o),{idToken:m.idToken,refreshToken:m.refreshToken});switch(t.operationType){case"signIn":const w=await ko._fromIdTokenResponse(i,t.operationType,v);return await i._updateCurrentUser(w.user),w;case"reauthenticate":return Ce(t.user,i,"internal-error"),ko._forOperation(t.user,t.operationType,v);default:Zi(i,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function A6(n,e){var t;const i=lt(n),o=e;return Ce(e.customData.operationType,i,"argument-error"),Ce((t=o.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,i,"argument-error"),CE._fromError(i,o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(n,e){return li(n,"POST","/v2/accounts/mfaEnrollment:start",ai(n,e))}function R6(n,e){return li(n,"POST","/v2/accounts/mfaEnrollment:finalize",ai(n,e))}function I6(n,e){return li(n,"POST","/v2/accounts/mfaEnrollment:withdraw",ai(n,e))}class RE{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(i=>wy._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new RE(e)}async getSession(){return Uh._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const i=e,o=await this.getSession(),l=await xc(this.user,i._process(this.user.auth,o,t));return await this.user._updateTokensIfNecessary(l),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,i=await this.user.getIdToken();try{const o=await xc(this.user,I6(this.user.auth,{idToken:i,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:l})=>l!==t),await this.user._updateTokensIfNecessary(o),await this.user.reload()}catch(o){throw o}}}const a1=new WeakMap;function k6(n){const e=lt(n);return a1.has(e)||a1.set(e,RE._fromUser(e)),a1.get(e)}const bb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(bb,"1"),this.storage.removeItem(bb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=1e3,M6=10;class QR extends XR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,p,m)=>{this.notifyListeners(d,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(i);!t&&this.localCache[i]===d||this.notifyListeners(i,d)},l=this.storage.getItem(i);hV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,M6):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},N6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}QR.type="LOCAL";const Qb=QR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR extends XR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}JR.type="SESSION";const id=JR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Jb(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,d=this.handlersMap[o];if(!d?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const p=Array.from(d).map(async v=>v(t.origin,l)),m=await P6(p);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,d;return new Promise((p,m)=>{const v=_y("",20);o.port1.start();const w=setTimeout(()=>{m(new Error("unsupported_event"))},i);d={messageChannel:o,onMessage(T){const C=T;if(C.data.eventId===v)switch(C.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(C.data.response);break;default:clearTimeout(w),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(){return window}function O6(n){Ri().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function L6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j6(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function V6(){return IE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="firebaseLocalStorageDb",U6=1,wb="firebaseLocalStorage",eI="fbase_key";class Ey{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Zb(n,e){return n.transaction([wb],e?"readwrite":"readonly").objectStore(wb)}function B6(){const n=indexedDB.deleteDatabase(ZR);return new Ey(n).toPromise()}function $1(){const n=indexedDB.open(ZR,U6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(wb,{keyPath:eI})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(wb)?e(i):(i.close(),await B6(),e(await $1()))})})}async function lx(n,e,t){const i=Zb(n,!0).put({[eI]:e,value:t});return new Ey(i).toPromise()}async function F6(n,e){const t=Zb(n,!1).get(e),i=await new Ey(t).toPromise();return i===void 0?null:i.value}function cx(n,e){const t=Zb(n,!0).delete(e);return new Ey(t).toPromise()}const z6=800,H6=3;class tI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>H6)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jb._getInstance(V6()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await L6(),!this.activeServiceWorker)return;this.sender=new D6(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||j6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $1();return await lx(e,bb,"1"),await cx(e,bb),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>lx(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>F6(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>cx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Zb(o,!1).getAll();return new Ey(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),z6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tI.type="LOCAL";const am=tI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(n,e){return li(n,"POST","/v2/accounts/mfaSignIn:start",ai(n,e))}function G6(n,e){return li(n,"POST","/v2/accounts/mfaSignIn:finalize",ai(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=500,K6=6e4,N0=1e12;class W6{constructor(e){this.auth=e,this.counter=N0,this._widgets=new Map}render(e,t){const i=this.counter;return this._widgets.set(i,new Y6(e,this.auth.name,t||{})),this.counter++,i}reset(e){var t;const i=e||N0;(t=this._widgets.get(i))===null||t===void 0||t.delete(),this._widgets.delete(i)}getResponse(e){var t;const i=e||N0;return((t=this._widgets.get(i))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const i=e||N0;return(t=this._widgets.get(i))===null||t===void 0||t.execute(),""}}class Y6{constructor(e,t,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const o=typeof e=="string"?document.getElementById(e):e;Ce(o,"argument-error",{appName:t}),this.container=o,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=X6(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},K6)},$6))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function X6(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<n;i++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=LR("rcb"),Q6=new gy(3e4,6e4);class J6{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Ri().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return Ce(Z6(t),e,"argument-error"),this.shouldResolveImmediately(t)&&ZS(Ri().grecaptcha)?Promise.resolve(Ri().grecaptcha):new Promise((i,o)=>{const l=Ri().setTimeout(()=>{o(Ui(e,"network-request-failed"))},Q6.get());Ri()[l1]=()=>{Ri().clearTimeout(l),delete Ri()[l1];const p=Ri().grecaptcha;if(!p||!ZS(p)){o(Ui(e,"internal-error"));return}const m=p.render;p.render=(v,w)=>{const T=m(v,w);return this.counter++,T},this.hostLanguage=t,i(p)};const d=`${bV()}?${wm({onload:l1,render:"explicit",hl:t})}`;EE(d).catch(()=>{clearTimeout(l),o(Ui(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=Ri().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Z6(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class e5{async load(e){return new W6(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="recaptcha",t5={theme:"light",type:"image"};let n5=class{constructor(e,t,i=Object.assign({},t5)){this.parameters=i,this.type=nI,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=si(e),this.isInvisible=this.parameters.size==="invisible",Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const o=typeof t=="string"?document.getElementById(t):t;Ce(o,this.auth,"argument-error"),this.container=o,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new e5:new J6,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),i=t.getResponse(e);return i||new Promise(o=>{const l=d=>{d&&(this.tokenChangeListeners.delete(l),o(d))};this.tokenChangeListeners.add(l),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(i=>i(t)),typeof e=="function")e(t);else if(typeof e=="string"){const i=Ri()[e];typeof i=="function"&&i(t)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Ce(wE()&&!IE(),this.auth,"internal-error"),await i5(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Zj(this.auth);Ce(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function i5(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Hh._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function r5(n,e,t){if(ri(n.app))return Promise.reject(Ji(n));const i=si(n),o=await ew(i,e,lt(t));return new kE(o,l=>Yb(i,l))}async function s5(n,e,t){const i=lt(n);await Wb(!1,i,"phone");const o=await ew(i.auth,e,lt(t));return new kE(o,l=>GR(i,l))}async function o5(n,e,t){const i=lt(n);if(ri(i.auth.app))return Promise.reject(Ji(i.auth));const o=await ew(i.auth,e,lt(t));return new kE(o,l=>$R(i,l))}async function ew(n,e,t){var i;const o=await t.verify();try{Ce(typeof o=="string",n,"argument-error"),Ce(t.type===nI,n,"argument-error");let l;if(typeof e=="string"?l={phoneNumber:e}:l=e,"session"in l){const d=l.session;if("phoneNumber"in l)return Ce(d.type==="enroll",n,"internal-error"),(await C6(n,{idToken:d.credential,phoneEnrollmentInfo:{phoneNumber:l.phoneNumber,recaptchaToken:o}})).phoneSessionInfo.sessionInfo;{Ce(d.type==="signin",n,"internal-error");const p=((i=l.multiFactorHint)===null||i===void 0?void 0:i.uid)||l.multiFactorUid;return Ce(p,n,"missing-multi-factor-info"),(await q6(n,{mfaPendingCredential:d.credential,mfaEnrollmentId:p,phoneSignInInfo:{recaptchaToken:o}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:d}=await BV(n,{phoneNumber:l.phoneNumber,recaptchaToken:o});return d}}finally{t._reset()}}async function a5(n,e){const t=lt(n);if(ri(t.auth.app))return Promise.reject(Ji(t.auth));await TE(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh=class K0{constructor(e){this.providerId=K0.PROVIDER_ID,this.auth=si(e)}verifyPhoneNumber(e,t){return ew(this.auth,e,lt(t))}static credential(e,t){return Hh._fromVerification(e,t)}static credentialFromResult(e){const t=e;return K0.credentialFromTaggedObject(t)}static credentialFromError(e){return K0.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:i}=e;return t&&i?Hh._fromTokenResponse(t,i):null}};Wh.PROVIDER_ID="phone";Wh.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(n,e){return e?qs(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE extends Tm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return yc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return yc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function l5(n){return qR(n.auth,new NE(n),n.bypassAuthState)}function c5(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),HR(t,new NE(n),n.bypassAuthState)}async function u5(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),TE(t,new NE(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:d,type:p}=e;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return l5;case"linkViaPopup":case"linkViaRedirect":return u5;case"reauthViaPopup":case"reauthViaRedirect":return c5;default:Zi(this.auth,"internal-error")}}resolve(e){ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5=new gy(2e3,1e4);async function h5(n,e,t){if(ri(n.app))return Promise.reject(Ui(n,"operation-not-supported-in-this-environment"));const i=si(n);Em(n,e,kc);const o=rf(i,t);return new vc(i,"signInViaPopup",e,o).executeNotNull()}async function f5(n,e,t){const i=lt(n);if(ri(i.auth.app))return Promise.reject(Ui(i.auth,"operation-not-supported-in-this-environment"));Em(i.auth,e,kc);const o=rf(i.auth,t);return new vc(i.auth,"reauthViaPopup",e,o,i).executeNotNull()}async function p5(n,e,t){const i=lt(n);Em(i.auth,e,kc);const o=rf(i.auth,t);return new vc(i.auth,"linkViaPopup",e,o,i).executeNotNull()}class vc extends iI{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,vc.currentPopupAction&&vc.currentPopupAction.cancel(),vc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){ma(this.filter.length===1,"Popup operations only handle one event");const e=_y();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,d5.get())};e()}}vc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5="pendingRedirect",Nv=new Map;class g5 extends iI{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Nv.get(this.auth._key());if(!e){try{const i=await v5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Nv.set(this.auth._key(),e)}return this.bypassAuthState||Nv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function v5(n,e){const t=sI(e),i=rI(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}async function ME(n,e){return rI(n)._set(sI(e),"true")}function y5(){Nv.clear()}function PE(n,e){Nv.set(n._key(),e)}function rI(n){return qs(n._redirectPersistence)}function sI(n){return zh(m5,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(n,e,t){return w5(n,e,t)}async function w5(n,e,t){if(ri(n.app))return Promise.reject(Ji(n));const i=si(n);Em(n,e,kc),await i._initializationPromise;const o=rf(i,t);return await ME(o,i),o._openRedirect(i,e,"signInViaRedirect")}function _5(n,e,t){return E5(n,e,t)}async function E5(n,e,t){const i=lt(n);if(Em(i.auth,e,kc),ri(i.auth.app))return Promise.reject(Ji(i.auth));await i.auth._initializationPromise;const o=rf(i.auth,t);await ME(o,i.auth);const l=await oI(i);return o._openRedirect(i.auth,e,"reauthViaRedirect",l)}function T5(n,e,t){return S5(n,e,t)}async function S5(n,e,t){const i=lt(n);Em(i.auth,e,kc),await i.auth._initializationPromise;const o=rf(i.auth,t);await Wb(!1,i,e.providerId),await ME(o,i.auth);const l=await oI(i);return o._openRedirect(i.auth,e,"linkViaRedirect",l)}async function x5(n,e){return await si(n)._initializationPromise,tw(n,e,!1)}async function tw(n,e,t=!1){if(ri(n.app))return Promise.reject(Ji(n));const i=si(n),o=rf(i,e),d=await new g5(i,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await i._persistUserIfCurrent(d.user),await i._setRedirectUser(null,e)),d}async function oI(n){const e=_y(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=600*1e3;class aI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!C5(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!lI(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Ui(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=A5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ux(e))}saveEventToCache(e){this.cachedEventUids.add(ux(e)),this.lastProcessedEventTime=Date.now()}}function ux(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function lI({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function C5(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lI(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(n,e={}){return li(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I5=/^https?/;async function k5(n){if(n.config.emulator)return;const{authorizedDomains:e}=await cI(n);for(const t of e)try{if(N5(t))return}catch{}Zi(n,"unauthorized-domain")}function N5(n){const e=Wv(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===i}if(!I5.test(t))return!1;if(R5.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=new gy(3e4,6e4);function dx(){const n=Ri().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function P5(n){return new Promise((e,t)=>{var i,o,l;function d(){dx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dx(),t(Ui(n,"network-request-failed"))},timeout:M5.get()})}if(!((o=(i=Ri().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Ri().gapi)===null||l===void 0)&&l.load)d();else{const p=LR("iframefcb");return Ri()[p]=()=>{gapi.load?d():t(Ui(n,"network-request-failed"))},EE(`${_V()}?onload=${p}`).catch(m=>t(m))}}).catch(e=>{throw W0=null,e})}let W0=null;function D5(n){return W0=W0||P5(n),W0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=new gy(5e3,15e3),L5="__/auth/iframe",j5="emulator/auth/iframe",V5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},U5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function B5(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?_E(e,j5):`https://${n.config.authDomain}/${L5}`,i={apiKey:e.apiKey,appName:n.name,v:hd},o=U5.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${wm(i).slice(1)}`}async function F5(n){const e=await D5(n),t=Ri().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:B5(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V5,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const d=Ui(n,"network-request-failed"),p=Ri().setTimeout(()=>{l(d)},O5.get());function m(){Ri().clearTimeout(p),o(i)}i.ping(m).then(m,()=>{l(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H5=500,q5=600,G5="_blank",$5="http://localhost";class hx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K5(n,e,t,i=H5,o=q5){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const m=Object.assign(Object.assign({},z5),{width:i.toString(),height:o.toString(),top:l,left:d}),v=Ni().toLowerCase();t&&(p=kR(v)?G5:t),RR(v)&&(e=e||$5,m.scrollbars="yes");const w=Object.entries(m).reduce((C,[N,O])=>`${C}${N}=${O},`,"");if(dV(v)&&p!=="_self")return W5(e||"",p),new hx(null);const T=window.open(e||"",p,w);Ce(T,n,"popup-blocked");try{T.focus()}catch{}return new hx(T)}function W5(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5="__/auth/handler",X5="emulator/auth/handler",Q5=encodeURIComponent("fac");async function K1(n,e,t,i,o,l){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:hd,eventId:o};if(e instanceof kc){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",bL(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,T]of Object.entries(l||{}))d[w]=T}if(e instanceof Sm){const w=e.getScopes().filter(T=>T!=="");w.length>0&&(d.scopes=w.join(","))}n.tenantId&&(d.tid=n.tenantId);const p=d;for(const w of Object.keys(p))p[w]===void 0&&delete p[w];const m=await n._getAppCheckToken(),v=m?`#${Q5}=${encodeURIComponent(m)}`:"";return`${J5(n)}?${wm(p).slice(1)}${v}`}function J5({config:n}){return n.emulator?_E(n,X5):`https://${n.authDomain}/${Y5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="webStorageSupport";class Z5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=id,this._completeRedirectFn=tw,this._overrideRedirectResult=PE}async _openPopup(e,t,i,o){var l;ma((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const d=await K1(e,t,i,Wv(),o);return K5(e,d,_y())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await K1(e,t,i,Wv(),o);return O6(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(ma(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await F5(e),i=new aI(e);return t.register("authEvent",o=>(Ce(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(c1,{type:c1},o=>{var l;const d=(l=o?.[0])===null||l===void 0?void 0:l[c1];d!==void 0&&t(!!d),Zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=k5(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return DR()||IR()||yy()}}const uI=Z5;class eU{constructor(e){this.factorId=e}_process(e,t,i){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,i);case"signin":return this._finalizeSignIn(e,t.credential);default:return ll("unexpected MultiFactorSessionType")}}}class DE extends eU{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new DE(e)}_finalizeEnroll(e,t,i){return R6(e,{idToken:t,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return G6(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class dI{constructor(){}static assertion(e){return DE._fromCredential(e)}}dI.FACTOR_ID="phone";var fx="@firebase/auth",px="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iU(n){Sc(new ml("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=i.options;Ce(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:d,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OR(n)},v=new vV(i,o,l,m);return AV(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Sc(new ml("auth-internal",e=>{const t=si(e.getProvider("auth").getImmediate());return(i=>new tU(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),bs(fx,px,nU(n)),bs(fx,px,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU=300,sU=iR("authIdTokenMaxAge")||rU;let mx=null;const oU=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>sU)return;const o=t?.token;mx!==o&&(mx=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function aU(n=qb()){const e=_m(n,"auth");if(e.isInitialized())return e.getImmediate();const t=xV(n,{popupRedirectResolver:uI,persistence:[am,Qb,id]}),i=iR("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const d=oU(l.toString());T6(t,d,()=>d(t.currentUser)),E6(t,p=>d(p))}}const o=eR("auth");return o&&jR(t,`http://${o}`),t}function lU(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}yV({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=Ui("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",lU().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iU("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=2e3;async function uU(n,e,t){var i;const{BuildInfo:o}=Yh();ma(e.sessionId,"AuthEvent did not contain a session ID");const l=await mU(e.sessionId),d={};return yy()?d.ibi=o.packageName:vy()?d.apn=o.packageName:Zi(n,"operation-not-supported-in-this-environment"),o.displayName&&(d.appDisplayName=o.displayName),d.sessionId=l,K1(n,t,e.type,void 0,(i=e.eventId)!==null&&i!==void 0?i:void 0,d)}async function dU(n){const{BuildInfo:e}=Yh(),t={};yy()?t.iosBundleId=e.packageName:vy()?t.androidPackageName=e.packageName:Zi(n,"operation-not-supported-in-this-environment"),await cI(n,t)}function hU(n){const{cordova:e}=Yh();return new Promise(t=>{e.plugins.browsertab.isAvailable(i=>{let o=null;i?e.plugins.browsertab.openUrl(n):o=e.InAppBrowser.open(n,uV()?"_blank":"_system","location=yes"),t(o)})})}async function fU(n,e,t){const{cordova:i}=Yh();let o=()=>{};try{await new Promise((l,d)=>{let p=null;function m(){var T;l();const C=(T=i.plugins.browsertab)===null||T===void 0?void 0:T.close;typeof C=="function"&&C(),typeof t?.close=="function"&&t.close()}function v(){p||(p=window.setTimeout(()=>{d(Ui(n,"redirect-cancelled-by-user"))},cU))}function w(){document?.visibilityState==="visible"&&v()}e.addPassiveListener(m),document.addEventListener("resume",v,!1),vy()&&document.addEventListener("visibilitychange",w,!1),o=()=>{e.removePassiveListener(m),document.removeEventListener("resume",v,!1),document.removeEventListener("visibilitychange",w,!1),p&&window.clearTimeout(p)}})}finally{o()}}function pU(n){var e,t,i,o,l,d,p,m,v,w;const T=Yh();Ce(typeof((e=T?.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ce(typeof((t=T?.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ce(typeof((l=(o=(i=T?.cordova)===null||i===void 0?void 0:i.plugins)===null||o===void 0?void 0:o.browsertab)===null||l===void 0?void 0:l.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ce(typeof((m=(p=(d=T?.cordova)===null||d===void 0?void 0:d.plugins)===null||p===void 0?void 0:p.browsertab)===null||m===void 0?void 0:m.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ce(typeof((w=(v=T?.cordova)===null||v===void 0?void 0:v.InAppBrowser)===null||w===void 0?void 0:w.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function mU(n){const e=gU(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(o=>o.toString(16).padStart(2,"0")).join("")}function gU(n){if(ma(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let i=0;i<n.length;i++)t[i]=n.charCodeAt(i);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=20;class yU extends aI{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function bU(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:EU(),postBody:null,tenantId:n.tenantId,error:Ui(n,"no-auth-event")}}function wU(n,e){return W1()._set(Y1(n),e)}async function gx(n){const e=await W1()._get(Y1(n));return e&&await W1()._remove(Y1(n)),e}function _U(n,e){var t,i;const o=SU(e);if(o.includes("/__/auth/callback")){const l=Y0(o),d=l.firebaseError?TU(decodeURIComponent(l.firebaseError)):null,p=(i=(t=d?.code)===null||t===void 0?void 0:t.split("auth/"))===null||i===void 0?void 0:i[1],m=p?Ui(p):null;return m?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:m,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:o,postBody:null}}return null}function EU(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<vU;t++){const i=Math.floor(Math.random()*e.length);n.push(e.charAt(i))}return n.join("")}function W1(){return qs(Qb)}function Y1(n){return zh("authEvent",n.config.apiKey,n.name)}function TU(n){try{return JSON.parse(n)}catch{return null}}function SU(n){const e=Y0(n),t=e.link?decodeURIComponent(e.link):void 0,i=Y0(t).link,o=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Y0(o).link||o||i||t||n}function Y0(n){if(!n?.includes("?"))return{};const[e,...t]=n.split("?");return zp(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU=500;class AU{constructor(){this._redirectPersistence=id,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=tw,this._overrideRedirectResult=PE}async _initialize(e){const t=e._key();let i=this.eventManagers.get(t);return i||(i=new yU(e),this.eventManagers.set(t,i),this.attachCallbackListeners(e,i)),i}_openPopup(e){Zi(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,i,o){pU(e);const l=await this._initialize(e);await l.initialized(),l.resetRedirect(),y5(),await this._originValidation(e);const d=bU(e,i,o);await wU(e,d);const p=await uU(e,d,t),m=await hU(p);return fU(e,l,m)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=dU(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:i,handleOpenURL:o,BuildInfo:l}=Yh(),d=setTimeout(async()=>{await gx(e),t.onEvent(vx())},xU),p=async w=>{clearTimeout(d);const T=await gx(e);let C=null;T&&w?.url&&(C=_U(T,w.url)),t.onEvent(C||vx())};typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,p);const m=o,v=`${l.packageName.toLowerCase()}://`;Yh().handleOpenURL=async w=>{if(w.toLowerCase().startsWith(v)&&p({url:w}),typeof m=="function")try{m(w)}catch(T){console.error(T)}}}}const CU=AU;function vx(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ui("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(n,e){si(n)._logFramework(e)}var IU="@firebase/auth-compat",kU="0.5.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU=1e3;function Mv(){var n;return((n=self?.location)===null||n===void 0?void 0:n.protocol)||null}function MU(){return Mv()==="http:"||Mv()==="https:"}function hI(n=Ni()){return!!((Mv()==="file:"||Mv()==="ionic:"||Mv()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function PU(){return pE()||fE()}function DU(){return oR()&&document?.documentMode===11}function OU(n=Ni()){return/Edge\/\d+/.test(n)}function LU(n=Ni()){return DU()||OU(n)}function fI(){try{const n=self.localStorage,e=_y();if(n)return n.setItem(e,"1"),n.removeItem(e),LU()?fb():!0}catch{return OE()&&fb()}return!1}function OE(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function u1(){return(MU()||sR()||hI())&&!PU()&&fI()&&!OE()}function pI(){return hI()&&typeof document<"u"}async function jU(){return pI()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},NU);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function VU(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs={LOCAL:"local",NONE:"none",SESSION:"session"},pv=Ce,mI="persistence";function UU(n,e){if(pv(Object.values(Hs).includes(e),n,"invalid-persistence-type"),pE()){pv(e!==Hs.SESSION,n,"unsupported-persistence-type");return}if(fE()){pv(e===Hs.NONE,n,"unsupported-persistence-type");return}if(OE()){pv(e===Hs.NONE||e===Hs.LOCAL&&fb(),n,"unsupported-persistence-type");return}pv(e===Hs.NONE||fI(),n,"unsupported-persistence-type")}async function X1(n){await n._initializationPromise;const e=gI(),t=zh(mI,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}function BU(n,e){const t=gI();if(!t)return[];const i=zh(mI,n,e);switch(t.getItem(i)){case Hs.NONE:return[sm];case Hs.LOCAL:return[am,id];case Hs.SESSION:return[id];default:return[]}}function gI(){var n;try{return((n=VU())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=Ce;class Xu{constructor(){this.browserResolver=qs(uI),this.cordovaResolver=qs(CU),this.underlyingResolver=null,this._redirectPersistence=id,this._completeRedirectFn=tw,this._overrideRedirectResult=PE}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,i,o){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,i,o)}async _openRedirect(e,t,i,o){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,i,o)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return pI()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return FU(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await jU();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(n){return n.unwrap()}function zU(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(n){return yI(n)}function qU(n,e){var t;const i=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if(e?.code==="auth/multi-factor-auth-required"){const o=e;o.resolver=new GU(n,A6(n,e))}else if(i){const o=yI(e),l=e;o&&(l.credential=o,l.tenantId=i.tenantId||void 0,l.email=i.email||void 0,l.phoneNumber=i.phoneNumber||void 0)}}function yI(n){const{_tokenResponse:e}=n instanceof rs?n.customData:n;if(!e)return null;if(!(n instanceof rs)&&"temporaryProof"in e&&"phoneNumber"in e)return Wh.credentialFromResult(n);const t=e.providerId;if(!t||t===fv.PASSWORD)return null;let i;switch(t){case fv.GOOGLE:i=ha;break;case fv.FACEBOOK:i=sl;break;case fv.GITHUB:i=ol;break;case fv.TWITTER:i=al;break;default:const{oauthIdToken:o,oauthAccessToken:l,oauthTokenSecret:d,pendingToken:p,nonce:m}=e;return!l&&!d&&!o&&!p?null:p?t.startsWith("saml.")?om._create(t,p):gl._fromParams({providerId:t,signInMethod:t,pendingToken:p,idToken:o,accessToken:l}):new Jp(t).credential({idToken:o,accessToken:l,rawNonce:m})}return n instanceof rs?i.credentialFromError(n):i.credentialFromResult(n)}function ys(n,e){return e.catch(t=>{throw t instanceof rs&&qU(n,t),t}).then(t=>{const i=t.operationType,o=t.user;return{operationType:i,credential:HU(t),additionalUserInfo:_6(t),user:nw.getOrCreate(o)}})}async function Q1(n,e){const t=await e;return{verificationId:t.verificationId,confirm:i=>ys(n,t.confirm(i))}}class GU{constructor(e,t){this.resolver=t,this.auth=zU(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ys(vI(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nw=class _v{constructor(e){this._delegate=e,this.multiFactor=k6(e)}static getOrCreate(e){return _v.USER_MAP.has(e)||_v.USER_MAP.set(e,new _v(e)),_v.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ys(this.auth,GR(this._delegate,e))}async linkWithPhoneNumber(e,t){return Q1(this.auth,s5(this._delegate,e,t))}async linkWithPopup(e){return ys(this.auth,p5(this._delegate,e,Xu))}async linkWithRedirect(e){return await X1(si(this.auth)),T5(this._delegate,e,Xu)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ys(this.auth,$R(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Q1(this.auth,o5(this._delegate,e,t))}reauthenticateWithPopup(e){return ys(this.auth,f5(this._delegate,e,Xu))}async reauthenticateWithRedirect(e){return await X1(si(this.auth)),_5(this._delegate,e,Xu)}sendEmailVerification(e){return u6(this._delegate,e)}async unlink(e){return await XV(this._delegate,e),this}updateEmail(e){return p6(this._delegate,e)}updatePassword(e){return m6(this._delegate,e)}updatePhoneNumber(e){return a5(this._delegate,e)}updateProfile(e){return f6(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return d6(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};nw.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=Ce;class J1{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:i}=e.options;mv(i,"invalid-api-key",{appName:e.name}),mv(i,"invalid-api-key",{appName:e.name});const o=typeof window<"u"?Xu:void 0;this._delegate=t.initialize({options:{persistence:$U(i,e.name),popupRedirectResolver:o}}),this._delegate._updateErrorMap(Hj),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?nw.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){jR(this._delegate,e,t)}applyActionCode(e){return t6(this._delegate,e)}checkActionCode(e){return KR(this._delegate,e)}confirmPasswordReset(e,t){return e6(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return ys(this._delegate,i6(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return c6(this._delegate,e)}isSignInWithEmailLink(e){return o6(this._delegate,e)}async getRedirectResult(){mv(u1(),this._delegate,"operation-not-supported-in-this-environment");const e=await x5(this._delegate,Xu);return e?ys(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){RU(this._delegate,e)}onAuthStateChanged(e,t,i){const{next:o,error:l,complete:d}=yx(e,t,i);return this._delegate.onAuthStateChanged(o,l,d)}onIdTokenChanged(e,t,i){const{next:o,error:l,complete:d}=yx(e,t,i);return this._delegate.onIdTokenChanged(o,l,d)}sendSignInLinkToEmail(e,t){return s6(this._delegate,e,t)}sendPasswordResetEmail(e,t){return ZV(this._delegate,e,t||void 0)}async setPersistence(e){UU(this._delegate,e);let t;switch(e){case Hs.SESSION:t=id;break;case Hs.LOCAL:t=await qs(am)._isAvailable()?am:Qb;break;case Hs.NONE:t=sm;break;default:return Zi("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ys(this._delegate,YV(this._delegate))}signInWithCredential(e){return ys(this._delegate,Yb(this._delegate,e))}signInWithCustomToken(e){return ys(this._delegate,JV(this._delegate,e))}signInWithEmailAndPassword(e,t){return ys(this._delegate,r6(this._delegate,e,t))}signInWithEmailLink(e,t){return ys(this._delegate,a6(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Q1(this._delegate,r5(this._delegate,e,t))}async signInWithPopup(e){return mv(u1(),this._delegate,"operation-not-supported-in-this-environment"),ys(this._delegate,h5(this._delegate,e,Xu))}async signInWithRedirect(e){return mv(u1(),this._delegate,"operation-not-supported-in-this-environment"),await X1(this._delegate),b5(this._delegate,e,Xu)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return n6(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}J1.Persistence=Hs;function yx(n,e,t){let i=n;typeof n!="function"&&({next:i,error:e,complete:t}=n);const o=i;return{next:d=>o(d&&nw.getOrCreate(d)),error:e,complete:t}}function $U(n,e){const t=BU(n,e);if(typeof self<"u"&&!t.includes(am)&&t.push(am),typeof window<"u")for(const i of[Qb,id])t.includes(i)||t.push(i);return t.includes(sm)||t.push(sm),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(){this.providerId="phone",this._delegate=new Wh(vI(qe.auth()))}static credential(e,t){return Wh.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}LE.PHONE_SIGN_IN_METHOD=Wh.PHONE_SIGN_IN_METHOD;LE.PROVIDER_ID=Wh.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=Ce;class WU{constructor(e,t,i=qe.app()){var o;KU((o=i.options)===null||o===void 0?void 0:o.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new n5(i.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU="auth-compat";function XU(n){n.INTERNAL.registerComponent(new ml(YU,e=>{const t=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new J1(t,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Lp.EMAIL_SIGNIN,PASSWORD_RESET:Lp.PASSWORD_RESET,RECOVER_EMAIL:Lp.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Lp.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Lp.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Lp.VERIFY_EMAIL}},EmailAuthProvider:fd,FacebookAuthProvider:sl,GithubAuthProvider:ol,GoogleAuthProvider:ha,OAuthProvider:Jp,SAMLAuthProvider:vb,PhoneAuthProvider:LE,PhoneMultiFactorGenerator:dI,RecaptchaVerifier:WU,TwitterAuthProvider:al,Auth:J1,AuthCredential:Tm,Error:rs}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(IU,kU)}XU(qe);var d1={exports:{}},bx;function QU(){return bx||(bx=1,function(n){(function(){var e=window.CustomEvent;(!e||typeof e=="object")&&(e=function(k,D){D=D||{};var z=document.createEvent("CustomEvent");return z.initCustomEvent(k,!!D.bubbles,!!D.cancelable,D.detail||null),z},e.prototype=window.Event.prototype);function t(I){for(;I&&I!==document.body;){var k=window.getComputedStyle(I),D=function(z,K){return!(k[z]===void 0||k[z]===K)};if(k.opacity<1||D("zIndex","auto")||D("transform","none")||D("mixBlendMode","normal")||D("filter","none")||D("perspective","none")||k.isolation==="isolate"||k.position==="fixed"||k.webkitOverflowScrolling==="touch")return!0;I=I.parentElement}return!1}function i(I){for(;I;){if(I.localName==="dialog")return I;I=I.parentElement}return null}function o(I){I&&I.blur&&I!==document.body&&I.blur()}function l(I,k){for(var D=0;D<I.length;++D)if(I[D]===k)return!0;return!1}function d(I){return!I||!I.hasAttribute("method")?!1:I.getAttribute("method").toLowerCase()==="dialog"}function p(I){if(this.dialog_=I,this.replacedStyleTop_=!1,this.openAsModal_=!1,I.hasAttribute("role")||I.setAttribute("role","dialog"),I.show=this.show.bind(this),I.showModal=this.showModal.bind(this),I.close=this.close.bind(this),"returnValue"in I||(I.returnValue=""),"MutationObserver"in window){var k=new MutationObserver(this.maybeHideModal.bind(this));k.observe(I,{attributes:!0,attributeFilter:["open"]})}else{var D=!1,z=(function(){D?this.downgradeModal():this.maybeHideModal(),D=!1}).bind(this),K,W=function(Y){if(Y.target===I){var Z="DOMNodeRemoved";D|=Y.type.substr(0,Z.length)===Z,window.clearTimeout(K),K=window.setTimeout(z,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(Y){I.addEventListener(Y,W)})}Object.defineProperty(I,"open",{set:this.setOpen.bind(this),get:I.hasAttribute.bind(I,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}p.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),m.dm.removeDialog(this))},setOpen:function(I){I?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(I){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var k=document.createElement("div");this.dialog_.insertBefore(k,this.dialog_.firstChild),k.tabIndex=-1,k.focus(),this.dialog_.removeChild(k)}var D=document.createEvent("MouseEvents");D.initMouseEvent(I.type,I.bubbles,I.cancelable,window,I.detail,I.screenX,I.screenY,I.clientX,I.clientY,I.ctrlKey,I.altKey,I.shiftKey,I.metaKey,I.button,I.relatedTarget),this.dialog_.dispatchEvent(D),I.stopPropagation()},focus_:function(){var I=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!I&&this.dialog_.tabIndex>=0&&(I=this.dialog_),!I){var k=["button","input","keygen","select","textarea"],D=k.map(function(z){return z+":not([disabled])"});D.push('[tabindex]:not([disabled]):not([tabindex=""])'),I=this.dialog_.querySelector(D.join(", "))}o(document.activeElement),I&&I.focus()},updateZIndex:function(I,k){if(I<k)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=I,this.backdrop_.style.zIndex=k},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!m.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");t(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,m.needsCentering(this.dialog_)?(m.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(I){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),I!==void 0&&(this.dialog_.returnValue=I);var k=new e("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(k)}};var m={};if(m.reposition=function(I){var k=document.body.scrollTop||document.documentElement.scrollTop,D=k+(window.innerHeight-I.offsetHeight)/2;I.style.top=Math.max(k,D)+"px"},m.isInlinePositionSetByStylesheet=function(I){for(var k=0;k<document.styleSheets.length;++k){var D=document.styleSheets[k],z=null;try{z=D.cssRules}catch{}if(z)for(var K=0;K<z.length;++K){var W=z[K],Y=null;try{Y=document.querySelectorAll(W.selectorText)}catch{}if(!(!Y||!l(Y,I))){var Z=W.style.getPropertyValue("top"),U=W.style.getPropertyValue("bottom");if(Z&&Z!=="auto"||U&&U!=="auto")return!0}}}return!1},m.needsCentering=function(I){var k=window.getComputedStyle(I);return k.position!=="absolute"||I.style.top!=="auto"&&I.style.top!==""||I.style.bottom!=="auto"&&I.style.bottom!==""?!1:!m.isInlinePositionSetByStylesheet(I)},m.forceRegisterDialog=function(I){if((window.HTMLDialogElement||I.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",I),I.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new p(I)},m.registerDialog=function(I){I.showModal||m.forceRegisterDialog(I)},m.DialogManager=function(){this.pendingDialogStack=[];var I=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(k){this.forwardTab_=void 0,k.stopPropagation(),I([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(k){var D=[];k.forEach(function(z){for(var K=0,W;W=z.removedNodes[K];++K){if(W instanceof Element)W.localName==="dialog"&&D.push(W);else continue;D=D.concat(W.querySelectorAll("dialog"))}}),D.length&&I(D)}))},m.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},m.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},m.DialogManager.prototype.updateStacking=function(){for(var I=this.zIndexHigh_,k=0,D;D=this.pendingDialogStack[k];++k)D.updateZIndex(--I,--I),k===0&&(this.overlay.style.zIndex=--I);var z=this.pendingDialogStack[0];if(z){var K=z.dialog.parentNode||document.body;K.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},m.DialogManager.prototype.containedByTopDialog_=function(I){for(;I=i(I);){for(var k=0,D;D=this.pendingDialogStack[k];++k)if(D.dialog===I)return k===0;I=I.parentElement}return!1},m.DialogManager.prototype.handleFocus_=function(I){if(!this.containedByTopDialog_(I.target)&&(I.preventDefault(),I.stopPropagation(),o(I.target),this.forwardTab_!==void 0)){var k=this.pendingDialogStack[0],D=k.dialog,z=D.compareDocumentPosition(I.target);return z&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?k.focus_():document.documentElement.focus()),!1}},m.DialogManager.prototype.handleKey_=function(I){if(this.forwardTab_=void 0,I.keyCode===27){I.preventDefault(),I.stopPropagation();var k=new e("cancel",{bubbles:!1,cancelable:!0}),D=this.pendingDialogStack[0];D&&D.dialog.dispatchEvent(k)&&D.dialog.close()}else I.keyCode===9&&(this.forwardTab_=!I.shiftKey)},m.DialogManager.prototype.checkDOM_=function(I){var k=this.pendingDialogStack.slice();k.forEach(function(D){I.indexOf(D.dialog)!==-1?D.downgradeModal():D.maybeHideModal()})},m.DialogManager.prototype.pushDialog=function(I){var k=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=k?!1:(this.pendingDialogStack.unshift(I)===1&&this.blockDocument(),this.updateStacking(),!0)},m.DialogManager.prototype.removeDialog=function(I){var k=this.pendingDialogStack.indexOf(I);k!==-1&&(this.pendingDialogStack.splice(k,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())},m.dm=new m.DialogManager,m.formSubmitter=null,m.useValue=null,window.HTMLDialogElement===void 0){var v=document.createElement("form");if(v.setAttribute("method","dialog"),v.method!=="dialog"){var w=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(w){var T=w.get;w.get=function(){return d(this)?"dialog":T.call(this)};var C=w.set;w.set=function(I){return typeof I=="string"&&I.toLowerCase()==="dialog"?this.setAttribute("method",I):C.call(this,I)},Object.defineProperty(HTMLFormElement.prototype,"method",w)}}document.addEventListener("click",function(I){if(m.formSubmitter=null,m.useValue=null,!I.defaultPrevented){var k=I.target;if(!(!k||!d(k.form))){var D=k.type==="submit"&&["button","input"].indexOf(k.localName)>-1;if(!D){if(!(k.localName==="input"&&k.type==="image"))return;m.useValue=I.offsetX+","+I.offsetY}var z=i(k);z&&(m.formSubmitter=k)}}},!1);var N=HTMLFormElement.prototype.submit,O=function(){if(!d(this))return N.call(this);var I=i(this);I&&I.close()};HTMLFormElement.prototype.submit=O,document.addEventListener("submit",function(I){var k=I.target;if(d(k)){I.preventDefault();var D=i(k);if(D){var z=m.formSubmitter;z&&z.form===k?D.close(m.useValue||z.value):D.close(),m.formSubmitter=null}}},!0)}m.forceRegisterDialog=m.forceRegisterDialog,m.registerDialog=m.registerDialog,typeof n.exports=="object"?n.exports=m:window.dialogPolyfill=m})()}(d1)),d1.exports}var JU=QU();const ZU=H_(JU);var wx={};/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _x;function e9(){if(_x)return wx;_x=1;var n={upgradeDom:function(e,t){},upgradeElement:function(e,t){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,t){},register:function(e){},downgradeElements:function(e){}};return n=function(){var e=[],t=[],i="mdlComponentConfigInternal_";function o(k,D){for(var z=0;z<e.length;z++)if(e[z].className===k)return typeof D<"u"&&(e[z]=D),e[z];return!1}function l(k){var D=k.getAttribute("data-upgraded");return D===null?[""]:D.split(",")}function d(k,D){var z=l(k);return z.indexOf(D)!==-1}function p(k,D,z){if("CustomEvent"in window&&typeof window.CustomEvent=="function")return new CustomEvent(k,{bubbles:D,cancelable:z});var K=document.createEvent("Events");return K.initEvent(k,D,z),K}function m(k,D){if(typeof k>"u"&&typeof D>"u")for(var z=0;z<e.length;z++)m(e[z].className,e[z].cssClass);else{var K=k;if(typeof D>"u"){var W=o(K);W&&(D=W.cssClass)}for(var Y=document.querySelectorAll("."+D),Z=0;Z<Y.length;Z++)v(Y[Z],K)}}function v(k,D){if(!(typeof k=="object"&&k instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var z=p("mdl-componentupgrading",!0,!0);if(k.dispatchEvent(z),!z.defaultPrevented){var K=l(k),W=[];if(D)d(k,D)||W.push(o(D));else{var Y=k.classList;e.forEach(function(L){Y.contains(L.cssClass)&&W.indexOf(L)===-1&&!d(k,L.className)&&W.push(L)})}for(var Z=0,U=W.length,V;Z<U;Z++){if(V=W[Z],V){K.push(V.className),k.setAttribute("data-upgraded",K.join(","));var B=new V.classConstructor(k);B[i]=V,t.push(B);for(var $=0,H=V.callbacks.length;$<H;$++)V.callbacks[$](k);V.widget&&(k[V.className]=B)}else throw new Error("Unable to find a registered component for the given class.");var G=p("mdl-componentupgraded",!0,!1);k.dispatchEvent(G)}}}function w(k){Array.isArray(k)||(k instanceof Element?k=[k]:k=Array.prototype.slice.call(k));for(var D=0,z=k.length,K;D<z;D++)K=k[D],K instanceof HTMLElement&&(v(K),K.children.length>0&&w(K.children))}function T(k){var D=typeof k.widget>"u"&&typeof k.widget>"u",z=!0;D||(z=k.widget||k.widget);var K={classConstructor:k.constructor||k.constructor,className:k.classAsString||k.classAsString,cssClass:k.cssClass||k.cssClass,widget:z,callbacks:[]};if(e.forEach(function(Y){if(Y.cssClass===K.cssClass)throw new Error("The provided cssClass has already been registered: "+Y.cssClass);if(Y.className===K.className)throw new Error("The provided className has already been registered")}),k.constructor.prototype.hasOwnProperty(i))throw new Error("MDL component classes must not have "+i+" defined as a property.");var W=o(k.classAsString,K);W||e.push(K)}function C(k,D){var z=o(k);z&&z.callbacks.push(D)}function N(){for(var k=0;k<e.length;k++)m(e[k].className)}function O(k){if(k){var D=t.indexOf(k);t.splice(D,1);var z=k.element_.getAttribute("data-upgraded").split(","),K=z.indexOf(k[i].classAsString);z.splice(K,1),k.element_.setAttribute("data-upgraded",z.join(","));var W=p("mdl-componentdowngraded",!0,!1);k.element_.dispatchEvent(W)}}function I(k){var D=function(K){t.filter(function(W){return W.element_===K}).forEach(O)};if(k instanceof Array||k instanceof NodeList)for(var z=0;z<k.length;z++)D(k[z]);else if(k instanceof Node)D(k);else throw new Error("Invalid argument provided to downgrade MDL nodes.")}return{upgradeDom:m,upgradeElement:v,upgradeElements:w,upgradeAllRegistered:N,registerUpgradedCallback:C,register:T,downgradeElements:I}}(),n.ComponentConfigPublic,n.ComponentConfig,n.Component,n.upgradeDom=n.upgradeDom,n.upgradeElement=n.upgradeElement,n.upgradeElements=n.upgradeElements,n.upgradeAllRegistered=n.upgradeAllRegistered,n.registerUpgradedCallback=n.registerUpgradedCallback,n.register=n.register,n.downgradeElements=n.downgradeElements,window.componentHandler=n,window.componentHandler=n,window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),n.upgradeAllRegistered()):(n.upgradeElement=function(){},n.register=function(){})}),wx}e9();var Ex={};/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tx;function t9(){return Tx||(Tx=1,function(){var n=function(t){this.element_=t,this.init()};window.MaterialButton=n,n.prototype.Constant_={},n.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},n.prototype.blurHandler_=function(e){e&&this.element_.blur()},n.prototype.disable=function(){this.element_.disabled=!0},n.prototype.disable=n.prototype.disable,n.prototype.enable=function(){this.element_.disabled=!1},n.prototype.enable=n.prototype.enable,n.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:n,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})}()),Ex}t9();var Sx={};/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xx;function n9(){return xx||(xx=1,function(){var n=function(t){this.element_=t,this.init()};window.MaterialProgress=n,n.prototype.Constant_={},n.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},n.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},n.prototype.setProgress=n.prototype.setProgress,n.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},n.prototype.setBuffer=n.prototype.setBuffer,n.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:n,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})}()),Sx}n9();var Ax={};/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cx;function i9(){return Cx||(Cx=1,function(){var n=function(t){this.element_=t,this.init()};window.MaterialSpinner=n,n.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},n.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},n.prototype.createLayer=function(e){var t=document.createElement("div");t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var l=document.createElement("div");l.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),l.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var d=[i,o,l],p=0;p<d.length;p++){var m=document.createElement("div");m.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),d[p].appendChild(m)}t.appendChild(i),t.appendChild(o),t.appendChild(l),this.element_.appendChild(t)},n.prototype.createLayer=n.prototype.createLayer,n.prototype.stop=function(){this.element_.classList.remove("is-active")},n.prototype.stop=n.prototype.stop,n.prototype.start=function(){this.element_.classList.add("is-active")},n.prototype.start=n.prototype.start,n.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:n,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})}()),Ax}i9();var Rx={};/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ix;function r9(){return Ix||(Ix=1,function(){var n=function(t){this.element_=t,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=n,n.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},n.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},n.prototype.onKeyDown_=function(e){var t=e.target.value.split(`
`).length;e.keyCode===13&&t>=this.maxRows&&e.preventDefault()},n.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},n.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},n.prototype.onReset_=function(e){this.updateClasses_()},n.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},n.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},n.prototype.checkDisabled=n.prototype.checkDisabled,n.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},n.prototype.checkFocus=n.prototype.checkFocus,n.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},n.prototype.checkValidity=n.prototype.checkValidity,n.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},n.prototype.checkDirty=n.prototype.checkDirty,n.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},n.prototype.disable=n.prototype.disable,n.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},n.prototype.enable=n.prototype.enable,n.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},n.prototype.change=n.prototype.change,n.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:n,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})}()),Rx}r9();(function(){(function(){var n,e=typeof Object.create=="function"?Object.create:function(r){function c(){}return c.prototype=r,new c},t;if(typeof Object.setPrototypeOf=="function")t=Object.setPrototypeOf;else{var i;e:{var o={xb:!0},l={};try{l.__proto__=o,i=l.xb;break e}catch{}i=!1}t=i?function(r,c){if(r.__proto__=c,r.__proto__!==c)throw new TypeError(r+" is not extensible");return r}:null}var d=t;function p(r,c){if(r.prototype=e(c.prototype),r.prototype.constructor=r,d)d(r,c);else for(var h in c)if(h!="prototype")if(Object.defineProperties){var y=Object.getOwnPropertyDescriptor(c,h);y&&Object.defineProperty(r,h,y)}else r[h]=c[h];r.K=c.prototype}var m=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,c,h){r!=Array.prototype&&r!=Object.prototype&&(r[c]=h.value)},v=typeof window<"u"&&window===this?this:typeof global<"u"&&global!=null?global:this;function w(r,c){if(c){var h=v;r=r.split(".");for(var y=0;y<r.length-1;y++){var S=r[y];S in h||(h[S]={}),h=h[S]}r=r[r.length-1],y=h[r],c=c(y),c!=y&&c!=null&&m(h,r,{configurable:!0,writable:!0,value:c})}}w("Object.is",function(r){return r||function(c,h){return c===h?c!==0||1/c===1/h:c!==c&&h!==h}}),w("Array.prototype.includes",function(r){return r||function(c,h){var y=this;y instanceof String&&(y=String(y));var S=y.length;for(h=h||0,0>h&&(h=Math.max(h+S,0));h<S;h++){var x=y[h];if(x===c||Object.is(x,c))return!0}return!1}});var T=this;function C(r){return r!==void 0}function N(r){return typeof r=="string"}var O=/^[\w+/_-]+[=]{0,2}$/,I=null;function k(){}function D(r){r.W=void 0,r.Xa=function(){return r.W?r.W:r.W=new r}}function z(r){var c=typeof r;if(c=="object")if(r){if(r instanceof Array)return"array";if(r instanceof Object)return c;var h=Object.prototype.toString.call(r);if(h=="[object Window]")return"object";if(h=="[object Array]"||typeof r.length=="number"&&typeof r.splice<"u"&&typeof r.propertyIsEnumerable<"u"&&!r.propertyIsEnumerable("splice"))return"array";if(h=="[object Function]"||typeof r.call<"u"&&typeof r.propertyIsEnumerable<"u"&&!r.propertyIsEnumerable("call"))return"function"}else return"null";else if(c=="function"&&typeof r.call>"u")return"object";return c}function K(r){return z(r)=="array"}function W(r){var c=z(r);return c=="array"||c=="object"&&typeof r.length=="number"}function Y(r){return z(r)=="function"}function Z(r){var c=typeof r;return c=="object"&&r!=null||c=="function"}function U(r,c,h){return r.call.apply(r.bind,arguments)}function V(r,c,h){if(!r)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,y),r.apply(c,S)}}return function(){return r.apply(c,arguments)}}function B(r,c,h){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?B=U:B=V,B.apply(null,arguments)}function $(r,c){var h=Array.prototype.slice.call(arguments,1);return function(){var y=h.slice();return y.push.apply(y,arguments),r.apply(this,y)}}function H(r,c){for(var h in c)r[h]=c[h]}var G=Date.now||function(){return+new Date};function L(r,c){r=r.split(".");var h=T;r[0]in h||typeof h.execScript>"u"||h.execScript("var "+r[0]);for(var y;r.length&&(y=r.shift());)!r.length&&C(c)?h[y]=c:h[y]&&h[y]!==Object.prototype[y]?h=h[y]:h=h[y]={}}function se(r,c){function h(){}h.prototype=c.prototype,r.K=c.prototype,r.prototype=new h,r.prototype.constructor=r,r.vc=function(y,S,x){for(var j=Array(arguments.length-2),X=2;X<arguments.length;X++)j[X-2]=arguments[X];return c.prototype[S].apply(y,j)}}function _e(r){if(Error.captureStackTrace)Error.captureStackTrace(this,_e);else{var c=Error().stack;c&&(this.stack=c)}r&&(this.message=String(r))}se(_e,Error),_e.prototype.name="CustomError";var re;function fe(r,c){r=r.split("%s");for(var h="",y=r.length-1,S=0;S<y;S++)h+=r[S]+(S<c.length?c[S]:"%s");_e.call(this,h+r[y])}se(fe,_e),fe.prototype.name="AssertionError";function ve(r,c){throw new fe("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}var Ne=Array.prototype.indexOf?function(r,c){return Array.prototype.indexOf.call(r,c,void 0)}:function(r,c){if(N(r))return N(c)&&c.length==1?r.indexOf(c,0):-1;for(var h=0;h<r.length;h++)if(h in r&&r[h]===c)return h;return-1},J=Array.prototype.forEach?function(r,c,h){Array.prototype.forEach.call(r,c,h)}:function(r,c,h){for(var y=r.length,S=N(r)?r.split(""):r,x=0;x<y;x++)x in S&&c.call(h,S[x],x,r)};function ae(r,c){for(var h=N(r)?r.split(""):r,y=r.length-1;0<=y;--y)y in h&&c.call(void 0,h[y],y,r)}var Re=Array.prototype.filter?function(r,c){return Array.prototype.filter.call(r,c,void 0)}:function(r,c){for(var h=r.length,y=[],S=0,x=N(r)?r.split(""):r,j=0;j<h;j++)if(j in x){var X=x[j];c.call(void 0,X,j,r)&&(y[S++]=X)}return y},Ee=Array.prototype.map?function(r,c){return Array.prototype.map.call(r,c,void 0)}:function(r,c){for(var h=r.length,y=Array(h),S=N(r)?r.split(""):r,x=0;x<h;x++)x in S&&(y[x]=c.call(void 0,S[x],x,r));return y},Le=Array.prototype.some?function(r,c){return Array.prototype.some.call(r,c,void 0)}:function(r,c){for(var h=r.length,y=N(r)?r.split(""):r,S=0;S<h;S++)if(S in y&&c.call(void 0,y[S],S,r))return!0;return!1};function Fe(r,c){return 0<=Ne(r,c)}function Ge(r,c){c=Ne(r,c);var h;return(h=0<=c)&&an(r,c),h}function an(r,c){return Array.prototype.splice.call(r,c,1).length==1}function Ft(r,c){e:{for(var h=r.length,y=N(r)?r.split(""):r,S=0;S<h;S++)if(S in y&&c.call(void 0,y[S],S,r)){c=S;break e}c=-1}0<=c&&an(r,c)}function er(r,c){var h=0;ae(r,function(y,S){c.call(void 0,y,S,r)&&an(r,S)&&h++})}function vr(r){return Array.prototype.concat.apply([],arguments)}function ln(r){var c=r.length;if(0<c){for(var h=Array(c),y=0;y<c;y++)h[y]=r[y];return h}return[]}function jn(r,c,h){return 2>=arguments.length?Array.prototype.slice.call(r,c):Array.prototype.slice.call(r,c,h)}var tn=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},cn=/&/g,Ws=/</g,Ur=/>/g,Mi=/"/g,Pi=/'/g,Br=/\x00/g,ss=/[\x00&<>"']/;function tr(r,c){return r<c?-1:r>c?1:0}function yr(r){return ss.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(cn,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(Ws,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(Ur,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(Mi,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(Pi,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(Br,"&#0;"))),r}function Fr(r,c,h){for(var y in r)c.call(h,r[y],y,r)}function zr(r){var c={},h;for(h in r)c[h]=r[h];return c}var Hr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lt(r,c){for(var h,y,S=1;S<arguments.length;S++){y=arguments[S];for(h in y)r[h]=y[h];for(var x=0;x<Hr.length;x++)h=Hr[x],Object.prototype.hasOwnProperty.call(y,h)&&(r[h]=y[h])}}var dt="StopIteration"in T?T.StopIteration:{message:"StopIteration",stack:""};function Nt(){}Nt.prototype.next=function(){throw dt},Nt.prototype.ha=function(){return this};function Se(r){if(r instanceof Nt)return r;if(typeof r.ha=="function")return r.ha(!1);if(W(r)){var c=0,h=new Nt;return h.next=function(){for(;;){if(c>=r.length)throw dt;if(c in r)return r[c++];c++}},h}throw Error("Not implemented")}function et(r,c){if(W(r))try{J(r,c,void 0)}catch(h){if(h!==dt)throw h}else{r=Se(r);try{for(;;)c.call(void 0,r.next(),void 0,r)}catch(h){if(h!==dt)throw h}}}function Cn(r){if(W(r))return ln(r);r=Se(r);var c=[];return et(r,function(h){c.push(h)}),c}function nn(r,c){this.g={},this.a=[],this.j=this.h=0;var h=arguments.length;if(1<h){if(h%2)throw Error("Uneven number of arguments");for(var y=0;y<h;y+=2)this.set(arguments[y],arguments[y+1])}else if(r)if(r instanceof nn)for(h=r.ja(),y=0;y<h.length;y++)this.set(h[y],r.get(h[y]));else for(y in r)this.set(y,r[y])}n=nn.prototype,n.la=function(){Rn(this);for(var r=[],c=0;c<this.a.length;c++)r.push(this.g[this.a[c]]);return r},n.ja=function(){return Rn(this),this.a.concat()},n.clear=function(){this.g={},this.j=this.h=this.a.length=0};function Rn(r){if(r.h!=r.a.length){for(var c=0,h=0;c<r.a.length;){var y=r.a[c];zn(r.g,y)&&(r.a[h++]=y),c++}r.a.length=h}if(r.h!=r.a.length){var S={};for(h=c=0;c<r.a.length;)y=r.a[c],zn(S,y)||(r.a[h++]=y,S[y]=1),c++;r.a.length=h}}n.get=function(r,c){return zn(this.g,r)?this.g[r]:c},n.set=function(r,c){zn(this.g,r)||(this.h++,this.a.push(r),this.j++),this.g[r]=c},n.forEach=function(r,c){for(var h=this.ja(),y=0;y<h.length;y++){var S=h[y],x=this.get(S);r.call(c,x,S,this)}},n.ha=function(r){Rn(this);var c=0,h=this.j,y=this,S=new Nt;return S.next=function(){if(h!=y.j)throw Error("The map has changed since the iterator was created");if(c>=y.a.length)throw dt;var x=y.a[c++];return r?x:y.g[x]},S};function zn(r,c){return Object.prototype.hasOwnProperty.call(r,c)}var xe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function te(r,c){if(r){r=r.split("&");for(var h=0;h<r.length;h++){var y=r[h].indexOf("="),S=null;if(0<=y){var x=r[h].substring(0,y);S=r[h].substring(y+1)}else x=r[h];c(x,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function Ve(r,c,h,y){for(var S=h.length;0<=(c=r.indexOf(h,c))&&c<y;){var x=r.charCodeAt(c-1);if((x==38||x==63)&&(x=r.charCodeAt(c+S),!x||x==61||x==38||x==35))return c;c+=S+1}return-1}var De=/#|$/;function Xe(r,c){var h=r.search(De),y=Ve(r,0,c,h);if(0>y)return null;var S=r.indexOf("&",y);return(0>S||S>h)&&(S=h),y+=c.length+1,decodeURIComponent(r.substr(y,S-y).replace(/\+/g," "))}var rt=/[?&]($|#)/;function He(r,c){this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1;var h;r instanceof He?(this.i=C(c)?c:r.i,We(this,r.j),this.A=r.A,this.h=r.h,vt(this,r.C),this.g=r.g,ht(this,ya(r.a)),this.s=r.s):r&&(h=String(r).match(xe))?(this.i=!!c,We(this,h[1]||"",!0),this.A=un(h[2]||""),this.h=un(h[3]||"",!0),vt(this,h[4]),this.g=un(h[5]||"",!0),ht(this,h[6]||"",!0),this.s=un(h[7]||"")):(this.i=!!c,this.a=new bi(null,this.i))}He.prototype.toString=function(){var r=[],c=this.j;c&&r.push(zt(c,Fi,!0),":");var h=this.h;return(h||c=="file")&&(r.push("//"),(c=this.A)&&r.push(zt(c,Fi,!0),"@"),r.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.C,h!=null&&r.push(":",String(h))),(h=this.g)&&(this.h&&h.charAt(0)!="/"&&r.push("/"),r.push(zt(h,h.charAt(0)=="/"?Mt:Ue,!0))),(h=this.a.toString())&&r.push("?",h),(h=this.s)&&r.push("#",zt(h,Zn)),r.join("")};function We(r,c,h){r.j=h?un(c,!0):c,r.j&&(r.j=r.j.replace(/:$/,""))}function vt(r,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);r.C=c}else r.C=null}function ht(r,c,h){c instanceof bi?(r.a=c,No(r.a,r.i)):(h||(c=zt(c,In)),r.a=new bi(c,r.i))}function rn(r){return r instanceof He?new He(r):new He(r,void 0)}function un(r,c){return r?c?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function zt(r,c,h){return N(r)?(r=encodeURI(r).replace(c,yi),h&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function yi(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var Fi=/[#\/\?@]/g,Ue=/[#\?:]/g,Mt=/[#\?]/g,In=/[#\?@]/g,Zn=/#/g;function bi(r,c){this.g=this.a=null,this.h=r||null,this.j=!!c}function os(r){r.a||(r.a=new nn,r.g=0,r.h&&te(r.h,function(c,h){r.add(decodeURIComponent(c.replace(/\+/g," ")),h)}))}n=bi.prototype,n.add=function(r,c){os(this),this.h=null,r=qr(this,r);var h=this.a.get(r);return h||this.a.set(r,h=[]),h.push(c),this.g+=1,this};function Di(r,c){os(r),c=qr(r,c),zn(r.a.g,c)&&(r.h=null,r.g-=r.a.get(c).length,r=r.a,zn(r.g,c)&&(delete r.g[c],r.h--,r.j++,r.a.length>2*r.h&&Rn(r)))}n.clear=function(){this.a=this.h=null,this.g=0};function md(r,c){return os(r),c=qr(r,c),zn(r.a.g,c)}n.forEach=function(r,c){os(this),this.a.forEach(function(h,y){J(h,function(S){r.call(c,S,y,this)},this)},this)},n.ja=function(){os(this);for(var r=this.a.la(),c=this.a.ja(),h=[],y=0;y<c.length;y++)for(var S=r[y],x=0;x<S.length;x++)h.push(c[y]);return h},n.la=function(r){os(this);var c=[];if(N(r))md(this,r)&&(c=vr(c,this.a.get(qr(this,r))));else{r=this.a.la();for(var h=0;h<r.length;h++)c=vr(c,r[h])}return c},n.set=function(r,c){return os(this),this.h=null,r=qr(this,r),md(this,r)&&(this.g-=this.a.get(r).length),this.a.set(r,[c]),this.g+=1,this},n.get=function(r,c){return r?(r=this.la(r),0<r.length?String(r[0]):c):c},n.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var r=[],c=this.a.ja(),h=0;h<c.length;h++){var y=c[h],S=encodeURIComponent(String(y));y=this.la(y);for(var x=0;x<y.length;x++){var j=S;y[x]!==""&&(j+="="+encodeURIComponent(String(y[x]))),r.push(j)}}return this.h=r.join("&")};function ya(r){var c=new bi;return c.h=r.h,r.a&&(c.a=new nn(r.a),c.g=r.g),c}function qr(r,c){return c=String(c),r.j&&(c=c.toLowerCase()),c}function No(r,c){c&&!r.j&&(os(r),r.h=null,r.a.forEach(function(h,y){var S=y.toLowerCase();y!=S&&(Di(this,y),Di(this,S),0<h.length&&(this.h=null,this.a.set(qr(this,S),ln(h)),this.g+=h.length))},r)),r.j=c}function zi(r){this.a=rn(r)}function Ys(r,c){c?r.a.a.set(yn.Sa,c):Di(r.a.a,yn.Sa)}function nr(r,c){c!==null?r.a.a.set(yn.Qa,c?"1":"0"):Di(r.a.a,yn.Qa)}function Vn(r){return r.a.a.get(yn.Pa)||null}function Nc(r,c){c?r.a.a.set(yn.PROVIDER_ID,c):Di(r.a.a,yn.PROVIDER_ID)}zi.prototype.toString=function(){return this.a.toString()};var yn={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"},Hi;e:{var Xs=T.navigator;if(Xs){var gd=Xs.userAgent;if(gd){Hi=gd;break e}}Hi=""}function ft(r){return Hi.indexOf(r)!=-1}function ba(){return(ft("Chrome")||ft("CriOS"))&&!ft("Edge")}function Mc(r){return Mc[" "](r),r}Mc[" "]=k;function wa(r,c){var h=yd;return Object.prototype.hasOwnProperty.call(h,r)?h[r]:h[r]=c(r)}var ws=ft("Opera"),_t=ft("Trident")||ft("MSIE"),br=ft("Edge"),cf=br||_t,ci=ft("Gecko")&&!(Hi.toLowerCase().indexOf("webkit")!=-1&&!ft("Edge"))&&!(ft("Trident")||ft("MSIE"))&&!ft("Edge"),ei=Hi.toLowerCase().indexOf("webkit")!=-1&&!ft("Edge"),Pc=ei&&ft("Mobile"),as=ft("Macintosh");function yl(){var r=T.document;return r?r.documentMode:void 0}var wi;e:{var bl="",vd=function(){var r=Hi;if(ci)return/rv:([^\);]+)(\)|;)/.exec(r);if(br)return/Edge\/([\d\.]+)/.exec(r);if(_t)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(ei)return/WebKit\/(\S+)/.exec(r);if(ws)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(vd&&(bl=vd?vd[1]:""),_t){var _a=yl();if(_a!=null&&_a>parseFloat(bl)){wi=String(_a);break e}}wi=bl}var yd={};function Gr(r){return wa(r,function(){for(var c=0,h=tn(String(wi)).split("."),y=tn(String(r)).split("."),S=Math.max(h.length,y.length),x=0;c==0&&x<S;x++){var j=h[x]||"",X=y[x]||"";do{if(j=/(\d*)(\D*)(.*)/.exec(j)||["","","",""],X=/(\d*)(\D*)(.*)/.exec(X)||["","","",""],j[0].length==0&&X[0].length==0)break;c=tr(j[1].length==0?0:parseInt(j[1],10),X[1].length==0?0:parseInt(X[1],10))||tr(j[2].length==0,X[2].length==0)||tr(j[2],X[2]),j=j[3],X=X[3]}while(c==0)}return 0<=c})}var wl,Hn=T.document;wl=Hn&&_t?yl()||(Hn.compatMode=="CSS1Compat"?parseInt(wi,10):5):void 0;function _i(r,c){this.a=r===Mo&&c||"",this.g=Ea}_i.prototype.ma=!0,_i.prototype.ka=function(){return this.a},_i.prototype.toString=function(){return"Const{"+this.a+"}"};var Ea={},Mo={};function ir(){this.a="",this.h=$r}ir.prototype.ma=!0,ir.prototype.ka=function(){return this.a.toString()},ir.prototype.g=function(){return 1},ir.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Xt(r){return r instanceof ir&&r.constructor===ir&&r.h===$r?r.a:(ve("expected object of type TrustedResourceUrl, got '"+r+"' of type "+z(r)),"type_error:TrustedResourceUrl")}function _l(){var r=Fy;r instanceof _i&&r.constructor===_i&&r.g===Ea?r=r.a:(ve("expected object of type Const, got '"+r+"'"),r="type_error:Const");var c=new ir;return c.a=r,c}var $r={};function ui(){this.a="",this.h=df}ui.prototype.ma=!0,ui.prototype.ka=function(){return this.a.toString()},ui.prototype.g=function(){return 1},ui.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function _s(r){return r instanceof ui&&r.constructor===ui&&r.h===df?r.a:(ve("expected object of type SafeUrl, got '"+r+"' of type "+z(r)),"type_error:SafeUrl")}var Dc=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ta(r){return r instanceof ui?r:(r=typeof r=="object"&&r.ma?r.ka():String(r),Dc.test(r)||(r="about:invalid#zClosurez"),Sa(r))}function uf(r){return r instanceof ui?r:(r=typeof r=="object"&&r.ma?r.ka():String(r),Dc.test(r)||(r="about:invalid#zClosurez"),Sa(r))}var df={};function Sa(r){var c=new ui;return c.a=r,c}Sa("about:blank");function wr(){this.a="",this.g=Kr}wr.prototype.ma=!0;var Kr={};wr.prototype.ka=function(){return this.a},wr.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function qi(){this.a="",this.j=Oc,this.h=null}qi.prototype.g=function(){return this.h},qi.prototype.ma=!0,qi.prototype.ka=function(){return this.a.toString()},qi.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function ls(r){return r instanceof qi&&r.constructor===qi&&r.j===Oc?r.a:(ve("expected object of type SafeHtml, got '"+r+"' of type "+z(r)),"type_error:SafeHtml")}var Oc={};function _r(r,c){var h=new qi;return h.a=r,h.h=c,h}_r("<!DOCTYPE html>",0);var hf=_r("",0);_r("<br>",0);var El=function(r){var c=!1,h;return function(){return c||(h=r(),c=!0),h}}(function(){if(typeof document>"u")return!1;var r=document.createElement("div"),c=document.createElement("div");return c.appendChild(document.createElement("div")),r.appendChild(c),r.firstChild?(c=r.firstChild.firstChild,r.innerHTML=ls(hf),!c.parentElement):!1});function Es(r,c){if(r.src=Xt(c),I===null)e:{if(c=T.document,(c=c.querySelector&&c.querySelector("script[nonce]"))&&(c=c.nonce||c.getAttribute("nonce"))&&O.test(c)){I=c;break e}I=""}c=I,c&&r.setAttribute("nonce",c)}function Oi(r,c){c=c instanceof ui?c:uf(c),r.assign(_s(c))}function Er(r,c){this.a=C(r)?r:0,this.g=C(c)?c:0}Er.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Er.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Er.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Er.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this};function cs(r,c){this.width=r,this.height=c}n=cs.prototype,n.toString=function(){return"("+this.width+" x "+this.height+")"},n.aspectRatio=function(){return this.width/this.height},n.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},n.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},n.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};function Ts(r){return r?new xa(Js(r)):re||(re=new xa)}function Ss(r,c){var h=c||document;return h.querySelectorAll&&h.querySelector?h.querySelectorAll("."+r):xs(document,r,c)}function Tl(r,c){var h=c||document;if(h.getElementsByClassName)r=h.getElementsByClassName(r)[0];else{h=document;var y=c||h;r=y.querySelectorAll&&y.querySelector&&r?y.querySelector(r?"."+r:""):xs(h,r,c)[0]||null}return r||null}function xs(r,c,h){var y;if(r=h||r,r.querySelectorAll&&r.querySelector&&c)return r.querySelectorAll(c?"."+c:"");if(c&&r.getElementsByClassName){var S=r.getElementsByClassName(c);return S}if(S=r.getElementsByTagName("*"),c){var x={};for(h=y=0;r=S[h];h++){var j=r.className;typeof j.split=="function"&&Fe(j.split(/\s+/),c)&&(x[y++]=r)}return x.length=y,x}return S}function Qs(r,c){Fr(c,function(h,y){h&&typeof h=="object"&&h.ma&&(h=h.ka()),y=="style"?r.style.cssText=h:y=="class"?r.className=h:y=="for"?r.htmlFor=h:Lc.hasOwnProperty(y)?r.setAttribute(Lc[y],h):y.lastIndexOf("aria-",0)==0||y.lastIndexOf("data-",0)==0?r.setAttribute(y,h):r[y]=h})}var Lc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function qn(r){return r.scrollingElement?r.scrollingElement:(ei||r.compatMode!="CSS1Compat")&&r.body||r.documentElement}function xt(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function Js(r){return r.nodeType==9?r:r.ownerDocument||r.document}function Po(r,c){if("textContent"in r)r.textContent=c;else if(r.nodeType==3)r.data=String(c);else if(r.firstChild&&r.firstChild.nodeType==3){for(;r.lastChild!=r.firstChild;)r.removeChild(r.lastChild);r.firstChild.data=String(c)}else{for(var h;h=r.firstChild;)r.removeChild(h);r.appendChild(Js(r).createTextNode(String(c)))}}function bd(r,c){return c?jc(r,function(h){return!c||N(h.className)&&Fe(h.className.split(/\s+/),c)}):null}function jc(r,c){for(var h=0;r;){if(c(r))return r;r=r.parentNode,h++}return null}function xa(r){this.a=r||T.document||document}xa.prototype.N=function(){return N(void 0)?this.a.getElementById(void 0):void 0};var Wr={Fc:!0},Aa={Hc:!0},us={},wd={Gc:!0};function Zs(){throw Error("Do not instantiate directly")}Zs.prototype.va=null,Zs.prototype.toString=function(){return this.content};function As(r,c,h,y){if(r=r(c||Uc,void 0,h),y=(y||Ts()).a.createElement("DIV"),r=Vc(r),r.match(_d),r=_r(r,null),El())for(;y.lastChild;)y.removeChild(y.lastChild);return y.innerHTML=ls(r),y.childNodes.length==1&&(r=y.firstChild,r.nodeType==1&&(y=r)),y}function Vc(r){if(!Z(r))return yr(String(r));if(r instanceof Zs){if(r.fa===Wr)return r.content;if(r.fa===wd)return yr(r.content)}return ve("Soy template output is unsafe for use as HTML: "+r),"zSoyz"}var _d=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,Uc={};function ff(r){if(r!=null)switch(r.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}function Do(){Zs.call(this)}se(Do,Zs),Do.prototype.fa=Wr;function Ye(r){return r!=null&&r.fa===Wr?r:r instanceof qi?ke(ls(r).toString(),r.g()):ke(yr(String(String(r))),ff(r))}function Ca(){Zs.call(this)}se(Ca,Zs),Ca.prototype.fa=Aa,Ca.prototype.va=1;function eo(r,c){this.content=String(r),this.va=c??null}se(eo,Zs),eo.prototype.fa=wd;function At(r){return new eo(r,void 0)}var ke=function(r){function c(h){this.content=h}return c.prototype=r.prototype,function(h,y){return h=new c(String(h)),y!==void 0&&(h.va=y),h}}(Do),Ed=function(r){function c(h){this.content=h}return c.prototype=r.prototype,function(h){return new c(String(h))}}(Ca);function Sl(r){function c(){}var h={label:bn("New password")};c.prototype=r,r=new c;for(var y in h)r[y]=h[y];return r}function bn(r){return(r=String(r))?new eo(r,void 0):""}var xl=function(r){function c(h){this.content=h}return c.prototype=r.prototype,function(h,y){return h=String(h),h?(h=new c(h),y!==void 0&&(h.va=y),h):""}}(Do);function Ei(r){return r!=null&&r.fa===Wr?String(String(r.content).replace(no,"").replace(g,"&lt;")).replace(Fc,mf):yr(String(r))}function Cs(r){return r!=null&&r.fa===Aa?r=String(r).replace(Li,Bc):r instanceof ui?r=String(_s(r).toString()).replace(Li,Bc):(r=String(r),yf.test(r)?r=r.replace(Li,Bc):(ve("Bad value `%s` for |filterNormalizeUri",[r]),r="#zSoyz")),r}function to(r){return r!=null&&r.fa===us?r=r.content:r==null?r="":r instanceof wr?r instanceof wr&&r.constructor===wr&&r.g===Kr?r=r.a:(ve("expected object of type SafeStyle, got '"+r+"' of type "+z(r)),r="type_error:SafeStyle"):(r=String(r),vf.test(r)||(ve("Bad value `%s` for |filterCssValue",[r]),r="zSoyz")),r}var pf={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;","":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function mf(r){return pf[r]}var gf={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","\x1B":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85","":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","":"%EF%BC%81","":"%EF%BC%83","":"%EF%BC%84","":"%EF%BC%86","":"%EF%BC%87","":"%EF%BC%88","":"%EF%BC%89","":"%EF%BC%8A","":"%EF%BC%8B","":"%EF%BC%8C","":"%EF%BC%8F","":"%EF%BC%9A","":"%EF%BC%9B","":"%EF%BC%9D","":"%EF%BC%9F","":"%EF%BC%A0","":"%EF%BC%BB","":"%EF%BC%BD"};function Bc(r){return gf[r]}var Fc=/[\x00\x22\x27\x3c\x3e]/g,Li=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,vf=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,yf=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,no=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,g=/</g;function A(){return At("Enter a valid phone number")}function M(){return At("Unable to send password reset code to specified email")}function q(){return At("Something went wrong. Please try again.")}function ie(){return At("This email already exists without any means of sign-in. Please reset the password to recover.")}function he(r){r=r||{};var c="";switch(r.code){case"invalid-argument":c+="Client specified an invalid argument.";break;case"invalid-configuration":c+="Client specified an invalid project configuration.";break;case"failed-precondition":c+="Request can not be executed in the current system state.";break;case"out-of-range":c+="Client specified an invalid range.";break;case"unauthenticated":c+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":c+="Client does not have sufficient permission.";break;case"not-found":c+="Specified resource is not found.";break;case"aborted":c+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":c+="The resource that a client tried to create already exists.";break;case"resource-exhausted":c+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":c+="Request cancelled by the client.";break;case"data-loss":c+="Unrecoverable data loss or data corruption.";break;case"unknown":c+="Unknown server error.";break;case"internal":c+="Internal server error.";break;case"not-implemented":c+="API method not implemented by the server.";break;case"unavailable":c+="Service unavailable.";break;case"deadline-exceeded":c+="Request deadline exceeded.";break;case"auth/user-disabled":c+="The user account has been disabled by an administrator.";break;case"auth/timeout":c+="The operation has timed out.";break;case"auth/too-many-requests":c+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":c+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":c+="A network error has occurred. Try again later.";break;case"restart-process":c+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":c+="No sign-in provider is available for the given email, please try with a different email."}return At(c)}function Ie(){return At("Please login again to perform this operation")}function Et(r,c,h){var y=Error.call(this);if(this.message=y.message,"stack"in y&&(this.stack=y.stack),this.code=di+r,!(r=c)){switch(r="",this.code){case"firebaseui/merge-conflict":r+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:r+=q()}r=At(r).toString()}this.message=r||"",this.credential=h||null}p(Et,Error),Et.prototype.toJSON=function(){return{code:this.code,message:this.message}};var di="firebaseui/";function pt(){this.T=this.T,this.C=this.C}var Ti=0;pt.prototype.T=!1,pt.prototype.m=function(){!this.T&&(this.T=!0,this.o(),Ti!=0)};function kn(r,c){r.T?C(void 0)?c.call(void 0):c():(r.C||(r.C=[]),r.C.push(C(void 0)?B(c,void 0):c))}pt.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Yr(r){r&&typeof r.m=="function"&&r.m()}var ji=Object.freeze||function(r){return r},Rs=!_t||9<=Number(wl),Td=_t&&!Gr("9"),bf=function(){if(!T.addEventListener||!Object.defineProperty)return!1;var r=!1,c=Object.defineProperty({},"passive",{get:function(){r=!0}});try{T.addEventListener("test",k,c),T.removeEventListener("test",k,c)}catch{}return r}();function io(r,c){this.type=r,this.g=this.target=c,this.h=!1,this.qb=!0}io.prototype.stopPropagation=function(){this.h=!0},io.prototype.preventDefault=function(){this.qb=!1};function Gi(r,c){if(io.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var h=this.type=r.type,y=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=c,c=r.relatedTarget){if(ci){e:{try{Mc(c.nodeName);var S=!0;break e}catch{}S=!1}S||(c=null)}}else h=="mouseover"?c=r.fromElement:h=="mouseout"&&(c=r.toElement);this.relatedTarget=c,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.keyCode=r.keyCode||0,this.key=r.key||"",this.j=r.charCode||(h=="keypress"?r.keyCode:0),this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=N(r.pointerType)?r.pointerType:Pm[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}se(Gi,io);var Pm=ji({2:"touch",3:"pen",4:"mouse"});Gi.prototype.stopPropagation=function(){Gi.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Gi.prototype.preventDefault=function(){Gi.K.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,Td)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}};var Al="closure_listenable_"+(1e6*Math.random()|0),Oy=0;function Ly(r,c,h,y,S){this.listener=r,this.proxy=null,this.src=c,this.type=h,this.capture=!!y,this.La=S,this.key=++Oy,this.sa=this.Ia=!1}function Sd(r){r.sa=!0,r.listener=null,r.proxy=null,r.src=null,r.La=null}function wf(r){this.src=r,this.a={},this.g=0}wf.prototype.add=function(r,c,h,y,S){var x=r.toString();r=this.a[x],r||(r=this.a[x]=[],this.g++);var j=Om(r,c,y,S);return-1<j?(c=r[j],h||(c.Ia=!1)):(c=new Ly(c,this.src,x,!!y,S),c.Ia=h,r.push(c)),c};function Dm(r,c){var h=c.type;h in r.a&&Ge(r.a[h],c)&&(Sd(c),r.a[h].length==0&&(delete r.a[h],r.g--))}function Om(r,c,h,y){for(var S=0;S<r.length;++S){var x=r[S];if(!x.sa&&x.listener==c&&x.capture==!!h&&x.La==y)return S}return-1}var Lm="closure_lm_"+(1e6*Math.random()|0),jm={};function Nn(r,c,h,y,S){if(y&&y.once)return Hc(r,c,h,y,S);if(K(c)){for(var x=0;x<c.length;x++)Nn(r,c[x],h,y,S);return null}return h=Ef(h),r&&r[Al]?r.J.add(String(c),h,!1,Z(y)?!!y.capture:!!y,S):zc(r,c,h,!1,y,S)}function zc(r,c,h,y,S,x){if(!c)throw Error("Invalid event type");var j=Z(S)?!!S.capture:!!S,X=Ia(r);if(X||(r[Lm]=X=new wf(r)),h=X.add(c,h,y,j,x),h.proxy)return h;if(y=jy(),h.proxy=y,y.src=r,y.listener=h,r.addEventListener)bf||(S=j),S===void 0&&(S=!1),r.addEventListener(c.toString(),y,S);else if(r.attachEvent)r.attachEvent(_f(c.toString()),y);else if(r.addListener&&r.removeListener)r.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return h}function jy(){var r=Vm,c=Rs?function(h){return r.call(c.src,c.listener,h)}:function(h){if(h=r.call(c.src,c.listener,h),!h)return h};return c}function Hc(r,c,h,y,S){if(K(c)){for(var x=0;x<c.length;x++)Hc(r,c[x],h,y,S);return null}return h=Ef(h),r&&r[Al]?r.J.add(String(c),h,!0,Z(y)?!!y.capture:!!y,S):zc(r,c,h,!0,y,S)}function Ra(r,c,h,y,S){if(K(c))for(var x=0;x<c.length;x++)Ra(r,c[x],h,y,S);else y=Z(y)?!!y.capture:!!y,h=Ef(h),r&&r[Al]?(r=r.J,c=String(c).toString(),c in r.a&&(x=r.a[c],h=Om(x,h,y,S),-1<h&&(Sd(x[h]),an(x,h),x.length==0&&(delete r.a[c],r.g--)))):r&&(r=Ia(r))&&(c=r.a[c.toString()],r=-1,c&&(r=Om(c,h,y,S)),(h=-1<r?c[r]:null)&&Oo(h))}function Oo(r){if(typeof r!="number"&&r&&!r.sa){var c=r.src;if(c&&c[Al])Dm(c.J,r);else{var h=r.type,y=r.proxy;c.removeEventListener?c.removeEventListener(h,y,r.capture):c.detachEvent?c.detachEvent(_f(h),y):c.addListener&&c.removeListener&&c.removeListener(y),(h=Ia(c))?(Dm(h,r),h.g==0&&(h.src=null,c[Lm]=null)):Sd(r)}}}function _f(r){return r in jm?jm[r]:jm[r]="on"+r}function Vy(r,c,h,y){var S=!0;if((r=Ia(r))&&(c=r.a[c.toString()]))for(c=c.concat(),r=0;r<c.length;r++){var x=c[r];x&&x.capture==h&&!x.sa&&(x=Cl(x,y),S=S&&x!==!1)}return S}function Cl(r,c){var h=r.listener,y=r.La||r.src;return r.Ia&&Oo(r),h.call(y,c)}function Vm(r,c){if(r.sa)return!0;if(!Rs){if(!c)e:{c=["window","event"];for(var h=T,y=0;y<c.length;y++)if(h=h[c[y]],h==null){c=null;break e}c=h}if(y=c,c=new Gi(y,this),h=!0,!(0>y.keyCode||y.returnValue!=null)){e:{var S=!1;if(y.keyCode==0)try{y.keyCode=-1;break e}catch{S=!0}(S||y.returnValue==null)&&(y.returnValue=!0)}for(y=[],S=c.g;S;S=S.parentNode)y.push(S);for(r=r.type,S=y.length-1;!c.h&&0<=S;S--){c.g=y[S];var x=Vy(y[S],r,!0,c);h=h&&x}for(S=0;!c.h&&S<y.length;S++)c.g=y[S],x=Vy(y[S],r,!1,c),h=h&&x}return h}return Cl(r,new Gi(c,this))}function Ia(r){return r=r[Lm],r instanceof wf?r:null}var xd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ef(r){return Y(r)?r:(r[xd]||(r[xd]=function(c){return r.handleEvent(c)}),r[xd])}function dn(){pt.call(this),this.J=new wf(this),this.wb=this,this.Ha=null}se(dn,pt),dn.prototype[Al]=!0,dn.prototype.Za=function(r){this.Ha=r},dn.prototype.removeEventListener=function(r,c,h,y){Ra(this,r,c,h,y)};function Xr(r,c){var h,y=r.Ha;if(y)for(h=[];y;y=y.Ha)h.push(y);if(r=r.wb,y=c.type||c,N(c))c=new io(c,r);else if(c instanceof io)c.target=c.target||r;else{var S=c;c=new io(y,r),Lt(c,S)}if(S=!0,h)for(var x=h.length-1;!c.h&&0<=x;x--){var j=c.g=h[x];S=qc(j,y,!0,c)&&S}if(c.h||(j=c.g=r,S=qc(j,y,!0,c)&&S,c.h||(S=qc(j,y,!1,c)&&S)),h)for(x=0;!c.h&&x<h.length;x++)j=c.g=h[x],S=qc(j,y,!1,c)&&S;return S}dn.prototype.o=function(){if(dn.K.o.call(this),this.J){var r=this.J,c;for(c in r.a){for(var h=r.a[c],y=0;y<h.length;y++)Sd(h[y]);delete r.a[c],r.g--}}this.Ha=null};function qc(r,c,h,y){if(c=r.J.a[String(c)],!c)return!0;c=c.concat();for(var S=!0,x=0;x<c.length;++x){var j=c[x];if(j&&!j.sa&&j.capture==h){var X=j.listener,de=j.La||j.src;j.Ia&&Dm(r.J,j),S=X.call(de,y)!==!1&&S}}return S&&y.qb!=0}var Tr={},ka=0;function Um(r,c){if(!r)throw Error("Event target element must be provided!");if(r=Tf(r),Tr[r]&&Tr[r].length)for(var h=0;h<Tr[r].length;h++)Xr(Tr[r][h],c)}function Uy(r){var c=Tf(r.N());Tr[c]&&Tr[c].length&&(Ft(Tr[c],function(h){return h==r}),Tr[c].length||delete Tr[c])}function Tf(r){return typeof r.a>"u"&&(r.a=ka,ka++),r.a}function Sf(r){if(!r)throw Error("Event target element must be provided!");dn.call(this),this.a=r}p(Sf,dn),Sf.prototype.N=function(){return this.a},Sf.prototype.register=function(){var r=Tf(this.N());Tr[r]?Fe(Tr[r],this)||Tr[r].push(this):Tr[r]=[this]};function By(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function Bm(r,c){this.h=r,this.j=c,this.g=0,this.a=null}Bm.prototype.get=function(){if(0<this.g){this.g--;var r=this.a;this.a=r.next,r.next=null}else r=this.h();return r};function Fm(r,c){r.j(c),100>r.g&&(r.g++,c.next=r.a,r.a=c)}function zm(){this.g=this.a=null}var xf=new Bm(function(){return new Af},function(r){r.reset()});zm.prototype.add=function(r,c){var h=xf.get();h.set(r,c),this.g?this.g.next=h:this.a=h,this.g=h};function Is(){var r=Il,c=null;return r.a&&(c=r.a,r.a=r.a.next,r.a||(r.g=null),c.next=null),c}function Af(){this.next=this.g=this.a=null}Af.prototype.set=function(r,c){this.a=r,this.g=c,this.next=null},Af.prototype.reset=function(){this.next=this.g=this.a=null};function Qr(r){T.setTimeout(function(){throw r},0)}var Sr;function Gc(){var r=T.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!ft("Presto")&&(r=function(){var S=document.createElement("IFRAME");S.style.display="none",S.src="",document.documentElement.appendChild(S);var x=S.contentWindow;S=x.document,S.open(),S.write(""),S.close();var j="callImmediate"+Math.random(),X=x.location.protocol=="file:"?"*":x.location.protocol+"//"+x.location.host;S=B(function(de){(X=="*"||de.origin==X)&&de.data==j&&this.port1.onmessage()},this),x.addEventListener("message",S,!1),this.port1={},this.port2={postMessage:function(){x.postMessage(j,X)}}}),typeof r<"u"&&!ft("Trident")&&!ft("MSIE")){var c=new r,h={},y=h;return c.port1.onmessage=function(){if(C(h.next)){h=h.next;var S=h.gb;h.gb=null,S()}},function(S){y.next={gb:S},y=y.next,c.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(S){var x=document.createElement("SCRIPT");x.onreadystatechange=function(){x.onreadystatechange=null,x.parentNode.removeChild(x),x=null,S(),S=null},document.documentElement.appendChild(x)}:function(S){T.setTimeout(S,0)}}function Ad(r,c){Rl||Cf(),Cd||(Rl(),Cd=!0),Il.add(r,c)}var Rl;function Cf(){if(T.Promise&&T.Promise.resolve){var r=T.Promise.resolve(void 0);Rl=function(){r.then(Hm)}}else Rl=function(){var c=Hm;!Y(T.setImmediate)||T.Window&&T.Window.prototype&&!ft("Edge")&&T.Window.prototype.setImmediate==T.setImmediate?(Sr||(Sr=Gc()),Sr(c)):T.setImmediate(c)}}var Cd=!1,Il=new zm;function Hm(){for(var r;r=Is();){try{r.a.call(r.g)}catch(c){Qr(c)}Fm(xf,r)}Cd=!1}function Mn(r){if(this.a=ds,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,r!=k)try{var c=this;r.call(void 0,function(h){fs(c,Rd,h)},function(h){if(!(h instanceof ps))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}fs(c,Gn,h)})}catch(h){fs(this,Gn,h)}}var ds=0,Rd=2,Gn=3;function Rf(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}Rf.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var ro=new Bm(function(){return new Rf},function(r){r.reset()});function If(r,c,h){var y=ro.get();return y.s=r,y.g=c,y.j=h,y}function wn(r){if(r instanceof Mn)return r;var c=new Mn(k);return fs(c,Rd,r),c}function hs(r){return new Mn(function(c,h){h(r)})}Mn.prototype.then=function(r,c,h){return kl(this,Y(r)?r:null,Y(c)?c:null,h)},Mn.prototype.$goog_Thenable=!0,n=Mn.prototype,n.fc=function(r,c){return r=If(r,r,c),r.h=!0,Id(this,r),this},n.Ca=function(r,c){return kl(this,null,r,c)},n.cancel=function(r){this.a==ds&&Ad(function(){var c=new ps(r);kf(this,c)},this)};function kf(r,c){if(r.a==ds)if(r.h){var h=r.h;if(h.g){for(var y=0,S=null,x=null,j=h.g;j&&(j.h||(y++,j.a==r&&(S=j),!(S&&1<y)));j=j.next)S||(x=j);S&&(h.a==ds&&y==1?kf(h,c):(x?(y=x,y.next==h.j&&(h.j=y),y.next=y.next.next):Jr(h),Zr(h,S,Gn,c)))}r.h=null}else fs(r,Gn,c)}function Id(r,c){r.g||r.a!=Rd&&r.a!=Gn||kd(r),r.j?r.j.next=c:r.g=c,r.j=c}function kl(r,c,h,y){var S=If(null,null,null);return S.a=new Mn(function(x,j){S.s=c?function(X){try{var de=c.call(y,X);x(de)}catch(Ae){j(Ae)}}:x,S.g=h?function(X){try{var de=h.call(y,X);!C(de)&&X instanceof ps?j(X):x(de)}catch(Ae){j(Ae)}}:j}),S.a.h=r,Id(r,S),S.a}n.hc=function(r){this.a=ds,fs(this,Rd,r)},n.ic=function(r){this.a=ds,fs(this,Gn,r)};function fs(r,c,h){if(r.a==ds){r===h&&(c=Gn,h=new TypeError("Promise cannot resolve to itself")),r.a=1;e:{var y=h,S=r.hc,x=r.ic;if(y instanceof Mn){Id(y,If(S||k,x||null,r));var j=!0}else if(By(y))y.then(S,x,r),j=!0;else{if(Z(y))try{var X=y.then;if(Y(X)){Nf(y,X,S,x,r),j=!0;break e}}catch(de){x.call(r,de),j=!0;break e}j=!1}}j||(r.A=h,r.a=c,r.h=null,kd(r),c!=Gn||h instanceof ps||Lo(r,h))}}function Nf(r,c,h,y,S){function x(de){X||(X=!0,y.call(S,de))}function j(de){X||(X=!0,h.call(S,de))}var X=!1;try{c.call(r,j,x)}catch(de){x(de)}}function kd(r){r.i||(r.i=!0,Ad(r.Hb,r))}function Jr(r){var c=null;return r.g&&(c=r.g,r.g=c.next,c.next=null),r.g||(r.j=null),c}n.Hb=function(){for(var r;r=Jr(this);)Zr(this,r,this.a,this.A);this.i=!1};function Zr(r,c,h,y){if(h==Gn&&c.g&&!c.h)for(;r&&r.s;r=r.h)r.s=!1;if(c.a)c.a.h=null,Na(c,h,y);else try{c.h?c.s.call(c.j):Na(c,h,y)}catch(S){so.call(null,S)}Fm(ro,c)}function Na(r,c,h){c==Rd?r.s.call(r.j,h):r.g&&r.g.call(r.j,h)}function Lo(r,c){r.s=!0,Ad(function(){r.s&&so.call(null,c)})}var so=Qr;function ps(r){_e.call(this,r)}se(ps,_e),ps.prototype.name="cancel";function qm(r,c,h){c||(c={}),h=h||window;var y=r instanceof ui?r:Ta(typeof r.href<"u"?r.href:String(r));r=c.target||r.target;var S=[];for(x in c)switch(x){case"width":case"height":case"top":case"left":S.push(x+"="+c[x]);break;case"target":case"noopener":case"noreferrer":break;default:S.push(x+"="+(c[x]?1:0))}var x=S.join(",");return(ft("iPhone")&&!ft("iPod")&&!ft("iPad")||ft("iPad")||ft("iPod"))&&h.navigator&&h.navigator.standalone&&r&&r!="_self"?(x=h.document.createElement("A"),y=y instanceof ui?y:uf(y),x.href=_s(y),x.setAttribute("target",r),c.noreferrer&&x.setAttribute("rel","noreferrer"),c=document.createEvent("MouseEvent"),c.initMouseEvent("click",!0,!0,h,1),x.dispatchEvent(c),h={}):c.noreferrer?(h=h.open("",r,x),c=_s(y).toString(),h&&(cf&&c.indexOf(";")!=-1&&(c="'"+c.replace(/'/g,"%27")+"'"),h.opener=null,c=_r('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+yr(c)+'">',null),h.document.write(ls(c)),h.document.close())):(h=h.open(_s(y).toString(),r,x))&&c.noopener&&(h.opener=null),h}function Mf(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function Ma(r){qm(r,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function Si(r,c){if(r=Z(r)&&r.nodeType==1?r:document.querySelector(String(r)),r==null)throw Error(c||"Cannot find element.");return r}function $t(){return window.location.href}function Ht(){var r=null;return new Mn(function(c){T.document.readyState=="complete"?c():(r=function(){c()},Hc(window,"load",r))}).Ca(function(c){throw Ra(window,"load",r),c})}function Nl(){for(var r=32,c=[];0<r;)c.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return c.join("")}function oo(r,c,h){return h=h===void 0?{}:h,Object.keys(r).filter(function(y){return c.includes(y)}).reduce(function(y,S){return y[S]=r[S],y},h)}function ao(r){var c=Uo;this.s=[],this.T=c,this.O=r||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}ao.prototype.cancel=function(r){if(this.a)this.h instanceof ao&&this.h.cancel();else{if(this.g){var c=this.g;delete this.g,r?c.cancel(r):(c.C--,0>=c.C&&c.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(r=new jo,Nd(this),ks(this,!1,r))}},ao.prototype.L=function(r,c){this.A=!1,ks(this,r,c)};function ks(r,c,h){r.a=!0,r.h=h,r.j=!c,Kc(r)}function Nd(r){if(r.a){if(!r.J)throw new Md;r.J=!1}}ao.prototype.callback=function(r){Nd(this),ks(this,!0,r)};function Gm(r,c,h){r.s.push([c,h,void 0]),r.a&&Kc(r)}ao.prototype.then=function(r,c,h){var y,S,x=new Mn(function(j,X){y=j,S=X});return Gm(this,y,function(j){j instanceof jo?x.cancel():S(j)}),x.then(r,c,h)},ao.prototype.$goog_Thenable=!0;function $c(r){return Le(r.s,function(c){return Y(c[1])})}function Kc(r){if(r.i&&r.a&&$c(r)){var c=r.i,h=lo[c];h&&(T.clearTimeout(h.a),delete lo[c]),r.i=0}r.g&&(r.g.C--,delete r.g),c=r.h;for(var y=h=!1;r.s.length&&!r.A;){var S=r.s.shift(),x=S[0],j=S[1];if(S=S[2],x=r.j?j:x)try{var X=x.call(S||r.O,c);C(X)&&(r.j=r.j&&(X==c||X instanceof Error),r.h=c=X),(By(c)||typeof T.Promise=="function"&&c instanceof T.Promise)&&(y=!0,r.A=!0)}catch(de){c=de,r.j=!0,$c(r)||(h=!0)}}r.h=c,y&&(X=B(r.L,r,!0),y=B(r.L,r,!1),c instanceof ao?(Gm(c,X,y),c.l=!0):c.then(X,y)),h&&(c=new Pf(c),lo[c.a]=c,r.i=c.a)}function Md(){_e.call(this)}se(Md,_e),Md.prototype.message="Deferred has already fired",Md.prototype.name="AlreadyCalledError";function jo(){_e.call(this)}se(jo,_e),jo.prototype.message="Deferred was canceled",jo.prototype.name="CanceledError";function Pf(r){this.a=T.setTimeout(B(this.h,this),0),this.g=r}Pf.prototype.h=function(){throw delete lo[this.a],this.g};var lo={};function Vo(r){var c={},h=c.document||document,y=Xt(r).toString(),S=document.createElement("SCRIPT"),x={rb:S,sb:void 0},j=new ao(x),X=null,de=c.timeout!=null?c.timeout:5e3;return 0<de&&(X=window.setTimeout(function(){Wc(S,!0);var Ae=new Yc(Pd,"Timeout reached for loading script "+y);Nd(j),ks(j,!1,Ae)},de),x.sb=X),S.onload=S.onreadystatechange=function(){S.readyState&&S.readyState!="loaded"&&S.readyState!="complete"||(Wc(S,c.xc||!1,X),j.callback(null))},S.onerror=function(){Wc(S,!0,X);var Ae=new Yc($m,"Error while loading script "+y);Nd(j),ks(j,!1,Ae)},x=c.attributes||{},Lt(x,{type:"text/javascript",charset:"UTF-8"}),Qs(S,x),Es(S,r),Pa(h).appendChild(S),j}function Pa(r){var c=(r||document).getElementsByTagName("HEAD");return c&&c.length!=0?c[0]:r.documentElement}function Uo(){if(this&&this.rb){var r=this.rb;r&&r.tagName=="SCRIPT"&&Wc(r,!0,this.sb)}}function Wc(r,c,h){h!=null&&T.clearTimeout(h),r.onload=k,r.onerror=k,r.onreadystatechange=k,c&&window.setTimeout(function(){xt(r)},0)}var $m=0,Pd=1;function Yc(r,c){var h="Jsloader error (code #"+r+")";c&&(h+=": "+c),_e.call(this,h),this.code=r}se(Yc,_e);function Ns(){return T.google&&T.google.accounts&&T.google.accounts.id||null}function xi(r){this.a=r||Ns(),this.h=!1,this.g=null}xi.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())};function Dd(r,c,h){if(r.a&&c)return function(){return r.h=!0,new Mn(function(S){r.g=S,r.a.initialize({client_id:c,callback:S,auto_select:!h}),r.a.prompt()})}();if(c){var y=Km.Xa().load().then(function(){return r.a=Ns(),Dd(r,c,h)}).Ca(function(){return null});return wn(y)}return wn(null)}D(xi);var Fy=new _i(Mo,"https://accounts.google.com/gsi/client");function Km(){this.a=null}Km.prototype.load=function(){var r=this;if(this.a)return this.a;var c=_l();return Ns()?wn():this.a=Ht().then(function(){if(!Ns())return new Mn(function(h,y){var S=setTimeout(function(){r.a=null,y(Error("Network error!"))},1e4);T.onGoogleLibraryLoad=function(){clearTimeout(S),h()},wn(Vo(c)).then(function(){Ns()&&h()}).Ca(function(x){clearTimeout(S),r.a=null,y(x)})})})},D(Km);function Wm(r,c){this.a=r,this.g=c||function(h){throw h}}Wm.prototype.confirm=function(r){return wn(this.a.confirm(r)).Ca(this.g)};function Ym(r,c,h){this.reset(r,c,h,void 0,void 0)}Ym.prototype.a=null,Ym.prototype.reset=function(r,c,h,y,S){this.h=y||G(),this.j=r,this.s=c,this.g=h,delete this.a};function $n(r){this.s=r,this.a=this.h=this.j=this.g=null}function Xc(r,c){this.name=r,this.value=c}Xc.prototype.toString=function(){return this.name};var Qc=new Xc("SEVERE",1e3),Jc=new Xc("WARNING",900),Df=new Xc("CONFIG",700);function Ml(r){return r.j?r.j:r.g?Ml(r.g):(ve("Root logger has no level set."),null)}$n.prototype.log=function(r,c,h){if(r.value>=Ml(this).value)for(Y(c)&&(c=c()),r=new Ym(r,String(c),this.s),h&&(r.a=h),h=this;h;){var y=h,S=r;if(y.a)for(var x=0;c=y.a[x];x++)c(S);h=h.g}};var Da={},Od=null;function Xm(){Od||(Od=new $n(""),Da[""]=Od,Od.j=Df)}function zy(r){Xm();var c;if(!(c=Da[r])){c=new $n(r);var h=r.lastIndexOf("."),y=r.substr(h+1);h=zy(r.substr(0,h)),h.h||(h.h={}),h.h[y]=c,c.g=h,Da[r]=c}return c}function Ld(){this.a=G()}var Bo=null;Ld.prototype.set=function(r){this.a=r},Ld.prototype.reset=function(){this.set(G())},Ld.prototype.get=function(){return this.a};function Pl(r){this.j=r||"",Bo||(Bo=new Ld),this.s=Bo}Pl.prototype.a=!0,Pl.prototype.g=!0,Pl.prototype.h=!1;function co(r){return 10>r?"0"+r:String(r)}function Hy(r,c){r=(r.h-c)/1e3,c=r.toFixed(3);var h=0;if(1>r)h=2;else for(;100>r;)h++,r*=10;for(;0<h--;)c=" "+c;return c}function Zc(r){Pl.call(this,r)}se(Zc,Pl);function qy(r,c){var h=[];if(h.push(r.j," "),r.g){var y=new Date(c.h);h.push("[",co(y.getFullYear()-2e3)+co(y.getMonth()+1)+co(y.getDate())+" "+co(y.getHours())+":"+co(y.getMinutes())+":"+co(y.getSeconds())+"."+co(Math.floor(y.getMilliseconds()/10)),"] ")}return h.push("[",Hy(c,r.s.get()),"s] "),h.push("[",c.g,"] "),h.push(c.s),r.h&&(c=c.a)&&h.push(`
`,c instanceof Error?c.message:c.toString()),r.a&&h.push(`
`),h.join("")}function jd(){this.s=B(this.h,this),this.a=new Zc,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}jd.prototype.h=function(r){function c(x){if(x){if(x.value>=Qc.value)return"error";if(x.value>=Jc.value)return"warn";if(x.value>=Df.value)return"log"}return"debug"}if(!this.j[r.g]){var h=qy(this.a,r),y=Qm;if(y){var S=c(r.j);Gy(y,S,h,r.a)}}};var Qm=T.console;function Gy(r,c,h,y){r[c]?r[c](h,y||""):r.log(h,y||"")}function $i(r,c){var h=Of;h&&h.log(Qc,r,c)}var Of;Of=zy("firebaseui");var Dl=new jd;if(Dl.g!=1){var Vd;Xm(),Vd=Od;var $y=Dl.s;Vd.a||(Vd.a=[]),Vd.a.push($y),Dl.g=!0}function rr(r){var c=Of;c&&c.log(Jc,r,void 0)}function Lf(){this.a=(typeof document>"u"?null:document)||{cookie:""}}n=Lf.prototype,n.set=function(r,c,h,y,S,x){if(/[;=\s]/.test(r))throw Error('Invalid cookie name "'+r+'"');if(/[;\r\n]/.test(c))throw Error('Invalid cookie value "'+c+'"');C(h)||(h=-1),S=S?";domain="+S:"",y=y?";path="+y:"",x=x?";secure":"",h=0>h?"":h==0?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(G()+1e3*h).toUTCString(),this.a.cookie=r+"="+c+S+y+h+x},n.get=function(r,c){for(var h=r+"=",y=(this.a.cookie||"").split(";"),S=0,x;S<y.length;S++){if(x=tn(y[S]),x.lastIndexOf(h,0)==0)return x.substr(h.length);if(x==r)return""}return c},n.ja=function(){return Ud(this).keys},n.la=function(){return Ud(this).values},n.clear=function(){for(var r=Ud(this).keys,c=r.length-1;0<=c;c--){var h=r[c];this.get(h),this.set(h,"",0,void 0,void 0)}};function Ud(r){r=(r.a.cookie||"").split(";");for(var c=[],h=[],y,S,x=0;x<r.length;x++)S=tn(r[x]),y=S.indexOf("="),y==-1?(c.push(""),h.push(S)):(c.push(S.substring(0,y)),h.push(S.substring(y+1)));return{keys:c,values:h}}var Ms=new Lf;function Fo(){}function uo(r,c,h,y){this.h=typeof r<"u"&&r!==null?r:-1,this.g=c||null,this.a=h||null,this.j=!!y}p(uo,Fo),uo.prototype.set=function(r,c){Ms.set(r,c,this.h,this.g,this.a,this.j)},uo.prototype.get=function(r){return Ms.get(r)||null},uo.prototype.ra=function(r){var c=this.g,h=this.a;Ms.get(r),Ms.set(r,"",0,c,h)};function Bd(r,c){this.g=r,this.a=c||null}function jf(r){return{email:r.g,credential:r.a&&r.a.toJSON()}}function eu(r){if(r&&r.email){var c=r.credential&&qe.auth.AuthCredential.fromJSON(r.credential);return new Bd(r.email,c)}return null}function tu(r){this.a=r||null}function Jm(r){for(var c=[],h=0,y=0;y<r.length;y++){var S=r.charCodeAt(y);255<S&&(c[h++]=S&255,S>>=8),c[h++]=S}return c}function Ky(r){return Ee(r,function(c){return c=c.toString(16),1<c.length?c:"0"+c}).join("")}function zo(r){for(this.i=r,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(Ho*(this.j+1)),r=0;r<this.g;r++)this.a[r]=[this.i[4*r],this.i[4*r+1],this.i[4*r+2],this.i[4*r+3]];var c=Array(4);for(r=this.g;r<Ho*(this.j+1);r++){if(c[0]=this.a[r-1][0],c[1]=this.a[r-1][1],c[2]=this.a[r-1][2],c[3]=this.a[r-1][3],r%this.g==0){var h=c,y=h[0];h[0]=h[1],h[1]=h[2],h[2]=h[3],h[3]=y,Kn(c),c[0]^=ho[r/this.g][0],c[1]^=ho[r/this.g][1],c[2]^=ho[r/this.g][2],c[3]^=ho[r/this.g][3]}else 6<this.g&&r%this.g==4&&Kn(c);this.a[r]=Array(4),this.a[r][0]=this.a[r-this.g][0]^c[0],this.a[r][1]=this.a[r-this.g][1]^c[1],this.a[r][2]=this.a[r-this.g][2]^c[2],this.a[r][3]=this.a[r-this.g][3]^c[3]}}zo.prototype.A=16;var Ho=zo.prototype.A/4;function Zm(r,c){for(var h,y=0;y<Ho;y++)for(var S=0;4>S;S++)h=4*S+y,h=c[h],r.h[y][S]=h}function Vf(r){for(var c=[],h=0;h<Ho;h++)for(var y=0;4>y;y++)c[4*y+h]=r.h[h][y];return c}function Oa(r,c){for(var h=0;4>h;h++)for(var y=0;4>y;y++)r.h[h][y]^=r.a[4*c+y][h]}function Ps(r,c){for(var h=0;4>h;h++)for(var y=0;4>y;y++)r.h[h][y]=c[r.h[h][y]]}function mt(r){for(var c=1;4>c;c++)for(var h=0;4>h;h++)r.s[c][h]=r.h[c][h];for(c=1;4>c;c++)for(h=0;4>h;h++)r.h[c][h]=r.s[c][(h+c)%Ho]}function Qt(r){for(var c=1;4>c;c++)for(var h=0;4>h;h++)r.s[c][(h+c)%Ho]=r.h[c][h];for(c=1;4>c;c++)for(h=0;4>h;h++)r.h[c][h]=r.s[c][h]}function Kn(r){r[0]=qo[r[0]],r[1]=qo[r[1]],r[2]=qo[r[2]],r[3]=qo[r[3]]}var qo=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Ol=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],ho=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],Ll=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],La=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],Go=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],Uf=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],Tn=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],nu=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function Bf(r,c){r=new zo(tg(r)),c=Jm(c);for(var h=c.splice(0,16),y="",S;h.length;){S=16-h.length;for(var x=0;x<S;x++)h.push(0);for(S=r,Zm(S,h),Oa(S,0),h=1;h<S.j;++h){Ps(S,qo),mt(S),x=S.h;for(var j=S.s[0],X=0;4>X;X++)j[0]=x[0][X],j[1]=x[1][X],j[2]=x[2][X],j[3]=x[3][X],x[0][X]=Ll[j[0]]^La[j[1]]^j[2]^j[3],x[1][X]=j[0]^Ll[j[1]]^La[j[2]]^j[3],x[2][X]=j[0]^j[1]^Ll[j[2]]^La[j[3]],x[3][X]=La[j[0]]^j[1]^j[2]^Ll[j[3]];Oa(S,h)}Ps(S,qo),mt(S),Oa(S,S.j),y+=Ky(Vf(S)),h=c.splice(0,16)}return y}function eg(r,c){r=new zo(tg(r));for(var h=[],y=0;y<c.length;y+=2)h.push(parseInt(c.substring(y,y+2),16));var S=h.splice(0,16);for(c="";S.length;){for(y=r,Zm(y,S),Oa(y,y.j),S=1;S<y.j;++S){Qt(y),Ps(y,Ol),Oa(y,y.j-S);for(var x=y.h,j=y.s[0],X=0;4>X;X++)j[0]=x[0][X],j[1]=x[1][X],j[2]=x[2][X],j[3]=x[3][X],x[0][X]=nu[j[0]]^Uf[j[1]]^Tn[j[2]]^Go[j[3]],x[1][X]=Go[j[0]]^nu[j[1]]^Uf[j[2]]^Tn[j[3]],x[2][X]=Tn[j[0]]^Go[j[1]]^nu[j[2]]^Uf[j[3]],x[3][X]=Uf[j[0]]^Tn[j[1]]^Go[j[2]]^nu[j[3]]}if(Qt(y),Ps(y,Ol),Oa(y,0),y=Vf(y),8192>=y.length)y=String.fromCharCode.apply(null,y);else{for(S="",x=0;x<y.length;x+=8192)S+=String.fromCharCode.apply(null,jn(y,x,x+8192));y=S}c+=y,S=h.splice(0,16)}return c.replace(/(\x00)+$/,"")}function tg(r){r=Jm(r.substring(0,32));for(var c=32-r.length,h=0;h<c;h++)r.push(0);return r}function Wy(r){var c=[];return Fd(new ng,r,c),c.join("")}function ng(){}function Fd(r,c,h){if(c==null)h.push("null");else{if(typeof c=="object"){if(K(c)){var y=c;c=y.length,h.push("[");for(var S="",x=0;x<c;x++)h.push(S),Fd(r,y[x],h),S=",";h.push("]");return}if(c instanceof String||c instanceof Number||c instanceof Boolean)c=c.valueOf();else{h.push("{"),S="";for(y in c)Object.prototype.hasOwnProperty.call(c,y)&&(x=c[y],typeof x!="function"&&(h.push(S),Wn(y,h),h.push(":"),Fd(r,x,h),S=","));h.push("}");return}}switch(typeof c){case"string":Wn(c,h);break;case"number":h.push(isFinite(c)&&!isNaN(c)?String(c):"null");break;case"boolean":h.push(String(c));break;case"function":h.push("null");break;default:throw Error("Unknown type: "+typeof c)}}}var Ff={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},xr=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Wn(r,c){c.push('"',r.replace(xr,function(h){var y=Ff[h];return y||(y="\\u"+(h.charCodeAt(0)|65536).toString(16).substr(1),Ff[h]=y),y}),'"')}function jl(r){this.a=r}jl.prototype.set=function(r,c){C(c)?this.a.set(r,Wy(c)):this.a.ra(r)},jl.prototype.get=function(r){try{var c=this.a.get(r)}catch{return}if(c!==null)try{return JSON.parse(c)}catch{throw"Storage: Invalid value was encountered"}};function ja(){}se(ja,Fo),ja.prototype.clear=function(){var r=Cn(this.ha(!0)),c=this;J(r,function(h){c.ra(h)})};function Vl(r){this.a=r}se(Vl,ja);function iu(r){if(!r.a)return!1;try{return r.a.setItem("__sak","1"),r.a.removeItem("__sak"),!0}catch{return!1}}n=Vl.prototype,n.set=function(r,c){try{this.a.setItem(r,c)}catch{throw this.a.length==0?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},n.get=function(r){if(r=this.a.getItem(r),!N(r)&&r!==null)throw"Storage mechanism: Invalid value was encountered";return r},n.ra=function(r){this.a.removeItem(r)},n.ha=function(r){var c=0,h=this.a,y=new Nt;return y.next=function(){if(c>=h.length)throw dt;var S=h.key(c++);if(r)return S;if(S=h.getItem(S),!N(S))throw"Storage mechanism: Invalid value was encountered";return S},y},n.clear=function(){this.a.clear()},n.key=function(r){return this.a.key(r)};function Ds(){var r=null;try{r=window.localStorage||null}catch{}this.a=r}se(Ds,Vl);function ru(){var r=null;try{r=window.sessionStorage||null}catch{}this.a=r}se(ru,Vl);function Va(r,c){this.g=r,this.a=c+"::"}se(Va,ja),Va.prototype.set=function(r,c){this.g.set(this.a+r,c)},Va.prototype.get=function(r){return this.g.get(this.a+r)},Va.prototype.ra=function(r){this.g.ra(this.a+r)},Va.prototype.ha=function(r){var c=this.g.ha(!0),h=this,y=new Nt;return y.next=function(){for(var S=c.next();S.substr(0,h.a.length)!=h.a;)S=c.next();return r?S.substr(h.a.length):h.g.get(S)},y},iu(new Ds);var zf,ig=new ru;zf=iu(ig)?new Va(ig,"firebaseui"):null;var Hf=new jl(zf),qf={name:"pendingEmailCredential",storage:Hf},Ua={name:"redirectStatus",storage:Hf},su={name:"redirectUrl",storage:Hf},Ul={name:"emailForSignIn",storage:new jl(new uo(3600,"/"))},Bl={name:"pendingEncryptedCredential",storage:new jl(new uo(3600,"/"))};function Fl(r,c){return r.storage.get(c?r.name+":"+c:r.name)}function Ar(r,c){r.storage.a.ra(c?r.name+":"+c:r.name)}function zl(r,c,h){r.storage.set(h?r.name+":"+h:r.name,c)}function rg(r){return Fl(su,r)||null}function Os(r){return r=Fl(qf,r)||null,eu(r)}function ms(r){Ar(qf,r)}function sg(r,c){zl(qf,jf(r),c)}function Gf(r){return(r=Fl(Ua,r)||null)&&typeof r.tenantId<"u"?new tu(r.tenantId):null}function Yy(r,c){zl(Ua,{tenantId:r.a},c)}function Xy(r,c){c=Fl(Ul,c);var h=null;if(c)try{var y=eg(r,c),S=JSON.parse(y);h=S&&S.email||null}catch{}return h}function Qy(r,c){c=Fl(Bl,c);var h=null;if(c)try{var y=eg(r,c);h=JSON.parse(y)}catch{}return eu(h||null)}function Sw(r,c,h){zl(Bl,Bf(r,JSON.stringify(jf(c))),h)}function $f(){this.W={}}function hn(r,c,h){if(c.toLowerCase()in r.W)throw Error("Configuration "+c+" has already been defined.");r.W[c.toLowerCase()]=h}function ou(r,c,h){if(!(c.toLowerCase()in r.W))throw Error("Configuration "+c+" is not defined.");r.W[c.toLowerCase()]=h}$f.prototype.get=function(r){if(!(r.toLowerCase()in this.W))throw Error("Configuration "+r+" is not defined.");return this.W[r.toLowerCase()]};function Kf(r,c){if(r=r.get(c),!r)throw Error("Configuration "+c+" is required.");return r}function au(){this.g=void 0,this.a={}}n=au.prototype,n.set=function(r,c){lu(this,r,c,!1)},n.add=function(r,c){lu(this,r,c,!0)};function lu(r,c,h,y){for(var S=0;S<c.length;S++){var x=c.charAt(S);r.a[x]||(r.a[x]=new au),r=r.a[x]}if(y&&r.g!==void 0)throw Error('The collection already contains the key "'+c+'"');r.g=h}n.get=function(r){e:{for(var c=this,h=0;h<r.length;h++)if(c=c.a[r.charAt(h)],!c){r=void 0;break e}r=c}return r?r.g:void 0},n.la=function(){var r=[];return og(this,r),r};function og(r,c){r.g!==void 0&&c.push(r.g);for(var h in r.a)og(r.a[h],c)}n.ja=function(){var r=[];return ag(this,"",r),r};function ag(r,c,h){r.g!==void 0&&h.push(c);for(var y in r.a)ag(r.a[y],c+y,h)}n.clear=function(){this.a={},this.g=void 0};function lg(r){for(this.a=r,this.g=new au,r=0;r<this.a.length;r++){var c=this.g.get("+"+this.a[r].b);c?c.push(this.a[r]):this.g.add("+"+this.a[r].b,[this.a[r]])}}function zd(r,c){r=r.g;var h={},y=0;for(r.g!==void 0&&(h[y]=r.g);y<c.length;y++){var S=c.charAt(y);if(!(S in r.a))break;r=r.a[S],r.g!==void 0&&(h[y]=r.g)}for(var x in h)if(h.hasOwnProperty(x))return h[x];return[]}function Ba(r){for(var c=0;c<Ki.length;c++)if(Ki[c].c===r)return Ki[c];return null}function cg(r){r=r.toUpperCase();for(var c=[],h=0;h<Ki.length;h++)Ki[h].f===r&&c.push(Ki[h]);return c}function Wf(r){if(0<r.length&&r.charAt(0)=="+"){r=r.substring(1);for(var c=[],h=0;h<Ki.length;h++)Ki[h].b==r&&c.push(Ki[h]);r=c}else r=cg(r);return r}function ug(r){r.sort(function(c,h){return c.name.localeCompare(h.name,"en")})}var Ki=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Cte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Runion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthlemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"So Tom and Prncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];ug(Ki);var Hl=new lg(Ki);function dg(r,c){this.a=r,this.Aa=c}function hg(r){r=tn(r);var c=zd(Hl,r);return 0<c.length?new dg(c[0].b=="1"?"1-US-0":c[0].c,tn(r.substr(c[0].b.length+1))):null}function fg(r){var c=Ba(r.a);if(!c)throw Error("Country ID "+r.a+" not found.");return"+"+c.b+r.Aa}function Yf(r,c){for(var h=0;h<r.length;h++)if(!Fe(pg,r[h])&&(ql!==null&&r[h]in ql||Fe(c,r[h])))return r[h];return null}var pg=["emailLink","password","phone"],ql={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function mg(){this.a=new $f,hn(this.a,"autoUpgradeAnonymousUsers"),hn(this.a,"callbacks"),hn(this.a,"credentialHelper",Yd),hn(this.a,"immediateFederatedRedirect",!1),hn(this.a,"popupMode",!1),hn(this.a,"privacyPolicyUrl"),hn(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),hn(this.a,"queryParameterForWidgetMode","mode"),hn(this.a,"signInFlow"),hn(this.a,"signInOptions"),hn(this.a,"signInSuccessUrl"),hn(this.a,"siteName"),hn(this.a,"tosUrl"),hn(this.a,"widgetUrl"),hn(this.a,"adminRestrictedOperation")}function Hd(r){var c=!!r.a.get("autoUpgradeAnonymousUsers");return c&&!Kd(r)&&$i('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),c}function qd(r){r=r.a.get("signInOptions")||[];for(var c=[],h=0;h<r.length;h++){var y=r[h];y=Z(y)?y:{provider:y},y.provider&&c.push(y)}return c}function es(r,c){r=qd(r);for(var h=0;h<r.length;h++)if(r[h].provider===c)return r[h];return null}function cu(r){return qd(r).map(function(c){return c.provider})}function uu(r,c){r=du(r);for(var h=0;h<r.length;h++)if(r[h].providerId===c)return r[h];return null}function du(r){return qd(r).map(function(c){if(ql[c.provider]||Fe(t0,c.provider)){c={providerId:c.provider,S:c.providerName||null,V:c.fullLabel||null,ta:c.buttonColor||null,za:c.iconUrl?_s(Ta(c.iconUrl)).toString():null};for(var h in c)c[h]===null&&delete c[h];return c}return{providerId:c.provider,S:c.providerName||null,V:c.fullLabel||null,ta:c.buttonColor||null,za:c.iconUrl?_s(Ta(c.iconUrl)).toString():null,Ob:c.loginHintKey||null}})}function Xf(r){var c=es(r,qe.auth.GoogleAuthProvider.PROVIDER_ID),h;if(h=c&&c.clientId){e:{if((window.location&&window.location.protocol)==="http:"||(window.location&&window.location.protocol)==="https:"){for(y in r=r.a.get("credentialHelper"),ep)if(ep[y]===r){var y=ep[y];break e}}y=Yd}h=y===Wd}return h&&c.clientId||null}function Gd(r){return r=es(r,qe.auth.EmailAuthProvider.PROVIDER_ID),!!(r&&r.disableSignUp&&r.disableSignUp.status)}function Fa(r){return r=r.a.get("adminRestrictedOperation")||null,!(!r||!r.status)}function Jy(r){var c=null;if(qd(r).forEach(function(y){y.provider==qe.auth.PhoneAuthProvider.PROVIDER_ID&&Z(y.recaptchaParameters)&&!Array.isArray(y.recaptchaParameters)&&(c=zr(y.recaptchaParameters))}),c){var h=[];n0.forEach(function(y){typeof c[y]<"u"&&(h.push(y),delete c[y])}),h.length&&rr('The following provided "recaptchaParameters" keys are not allowed: '+h.join(", "))}return c}function Qf(r){return(r=r.a.get("adminRestrictedOperation"))&&r.adminEmail?r.adminEmail:null}function Zy(r){if(r=r.a.get("adminRestrictedOperation")||null){var c=r.helpLink||null;if(c&&typeof c=="string")return function(){Ma(c)}}return null}function e0(r){return(r=es(r,qe.auth.EmailAuthProvider.PROVIDER_ID))&&r.disableSignUp&&r.disableSignUp.adminEmail||null}function xw(r){if((r=es(r,qe.auth.EmailAuthProvider.PROVIDER_ID))&&r.disableSignUp){var c=r.disableSignUp.helpLink||null;if(c&&typeof c=="string")return function(){Ma(c)}}return null}function Gl(r,c){return r=(r=es(r,c))&&r.scopes,Array.isArray(r)?r:[]}function hu(r,c){return r=(r=es(r,c))&&r.customParameters,Z(r)?(r=zr(r),c===qe.auth.GoogleAuthProvider.PROVIDER_ID&&delete r.login_hint,c===qe.auth.GithubAuthProvider.PROVIDER_ID&&delete r.login,r):null}function Jf(r){r=es(r,qe.auth.PhoneAuthProvider.PROVIDER_ID);var c=null;return r&&typeof r.loginHint=="string"&&(c=hg(r.loginHint)),r&&r.defaultNationalNumber||c&&c.Aa||null}function $d(r){var c=(r=es(r,qe.auth.PhoneAuthProvider.PROVIDER_ID))&&r.defaultCountry||null;c=c&&cg(c);var h=null;return r&&typeof r.loginHint=="string"&&(h=hg(r.loginHint)),c&&c[0]||h&&Ba(h.a)||null}function fu(r){if(r=es(r,qe.auth.PhoneAuthProvider.PROVIDER_ID),!r)return null;var c=r.whitelistedCountries,h=r.blacklistedCountries;if(typeof c<"u"&&(!Array.isArray(c)||c.length==0))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof h<"u"&&!Array.isArray(h))throw Error("BlacklistedCountries must be an array.");if(c&&h)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!c&&!h)return Ki;if(r=[],c){h={};for(var y=0;y<c.length;y++)for(var S=Wf(c[y]),x=0;x<S.length;x++)h[S[x].c]=S[x];for(var j in h)h.hasOwnProperty(j)&&r.push(h[j])}else{for(j={},c=0;c<h.length;c++)for(S=Wf(h[c]),y=0;y<S.length;y++)j[S[y].c]=S[y];for(S=0;S<Ki.length;S++)j!==null&&Ki[S].c in j||r.push(Ki[S])}return r}function gg(r){return Kf(r.a,"queryParameterForWidgetMode")}function Un(r){var c=r.a.get("tosUrl")||null;if(r=r.a.get("privacyPolicyUrl")||null,c&&!r&&rr("Privacy Policy URL is missing, the link will not be displayed."),c&&r){if(typeof c=="function")return c;if(typeof c=="string")return function(){Ma(c)}}return null}function fn(r){var c=r.a.get("tosUrl")||null,h=r.a.get("privacyPolicyUrl")||null;if(h&&!c&&rr("Term of Service URL is missing, the link will not be displayed."),c&&h){if(typeof h=="function")return h;if(typeof h=="string")return function(){Ma(h)}}return null}function vg(r){return(r=es(r,qe.auth.EmailAuthProvider.PROVIDER_ID))&&typeof r.requireDisplayName<"u"?!!r.requireDisplayName:!0}function Vi(r){return r=es(r,qe.auth.EmailAuthProvider.PROVIDER_ID),!(!r||r.signInMethod!==qe.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function fo(r){return r=es(r,qe.auth.EmailAuthProvider.PROVIDER_ID),!(!r||!r.forceSameDevice)}function za(r){if(Vi(r)){var c={url:$t(),handleCodeInApp:!0};(r=es(r,qe.auth.EmailAuthProvider.PROVIDER_ID))&&typeof r.emailLinkSignIn=="function"&&Lt(c,r.emailLinkSignIn()),r=c.url;var h=$t();h instanceof He||(h=rn(h)),r instanceof He||(r=rn(r));var y=h;h=new He(y);var S=!!r.j;S?We(h,r.j):S=!!r.A,S?h.A=r.A:S=!!r.h,S?h.h=r.h:S=r.C!=null;var x=r.g;if(S)vt(h,r.C);else if(S=!!r.g){if(x.charAt(0)!="/"&&(y.h&&!y.g?x="/"+x:(y=h.g.lastIndexOf("/"),y!=-1&&(x=h.g.substr(0,y+1)+x))),x==".."||x==".")x="";else if(x.indexOf("./")!=-1||x.indexOf("/.")!=-1){y=x.lastIndexOf("/",0)==0,x=x.split("/");for(var j=[],X=0;X<x.length;){var de=x[X++];de=="."?y&&X==x.length&&j.push(""):de==".."?((1<j.length||j.length==1&&j[0]!="")&&j.pop(),y&&X==x.length&&j.push("")):(j.push(de),y=!0)}x=j.join("/")}}return S?h.g=x:S=r.a.toString()!=="",S?ht(h,ya(r.a)):S=!!r.s,S&&(h.s=r.s),c.url=h.toString(),c}return null}function Zf(r){var c=!!r.a.get("immediateFederatedRedirect"),h=cu(r);return r=$o(r),c&&h.length==1&&!Fe(pg,h[0])&&r==po}function $o(r){r=r.a.get("signInFlow");for(var c in pu)if(pu[c]==r)return pu[c];return po}function Ls(r){return $l(r).signInSuccess||null}function ti(r){return $l(r).signInSuccessWithAuthResult||null}function Kd(r){return $l(r).signInFailure||null}function $l(r){return r.a.get("callbacks")||{}}var Wd="googleyolo",Yd="none",ep={nc:Wd,NONE:Yd},po="redirect",pu={qc:"popup",rc:po},tp={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},t0=["anonymous"],n0=["sitekey","tabindex","callback","expired-callback"],Ha,Kl,Xd,yg,Vt={};function Pe(r,c,h,y){Vt[r].apply(null,Array.prototype.slice.call(arguments,1))}function bg(r){return r.classList?r.classList:(r=r.className,N(r)&&r.match(/\S+/g)||[])}function Bn(r,c){return r.classList?r.classList.contains(c):Fe(bg(r),c)}function pn(r,c){r.classList?r.classList.add(c):Bn(r,c)||(r.className+=0<r.className.length?" "+c:c)}function js(r,c){r.classList?r.classList.remove(c):Bn(r,c)&&(r.className=Re(bg(r),function(h){return h!=c}).join(" "))}function hi(r){var c=r.type;switch(N(c)&&c.toLowerCase()){case"checkbox":case"radio":return r.checked?r.value:null;case"select-one":return c=r.selectedIndex,0<=c?r.options[c].value:null;case"select-multiple":c=[];for(var h,y=0;h=r.options[y];y++)h.selected&&c.push(h.value);return c.length?c:null;default:return r.value!=null?r.value:null}}function wg(r,c){var h=r.type;switch(N(h)&&h.toLowerCase()){case"checkbox":case"radio":r.checked=c;break;case"select-one":if(r.selectedIndex=-1,N(c)){for(var y=0;h=r.options[y];y++)if(h.value==c){h.selected=!0;break}}break;case"select-multiple":for(N(c)&&(c=[c]),y=0;h=r.options[y];y++)if(h.selected=!1,c)for(var S,x=0;S=c[x];x++)h.value==S&&(h.selected=!0);break;default:r.value=c??""}}function i0(r){if(r.altKey&&!r.ctrlKey||r.metaKey||112<=r.keyCode&&123>=r.keyCode)return!1;if(qa(r.keyCode))return!0;switch(r.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!ci;default:return 166>r.keyCode||183<r.keyCode}}function _g(r,c,h,y,S,x){if(ei&&!Gr("525"))return!0;if(as&&S)return qa(r);if(S&&!y)return!1;if(!ci){typeof c=="number"&&(c=Qd(c));var j=c==17||c==18||as&&c==91;if((!h||as)&&j||as&&c==16&&(y||x))return!1}if((ei||br)&&y&&h)switch(r){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(_t&&y&&c==r)return!1;switch(r){case 13:return ci?x||S?!1:!(h&&y):!0;case 27:return!(ei||br||ci)}return ci&&(y||S||x)?!1:qa(r)}function qa(r){if(48<=r&&57>=r||96<=r&&106>=r||65<=r&&90>=r||(ei||br)&&r==0)return!0;switch(r){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return ci;default:return!1}}function Qd(r){if(ci)r=r0(r);else if(as&&ei)switch(r){case 93:r=91}return r}function r0(r){switch(r){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return r}}function Wl(r){dn.call(this),this.a=r,Nn(r,"keydown",this.g,!1,this),Nn(r,"click",this.h,!1,this)}se(Wl,dn),Wl.prototype.g=function(r){(r.keyCode==13||ei&&r.keyCode==3)&&Eg(this,r)},Wl.prototype.h=function(r){Eg(this,r)};function Eg(r,c){var h=new ip(c);if(Xr(r,h)){h=new np(c);try{Xr(r,h)}finally{c.stopPropagation()}}}Wl.prototype.o=function(){Wl.K.o.call(this),Ra(this.a,"keydown",this.g,!1,this),Ra(this.a,"click",this.h,!1,this),delete this.a};function np(r){Gi.call(this,r.a),this.type="action"}se(np,Gi);function ip(r){Gi.call(this,r.a),this.type="beforeaction"}se(ip,Gi);function Ga(r){dn.call(this),this.a=r,r=_t?"focusout":"blur",this.g=Nn(this.a,_t?"focusin":"focus",this,!_t),this.h=Nn(this.a,r,this,!_t)}se(Ga,dn),Ga.prototype.handleEvent=function(r){var c=new Gi(r.a);c.type=r.type=="focusin"||r.type=="focus"?"focusin":"focusout",Xr(this,c)},Ga.prototype.o=function(){Ga.K.o.call(this),Oo(this.g),Oo(this.h),delete this.a};function Jd(r,c){dn.call(this),this.g=r||1,this.a=c||T,this.h=B(this.gc,this),this.j=G()}se(Jd,dn),n=Jd.prototype,n.Ka=!1,n.aa=null,n.gc=function(){if(this.Ka){var r=G()-this.j;0<r&&r<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-r):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),Xr(this,"tick"),this.Ka&&(mu(this),this.start()))}},n.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=G())};function mu(r){r.Ka=!1,r.aa&&(r.a.clearTimeout(r.aa),r.aa=null)}n.o=function(){Jd.K.o.call(this),mu(this),delete this.a};function rp(r,c){if(Y(r))c&&(r=B(r,c));else if(r&&typeof r.handleEvent=="function")r=B(r.handleEvent,r);else throw Error("Invalid listener argument");return T.setTimeout(r,0)}function $a(r){pt.call(this),this.g=r,this.a={}}se($a,pt);var Tg=[];function Ka(r,c,h,y){K(h)||(h&&(Tg[0]=h.toString()),h=Tg);for(var S=0;S<h.length;S++){var x=Nn(c,h[S],y||r.handleEvent,!1,r.g||r);if(!x)break;r.a[x.key]=x}}function Sg(r){Fr(r.a,function(c,h){this.a.hasOwnProperty(h)&&Oo(c)},r),r.a={}}$a.prototype.o=function(){$a.K.o.call(this),Sg(this)},$a.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ts(r){dn.call(this),this.a=null,this.g=r,r=_t||br||ei&&!Gr("531")&&r.tagName=="TEXTAREA",this.h=new $a(this),Ka(this.h,this.g,r?["keydown","paste","cut","drop","input"]:"input",this)}se(ts,dn),ts.prototype.handleEvent=function(r){if(r.type=="input")_t&&Gr(10)&&r.keyCode==0&&r.j==0||(Zd(this),Xr(this,s0(r)));else if(r.type!="keydown"||i0(r)){var c=r.type=="keydown"?this.g.value:null;_t&&r.keyCode==229&&(c=null);var h=s0(r);Zd(this),this.a=rp(function(){this.a=null,this.g.value!=c&&Xr(this,h)},this)}};function Zd(r){r.a!=null&&(T.clearTimeout(r.a),r.a=null)}function s0(r){return r=new Gi(r.a),r.type="input",r}ts.prototype.o=function(){ts.K.o.call(this),this.h.m(),Zd(this),delete this.g};function gu(r,c){dn.call(this),r&&(this.Oa&&Sn(this),this.qa=r,this.Na=Nn(this.qa,"keypress",this,c),this.Ya=Nn(this.qa,"keydown",this.Jb,c,this),this.Oa=Nn(this.qa,"keyup",this.Kb,c,this))}se(gu,dn),n=gu.prototype,n.qa=null,n.Na=null,n.Ya=null,n.Oa=null,n.R=-1,n.X=-1,n.Ua=!1;var mo={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},xg={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},eh=!ei||Gr("525"),vu=as&&ci;n=gu.prototype,n.Jb=function(r){(ei||br)&&(this.R==17&&!r.ctrlKey||this.R==18&&!r.altKey||as&&this.R==91&&!r.metaKey)&&(this.X=this.R=-1),this.R==-1&&(r.ctrlKey&&r.keyCode!=17?this.R=17:r.altKey&&r.keyCode!=18?this.R=18:r.metaKey&&r.keyCode!=91&&(this.R=91)),eh&&!_g(r.keyCode,this.R,r.shiftKey,r.ctrlKey,r.altKey,r.metaKey)?this.handleEvent(r):(this.X=Qd(r.keyCode),vu&&(this.Ua=r.altKey))},n.Kb=function(r){this.X=this.R=-1,this.Ua=r.altKey},n.handleEvent=function(r){var c=r.a,h=c.altKey;if(_t&&r.type=="keypress")var y=this.X,S=y!=13&&y!=27?c.keyCode:0;else(ei||br)&&r.type=="keypress"?(y=this.X,S=0<=c.charCode&&63232>c.charCode&&qa(y)?c.charCode:0):ws&&!ei?(y=this.X,S=qa(y)?c.keyCode:0):(r.type=="keypress"?(vu&&(h=this.Ua),c.keyCode==c.charCode?32>c.keyCode?(y=c.keyCode,S=0):(y=this.X,S=c.charCode):(y=c.keyCode||this.X,S=c.charCode||0)):(y=c.keyCode||this.X,S=c.charCode||0),as&&S==63&&y==224&&(y=191));var x=y=Qd(y);y?63232<=y&&y in mo?x=mo[y]:y==25&&r.shiftKey&&(x=9):c.keyIdentifier&&c.keyIdentifier in xg&&(x=xg[c.keyIdentifier]),ci&&eh&&r.type=="keypress"&&!_g(x,this.R,r.shiftKey,r.ctrlKey,h,r.metaKey)||(r=x==this.R,this.R=x,c=new o0(x,S,r,c),c.altKey=h,Xr(this,c))},n.N=function(){return this.qa};function Sn(r){r.Na&&(Oo(r.Na),Oo(r.Ya),Oo(r.Oa),r.Na=null,r.Ya=null,r.Oa=null),r.qa=null,r.R=-1,r.X=-1}n.o=function(){gu.K.o.call(this),Sn(this)};function o0(r,c,h,y){Gi.call(this,y),this.type="key",this.keyCode=r,this.j=c,this.repeat=h}se(o0,Gi);function yu(r,c,h,y){this.top=r,this.right=c,this.bottom=h,this.left=y}yu.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},yu.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},yu.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},yu.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};function th(r,c){var h=Js(r);return h.defaultView&&h.defaultView.getComputedStyle&&(r=h.defaultView.getComputedStyle(r,null))&&(r[c]||r.getPropertyValue(c))||""}function bu(r){try{var c=r.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return _t&&r.ownerDocument.body&&(r=r.ownerDocument,c.left-=r.documentElement.clientLeft+r.body.clientLeft,c.top-=r.documentElement.clientTop+r.body.clientTop),c}function Wa(r,c){c=c||qn(document);var h=c||qn(document),y=Ag(r),S=Ag(h);if(!_t||9<=Number(wl)){j=th(h,"borderLeftWidth");var x=th(h,"borderRightWidth");X=th(h,"borderTopWidth"),de=th(h,"borderBottomWidth"),x=new yu(parseFloat(X),parseFloat(x),parseFloat(de),parseFloat(j))}else{var j=Ya(h,"borderLeft");x=Ya(h,"borderRight");var X=Ya(h,"borderTop"),de=Ya(h,"borderBottom");x=new yu(X,x,de,j)}h==qn(document)?(j=y.a-h.scrollLeft,y=y.g-h.scrollTop,!_t||10<=Number(wl)||(j+=x.left,y+=x.top)):(j=y.a-S.a-x.left,y=y.g-S.g-x.top),S=r.offsetWidth,x=r.offsetHeight,X=ei&&!S&&!x,C(S)&&!X||!r.getBoundingClientRect?r=new cs(S,x):(r=bu(r),r=new cs(r.right-r.left,r.bottom-r.top)),S=h.clientHeight-r.height,x=h.scrollLeft,X=h.scrollTop,x+=Math.min(j,Math.max(j-(h.clientWidth-r.width),0)),X+=Math.min(y,Math.max(y-S,0)),h=new Er(x,X),c.scrollLeft=h.a,c.scrollTop=h.g}function Ag(r){var c=Js(r),h=new Er(0,0),y=c?Js(c):document;return y=!_t||9<=Number(wl)||Ts(y).a.compatMode=="CSS1Compat"?y.documentElement:y.body,r==y||(r=bu(r),y=Ts(c).a,c=qn(y),y=y.parentWindow||y.defaultView,c=_t&&Gr("10")&&y.pageYOffset!=c.scrollTop?new Er(c.scrollLeft,c.scrollTop):new Er(y.pageXOffset||c.scrollLeft,y.pageYOffset||c.scrollTop),h.a=r.left+c.a,h.g=r.top+c.g),h}var Cg={thin:2,medium:4,thick:6};function Ya(r,c){if((r.currentStyle?r.currentStyle[c+"Style"]:null)=="none")return 0;var h=r.currentStyle?r.currentStyle[c+"Width"]:null;if(h in Cg)r=Cg[h];else if(/^\d+px?$/.test(h))r=parseInt(h,10);else{c=r.style.left;var y=r.runtimeStyle.left;r.runtimeStyle.left=r.currentStyle.left,r.style.left=h,h=r.style.pixelLeft,r.style.left=c,r.runtimeStyle.left=y,r=+h}return r}function gs(){}D(gs),gs.prototype.a=0;function Xa(r){dn.call(this),this.s=r||Ts(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}se(Xa,dn),n=Xa.prototype,n.Lb=gs.Xa(),n.N=function(){return this.g};function St(r,c){return r.g?Tl(c,r.g||r.s.a):null}function wu(r){return r.L||(r.L=new $a(r)),r.L}n.Za=function(r){if(this.Y&&this.Y!=r)throw Error("Method not supported");Xa.K.Za.call(this,r)},n.kb=function(){this.g=this.s.a.createElement("DIV")},n.render=function(r){if(this.na)throw Error("Component already rendered");this.g||this.kb(),r?r.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},n.v=function(){this.na=!0,nh(this,function(r){!r.na&&r.N()&&r.v()})},n.ya=function(){nh(this,function(r){r.na&&r.ya()}),this.L&&Sg(this.L),this.na=!1},n.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),nh(this,function(r){r.m()}),this.g&&xt(this.g),this.Y=this.g=this.oa=this.Ea=null,Xa.K.o.call(this)};function nh(r,c){r.Ea&&J(r.Ea,c,void 0)}n.removeChild=function(r,c){if(r){var h=N(r)?r:r.cb||(r.cb=":"+(r.Lb.a++).toString(36));if(this.oa&&h?(r=this.oa,r=(r!==null&&h in r?r[h]:void 0)||null):r=null,h&&r){var y=this.oa;if(h in y&&delete y[h],Ge(this.Ea,r),c&&(r.ya(),r.g&&xt(r.g)),c=r,c==null)throw Error("Unable to set parent component");c.Y=null,Xa.K.Za.call(c,null)}}if(!r)throw Error("Child is not in parent component");return r};function xn(r,c){var h=bd(r,"firebaseui-textfield");c?(js(r,"firebaseui-input-invalid"),pn(r,"firebaseui-input"),h&&js(h,"firebaseui-textfield-invalid")):(js(r,"firebaseui-input"),pn(r,"firebaseui-input-invalid"),h&&pn(h,"firebaseui-textfield-invalid"))}function Ko(r,c,h){c=new ts(c),kn(r,$(Yr,c)),Ka(wu(r),c,"input",h)}function _u(r,c,h){c=new gu(c),kn(r,$(Yr,c)),Ka(wu(r),c,"key",function(y){y.keyCode==13&&(y.stopPropagation(),y.preventDefault(),h(y))})}function Wo(r,c,h){c=new Ga(c),kn(r,$(Yr,c)),Ka(wu(r),c,"focusin",h)}function Yn(r,c,h){c=new Ga(c),kn(r,$(Yr,c)),Ka(wu(r),c,"focusout",h)}function _n(r,c,h){c=new Wl(c),kn(r,$(Yr,c)),Ka(wu(r),c,"action",function(y){y.stopPropagation(),y.preventDefault(),h(y)})}function Cr(r){pn(r,"firebaseui-hidden")}function Rt(r,c){c&&Po(r,c),js(r,"firebaseui-hidden")}function Eu(r){return!Bn(r,"firebaseui-hidden")&&r.style.display!="none"}function Yl(r){r=r||{};var c=r.email,h=r.disabled,y='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return y=r.wc?y+"Enter new email address":y+"Email",y+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+Ei(c??"")+'"'+(h?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',ke(y)}function sr(r){r=r||{},r=r.label;var c='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return c=r?c+Ye(r):c+"Next",ke(c+"</button>")}function mn(){var r=""+sr({label:bn("Sign In")});return ke(r)}function or(){var r=""+sr({label:bn("Save")});return ke(r)}function fi(){var r=""+sr({label:bn("Continue")});return ke(r)}function Rg(r){r=r||{},r=r.label;var c='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return c=r?c+Ye(r):c+"Choose password",ke(c+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function Ig(){var r={},c='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return c=r.current?c+"Current password":c+"Password",ke(c+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function a0(){return ke('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function ar(r){r=r||{},r=r.label;var c='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return c=r?c+Ye(r):c+"Cancel",ke(c+"</button>")}function Jt(r){var c="";return r.F&&r.D&&(c+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),ke(c)}function Wi(r){var c="";return r.F&&r.D&&(c+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),ke(c)}function kg(r){return r='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+Ye(r.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',ke(r)}kg.a="firebaseui.auth.soy2.element.infoBar";function Rr(r){var c=r.content;return r=r.Ab,ke('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(r?" "+Ei(r):"")+'">'+Ye(c)+"</dialog>")}function Ng(r){var c=r.message;return ke(Rr({content:xl('<div class="firebaseui-dialog-icon-wrapper"><div class="'+Ei(r.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+Ye(c)+"</div>")}))}Ng.a="firebaseui.auth.soy2.element.progressDialog";function Yo(r){var c='<div class="firebaseui-list-box-actions">';r=r.items;for(var h=r.length,y=0;y<h;y++){var S=r[y];c+='<button type="button" data-listboxid="'+Ei(S.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(S.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+Ei(S.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+Ye(S.label)+"</div></button>"}return c=""+Rr({Ab:bn("firebaseui-list-box-dialog"),content:xl(c+"</div>")}),ke(c)}Yo.a="firebaseui.auth.soy2.element.listBoxDialog";function go(r){return r=r||{},ke(r.tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}go.a="firebaseui.auth.soy2.element.busyIndicator";function lr(r,c){return r=r||{},r=r.ga,At(r.S?r.S:c.hb[r.providerId]?""+c.hb[r.providerId]:r.providerId&&r.providerId.indexOf("saml.")==0||r.providerId&&r.providerId.indexOf("oidc.")==0?r.providerId.substring(5):""+r.providerId)}function ih(r){Mg(r,"upgradeElement")}function rh(r){Mg(r,"downgradeElements")}var vo=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function Mg(r,c){r&&window.componentHandler&&window.componentHandler[c]&&vo.forEach(function(h){Bn(r,h)&&window.componentHandler[c](r),J(Ss(h,r),function(y){window.componentHandler[c](y)})})}function Xl(r,c,h){if(Qa.call(this),document.body.appendChild(r),r.showModal||window.dialogPolyfill.registerDialog(r),r.showModal(),ih(r),c&&_n(this,r,function(x){var j=r.getBoundingClientRect();(x.clientX<j.left||j.left+j.width<x.clientX||x.clientY<j.top||j.top+j.height<x.clientY)&&Qa.call(this)}),!h){var y=this.N().parentElement||this.N().parentNode;if(y){var S=this;this.da=function(){if(r.open){var x=r.getBoundingClientRect().height,j=y.getBoundingClientRect().height,X=y.getBoundingClientRect().top-document.body.getBoundingClientRect().top,de=y.getBoundingClientRect().left-document.body.getBoundingClientRect().left,Ae=r.getBoundingClientRect().width,je=y.getBoundingClientRect().width;r.style.top=(X+(j-x)/2).toString()+"px",x=de+(je-Ae)/2,r.style.left=x.toString()+"px",r.style.right=(document.body.getBoundingClientRect().width-x-Ae).toString()+"px"}else window.removeEventListener("resize",S.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function Qa(){var r=Ql.call(this);r&&(rh(r),r.open&&r.close(),xt(r),this.da&&window.removeEventListener("resize",this.da))}function Ql(){return Tl("firebaseui-id-dialog")}function Jl(){xt(Pg.call(this))}function Pg(){return St(this,"firebaseui-id-info-bar")}function Dg(){return St(this,"firebaseui-id-dismiss-info-bar")}var sh={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function sp(r,c,h){io.call(this,r,c);for(var y in h)this[y]=h[y]}se(sp,io);function ge(r,c,h,y,S){Xa.call(this,h),this.fb=r,this.eb=c,this.Fa=!1,this.Ga=y||null,this.A=this.ca=null,this.Z=zr(sh),Lt(this.Z,S||{})}se(ge,Xa),n=ge.prototype,n.kb=function(){var r=As(this.fb,this.eb,this.Z,this.s);ih(r),this.g=r},n.v=function(){if(ge.K.v.call(this),Um(An(this),new sp("pageEnter",An(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var r=this.Z.F;_n(this,this.bb(),function(){r()})}if(this.ab()&&this.Z.D){var c=this.Z.D;_n(this,this.ab(),function(){c()})}},n.ya=function(){Um(An(this),new sp("pageExit",An(this),{pageId:this.Ga})),ge.K.ya.call(this)},n.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,rh(this.N()),ge.K.o.call(this)};function l0(r){r.Fa=!0;var c=Bn(r.N(),"firebaseui-use-spinner");r.ca=window.setTimeout(function(){r.N()&&r.A===null&&(r.A=As(go,{tb:c},null,r.s),r.N().appendChild(r.A),ih(r.A))},500)}n.I=function(r,c,h,y){function S(){if(x.T)return null;x.Fa=!1,window.clearTimeout(x.ca),x.ca=null,x.A&&(rh(x.A),xt(x.A),x.A=null)}var x=this;return x.Fa?null:(l0(x),r.apply(null,c).then(h,y).then(S,S))};function An(r){return r.N().parentElement||r.N().parentNode}function oh(r,c,h){_u(r,c,function(){h.focus()})}function Pt(r,c,h){_u(r,c,function(){h()})}H(ge.prototype,{a:function(r){Jl.call(this);var c=As(kg,{message:r},null,this.s);this.N().appendChild(c),_n(this,Dg.call(this),function(){xt(c)})},yc:Jl,Ac:Pg,zc:Dg,$:function(r,c){r=As(Ng,{Ma:r,message:c},null,this.s),Xl.call(this,r)},h:Qa,Cb:Ql,Cc:function(){return St(this,"firebaseui-tos")},bb:function(){return St(this,"firebaseui-tos-link")},ab:function(){return St(this,"firebaseui-pp-link")},Dc:function(){return St(this,"firebaseui-tos-list")}});function sn(r,c,h){r=r||{},c=r.Va;var y=r.ia;return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Yl(r)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(c?ar(null):"")+sr(null)+'</div></div><div class="firebaseui-card-footer">'+(y?Wi(h):Jt(h))+"</div></form></div>",ke(r)}sn.a="firebaseui.auth.soy2.page.signIn";function Tt(r,c,h){return r=r||{},c=r.ia,r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+Yl(r)+Ig()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+a0()+'</div><div class="firebaseui-form-actions">'+mn()+'</div></div><div class="firebaseui-card-footer">'+(c?Wi(h):Jt(h))+"</div></form></div>",ke(r)}Tt.a="firebaseui.auth.soy2.page.passwordSignIn";function It(r,c,h){r=r||{};var y=r.Tb;c=r.Ta;var S=r.ia,x='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+Yl(r);return y?(r=r||{},r=r.name,r='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+Ei(r??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',r=ke(r)):r="",h=x+r+Rg(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(c?ar(null):"")+or()+'</div></div><div class="firebaseui-card-footer">'+(S?Wi(h):Jt(h))+"</div></form></div>",ke(h)}It.a="firebaseui.auth.soy2.page.passwordSignUp";function Kt(r,c,h){return r=r||{},c=r.Ta,r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+Yl(r)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(c?ar(null):"")+sr({label:bn("Send")})+'</div></div><div class="firebaseui-card-footer">'+Jt(h)+"</div></form></div>",ke(r)}Kt.a="firebaseui.auth.soy2.page.passwordRecovery";function Ir(r,c,h){c=r.G;var y="";return r="Follow the instructions sent to <strong>"+(Ye(r.email)+"</strong> to recover your password"),y+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions">',c&&(y+='<div class="firebaseui-form-actions">'+sr({label:bn("Done")})+"</div>"),y+='</div><div class="firebaseui-card-footer">'+Jt(h)+"</div></div>",ke(y)}Ir.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent";function Xo(r,c,h){return ke('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+go(null)+"</div></div>")}Xo.a="firebaseui.auth.soy2.page.callback";function Zl(r,c,h){return ke('<div class="firebaseui-container firebaseui-id-page-spinner">'+go({tb:!0})+"</div>")}Zl.a="firebaseui.auth.soy2.page.spinner";function op(){return ke('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}op.a="firebaseui.auth.soy2.page.blank";function yo(r,c,h){c="",r="A sign-in email with additional instructions was sent to <strong>"+(Ye(r.email)+"</strong>. Check your email to complete sign-in.");var y=ke('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>');return c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+y+'</div><div class="firebaseui-form-actions">'+ar({label:bn("Back")})+'</div></div><div class="firebaseui-card-footer">'+Jt(h)+"</div></form></div>",ke(c)}yo.a="firebaseui.auth.soy2.page.emailLinkSignInSent";function Pn(r,c,h){return r=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">`+ke('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+ar({label:bn("Back")})+'</div></div><div class="firebaseui-card-footer">'+Jt(h)+"</div></form></div>",ke(r)}Pn.a="firebaseui.auth.soy2.page.emailNotReceived";function Qo(r,c,h){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+Yl(r)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ar(null)+sr(null)+'</div></div><div class="firebaseui-card-footer">'+Jt(h)+"</div></form></div>",ke(r)}Qo.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation";function Ja(){var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ar({label:bn("Dismiss")})+"</div></div></div>";return ke(r)}Ja.a="firebaseui.auth.soy2.page.differentDeviceError";function ap(){var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ar({label:bn("Dismiss")})+"</div></div></div>";return ke(r)}ap.a="firebaseui.auth.soy2.page.anonymousUserMismatch";function ns(r,c,h){return c="",r="Youve already used <strong>"+(Ye(r.email)+"</strong> to sign in. Enter your password for that account."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+r+"</p>"+Ig()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+a0()+'</div><div class="firebaseui-form-actions">'+mn()+'</div></div><div class="firebaseui-card-footer">'+Jt(h)+"</div></form></div>",ke(c)}ns.a="firebaseui.auth.soy2.page.passwordLinking";function ec(r,c,h){var y=r.email;return c="",r=""+lr(r,h),r=bn(r),y="Youve already used <strong>"+(Ye(y)+("</strong>. You can connect your <strong>"+(Ye(r)+("</strong> account with <strong>"+(Ye(y)+"</strong> by signing in with email link below."))))),r="For this flow to successfully connect your "+(Ye(r)+" account with this email, you have to open the link on the same device or browser."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+y+'<p class="firebaseui-text firebaseui-text-justify">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+mn()+'</div></div><div class="firebaseui-card-footer">'+Jt(h)+"</div></form></div>",ke(c)}ec.a="firebaseui.auth.soy2.page.emailLinkSignInLinking";function Tu(r,c,h){c="";var y=""+lr(r,h);return y=bn(y),r="You originally intended to connect <strong>"+(Ye(y)+"</strong> to your email account but have opened the link on a different device where you are not signed in."),y="If you still want to connect your <strong>"+(Ye(y)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+r+'</p><p class="firebaseui-text firebaseui-text-justify">'+y+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+fi()+'</div></div><div class="firebaseui-card-footer">'+Jt(h)+"</div></form></div>",ke(c)}Tu.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice";function cr(r,c,h){var y=r.email;return c="",r=""+lr(r,h),r=bn(r),y="Youve already used <strong>"+(Ye(y)+("</strong>. Sign in with "+(Ye(r)+" to continue."))),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+y+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+sr({label:bn("Sign in with "+r)})+'</div></div><div class="firebaseui-card-footer">'+Jt(h)+"</div></form></div>",ke(c)}cr.a="firebaseui.auth.soy2.page.federatedLinking";function lp(r,c,h){r=r||{};var y=r.kc;c=r.yb,r=r.Eb;var S='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return y?(y="<strong>"+(Ye(y)+"</strong> is not authorized to view the requested page."),S+=y):S+="User is not authorized to view the requested page.",S+="</p>",c&&(c="Please contact <strong>"+(Ye(c)+"</strong> for authorization."),S+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+c+"</p>"),S+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',r&&(S+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),S+='</div><div class="firebaseui-form-actions">'+ar({label:bn("Back")})+'</div></div><div class="firebaseui-card-footer">'+Jt(h)+"</div></form></div>",ke(S)}lp.a="firebaseui.auth.soy2.page.unauthorizedUser";function cp(r,c,h){return c="",r="To continue sign in with <strong>"+(Ye(r.email)+"</strong> on this device, you have to recover the password."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ar(null)+sr({label:bn("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+Jt(h)+"</div></form></div>",ke(c)}cp.a="firebaseui.auth.soy2.page.unsupportedProvider";function ah(r){var c="",h='<p class="firebaseui-text">for <strong>'+(Ye(r.email)+"</strong></p>");return c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+h+Rg(Sl(r))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+or()+"</div></div></form></div>",ke(c)}ah.a="firebaseui.auth.soy2.page.passwordReset";function lh(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+fi()+"</div>":"")+"</div></div>",ke(r)}lh.a="firebaseui.auth.soy2.page.passwordResetSuccess";function Jo(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+fi()+"</div>":"")+"</div></div>",ke(r)}Jo.a="firebaseui.auth.soy2.page.passwordResetFailure";function Ai(r){var c=r.G,h="";return r="Your sign-in email address has been changed back to <strong>"+(Ye(r.email)+"</strong>."),h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p><p class="firebaseui-text">If you didnt ask to change your sign-in email, its possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(c?'<div class="firebaseui-form-actions">'+fi()+"</div>":"")+"</div></form></div>",ke(h)}Ai.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess";function Zo(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still cant reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+fi()+"</div>":"")+"</div></div>",ke(r)}Zo.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure";function tc(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+fi()+"</div>":"")+"</div></div>",ke(r)}tc.a="firebaseui.auth.soy2.page.emailVerificationSuccess";function nc(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+fi()+"</div>":"")+"</div></div>",ke(r)}nc.a="firebaseui.auth.soy2.page.emailVerificationFailure";function up(r){var c=r.G,h="";return r="You can now sign in with your new email <strong>"+(Ye(r.email)+"</strong>."),h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions">'+(c?'<div class="firebaseui-form-actions">'+fi()+"</div>":"")+"</div></div>",ke(h)}up.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess";function dp(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+fi()+"</div>":"")+"</div></div>",ke(r)}dp.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure";function Og(r){var c=r.factorId,h=r.phoneNumber;r=r.G;var y='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(c){case"phone":c="The <strong>"+(Ye(c)+(" "+(Ye(h)+"</strong> was removed as a second authentication step."))),y+=c;break;default:y+="The device or app was removed as a second authentication step."}return y+=`</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">`+(r?'<div class="firebaseui-form-actions">'+fi()+"</div>":"")+"</div></form></div>",ke(y)}Og.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess";function Su(r){return r=r||{},r=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">`+(r.G?'<div class="firebaseui-form-actions">'+fi()+"</div>":"")+"</div></div>",ke(r)}Su.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure";function hp(r){var c=r.zb;return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Ye(r.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',c&&(r+=sr({label:bn("Retry")})),ke(r+"</div></div></div>")}hp.a="firebaseui.auth.soy2.page.recoverableError";function kr(r){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Ye(r.errorMessage)+"</p></div></div>",ke(r)}kr.a="firebaseui.auth.soy2.page.unrecoverableError";function Lg(r,c,h){var y=r.Qb;return c="",r="Continue with "+(Ye(r.jc)+"?"),y="You originally wanted to sign in with "+Ye(y),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+r+'</h2><p class="firebaseui-text">'+y+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ar(null)+sr({label:bn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+Jt(h)+"</div></form></div>",ke(c)}Lg.a="firebaseui.auth.soy2.page.emailMismatch";function Nr(r,c,h){var y='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';r=r.Sb,c=r.length;for(var S=0;S<c;S++){var x={ga:r[S]},j=h;x=x||{};var X=x.ga,de=x;de=de||{};var Ae="";switch(de.ga.providerId){case"google.com":Ae+="firebaseui-idp-google";break;case"github.com":Ae+="firebaseui-idp-github";break;case"facebook.com":Ae+="firebaseui-idp-facebook";break;case"twitter.com":Ae+="firebaseui-idp-twitter";break;case"phone":Ae+="firebaseui-idp-phone";break;case"anonymous":Ae+="firebaseui-idp-anonymous";break;case"password":Ae+="firebaseui-idp-password";break;default:Ae+="firebaseui-idp-generic"}de='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+Ei(At(Ae))+' firebaseui-id-idp-button" data-provider-id="'+Ei(X.providerId)+'" style="background-color:',Ae=(Ae=x)||{},Ae=Ae.ga,de=de+Ei(to(At(Ae.ta?Ae.ta:j.wa[Ae.providerId]?""+j.wa[Ae.providerId]:Ae.providerId.indexOf("saml.")==0?""+j.wa.saml:Ae.providerId.indexOf("oidc.")==0?""+j.wa.oidc:""+j.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var je=x;Ae=j,je=je||{},je=je.ga,Ae=Ed(je.za?Cs(je.za):Ae.xa[je.providerId]?Cs(Ae.xa[je.providerId]):je.providerId.indexOf("saml.")==0?Cs(Ae.xa.saml):je.providerId.indexOf("oidc.")==0?Cs(Ae.xa.oidc):Cs(Ae.xa.password)),de=de+Ei(Cs(Ae))+'"></span>',X.providerId=="password"?(de+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',X.V?de+=Ye(X.V):X.S?(x="Sign in with "+Ye(lr(x,j)),de+=x):de+="Sign in with email",de+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',de=X.S?de+Ye(X.S):de+"Email",de+="</span>"):X.providerId=="phone"?(de+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',X.V?de+=Ye(X.V):X.S?(x="Sign in with "+Ye(lr(x,j)),de+=x):de+="Sign in with phone",de+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',de=X.S?de+Ye(X.S):de+"Phone",de+="</span>"):X.providerId=="anonymous"?(de+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',X.V?de+=Ye(X.V):X.S?(x="Sign in with "+Ye(lr(x,j)),de+=x):de+="Continue as guest",de+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',de=X.S?de+Ye(X.S):de+"Guest",de+="</span>"):(de+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',X.V?de+=Ye(X.V):(Ae="Sign in with "+Ye(lr(x,j)),de+=Ae),de+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(X.S?Ye(X.S):Ye(lr(x,j)))+"</span>"),X=ke(de+"</button>"),y+='<li class="firebaseui-list-item">'+X+"</li>"}return y+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Wi(h)+"</div></div>",ke(y)}Nr.a="firebaseui.auth.soy2.page.providerSignIn";function jg(r,c,h){r=r||{};var y=r.Gb,S=r.Va;c=r.ia,r=r||{},r=r.Aa,r='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+Ei(r??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ke(r);var x;return y?x=ke('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):x="",x=r+x+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(S?ar(null):"")+sr({label:bn("Verify")})+'</div></div><div class="firebaseui-card-footer">',c?(c='<p class="firebaseui-tos firebaseui-phone-tos">',c=h.F&&h.D?c+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':c+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",h=ke(c+"</p>")):h=ke('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+Jt(h),ke(x+h+"</div></form></div>")}jg.a="firebaseui.auth.soy2.page.phoneSignInStart";function Vg(r,c,h){r=r||{},c=r.phoneNumber;var y="";return r='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+(Ye(c)+"</a>"),Ye(c),c=y,y=ke('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'),h='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+"</p>"+y+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ar(null)+sr({label:bn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+Jt(h)+"</div></form>",r=ke('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),ke(c+(h+r+"</div>"))}Vg.a="firebaseui.auth.soy2.page.phoneSignInFinish";function c0(){return ke('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}c0.a="firebaseui.auth.soy2.page.signOut";function ea(r,c,h){var y='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';r=r.ec,c=r.length;for(var S=0;S<c;S++){var x=r[S],j="",X=Ye(x.displayName),de=x.tenantId?x.tenantId:"top-level-project";de=bn(de),j+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+Ei(de)+' firebaseui-id-tenant-selection-button"'+(x.tenantId?'data-tenant-id="'+Ei(x.tenantId)+'"':"")+'style="background-color:'+Ei(to(x.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+Ei(Cs(x.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',x.V?j+=Ye(x.V):(x="Sign in to "+Ye(x.displayName),j+=x),j=ke(j+('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+X+"</span></button>")),y+='<li class="firebaseui-list-item">'+j+"</li>"}return y+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Wi(h)+"</div></div>",ke(y)}ea.a="firebaseui.auth.soy2.page.selectTenant";function ch(r,c,h){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Yl(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+sr(null)+'</div></div><div class="firebaseui-card-footer">'+Wi(h)+"</div></form></div>",ke(r)}ch.a="firebaseui.auth.soy2.page.providerMatchByEmail";function Xn(){return St(this,"firebaseui-id-submit")}function En(){return St(this,"firebaseui-id-secondary-link")}function pi(r,c){_n(this,Xn.call(this),function(y){r(y)});var h=En.call(this);h&&c&&_n(this,h,function(y){c(y)})}function uh(){return St(this,"firebaseui-id-password")}function dh(){return St(this,"firebaseui-id-password-error")}function fp(){var r=uh.call(this),c=dh.call(this);Ko(this,r,function(){Eu(c)&&(xn(r,!0),Cr(c))})}function pp(){var r=uh.call(this),c=dh.call(this);return hi(r)?(xn(r,!0),Cr(c),c=!0):(xn(r,!1),Rt(c,At("Enter your password").toString()),c=!1),c?hi(r):null}function xu(r,c,h,y,S,x){ge.call(this,ns,{email:r},x,"passwordLinking",{F:y,D:S}),this.w=c,this.H=h}p(xu,ge),xu.prototype.v=function(){this.P(),this.M(this.w,this.H),Pt(this,this.i(),this.w),this.i().focus(),ge.prototype.v.call(this)},xu.prototype.o=function(){this.w=null,ge.prototype.o.call(this)},xu.prototype.j=function(){return hi(St(this,"firebaseui-id-email"))},H(xu.prototype,{i:uh,B:dh,P:fp,u:pp,ea:Xn,ba:En,M:pi});var Aw=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function ta(){return St(this,"firebaseui-id-email")}function na(){return St(this,"firebaseui-id-email-error")}function ic(r){var c=ta.call(this),h=na.call(this);Ko(this,c,function(){Eu(h)&&(xn(c,!0),Cr(h))}),r&&_u(this,c,function(){r()})}function Vs(){return tn(hi(ta.call(this))||"")}function ia(){var r=ta.call(this),c=na.call(this),h=hi(r)||"";return h?Aw.test(h)?(xn(r,!0),Cr(c),c=!0):(xn(r,!1),Rt(c,At("That email address isn't correct").toString()),c=!1):(xn(r,!1),Rt(c,At("Enter your email address to continue").toString()),c=!1),c?tn(hi(r)):null}function Au(r,c,h,y,S,x,j){ge.call(this,Tt,{email:h,ia:!!x},j,"passwordSignIn",{F:y,D:S}),this.w=r,this.H=c}p(Au,ge),Au.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),oh(this,this.l(),this.i()),Pt(this,this.i(),this.w),hi(this.l())?this.i().focus():this.l().focus(),ge.prototype.v.call(this)},Au.prototype.o=function(){this.H=this.w=null,ge.prototype.o.call(this)},H(Au.prototype,{l:ta,U:na,P:ic,M:Vs,j:ia,i:uh,B:dh,ea:fp,u:pp,ua:Xn,pa:En,ba:pi});function qt(r,c,h,y,S,x){ge.call(this,r,c,y,S||"notice",x),this.i=h||null}se(qt,ge),qt.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),qt.K.v.call(this)},qt.prototype.o=function(){this.i=null,qt.K.o.call(this)},H(qt.prototype,{l:Xn,w:En,u:pi});function hh(r,c,h,y,S){qt.call(this,Ir,{email:r,G:!!c},c,S,"passwordRecoveryEmailSent",{F:h,D:y})}se(hh,qt);function Ug(r,c){qt.call(this,tc,{G:!!r},r,c,"emailVerificationSuccess")}se(Ug,qt);function Bg(r,c){qt.call(this,nc,{G:!!r},r,c,"emailVerificationFailure")}se(Bg,qt);function Fg(r,c,h){qt.call(this,up,{email:r,G:!!c},c,h,"verifyAndChangeEmailSuccess")}se(Fg,qt);function fh(r,c){qt.call(this,dp,{G:!!r},r,c,"verifyAndChangeEmailFailure")}se(fh,qt);function zg(r,c){qt.call(this,Su,{G:!!r},r,c,"revertSecondFactorAdditionFailure")}se(zg,qt);function Hg(r){qt.call(this,c0,void 0,void 0,r,"signOut")}se(Hg,qt);function Zt(r,c){qt.call(this,lh,{G:!!r},r,c,"passwordResetSuccess")}se(Zt,qt);function mp(r,c){qt.call(this,Jo,{G:!!r},r,c,"passwordResetFailure")}se(mp,qt);function u0(r,c){qt.call(this,Zo,{G:!!r},r,c,"emailChangeRevokeFailure")}se(u0,qt);function qg(r,c,h){qt.call(this,hp,{errorMessage:r,zb:!!c},c,h,"recoverableError")}se(qg,qt);function d0(r,c){qt.call(this,kr,{errorMessage:r},void 0,c,"unrecoverableError")}se(d0,qt);function ph(r){if(r.code==="auth/invalid-credential"&&r.message&&r.message.indexOf("error=consent_required")!==-1)return{code:"auth/user-cancelled"};if(r.message&&r.message.indexOf("HTTP Cloud Function returned an error:")!==-1){var c=JSON.parse(r.message.substring(r.message.indexOf("{"),r.message.lastIndexOf("}")+1));return{code:r.code,message:c&&c.error&&c.error.message||r.message}}return r}function ra(r,c,h,y){function S(j){if(!j.name||j.name!="cancel"){e:{var X=j.message;try{var de=((JSON.parse(X).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(de&&de.length){var Ae=!0;break e}}catch{}Ae=!1}if(Ae)j=An(c),c.m(),en(r,j,void 0,At("Your sign-in session has expired. Please try again.").toString());else{if(Ae=j&&j.message||"",j.code){if(j.code=="auth/email-already-in-use"||j.code=="auth/credential-already-in-use")return;Ae=Gt(j)}c.a(Ae)}}}if(E0(r),y)return mh(r,h),wn();if(!h.credential)throw Error("No credential found!");if(!gt(r).currentUser&&!h.user)throw Error("User not logged in.");try{var x=ov(r,h)}catch(j){return $i(j.code||j.message,j),c.a(j.code||j.message),wn()}return h=x.then(function(j){mh(r,j)},S).then(void 0,S),ot(r,x),wn(h)}function mh(r,c){if(!c.user)throw Error("No user found");var h=ti(be(r));if(Ls(be(r))&&h&&rr("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),h){h=ti(be(r));var y=rg(Ke(r))||void 0;Ar(su,Ke(r));var S=!1;Mf()?((!h||h(c,y))&&(S=!0,Oi(window.opener.location,sa(r,y))),h||window.close()):(!h||h(c,y))&&(S=!0,Oi(window.location,sa(r,y))),S||r.reset()}else{h=c.user,c=c.credential,y=Ls(be(r)),S=rg(Ke(r))||void 0,Ar(su,Ke(r));var x=!1;Mf()?((!y||y(h,c,S))&&(x=!0,Oi(window.opener.location,sa(r,S))),y||window.close()):(!y||y(h,c,S))&&(x=!0,Oi(window.location,sa(r,S))),x||r.reset()}}function sa(r,c){if(r=c||be(r).a.get("signInSuccessUrl"),!r)throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return r}function Gt(r){var c={code:r.code};c=c||{};var h="";switch(c.code){case"auth/email-already-in-use":h+="The email address is already used by another account";break;case"auth/requires-recent-login":h+=Ie();break;case"auth/too-many-requests":h+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":h+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":h+="That email address doesn't match an existing account";break;case"auth/user-token-expired":h+=Ie();break;case"auth/weak-password":h+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":h+="The email and password you entered don't match";break;case"auth/network-request-failed":h+="A network error has occurred";break;case"auth/invalid-phone-number":h+=A();break;case"auth/invalid-verification-code":h+=At("Wrong code. Try again.");break;case"auth/code-expired":h+="This code is no longer valid";break;case"auth/expired-action-code":h+="This code has expired.";break;case"auth/invalid-action-code":h+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(c=At(h).toString())return c;try{return JSON.parse(r.message),$i("Internal error: "+r.message,void 0),q().toString()}catch{return r.message}}function gp(r,c,h){var y=ql[c]&&qe.auth[ql[c]]?new qe.auth[ql[c]]:c.indexOf("saml.")==0?new qe.auth.SAMLAuthProvider(c):new qe.auth.OAuthProvider(c);if(!y)throw Error("Invalid Firebase Auth provider!");var S=Gl(be(r),c);if(y.addScope)for(var x=0;x<S.length;x++)y.addScope(S[x]);return S=hu(be(r),c)||{},h&&(c==qe.auth.GoogleAuthProvider.PROVIDER_ID?r="login_hint":c==qe.auth.GithubAuthProvider.PROVIDER_ID?r="login":r=(r=uu(be(r),c))&&r.Ob,r&&(S[r]=h)),y.setCustomParameters&&y.setCustomParameters(S),y}function rc(r,c,h,y){function S(){Yy(new tu(r.h.tenantId||null),Ke(r)),ot(r,c.I(B(r.dc,r),[de],function(){if((window.location&&window.location.protocol)==="file:")return ot(r,hc(r).then(function(Ae){c.m(),Ar(Ua,Ke(r)),Pe("callback",r,X,wn(Ae))},x))},j))}function x(Ae){if(Ar(Ua,Ke(r)),!Ae.name||Ae.name!="cancel")switch(Ae=ph(Ae),Ae.code){case"auth/popup-blocked":S();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":break;case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":c.a(Gt(Ae));break;case"auth/admin-restricted-operation":c.m(),Fa(be(r))?Pe("handleUnauthorizedUser",r,X,null,h):Pe("callback",r,X,hs(Ae));break;default:c.m(),Pe("callback",r,X,hs(Ae))}}function j(Ae){Ar(Ua,Ke(r)),Ae.name&&Ae.name=="cancel"||($i("signInWithRedirect: "+Ae.code,void 0),Ae=Gt(Ae),c.Ga=="blank"&&Zf(be(r))?(c.m(),Pe("providerSignIn",r,X,Ae)):c.a(Ae))}var X=An(c),de=gp(r,h,y);$o(be(r))==po?S():ot(r,x0(r,de).then(function(Ae){c.m(),Pe("callback",r,X,wn(Ae))},x))}function sc(r,c){ot(r,c.I(B(r.$b,r),[],function(h){return c.m(),ra(r,c,h,!0)},function(h){h.name&&h.name=="cancel"||($i("ContinueAsGuest: "+h.code,void 0),h=Gt(h),c.a(h))}))}function bo(r,c,h){function y(x){var j=!1;return x=c.I(B(r.ac,r),[x],function(X){var de=An(c);c.m(),Pe("callback",r,de,wn(X)),j=!0},function(X){if((!X.name||X.name!="cancel")&&(!X||X.code!="auth/credential-already-in-use"))if(X&&X.code=="auth/email-already-in-use"&&X.email&&X.credential){var de=An(c);c.m(),Pe("callback",r,de,hs(X))}else X&&X.code=="auth/admin-restricted-operation"&&Fa(be(r))?(X=An(c),c.m(),Pe("handleUnauthorizedUser",r,X,null,qe.auth.GoogleAuthProvider.PROVIDER_ID)):(X=Gt(X),c.a(X))}),ot(r,x),x.then(function(){return j},function(){return!1})}if(h&&h.credential&&h.clientId===Xf(be(r))){if(Gl(be(r),qe.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var S=JSON.parse(atob(h.credential.split(".")[1])).email}catch{}return rc(r,c,qe.auth.GoogleAuthProvider.PROVIDER_ID,S),wn(!0)}return y(qe.auth.GoogleAuthProvider.credential(h.credential))}return h&&c.a(At("The selected credential for the authentication provider is not supported!").toString()),wn(!1)}function gh(r,c){var h=c.j(),y=c.u();if(h)if(y){var S=qe.auth.EmailAuthProvider.credential(h,y);ot(r,c.I(B(r.bc,r),[h,y],function(x){return ra(r,c,{user:x.user,credential:S,operationType:x.operationType,additionalUserInfo:x.additionalUserInfo})},function(x){if(!x.name||x.name!="cancel")switch(x.code){case"auth/email-already-in-use":break;case"auth/email-exists":xn(c.l(),!1),Rt(c.U(),Gt(x));break;case"auth/too-many-requests":case"auth/wrong-password":xn(c.i(),!1),Rt(c.B(),Gt(x));break;default:$i("verifyPassword: "+x.message,void 0),c.a(Gt(x))}}))}else c.i().focus();else c.l().focus()}function vp(r){return r=cu(be(r)),r.length==1&&r[0]==qe.auth.EmailAuthProvider.PROVIDER_ID}function Gg(r){return r=cu(be(r)),r.length==1&&r[0]==qe.auth.PhoneAuthProvider.PROVIDER_ID}function en(r,c,h,y){vp(r)?y?Pe("signIn",r,c,h,y):vh(r,c,h):r&&Gg(r)&&!y?Pe("phoneSignInStart",r,c):r&&Zf(be(r))&&!y?Pe("federatedRedirect",r,c,h):Pe("providerSignIn",r,c,y,h)}function $g(r,c,h,y){var S=An(c);ot(r,c.I(B(gt(r).fetchSignInMethodsForEmail,gt(r)),[h],function(x){c.m(),Kg(r,S,x,h,y)},function(x){x=Gt(x),c.a(x)}))}function Kg(r,c,h,y,S,x){h.length||Vi(be(r))&&!Vi(be(r))?Fe(h,qe.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?Pe("passwordSignIn",r,c,y,x):h.length==1&&h[0]===qe.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Vi(be(r))?Pe("sendEmailLinkForSignIn",r,c,y,function(){Pe("signIn",r,c)}):Pe("unsupportedProvider",r,c,y):(h=Yf(h,cu(be(r))))?(sg(new Bd(y),Ke(r)),Pe("federatedSignIn",r,c,y,h,S)):Pe("unsupportedProvider",r,c,y):Gd(be(r))?Pe("handleUnauthorizedUser",r,c,y,qe.auth.EmailAuthProvider.PROVIDER_ID):Vi(be(r))?Pe("sendEmailLinkForSignIn",r,c,y,function(){Pe("signIn",r,c)}):Pe("passwordSignUp",r,c,y,void 0,void 0,x)}function Wg(r,c,h,y,S,x){var j=An(c);ot(r,c.I(B(r.Ib,r),[h,x],function(){c.m(),Pe("emailLinkSignInSent",r,j,h,y,x)},S))}function vh(r,c,h){h?Pe("prefilledEmailSignIn",r,c,h):Pe("signIn",r,c)}function Cu(){return Xe($t(),"oobCode")}function yp(){var r=Xe($t(),"continueUrl");return r?function(){Oi(window.location,r)}:null}function yh(r,c){ge.call(this,ap,void 0,c,"anonymousUserMismatch"),this.i=r}p(yh,ge),yh.prototype.v=function(){var r=this;_n(this,this.l(),function(){r.i()}),this.l().focus(),ge.prototype.v.call(this)},yh.prototype.o=function(){this.i=null,ge.prototype.o.call(this)},H(yh.prototype,{l:En}),Vt.anonymousUserMismatch=function(r,c){var h=new yh(function(){h.m(),en(r,c)});h.render(c),nt(r,h)};function Ru(r){ge.call(this,Xo,void 0,r,"callback")}p(Ru,ge),Ru.prototype.I=function(r,c,h,y){return r.apply(null,c).then(h,y)};function bp(r,c,h){if(h.user){var y={user:h.user,credential:h.credential,operationType:h.operationType,additionalUserInfo:h.additionalUserInfo},S=Os(Ke(r)),x=S&&S.g;if(x&&!f0(h.user,x))Cw(r,c,y);else{var j=S&&S.a;j?ot(r,h.user.linkWithCredential(j).then(function(X){y={user:X.user,credential:j,operationType:X.operationType,additionalUserInfo:X.additionalUserInfo},h0(r,c,y)},function(X){wp(r,c,X)})):h0(r,c,y)}}else h=An(c),c.m(),ms(Ke(r)),en(r,h)}function h0(r,c,h){ms(Ke(r)),ra(r,c,h)}function wp(r,c,h){var y=An(c);ms(Ke(r)),h=Gt(h),c.m(),en(r,y,void 0,h)}function Iu(r,c,h,y){var S=An(c);ot(r,gt(r).fetchSignInMethodsForEmail(h).then(function(x){c.m(),x.length?Fe(x,qe.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?Pe("passwordLinking",r,S,h):x.length==1&&x[0]===qe.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Pe("emailLinkSignInLinking",r,S,h):(x=Yf(x,cu(be(r))))?Pe("federatedLinking",r,S,h,x,y):(ms(Ke(r)),Pe("unsupportedProvider",r,S,h)):(ms(Ke(r)),Pe("passwordRecovery",r,S,h,!1,ie().toString()))},function(x){wp(r,c,x)}))}function Cw(r,c,h){var y=An(c);ot(r,oa(r).then(function(){c.m(),Pe("emailMismatch",r,y,h)},function(S){S.name&&S.name=="cancel"||(S=Gt(S.code),c.a(S))}))}function f0(r,c){if(c==r.email)return!0;if(r.providerData){for(var h=0;h<r.providerData.length;h++)if(c==r.providerData[h].email)return!0}return!1}Vt.callback=function(r,c,h){var y=new Ru;y.render(c),nt(r,y),h=h||hc(r),ot(r,h.then(function(S){bp(r,y,S)},function(S){if((S=ph(S))&&(S.code=="auth/account-exists-with-different-credential"||S.code=="auth/email-already-in-use")&&S.email&&S.credential)sg(new Bd(S.email,S.credential),Ke(r)),Iu(r,y,S.email);else if(S&&S.code=="auth/user-cancelled"){var x=Os(Ke(r)),j=Gt(S);x&&x.a?Iu(r,y,x.g,j):x?$g(r,y,x.g,j):wp(r,y,S)}else S&&S.code=="auth/credential-already-in-use"||(S&&S.code=="auth/operation-not-supported-in-this-environment"&&vp(r)?bp(r,y,{user:null,credential:null}):S&&S.code=="auth/admin-restricted-operation"&&Fa(be(r))?(y.m(),ms(Ke(r)),Pe("handleUnauthorizedUser",r,c,null,null)):wp(r,y,S))}))};function ut(r,c){ge.call(this,Ja,void 0,c,"differentDeviceError"),this.i=r}p(ut,ge),ut.prototype.v=function(){var r=this;_n(this,this.l(),function(){r.i()}),this.l().focus(),ge.prototype.v.call(this)},ut.prototype.o=function(){this.i=null,ge.prototype.o.call(this)},H(ut.prototype,{l:En}),Vt.differentDeviceError=function(r,c){var h=new ut(function(){h.m(),en(r,c)});h.render(c),nt(r,h)};function oc(r,c,h,y){ge.call(this,Ai,{email:r,G:!!h},y,"emailChangeRevoke"),this.l=c,this.i=h||null}p(oc,ge),oc.prototype.v=function(){var r=this;_n(this,St(this,"firebaseui-id-reset-password-link"),function(){r.l()}),this.i&&(this.w(this.i),this.u().focus()),ge.prototype.v.call(this)},oc.prototype.o=function(){this.l=this.i=null,ge.prototype.o.call(this)},H(oc.prototype,{u:Xn,B:En,w:pi});function Za(){return St(this,"firebaseui-id-new-password")}function ku(){return St(this,"firebaseui-id-password-toggle")}function p0(){this.Ra=!this.Ra;var r=ku.call(this),c=Za.call(this);this.Ra?(c.type="text",pn(r,"firebaseui-input-toggle-off"),js(r,"firebaseui-input-toggle-on")):(c.type="password",pn(r,"firebaseui-input-toggle-on"),js(r,"firebaseui-input-toggle-off")),c.focus()}function Nu(){return St(this,"firebaseui-id-new-password-error")}function Mu(){this.Ra=!1;var r=Za.call(this);r.type="password";var c=Nu.call(this);Ko(this,r,function(){Eu(c)&&(xn(r,!0),Cr(c))});var h=ku.call(this);pn(h,"firebaseui-input-toggle-on"),js(h,"firebaseui-input-toggle-off"),Wo(this,r,function(){pn(h,"firebaseui-input-toggle-focus"),js(h,"firebaseui-input-toggle-blur")}),Yn(this,r,function(){pn(h,"firebaseui-input-toggle-blur"),js(h,"firebaseui-input-toggle-focus")}),_n(this,h,B(p0,this))}function bh(){var r=Za.call(this),c=Nu.call(this);return hi(r)?(xn(r,!0),Cr(c),c=!0):(xn(r,!1),Rt(c,At("Enter your password").toString()),c=!1),c?hi(r):null}function wo(r,c,h){ge.call(this,ah,{email:r},h,"passwordReset"),this.l=c}p(wo,ge),wo.prototype.v=function(){this.H(),this.B(this.l),Pt(this,this.i(),this.l),this.i().focus(),ge.prototype.v.call(this)},wo.prototype.o=function(){this.l=null,ge.prototype.o.call(this)},H(wo.prototype,{i:Za,w:Nu,M:ku,H:Mu,u:bh,U:Xn,P:En,B:pi});function Pu(r,c,h,y,S){ge.call(this,Og,{factorId:r,phoneNumber:h||null,G:!!y},S,"revertSecondFactorAdditionSuccess"),this.l=c,this.i=y||null}p(Pu,ge),Pu.prototype.v=function(){var r=this;_n(this,St(this,"firebaseui-id-reset-password-link"),function(){r.l()}),this.i&&(this.w(this.i),this.u().focus()),ge.prototype.v.call(this)},Pu.prototype.o=function(){this.l=this.i=null,ge.prototype.o.call(this)},H(Pu.prototype,{u:Xn,B:En,w:pi});function Rw(r,c,h,y,S){var x=h.u();x&&ot(r,h.I(B(gt(r).confirmPasswordReset,gt(r)),[y,x],function(){h.m();var j=new Zt(S);j.render(c),nt(r,j)},function(j){m0(r,c,h,j)}))}function m0(r,c,h,y){(y&&y.code)=="auth/weak-password"?(r=Gt(y),xn(h.i(),!1),Rt(h.w(),r),h.i().focus()):(h&&h.m(),h=new mp,h.render(c),nt(r,h))}function g0(r,c,h){var y=new oc(h,function(){ot(r,y.I(B(gt(r).sendPasswordResetEmail,gt(r)),[h],function(){y.m(),y=new hh(h,void 0,Un(be(r)),fn(be(r))),y.render(c),nt(r,y)},function(){y.a(M().toString())}))});y.render(c),nt(r,y)}function v0(r,c,h,y){var S=new Pu(y.factorId,function(){S.I(B(gt(r).sendPasswordResetEmail,gt(r)),[h],function(){S.m(),S=new hh(h,void 0,Un(be(r)),fn(be(r))),S.render(c),nt(r,S)},function(){S.a(M().toString())})},y.phoneNumber);S.render(c),nt(r,S)}Vt.passwordReset=function(r,c,h,y){ot(r,gt(r).verifyPasswordResetCode(h).then(function(S){var x=new wo(S,function(){Rw(r,c,x,h,y)});x.render(c),nt(r,x)},function(){m0(r,c)}))},Vt.emailChangeRevocation=function(r,c,h){var y=null;ot(r,gt(r).checkActionCode(h).then(function(S){return y=S.data.email,gt(r).applyActionCode(h)}).then(function(){g0(r,c,y)},function(){var S=new u0;S.render(c),nt(r,S)}))},Vt.emailVerification=function(r,c,h,y){ot(r,gt(r).applyActionCode(h).then(function(){var S=new Ug(y);S.render(c),nt(r,S)},function(){var S=new Bg;S.render(c),nt(r,S)}))},Vt.revertSecondFactorAddition=function(r,c,h){var y=null,S=null;ot(r,gt(r).checkActionCode(h).then(function(x){return y=x.data.email,S=x.data.multiFactorInfo,gt(r).applyActionCode(h)}).then(function(){v0(r,c,y,S)},function(){var x=new zg;x.render(c),nt(r,x)}))},Vt.verifyAndChangeEmail=function(r,c,h,y){var S=null;ot(r,gt(r).checkActionCode(h).then(function(x){return S=x.data.email,gt(r).applyActionCode(h)}).then(function(){var x=new Fg(S,y);x.render(c),nt(r,x)},function(){var x=new fh;x.render(c),nt(r,x)}))};function ac(r,c){try{var h=typeof r.selectionStart=="number"}catch{h=!1}h?(r.selectionStart=c,r.selectionEnd=c):_t&&!Gr("9")&&(r.type=="textarea"&&(c=r.value.substring(0,c).replace(/(\r\n|\r|\n)/g,`
`).length),r=r.createTextRange(),r.collapse(!0),r.move("character",c),r.select())}function Ut(r,c,h,y,S,x){ge.call(this,Qo,{email:h},x,"emailLinkSignInConfirmation",{F:y,D:S}),this.l=r,this.u=c}p(Ut,ge),Ut.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),ac(this.i(),(this.i().value||"").length),ge.prototype.v.call(this)},Ut.prototype.o=function(){this.u=this.l=null,ge.prototype.o.call(this)},H(Ut.prototype,{i:ta,M:na,w:ic,H:Vs,j:ia,U:Xn,P:En,B:pi}),Vt.emailLinkConfirmation=function(r,c,h,y,S,x){var j=new Ut(function(){var X=j.j();X?(j.m(),y(r,c,X,h)):j.i().focus()},function(){j.m(),en(r,c,S||void 0)},S||void 0,Un(be(r)),fn(be(r)));j.render(c),nt(r,j),x&&j.a(x)};function lc(r,c,h,y,S){ge.call(this,Tu,{ga:r},S,"emailLinkSignInLinkingDifferentDevice",{F:h,D:y}),this.i=c}p(lc,ge),lc.prototype.v=function(){this.u(this.i),this.l().focus(),ge.prototype.v.call(this)},lc.prototype.o=function(){this.i=null,ge.prototype.o.call(this)},H(lc.prototype,{l:Xn,u:pi}),Vt.emailLinkNewDeviceLinking=function(r,c,h,y){var S=new zi(h);if(h=S.a.a.get(yn.PROVIDER_ID)||null,Nc(S,null),h){var x=new lc(uu(be(r),h),function(){x.m(),y(r,c,S.toString())},Un(be(r)),fn(be(r)));x.render(c),nt(r,x)}else en(r,c)};function ni(r){ge.call(this,op,void 0,r,"blank")}p(ni,ge);function Yg(r,c,h,y,S){var x=new ni,j=new zi(h),X=j.a.a.get(yn.$a)||"",de=j.a.a.get(yn.Sa)||"",Ae=j.a.a.get(yn.Qa)==="1",je=Vn(j),jt=j.a.a.get(yn.PROVIDER_ID)||null;j=j.a.a.get(yn.vb)||null,Rh(r,j);var s=!Fl(Ul,Ke(r)),a=y||Xy(de,Ke(r)),u=(y=Qy(de,Ke(r)))&&y.a;jt&&u&&u.providerId!==jt&&(u=null),x.render(c),nt(r,x),ot(r,x.I(function(){var f=wn(null);f=je&&s||s&&Ae?hs(Error("anonymous-user-not-found")):Ow(r,h).then(function(E){if(jt&&!u)throw Error("pending-credential-not-found");return E});var b=null;return f.then(function(E){return b=E,S?null:gt(r).checkActionCode(X)}).then(function(){return b})},[],function(f){a?Ep(r,x,a,h,u,f):Ae?(x.m(),Pe("differentDeviceError",r,c)):(x.m(),Pe("emailLinkConfirmation",r,c,h,_p))},function(f){var b=void 0;if(!f||!f.name||f.name!="cancel")switch(x.m(),f&&f.message){case"anonymous-user-not-found":Pe("differentDeviceError",r,c);break;case"anonymous-user-mismatch":Pe("anonymousUserMismatch",r,c);break;case"pending-credential-not-found":Pe("emailLinkNewDeviceLinking",r,c,h,Xg);break;default:f&&(b=Gt(f)),en(r,c,void 0,b)}}))}function _p(r,c,h,y){Yg(r,c,y,h,!0)}function Xg(r,c,h){Yg(r,c,h)}function Ep(r,c,h,y,S,x){var j=An(c);c.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",At("Signing in...").toString());var X=null;S=(x?T0(r,x,h,y,S):S0(r,h,y,S)).then(function(de){Ar(Bl,Ke(r)),Ar(Ul,Ke(r)),c.h(),c.$("firebaseui-icon-done",At("Signed in!").toString()),X=setTimeout(function(){c.h(),ra(r,c,de,!0)},1e3),ot(r,function(){c&&(c.h(),c.m()),clearTimeout(X)})},function(de){if(c.h(),c.m(),!de.name||de.name!="cancel"){de=ph(de);var Ae=Gt(de);de.code=="auth/email-already-in-use"||de.code=="auth/credential-already-in-use"?(Ar(Bl,Ke(r)),Ar(Ul,Ke(r))):de.code=="auth/invalid-email"?(Ae=At("The email provided does not match the current sign-in session.").toString(),Pe("emailLinkConfirmation",r,j,y,_p,null,Ae)):en(r,j,h,Ae)}}),ot(r,S)}Vt.emailLinkSignInCallback=Yg;function Du(r,c,h,y,S,x){ge.call(this,ec,{email:r,ga:c},x,"emailLinkSignInLinking",{F:y,D:S}),this.i=h}p(Du,ge),Du.prototype.v=function(){this.u(this.i),this.l().focus(),ge.prototype.v.call(this)},Du.prototype.o=function(){this.i=null,ge.prototype.o.call(this)},H(Du.prototype,{l:Xn,u:pi});function y0(r,c,h,y){var S=An(c);Wg(r,c,h,function(){en(r,S,h)},function(x){if(!x.name||x.name!="cancel"){var j=Gt(x);x&&x.code=="auth/network-request-failed"?c.a(j):(c.m(),en(r,S,h,j))}},y)}Vt.emailLinkSignInLinking=function(r,c,h){var y=Os(Ke(r));if(ms(Ke(r)),y){var S=y.a.providerId,x=new Du(h,uu(be(r),S),function(){y0(r,x,h,y)},Un(be(r)),fn(be(r)));x.render(c),nt(r,x)}else en(r,c)};function cc(r,c,h,y,S,x){ge.call(this,yo,{email:r},x,"emailLinkSignInSent",{F:y,D:S}),this.u=c,this.i=h}p(cc,ge),cc.prototype.v=function(){var r=this;_n(this,this.l(),function(){r.i()}),_n(this,St(this,"firebaseui-id-trouble-getting-email-link"),function(){r.u()}),this.l().focus(),ge.prototype.v.call(this)},cc.prototype.o=function(){this.i=this.u=null,ge.prototype.o.call(this)},H(cc.prototype,{l:En}),Vt.emailLinkSignInSent=function(r,c,h,y,S){var x=new cc(h,function(){x.m(),Pe("emailNotReceived",r,c,h,y,S)},function(){x.m(),y()},Un(be(r)),fn(be(r)));x.render(c),nt(r,x)};function uc(r,c,h,y,S,x,j){ge.call(this,Lg,{jc:r,Qb:c},j,"emailMismatch",{F:S,D:x}),this.l=h,this.i=y}p(uc,ge),uc.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),ge.prototype.v.call(this)},uc.prototype.o=function(){this.i=null,ge.prototype.o.call(this)},H(uc.prototype,{u:Xn,B:En,w:pi}),Vt.emailMismatch=function(r,c,h){var y=Os(Ke(r));if(y){var S=new uc(h.user.email,y.g,function(){var x=S;ms(Ke(r)),ra(r,x,h)},function(){var x=h.credential.providerId,j=An(S);S.m(),y.a?Pe("federatedLinking",r,j,y.g,x):Pe("federatedSignIn",r,j,y.g,x)},Un(be(r)),fn(be(r)));S.render(c),nt(r,S)}else en(r,c)};function Ou(r,c,h,y,S){ge.call(this,Pn,void 0,S,"emailNotReceived",{F:h,D:y}),this.l=r,this.i=c}p(Ou,ge),Ou.prototype.v=function(){var r=this;_n(this,this.u(),function(){r.i()}),_n(this,this.Da(),function(){r.l()}),this.u().focus(),ge.prototype.v.call(this)},Ou.prototype.Da=function(){return St(this,"firebaseui-id-resend-email-link")},Ou.prototype.o=function(){this.i=this.l=null,ge.prototype.o.call(this)},H(Ou.prototype,{u:En}),Vt.emailNotReceived=function(r,c,h,y,S){var x=new Ou(function(){Wg(r,x,h,y,function(j){j=Gt(j),x.a(j)},S)},function(){x.m(),en(r,c,h)},Un(be(r)),fn(be(r)));x.render(c),nt(r,x)};function dc(r,c,h,y,S,x){ge.call(this,cr,{email:r,ga:c},x,"federatedLinking",{F:y,D:S}),this.i=h}p(dc,ge),dc.prototype.v=function(){this.u(this.i),this.l().focus(),ge.prototype.v.call(this)},dc.prototype.o=function(){this.i=null,ge.prototype.o.call(this)},H(dc.prototype,{l:Xn,u:pi}),Vt.federatedLinking=function(r,c,h,y,S){var x=Os(Ke(r));if(x&&x.a){var j=new dc(h,uu(be(r),y),function(){rc(r,j,y,h)},Un(be(r)),fn(be(r)));j.render(c),nt(r,j),S&&j.a(S)}else en(r,c)},Vt.federatedRedirect=function(r,c,h){var y=new ni;y.render(c),nt(r,y),c=cu(be(r))[0],rc(r,y,c,h)},Vt.federatedSignIn=function(r,c,h,y,S){var x=new dc(h,uu(be(r),y),function(){rc(r,x,y,h)},Un(be(r)),fn(be(r)));x.render(c),nt(r,x),S&&x.a(S)};function Iw(r,c,h,y){var S=c.u();S?ot(r,c.I(B(r.Xb,r),[h,S],function(x){return x=x.user.linkWithCredential(y).then(function(j){return ra(r,c,{user:j.user,credential:y,operationType:j.operationType,additionalUserInfo:j.additionalUserInfo})}),ot(r,x),x},function(x){if(!x.name||x.name!="cancel")switch(x.code){case"auth/wrong-password":xn(c.i(),!1),Rt(c.B(),Gt(x));break;case"auth/too-many-requests":c.a(Gt(x));break;default:$i("signInWithEmailAndPassword: "+x.message,void 0),c.a(Gt(x))}})):c.i().focus()}Vt.passwordLinking=function(r,c,h){var y=Os(Ke(r));ms(Ke(r));var S=y&&y.a;if(S){var x=new xu(h,function(){Iw(r,x,h,S)},function(){x.m(),Pe("passwordRecovery",r,c,h)},Un(be(r)),fn(be(r)));x.render(c),nt(r,x)}else en(r,c)};function Lu(r,c,h,y,S,x){ge.call(this,Kt,{email:h,Ta:!!c},x,"passwordRecovery",{F:y,D:S}),this.l=r,this.u=c}p(Lu,ge),Lu.prototype.v=function(){this.B(),this.H(this.l,this.u),hi(this.i())||this.i().focus(),Pt(this,this.i(),this.l),ge.prototype.v.call(this)},Lu.prototype.o=function(){this.u=this.l=null,ge.prototype.o.call(this)},H(Lu.prototype,{i:ta,w:na,B:ic,M:Vs,j:ia,U:Xn,P:En,H:pi});function kw(r,c){var h=c.j();if(h){var y=An(c);ot(r,c.I(B(gt(r).sendPasswordResetEmail,gt(r)),[h],function(){c.m();var S=new hh(h,function(){S.m(),en(r,y)},Un(be(r)),fn(be(r)));S.render(y),nt(r,S)},function(S){xn(c.i(),!1),Rt(c.w(),Gt(S))}))}else c.i().focus()}Vt.passwordRecovery=function(r,c,h,y,S){var x=new Lu(function(){kw(r,x)},y?void 0:function(){x.m(),en(r,c)},h,Un(be(r)),fn(be(r)));x.render(c),nt(r,x),S&&x.a(S)},Vt.passwordSignIn=function(r,c,h,y){var S=new Au(function(){gh(r,S)},function(){var x=S.M();S.m(),Pe("passwordRecovery",r,c,x)},h,Un(be(r)),fn(be(r)),y);S.render(c),nt(r,S)};function Qg(){return St(this,"firebaseui-id-name")}function _o(){return St(this,"firebaseui-id-name-error")}function ju(r,c,h,y,S,x,j,X,de){ge.call(this,It,{email:y,Tb:r,name:S,Ta:!!h,ia:!!X},de,"passwordSignUp",{F:x,D:j}),this.w=c,this.H=h,this.B=r}p(ju,ge),ju.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(oh(this,this.i(),this.u()),oh(this,this.u(),this.l())):oh(this,this.i(),this.l()),this.w&&Pt(this,this.l(),this.w),hi(this.i())?this.B&&!hi(this.u())?this.u().focus():this.l().focus():this.i().focus(),ge.prototype.v.call(this)},ju.prototype.o=function(){this.H=this.w=null,ge.prototype.o.call(this)},H(ju.prototype,{i:ta,U:na,ea:ic,jb:Vs,j:ia,u:Qg,Bc:_o,Ja:function(){var r=Qg.call(this),c=_o.call(this);Ko(this,r,function(){Eu(c)&&(xn(r,!0),Cr(c))})},M:function(){var r=Qg.call(this),c=_o.call(this),h=hi(r);return h=!/^[\s\xa0]*$/.test(h==null?"":String(h)),xn(r,h),h?(Cr(c),c=!0):(Rt(c,At("Enter your account name").toString()),c=!1),c?tn(hi(r)):null},l:Za,ba:Nu,lb:ku,ua:Mu,P:bh,Nb:Xn,Mb:En,pa:pi});function Jg(r,c){var h=vg(be(r)),y=c.j(),S=null;h&&(S=c.M());var x=c.P();if(y){if(h)if(S)S=yr(S);else{c.u().focus();return}if(x){var j=qe.auth.EmailAuthProvider.credential(y,x);ot(r,c.I(B(r.Yb,r),[y,x],function(X){var de={user:X.user,credential:j,operationType:X.operationType,additionalUserInfo:X.additionalUserInfo};return h?(X=X.user.updateProfile({displayName:S}).then(function(){return ra(r,c,de)}),ot(r,X),X):ra(r,c,de)},function(X){if(!X.name||X.name!="cancel"){var de=ph(X);switch(X=Gt(de),de.code){case"auth/email-already-in-use":return Nw(r,c,y,de);case"auth/too-many-requests":X=At("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":xn(c.l(),!1),Rt(c.ba(),X);break;case"auth/admin-restricted-operation":Fa(be(r))?(X=An(c),c.m(),Pe("handleUnauthorizedUser",r,X,y,qe.auth.EmailAuthProvider.PROVIDER_ID)):c.a(X);break;default:de="setAccountInfo: "+Wy(de),$i(de,void 0),c.a(X)}}}))}else c.l().focus()}else c.i().focus()}function Nw(r,c,h,y){function S(){var j=Gt(y);xn(c.i(),!1),Rt(c.U(),j),c.i().focus()}var x=gt(r).fetchSignInMethodsForEmail(h).then(function(j){j.length?S():(j=An(c),c.m(),Pe("passwordRecovery",r,j,h,!1,ie().toString()))},function(){S()});return ot(r,x),x}Vt.passwordSignUp=function(r,c,h,y,S,x){function j(){X.m(),en(r,c)}var X=new ju(vg(be(r)),function(){Jg(r,X)},S?void 0:j,h,y,Un(be(r)),fn(be(r)),x);X.render(c),nt(r,X)};function Zg(){return St(this,"firebaseui-id-phone-confirmation-code")}function Tp(){return St(this,"firebaseui-id-phone-confirmation-code-error")}function b0(){return St(this,"firebaseui-id-resend-countdown")}function Yi(r,c,h,y,S,x,j,X,de){ge.call(this,Vg,{phoneNumber:S},de,"phoneSignInFinish",{F:j,D:X}),this.jb=x,this.i=new Jd(1e3),this.B=x,this.P=r,this.l=c,this.H=h,this.M=y}p(Yi,ge),Yi.prototype.v=function(){var r=this;this.U(this.jb),Nn(this.i,"tick",this.w,!1,this),this.i.start(),_n(this,St(this,"firebaseui-id-change-phone-number-link"),function(){r.P()}),_n(this,this.Da(),function(){r.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),ge.prototype.v.call(this)},Yi.prototype.o=function(){this.M=this.H=this.l=this.P=null,mu(this.i),Ra(this.i,"tick",this.w),this.i=null,ge.prototype.o.call(this)},Yi.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(mu(this.i),Ra(this.i,"tick",this.w),this.ua(),this.lb())},H(Yi.prototype,{u:Zg,pa:Tp,Ja:function(r){var c=Zg.call(this),h=Tp.call(this);Ko(this,c,function(){Eu(h)&&(xn(c,!0),Cr(h))}),r&&_u(this,c,function(){r()})},ba:function(){var r=tn(hi(Zg.call(this))||"");return/^\d{6}$/.test(r)?r:null},Fb:b0,U:function(r){Po(b0.call(this),At("Resend code in "+((9<r?"0:":"0:0")+r)).toString())},ua:function(){Cr(this.Fb())},Da:function(){return St(this,"firebaseui-id-resend-link")},lb:function(){Rt(this.Da())},Nb:Xn,Mb:En,ea:pi});function ev(r,c,h,y){function S(j){c.u().focus(),xn(c.u(),!1),Rt(c.pa(),j)}var x=c.ba();x?(c.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",At("Verifying...").toString()),ot(r,c.I(B(y.confirm,y),[x],function(j){c.h(),c.$("firebaseui-icon-done",At("Verified!").toString());var X=setTimeout(function(){c.h(),c.m();var de={user:is(r).currentUser,credential:null,operationType:j.operationType,additionalUserInfo:j.additionalUserInfo};ra(r,c,de,!0)},1e3);ot(r,function(){c&&c.h(),clearTimeout(X)})},function(j){if(j.name&&j.name=="cancel")c.h();else{var X=ph(j);switch(j=Gt(X),X.code){case"auth/credential-already-in-use":c.h();break;case"auth/code-expired":X=An(c),c.h(),c.m(),Pe("phoneSignInStart",r,X,h,j);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":c.h(),S(j);break;default:c.h(),c.a(j)}}}))):S(At("Wrong code. Try again.").toString())}Vt.phoneSignInFinish=function(r,c,h,y,S,x){var j=new Yi(function(){j.m(),Pe("phoneSignInStart",r,c,h)},function(){ev(r,j,h,S)},function(){j.m(),en(r,c)},function(){j.m(),Pe("phoneSignInStart",r,c,h)},fg(h),y,Un(be(r)),fn(be(r)));j.render(c),nt(r,j),x&&j.a(x)};var w0=!_t&&!(ft("Safari")&&!(ba()||ft("Coast")||ft("Opera")||ft("Edge")||ft("Firefox")||ft("FxiOS")||ft("Silk")||ft("Android")));function wh(r,c){return/-[a-z]/.test(c)?null:w0&&r.dataset?!ft("Android")||ba()||ft("Firefox")||ft("FxiOS")||ft("Opera")||ft("Silk")||c in r.dataset?(r=r.dataset[c],r===void 0?null:r):null:r.getAttribute("data-"+String(c).replace(/([A-Z])/g,"-$1").toLowerCase())}function _h(r,c,h){var y=this;r=As(Yo,{items:r},null,this.s),Xl.call(this,r,!0,!0),h&&(h=vs(r,h))&&(h.focus(),Wa(h,r)),_n(this,r,function(S){(S=(S=bd(S.target,"firebaseui-id-list-box-dialog-button"))&&wh(S,"listboxid"))&&(Qa.call(y),c(S))})}function vs(r,c){r=(r||document).getElementsByTagName("BUTTON");for(var h=0;h<r.length;h++)if(wh(r[h],"listboxid")===c)return r[h];return null}function el(){return St(this,"firebaseui-id-phone-number")}function Eh(){return St(this,"firebaseui-id-country-selector")}function Us(){return St(this,"firebaseui-id-phone-number-error")}function Mw(r,c){var h=r.a,y=tv("1-US-0",h),S=null;if(c&&tv(c,h)?S=c:y?S="1-US-0":S=0<h.length?h[0].c:null,!S)throw Error("No available default country");xp.call(this,S,r)}function tv(r,c){return r=Ba(r),!(!r||!Fe(c,r))}function Vu(r){return r.map(function(c){return{id:c.c,Ma:"firebaseui-flag "+Sp(c),label:c.name+" "+("+"+c.b)}})}function Sp(r){return"firebaseui-flag-"+r.f}function Pw(r){var c=this;_h.call(this,Vu(r.a),function(h){xp.call(c,h,r,!0),c.O().focus()},this.Ba)}function xp(r,c,h){var y=Ba(r);y&&(h&&(h=tn(hi(el.call(this))||""),c=zd(c,h),c.length&&c[0].b!=y.b&&(h="+"+y.b+h.substr(c[0].b.length+1),wg(el.call(this),h))),c=Ba(this.Ba),this.Ba=r,r=St(this,"firebaseui-id-country-selector-flag"),c&&js(r,Sp(c)),pn(r,Sp(y)),Po(St(this,"firebaseui-id-country-selector-code"),"+"+y.b))}function Th(r,c,h,y,S,x,j,X,de,Ae){ge.call(this,jg,{Gb:c,Aa:de||null,Va:!!h,ia:!!x},Ae,"phoneSignInStart",{F:y,D:S}),this.H=X||null,this.M=c,this.l=r,this.w=h||null,this.pa=j||null}p(Th,ge),Th.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||oh(this,this.O(),this.i()),Pt(this,this.i(),this.l),this.O().focus(),ac(this.O(),(this.O().value||"").length),ge.prototype.v.call(this)},Th.prototype.o=function(){this.w=this.l=null,ge.prototype.o.call(this)},H(Th.prototype,{Cb:Ql,O:el,B:Us,ea:function(r,c,h){var y=this,S=el.call(this),x=Eh.call(this),j=Us.call(this),X=r||Hl,de=X.a;if(de.length==0)throw Error("No available countries provided.");Mw.call(y,X,c),_n(this,x,function(){Pw.call(y,X)}),Ko(this,S,function(){Eu(j)&&(xn(S,!0),Cr(j));var Ae=tn(hi(S)||""),je=Ba(this.Ba),jt=zd(X,Ae);Ae=tv("1-US-0",de),jt.length&&jt[0].b!=je.b&&(je=jt[0],xp.call(y,je.b=="1"&&Ae?"1-US-0":je.c,X))}),h&&_u(this,S,function(){h()})},U:function(r){var c=tn(hi(el.call(this))||"");r=r||Hl;var h=r.a,y=zd(Hl,c);if(y.length&&!Fe(h,y[0]))throw wg(el.call(this)),el.call(this).focus(),Rt(Us.call(this),At("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return h=Ba(this.Ba),y.length&&y[0].b!=h.b&&xp.call(this,y[0].c,r),y.length&&(c=c.substr(y[0].b.length+1)),c?new dg(this.Ba,c):null},Ja:Eh,ba:function(){return St(this,"firebaseui-recaptcha-container")},u:function(){return St(this,"firebaseui-id-recaptcha-error")},i:Xn,ua:En,P:pi});function _0(r,c,h,y){try{var S=c.U(Xd)}catch{return}S?Ha?(c.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",At("Verifying...").toString()),ot(r,c.I(B(r.cc,r),[fg(S),h],function(x){var j=An(c);c.$("firebaseui-icon-done",At("Code sent!").toString());var X=setTimeout(function(){c.h(),c.m(),Pe("phoneSignInFinish",r,j,S,15,x)},1e3);ot(r,function(){c&&c.h(),clearTimeout(X)})},function(x){if(c.h(),!x.name||x.name!="cancel"){grecaptcha.reset(yg),Ha=null;var j=x&&x.message||"";if(x.code)switch(x.code){case"auth/too-many-requests":j=At("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":c.O().focus(),Rt(c.B(),A().toString());return;case"auth/admin-restricted-operation":if(Fa(be(r))){x=An(c),c.m(),Pe("handleUnauthorizedUser",r,x,fg(S),qe.auth.PhoneAuthProvider.PROVIDER_ID);return}j=Gt(x);break;default:j=Gt(x)}c.a(j)}}))):Kl?Rt(c.u(),At("Solve the reCAPTCHA").toString()):!Kl&&y&&c.i().click():(c.O().focus(),Rt(c.B(),A().toString()))}Vt.phoneSignInStart=function(r,c,h,y){var S=Jy(be(r))||{};Ha=null,Kl=!(S&&S.size==="invisible");var x=Gg(r),j=$d(be(r)),X=x?Jf(be(r)):null;j=h&&h.a||j&&j.c||null,h=h&&h.Aa||X,(X=fu(be(r)))&&ug(X),Xd=X?new lg(fu(be(r))):Hl;var de=new Th(function(je){_0(r,de,Ae,!(!je||!je.keyCode))},Kl,x?null:function(){Ae.clear(),de.m(),en(r,c)},Un(be(r)),fn(be(r)),x,Xd,j,h);de.render(c),nt(r,de),y&&de.a(y),S.callback=function(je){de.u()&&Cr(de.u()),Ha=je,Kl||_0(r,de,Ae)},S["expired-callback"]=function(){Ha=null};var Ae=new qe.auth.RecaptchaVerifier(Kl?de.ba():de.i(),S,is(r).app);ot(r,de.I(B(Ae.render,Ae),[],function(je){yg=je},function(je){je.name&&je.name=="cancel"||(je=Gt(je),de.m(),en(r,c,void 0,je))}))},Vt.prefilledEmailSignIn=function(r,c,h){var y=new ni;y.render(c),nt(r,y),ot(r,y.I(B(gt(r).fetchSignInMethodsForEmail,gt(r)),[h],function(S){y.m();var x=!(!vp(r)||!Ch(r));Kg(r,c,S,h,void 0,x)},function(S){S=Gt(S),y.m(),Pe("signIn",r,c,h,S)}))};function Sh(r,c,h,y,S){ge.call(this,Nr,{Sb:c},S,"providerSignIn",{F:h,D:y}),this.i=r}p(Sh,ge),Sh.prototype.v=function(){this.l(this.i),ge.prototype.v.call(this)},Sh.prototype.o=function(){this.i=null,ge.prototype.o.call(this)},H(Sh.prototype,{l:function(r){function c(j){r(j)}for(var h=this.g?Ss("firebaseui-id-idp-button",this.g||this.s.a):[],y=0;y<h.length;y++){var S=h[y],x=wh(S,"providerId");_n(this,S,$(c,x))}}}),Vt.providerSignIn=function(r,c,h,y){var S=new Sh(function(x){x==qe.auth.EmailAuthProvider.PROVIDER_ID?(S.m(),vh(r,c,y)):x==qe.auth.PhoneAuthProvider.PROVIDER_ID?(S.m(),Pe("phoneSignInStart",r,c)):x=="anonymous"?sc(r,S):rc(r,S,x,y),kt(r),r.l.cancel()},du(be(r)),Un(be(r)),fn(be(r)));S.render(c),nt(r,S),h&&S.a(h),Ih(r)},Vt.sendEmailLinkForSignIn=function(r,c,h,y){var S=new Ru;S.render(c),nt(r,S),Wg(r,S,h,y,function(x){S.m(),x&&x.code=="auth/admin-restricted-operation"&&Fa(be(r))?Pe("handleUnauthorizedUser",r,c,h,qe.auth.EmailAuthProvider.PROVIDER_ID):(x=Gt(x),Pe("signIn",r,c,h,x))})};function xh(r,c,h,y,S,x,j){ge.call(this,sn,{email:h,Va:!!c,ia:!!x},j,"signIn",{F:y,D:S}),this.i=r,this.u=c}p(xh,ge),xh.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),ac(this.l(),(this.l().value||"").length),ge.prototype.v.call(this)},xh.prototype.o=function(){this.u=this.i=null,ge.prototype.o.call(this)},H(xh.prototype,{l:ta,M:na,w:ic,H:Vs,j:ia,U:Xn,P:En,B:pi}),Vt.signIn=function(r,c,h,y){var S=vp(r),x=new xh(function(){var j=x,X=j.j()||"";X&&$g(r,j,X)},S?null:function(){x.m(),en(r,c,h)},h,Un(be(r)),fn(be(r)),S);x.render(c),nt(r,x),y&&x.a(y)};function Ah(r,c,h,y,S,x,j){ge.call(this,lp,{kc:r,yb:h,Eb:!!y},j,"unauthorizedUser",{F:S,D:x}),this.l=c,this.i=y}p(Ah,ge),Ah.prototype.v=function(){var r=this,c=St(this,"firebaseui-id-unauthorized-user-help-link");this.i&&c&&_n(this,c,function(){r.i()}),_n(this,this.u(),function(){r.l()}),this.u().focus(),ge.prototype.v.call(this)},Ah.prototype.o=function(){this.i=this.l=null,ge.prototype.o.call(this)},H(Ah.prototype,{u:En}),Vt.handleUnauthorizedUser=function(r,c,h,y){function S(){en(r,c)}y===qe.auth.EmailAuthProvider.PROVIDER_ID?S=function(){vh(r,c)}:y===qe.auth.PhoneAuthProvider.PROVIDER_ID&&(S=function(){Pe("phoneSignInStart",r,c)});var x=null,j=null;y===qe.auth.EmailAuthProvider.PROVIDER_ID&&Gd(be(r))?(x=e0(be(r)),j=xw(be(r))):Fa(be(r))&&(x=Qf(be(r)),j=Zy(be(r)));var X=new Ah(h,function(){X.m(),S()},x,j,Un(be(r)),fn(be(r)));X.render(c),nt(r,X)};function Uu(r,c,h,y,S,x){ge.call(this,cp,{email:r},x,"unsupportedProvider",{F:y,D:S}),this.l=c,this.i=h}p(Uu,ge),Uu.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),ge.prototype.v.call(this)},Uu.prototype.o=function(){this.i=this.l=null,ge.prototype.o.call(this)},H(Uu.prototype,{u:Xn,B:En,w:pi}),Vt.unsupportedProvider=function(r,c,h){var y=new Uu(h,function(){y.m(),Pe("passwordRecovery",r,c,h)},function(){y.m(),en(r,c,h)},Un(be(r)),fn(be(r)));y.render(c),nt(r,y)};function ur(r,c){this.$=!1;var h=nv(c);if(Fu[h])throw Error('An AuthUI instance already exists for the key "'+h+'"');Fu[h]=this,this.a=r,this.u=null,this.Y=!1,Bu(this.a),this.h=qe.initializeApp({apiKey:r.app.options.apiKey,authDomain:r.app.options.authDomain},r.app.name+"-firebaseui-temp").auth(),(r=r.emulatorConfig)&&(h=r.port,this.h.useEmulator(r.protocol+"://"+r.host+(h===null?"":":"+h),r.options)),Bu(this.h),this.h.setPersistence&&this.h.setPersistence(qe.auth.Auth.Persistence.SESSION),this.oa=c,this.ca=new mg,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=xi.Xa(),this.j=this.C=null,this.da=this.A=!1}function Bu(r){r&&r.INTERNAL&&r.INTERNAL.logFramework&&r.INTERNAL.logFramework("FirebaseUI-web")}var Fu={};function nv(r){return r||"[DEFAULT]"}function hc(r){return kt(r),r.i||(r.i=Eo(r,function(c){return c&&!Os(Ke(r))?wn(is(r).getRedirectResult().then(function(h){return h},function(h){if(h&&h.code=="auth/email-already-in-use"&&h.email&&h.credential)throw h;return Bs(r,h)})):wn(gt(r).getRedirectResult().then(function(h){return Hd(be(r))&&!h.user&&r.j&&!r.j.isAnonymous?is(r).getRedirectResult():h}))})),r.i}function nt(r,c){kt(r),r.g=c}var fc=null;function gt(r){return kt(r),r.h}function is(r){return kt(r),r.a}function Ke(r){return kt(r),r.oa}function Ch(r){return kt(r),r.O?r.O.emailHint:void 0}n=ur.prototype,n.nb=function(){return kt(this),!!Gf(Ke(this))||iv($t())};function iv(r){return r=new zi(r),(r.a.a.get(yn.ub)||null)==="signIn"&&!!r.a.a.get(yn.$a)}n.start=function(r,c){rv(this,r,c)};function rv(r,c,h,y){kt(r),typeof r.a.languageCode<"u"&&(r.u=r.a.languageCode);var S="en".replace(/_/g,"-");r.a.languageCode=S,r.h.languageCode=S,r.Y=!0,typeof r.a.tenantId<"u"&&(r.h.tenantId=r.a.tenantId),r.ib(h),r.O=y||null;var x=T.document;r.C?r.C.then(function(){x.readyState=="complete"?Ap(r,c):Hc(window,"load",function(){Ap(r,c)})}):x.readyState=="complete"?Ap(r,c):Hc(window,"load",function(){Ap(r,c)})}function Ap(r,c){var h=Si(c,"Could not find the FirebaseUI widget element on the page.");if(h.setAttribute("lang","en".replace(/_/g,"-")),fc){var y=fc;kt(y),Os(Ke(y))&&rr("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),fc.reset()}if(fc=r,r.T=h,Cp(r,h),iu(new Ds)&&iu(new ru)){c=Si(c,"Could not find the FirebaseUI widget element on the page."),h=$t(),y=Kf(be(r).a,"queryParameterForSignInSuccessUrl"),h=(h=Xe(h,y))?_s(Ta(h)).toString():null;e:{y=$t();var S=gg(be(r));y=Xe(y,S)||"";for(x in tp)if(tp[x].toLowerCase()==y.toLowerCase()){var x=tp[x];break e}x="callback"}switch(x){case"callback":h&&(x=Ke(r),zl(su,h,x)),r.nb()?Pe("callback",r,c):en(r,c,Ch(r));break;case"resetPassword":Pe("passwordReset",r,c,Cu(),yp());break;case"recoverEmail":Pe("emailChangeRevocation",r,c,Cu());break;case"revertSecondFactorAddition":Pe("revertSecondFactorAddition",r,c,Cu());break;case"verifyEmail":Pe("emailVerification",r,c,Cu(),yp());break;case"verifyAndChangeEmail":Pe("verifyAndChangeEmail",r,c,Cu(),yp());break;case"signIn":Pe("emailLinkSignInCallback",r,c,$t()),sv();break;case"select":h&&(x=Ke(r),zl(su,h,x)),en(r,c);break;default:throw Error("Unhandled widget operation.")}c=be(r),(c=$l(c).uiShown||null)&&c()}else c=Si(c,"Could not find the FirebaseUI widget element on the page."),x=new d0(At("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()),x.render(c),nt(r,x);c=r.g&&r.g.Ga=="blank"&&Zf(be(r)),Gf(Ke(r))&&!c&&(c=Gf(Ke(r)),Rh(r,c.a),Ar(Ua,Ke(r)))}function Eo(r,c){if(r.A)return c(zu(r));if(ot(r,function(){r.A=!1}),Hd(be(r))){var h=new Mn(function(y){ot(r,r.a.onAuthStateChanged(function(S){r.j=S,r.A||(r.A=!0,y(c(zu(r))))}))});return ot(r,h),h}return r.A=!0,c(null)}function zu(r){return kt(r),Hd(be(r))&&r.j&&r.j.isAnonymous?r.j:null}function ot(r,c){if(kt(r),c){r.s.push(c);var h=function(){er(r.s,function(y){return y==c})};typeof c!="function"&&c.then(h,h)}}n.Db=function(){kt(this),this.Z=!0};function Dw(r){kt(r);var c;return(c=r.Z)||(r=be(r),r=hu(r,qe.auth.GoogleAuthProvider.PROVIDER_ID),c=!(!r||r.prompt!=="select_account")),c}function E0(r){typeof r.a.languageCode<"u"&&r.Y&&(r.Y=!1,r.a.languageCode=r.u)}function Rh(r,c){r.a.tenantId=c,r.h.tenantId=c}n.reset=function(){kt(this);var r=this;this.T&&this.T.removeAttribute("lang"),this.J&&Uy(this.J),E0(this),this.O=null,sv(),Ar(Ua,Ke(this)),kt(this),this.l.cancel(),this.i=wn({user:null,credential:null}),fc==this&&(fc=null),this.T=null;for(var c=0;c<this.s.length;c++)typeof this.s[c]=="function"?this.s[c]():this.s[c].cancel&&this.s[c].cancel();this.s=[],ms(Ke(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=oa(this).then(function(){r.C=null},function(){r.C=null}))};function Cp(r,c){r.L=null,r.J=new Sf(c),r.J.register(),Nn(r.J,"pageEnter",function(h){if(h=h&&h.pageId,r.L!=h){var y=be(r);(y=$l(y).uiChanged||null)&&y(r.L,h),r.L=h}})}n.ib=function(r){kt(this);var c=this.ca,h;for(h in r)try{ou(c.a,h,r[h])}catch{$i('Invalid config: "'+h+'"',void 0)}Pc&&ou(c.a,"popupMode",!1),fu(c),!this.da&&Ls(be(this))&&(rr("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)};function be(r){return kt(r),r.ca}n.Wb=function(){kt(this);var r=be(this),c=Kf(r.a,"widgetUrl");r=gg(r);for(var h=c.search(De),y=0,S,x=[];0<=(S=Ve(c,y,r,h));)x.push(c.substring(y,S)),y=Math.min(c.indexOf("&",S)+1||h,h);x.push(c.substr(y)),c=x.join("").replace(rt,"$1"),h="="+encodeURIComponent("select"),(r+=h)?(h=c.indexOf("#"),0>h&&(h=c.length),y=c.indexOf("?"),0>y||y>h?(y=h,S=""):S=c.substring(y+1,h),c=[c.substr(0,y),S,c.substr(h)],h=c[1],c[1]=r?h?h+"&"+r:r:h,h=c[0]+(c[1]?"?"+c[1]:"")+c[2]):h=c,be(this).a.get("popupMode")?(r=(window.screen.availHeight-600)/2,c=(window.screen.availWidth-500)/2,h=h||"about:blank",r={width:500,height:600,top:0<r?r:0,left:0<c?c:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},r.target=r.target||h.target||"google_popup",r.width=r.width||690,r.height=r.height||500,(r=qm(h,r))&&r.focus()):Oi(window.location,h)};function kt(r){if(r.$)throw Error("AuthUI instance is deleted!")}n.Wa=function(){var r=this;return kt(this),this.h.app.delete().then(function(){var c=nv(Ke(r));delete Fu[c],r.reset(),r.$=!0})};function Ih(r){kt(r);try{Dd(r.l,Xf(be(r)),Dw(r)).then(function(c){return r.g?bo(r,r.g,c):!1})}catch{}}n.Ib=function(r,c){kt(this);var h=this,y=Nl();if(!Vi(be(this)))return hs(Error("Email link sign-in should be enabled to trigger email sending."));var S=za(be(this)),x=new zi(S.url);return Ys(x,y),c&&c.a&&(Sw(y,c,Ke(this)),Nc(x,c.a.providerId)),nr(x,fo(be(this))),Eo(this,function(j){return j&&((j=j.uid)?x.a.a.set(yn.Pa,j):Di(x.a.a,yn.Pa)),S.url=x.toString(),gt(h).sendSignInLinkToEmail(r,S)}).then(function(){var j=Ke(h),X={};X.email=r,zl(Ul,Bf(y,JSON.stringify(X)),j)},function(j){throw Ar(Bl,Ke(h)),Ar(Ul,Ke(h)),j})};function Ow(r,c){var h=Vn(new zi(c));return h?(c=new Mn(function(y,S){var x=is(r).onAuthStateChanged(function(j){x(),j&&j.isAnonymous&&j.uid===h?y(j):j&&j.isAnonymous&&j.uid!==h?S(Error("anonymous-user-mismatch")):S(Error("anonymous-user-not-found"))});ot(r,x)}),ot(r,c),c):wn(null)}function T0(r,c,h,y,S){kt(r);var x=S||null,j=qe.auth.EmailAuthProvider.credentialWithLink(h,y);return h=x?gt(r).signInWithEmailLink(h,y).then(function(X){return X.user.linkWithCredential(x)}).then(function(){return oa(r)}).then(function(){return Bs(r,{code:"auth/email-already-in-use"},x)}):gt(r).fetchSignInMethodsForEmail(h).then(function(X){return X.length?Bs(r,{code:"auth/email-already-in-use"},j):c.linkWithCredential(j)}),ot(r,h),h}function S0(r,c,h,y){kt(r);var S=y||null,x;return c=gt(r).signInWithEmailLink(c,h).then(function(j){if(x={user:j.user,credential:null,operationType:j.operationType,additionalUserInfo:j.additionalUserInfo},S)return j.user.linkWithCredential(S).then(function(X){x={user:X.user,credential:S,operationType:x.operationType,additionalUserInfo:X.additionalUserInfo}})}).then(function(){oa(r)}).then(function(){return is(r).updateCurrentUser(x.user)}).then(function(){return x.user=is(r).currentUser,x}),ot(r,c),c}function sv(){var r=$t();if(iv(r)){r=new zi(r);for(var c in yn)yn.hasOwnProperty(c)&&Di(r.a.a,yn[c]);c={state:"signIn",mode:"emailLink",operation:"clear"};var h=T.document.title;T.history&&T.history.replaceState&&T.history.replaceState(c,h,r.toString())}}n.bc=function(r,c){kt(this);var h=this;return gt(this).signInWithEmailAndPassword(r,c).then(function(y){return Eo(h,function(S){return S?oa(h).then(function(){return Bs(h,{code:"auth/email-already-in-use"},qe.auth.EmailAuthProvider.credential(r,c))}):y})})},n.Yb=function(r,c){kt(this);var h=this;return Eo(this,function(y){if(y){var S=qe.auth.EmailAuthProvider.credential(r,c);return y.linkWithCredential(S)}return gt(h).createUserWithEmailAndPassword(r,c)})},n.ac=function(r){kt(this);var c=this;return Eo(this,function(h){return h?h.linkWithCredential(r).then(function(y){return y},function(y){if(y&&y.code=="auth/email-already-in-use"&&y.email&&y.credential)throw y;return Bs(c,y,r)}):gt(c).signInWithCredential(r)})};function x0(r,c){return kt(r),Eo(r,function(h){return h&&!Os(Ke(r))?h.linkWithPopup(c).then(function(y){return y},function(y){if(y&&y.code=="auth/email-already-in-use"&&y.email&&y.credential)throw y;return Bs(r,y)}):gt(r).signInWithPopup(c)})}n.dc=function(r){kt(this);var c=this,h=this.i;return this.i=null,Eo(this,function(y){return y&&!Os(Ke(c))?y.linkWithRedirect(r):gt(c).signInWithRedirect(r)}).then(function(){},function(y){throw c.i=h,y})},n.cc=function(r,c){kt(this);var h=this;return Eo(this,function(y){return y?y.linkWithPhoneNumber(r,c).then(function(S){return new Wm(S,function(x){if(x.code=="auth/credential-already-in-use")return Bs(h,x);throw x})}):is(h).signInWithPhoneNumber(r,c).then(function(S){return new Wm(S)})})},n.$b=function(){return kt(this),is(this).signInAnonymously()};function ov(r,c){return kt(r),Eo(r,function(h){if(r.j&&!r.j.isAnonymous&&Hd(be(r))&&!gt(r).currentUser)return oa(r).then(function(){return c.credential.providerId=="password"&&(c.credential=null),c});if(h)return oa(r).then(function(){return h.linkWithCredential(c.credential)}).then(function(y){return c.user=y.user,c.credential=y.credential,c.operationType=y.operationType,c.additionalUserInfo=y.additionalUserInfo,c},function(y){if(y&&y.code=="auth/email-already-in-use"&&y.email&&y.credential)throw y;return Bs(r,y,c.credential)});if(!c.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return oa(r).then(function(){return is(r).updateCurrentUser(c.user)}).then(function(){return c.user=is(r).currentUser,c.operationType="signIn",c.credential&&c.credential.providerId&&c.credential.providerId=="password"&&(c.credential=null),c})})}n.Xb=function(r,c){return kt(this),gt(this).signInWithEmailAndPassword(r,c)};function oa(r){return kt(r),gt(r).signOut()}function Bs(r,c,h){if(kt(r),c&&c.code&&(c.code=="auth/email-already-in-use"||c.code=="auth/credential-already-in-use")){var y=Kd(be(r));return wn().then(function(){return y(new Et("anonymous-upgrade-merge-conflict",null,h||c.credential))}).then(function(){throw r.g&&(r.g.m(),r.g=null),c})}return hs(c)}function kh(r,c,h,y){ge.call(this,ch,void 0,y,"providerMatchByEmail",{F:c,D:h}),this.i=r}p(kh,ge),kh.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),ac(this.l(),(this.l().value||"").length),ge.prototype.v.call(this)},kh.prototype.o=function(){this.i=null,ge.prototype.o.call(this)},H(kh.prototype,{l:ta,H:na,u:ic,B:Vs,j:ia,M:Xn,w:pi});function Rp(r,c,h,y,S){ge.call(this,ea,{ec:c},S,"selectTenant",{F:h,D:y}),this.i=r}p(Rp,ge),Rp.prototype.v=function(){av(this,this.i),ge.prototype.v.call(this)},Rp.prototype.o=function(){this.i=null,ge.prototype.o.call(this)};function av(r,c){function h(X){c(X)}for(var y=r.g?Ss("firebaseui-id-tenant-selection-button",r.g||r.s.a):[],S=0;S<y.length;S++){var x=y[S],j=wh(x,"tenantId");_n(r,x,$(h,j))}}function Nh(r){ge.call(this,Zl,void 0,r,"spinner")}p(Nh,ge);function Ip(r){this.a=new $f,hn(this.a,"authDomain"),hn(this.a,"displayMode",Np),hn(this.a,"tenants"),hn(this.a,"callbacks"),hn(this.a,"tosUrl"),hn(this.a,"privacyPolicyUrl");for(var c in r)if(r.hasOwnProperty(c))try{ou(this.a,c,r[c])}catch{$i('Invalid config: "'+c+'"',void 0)}}function lv(r){r=r.a.get("displayMode");for(var c in Mp)if(Mp[c]===r)return Mp[c];return Np}function Mh(r){return r.a.get("callbacks")||{}}function kp(r){var c=r.a.get("tosUrl")||null;if(r=r.a.get("privacyPolicyUrl")||null,c&&!r&&rr("Privacy Policy URL is missing, the link will not be displayed."),c&&r){if(typeof c=="function")return c;if(typeof c=="string")return function(){Ma(c)}}return null}function aa(r){var c=r.a.get("tosUrl")||null,h=r.a.get("privacyPolicyUrl")||null;if(h&&!c&&rr("Terms of Service URL is missing, the link will not be displayed."),c&&h){if(typeof h=="function")return h;if(typeof h=="string")return function(){Ma(h)}}return null}function To(r,c){if(r=r.a.get("tenants"),!r||!r.hasOwnProperty(c)&&!r.hasOwnProperty(nl))throw Error("Invalid tenant configuration!")}function la(r,c,h){if(r=r.a.get("tenants"),!r)throw Error("Invalid tenant configuration!");var y=[];if(r=r[c]||r[nl],!r)return $i("Invalid tenant configuration: "+(c+" is not configured!"),void 0),y;if(c=r.signInOptions,!c)throw Error("Invalid tenant configuration: signInOptions are invalid!");return c.forEach(function(S){if(typeof S=="string")y.push(S);else if(typeof S.provider=="string"){var x=S.hd;x&&h?(x instanceof RegExp?x:new RegExp("@"+x.replace(".","\\.")+"$")).test(h)&&y.push(S.provider):y.push(S.provider)}else S="Invalid tenant configuration: signInOption "+(JSON.stringify(S)+" is invalid!"),$i(S,void 0)}),y}function Ph(r,c,h){return r=Dh(r,c),(c=r.signInOptions)&&h&&(c=c.filter(function(y){return typeof y=="string"?h.includes(y):h.includes(y.provider)}),r.signInOptions=c),r}function Dh(r,c){var h=tl,y=y===void 0?{}:y;return To(r,c),r=r.a.get("tenants"),oo(r[c]||r[nl],h,y)}var tl=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],Np="optionFirst",Mp={pc:Np,oc:"identifierFirst"},nl="*";function Fs(r,c){var h=this;this.s=Si(r),this.a={},Object.keys(c).forEach(function(y){h.a[y]=new Ip(c[y])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(y){this.ob=y||null},enumerable:!1})}n=Fs.prototype,n.Ub=function(r,c){var h=this;ca(this);var y=r.apiKey;return new Mn(function(S,x){if(h.a.hasOwnProperty(y)){var j=Mh(h.a[y]).selectTenantUiHidden||null;if(lv(h.a[y])===Np){var X=[];c.forEach(function(je){je=je||"_";var jt=h.a[y].a.get("tenants");if(!jt)throw Error("Invalid tenant configuration!");(jt=jt[je]||jt[nl])?je={tenantId:je!=="_"?je:null,V:jt.fullLabel||null,displayName:jt.displayName,za:jt.iconUrl,ta:jt.buttonColor}:($i("Invalid tenant configuration: "+(je+" is not configured!"),void 0),je=null),je&&X.push(je)});var de=function(je){je={tenantId:je,providerIds:la(h.a[y],je||"_")},S(je)};if(X.length===1){de(X[0].tenantId);return}h.g=new Rp(function(je){ca(h),j&&j(),de(je)},X,kp(h.a[y]),aa(h.a[y]))}else h.g=new kh(function(){var je=h.g.j();if(je){for(var jt=0;jt<c.length;jt++){var s=la(h.a[y],c[jt]||"_",je);if(s.length!==0){je={tenantId:c[jt],providerIds:s,email:je},ca(h),j&&j(),S(je);return}}h.g.a(he({code:"no-matching-tenant-for-email"}).toString())}},kp(h.a[y]),aa(h.a[y]));h.g.render(h.s),(x=Mh(h.a[y]).selectTenantUiShown||null)&&x()}else{var Ae=Error("Invalid project configuration: API key is invalid!");Ae.code="invalid-configuration",h.pb(Ae),x(Ae)}})},n.Pb=function(r,c){if(!this.a.hasOwnProperty(r))throw Error("Invalid project configuration: API key is invalid!");var h=c||void 0;To(this.a[r],c||"_");try{this.i=qe.app(h).auth()}catch{var y=this.a[r].a.get("authDomain");if(!y)throw Error("Invalid project configuration: authDomain is required!");r=qe.initializeApp({apiKey:r,authDomain:y},h),r.auth().tenantId=c,this.i=r.auth()}return this.i},n.Zb=function(r,c){var h=this;return new Mn(function(y,S){function x(jt,s){h.j=new ur(r),rv(h.j,h.s,jt,s)}var j=r.app.options.apiKey;h.a.hasOwnProperty(j)||S(Error("Invalid project configuration: API key is invalid!"));var X=Ph(h.a[j],r.tenantId||"_",c&&c.providerIds);ca(h),S={signInSuccessWithAuthResult:function(jt){return y(jt),!1}};var de=Mh(h.a[j]).signInUiShown||null,Ae=!1;S.uiChanged=function(jt,s){jt===null&&s==="callback"?((jt=Tl("firebaseui-id-page-callback",h.s))&&Cr(jt),h.h=new Nh,h.h.render(h.s)):Ae||jt===null&&s==="spinner"||s==="blank"||(h.h&&(h.h.m(),h.h=null),Ae=!0,de&&de(r.tenantId))},X.callbacks=S,X.credentialHelper="none";var je;c&&c.email&&(je={emailHint:c.email}),h.j?h.j.Wa().then(function(){x(X,je)}):x(X,je)})},n.reset=function(){var r=this;return wn().then(function(){r.j&&r.j.Wa()}).then(function(){r.j=null,ca(r)})},n.Vb=function(){var r=this;this.h||this.A||(this.A=window.setTimeout(function(){ca(r),r.h=new Nh,r.g=r.h,r.h.render(r.s),r.A=null},500))},n.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},n.Bb=function(){return ca(this),this.g=new Hg,this.g.render(this.s),wn()};function ca(r){r.j&&r.j.reset(),r.mb(),r.g&&r.g.m()}n.pb=function(r){var c=this,h=he({code:r.code}).toString()||r.message;ca(this);var y;r.retry&&typeof r.retry=="function"&&(y=function(){c.reset(),r.retry()}),this.g=new qg(h,y),this.g.render(this.s)},n.Rb=function(r){var c=this;return wn().then(function(){var h=c.i&&c.i.app.options.apiKey;if(!c.a.hasOwnProperty(h))throw Error("Invalid project configuration: API key is invalid!");if(To(c.a[h],r.tenantId||"_"),!c.i.currentUser||c.i.currentUser.uid!==r.uid)throw Error("The user being processed does not match the signed in user!");return(h=Mh(c.a[h]).beforeSignInSuccess||null)?h(r):r}).then(function(h){if(h.uid!==r.uid)throw Error("User with mismatching UID returned.");return h})},L("firebaseui.auth.FirebaseUiHandler",Fs),L("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",Fs.prototype.Ub),L("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",Fs.prototype.Pb),L("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",Fs.prototype.Zb),L("firebaseui.auth.FirebaseUiHandler.prototype.reset",Fs.prototype.reset),L("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",Fs.prototype.Vb),L("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",Fs.prototype.mb),L("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",Fs.prototype.Bb),L("firebaseui.auth.FirebaseUiHandler.prototype.handleError",Fs.prototype.pb),L("firebaseui.auth.FirebaseUiHandler.prototype.processUser",Fs.prototype.Rb),L("firebaseui.auth.AuthUI",ur),L("firebaseui.auth.AuthUI.getInstance",function(r){return r=nv(r),Fu[r]?Fu[r]:null}),L("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",ur.prototype.Db),L("firebaseui.auth.AuthUI.prototype.start",ur.prototype.start),L("firebaseui.auth.AuthUI.prototype.setConfig",ur.prototype.ib),L("firebaseui.auth.AuthUI.prototype.signIn",ur.prototype.Wb),L("firebaseui.auth.AuthUI.prototype.reset",ur.prototype.reset),L("firebaseui.auth.AuthUI.prototype.delete",ur.prototype.Wa),L("firebaseui.auth.AuthUI.prototype.isPendingRedirect",ur.prototype.nb),L("firebaseui.auth.AuthUIError",Et),L("firebaseui.auth.AuthUIError.prototype.toJSON",Et.prototype.toJSON),L("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",Wd),L("firebaseui.auth.CredentialHelper.NONE",Yd),L("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Mn.prototype.catch=Mn.prototype.Ca,Mn.prototype.finally=Mn.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}).apply(typeof global<"u"?global:typeof self<"u"?self:window);typeof window<"u"&&(window.dialogPolyfill=ZU);var kx=firebaseui.auth,s9="firebase",o9="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs(s9,o9,"app");var Nx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qh,bI;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,V){function B(){}B.prototype=V.prototype,U.D=V.prototype,U.prototype=new B,U.prototype.constructor=U,U.C=function($,H,G){for(var L=Array(arguments.length-2),se=2;se<arguments.length;se++)L[se-2]=arguments[se];return V.prototype[H].apply($,L)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(U,V,B){B||(B=0);var $=Array(16);if(typeof V=="string")for(var H=0;16>H;++H)$[H]=V.charCodeAt(B++)|V.charCodeAt(B++)<<8|V.charCodeAt(B++)<<16|V.charCodeAt(B++)<<24;else for(H=0;16>H;++H)$[H]=V[B++]|V[B++]<<8|V[B++]<<16|V[B++]<<24;V=U.g[0],B=U.g[1],H=U.g[2];var G=U.g[3],L=V+(G^B&(H^G))+$[0]+3614090360&4294967295;V=B+(L<<7&4294967295|L>>>25),L=G+(H^V&(B^H))+$[1]+3905402710&4294967295,G=V+(L<<12&4294967295|L>>>20),L=H+(B^G&(V^B))+$[2]+606105819&4294967295,H=G+(L<<17&4294967295|L>>>15),L=B+(V^H&(G^V))+$[3]+3250441966&4294967295,B=H+(L<<22&4294967295|L>>>10),L=V+(G^B&(H^G))+$[4]+4118548399&4294967295,V=B+(L<<7&4294967295|L>>>25),L=G+(H^V&(B^H))+$[5]+1200080426&4294967295,G=V+(L<<12&4294967295|L>>>20),L=H+(B^G&(V^B))+$[6]+2821735955&4294967295,H=G+(L<<17&4294967295|L>>>15),L=B+(V^H&(G^V))+$[7]+4249261313&4294967295,B=H+(L<<22&4294967295|L>>>10),L=V+(G^B&(H^G))+$[8]+1770035416&4294967295,V=B+(L<<7&4294967295|L>>>25),L=G+(H^V&(B^H))+$[9]+2336552879&4294967295,G=V+(L<<12&4294967295|L>>>20),L=H+(B^G&(V^B))+$[10]+4294925233&4294967295,H=G+(L<<17&4294967295|L>>>15),L=B+(V^H&(G^V))+$[11]+2304563134&4294967295,B=H+(L<<22&4294967295|L>>>10),L=V+(G^B&(H^G))+$[12]+1804603682&4294967295,V=B+(L<<7&4294967295|L>>>25),L=G+(H^V&(B^H))+$[13]+4254626195&4294967295,G=V+(L<<12&4294967295|L>>>20),L=H+(B^G&(V^B))+$[14]+2792965006&4294967295,H=G+(L<<17&4294967295|L>>>15),L=B+(V^H&(G^V))+$[15]+1236535329&4294967295,B=H+(L<<22&4294967295|L>>>10),L=V+(H^G&(B^H))+$[1]+4129170786&4294967295,V=B+(L<<5&4294967295|L>>>27),L=G+(B^H&(V^B))+$[6]+3225465664&4294967295,G=V+(L<<9&4294967295|L>>>23),L=H+(V^B&(G^V))+$[11]+643717713&4294967295,H=G+(L<<14&4294967295|L>>>18),L=B+(G^V&(H^G))+$[0]+3921069994&4294967295,B=H+(L<<20&4294967295|L>>>12),L=V+(H^G&(B^H))+$[5]+3593408605&4294967295,V=B+(L<<5&4294967295|L>>>27),L=G+(B^H&(V^B))+$[10]+38016083&4294967295,G=V+(L<<9&4294967295|L>>>23),L=H+(V^B&(G^V))+$[15]+3634488961&4294967295,H=G+(L<<14&4294967295|L>>>18),L=B+(G^V&(H^G))+$[4]+3889429448&4294967295,B=H+(L<<20&4294967295|L>>>12),L=V+(H^G&(B^H))+$[9]+568446438&4294967295,V=B+(L<<5&4294967295|L>>>27),L=G+(B^H&(V^B))+$[14]+3275163606&4294967295,G=V+(L<<9&4294967295|L>>>23),L=H+(V^B&(G^V))+$[3]+4107603335&4294967295,H=G+(L<<14&4294967295|L>>>18),L=B+(G^V&(H^G))+$[8]+1163531501&4294967295,B=H+(L<<20&4294967295|L>>>12),L=V+(H^G&(B^H))+$[13]+2850285829&4294967295,V=B+(L<<5&4294967295|L>>>27),L=G+(B^H&(V^B))+$[2]+4243563512&4294967295,G=V+(L<<9&4294967295|L>>>23),L=H+(V^B&(G^V))+$[7]+1735328473&4294967295,H=G+(L<<14&4294967295|L>>>18),L=B+(G^V&(H^G))+$[12]+2368359562&4294967295,B=H+(L<<20&4294967295|L>>>12),L=V+(B^H^G)+$[5]+4294588738&4294967295,V=B+(L<<4&4294967295|L>>>28),L=G+(V^B^H)+$[8]+2272392833&4294967295,G=V+(L<<11&4294967295|L>>>21),L=H+(G^V^B)+$[11]+1839030562&4294967295,H=G+(L<<16&4294967295|L>>>16),L=B+(H^G^V)+$[14]+4259657740&4294967295,B=H+(L<<23&4294967295|L>>>9),L=V+(B^H^G)+$[1]+2763975236&4294967295,V=B+(L<<4&4294967295|L>>>28),L=G+(V^B^H)+$[4]+1272893353&4294967295,G=V+(L<<11&4294967295|L>>>21),L=H+(G^V^B)+$[7]+4139469664&4294967295,H=G+(L<<16&4294967295|L>>>16),L=B+(H^G^V)+$[10]+3200236656&4294967295,B=H+(L<<23&4294967295|L>>>9),L=V+(B^H^G)+$[13]+681279174&4294967295,V=B+(L<<4&4294967295|L>>>28),L=G+(V^B^H)+$[0]+3936430074&4294967295,G=V+(L<<11&4294967295|L>>>21),L=H+(G^V^B)+$[3]+3572445317&4294967295,H=G+(L<<16&4294967295|L>>>16),L=B+(H^G^V)+$[6]+76029189&4294967295,B=H+(L<<23&4294967295|L>>>9),L=V+(B^H^G)+$[9]+3654602809&4294967295,V=B+(L<<4&4294967295|L>>>28),L=G+(V^B^H)+$[12]+3873151461&4294967295,G=V+(L<<11&4294967295|L>>>21),L=H+(G^V^B)+$[15]+530742520&4294967295,H=G+(L<<16&4294967295|L>>>16),L=B+(H^G^V)+$[2]+3299628645&4294967295,B=H+(L<<23&4294967295|L>>>9),L=V+(H^(B|~G))+$[0]+4096336452&4294967295,V=B+(L<<6&4294967295|L>>>26),L=G+(B^(V|~H))+$[7]+1126891415&4294967295,G=V+(L<<10&4294967295|L>>>22),L=H+(V^(G|~B))+$[14]+2878612391&4294967295,H=G+(L<<15&4294967295|L>>>17),L=B+(G^(H|~V))+$[5]+4237533241&4294967295,B=H+(L<<21&4294967295|L>>>11),L=V+(H^(B|~G))+$[12]+1700485571&4294967295,V=B+(L<<6&4294967295|L>>>26),L=G+(B^(V|~H))+$[3]+2399980690&4294967295,G=V+(L<<10&4294967295|L>>>22),L=H+(V^(G|~B))+$[10]+4293915773&4294967295,H=G+(L<<15&4294967295|L>>>17),L=B+(G^(H|~V))+$[1]+2240044497&4294967295,B=H+(L<<21&4294967295|L>>>11),L=V+(H^(B|~G))+$[8]+1873313359&4294967295,V=B+(L<<6&4294967295|L>>>26),L=G+(B^(V|~H))+$[15]+4264355552&4294967295,G=V+(L<<10&4294967295|L>>>22),L=H+(V^(G|~B))+$[6]+2734768916&4294967295,H=G+(L<<15&4294967295|L>>>17),L=B+(G^(H|~V))+$[13]+1309151649&4294967295,B=H+(L<<21&4294967295|L>>>11),L=V+(H^(B|~G))+$[4]+4149444226&4294967295,V=B+(L<<6&4294967295|L>>>26),L=G+(B^(V|~H))+$[11]+3174756917&4294967295,G=V+(L<<10&4294967295|L>>>22),L=H+(V^(G|~B))+$[2]+718787259&4294967295,H=G+(L<<15&4294967295|L>>>17),L=B+(G^(H|~V))+$[9]+3951481745&4294967295,U.g[0]=U.g[0]+V&4294967295,U.g[1]=U.g[1]+(H+(L<<21&4294967295|L>>>11))&4294967295,U.g[2]=U.g[2]+H&4294967295,U.g[3]=U.g[3]+G&4294967295}i.prototype.u=function(U,V){V===void 0&&(V=U.length);for(var B=V-this.blockSize,$=this.B,H=this.h,G=0;G<V;){if(H==0)for(;G<=B;)o(this,U,G),G+=this.blockSize;if(typeof U=="string"){for(;G<V;)if($[H++]=U.charCodeAt(G++),H==this.blockSize){o(this,$),H=0;break}}else for(;G<V;)if($[H++]=U[G++],H==this.blockSize){o(this,$),H=0;break}}this.h=H,this.o+=V},i.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var V=1;V<U.length-8;++V)U[V]=0;var B=8*this.o;for(V=U.length-8;V<U.length;++V)U[V]=B&255,B/=256;for(this.u(U),U=Array(16),V=B=0;4>V;++V)for(var $=0;32>$;$+=8)U[B++]=this.g[V]>>>$&255;return U};function l(U,V){var B=p;return Object.prototype.hasOwnProperty.call(B,U)?B[U]:B[U]=V(U)}function d(U,V){this.h=V;for(var B=[],$=!0,H=U.length-1;0<=H;H--){var G=U[H]|0;$&&G==V||(B[H]=G,$=!1)}this.g=B}var p={};function m(U){return-128<=U&&128>U?l(U,function(V){return new d([V|0],0>V?-1:0)}):new d([U|0],0>U?-1:0)}function v(U){if(isNaN(U)||!isFinite(U))return T;if(0>U)return k(v(-U));for(var V=[],B=1,$=0;U>=B;$++)V[$]=U/B|0,B*=4294967296;return new d(V,0)}function w(U,V){if(U.length==0)throw Error("number format error: empty string");if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(U.charAt(0)=="-")return k(w(U.substring(1),V));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var B=v(Math.pow(V,8)),$=T,H=0;H<U.length;H+=8){var G=Math.min(8,U.length-H),L=parseInt(U.substring(H,H+G),V);8>G?(G=v(Math.pow(V,G)),$=$.j(G).add(v(L))):($=$.j(B),$=$.add(v(L)))}return $}var T=m(0),C=m(1),N=m(16777216);n=d.prototype,n.m=function(){if(I(this))return-k(this).m();for(var U=0,V=1,B=0;B<this.g.length;B++){var $=this.i(B);U+=(0<=$?$:4294967296+$)*V,V*=4294967296}return U},n.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(O(this))return"0";if(I(this))return"-"+k(this).toString(U);for(var V=v(Math.pow(U,6)),B=this,$="";;){var H=W(B,V).g;B=D(B,H.j(V));var G=((0<B.g.length?B.g[0]:B.h)>>>0).toString(U);if(B=H,O(B))return G+$;for(;6>G.length;)G="0"+G;$=G+$}},n.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function O(U){if(U.h!=0)return!1;for(var V=0;V<U.g.length;V++)if(U.g[V]!=0)return!1;return!0}function I(U){return U.h==-1}n.l=function(U){return U=D(this,U),I(U)?-1:O(U)?0:1};function k(U){for(var V=U.g.length,B=[],$=0;$<V;$++)B[$]=~U.g[$];return new d(B,~U.h).add(C)}n.abs=function(){return I(this)?k(this):this},n.add=function(U){for(var V=Math.max(this.g.length,U.g.length),B=[],$=0,H=0;H<=V;H++){var G=$+(this.i(H)&65535)+(U.i(H)&65535),L=(G>>>16)+(this.i(H)>>>16)+(U.i(H)>>>16);$=L>>>16,G&=65535,L&=65535,B[H]=L<<16|G}return new d(B,B[B.length-1]&-2147483648?-1:0)};function D(U,V){return U.add(k(V))}n.j=function(U){if(O(this)||O(U))return T;if(I(this))return I(U)?k(this).j(k(U)):k(k(this).j(U));if(I(U))return k(this.j(k(U)));if(0>this.l(N)&&0>U.l(N))return v(this.m()*U.m());for(var V=this.g.length+U.g.length,B=[],$=0;$<2*V;$++)B[$]=0;for($=0;$<this.g.length;$++)for(var H=0;H<U.g.length;H++){var G=this.i($)>>>16,L=this.i($)&65535,se=U.i(H)>>>16,_e=U.i(H)&65535;B[2*$+2*H]+=L*_e,z(B,2*$+2*H),B[2*$+2*H+1]+=G*_e,z(B,2*$+2*H+1),B[2*$+2*H+1]+=L*se,z(B,2*$+2*H+1),B[2*$+2*H+2]+=G*se,z(B,2*$+2*H+2)}for($=0;$<V;$++)B[$]=B[2*$+1]<<16|B[2*$];for($=V;$<2*V;$++)B[$]=0;return new d(B,0)};function z(U,V){for(;(U[V]&65535)!=U[V];)U[V+1]+=U[V]>>>16,U[V]&=65535,V++}function K(U,V){this.g=U,this.h=V}function W(U,V){if(O(V))throw Error("division by zero");if(O(U))return new K(T,T);if(I(U))return V=W(k(U),V),new K(k(V.g),k(V.h));if(I(V))return V=W(U,k(V)),new K(k(V.g),V.h);if(30<U.g.length){if(I(U)||I(V))throw Error("slowDivide_ only works with positive integers.");for(var B=C,$=V;0>=$.l(U);)B=Y(B),$=Y($);var H=Z(B,1),G=Z($,1);for($=Z($,2),B=Z(B,2);!O($);){var L=G.add($);0>=L.l(U)&&(H=H.add(B),G=L),$=Z($,1),B=Z(B,1)}return V=D(U,H.j(V)),new K(H,V)}for(H=T;0<=U.l(V);){for(B=Math.max(1,Math.floor(U.m()/V.m())),$=Math.ceil(Math.log(B)/Math.LN2),$=48>=$?1:Math.pow(2,$-48),G=v(B),L=G.j(V);I(L)||0<L.l(U);)B-=$,G=v(B),L=G.j(V);O(G)&&(G=C),H=H.add(G),U=D(U,L)}return new K(H,U)}n.A=function(U){return W(this,U).h},n.and=function(U){for(var V=Math.max(this.g.length,U.g.length),B=[],$=0;$<V;$++)B[$]=this.i($)&U.i($);return new d(B,this.h&U.h)},n.or=function(U){for(var V=Math.max(this.g.length,U.g.length),B=[],$=0;$<V;$++)B[$]=this.i($)|U.i($);return new d(B,this.h|U.h)},n.xor=function(U){for(var V=Math.max(this.g.length,U.g.length),B=[],$=0;$<V;$++)B[$]=this.i($)^U.i($);return new d(B,this.h^U.h)};function Y(U){for(var V=U.g.length+1,B=[],$=0;$<V;$++)B[$]=U.i($)<<1|U.i($-1)>>>31;return new d(B,U.h)}function Z(U,V){var B=V>>5;V%=32;for(var $=U.g.length-B,H=[],G=0;G<$;G++)H[G]=0<V?U.i(G+B)>>>V|U.i(G+B+1)<<32-V:U.i(G+B);return new d(H,U.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,bI=i,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=w,qh=d}).apply(typeof Nx<"u"?Nx:typeof self<"u"?self:typeof window<"u"?window:{});var M0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wI,Ev,_I,X0,Z1,EI,TI,SI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,A,M){return g==Array.prototype||g==Object.prototype||(g[A]=M.value),g};function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof M0=="object"&&M0];for(var A=0;A<g.length;++A){var M=g[A];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var i=t(this);function o(g,A){if(A)e:{var M=i;g=g.split(".");for(var q=0;q<g.length-1;q++){var ie=g[q];if(!(ie in M))break e;M=M[ie]}g=g[g.length-1],q=M[g],A=A(q),A!=q&&A!=null&&e(M,g,{configurable:!0,writable:!0,value:A})}}function l(g,A){g instanceof String&&(g+="");var M=0,q=!1,ie={next:function(){if(!q&&M<g.length){var he=M++;return{value:A(he,g[he]),done:!1}}return q=!0,{done:!0,value:void 0}}};return ie[Symbol.iterator]=function(){return ie},ie}o("Array.prototype.values",function(g){return g||function(){return l(this,function(A,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function m(g){var A=typeof g;return A=A!="object"?A:g?Array.isArray(g)?"array":A:"null",A=="array"||A=="object"&&typeof g.length=="number"}function v(g){var A=typeof g;return A=="object"&&g!=null||A=="function"}function w(g,A,M){return g.call.apply(g.bind,arguments)}function T(g,A,M){if(!g)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ie,q),g.apply(A,ie)}}return function(){return g.apply(A,arguments)}}function C(g,A,M){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:T,C.apply(null,arguments)}function N(g,A){var M=Array.prototype.slice.call(arguments,1);return function(){var q=M.slice();return q.push.apply(q,arguments),g.apply(this,q)}}function O(g,A){function M(){}M.prototype=A.prototype,g.aa=A.prototype,g.prototype=new M,g.prototype.constructor=g,g.Qb=function(q,ie,he){for(var Ie=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)Ie[Et-2]=arguments[Et];return A.prototype[ie].apply(q,Ie)}}function I(g){const A=g.length;if(0<A){const M=Array(A);for(let q=0;q<A;q++)M[q]=g[q];return M}return[]}function k(g,A){for(let M=1;M<arguments.length;M++){const q=arguments[M];if(m(q)){const ie=g.length||0,he=q.length||0;g.length=ie+he;for(let Ie=0;Ie<he;Ie++)g[ie+Ie]=q[Ie]}else g.push(q)}}class D{constructor(A,M){this.i=A,this.j=M,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function z(g){return/^[\s\xa0]*$/.test(g)}function K(){var g=p.navigator;return g&&(g=g.userAgent)?g:""}function W(g){return W[" "](g),g}W[" "]=function(){};var Y=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function Z(g,A,M){for(const q in g)A.call(M,g[q],q,g)}function U(g,A){for(const M in g)A.call(void 0,g[M],M,g)}function V(g){const A={};for(const M in g)A[M]=g[M];return A}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(g,A){let M,q;for(let ie=1;ie<arguments.length;ie++){q=arguments[ie];for(M in q)g[M]=q[M];for(let he=0;he<B.length;he++)M=B[he],Object.prototype.hasOwnProperty.call(q,M)&&(g[M]=q[M])}}function H(g){var A=1;g=g.split(":");const M=[];for(;0<A&&g.length;)M.push(g.shift()),A--;return g.length&&M.push(g.join(":")),M}function G(g){p.setTimeout(()=>{throw g},0)}function L(){var g=Ne;let A=null;return g.g&&(A=g.g,g.g=g.g.next,g.g||(g.h=null),A.next=null),A}class se{constructor(){this.h=this.g=null}add(A,M){const q=_e.get();q.set(A,M),this.h?this.h.next=q:this.g=q,this.h=q}}var _e=new D(()=>new re,g=>g.reset());class re{constructor(){this.next=this.g=this.h=null}set(A,M){this.h=A,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,ve=!1,Ne=new se,J=()=>{const g=p.Promise.resolve(void 0);fe=()=>{g.then(ae)}};var ae=()=>{for(var g;g=L();){try{g.h.call(g.g)}catch(M){G(M)}var A=_e;A.j(g),100>A.h&&(A.h++,g.next=A.g,A.g=g)}ve=!1};function Re(){this.s=this.s,this.C=this.C}Re.prototype.s=!1,Re.prototype.ma=function(){this.s||(this.s=!0,this.N())},Re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(g,A){this.type=g,this.g=this.target=A,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Le=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var g=!1,A=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const M=()=>{};p.addEventListener("test",M,A),p.removeEventListener("test",M,A)}catch{}return g}();function Fe(g,A){if(Ee.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var M=this.type=g.type,q=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=A,A=g.relatedTarget){if(Y){e:{try{W(A.nodeName);var ie=!0;break e}catch{}ie=!1}ie||(A=null)}}else M=="mouseover"?A=g.fromElement:M=="mouseout"&&(A=g.toElement);this.relatedTarget=A,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Ge[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Fe.aa.h.call(this)}}O(Fe,Ee);var Ge={2:"touch",3:"pen",4:"mouse"};Fe.prototype.h=function(){Fe.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var an="closure_listenable_"+(1e6*Math.random()|0),Ft=0;function er(g,A,M,q,ie){this.listener=g,this.proxy=null,this.src=A,this.type=M,this.capture=!!q,this.ha=ie,this.key=++Ft,this.da=this.fa=!1}function vr(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function ln(g){this.src=g,this.g={},this.h=0}ln.prototype.add=function(g,A,M,q,ie){var he=g.toString();g=this.g[he],g||(g=this.g[he]=[],this.h++);var Ie=tn(g,A,q,ie);return-1<Ie?(A=g[Ie],M||(A.fa=!1)):(A=new er(A,this.src,he,!!q,ie),A.fa=M,g.push(A)),A};function jn(g,A){var M=A.type;if(M in g.g){var q=g.g[M],ie=Array.prototype.indexOf.call(q,A,void 0),he;(he=0<=ie)&&Array.prototype.splice.call(q,ie,1),he&&(vr(A),g.g[M].length==0&&(delete g.g[M],g.h--))}}function tn(g,A,M,q){for(var ie=0;ie<g.length;++ie){var he=g[ie];if(!he.da&&he.listener==A&&he.capture==!!M&&he.ha==q)return ie}return-1}var cn="closure_lm_"+(1e6*Math.random()|0),Ws={};function Ur(g,A,M,q,ie){if(Array.isArray(A)){for(var he=0;he<A.length;he++)Ur(g,A[he],M,q,ie);return null}return M=Hr(M),g&&g[an]?g.K(A,M,v(q)?!!q.capture:!1,ie):Mi(g,A,M,!1,q,ie)}function Mi(g,A,M,q,ie,he){if(!A)throw Error("Invalid event type");var Ie=v(ie)?!!ie.capture:!!ie,Et=Fr(g);if(Et||(g[cn]=Et=new ln(g)),M=Et.add(A,M,q,Ie,he),M.proxy)return M;if(q=Pi(),M.proxy=q,q.src=g,q.listener=M,g.addEventListener)Le||(ie=Ie),ie===void 0&&(ie=!1),g.addEventListener(A.toString(),q,ie);else if(g.attachEvent)g.attachEvent(tr(A.toString()),q);else if(g.addListener&&g.removeListener)g.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return M}function Pi(){function g(M){return A.call(g.src,g.listener,M)}const A=yr;return g}function Br(g,A,M,q,ie){if(Array.isArray(A))for(var he=0;he<A.length;he++)Br(g,A[he],M,q,ie);else q=v(q)?!!q.capture:!!q,M=Hr(M),g&&g[an]?(g=g.i,A=String(A).toString(),A in g.g&&(he=g.g[A],M=tn(he,M,q,ie),-1<M&&(vr(he[M]),Array.prototype.splice.call(he,M,1),he.length==0&&(delete g.g[A],g.h--)))):g&&(g=Fr(g))&&(A=g.g[A.toString()],g=-1,A&&(g=tn(A,M,q,ie)),(M=-1<g?A[g]:null)&&ss(M))}function ss(g){if(typeof g!="number"&&g&&!g.da){var A=g.src;if(A&&A[an])jn(A.i,g);else{var M=g.type,q=g.proxy;A.removeEventListener?A.removeEventListener(M,q,g.capture):A.detachEvent?A.detachEvent(tr(M),q):A.addListener&&A.removeListener&&A.removeListener(q),(M=Fr(A))?(jn(M,g),M.h==0&&(M.src=null,A[cn]=null)):vr(g)}}}function tr(g){return g in Ws?Ws[g]:Ws[g]="on"+g}function yr(g,A){if(g.da)g=!0;else{A=new Fe(A,this);var M=g.listener,q=g.ha||g.src;g.fa&&ss(g),g=M.call(q,A)}return g}function Fr(g){return g=g[cn],g instanceof ln?g:null}var zr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hr(g){return typeof g=="function"?g:(g[zr]||(g[zr]=function(A){return g.handleEvent(A)}),g[zr])}function Lt(){Re.call(this),this.i=new ln(this),this.M=this,this.F=null}O(Lt,Re),Lt.prototype[an]=!0,Lt.prototype.removeEventListener=function(g,A,M,q){Br(this,g,A,M,q)};function dt(g,A){var M,q=g.F;if(q)for(M=[];q;q=q.F)M.push(q);if(g=g.M,q=A.type||A,typeof A=="string")A=new Ee(A,g);else if(A instanceof Ee)A.target=A.target||g;else{var ie=A;A=new Ee(q,g),$(A,ie)}if(ie=!0,M)for(var he=M.length-1;0<=he;he--){var Ie=A.g=M[he];ie=Nt(Ie,q,!0,A)&&ie}if(Ie=A.g=g,ie=Nt(Ie,q,!0,A)&&ie,ie=Nt(Ie,q,!1,A)&&ie,M)for(he=0;he<M.length;he++)Ie=A.g=M[he],ie=Nt(Ie,q,!1,A)&&ie}Lt.prototype.N=function(){if(Lt.aa.N.call(this),this.i){var g=this.i,A;for(A in g.g){for(var M=g.g[A],q=0;q<M.length;q++)vr(M[q]);delete g.g[A],g.h--}}this.F=null},Lt.prototype.K=function(g,A,M,q){return this.i.add(String(g),A,!1,M,q)},Lt.prototype.L=function(g,A,M,q){return this.i.add(String(g),A,!0,M,q)};function Nt(g,A,M,q){if(A=g.i.g[String(A)],!A)return!0;A=A.concat();for(var ie=!0,he=0;he<A.length;++he){var Ie=A[he];if(Ie&&!Ie.da&&Ie.capture==M){var Et=Ie.listener,di=Ie.ha||Ie.src;Ie.fa&&jn(g.i,Ie),ie=Et.call(di,q)!==!1&&ie}}return ie&&!q.defaultPrevented}function Se(g,A,M){if(typeof g=="function")M&&(g=C(g,M));else if(g&&typeof g.handleEvent=="function")g=C(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:p.setTimeout(g,A||0)}function et(g){g.g=Se(()=>{g.g=null,g.i&&(g.i=!1,et(g))},g.l);const A=g.h;g.h=null,g.m.apply(null,A)}class Cn extends Re{constructor(A,M){super(),this.m=A,this.l=M,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:et(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nn(g){Re.call(this),this.h=g,this.g={}}O(nn,Re);var Rn=[];function zn(g){Z(g.g,function(A,M){this.g.hasOwnProperty(M)&&ss(A)},g),g.g={}}nn.prototype.N=function(){nn.aa.N.call(this),zn(this)},nn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xe=p.JSON.stringify,te=p.JSON.parse,Ve=class{stringify(g){return p.JSON.stringify(g,void 0)}parse(g){return p.JSON.parse(g,void 0)}};function De(){}De.prototype.h=null;function Xe(g){return g.h||(g.h=g.i())}function rt(){}var He={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function We(){Ee.call(this,"d")}O(We,Ee);function vt(){Ee.call(this,"c")}O(vt,Ee);var ht={},rn=null;function un(){return rn=rn||new Lt}ht.La="serverreachability";function zt(g){Ee.call(this,ht.La,g)}O(zt,Ee);function yi(g){const A=un();dt(A,new zt(A))}ht.STAT_EVENT="statevent";function Fi(g,A){Ee.call(this,ht.STAT_EVENT,g),this.stat=A}O(Fi,Ee);function Ue(g){const A=un();dt(A,new Fi(A,g))}ht.Ma="timingevent";function Mt(g,A){Ee.call(this,ht.Ma,g),this.size=A}O(Mt,Ee);function In(g,A){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){g()},A)}function Zn(){this.g=!0}Zn.prototype.xa=function(){this.g=!1};function bi(g,A,M,q,ie,he){g.info(function(){if(g.g)if(he)for(var Ie="",Et=he.split("&"),di=0;di<Et.length;di++){var pt=Et[di].split("=");if(1<pt.length){var Ti=pt[0];pt=pt[1];var kn=Ti.split("_");Ie=2<=kn.length&&kn[1]=="type"?Ie+(Ti+"="+pt+"&"):Ie+(Ti+"=redacted&")}}else Ie=null;else Ie=he;return"XMLHTTP REQ ("+q+") [attempt "+ie+"]: "+A+`
`+M+`
`+Ie})}function os(g,A,M,q,ie,he,Ie){g.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+ie+"]: "+A+`
`+M+`
`+he+" "+Ie})}function Di(g,A,M,q){g.info(function(){return"XMLHTTP TEXT ("+A+"): "+ya(g,M)+(q?" "+q:"")})}function md(g,A){g.info(function(){return"TIMEOUT: "+A})}Zn.prototype.info=function(){};function ya(g,A){if(!g.g)return A;if(!A)return null;try{var M=JSON.parse(A);if(M){for(g=0;g<M.length;g++)if(Array.isArray(M[g])){var q=M[g];if(!(2>q.length)){var ie=q[1];if(Array.isArray(ie)&&!(1>ie.length)){var he=ie[0];if(he!="noop"&&he!="stop"&&he!="close")for(var Ie=1;Ie<ie.length;Ie++)ie[Ie]=""}}}}return xe(M)}catch{return A}}var qr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},No={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zi;function Ys(){}O(Ys,De),Ys.prototype.g=function(){return new XMLHttpRequest},Ys.prototype.i=function(){return{}},zi=new Ys;function nr(g,A,M,q){this.j=g,this.i=A,this.l=M,this.R=q||1,this.U=new nn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vn}function Vn(){this.i=null,this.g="",this.h=!1}var Nc={},yn={};function Hi(g,A,M){g.L=1,g.v=_l(_i(A)),g.m=M,g.P=!0,Xs(g,null)}function Xs(g,A){g.F=Date.now(),ba(g),g.A=_i(g.v);var M=g.A,q=g.R;Array.isArray(q)||(q=[String(q)]),Oc(M.i,"t",q),g.C=0,M=g.j.J,g.h=new Vn,g.g=gf(g.j,M?A:null,!g.m),0<g.O&&(g.M=new Cn(C(g.Y,g,g.g),g.O)),A=g.U,M=g.g,q=g.ca;var ie="readystatechange";Array.isArray(ie)||(ie&&(Rn[0]=ie.toString()),ie=Rn);for(var he=0;he<ie.length;he++){var Ie=Ur(M,ie[he],q||A.handleEvent,!1,A.h||A);if(!Ie)break;A.g[Ie.key]=Ie}A=g.H?V(g.H):{},g.m?(g.u||(g.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,A)):(g.u="GET",g.g.ea(g.A,g.u,null,A)),yi(),bi(g.i,g.u,g.A,g.l,g.R,g.m)}nr.prototype.ca=function(g){g=g.target;const A=this.M;A&&us(g)==3?A.j():this.Y(g)},nr.prototype.Y=function(g){try{if(g==this.g)e:{const kn=us(this.g);var A=this.g.Ba();const Yr=this.g.Z();if(!(3>kn)&&(kn!=3||this.g&&(this.h.h||this.g.oa()||wd(this.g)))){this.J||kn!=4||A==7||(A==8||0>=Yr?yi(3):yi(2)),wa(this);var M=this.g.Z();this.X=M;t:if(gd(this)){var q=wd(this.g);g="";var ie=q.length,he=us(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_t(this),ws(this);var Ie="";break t}this.h.i=new p.TextDecoder}for(A=0;A<ie;A++)this.h.h=!0,g+=this.h.i.decode(q[A],{stream:!(he&&A==ie-1)});q.length=0,this.h.g+=g,this.C=0,Ie=this.h.g}else Ie=this.g.oa();if(this.o=M==200,os(this.i,this.u,this.A,this.l,this.R,kn,M),this.o){if(this.T&&!this.K){t:{if(this.g){var Et,di=this.g;if((Et=di.g?di.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Et)){var pt=Et;break t}}pt=null}if(M=pt)Di(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,br(this,M);else{this.o=!1,this.s=3,Ue(12),_t(this),ws(this);break e}}if(this.P){M=!0;let ji;for(;!this.J&&this.C<Ie.length;)if(ji=ft(this,Ie),ji==yn){kn==4&&(this.s=4,Ue(14),M=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(ji==Nc){this.s=4,Ue(15),Di(this.i,this.l,Ie,"[Invalid Chunk]"),M=!1;break}else Di(this.i,this.l,ji,null),br(this,ji);if(gd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kn!=4||Ie.length!=0||this.h.h||(this.s=1,Ue(16),M=!1),this.o=this.o&&M,!M)Di(this.i,this.l,Ie,"[Invalid Chunked Response]"),_t(this),ws(this);else if(0<Ie.length&&!this.W){this.W=!0;var Ti=this.j;Ti.g==this&&Ti.ba&&!Ti.M&&(Ti.j.info("Great, no buffering proxy detected. Bytes received: "+Ie.length),Sl(Ti),Ti.M=!0,Ue(11))}}else Di(this.i,this.l,Ie,null),br(this,Ie);kn==4&&_t(this),this.o&&!this.J&&(kn==4?Ei(this.j,this):(this.o=!1,ba(this)))}else Zs(this.g),M==400&&0<Ie.indexOf("Unknown SID")?(this.s=3,Ue(12)):(this.s=0,Ue(13)),_t(this),ws(this)}}}catch{}finally{}};function gd(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function ft(g,A){var M=g.C,q=A.indexOf(`
`,M);return q==-1?yn:(M=Number(A.substring(M,q)),isNaN(M)?Nc:(q+=1,q+M>A.length?yn:(A=A.slice(q,q+M),g.C=q+M,A)))}nr.prototype.cancel=function(){this.J=!0,_t(this)};function ba(g){g.S=Date.now()+g.I,Mc(g,g.I)}function Mc(g,A){if(g.B!=null)throw Error("WatchDog timer not null");g.B=In(C(g.ba,g),A)}function wa(g){g.B&&(p.clearTimeout(g.B),g.B=null)}nr.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(md(this.i,this.A),this.L!=2&&(yi(),Ue(17)),_t(this),this.s=2,ws(this)):Mc(this,this.S-g)};function ws(g){g.j.G==0||g.J||Ei(g.j,g)}function _t(g){wa(g);var A=g.M;A&&typeof A.ma=="function"&&A.ma(),g.M=null,zn(g.U),g.g&&(A=g.g,g.g=null,A.abort(),A.ma())}function br(g,A){try{var M=g.j;if(M.G!=0&&(M.g==g||as(M.h,g))){if(!g.K&&as(M.h,g)&&M.G==3){try{var q=M.Da.g.parse(A)}catch{q=null}if(Array.isArray(q)&&q.length==3){var ie=q;if(ie[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<g.F)xl(M),Uc(M);else break e;Ed(M),Ue(18)}}else M.za=ie[1],0<M.za-M.T&&37500>ie[2]&&M.F&&M.v==0&&!M.C&&(M.C=In(C(M.Za,M),6e3));if(1>=Pc(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else to(M,11)}else if((g.K||M.g==g)&&xl(M),!z(A))for(ie=M.Da.g.parse(A),A=0;A<ie.length;A++){let pt=ie[A];if(M.T=pt[0],pt=pt[1],M.G==2)if(pt[0]=="c"){M.K=pt[1],M.ia=pt[2];const Ti=pt[3];Ti!=null&&(M.la=Ti,M.j.info("VER="+M.la));const kn=pt[4];kn!=null&&(M.Aa=kn,M.j.info("SVER="+M.Aa));const Yr=pt[5];Yr!=null&&typeof Yr=="number"&&0<Yr&&(q=1.5*Yr,M.L=q,M.j.info("backChannelRequestTimeoutMs_="+q)),q=M;const ji=g.g;if(ji){const Rs=ji.g?ji.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rs){var he=q.h;he.g||Rs.indexOf("spdy")==-1&&Rs.indexOf("quic")==-1&&Rs.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(yl(he,he.h),he.h=null))}if(q.D){const Td=ji.g?ji.g.getResponseHeader("X-HTTP-Session-Id"):null;Td&&(q.ya=Td,Xt(q.I,q.D,Td))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-g.F,M.j.info("Handshake RTT: "+M.R+"ms")),q=M;var Ie=g;if(q.qa=mf(q,q.J?q.ia:null,q.W),Ie.K){wi(q.h,Ie);var Et=Ie,di=q.L;di&&(Et.I=di),Et.B&&(wa(Et),ba(Et)),q.g=Ie}else ke(q);0<M.i.length&&Do(M)}else pt[0]!="stop"&&pt[0]!="close"||to(M,7);else M.G==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?to(M,7):_d(M):pt[0]!="noop"&&M.l&&M.l.ta(pt),M.v=0)}}yi(4)}catch{}}var cf=class{constructor(g,A){this.g=g,this.map=A}};function ci(g){this.l=g||10,p.PerformanceNavigationTiming?(g=p.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ei(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Pc(g){return g.h?1:g.g?g.g.size:0}function as(g,A){return g.h?g.h==A:g.g?g.g.has(A):!1}function yl(g,A){g.g?g.g.add(A):g.h=A}function wi(g,A){g.h&&g.h==A?g.h=null:g.g&&g.g.has(A)&&g.g.delete(A)}ci.prototype.cancel=function(){if(this.i=bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function bl(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let A=g.i;for(const M of g.g.values())A=A.concat(M.D);return A}return I(g.i)}function vd(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(m(g)){for(var A=[],M=g.length,q=0;q<M;q++)A.push(g[q]);return A}A=[],M=0;for(q in g)A[M++]=g[q];return A}function _a(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(m(g)||typeof g=="string"){var A=[];g=g.length;for(var M=0;M<g;M++)A.push(M);return A}A=[],M=0;for(const q in g)A[M++]=q;return A}}}function yd(g,A){if(g.forEach&&typeof g.forEach=="function")g.forEach(A,void 0);else if(m(g)||typeof g=="string")Array.prototype.forEach.call(g,A,void 0);else for(var M=_a(g),q=vd(g),ie=q.length,he=0;he<ie;he++)A.call(void 0,q[he],M&&M[he],g)}var Gr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wl(g,A){if(g){g=g.split("&");for(var M=0;M<g.length;M++){var q=g[M].indexOf("="),ie=null;if(0<=q){var he=g[M].substring(0,q);ie=g[M].substring(q+1)}else he=g[M];A(he,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function Hn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Hn){this.h=g.h,Ea(this,g.j),this.o=g.o,this.g=g.g,Mo(this,g.s),this.l=g.l;var A=g.i,M=new wr;M.i=A.i,A.g&&(M.g=new Map(A.g),M.h=A.h),ir(this,M),this.m=g.m}else g&&(A=String(g).match(Gr))?(this.h=!1,Ea(this,A[1]||"",!0),this.o=$r(A[2]||""),this.g=$r(A[3]||"",!0),Mo(this,A[4]),this.l=$r(A[5]||"",!0),ir(this,A[6]||"",!0),this.m=$r(A[7]||"")):(this.h=!1,this.i=new wr(null,this.h))}Hn.prototype.toString=function(){var g=[],A=this.j;A&&g.push(ui(A,Dc,!0),":");var M=this.g;return(M||A=="file")&&(g.push("//"),(A=this.o)&&g.push(ui(A,Dc,!0),"@"),g.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&g.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&g.push("/"),g.push(ui(M,M.charAt(0)=="/"?uf:Ta,!0))),(M=this.i.toString())&&g.push("?",M),(M=this.m)&&g.push("#",ui(M,Sa)),g.join("")};function _i(g){return new Hn(g)}function Ea(g,A,M){g.j=M?$r(A,!0):A,g.j&&(g.j=g.j.replace(/:$/,""))}function Mo(g,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);g.s=A}else g.s=null}function ir(g,A,M){A instanceof wr?(g.i=A,hf(g.i,g.h)):(M||(A=ui(A,df)),g.i=new wr(A,g.h))}function Xt(g,A,M){g.i.set(A,M)}function _l(g){return Xt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function $r(g,A){return g?A?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function ui(g,A,M){return typeof g=="string"?(g=encodeURI(g).replace(A,_s),M&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function _s(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Dc=/[#\/\?@]/g,Ta=/[#\?:]/g,uf=/[#\?]/g,df=/[#\?@]/g,Sa=/#/g;function wr(g,A){this.h=this.g=null,this.i=g||null,this.j=!!A}function Kr(g){g.g||(g.g=new Map,g.h=0,g.i&&wl(g.i,function(A,M){g.add(decodeURIComponent(A.replace(/\+/g," ")),M)}))}n=wr.prototype,n.add=function(g,A){Kr(this),this.i=null,g=_r(this,g);var M=this.g.get(g);return M||this.g.set(g,M=[]),M.push(A),this.h+=1,this};function qi(g,A){Kr(g),A=_r(g,A),g.g.has(A)&&(g.i=null,g.h-=g.g.get(A).length,g.g.delete(A))}function ls(g,A){return Kr(g),A=_r(g,A),g.g.has(A)}n.forEach=function(g,A){Kr(this),this.g.forEach(function(M,q){M.forEach(function(ie){g.call(A,ie,q,this)},this)},this)},n.na=function(){Kr(this);const g=Array.from(this.g.values()),A=Array.from(this.g.keys()),M=[];for(let q=0;q<A.length;q++){const ie=g[q];for(let he=0;he<ie.length;he++)M.push(A[q])}return M},n.V=function(g){Kr(this);let A=[];if(typeof g=="string")ls(this,g)&&(A=A.concat(this.g.get(_r(this,g))));else{g=Array.from(this.g.values());for(let M=0;M<g.length;M++)A=A.concat(g[M])}return A},n.set=function(g,A){return Kr(this),this.i=null,g=_r(this,g),ls(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[A]),this.h+=1,this},n.get=function(g,A){return g?(g=this.V(g),0<g.length?String(g[0]):A):A};function Oc(g,A,M){qi(g,A),0<M.length&&(g.i=null,g.g.set(_r(g,A),I(M)),g.h+=M.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],A=Array.from(this.g.keys());for(var M=0;M<A.length;M++){var q=A[M];const he=encodeURIComponent(String(q)),Ie=this.V(q);for(q=0;q<Ie.length;q++){var ie=he;Ie[q]!==""&&(ie+="="+encodeURIComponent(String(Ie[q]))),g.push(ie)}}return this.i=g.join("&")};function _r(g,A){return A=String(A),g.j&&(A=A.toLowerCase()),A}function hf(g,A){A&&!g.j&&(Kr(g),g.i=null,g.g.forEach(function(M,q){var ie=q.toLowerCase();q!=ie&&(qi(this,q),Oc(this,ie,M))},g)),g.j=A}function El(g,A){const M=new Zn;if(p.Image){const q=new Image;q.onload=N(Oi,M,"TestLoadImage: loaded",!0,A,q),q.onerror=N(Oi,M,"TestLoadImage: error",!1,A,q),q.onabort=N(Oi,M,"TestLoadImage: abort",!1,A,q),q.ontimeout=N(Oi,M,"TestLoadImage: timeout",!1,A,q),p.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=g}else A(!1)}function Es(g,A){const M=new Zn,q=new AbortController,ie=setTimeout(()=>{q.abort(),Oi(M,"TestPingServer: timeout",!1,A)},1e4);fetch(g,{signal:q.signal}).then(he=>{clearTimeout(ie),he.ok?Oi(M,"TestPingServer: ok",!0,A):Oi(M,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(ie),Oi(M,"TestPingServer: error",!1,A)})}function Oi(g,A,M,q,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),q(M)}catch{}}function Er(){this.g=new Ve}function cs(g,A,M){const q=M||"";try{yd(g,function(ie,he){let Ie=ie;v(ie)&&(Ie=xe(ie)),A.push(q+he+"="+encodeURIComponent(Ie))})}catch(ie){throw A.push(q+"type="+encodeURIComponent("_badmap")),ie}}function Ts(g){this.l=g.Ub||null,this.j=g.eb||!1}O(Ts,De),Ts.prototype.g=function(){return new Ss(this.l,this.j)},Ts.prototype.i=function(g){return function(){return g}}({});function Ss(g,A){Lt.call(this),this.D=g,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Ss,Lt),n=Ss.prototype,n.open=function(g,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=A,this.readyState=1,Qs(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(A.body=g),(this.D||p).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xs(this)),this.readyState=0},n.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Qs(this)),this.g&&(this.readyState=3,Qs(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tl(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tl(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}n.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var A=g.value?g.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!g.done}))&&(this.response=this.responseText+=A)}g.done?xs(this):Qs(this),this.readyState==3&&Tl(this)}},n.Ra=function(g){this.g&&(this.response=this.responseText=g,xs(this))},n.Qa=function(g){this.g&&(this.response=g,xs(this))},n.ga=function(){this.g&&xs(this)};function xs(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Qs(g)}n.setRequestHeader=function(g,A){this.u.append(g,A)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],A=this.h.entries();for(var M=A.next();!M.done;)M=M.value,g.push(M[0]+": "+M[1]),M=A.next();return g.join(`\r
`)};function Qs(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Lc(g){let A="";return Z(g,function(M,q){A+=q,A+=":",A+=M,A+=`\r
`}),A}function qn(g,A,M){e:{for(q in M){var q=!1;break e}q=!0}q||(M=Lc(M),typeof g=="string"?M!=null&&encodeURIComponent(String(M)):Xt(g,A,M))}function xt(g){Lt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(xt,Lt);var Js=/^https?$/i,Po=["POST","PUT"];n=xt.prototype,n.Ha=function(g){this.J=g},n.ea=function(g,A,M,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);A=A?A.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zi.g(),this.v=this.o?Xe(this.o):Xe(zi),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(A,String(g),!0),this.B=!1}catch(he){bd(this,he);return}if(g=M||"",M=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var ie in q)M.set(ie,q[ie]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const he of q.keys())M.set(he,q.get(he));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(M.keys()).find(he=>he.toLowerCase()=="content-type"),ie=p.FormData&&g instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Po,A,void 0))||q||ie||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Ie]of M)this.g.setRequestHeader(he,Ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Aa(this),this.u=!0,this.g.send(g),this.u=!1}catch(he){bd(this,he)}};function bd(g,A){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=A,g.m=5,jc(g),Wr(g)}function jc(g){g.A||(g.A=!0,dt(g,"complete"),dt(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,dt(this,"complete"),dt(this,"abort"),Wr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wr(this,!0)),xt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?xa(this):this.bb())},n.bb=function(){xa(this)};function xa(g){if(g.h&&typeof d<"u"&&(!g.v[1]||us(g)!=4||g.Z()!=2)){if(g.u&&us(g)==4)Se(g.Ea,0,g);else if(dt(g,"readystatechange"),us(g)==4){g.h=!1;try{const Ie=g.Z();e:switch(Ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var M;if(!(M=A)){var q;if(q=Ie===0){var ie=String(g.D).match(Gr)[1]||null;!ie&&p.self&&p.self.location&&(ie=p.self.location.protocol.slice(0,-1)),q=!Js.test(ie?ie.toLowerCase():"")}M=q}if(M)dt(g,"complete"),dt(g,"success");else{g.m=6;try{var he=2<us(g)?g.g.statusText:""}catch{he=""}g.l=he+" ["+g.Z()+"]",jc(g)}}finally{Wr(g)}}}}function Wr(g,A){if(g.g){Aa(g);const M=g.g,q=g.v[0]?()=>{}:null;g.g=null,g.v=null,A||dt(g,"ready");try{M.onreadystatechange=q}catch{}}}function Aa(g){g.I&&(p.clearTimeout(g.I),g.I=null)}n.isActive=function(){return!!this.g};function us(g){return g.g?g.g.readyState:0}n.Z=function(){try{return 2<us(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(g){if(this.g){var A=this.g.responseText;return g&&A.indexOf(g)==0&&(A=A.substring(g.length)),te(A)}};function wd(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Zs(g){const A={};g=(g.g&&2<=us(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<g.length;q++){if(z(g[q]))continue;var M=H(g[q]);const ie=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const he=A[ie]||[];A[ie]=he,he.push(M)}U(A,function(q){return q.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function As(g,A,M){return M&&M.internalChannelParams&&M.internalChannelParams[g]||A}function Vc(g){this.Aa=0,this.i=[],this.j=new Zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=As("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=As("baseRetryDelayMs",5e3,g),this.cb=As("retryDelaySeedMs",1e4,g),this.Wa=As("forwardChannelMaxRetries",2,g),this.wa=As("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new ci(g&&g.concurrentRequestLimit),this.Da=new Er,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Vc.prototype,n.la=8,n.G=1,n.connect=function(g,A,M,q){Ue(0),this.W=g,this.H=A||{},M&&q!==void 0&&(this.H.OSID=M,this.H.OAID=q),this.F=this.X,this.I=mf(this,null,this.W),Do(this)};function _d(g){if(ff(g),g.G==3){var A=g.U++,M=_i(g.I);if(Xt(M,"SID",g.K),Xt(M,"RID",A),Xt(M,"TYPE","terminate"),eo(g,M),A=new nr(g,g.j,A),A.L=2,A.v=_l(_i(M)),M=!1,p.navigator&&p.navigator.sendBeacon)try{M=p.navigator.sendBeacon(A.v.toString(),"")}catch{}!M&&p.Image&&(new Image().src=A.v,M=!0),M||(A.g=gf(A.j,null),A.g.ea(A.v)),A.F=Date.now(),ba(A)}pf(g)}function Uc(g){g.g&&(Sl(g),g.g.cancel(),g.g=null)}function ff(g){Uc(g),g.u&&(p.clearTimeout(g.u),g.u=null),xl(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&p.clearTimeout(g.s),g.s=null)}function Do(g){if(!ei(g.h)&&!g.s){g.s=!0;var A=g.Ga;fe||J(),ve||(fe(),ve=!0),Ne.add(A,g),g.B=0}}function Ye(g,A){return Pc(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=A.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=In(C(g.Ga,g,A),Cs(g,g.B)),g.B++,!0)}n.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const ie=new nr(this,this.j,g);let he=this.o;if(this.S&&(he?(he=V(he),$(he,this.S)):he=this.S),this.m!==null||this.O||(ie.H=he,he=null),this.P)e:{for(var A=0,M=0;M<this.i.length;M++){t:{var q=this.i[M];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(A+=q,4096<A){A=M;break e}if(A===4096||M===this.i.length-1){A=M+1;break e}}A=1e3}else A=1e3;A=At(this,ie,A),M=_i(this.I),Xt(M,"RID",g),Xt(M,"CVER",22),this.D&&Xt(M,"X-HTTP-Session-Id",this.D),eo(this,M),he&&(this.O?A="headers="+encodeURIComponent(String(Lc(he)))+"&"+A:this.m&&qn(M,this.m,he)),yl(this.h,ie),this.Ua&&Xt(M,"TYPE","init"),this.P?(Xt(M,"$req",A),Xt(M,"SID","null"),ie.T=!0,Hi(ie,M,null)):Hi(ie,M,A),this.G=2}}else this.G==3&&(g?Ca(this,g):this.i.length==0||ei(this.h)||Ca(this))};function Ca(g,A){var M;A?M=A.l:M=g.U++;const q=_i(g.I);Xt(q,"SID",g.K),Xt(q,"RID",M),Xt(q,"AID",g.T),eo(g,q),g.m&&g.o&&qn(q,g.m,g.o),M=new nr(g,g.j,M,g.B+1),g.m===null&&(M.H=g.o),A&&(g.i=A.D.concat(g.i)),A=At(g,M,1e3),M.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),yl(g.h,M),Hi(M,q,A)}function eo(g,A){g.H&&Z(g.H,function(M,q){Xt(A,q,M)}),g.l&&yd({},function(M,q){Xt(A,q,M)})}function At(g,A,M){M=Math.min(g.i.length,M);var q=g.l?C(g.l.Na,g.l,g):null;e:{var ie=g.i;let he=-1;for(;;){const Ie=["count="+M];he==-1?0<M?(he=ie[0].g,Ie.push("ofs="+he)):he=0:Ie.push("ofs="+he);let Et=!0;for(let di=0;di<M;di++){let pt=ie[di].g;const Ti=ie[di].map;if(pt-=he,0>pt)he=Math.max(0,ie[di].g-100),Et=!1;else try{cs(Ti,Ie,"req"+pt+"_")}catch{q&&q(Ti)}}if(Et){q=Ie.join("&");break e}}}return g=g.i.splice(0,M),A.D=g,q}function ke(g){if(!g.g&&!g.u){g.Y=1;var A=g.Fa;fe||J(),ve||(fe(),ve=!0),Ne.add(A,g),g.v=0}}function Ed(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=In(C(g.Fa,g),Cs(g,g.v)),g.v++,!0)}n.Fa=function(){if(this.u=null,bn(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=In(C(this.ab,this),g)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ue(10),Uc(this),bn(this))};function Sl(g){g.A!=null&&(p.clearTimeout(g.A),g.A=null)}function bn(g){g.g=new nr(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var A=_i(g.qa);Xt(A,"RID","rpc"),Xt(A,"SID",g.K),Xt(A,"AID",g.T),Xt(A,"CI",g.F?"0":"1"),!g.F&&g.ja&&Xt(A,"TO",g.ja),Xt(A,"TYPE","xmlhttp"),eo(g,A),g.m&&g.o&&qn(A,g.m,g.o),g.L&&(g.g.I=g.L);var M=g.g;g=g.ia,M.L=1,M.v=_l(_i(A)),M.m=null,M.P=!0,Xs(M,g)}n.Za=function(){this.C!=null&&(this.C=null,Uc(this),Ed(this),Ue(19))};function xl(g){g.C!=null&&(p.clearTimeout(g.C),g.C=null)}function Ei(g,A){var M=null;if(g.g==A){xl(g),Sl(g),g.g=null;var q=2}else if(as(g.h,A))M=A.D,wi(g.h,A),q=1;else return;if(g.G!=0){if(A.o)if(q==1){M=A.m?A.m.length:0,A=Date.now()-A.F;var ie=g.B;q=un(),dt(q,new Mt(q,M)),Do(g)}else ke(g);else if(ie=A.s,ie==3||ie==0&&0<A.X||!(q==1&&Ye(g,A)||q==2&&Ed(g)))switch(M&&0<M.length&&(A=g.h,A.i=A.i.concat(M)),ie){case 1:to(g,5);break;case 4:to(g,10);break;case 3:to(g,6);break;default:to(g,2)}}}function Cs(g,A){let M=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(M*=2),M*A}function to(g,A){if(g.j.info("Error code "+A),A==2){var M=C(g.fb,g),q=g.Xa;const ie=!q;q=new Hn(q||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ea(q,"https"),_l(q),ie?El(q.toString(),M):Es(q.toString(),M)}else Ue(2);g.G=0,g.l&&g.l.sa(A),pf(g),ff(g)}n.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function pf(g){if(g.G=0,g.ka=[],g.l){const A=bl(g.h);(A.length!=0||g.i.length!=0)&&(k(g.ka,A),k(g.ka,g.i),g.h.i.length=0,I(g.i),g.i.length=0),g.l.ra()}}function mf(g,A,M){var q=M instanceof Hn?_i(M):new Hn(M);if(q.g!="")A&&(q.g=A+"."+q.g),Mo(q,q.s);else{var ie=p.location;q=ie.protocol,A=A?A+"."+ie.hostname:ie.hostname,ie=+ie.port;var he=new Hn(null);q&&Ea(he,q),A&&(he.g=A),ie&&Mo(he,ie),M&&(he.l=M),q=he}return M=g.D,A=g.ya,M&&A&&Xt(q,M,A),Xt(q,"VER",g.la),eo(g,q),q}function gf(g,A,M){if(A&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=g.Ca&&!g.pa?new xt(new Ts({eb:M})):new xt(g.pa),A.Ha(g.J),A}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bc(){}n=Bc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Fc(){}Fc.prototype.g=function(g,A){return new Li(g,A)};function Li(g,A){Lt.call(this),this.g=new Vc(A),this.l=g,this.h=A&&A.messageUrlParams||null,g=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(g?g["X-WebChannel-Content-Type"]=A.messageContentType:g={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(g?g["X-WebChannel-Client-Profile"]=A.va:g={"X-WebChannel-Client-Profile":A.va}),this.g.S=g,(g=A&&A.Sb)&&!z(g)&&(this.g.m=g),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!z(A)&&(this.g.D=A,g=this.h,g!==null&&A in g&&(g=this.h,A in g&&delete g[A])),this.j=new no(this)}O(Li,Lt),Li.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Li.prototype.close=function(){_d(this.g)},Li.prototype.o=function(g){var A=this.g;if(typeof g=="string"){var M={};M.__data__=g,g=M}else this.u&&(M={},M.__data__=xe(g),g=M);A.i.push(new cf(A.Ya++,g)),A.G==3&&Do(A)},Li.prototype.N=function(){this.g.l=null,delete this.j,_d(this.g),delete this.g,Li.aa.N.call(this)};function vf(g){We.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var A=g.__sm__;if(A){e:{for(const M in A){g=M;break e}g=void 0}(this.i=g)&&(g=this.i,A=A!==null&&g in A?A[g]:void 0),this.data=A}else this.data=g}O(vf,We);function yf(){vt.call(this),this.status=1}O(yf,vt);function no(g){this.g=g}O(no,Bc),no.prototype.ua=function(){dt(this.g,"a")},no.prototype.ta=function(g){dt(this.g,new vf(g))},no.prototype.sa=function(g){dt(this.g,new yf)},no.prototype.ra=function(){dt(this.g,"b")},Fc.prototype.createWebChannel=Fc.prototype.g,Li.prototype.send=Li.prototype.o,Li.prototype.open=Li.prototype.m,Li.prototype.close=Li.prototype.close,SI=function(){return new Fc},TI=function(){return un()},EI=ht,Z1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qr.NO_ERROR=0,qr.TIMEOUT=8,qr.HTTP_ERROR=6,X0=qr,No.COMPLETE="complete",_I=No,rt.EventType=He,He.OPEN="a",He.CLOSE="b",He.ERROR="c",He.MESSAGE="d",Lt.prototype.listen=Lt.prototype.K,Ev=rt,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,wI=xt}).apply(typeof M0<"u"?M0:typeof self<"u"?self:typeof window<"u"?window:{});const Mx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xm="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=new zb("@firebase/firestore");function gv(){return Xh.logLevel}function Be(n,...e){if(Xh.logLevel<=Dt.DEBUG){const t=e.map(jE);Xh.debug(`Firestore (${xm}): ${n}`,...t)}}function Ac(n,...e){if(Xh.logLevel<=Dt.ERROR){const t=e.map(jE);Xh.error(`Firestore (${xm}): ${n}`,...t)}}function lm(n,...e){if(Xh.logLevel<=Dt.WARN){const t=e.map(jE);Xh.warn(`Firestore (${xm}): ${n}`,...t)}}function jE(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(n="Unexpected state"){const e=`FIRESTORE (${xm}) INTERNAL ASSERTION FAILED: `+n;throw Ac(e),new Error(e)}function on(n,e){n||it()}function ct(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends rs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Or.UNAUTHENTICATED))}shutdown(){}}class l9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class c9{constructor(e){this.t=e,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){on(this.o===void 0);let i=this.i;const o=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new bc;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new bc,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},p=m=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new bc)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(on(typeof i.accessToken=="string"),new xI(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return on(e===null||typeof e=="string"),new Or(e)}}class u9{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Or.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class d9{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new u9(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class h9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){on(this.o===void 0);const i=l=>{l.error!=null&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.R;return this.R=l.token,Be("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(on(typeof t.token=="string"),this.R=t.token,new h9(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=p9(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function Yt(n,e){return n<e?-1:n>e?1:0}function cm(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bi.fromMillis(Date.now())}static fromDate(e){return Bi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Bi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.timestamp=e}static fromTimestamp(e){return new at(e)}static min(){return new at(new Bi(0,0))}static max(){return new at(new Bi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,t,i){t===void 0?t=0:t>e.length&&it(),i===void 0?i=e.length-t:i>e.length-t&&it(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Jv.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jv?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=e.get(o),d=t.get(o);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class On extends Jv{construct(e,t,i){return new On(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Me(we.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new On(t)}static emptyPath(){return new On([])}}const m9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fr extends Jv{construct(e,t,i){return new fr(e,t,i)}static isValidIdentifier(e){return m9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new fr(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new Me(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new Me(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Me(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(i+=p,o++):(l(),o++)}if(l(),d)throw new Me(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fr(t)}static emptyPath(){return new fr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.path=e}static fromPath(e){return new $e(On.fromString(e))}static fromName(e){return new $e(On.fromString(e).popFirst(5))}static empty(){return new $e(On.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&On.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return On.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new On(e.slice()))}}function g9(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=at.fromTimestamp(i===1e9?new Bi(t+1,0):new Bi(t,i));return new rd(o,$e.empty(),e)}function v9(n){return new rd(n.readTime,n.key,-1)}class rd{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new rd(at.min(),$e.empty(),-1)}static max(){return new rd(at.max(),$e.empty(),-1)}}function y9(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=$e.comparator(n.documentKey,e.documentKey),t!==0?t:Yt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ty(n){if(n.code!==we.FAILED_PRECONDITION||n.message!==b9)throw n;Be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Te((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Te?t:Te.resolve(t)}catch(t){return Te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Te.reject(t)}static resolve(e){return new Te((t,i)=>{t(e)})}static reject(e){return new Te((t,i)=>{i(e)})}static waitFor(e){return new Te((t,i)=>{let o=0,l=0,d=!1;e.forEach(p=>{++o,p.next(()=>{++l,d&&l===o&&t()},m=>i(m))}),d=!0,l===o&&t()})}static or(e){let t=Te.resolve(!1);for(const i of e)t=t.next(o=>o?Te.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new Te((i,o)=>{const l=e.length,d=new Array(l);let p=0;for(let m=0;m<l;m++){const v=m;t(e[v]).next(w=>{d[v]=w,++p,p===l&&i(d)},w=>o(w))}})}static doWhile(e,t){return new Te((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function _9(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Sy(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}VE.oe=-1;function iw(n){return n==null}function _b(n){return n===0&&1/n==-1/0}function E9(n){return typeof n=="number"&&Number.isInteger(n)&&!_b(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Am(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function CI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,t){this.comparator=e,this.root=t||hr.EMPTY}insert(e,t){return new Jn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hr.BLACK,null,null))}remove(e){return new Jn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new P0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new P0(this.root,e,this.comparator,!1)}getReverseIterator(){return new P0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new P0(this.root,e,this.comparator,!0)}}class P0{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hr{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??hr.RED,this.left=o??hr.EMPTY,this.right=l??hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new hr(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return hr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return hr.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)}}hr.EMPTY=null,hr.RED=!0,hr.BLACK=!1;hr.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(e,t,i,o,l){return this}insert(e,t,i){return new hr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.comparator=e,this.data=new Jn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Dx(this.data.getIterator())}getIteratorFrom(e){return new Dx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof pr)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new pr(this.comparator);return t.data=e,t}}class Dx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.fields=e,e.sort(fr.comparator)}static empty(){return new fa([])}unionWith(e){let t=new pr(fr.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new fa(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return cm(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new RI("Invalid base64 string: "+l):l}}(e);return new gr(t)}static fromUint8Array(e){const t=function(o){let l="";for(let d=0;d<o.length;++d)l+=String.fromCharCode(o[d]);return l}(e);return new gr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gr.EMPTY_BYTE_STRING=new gr("");const T9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sd(n){if(on(!!n),typeof n=="string"){let e=0;const t=T9.exec(n);if(on(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:gi(n.seconds),nanos:gi(n.nanos)}}function gi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Qh(n){return typeof n=="string"?gr.fromBase64String(n):gr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function BE(n){const e=n.mapValue.fields.__previous_value__;return UE(e)?BE(e):e}function Zv(n){const e=sd(n.mapValue.fields.__local_write_time__.timestampValue);return new Bi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e,t,i,o,l,d,p,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=v}}class ey{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ey("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ey&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0={mapValue:{}};function Jh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?UE(n)?4:A9(n)?9007199254740991:x9(n)?10:11:it()}function vl(n,e){if(n===e)return!0;const t=Jh(n);if(t!==Jh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Zv(n).isEqual(Zv(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const d=sd(o.timestampValue),p=sd(l.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Qh(o.bytesValue).isEqual(Qh(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return gi(o.geoPointValue.latitude)===gi(l.geoPointValue.latitude)&&gi(o.geoPointValue.longitude)===gi(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return gi(o.integerValue)===gi(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const d=gi(o.doubleValue),p=gi(l.doubleValue);return d===p?_b(d)===_b(p):isNaN(d)&&isNaN(p)}return!1}(n,e);case 9:return cm(n.arrayValue.values||[],e.arrayValue.values||[],vl);case 10:case 11:return function(o,l){const d=o.mapValue.fields||{},p=l.mapValue.fields||{};if(Px(d)!==Px(p))return!1;for(const m in d)if(d.hasOwnProperty(m)&&(p[m]===void 0||!vl(d[m],p[m])))return!1;return!0}(n,e);default:return it()}}function ty(n,e){return(n.values||[]).find(t=>vl(t,e))!==void 0}function um(n,e){if(n===e)return 0;const t=Jh(n),i=Jh(e);if(t!==i)return Yt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Yt(n.booleanValue,e.booleanValue);case 2:return function(l,d){const p=gi(l.integerValue||l.doubleValue),m=gi(d.integerValue||d.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1}(n,e);case 3:return Ox(n.timestampValue,e.timestampValue);case 4:return Ox(Zv(n),Zv(e));case 5:return Yt(n.stringValue,e.stringValue);case 6:return function(l,d){const p=Qh(l),m=Qh(d);return p.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,d){const p=l.split("/"),m=d.split("/");for(let v=0;v<p.length&&v<m.length;v++){const w=Yt(p[v],m[v]);if(w!==0)return w}return Yt(p.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,d){const p=Yt(gi(l.latitude),gi(d.latitude));return p!==0?p:Yt(gi(l.longitude),gi(d.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Lx(n.arrayValue,e.arrayValue);case 10:return function(l,d){var p,m,v,w;const T=l.fields||{},C=d.fields||{},N=(p=T.value)===null||p===void 0?void 0:p.arrayValue,O=(m=C.value)===null||m===void 0?void 0:m.arrayValue,I=Yt(((v=N?.values)===null||v===void 0?void 0:v.length)||0,((w=O?.values)===null||w===void 0?void 0:w.length)||0);return I!==0?I:Lx(N,O)}(n.mapValue,e.mapValue);case 11:return function(l,d){if(l===D0.mapValue&&d===D0.mapValue)return 0;if(l===D0.mapValue)return 1;if(d===D0.mapValue)return-1;const p=l.fields||{},m=Object.keys(p),v=d.fields||{},w=Object.keys(v);m.sort(),w.sort();for(let T=0;T<m.length&&T<w.length;++T){const C=Yt(m[T],w[T]);if(C!==0)return C;const N=um(p[m[T]],v[w[T]]);if(N!==0)return N}return Yt(m.length,w.length)}(n.mapValue,e.mapValue);default:throw it()}}function Ox(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Yt(n,e);const t=sd(n),i=sd(e),o=Yt(t.seconds,i.seconds);return o!==0?o:Yt(t.nanos,i.nanos)}function Lx(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=um(t[o],i[o]);if(l)return l}return Yt(t.length,i.length)}function dm(n){return e_(n)}function e_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=sd(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Qh(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return $e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=e_(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const d of i)l?l=!1:o+=",",o+=`${d}:${e_(t.fields[d])}`;return o+"}"}(n.mapValue):it()}function jx(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function t_(n){return!!n&&"integerValue"in n}function FE(n){return!!n&&"arrayValue"in n}function Vx(n){return!!n&&"nullValue"in n}function Ux(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Q0(n){return!!n&&"mapValue"in n}function x9(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Pv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Am(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Pv(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function A9(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.value=e}static empty(){return new Ao({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Q0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pv(t)}setAll(e){let t=fr.emptyPath(),i={},o=[];e.forEach((d,p)=>{if(!t.isImmediateParentOf(p)){const m=this.getFieldsMap(t);this.applyChanges(m,i,o),i={},o=[],t=p.popLast()}d?i[p.lastSegment()]=Pv(d):o.push(p.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Q0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Q0(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Am(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new Ao(Pv(this.value))}}function II(n){const e=[];return Am(n.fields,(t,i)=>{const o=new fr([t]);if(Q0(i)){const l=II(i.mapValue).fields;if(l.length===0)e.push(o);else for(const d of l)e.push(o.child(d))}else e.push(o)}),new fa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,t,i,o,l,d,p){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Lr(e,0,at.min(),at.min(),at.min(),Ao.empty(),0)}static newFoundDocument(e,t,i,o){return new Lr(e,1,t,at.min(),i,o,0)}static newNoDocument(e,t){return new Lr(e,2,t,at.min(),at.min(),Ao.empty(),0)}static newUnknownDocument(e,t){return new Lr(e,3,t,at.min(),at.min(),Ao.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(at.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ao.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ao.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=at.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Lr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Lr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,t){this.position=e,this.inclusive=t}}function Bx(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],d=n.position[o];if(l.field.isKeyField()?i=$e.comparator($e.fromName(d.referenceValue),t.key):i=um(d,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Fx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!vl(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,t="asc"){this.field=e,this.dir=t}}function C9(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{}class Ii extends kI{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new I9(e,t,i):t==="array-contains"?new M9(e,i):t==="in"?new P9(e,i):t==="not-in"?new D9(e,i):t==="array-contains-any"?new O9(e,i):new Ii(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new k9(e,i):new N9(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(um(t,this.value)):t!==null&&Jh(this.value)===Jh(t)&&this.matchesComparison(um(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return it()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ga extends kI{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ga(e,t)}matches(e){return NI(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function NI(n){return n.op==="and"}function MI(n){return R9(n)&&NI(n)}function R9(n){for(const e of n.filters)if(e instanceof ga)return!1;return!0}function n_(n){if(n instanceof Ii)return n.field.canonicalString()+n.op.toString()+dm(n.value);if(MI(n))return n.filters.map(e=>n_(e)).join(",");{const e=n.filters.map(t=>n_(t)).join(",");return`${n.op}(${e})`}}function PI(n,e){return n instanceof Ii?function(i,o){return o instanceof Ii&&i.op===o.op&&i.field.isEqual(o.field)&&vl(i.value,o.value)}(n,e):n instanceof ga?function(i,o){return o instanceof ga&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,d,p)=>l&&PI(d,o.filters[p]),!0):!1}(n,e):void it()}function DI(n){return n instanceof Ii?function(t){return`${t.field.canonicalString()} ${t.op} ${dm(t.value)}`}(n):n instanceof ga?function(t){return t.op.toString()+" {"+t.getFilters().map(DI).join(" ,")+"}"}(n):"Filter"}class I9 extends Ii{constructor(e,t,i){super(e,t,i),this.key=$e.fromName(i.referenceValue)}matches(e){const t=$e.comparator(e.key,this.key);return this.matchesComparison(t)}}class k9 extends Ii{constructor(e,t){super(e,"in",t),this.keys=OI("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class N9 extends Ii{constructor(e,t){super(e,"not-in",t),this.keys=OI("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function OI(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>$e.fromName(i.referenceValue))}class M9 extends Ii{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return FE(t)&&ty(t.arrayValue,this.value)}}class P9 extends Ii{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ty(this.value.arrayValue,t)}}class D9 extends Ii{constructor(e,t){super(e,"not-in",t)}matches(e){if(ty(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ty(this.value.arrayValue,t)}}class O9 extends Ii{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!FE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>ty(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e,t=null,i=[],o=[],l=null,d=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=d,this.endAt=p,this.ue=null}}function zx(n,e=null,t=[],i=[],o=null,l=null,d=null){return new L9(n,e,t,i,o,l,d)}function zE(n){const e=ct(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>n_(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),iw(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>dm(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>dm(i)).join(",")),e.ue=t}return e.ue}function HE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!C9(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!PI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Fx(n.startAt,e.startAt)&&Fx(n.endAt,e.endAt)}function i_(n){return $e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,t=null,i=[],o=[],l=null,d="F",p=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=d,this.startAt=p,this.endAt=m,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function j9(n,e,t,i,o,l,d,p){return new Cm(n,e,t,i,o,l,d,p)}function qE(n){return new Cm(n)}function Hx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function LI(n){return n.collectionGroup!==null}function Dv(n){const e=ct(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new pr(fr.comparator);return d.filters.forEach(m=>{m.getFlattenedFilters().forEach(v=>{v.isInequality()&&(p=p.add(v.field))})}),p})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new ny(l,i))}),t.has(fr.keyField().canonicalString())||e.ce.push(new ny(fr.keyField(),i))}return e.ce}function cl(n){const e=ct(n);return e.le||(e.le=V9(e,Dv(n))),e.le}function V9(n,e){if(n.limitType==="F")return zx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new ny(o.field,l)});const t=n.endAt?new Eb(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Eb(n.startAt.position,n.startAt.inclusive):null;return zx(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function r_(n,e){const t=n.filters.concat([e]);return new Cm(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function s_(n,e,t){return new Cm(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rw(n,e){return HE(cl(n),cl(e))&&n.limitType===e.limitType}function jI(n){return`${zE(cl(n))}|lt:${n.limitType}`}function Vp(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>DI(o)).join(", ")}]`),iw(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>dm(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>dm(o)).join(",")),`Target(${i})`}(cl(n))}; limitType=${n.limitType})`}function sw(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):$e.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of Dv(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(d,p,m){const v=Bx(d,p,m);return d.inclusive?v<=0:v<0}(i.startAt,Dv(i),o)||i.endAt&&!function(d,p,m){const v=Bx(d,p,m);return d.inclusive?v>=0:v>0}(i.endAt,Dv(i),o))}(n,e)}function U9(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function VI(n){return(e,t)=>{let i=!1;for(const o of Dv(n)){const l=B9(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function B9(n,e,t){const i=n.field.isKeyField()?$e.comparator(e.key,t.key):function(l,d,p){const m=d.data.field(l),v=p.data.field(l);return m!==null&&v!==null?um(m,v):it()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return it()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Am(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return CI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=new Jn($e.comparator);function Cc(){return F9}const UI=new Jn($e.comparator);function Tv(...n){let e=UI;for(const t of n)e=e.insert(t.key,t);return e}function BI(n){let e=UI;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Bh(){return Ov()}function FI(){return Ov()}function Ov(){return new Rm(n=>n.toString(),(n,e)=>n.isEqual(e))}const z9=new Jn($e.comparator),H9=new pr($e.comparator);function Ot(...n){let e=H9;for(const t of n)e=e.add(t);return e}const q9=new pr(Yt);function G9(){return q9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_b(e)?"-0":e}}function zI(n){return{integerValue:""+n}}function $9(n,e){return E9(e)?zI(e):GE(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this._=void 0}}function K9(n,e,t){return n instanceof Tb?function(o,l){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&UE(l)&&(l=BE(l)),l&&(d.fields.__previous_value__=l),{mapValue:d}}(t,e):n instanceof iy?qI(n,e):n instanceof ry?GI(n,e):function(o,l){const d=HI(o,l),p=qx(d)+qx(o.Pe);return t_(d)&&t_(o.Pe)?zI(p):GE(o.serializer,p)}(n,e)}function W9(n,e,t){return n instanceof iy?qI(n,e):n instanceof ry?GI(n,e):t}function HI(n,e){return n instanceof Sb?function(i){return t_(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Tb extends ow{}class iy extends ow{constructor(e){super(),this.elements=e}}function qI(n,e){const t=$I(e);for(const i of n.elements)t.some(o=>vl(o,i))||t.push(i);return{arrayValue:{values:t}}}class ry extends ow{constructor(e){super(),this.elements=e}}function GI(n,e){let t=$I(e);for(const i of n.elements)t=t.filter(o=>!vl(o,i));return{arrayValue:{values:t}}}class Sb extends ow{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function qx(n){return gi(n.integerValue||n.doubleValue)}function $I(n){return FE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Y9(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof iy&&o instanceof iy||i instanceof ry&&o instanceof ry?cm(i.elements,o.elements,vl):i instanceof Sb&&o instanceof Sb?vl(i.Pe,o.Pe):i instanceof Tb&&o instanceof Tb}(n.transform,e.transform)}class X9{constructor(e,t){this.version=e,this.transformResults=t}}class ul{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ul}static exists(e){return new ul(void 0,e)}static updateTime(e){return new ul(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function J0(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class aw{}function KI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new $E(n.key,ul.none()):new xy(n.key,n.data,ul.none());{const t=n.data,i=Ao.empty();let o=new pr(fr.comparator);for(let l of e.fields)if(!o.has(l)){let d=t.field(l);d===null&&l.length>1&&(l=l.popLast(),d=t.field(l)),d===null?i.delete(l):i.set(l,d),o=o.add(l)}return new sf(n.key,i,new fa(o.toArray()),ul.none())}}function Q9(n,e,t){n instanceof xy?function(o,l,d){const p=o.value.clone(),m=$x(o.fieldTransforms,l,d.transformResults);p.setAll(m),l.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(n,e,t):n instanceof sf?function(o,l,d){if(!J0(o.precondition,l))return void l.convertToUnknownDocument(d.version);const p=$x(o.fieldTransforms,l,d.transformResults),m=l.data;m.setAll(WI(o)),m.setAll(p),l.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(n,e,t):function(o,l,d){l.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function Lv(n,e,t,i){return n instanceof xy?function(l,d,p,m){if(!J0(l.precondition,d))return p;const v=l.value.clone(),w=Kx(l.fieldTransforms,m,d);return v.setAll(w),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(n,e,t,i):n instanceof sf?function(l,d,p,m){if(!J0(l.precondition,d))return p;const v=Kx(l.fieldTransforms,m,d),w=d.data;return w.setAll(WI(l)),w.setAll(v),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),p===null?null:p.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(l,d,p){return J0(l.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(n,e,t)}function J9(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=HI(i.transform,o||null);l!=null&&(t===null&&(t=Ao.empty()),t.set(i.field,l))}return t||null}function Gx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&cm(i,o,(l,d)=>Y9(l,d))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class xy extends aw{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class sf extends aw{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function WI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function $x(n,e,t){const i=new Map;on(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],d=l.transform,p=e.data.field(l.field);i.set(l.field,W9(d,p,t[o]))}return i}function Kx(n,e,t){const i=new Map;for(const o of n){const l=o.transform,d=t.data.field(o.field);i.set(o.field,K9(l,d,e))}return i}class $E extends aw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Z9 extends aw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&Q9(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Lv(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Lv(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=FI();return this.mutations.forEach(o=>{const l=e.get(o.key),d=l.overlayedDocument;let p=this.applyToLocalView(d,l.mutatedFields);p=t.has(o.key)?null:p;const m=KI(d,p);m!==null&&i.set(o.key,m),d.isValidDocument()||d.convertToNoDocument(at.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ot())}isEqual(e){return this.batchId===e.batchId&&cm(this.mutations,e.mutations,(t,i)=>Gx(t,i))&&cm(this.baseMutations,e.baseMutations,(t,i)=>Gx(t,i))}}class KE{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){on(e.mutations.length===i.length);let o=function(){return z9}();const l=e.mutations;for(let d=0;d<l.length;d++)o=o.insert(l[d].key,i[d].version);return new KE(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ci,Bt;function iB(n){switch(n){default:return it();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0}}function YI(n){if(n===void 0)return Ac("GRPC error has no .code"),we.UNKNOWN;switch(n){case Ci.OK:return we.OK;case Ci.CANCELLED:return we.CANCELLED;case Ci.UNKNOWN:return we.UNKNOWN;case Ci.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case Ci.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case Ci.INTERNAL:return we.INTERNAL;case Ci.UNAVAILABLE:return we.UNAVAILABLE;case Ci.UNAUTHENTICATED:return we.UNAUTHENTICATED;case Ci.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case Ci.NOT_FOUND:return we.NOT_FOUND;case Ci.ALREADY_EXISTS:return we.ALREADY_EXISTS;case Ci.PERMISSION_DENIED:return we.PERMISSION_DENIED;case Ci.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case Ci.ABORTED:return we.ABORTED;case Ci.OUT_OF_RANGE:return we.OUT_OF_RANGE;case Ci.UNIMPLEMENTED:return we.UNIMPLEMENTED;case Ci.DATA_LOSS:return we.DATA_LOSS;default:return it()}}(Bt=Ci||(Ci={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sB=new qh([4294967295,4294967295],0);function Wx(n){const e=rB().encode(n),t=new bI;return t.update(e),new Uint8Array(t.digest())}function Yx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new qh([t,i],0),new qh([o,l],0)]}class WE{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Sv(`Invalid padding: ${t}`);if(i<0)throw new Sv(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Sv(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Sv(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=qh.fromNumber(this.Ie)}Ee(e,t,i){let o=e.add(t.multiply(qh.fromNumber(i)));return o.compare(sB)===1&&(o=new qh([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Wx(e),[i,o]=Yx(t);for(let l=0;l<this.hashCount;l++){const d=this.Ee(i,o,l);if(!this.de(d))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),d=new WE(l,o,t);return i.forEach(p=>d.insert(p)),d}insert(e){if(this.Ie===0)return;const t=Wx(e),[i,o]=Yx(t);for(let l=0;l<this.hashCount;l++){const d=this.Ee(i,o,l);this.Ae(d)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Sv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Ay.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new lw(at.min(),o,new Jn(Yt),Cc(),Ot())}}class Ay{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ay(i,t,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class XI{constructor(e,t){this.targetId=e,this.me=t}}class QI{constructor(e,t,i=gr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Xx{constructor(){this.fe=0,this.ge=Jx(),this.pe=gr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ot(),t=Ot(),i=Ot();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:it()}}),new Ay(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Jx()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,on(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class oB{constructor(e){this.Le=e,this.Be=new Map,this.ke=Cc(),this.qe=Qx(),this.Qe=new Jn(Yt)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:it()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.ze(o)&&t(o)})}He(e){const t=e.targetId,i=e.me.count,o=this.Je(t);if(o){const l=o.target;if(i_(l))if(i===0){const d=new $e(l.path);this.Ue(t,d,Lr.newNoDocument(d,at.min()))}else on(i===1);else{const d=this.Ye(t);if(d!==i){const p=this.Ze(e),m=p?this.Xe(p,e,d):1;if(m!==0){this.je(t);const v=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,v)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let d,p;try{d=Qh(i).toUint8Array()}catch(m){if(m instanceof RI)return lm("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new WE(d,o,l)}catch(m){return lm(m instanceof Sv?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.Ie===0?null:p}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const d=this.Le.tt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${l.path.canonicalString()}`;e.mightContain(p)||(this.Ue(t,l,null),o++)}),o}rt(e){const t=new Map;this.Be.forEach((l,d)=>{const p=this.Je(d);if(p){if(l.current&&i_(p.target)){const m=new $e(p.target.path);this.ke.get(m)!==null||this.it(d,m)||this.Ue(d,m,Lr.newNoDocument(m,e))}l.be&&(t.set(d,l.ve()),l.Ce())}});let i=Ot();this.qe.forEach((l,d)=>{let p=!0;d.forEachWhile(m=>{const v=this.Je(m);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(i=i.add(l))}),this.ke.forEach((l,d)=>d.setReadTime(e));const o=new lw(e,t,this.Qe,this.ke,i);return this.ke=Cc(),this.qe=Qx(),this.Qe=new Jn(Yt),o}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Xx,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new pr(Yt),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||Be("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Xx),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Qx(){return new Jn($e.comparator)}function Jx(){return new Jn($e.comparator)}const aB={asc:"ASCENDING",desc:"DESCENDING"},lB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cB={and:"AND",or:"OR"};class uB{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function o_(n,e){return n.useProto3Json||iw(e)?e:{value:e}}function xb(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function dB(n,e){return xb(n,e.toTimestamp())}function dl(n){return on(!!n),at.fromTimestamp(function(t){const i=sd(t);return new Bi(i.seconds,i.nanos)}(n))}function YE(n,e){return a_(n,e).canonicalString()}function a_(n,e){const t=function(o){return new On(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function ZI(n){const e=On.fromString(n);return on(rk(e)),e}function l_(n,e){return YE(n.databaseId,e.path)}function h1(n,e){const t=ZI(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $e(tk(t))}function ek(n,e){return YE(n.databaseId,e)}function hB(n){const e=ZI(n);return e.length===4?On.emptyPath():tk(e)}function c_(n){return new On(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tk(n){return on(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Zx(n,e,t){return{name:l_(n,e),fields:t.value.mapValue.fields}}function fB(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:it()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(v,w){return v.useProto3Json?(on(w===void 0||typeof w=="string"),gr.fromBase64String(w||"")):(on(w===void 0||w instanceof Buffer||w instanceof Uint8Array),gr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(v){const w=v.code===void 0?we.UNKNOWN:YI(v.code);return new Me(w,v.message||"")}(d);t=new QI(i,o,l,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=h1(n,i.document.name),l=dl(i.document.updateTime),d=i.document.createTime?dl(i.document.createTime):at.min(),p=new Ao({mapValue:{fields:i.document.fields}}),m=Lr.newFoundDocument(o,l,d,p),v=i.targetIds||[],w=i.removedTargetIds||[];t=new Z0(v,w,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=h1(n,i.document),l=i.readTime?dl(i.readTime):at.min(),d=Lr.newNoDocument(o,l),p=i.removedTargetIds||[];t=new Z0([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=h1(n,i.document),l=i.removedTargetIds||[];t=new Z0([],l,o,null)}else{if(!("filter"in e))return it();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,d=new nB(o,l),p=i.targetId;t=new XI(p,d)}}return t}function pB(n,e){let t;if(e instanceof xy)t={update:Zx(n,e.key,e.value)};else if(e instanceof $E)t={delete:l_(n,e.key)};else if(e instanceof sf)t={update:Zx(n,e.key,e.data),updateMask:TB(e.fieldMask)};else{if(!(e instanceof Z9))return it();t={verify:l_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,d){const p=d.transform;if(p instanceof Tb)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof iy)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ry)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Sb)return{fieldPath:d.field.canonicalString(),increment:p.Pe};throw it()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:dB(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:it()}(n,e.precondition)),t}function mB(n,e){return n&&n.length>0?(on(e!==void 0),n.map(t=>function(o,l){let d=o.updateTime?dl(o.updateTime):dl(l);return d.isEqual(at.min())&&(d=dl(l)),new X9(d,o.transformResults||[])}(t,e))):[]}function gB(n,e){return{documents:[ek(n,e.path)]}}function vB(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=ek(n,o);const l=function(v){if(v.length!==0)return ik(ga.create(v,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const d=function(v){if(v.length!==0)return v.map(w=>function(C){return{field:Up(C.field),direction:wB(C.dir)}}(w))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const p=o_(n,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{_t:t,parent:o}}function yB(n){let e=hB(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){on(i===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=function(T){const C=nk(T);return C instanceof ga&&MI(C)?C.getFilters():[C]}(t.where));let d=[];t.orderBy&&(d=function(T){return T.map(C=>function(O){return new ny(Bp(O.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(C))}(t.orderBy));let p=null;t.limit&&(p=function(T){let C;return C=typeof T=="object"?T.value:T,iw(C)?null:C}(t.limit));let m=null;t.startAt&&(m=function(T){const C=!!T.before,N=T.values||[];return new Eb(N,C)}(t.startAt));let v=null;return t.endAt&&(v=function(T){const C=!T.before,N=T.values||[];return new Eb(N,C)}(t.endAt)),j9(e,o,d,l,p,"F",m,v)}function bB(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return it()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function nk(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Bp(t.unaryFilter.field);return Ii.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Bp(t.unaryFilter.field);return Ii.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Bp(t.unaryFilter.field);return Ii.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Bp(t.unaryFilter.field);return Ii.create(d,"!=",{nullValue:"NULL_VALUE"});default:return it()}}(n):n.fieldFilter!==void 0?function(t){return Ii.create(Bp(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ga.create(t.compositeFilter.filters.map(i=>nk(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return it()}}(t.compositeFilter.op))}(n):it()}function wB(n){return aB[n]}function _B(n){return lB[n]}function EB(n){return cB[n]}function Up(n){return{fieldPath:n.canonicalString()}}function Bp(n){return fr.fromServerFormat(n.fieldPath)}function ik(n){return n instanceof Ii?function(t){if(t.op==="=="){if(Ux(t.value))return{unaryFilter:{field:Up(t.field),op:"IS_NAN"}};if(Vx(t.value))return{unaryFilter:{field:Up(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ux(t.value))return{unaryFilter:{field:Up(t.field),op:"IS_NOT_NAN"}};if(Vx(t.value))return{unaryFilter:{field:Up(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Up(t.field),op:_B(t.op),value:t.value}}}(n):n instanceof ga?function(t){const i=t.getFilters().map(o=>ik(o));return i.length===1?i[0]:{compositeFilter:{op:EB(t.op),filters:i}}}(n):it()}function TB(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rk(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,t,i,o,l=at.min(),d=at.min(),p=gr.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new Qu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e){this.ct=e}}function xB(n){const e=yB({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?s_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(){this.un=new CB}addToCollectionParentIndex(e,t){return this.un.add(t),Te.resolve()}getCollectionParents(e,t){return Te.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Te.resolve()}deleteFieldIndex(e,t){return Te.resolve()}deleteAllFieldIndexes(e){return Te.resolve()}createTargetIndexes(e,t){return Te.resolve()}getDocumentsMatchingTarget(e,t){return Te.resolve(null)}getIndexType(e,t){return Te.resolve(0)}getFieldIndexes(e,t){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,t){return Te.resolve(rd.min())}getMinOffsetFromCollectionGroup(e,t){return Te.resolve(rd.min())}updateCollectionGroup(e,t,i){return Te.resolve()}updateIndexEntries(e,t){return Te.resolve()}}class CB{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new pr(On.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new pr(On.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new hm(0)}static kn(){return new hm(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(){this.changes=new Rm(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Lr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Te.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Lv(i.mutation,o,fa.empty(),Bi.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ot()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ot()){const o=Bh();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let d=Tv();return l.forEach((p,m)=>{d=d.insert(p,m.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const i=Bh();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ot()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((d,p)=>{t.set(d,p)})})}computeViews(e,t,i,o){let l=Cc();const d=Ov(),p=function(){return Ov()}();return t.forEach((m,v)=>{const w=i.get(v.key);o.has(v.key)&&(w===void 0||w.mutation instanceof sf)?l=l.insert(v.key,v):w!==void 0?(d.set(v.key,w.mutation.getFieldMask()),Lv(w.mutation,v,w.mutation.getFieldMask(),Bi.now())):d.set(v.key,fa.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((v,w)=>d.set(v,w)),t.forEach((v,w)=>{var T;return p.set(v,new IB(w,(T=d.get(v))!==null&&T!==void 0?T:null))}),p))}recalculateAndSaveOverlays(e,t){const i=Ov();let o=new Jn((d,p)=>d-p),l=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const p of d)p.keys().forEach(m=>{const v=t.get(m);if(v===null)return;let w=i.get(m)||fa.empty();w=p.applyToLocalView(v,w),i.set(m,w);const T=(o.get(p.batchId)||Ot()).add(m);o=o.insert(p.batchId,T)})}).next(()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),v=m.key,w=m.value,T=FI();w.forEach(C=>{if(!l.has(C)){const N=KI(t.get(C),i.get(C));N!==null&&T.set(C,N),l=l.add(C)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,T))}return Te.waitFor(d)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(d){return $e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):LI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const d=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):Te.resolve(Bh());let p=-1,m=l;return d.next(v=>Te.forEach(v,(w,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),l.get(w)?Te.resolve():this.remoteDocumentCache.getEntry(e,w).next(C=>{m=m.insert(w,C)}))).next(()=>this.populateOverlays(e,v,l)).next(()=>this.computeViews(e,m,v,Ot())).next(w=>({batchId:p,changes:BI(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $e(t)).next(i=>{let o=Tv();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let d=Tv();return this.indexManager.getCollectionParents(e,l).next(p=>Te.forEach(p,m=>{const v=function(T,C){return new Cm(C,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,v,i,o).next(w=>{w.forEach((T,C)=>{d=d.insert(T,C)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(d=>(l=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(d=>{l.forEach((m,v)=>{const w=v.getKey();d.get(w)===null&&(d=d.insert(w,Lr.newInvalidDocument(w)))});let p=Tv();return d.forEach((m,v)=>{const w=l.get(m);w!==void 0&&Lv(w.mutation,v,fa.empty(),Bi.now()),sw(t,v)&&(p=p.insert(m,v))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Te.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:dl(o.createTime)}}(t)),Te.resolve()}getNamedQuery(e,t){return Te.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(o){return{name:o.name,query:xB(o.bundledQuery),readTime:dl(o.readTime)}}(t)),Te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(){this.overlays=new Jn($e.comparator),this.Ir=new Map}getOverlay(e,t){return Te.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Bh();return Te.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.ht(e,t,l)}),Te.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Ir.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Ir.delete(i)),Te.resolve()}getOverlaysForCollection(e,t,i){const o=Bh(),l=t.length+1,d=new $e(t.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const m=p.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===l&&m.largestBatchId>i&&o.set(m.getKey(),m)}return Te.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new Jn((v,w)=>v-w);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let w=l.get(v.largestBatchId);w===null&&(w=Bh(),l=l.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const p=Bh(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,w)=>p.set(v,w)),!(p.size()>=o)););return Te.resolve(p)}ht(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const d=this.Ir.get(o.largestBatchId).delete(i.key);this.Ir.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new tB(t,i));let l=this.Ir.get(t);l===void 0&&(l=Ot(),this.Ir.set(t,l)),this.Ir.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(){this.sessionToken=gr.EMPTY_BYTE_STRING}getSessionToken(e){return Te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this.Tr=new pr(Qi.Er),this.dr=new pr(Qi.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const i=new Qi(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new Qi(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){const t=new $e(new On([])),i=new Qi(t,e),o=new Qi(t,e+1),l=[];return this.dr.forEachInRange([i,o],d=>{this.Vr(d),l.push(d.key)}),l}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new $e(new On([])),i=new Qi(t,e),o=new Qi(t,e+1);let l=Ot();return this.dr.forEachInRange([i,o],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new Qi(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Qi{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return $e.comparator(e.key,t.key)||Yt(e.wr,t.wr)}static Ar(e,t){return Yt(e.wr,t.wr)||$e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new pr(Qi.Er)}checkEmpty(e){return Te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new eB(l,t,i,o);this.mutationQueue.push(d);for(const p of o)this.br=this.br.add(new Qi(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Te.resolve(d)}lookupMutationBatch(e,t){return Te.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.vr(i),l=o<0?0:o;return Te.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Qi(t,0),o=new Qi(t,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([i,o],d=>{const p=this.Dr(d.wr);l.push(p)}),Te.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new pr(Yt);return t.forEach(o=>{const l=new Qi(o,0),d=new Qi(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,d],p=>{i=i.add(p.wr)})}),Te.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;$e.isDocumentKey(l)||(l=l.child(""));const d=new Qi(new $e(l),0);let p=new pr(Yt);return this.br.forEachWhile(m=>{const v=m.key.path;return!!i.isPrefixOf(v)&&(v.length===o&&(p=p.add(m.wr)),!0)},d),Te.resolve(this.Cr(p))}Cr(e){const t=[];return e.forEach(i=>{const o=this.Dr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){on(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return Te.forEach(t.mutations,o=>{const l=new Qi(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){const i=new Qi(t,0),o=this.br.firstAfterOrEqual(i);return Te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Te.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e){this.Mr=e,this.docs=function(){return new Jn($e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,d=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Te.resolve(i?i.document.mutableCopy():Lr.newInvalidDocument(t))}getEntries(e,t){let i=Cc();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Lr.newInvalidDocument(o))}),Te.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Cc();const d=t.path,p=new $e(d.child("")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:v,value:{document:w}}=m.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||y9(v9(w),i)<=0||(o.has(w.key)||sw(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return Te.resolve(l)}getAllFromCollectionGroup(e,t,i,o){it()}Or(e,t){return Te.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new LB(this)}getSize(e){return Te.resolve(this.size)}}class LB extends RB{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(i)}),Te.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e){this.persistence=e,this.Nr=new Rm(t=>zE(t),HE),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.Lr=0,this.Br=new XE,this.targetCount=0,this.kr=hm.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,o)=>t(o)),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),Te.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new hm(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Te.resolve()}updateTargetData(e,t){return this.Kn(t),Te.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Nr.forEach((d,p)=>{p.sequenceNumber<=t&&i.get(p.targetId)===null&&(this.Nr.delete(d),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),Te.waitFor(l).next(()=>o)}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,t){const i=this.Nr.get(t)||null;return Te.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),Te.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(d=>{l.push(o.markPotentiallyOrphaned(e,d))}),Te.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Te.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Br.yr(t);return Te.resolve(i)}containsKey(e,t){return Te.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e,t){this.qr={},this.overlays={},this.Qr=new VE(0),this.Kr=!1,this.Kr=!0,this.$r=new PB,this.referenceDelegate=e(this),this.Ur=new jB(this),this.indexManager=new AB,this.remoteDocumentCache=function(o){return new OB(o)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new SB(t),this.Gr=new NB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new MB,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new DB(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){Be("MemoryPersistence","Starting transaction:",e);const o=new UB(this.Qr.next());return this.referenceDelegate.zr(),i(o).next(l=>this.referenceDelegate.jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Hr(e,t){return Te.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}}class UB extends w9{constructor(e){super(),this.currentSequenceNumber=e}}class QE{constructor(e){this.persistence=e,this.Jr=new XE,this.Yr=null}static Zr(e){return new QE(e)}get Xr(){if(this.Yr)return this.Yr;throw it()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),Te.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),Te.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Te.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(o=>this.Xr.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.Xr.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.Xr,i=>{const o=$e.fromPath(i);return this.ei(e,o).next(l=>{l||t.removeEntry(o,at.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return Te.or([()=>Te.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=o}static Wi(e,t){let i=Ot(),o=Ot();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new JE(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return pL()?8:_9(Ni())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Yi(e,t).next(d=>{l.result=d}).next(()=>{if(!l.result)return this.Zi(e,t,o,i).next(d=>{l.result=d})}).next(()=>{if(l.result)return;const d=new BB;return this.Xi(e,t,d).next(p=>{if(l.result=p,this.zi)return this.es(e,t,d,p.size)})}).next(()=>l.result)}es(e,t,i,o){return i.documentReadCount<this.ji?(gv()<=Dt.DEBUG&&Be("QueryEngine","SDK will not create cache indexes for query:",Vp(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Te.resolve()):(gv()<=Dt.DEBUG&&Be("QueryEngine","Query:",Vp(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Hi*o?(gv()<=Dt.DEBUG&&Be("QueryEngine","The SDK decides to create cache indexes for query:",Vp(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cl(t))):Te.resolve())}Yi(e,t){if(Hx(t))return Te.resolve(null);let i=cl(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=s_(t,null,"F"),i=cl(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const d=Ot(...l);return this.Ji.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,i).next(m=>{const v=this.ts(t,p);return this.ns(t,v,d,m.readTime)?this.Yi(e,s_(t,null,"F")):this.rs(e,v,t,m)}))})))}Zi(e,t,i,o){return Hx(t)||o.isEqual(at.min())?Te.resolve(null):this.Ji.getDocuments(e,i).next(l=>{const d=this.ts(t,l);return this.ns(t,d,i,o)?Te.resolve(null):(gv()<=Dt.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Vp(t)),this.rs(e,d,t,g9(o,-1)).next(p=>p))})}ts(e,t){let i=new pr(VI(e));return t.forEach((o,l)=>{sw(e,l)&&(i=i.add(l))}),i}ns(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Xi(e,t,i){return gv()<=Dt.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",Vp(t)),this.Ji.getDocumentsMatchingQuery(e,t,rd.min(),i)}rs(e,t,i,o){return this.Ji.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e,t,i,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new Jn(Yt),this._s=new Rm(l=>zE(l),HE),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kB(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function HB(n,e,t,i){return new zB(n,e,t,i)}async function sk(n,e){const t=ct(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const d=[],p=[];let m=Ot();for(const v of o){d.push(v.batchId);for(const w of v.mutations)m=m.add(w.key)}for(const v of l){p.push(v.batchId);for(const w of v.mutations)m=m.add(w.key)}return t.localDocuments.getDocuments(i,m).next(v=>({hs:v,removedBatchIds:d,addedBatchIds:p}))})})}function qB(n,e){const t=ct(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.cs.newChangeBuffer({trackRemovals:!0});return function(p,m,v,w){const T=v.batch,C=T.keys();let N=Te.resolve();return C.forEach(O=>{N=N.next(()=>w.getEntry(m,O)).next(I=>{const k=v.docVersions.get(O);on(k!==null),I.version.compareTo(k)<0&&(T.applyToRemoteDocument(I,v),I.isValidDocument()&&(I.setReadTime(v.commitVersion),w.addEntry(I)))})}),N.next(()=>p.mutationQueue.removeMutationBatch(m,T))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(p){let m=Ot();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(m=m.add(p.batch.mutations[v].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function ok(n){const e=ct(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function GB(n,e){const t=ct(n),i=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const p=[];e.targetChanges.forEach((w,T)=>{const C=o.get(T);if(!C)return;p.push(t.Ur.removeMatchingKeys(l,w.removedDocuments,T).next(()=>t.Ur.addMatchingKeys(l,w.addedDocuments,T)));let N=C.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?N=N.withResumeToken(gr.EMPTY_BYTE_STRING,at.min()).withLastLimboFreeSnapshotVersion(at.min()):w.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(w.resumeToken,i)),o=o.insert(T,N),function(I,k,D){return I.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(C,N,w)&&p.push(t.Ur.updateTargetData(l,N))});let m=Cc(),v=Ot();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))}),p.push($B(l,d,e.documentUpdates).next(w=>{m=w.Ps,v=w.Is})),!i.isEqual(at.min())){const w=t.Ur.getLastRemoteSnapshotVersion(l).next(T=>t.Ur.setTargetsMetadata(l,l.currentSequenceNumber,i));p.push(w)}return Te.waitFor(p).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,v)).next(()=>m)}).then(l=>(t.os=o,l))}function $B(n,e,t){let i=Ot(),o=Ot();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let d=Cc();return t.forEach((p,m)=>{const v=l.get(p);m.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(at.min())?(e.removeEntry(p,m.readTime),d=d.insert(p,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||m.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(m),d=d.insert(p,m)):Be("LocalStore","Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",m.version)}),{Ps:d,Is:o}})}function KB(n,e){const t=ct(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function WB(n,e){const t=ct(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Ur.getTargetData(i,e).next(l=>l?(o=l,Te.resolve(o)):t.Ur.allocateTargetId(i).next(d=>(o=new Qu(e,d,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.os.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}async function u_(n,e,t){const i=ct(n),o=i.os.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,d=>i.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Sy(d))throw d;Be("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}i.os=i.os.remove(e),i._s.delete(o.target)}function e2(n,e,t){const i=ct(n);let o=at.min(),l=Ot();return i.persistence.runTransaction("Execute query","readwrite",d=>function(m,v,w){const T=ct(m),C=T._s.get(w);return C!==void 0?Te.resolve(T.os.get(C)):T.Ur.getTargetData(v,w)}(i,d,cl(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(d,p.targetId).next(m=>{l=m})}).next(()=>i.ss.getDocumentsMatchingQuery(d,e,t?o:at.min(),t?l:Ot())).next(p=>(YB(i,U9(e),p),{documents:p,Ts:l})))}function YB(n,e,t){let i=n.us.get(e)||at.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.us.set(e,i)}class t2{constructor(){this.activeTargetIds=G9()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XB{constructor(){this.so=new t2,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new t2,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O0=null;function f1(){return O0===null?O0=function(){return 268435456+Math.round(2147483648*Math.random())}():O0++,"0x"+O0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="WebChannelConnection";class eF extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${o}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}get Fo(){return!1}Mo(t,i,o,l,d){const p=f1(),m=this.xo(t,i.toUriEncodedString());Be("RestConnection",`Sending RPC '${t}' ${p}:`,m,o);const v={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(v,l,d),this.No(t,m,v,o).then(w=>(Be("RestConnection",`Received RPC '${t}' ${p}: `,w),w),w=>{throw lm("RestConnection",`RPC '${t}' ${p} failed with error: `,w,"url: ",m,"request:",o),w})}Lo(t,i,o,l,d,p){return this.Mo(t,i,o,l,d)}Oo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xm}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,d)=>t[d]=l),o&&o.headers.forEach((l,d)=>t[d]=l)}xo(t,i){const o=JB[t];return`${this.Do}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,o){const l=f1();return new Promise((d,p)=>{const m=new wI;m.setWithCredentials(!0),m.listenOnce(_I.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case X0.NO_ERROR:const w=m.getResponseJson();Be(Pr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),d(w);break;case X0.TIMEOUT:Be(Pr,`RPC '${e}' ${l} timed out`),p(new Me(we.DEADLINE_EXCEEDED,"Request time out"));break;case X0.HTTP_ERROR:const T=m.getStatus();if(Be(Pr,`RPC '${e}' ${l} failed with status:`,T,"response text:",m.getResponseText()),T>0){let C=m.getResponseJson();Array.isArray(C)&&(C=C[0]);const N=C?.error;if(N&&N.status&&N.message){const O=function(k){const D=k.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(D)>=0?D:we.UNKNOWN}(N.status);p(new Me(O,N.message))}else p(new Me(we.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new Me(we.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{Be(Pr,`RPC '${e}' ${l} completed.`)}});const v=JSON.stringify(o);Be(Pr,`RPC '${e}' ${l} sending request:`,o),m.send(t,"POST",v,i,15)})}Bo(e,t,i){const o=f1(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=SI(),p=TI(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Oo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const w=l.join("");Be(Pr,`Creating RPC '${e}' stream ${o}: ${w}`,m);const T=d.createWebChannel(w,m);let C=!1,N=!1;const O=new ZB({Io:k=>{N?Be(Pr,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(C||(Be(Pr,`Opening RPC '${e}' stream ${o} transport.`),T.open(),C=!0),Be(Pr,`RPC '${e}' stream ${o} sending:`,k),T.send(k))},To:()=>T.close()}),I=(k,D,z)=>{k.listen(D,K=>{try{z(K)}catch(W){setTimeout(()=>{throw W},0)}})};return I(T,Ev.EventType.OPEN,()=>{N||(Be(Pr,`RPC '${e}' stream ${o} transport opened.`),O.yo())}),I(T,Ev.EventType.CLOSE,()=>{N||(N=!0,Be(Pr,`RPC '${e}' stream ${o} transport closed`),O.So())}),I(T,Ev.EventType.ERROR,k=>{N||(N=!0,lm(Pr,`RPC '${e}' stream ${o} transport errored:`,k),O.So(new Me(we.UNAVAILABLE,"The operation could not be completed")))}),I(T,Ev.EventType.MESSAGE,k=>{var D;if(!N){const z=k.data[0];on(!!z);const K=z,W=K.error||((D=K[0])===null||D===void 0?void 0:D.error);if(W){Be(Pr,`RPC '${e}' stream ${o} received error:`,W);const Y=W.status;let Z=function(B){const $=Ci[B];if($!==void 0)return YI($)}(Y),U=W.message;Z===void 0&&(Z=we.INTERNAL,U="Unknown error status: "+Y+" with message "+W.message),N=!0,O.So(new Me(Z,U)),T.close()}else Be(Pr,`RPC '${e}' stream ${o} received:`,z),O.bo(z)}}),I(p,EI.STAT_EVENT,k=>{k.stat===Z1.PROXY?Be(Pr,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===Z1.NOPROXY&&Be(Pr,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.wo()},0),O}}function p1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(n){return new uB(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,t,i=1e3,o=1.5,l=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=o,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-i);o>0&&Be("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,t,i,o,l,d,p,m){this.ui=e,this.Ho=i,this.Jo=o,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ak(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===we.RESOURCE_EXHAUSTED?(Ac(t.toString()),Ac("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Yo===t&&this.P_(i,o)},i=>{e(()=>{const o=new Me(we.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(o)})})}P_(e,t){const i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{i(()=>this.I_(o))}),this.stream.onMessage(o=>{i(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tF extends lk{constructor(e,t,i,o,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,d),this.serializer=l}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=fB(this.serializer,e),i=function(l){if(!("targetChange"in l))return at.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?at.min():d.readTime?dl(d.readTime):at.min()}(e);return this.listener.d_(t,i)}A_(e){const t={};t.database=c_(this.serializer),t.addTarget=function(l,d){let p;const m=d.target;if(p=i_(m)?{documents:gB(l,m)}:{query:vB(l,m)._t},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=JI(l,d.resumeToken);const v=o_(l,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(at.min())>0){p.readTime=xb(l,d.snapshotVersion.toTimestamp());const v=o_(l,d.expectedCount);v!==null&&(p.expectedCount=v)}return p}(this.serializer,e);const i=bB(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){const t={};t.database=c_(this.serializer),t.removeTarget=e,this.a_(t)}}class nF extends lk{constructor(e,t,i,o,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,d),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return on(!!e.streamToken),this.lastStreamToken=e.streamToken,on(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){on(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=mB(e.writeResults,e.commitTime),i=dl(e.commitTime);return this.listener.g_(i,t)}p_(){const e={};e.database=c_(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>pB(this.serializer,i))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new Me(we.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.Mo(e,a_(t,i),o,l,d)).catch(l=>{throw l.name==="FirebaseError"?(l.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Me(we.UNKNOWN,l.toString())})}Lo(e,t,i,o,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Lo(e,a_(t,i),o,d,p,l)).catch(d=>{throw d.name==="FirebaseError"?(d.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Me(we.UNKNOWN,d.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class rF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ac(t),this.D_=!1):Be("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o(d=>{i.enqueueAndForget(async()=>{of(this)&&(Be("RemoteStore","Restarting streams for network reachability change."),await async function(m){const v=ct(m);v.L_.add(4),await Cy(v),v.q_.set("Unknown"),v.L_.delete(4),await uw(v)}(this))})}),this.q_=new rF(i,o)}}async function uw(n){if(of(n))for(const e of n.B_)await e(!0)}async function Cy(n){for(const e of n.B_)await e(!1)}function ck(n,e){const t=ct(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),nT(t)?tT(t):Im(t).r_()&&eT(t,e))}function ZE(n,e){const t=ct(n),i=Im(t);t.N_.delete(e),i.r_()&&uk(t,e),t.N_.size===0&&(i.r_()?i.o_():of(t)&&t.q_.set("Unknown"))}function eT(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(at.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Im(n).A_(e)}function uk(n,e){n.Q_.xe(e),Im(n).R_(e)}function tT(n){n.Q_=new oB({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Im(n).start(),n.q_.v_()}function nT(n){return of(n)&&!Im(n).n_()&&n.N_.size>0}function of(n){return ct(n).L_.size===0}function dk(n){n.Q_=void 0}async function oF(n){n.q_.set("Online")}async function aF(n){n.N_.forEach((e,t)=>{eT(n,e)})}async function lF(n,e){dk(n),nT(n)?(n.q_.M_(e),tT(n)):n.q_.set("Unknown")}async function cF(n,e,t){if(n.q_.set("Online"),e instanceof QI&&e.state===2&&e.cause)try{await async function(o,l){const d=l.cause;for(const p of l.targetIds)o.N_.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.N_.delete(p),o.Q_.removeTarget(p))}(n,e)}catch(i){Be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ab(n,i)}else if(e instanceof Z0?n.Q_.Ke(e):e instanceof XI?n.Q_.He(e):n.Q_.We(e),!t.isEqual(at.min()))try{const i=await ok(n.localStore);t.compareTo(i)>=0&&await function(l,d){const p=l.Q_.rt(d);return p.targetChanges.forEach((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const w=l.N_.get(v);w&&l.N_.set(v,w.withResumeToken(m.resumeToken,d))}}),p.targetMismatches.forEach((m,v)=>{const w=l.N_.get(m);if(!w)return;l.N_.set(m,w.withResumeToken(gr.EMPTY_BYTE_STRING,w.snapshotVersion)),uk(l,m);const T=new Qu(w.target,m,v,w.sequenceNumber);eT(l,T)}),l.remoteSyncer.applyRemoteEvent(p)}(n,t)}catch(i){Be("RemoteStore","Failed to raise snapshot:",i),await Ab(n,i)}}async function Ab(n,e,t){if(!Sy(e))throw e;n.L_.add(1),await Cy(n),n.q_.set("Offline"),t||(t=()=>ok(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Be("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await uw(n)})}function hk(n,e){return e().catch(t=>Ab(n,t,e))}async function dw(n){const e=ct(n),t=od(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;uF(e);)try{const o=await KB(e.localStore,i);if(o===null){e.O_.length===0&&t.o_();break}i=o.batchId,dF(e,o)}catch(o){await Ab(e,o)}fk(e)&&pk(e)}function uF(n){return of(n)&&n.O_.length<10}function dF(n,e){n.O_.push(e);const t=od(n);t.r_()&&t.V_&&t.m_(e.mutations)}function fk(n){return of(n)&&!od(n).n_()&&n.O_.length>0}function pk(n){od(n).start()}async function hF(n){od(n).p_()}async function fF(n){const e=od(n);for(const t of n.O_)e.m_(t.mutations)}async function pF(n,e,t){const i=n.O_.shift(),o=KE.from(i,e,t);await hk(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await dw(n)}async function mF(n,e){e&&od(n).V_&&await async function(i,o){if(function(d){return iB(d)&&d!==we.ABORTED}(o.code)){const l=i.O_.shift();od(i).s_(),await hk(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await dw(i)}}(n,e),fk(n)&&pk(n)}async function i2(n,e){const t=ct(n);t.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const i=of(t);t.L_.add(3),await Cy(t),i&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await uw(t)}async function gF(n,e){const t=ct(n);e?(t.L_.delete(2),await uw(t)):e||(t.L_.add(2),await Cy(t),t.q_.set("Unknown"))}function Im(n){return n.K_||(n.K_=function(t,i,o){const l=ct(t);return l.w_(),new tF(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Eo:oF.bind(null,n),Ro:aF.bind(null,n),mo:lF.bind(null,n),d_:cF.bind(null,n)}),n.B_.push(async e=>{e?(n.K_.s_(),nT(n)?tT(n):n.q_.set("Unknown")):(await n.K_.stop(),dk(n))})),n.K_}function od(n){return n.U_||(n.U_=function(t,i,o){const l=ct(t);return l.w_(),new nF(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:hF.bind(null,n),mo:mF.bind(null,n),f_:fF.bind(null,n),g_:pF.bind(null,n)}),n.B_.push(async e=>{e?(n.U_.s_(),await dw(n)):(await n.U_.stop(),n.O_.length>0&&(Be("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))})),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new bc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const d=Date.now()+i,p=new iT(e,t,d,o,l);return p.start(i),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Me(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rT(n,e){if(Ac("AsyncQueue",`${e}: ${n}`),Sy(n))return new Me(we.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e){this.comparator=e?(t,i)=>e(t,i)||$e.comparator(t.key,i.key):(t,i)=>$e.comparator(t.key,i.key),this.keyedMap=Tv(),this.sortedSet=new Jn(this.comparator)}static emptySet(e){return new em(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof em)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new em;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.W_=new Jn($e.comparator)}track(e){const t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):it():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}}class fm{constructor(e,t,i,o,l,d,p,m,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,o,l){const d=[];return t.forEach(p=>{d.push({type:0,doc:p})}),new fm(e,t,em.emptySet(t),d,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class yF{constructor(){this.queries=s2(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){const o=ct(t),l=o.queries;o.queries=s2(),l.forEach((d,p)=>{for(const m of p.j_)m.onError(i)})})(this,new Me(we.ABORTED,"Firestore shutting down"))}}function s2(){return new Rm(n=>jI(n),rw)}async function mk(n,e){const t=ct(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.H_()&&e.J_()&&(i=2):(l=new vF,i=e.J_()?0:1);try{switch(i){case 0:l.z_=await t.onListen(o,!0);break;case 1:l.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const p=rT(d,`Initialization of query '${Vp(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,l),l.j_.push(e),e.Z_(t.onlineState),l.z_&&e.X_(l.z_)&&sT(t)}async function gk(n,e){const t=ct(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const d=l.j_.indexOf(e);d>=0&&(l.j_.splice(d,1),l.j_.length===0?o=e.J_()?0:1:!l.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function bF(n,e){const t=ct(n);let i=!1;for(const o of e){const l=o.query,d=t.queries.get(l);if(d){for(const p of d.j_)p.X_(o)&&(i=!0);d.z_=o}}i&&sT(t)}function wF(n,e,t){const i=ct(n),o=i.queries.get(e);if(o)for(const l of o.j_)l.onError(t);i.queries.delete(e)}function sT(n){n.Y_.forEach(e=>{e.next()})}var d_,o2;(o2=d_||(d_={})).ea="default",o2.Cache="cache";class vk{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new fm(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=fm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==d_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.key=e}}class bk{constructor(e){this.key=e}}class _F{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ot(),this.mutatedKeys=Ot(),this.Aa=VI(e),this.Ra=new em(this.Aa)}get Va(){return this.Ta}ma(e,t){const i=t?t.fa:new r2,o=t?t.Ra:this.Ra;let l=t?t.mutatedKeys:this.mutatedKeys,d=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,T)=>{const C=o.get(w),N=sw(this.query,T)?T:null,O=!!C&&this.mutatedKeys.has(C.key),I=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let k=!1;C&&N?C.data.isEqual(N.data)?O!==I&&(i.track({type:3,doc:N}),k=!0):this.ga(C,N)||(i.track({type:2,doc:N}),k=!0,(m&&this.Aa(N,m)>0||v&&this.Aa(N,v)<0)&&(p=!0)):!C&&N?(i.track({type:0,doc:N}),k=!0):C&&!N&&(i.track({type:1,doc:C}),k=!0,(m||v)&&(p=!0)),k&&(N?(d=d.add(N),l=I?l.add(w):l.delete(w)):(d=d.delete(w),l=l.delete(w)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),l=l.delete(w.key),i.track({type:1,doc:w})}return{Ra:d,fa:i,ns:p,mutatedKeys:l}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const d=e.fa.G_();d.sort((w,T)=>function(N,O){const I=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return I(N)-I(O)}(w.type,T.type)||this.Aa(w.doc,T.doc)),this.pa(i),o=o!=null&&o;const p=t&&!o?this.ya():[],m=this.da.size===0&&this.current&&!o?1:0,v=m!==this.Ea;return this.Ea=m,d.length!==0||v?{snapshot:new fm(this.query,e.Ra,l,d,e.mutatedKeys,m===0,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:p}:{wa:p}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new r2,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ot(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const t=[];return e.forEach(i=>{this.da.has(i)||t.push(new bk(i))}),this.da.forEach(i=>{e.has(i)||t.push(new yk(i))}),t}ba(e){this.Ta=e.Ts,this.da=Ot();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return fm.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class EF{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class TF{constructor(e){this.key=e,this.va=!1}}class SF{constructor(e,t,i,o,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.Ca={},this.Fa=new Rm(p=>jI(p),rw),this.Ma=new Map,this.xa=new Set,this.Oa=new Jn($e.comparator),this.Na=new Map,this.La=new XE,this.Ba={},this.ka=new Map,this.qa=hm.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function xF(n,e,t=!0){const i=xk(n);let o;const l=i.Fa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Da()):o=await wk(i,e,t,!0),o}async function AF(n,e){const t=xk(n);await wk(t,e,!0,!1)}async function wk(n,e,t,i){const o=await WB(n.localStore,cl(e)),l=o.targetId,d=n.sharedClientState.addLocalQueryTarget(l,t);let p;return i&&(p=await CF(n,e,l,d==="current",o.resumeToken)),n.isPrimaryClient&&t&&ck(n.remoteStore,o),p}async function CF(n,e,t,i,o){n.Ka=(T,C,N)=>async function(I,k,D,z){let K=k.view.ma(D);K.ns&&(K=await e2(I.localStore,k.query,!1).then(({documents:U})=>k.view.ma(U,K)));const W=z&&z.targetChanges.get(k.targetId),Y=z&&z.targetMismatches.get(k.targetId)!=null,Z=k.view.applyChanges(K,I.isPrimaryClient,W,Y);return l2(I,k.targetId,Z.wa),Z.snapshot}(n,T,C,N);const l=await e2(n.localStore,e,!0),d=new _F(e,l.Ts),p=d.ma(l.documents),m=Ay.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),v=d.applyChanges(p,n.isPrimaryClient,m);l2(n,t,v.wa);const w=new EF(e,t,d);return n.Fa.set(e,w),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),v.snapshot}async function RF(n,e,t){const i=ct(n),o=i.Fa.get(e),l=i.Ma.get(o.targetId);if(l.length>1)return i.Ma.set(o.targetId,l.filter(d=>!rw(d,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await u_(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&ZE(i.remoteStore,o.targetId),h_(i,o.targetId)}).catch(Ty)):(h_(i,o.targetId),await u_(i.localStore,o.targetId,!0))}async function IF(n,e){const t=ct(n),i=t.Fa.get(e),o=t.Ma.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),ZE(t.remoteStore,i.targetId))}async function kF(n,e,t){const i=jF(n);try{const o=await function(d,p){const m=ct(d),v=Bi.now(),w=p.reduce((N,O)=>N.add(O.key),Ot());let T,C;return m.persistence.runTransaction("Locally write mutations","readwrite",N=>{let O=Cc(),I=Ot();return m.cs.getEntries(N,w).next(k=>{O=k,O.forEach((D,z)=>{z.isValidDocument()||(I=I.add(D))})}).next(()=>m.localDocuments.getOverlayedDocuments(N,O)).next(k=>{T=k;const D=[];for(const z of p){const K=J9(z,T.get(z.key).overlayedDocument);K!=null&&D.push(new sf(z.key,K,II(K.value.mapValue),ul.exists(!0)))}return m.mutationQueue.addMutationBatch(N,v,D,p)}).next(k=>{C=k;const D=k.applyToLocalDocumentSet(T,I);return m.documentOverlayCache.saveOverlays(N,k.batchId,D)})}).then(()=>({batchId:C.batchId,changes:BI(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(d,p,m){let v=d.Ba[d.currentUser.toKey()];v||(v=new Jn(Yt)),v=v.insert(p,m),d.Ba[d.currentUser.toKey()]=v}(i,o.batchId,t),await Ry(i,o.changes),await dw(i.remoteStore)}catch(o){const l=rT(o,"Failed to persist write");t.reject(l)}}async function _k(n,e){const t=ct(n);try{const i=await GB(t.localStore,e);e.targetChanges.forEach((o,l)=>{const d=t.Na.get(l);d&&(on(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.va=!0:o.modifiedDocuments.size>0?on(d.va):o.removedDocuments.size>0&&(on(d.va),d.va=!1))}),await Ry(t,i,e)}catch(i){await Ty(i)}}function a2(n,e,t){const i=ct(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Fa.forEach((l,d)=>{const p=d.view.Z_(e);p.snapshot&&o.push(p.snapshot)}),function(d,p){const m=ct(d);m.onlineState=p;let v=!1;m.queries.forEach((w,T)=>{for(const C of T.j_)C.Z_(p)&&(v=!0)}),v&&sT(m)}(i.eventManager,e),o.length&&i.Ca.d_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function NF(n,e,t){const i=ct(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Na.get(e),l=o&&o.key;if(l){let d=new Jn($e.comparator);d=d.insert(l,Lr.newNoDocument(l,at.min()));const p=Ot().add(l),m=new lw(at.min(),new Map,new Jn(Yt),d,p);await _k(i,m),i.Oa=i.Oa.remove(l),i.Na.delete(e),oT(i)}else await u_(i.localStore,e,!1).then(()=>h_(i,e,t)).catch(Ty)}async function MF(n,e){const t=ct(n),i=e.batch.batchId;try{const o=await qB(t.localStore,e);Tk(t,i,null),Ek(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Ry(t,o)}catch(o){await Ty(o)}}async function PF(n,e,t){const i=ct(n);try{const o=await function(d,p){const m=ct(d);return m.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let w;return m.mutationQueue.lookupMutationBatch(v,p).next(T=>(on(T!==null),w=T.keys(),m.mutationQueue.removeMutationBatch(v,T))).next(()=>m.mutationQueue.performConsistencyCheck(v)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(v,w,p)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w)).next(()=>m.localDocuments.getDocuments(v,w))})}(i.localStore,e);Tk(i,e,t),Ek(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Ry(i,o)}catch(o){await Ty(o)}}function Ek(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function Tk(n,e,t){const i=ct(n);let o=i.Ba[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Ba[i.currentUser.toKey()]=o}}function h_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(i=>{n.La.containsKey(i)||Sk(n,i)})}function Sk(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(ZE(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),oT(n))}function l2(n,e,t){for(const i of t)i instanceof yk?(n.La.addReference(i.key,e),DF(n,i)):i instanceof bk?(Be("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||Sk(n,i.key)):it()}function DF(n,e){const t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(Be("SyncEngine","New document in limbo: "+t),n.xa.add(i),oT(n))}function oT(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new $e(On.fromString(e)),i=n.qa.next();n.Na.set(i,new TF(t)),n.Oa=n.Oa.insert(t,i),ck(n.remoteStore,new Qu(cl(qE(t.path)),i,"TargetPurposeLimboResolution",VE.oe))}}async function Ry(n,e,t){const i=ct(n),o=[],l=[],d=[];i.Fa.isEmpty()||(i.Fa.forEach((p,m)=>{d.push(i.Ka(m,e,t).then(v=>{var w;if((v||t)&&i.isPrimaryClient){const T=v?!v.fromCache:(w=t?.targetChanges.get(m.targetId))===null||w===void 0?void 0:w.current;i.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(v){o.push(v);const T=JE.Wi(m.targetId,v);l.push(T)}}))}),await Promise.all(d),i.Ca.d_(o),await async function(m,v){const w=ct(m);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Te.forEach(v,C=>Te.forEach(C.$i,N=>w.persistence.referenceDelegate.addReference(T,C.targetId,N)).next(()=>Te.forEach(C.Ui,N=>w.persistence.referenceDelegate.removeReference(T,C.targetId,N)))))}catch(T){if(!Sy(T))throw T;Be("LocalStore","Failed to update sequence numbers: "+T)}for(const T of v){const C=T.targetId;if(!T.fromCache){const N=w.os.get(C),O=N.snapshotVersion,I=N.withLastLimboFreeSnapshotVersion(O);w.os=w.os.insert(C,I)}}}(i.localStore,l))}async function OF(n,e){const t=ct(n);if(!t.currentUser.isEqual(e)){Be("SyncEngine","User change. New user:",e.toKey());const i=await sk(t.localStore,e);t.currentUser=e,function(l,d){l.ka.forEach(p=>{p.forEach(m=>{m.reject(new Me(we.CANCELLED,d))})}),l.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ry(t,i.hs)}}function LF(n,e){const t=ct(n),i=t.Na.get(e);if(i&&i.va)return Ot().add(i.key);{let o=Ot();const l=t.Ma.get(e);if(!l)return o;for(const d of l){const p=t.Fa.get(d);o=o.unionWith(p.view.Va)}return o}}function xk(n){const e=ct(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=_k.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NF.bind(null,e),e.Ca.d_=bF.bind(null,e.eventManager),e.Ca.$a=wF.bind(null,e.eventManager),e}function jF(n){const e=ct(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PF.bind(null,e),e}class Cb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cw(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return HB(this.persistence,new FB,e.initialUser,this.serializer)}Ga(e){return new VB(QE.Zr,this.serializer)}Wa(e){return new XB}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cb.provider={build:()=>new Cb};class f_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>a2(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=OF.bind(null,this.syncEngine),await gF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yF}()}createDatastore(e){const t=cw(e.databaseInfo.databaseId),i=function(l){return new eF(l)}(e.databaseInfo);return function(l,d,p,m){return new iF(l,d,p,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,d,p){return new sF(i,o,l,d,p)}(this.localStore,this.datastore,e.asyncQueue,t=>a2(this.syncEngine,t,0),function(){return n2.D()?new n2:new QB}())}createSyncEngine(e,t){return function(o,l,d,p,m,v,w){const T=new SF(o,l,d,p,m,v);return w&&(T.Qa=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=ct(o);Be("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await Cy(l),l.k_.shutdown(),l.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}f_.provider={build:()=>new f_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ac("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Or.UNAUTHENTICATED,this.clientId=AI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async d=>{Be("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(i,d=>(Be("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=rT(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function m1(n,e){n.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await sk(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function c2(n,e){n.asyncQueue.verifyOperationInProgress();const t=await UF(n);Be("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>i2(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>i2(e.remoteStore,o)),n._onlineComponents=e}async function UF(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Be("FirestoreClient","Using user provided OfflineComponentProvider");try{await m1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===we.FAILED_PRECONDITION||o.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;lm("Error using user provided cache. Falling back to memory cache: "+t),await m1(n,new Cb)}}else Be("FirestoreClient","Using default OfflineComponentProvider"),await m1(n,new Cb);return n._offlineComponents}async function Ck(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Be("FirestoreClient","Using user provided OnlineComponentProvider"),await c2(n,n._uninitializedComponentsProvider._online)):(Be("FirestoreClient","Using default OnlineComponentProvider"),await c2(n,new f_))),n._onlineComponents}function BF(n){return Ck(n).then(e=>e.syncEngine)}async function Rk(n){const e=await Ck(n),t=e.eventManager;return t.onListen=xF.bind(null,e.syncEngine),t.onUnlisten=RF.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=AF.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=IF.bind(null,e.syncEngine),t}function FF(n,e,t={}){const i=new bc;return n.asyncQueue.enqueueAndForget(async()=>function(l,d,p,m,v){const w=new Ak({next:C=>{w.Za(),d.enqueueAndForget(()=>gk(l,T));const N=C.docs.has(p);!N&&C.fromCache?v.reject(new Me(we.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&C.fromCache&&m&&m.source==="server"?v.reject(new Me(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(C)},error:C=>v.reject(C)}),T=new vk(qE(p.path),w,{includeMetadataChanges:!0,_a:!0});return mk(l,T)}(await Rk(n),n.asyncQueue,e,t,i)),i.promise}function zF(n,e,t={}){const i=new bc;return n.asyncQueue.enqueueAndForget(async()=>function(l,d,p,m,v){const w=new Ak({next:C=>{w.Za(),d.enqueueAndForget(()=>gk(l,T)),C.fromCache&&m.source==="server"?v.reject(new Me(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(C)},error:C=>v.reject(C)}),T=new vk(p,w,{includeMetadataChanges:!0,_a:!0});return mk(l,T)}(await Rk(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(n,e,t){if(!t)throw new Me(we.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function HF(n,e,t,i){if(e===!0&&i===!0)throw new Me(we.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function d2(n){if(!$e.isDocumentKey(n))throw new Me(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function h2(n){if($e.isDocumentKey(n))throw new Me(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function hw(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":it()}function Zh(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hw(n);throw new Me(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Me(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Me(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ik((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Me(we.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Me(we.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Me(we.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fw{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f2({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Me(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Me(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f2(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new a9;switch(i.type){case"firstParty":return new d9(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Me(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=u2.get(t);i&&(Be("ComponentProvider","Removing Datastore"),u2.delete(t),i.terminate())}(this),Promise.resolve()}}function qF(n,e,t,i={}){var o;const l=(n=Zh(n,fw))._getSettings(),d=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==d&&lm("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:d,ssl:!1})),i.mockUserToken){let p,m;if(typeof i.mockUserToken=="string")p=i.mockUserToken,m=Or.MOCK_USER;else{p=uL(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new Me(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Or(v)}n._authCredentials=new l9(new xI(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new af(this.firestore,e,this._query)}}class Gs{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ed(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gs(this.firestore,e,this._key)}}class ed extends af{constructor(e,t,i){super(e,t,qE(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gs(this.firestore,null,new $e(e))}withConverter(e){return new ed(this.firestore,e,this._path)}}function GF(n,e,...t){if(n=lt(n),kk("collection","path",e),n instanceof fw){const i=On.fromString(e,...t);return h2(i),new ed(n,null,i)}{if(!(n instanceof Gs||n instanceof ed))throw new Me(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(On.fromString(e,...t));return h2(i),new ed(n.firestore,null,i)}}function p_(n,e,...t){if(n=lt(n),arguments.length===1&&(e=AI.newId()),kk("doc","path",e),n instanceof fw){const i=On.fromString(e,...t);return d2(i),new Gs(n,null,new $e(i))}{if(!(n instanceof Gs||n instanceof ed))throw new Me(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(On.fromString(e,...t));return d2(i),new Gs(n.firestore,n instanceof ed?n.converter:null,new $e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ak(this,"async_queue_retry"),this.Vu=()=>{const i=p1();i&&Be("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const t=p1();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=p1();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new bc;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Sy(e))throw e;Be("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;const o=function(d){let p=d.message||"";return d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),p}(i);throw Ac("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.du=!1,i))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=iT.createAndSchedule(this,e,t,i,l=>this.yu(l));return this.Tu.push(o),o}fu(){this.Eu&&it()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class Iy extends fw{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new p2,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p2(e),this._firestoreClient=void 0,await e}}}function $F(n,e){const t=typeof n=="object"?n:qb(),i=typeof n=="string"?n:"(default)",o=_m(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=tR("firestore");l&&qF(o,...l)}return o}function aT(n){if(n._terminated)throw new Me(we.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||KF(n),n._firestoreClient}function KF(n){var e,t,i;const o=n._freezeSettings(),l=function(p,m,v,w){return new S9(p,m,v,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Ik(w.experimentalLongPollingOptions),w.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new VF(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(p){const m=p?._online.build();return{_offline:p?._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pm(gr.fromBase64String(e))}catch(t){throw new Me(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pm(gr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Me(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=/^__.*__$/;class YF{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new sf(e,this.data,this.fieldMask,t,this.fieldTransforms):new xy(e,this.data,t,this.fieldTransforms)}}function Mk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class dT{constructor(e,t,i,o,l,d){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new dT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.Ou(e),o}Nu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Rb(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Mk(this.Cu)&&WF.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class XF{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||cw(e)}Qu(e,t,i,o=!1){return new dT({Cu:e,methodName:t,qu:i,path:fr.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pk(n){const e=n._freezeSettings(),t=cw(n._databaseId);return new XF(n._databaseId,!!e.ignoreUndefinedProperties,t)}function QF(n,e,t,i,o,l={}){const d=n.Qu(l.merge||l.mergeFields?2:0,e,t,o);Lk("Data must be an object, but it was:",d,i);const p=Dk(i,d);let m,v;if(l.merge)m=new fa(d.fieldMask),v=d.fieldTransforms;else if(l.mergeFields){const w=[];for(const T of l.mergeFields){const C=ZF(e,T,t);if(!d.contains(C))throw new Me(we.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);t8(w,C)||w.push(C)}m=new fa(w),v=d.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,v=d.fieldTransforms;return new YF(new Ao(p),m,v)}function JF(n,e,t,i=!1){return hT(t,n.Qu(i?4:3,e))}function hT(n,e){if(Ok(n=lt(n)))return Lk("Unsupported field value:",e,n),Dk(n,e);if(n instanceof Nk)return function(i,o){if(!Mk(o.Cu))throw o.Bu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,o){const l=[];let d=0;for(const p of i){let m=hT(p,o.Lu(d));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),d++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=lt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return $9(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Bi.fromDate(i);return{timestampValue:xb(o.serializer,l)}}if(i instanceof Bi){const l=new Bi(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:xb(o.serializer,l)}}if(i instanceof cT)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof pm)return{bytesValue:JI(o.serializer,i._byteString)};if(i instanceof Gs){const l=o.databaseId,d=i.firestore._databaseId;if(!d.isEqual(l))throw o.Bu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:YE(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof uT)return function(d,p){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map(m=>{if(typeof m!="number")throw p.Bu("VectorValues must only contain numeric values.");return GE(p.serializer,m)})}}}}}}(i,o);throw o.Bu(`Unsupported field value: ${hw(i)}`)}(n,e)}function Dk(n,e){const t={};return CI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Am(n,(i,o)=>{const l=hT(o,e.Mu(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function Ok(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Bi||n instanceof cT||n instanceof pm||n instanceof Gs||n instanceof Nk||n instanceof uT)}function Lk(n,e,t){if(!Ok(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=hw(t);throw i==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+i)}}function ZF(n,e,t){if((e=lt(e))instanceof lT)return e._internalPath;if(typeof e=="string")return jk(n,e);throw Rb("Field path arguments must be of type string or ",n,!1,void 0,t)}const e8=new RegExp("[~\\*/\\[\\]]");function jk(n,e,t){if(e.search(e8)>=0)throw Rb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new lT(...e.split("."))._internalPath}catch{throw Rb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rb(n,e,t,i,o){const l=i&&!i.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(l||d)&&(m+=" (found",l&&(m+=` in field ${i}`),d&&(m+=` in document ${o}`),m+=")"),new Me(we.INVALID_ARGUMENT,p+n+m)}function t8(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Gs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new n8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class n8 extends Vk{data(){return super.data()}}function pw(n,e){return typeof e=="string"?jk(n,e):e instanceof lT?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i8(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Me(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fT{}class Uk extends fT{}function r8(n,e,...t){let i=[];e instanceof fT&&i.push(e),i=i.concat(t),function(l){const d=l.filter(m=>m instanceof pT).length,p=l.filter(m=>m instanceof mw).length;if(d>1||d>0&&p>0)throw new Me(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class mw extends Uk{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new mw(e,t,i)}_apply(e){const t=this._parse(e);return Bk(e._query,t),new af(e.firestore,e.converter,r_(e._query,t))}_parse(e){const t=Pk(e.firestore);return function(l,d,p,m,v,w,T){let C;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new Me(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){g2(T,w);const N=[];for(const O of T)N.push(m2(m,l,O));C={arrayValue:{values:N}}}else C=m2(m,l,T)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||g2(T,w),C=JF(p,d,T,w==="in"||w==="not-in");return Ii.create(v,w,C)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function s8(n,e,t){const i=e,o=pw("where",n);return mw._create(o,i,t)}class pT extends fT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new pT(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:ga.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let d=o;const p=l.getFlattenedFilters();for(const m of p)Bk(d,m),d=r_(d,m)}(e._query,t),new af(e.firestore,e.converter,r_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mT extends Uk{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new mT(e,t)}_apply(e){const t=function(o,l,d){if(o.startAt!==null)throw new Me(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Me(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ny(l,d)}(e._query,this._field,this._direction);return new af(e.firestore,e.converter,function(o,l){const d=o.explicitOrderBy.concat([l]);return new Cm(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function o8(n,e="asc"){const t=e,i=pw("orderBy",n);return mT._create(i,t)}function m2(n,e,t){if(typeof(t=lt(t))=="string"){if(t==="")throw new Me(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LI(e)&&t.indexOf("/")!==-1)throw new Me(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(On.fromString(t));if(!$e.isDocumentKey(i))throw new Me(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return jx(n,new $e(i))}if(t instanceof Gs)return jx(n,t._key);throw new Me(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hw(t)}.`)}function g2(n,e){if(!Array.isArray(n)||n.length===0)throw new Me(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Bk(n,e){const t=function(o,l){for(const d of o)for(const p of d.getFlattenedFilters())if(l.indexOf(p.op)>=0)return p.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Me(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Me(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class a8{convertValue(e,t="none"){switch(Jh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw it()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Am(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(d=>gi(d.doubleValue));return new uT(l)}convertGeoPoint(e){return new cT(gi(e.latitude),gi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=BE(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Zv(e));default:return null}}convertTimestamp(e){const t=sd(e);return new Bi(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=On.fromString(e);on(rk(i));const o=new ey(i.get(1),i.get(3)),l=new $e(i.popFirst(5));return o.isEqual(t)||Ac(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fk extends Vk{constructor(e,t,i,o,l,d){super(e,t,i,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new eb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(pw("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class eb extends Fk{data(e={}){return super.data(e)}}class c8{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new xv(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new eb(this._firestore,this._userDataWriter,i.key,i,new xv(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(p=>{const m=new eb(o._firestore,o._userDataWriter,p.doc.key,p.doc,new xv(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>l||p.type!==3).map(p=>{const m=new eb(o._firestore,o._userDataWriter,p.doc.key,p.doc,new xv(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,w=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),w=d.indexOf(p.doc.key)),{type:u8(p.type),doc:m,oldIndex:v,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function u8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d8(n){n=Zh(n,Gs);const e=Zh(n.firestore,Iy);return FF(aT(e),n._key).then(t=>m8(e,n,t))}class zk extends a8{constructor(e){super(),this.firestore=e}convertBytes(e){return new pm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gs(this.firestore,null,t)}}function h8(n){n=Zh(n,af);const e=Zh(n.firestore,Iy),t=aT(e),i=new zk(e);return i8(n._query),zF(t,n._query).then(o=>new c8(e,i,n,o))}function f8(n){return Hk(Zh(n.firestore,Iy),[new $E(n._key,ul.none())])}function p8(n,e){const t=Zh(n.firestore,Iy),i=p_(n),o=l8(n.converter,e);return Hk(t,[QF(Pk(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,ul.exists(!1))]).then(()=>i)}function Hk(n,e){return function(i,o){const l=new bc;return i.asyncQueue.enqueueAndForget(async()=>kF(await BF(i),o,l)),l.promise}(aT(n),e)}function m8(n,e,t){const i=t.docs.get(e._key),o=new zk(n);return new Fk(n,o,e._key,i,new xv(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){xm=o})(hd),Sc(new ml("firestore",(i,{instanceIdentifier:o,options:l})=>{const d=i.getProvider("app").getImmediate(),p=new Iy(new c9(i.getProvider("auth-internal")),new f9(i.getProvider("app-check-internal")),function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new Me(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ey(v.options.projectId,w)}(d,o),d);return l=Object.assign({useFetchStreams:t},l),p._setSettings(l),p},"PUBLIC").setMultipleInstances(!0)),bs(Mx,"4.7.3",e),bs(Mx,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e,t,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(o=>this.auth=o,()=>{}),this.messaging||t.get().then(o=>this.messaging=o,()=>{}),this.appCheck||i.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),i=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:t,messagingToken:i,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="us-central1";class v8{constructor(e,t,i,o,l=m_,d){this.app=e,this.fetchImpl=d,this.emulatorOrigin=null,this.contextProvider=new g8(t,i,o),this.cancelAllRequests=new Promise(p=>{this.deleteService=()=>Promise.resolve(p())});try{const p=new URL(l);this.customDomain=p.origin+(p.pathname==="/"?"":p.pathname),this.region=m_}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function y8(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}const v2="@firebase/functions",y2="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8="auth-internal",w8="app-check-internal",_8="messaging-internal";function E8(n,e){const t=(i,{instanceIdentifier:o})=>{const l=i.getProvider("app").getImmediate(),d=i.getProvider(b8),p=i.getProvider(_8),m=i.getProvider(w8);return new v8(l,d,p,m,o,n)};Sc(new ml(qk,t,"PUBLIC").setMultipleInstances(!0)),bs(v2,y2,e),bs(v2,y2,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8(n=qb(),e=m_){const i=_m(lt(n),qk).getImmediate({identifier:e}),o=tR("functions");return o&&S8(i,...o),i}function S8(n,e,t){y8(lt(n),e,t)}E8(fetch.bind(self));const x8={apiKey:"AIzaSyDBLjHyR3kiZNsoz63ZGpRcHfMoARgnRAA",authDomain:"chop-stop.firebaseapp.com",projectId:"chop-stop",storageBucket:"chop-stop.firebasestorage.app",messagingSenderId:"285885896798",appId:"1:285885896798:web:05ffbca2d4ead63140bccf"},gT=Hb(x8),g_=$F(gT),tm=aU(gT);T8(gT);const A8=({onSuccess:n})=>{const e=R.useRef(null);return R.useEffect(()=>{e.current&&(kx.AuthUI.getInstance()||new kx.AuthUI(tm)).start(e.current,{signInFlow:"popup",signInOptions:[ha.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:(i,o)=>(n?.(i.user),!1)}})},[n]),_.jsx("div",{ref:e,id:"firebaseui-auth-container"})};function Gk({isOpen:n,onOpenChange:e}){return _.jsx(KC,{open:n,onOpenChange:e,children:_.jsxs(cE,{className:"sm:max-w-[425px]",children:[_.jsxs(uE,{children:[_.jsx(dE,{children:"Sign In / Sign Up"}),_.jsx(hE,{children:"Access your saved sessions and personalize your experience."})]}),_.jsx(A8,{onSuccess:()=>e(!1)})]})})}const $k=R.createContext(),Kk=({children:n})=>{const[e,t]=R.useState(null),[i,o]=R.useState(!0),l=()=>{x6(tm)};return R.useEffect(()=>{const d=S6(tm,p=>{t(p),o(!1)});return()=>d()},[]),_.jsx($k.Provider,{value:{user:e,logout:l,loading:i},children:n})},vT=()=>R.useContext($k),C8=[{name:"Chopper",href:"/",icon:nC},{name:"My Sessions",href:"/my-sessions",icon:eC},{name:"Latency Test",href:"/latency-test",icon:qv}];function R8({children:n}){const e=fy(),[t,i]=R.useState(!1),{user:o,logout:l}=vT();return _.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-gray-900 via-purple-900 to-blue-900 text-white font-sans",children:[_.jsxs("div",{className:"relative min-h-screen w-full backdrop-blur-sm",children:[_.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 p-4",children:_.jsxs("div",{className:"container mx-auto flex justify-between items-center p-3 bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl shadow-lg",children:[_.jsxs(ab,{to:"/",className:"flex items-center gap-3",children:[_.jsx(nC,{className:"w-8 h-8 text-cyan-400"}),_.jsx("h1",{className:"text-2xl font-bold tracking-tighter",children:"The Chop Shop"})]}),_.jsxs("nav",{className:"flex items-center gap-2 p-1 bg-white/10 rounded-full border border-white/10",children:[C8.map(d=>_.jsxs(ab,{to:d.href,className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300
                    ${e.pathname===d.href?"bg-cyan-400 text-black shadow-md":"text-gray-300 hover:bg-white/10"}`,children:[_.jsx(d.icon,{className:"w-4 h-4"}),_.jsx("span",{children:d.name})]},d.name)),o?_.jsxs(wt,{onClick:l,className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 bg-red-500 hover:bg-red-600 text-white",children:[_.jsx(aO,{className:"w-4 h-4"}),_.jsx("span",{children:"Logout"})]}):_.jsxs(wt,{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 bg-green-500 hover:bg-green-600 text-white",children:[_.jsx(tC,{className:"w-4 h-4"}),_.jsx("span",{children:"Sign In"})]})]})]})}),_.jsx("main",{className:"pt-28 pb-10",children:_.jsx("div",{className:"container mx-auto",children:n})}),_.jsx("footer",{className:"fixed bottom-0 left-0 right-0 p-4",children:_.jsx("div",{className:"container mx-auto text-center text-xs text-white/40",children:_.jsx("p",{children:"For educational and auditioning purposes only. Please support artists by purchasing their music."})})})]}),_.jsx(Gk,{isOpen:t,onOpenChange:i})]})}const yT=R.createContext({});function bT(n){const e=R.useRef(null);return e.current===null&&(e.current=n()),e.current}const gw=R.createContext(null),wT=R.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class I8 extends R.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function k8({children:n,isPresent:e}){const t=R.useId(),i=R.useRef(null),o=R.useRef({width:0,height:0,top:0,left:0}),{nonce:l}=R.useContext(wT);return R.useInsertionEffect(()=>{const{width:d,height:p,top:m,left:v}=o.current;if(e||!i.current||!d||!p)return;i.current.dataset.motionPopId=t;const w=document.createElement("style");return l&&(w.nonce=l),document.head.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${p}px !important;
            top: ${m}px !important;
            left: ${v}px !important;
          }
        `),()=>{document.head.removeChild(w)}},[e]),_.jsx(I8,{isPresent:e,childRef:i,sizeRef:o,children:R.cloneElement(n,{ref:i})})}const N8=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:o,presenceAffectsLayout:l,mode:d})=>{const p=bT(M8),m=R.useId(),v=R.useCallback(T=>{p.set(T,!0);for(const C of p.values())if(!C)return;i&&i()},[p,i]),w=R.useMemo(()=>({id:m,initial:e,isPresent:t,custom:o,onExitComplete:v,register:T=>(p.set(T,!1),()=>p.delete(T))}),l?[Math.random(),v]:[t,v]);return R.useMemo(()=>{p.forEach((T,C)=>p.set(C,!1))},[t]),R.useEffect(()=>{!t&&!p.size&&i&&i()},[t]),d==="popLayout"&&(n=_.jsx(k8,{isPresent:t,children:n})),_.jsx(gw.Provider,{value:w,children:n})};function M8(){return new Map}function Wk(n=!0){const e=R.useContext(gw);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:o}=e,l=R.useId();R.useEffect(()=>{n&&o(l)},[n]);const d=R.useCallback(()=>n&&i&&i(l),[l,i,n]);return!t&&i?[!1,d]:[!0]}const L0=n=>n.key||"";function b2(n){const e=[];return R.Children.forEach(n,t=>{R.isValidElement(t)&&e.push(t)}),e}const _T=typeof window<"u",Yk=_T?R.useLayoutEffect:R.useEffect,hl=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:l="sync",propagate:d=!1})=>{const[p,m]=Wk(d),v=R.useMemo(()=>b2(n),[n]),w=d&&!p?[]:v.map(L0),T=R.useRef(!0),C=R.useRef(v),N=bT(()=>new Map),[O,I]=R.useState(v),[k,D]=R.useState(v);Yk(()=>{T.current=!1,C.current=v;for(let W=0;W<k.length;W++){const Y=L0(k[W]);w.includes(Y)?N.delete(Y):N.get(Y)!==!0&&N.set(Y,!1)}},[k,w.length,w.join("-")]);const z=[];if(v!==O){let W=[...v];for(let Y=0;Y<k.length;Y++){const Z=k[Y],U=L0(Z);w.includes(U)||(W.splice(Y,0,Z),z.push(Z))}l==="wait"&&z.length&&(W=z),D(b2(W)),I(v);return}const{forceRender:K}=R.useContext(yT);return _.jsx(_.Fragment,{children:k.map(W=>{const Y=L0(W),Z=d&&!p?!1:v===k||w.includes(Y),U=()=>{if(N.has(Y))N.set(Y,!0);else return;let V=!0;N.forEach(B=>{B||(V=!1)}),V&&(K?.(),D(C.current),d&&m?.(),i&&i())};return _.jsx(N8,{isPresent:Z,initial:!T.current||t?void 0:!1,custom:Z?void 0:e,presenceAffectsLayout:o,mode:l,onExitComplete:Z?void 0:U,children:W},Y)})})},$s=n=>n;let Xk=$s;function ET(n){let e;return()=>(e===void 0&&(e=n()),e)}const mm=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},wc=n=>n*1e3,_c=n=>n/1e3,P8={useManualTiming:!1};function D8(n){let e=new Set,t=new Set,i=!1,o=!1;const l=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(v){l.has(v)&&(m.schedule(v),n()),v(d)}const m={schedule:(v,w=!1,T=!1)=>{const N=T&&i?e:t;return w&&l.add(v),N.has(v)||N.add(v),v},cancel:v=>{t.delete(v),l.delete(v)},process:v=>{if(d=v,i){o=!0;return}i=!0,[e,t]=[t,e],e.forEach(p),e.clear(),i=!1,o&&(o=!1,m.process(v))}};return m}const j0=["read","resolveKeyframes","update","preRender","render","postRender"],O8=40;function Qk(n,e){let t=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>t=!0,d=j0.reduce((D,z)=>(D[z]=D8(l),D),{}),{read:p,resolveKeyframes:m,update:v,preRender:w,render:T,postRender:C}=d,N=()=>{const D=performance.now();t=!1,o.delta=i?1e3/60:Math.max(Math.min(D-o.timestamp,O8),1),o.timestamp=D,o.isProcessing=!0,p.process(o),m.process(o),v.process(o),w.process(o),T.process(o),C.process(o),o.isProcessing=!1,t&&e&&(i=!1,n(N))},O=()=>{t=!0,i=!0,o.isProcessing||n(N)};return{schedule:j0.reduce((D,z)=>{const K=d[z];return D[z]=(W,Y=!1,Z=!1)=>(t||O(),K.schedule(W,Y,Z)),D},{}),cancel:D=>{for(let z=0;z<j0.length;z++)d[j0[z]].cancel(D)},state:o,steps:d}}const{schedule:Ln,cancel:ad,state:dr,steps:g1}=Qk(typeof requestAnimationFrame<"u"?requestAnimationFrame:$s,!0),Jk=R.createContext({strict:!1}),w2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gm={};for(const n in w2)gm[n]={isEnabled:e=>w2[n].some(t=>!!e[t])};function L8(n){for(const e in n)gm[e]={...gm[e],...n[e]}}const j8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ib(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||j8.has(n)}let Zk=n=>!Ib(n);function V8(n){n&&(Zk=e=>e.startsWith("on")?!Ib(e):n(e))}try{V8(require("@emotion/is-prop-valid").default)}catch{}function U8(n,e,t){const i={};for(const o in n)o==="values"&&typeof n.values=="object"||(Zk(o)||t===!0&&Ib(o)||!e&&!Ib(o)||n.draggable&&o.startsWith("onDrag"))&&(i[o]=n[o]);return i}function B8(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,o)=>o==="create"?n:(e.has(o)||e.set(o,n(o)),e.get(o))})}const vw=R.createContext({});function sy(n){return typeof n=="string"||Array.isArray(n)}function yw(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const TT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ST=["initial",...TT];function bw(n){return yw(n.animate)||ST.some(e=>sy(n[e]))}function eN(n){return!!(bw(n)||n.variants)}function F8(n,e){if(bw(n)){const{initial:t,animate:i}=n;return{initial:t===!1||sy(t)?t:void 0,animate:sy(i)?i:void 0}}return n.inherit!==!1?e:{}}function z8(n){const{initial:e,animate:t}=F8(n,R.useContext(vw));return R.useMemo(()=>({initial:e,animate:t}),[_2(e),_2(t)])}function _2(n){return Array.isArray(n)?n.join(" "):n}const H8=Symbol.for("motionComponentSymbol");function Hp(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function q8(n,e,t){return R.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Hp(t)&&(t.current=i))},[e])}const xT=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),G8="framerAppearId",tN="data-"+xT(G8),{schedule:AT}=Qk(queueMicrotask,!1),nN=R.createContext({});function $8(n,e,t,i,o){var l,d;const{visualElement:p}=R.useContext(vw),m=R.useContext(Jk),v=R.useContext(gw),w=R.useContext(wT).reducedMotion,T=R.useRef(null);i=i||m.renderer,!T.current&&i&&(T.current=i(n,{visualState:e,parent:p,props:t,presenceContext:v,blockInitialAnimation:v?v.initial===!1:!1,reducedMotionConfig:w}));const C=T.current,N=R.useContext(nN);C&&!C.projection&&o&&(C.type==="html"||C.type==="svg")&&K8(T.current,t,o,N);const O=R.useRef(!1);R.useInsertionEffect(()=>{C&&O.current&&C.update(t,v)});const I=t[tN],k=R.useRef(!!I&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,I))&&((d=window.MotionHasOptimisedAnimation)===null||d===void 0?void 0:d.call(window,I)));return Yk(()=>{C&&(O.current=!0,window.MotionIsMounted=!0,C.updateFeatures(),AT.render(C.render),k.current&&C.animationState&&C.animationState.animateChanges())}),R.useEffect(()=>{C&&(!k.current&&C.animationState&&C.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)===null||D===void 0||D.call(window,I)}),k.current=!1))}),C}function K8(n,e,t,i){const{layoutId:o,layout:l,drag:d,dragConstraints:p,layoutScroll:m,layoutRoot:v}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:iN(n.parent)),n.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!d||p&&Hp(p),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,layoutScroll:m,layoutRoot:v})}function iN(n){if(n)return n.options.allowProjection!==!1?n.projection:iN(n.parent)}function W8({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:o}){var l,d;n&&L8(n);function p(v,w){let T;const C={...R.useContext(wT),...v,layoutId:Y8(v)},{isStatic:N}=C,O=z8(v),I=i(v,N);if(!N&&_T){X8();const k=Q8(C);T=k.MeasureLayout,O.visualElement=$8(o,I,C,e,k.ProjectionNode)}return _.jsxs(vw.Provider,{value:O,children:[T&&O.visualElement?_.jsx(T,{visualElement:O.visualElement,...C}):null,t(o,v,q8(I,O.visualElement,w),I,N,O.visualElement)]})}p.displayName=`motion.${typeof o=="string"?o:`create(${(d=(l=o.displayName)!==null&&l!==void 0?l:o.name)!==null&&d!==void 0?d:""})`}`;const m=R.forwardRef(p);return m[H8]=o,m}function Y8({layoutId:n}){const e=R.useContext(yT).id;return e&&n!==void 0?e+"-"+n:n}function X8(n,e){R.useContext(Jk).strict}function Q8(n){const{drag:e,layout:t}=gm;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const J8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function CT(n){return typeof n!="string"||n.includes("-")?!1:!!(J8.indexOf(n)>-1||/[A-Z]/u.test(n))}function E2(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function RT(n,e,t,i){if(typeof e=="function"){const[o,l]=E2(i);e=e(t!==void 0?t:n.custom,o,l)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,l]=E2(i);e=e(t!==void 0?t:n.custom,o,l)}return e}const v_=n=>Array.isArray(n),Z8=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),ez=n=>v_(n)?n[n.length-1]||0:n,jr=n=>!!(n&&n.getVelocity);function tb(n){const e=jr(n)?n.get():n;return Z8(e)?e.toValue():e}function tz({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},i,o,l){const d={latestValues:nz(i,o,l,n),renderState:e()};return t&&(d.onMount=p=>t({props:i,current:p,...d}),d.onUpdate=p=>t(p)),d}const rN=n=>(e,t)=>{const i=R.useContext(vw),o=R.useContext(gw),l=()=>tz(n,e,i,o);return t?l():bT(l)};function nz(n,e,t,i){const o={},l=i(n,{});for(const C in l)o[C]=tb(l[C]);let{initial:d,animate:p}=n;const m=bw(n),v=eN(n);e&&v&&!m&&n.inherit!==!1&&(d===void 0&&(d=e.initial),p===void 0&&(p=e.animate));let w=t?t.initial===!1:!1;w=w||d===!1;const T=w?p:d;if(T&&typeof T!="boolean"&&!yw(T)){const C=Array.isArray(T)?T:[T];for(let N=0;N<C.length;N++){const O=RT(n,C[N]);if(O){const{transitionEnd:I,transition:k,...D}=O;for(const z in D){let K=D[z];if(Array.isArray(K)){const W=w?K.length-1:0;K=K[W]}K!==null&&(o[z]=K)}for(const z in I)o[z]=I[z]}}}return o}const km=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],lf=new Set(km),sN=n=>e=>typeof e=="string"&&e.startsWith(n),oN=sN("--"),iz=sN("var(--"),IT=n=>iz(n)?rz.test(n.split("/*")[0].trim()):!1,rz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,aN=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Rc=(n,e,t)=>t>e?e:t<n?n:t,Nm={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},oy={...Nm,transform:n=>Rc(0,1,n)},V0={...Nm,default:1},ky=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Wu=ky("deg"),fl=ky("%"),Ze=ky("px"),sz=ky("vh"),oz=ky("vw"),T2={...fl,parse:n=>fl.parse(n)/100,transform:n=>fl.transform(n*100)},az={borderWidth:Ze,borderTopWidth:Ze,borderRightWidth:Ze,borderBottomWidth:Ze,borderLeftWidth:Ze,borderRadius:Ze,radius:Ze,borderTopLeftRadius:Ze,borderTopRightRadius:Ze,borderBottomRightRadius:Ze,borderBottomLeftRadius:Ze,width:Ze,maxWidth:Ze,height:Ze,maxHeight:Ze,top:Ze,right:Ze,bottom:Ze,left:Ze,padding:Ze,paddingTop:Ze,paddingRight:Ze,paddingBottom:Ze,paddingLeft:Ze,margin:Ze,marginTop:Ze,marginRight:Ze,marginBottom:Ze,marginLeft:Ze,backgroundPositionX:Ze,backgroundPositionY:Ze},lz={rotate:Wu,rotateX:Wu,rotateY:Wu,rotateZ:Wu,scale:V0,scaleX:V0,scaleY:V0,scaleZ:V0,skew:Wu,skewX:Wu,skewY:Wu,distance:Ze,translateX:Ze,translateY:Ze,translateZ:Ze,x:Ze,y:Ze,z:Ze,perspective:Ze,transformPerspective:Ze,opacity:oy,originX:T2,originY:T2,originZ:Ze},S2={...Nm,transform:Math.round},kT={...az,...lz,zIndex:S2,size:Ze,fillOpacity:oy,strokeOpacity:oy,numOctaves:S2},cz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uz=km.length;function dz(n,e,t){let i="",o=!0;for(let l=0;l<uz;l++){const d=km[l],p=n[d];if(p===void 0)continue;let m=!0;if(typeof p=="number"?m=p===(d.startsWith("scale")?1:0):m=parseFloat(p)===0,!m||t){const v=aN(p,kT[d]);if(!m){o=!1;const w=cz[d]||d;i+=`${w}(${v}) `}t&&(e[d]=v)}}return i=i.trim(),t?i=t(e,o?"":i):o&&(i="none"),i}function NT(n,e,t){const{style:i,vars:o,transformOrigin:l}=n;let d=!1,p=!1;for(const m in e){const v=e[m];if(lf.has(m)){d=!0;continue}else if(oN(m)){o[m]=v;continue}else{const w=aN(v,kT[m]);m.startsWith("origin")?(p=!0,l[m]=w):i[m]=w}}if(e.transform||(d||t?i.transform=dz(e,n.transform,t):i.transform&&(i.transform="none")),p){const{originX:m="50%",originY:v="50%",originZ:w=0}=l;i.transformOrigin=`${m} ${v} ${w}`}}const hz={offset:"stroke-dashoffset",array:"stroke-dasharray"},fz={offset:"strokeDashoffset",array:"strokeDasharray"};function pz(n,e,t=1,i=0,o=!0){n.pathLength=1;const l=o?hz:fz;n[l.offset]=Ze.transform(-i);const d=Ze.transform(e),p=Ze.transform(t);n[l.array]=`${d} ${p}`}function x2(n,e,t){return typeof n=="string"?n:Ze.transform(e+t*n)}function mz(n,e,t){const i=x2(e,n.x,n.width),o=x2(t,n.y,n.height);return`${i} ${o}`}function MT(n,{attrX:e,attrY:t,attrScale:i,originX:o,originY:l,pathLength:d,pathSpacing:p=1,pathOffset:m=0,...v},w,T){if(NT(n,v,T),w){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:C,style:N,dimensions:O}=n;C.transform&&(O&&(N.transform=C.transform),delete C.transform),O&&(o!==void 0||l!==void 0||N.transform)&&(N.transformOrigin=mz(O,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(C.x=e),t!==void 0&&(C.y=t),i!==void 0&&(C.scale=i),d!==void 0&&pz(C,d,p,m,!1)}const PT=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),lN=()=>({...PT(),attrs:{}}),DT=n=>typeof n=="string"&&n.toLowerCase()==="svg";function cN(n,{style:e,vars:t},i,o){Object.assign(n.style,e,o&&o.getProjectionStyles(i));for(const l in t)n.style.setProperty(l,t[l])}const uN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dN(n,e,t,i){cN(n,e,void 0,i);for(const o in e.attrs)n.setAttribute(uN.has(o)?o:xT(o),e.attrs[o])}const kb={};function gz(n){Object.assign(kb,n)}function hN(n,{layout:e,layoutId:t}){return lf.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!kb[n]||n==="opacity")}function OT(n,e,t){var i;const{style:o}=n,l={};for(const d in o)(jr(o[d])||e.style&&jr(e.style[d])||hN(d,n)||((i=t?.getValue(d))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(l[d]=o[d]);return l}function fN(n,e,t){const i=OT(n,e,t);for(const o in n)if(jr(n[o])||jr(e[o])){const l=km.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[l]=n[o]}return i}function vz(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const A2=["x","y","width","height","cx","cy","r"],yz={useVisualState:rN({scrapeMotionValuesFromProps:fN,createRenderState:lN,onUpdate:({props:n,prevProps:e,current:t,renderState:i,latestValues:o})=>{if(!t)return;let l=!!n.drag;if(!l){for(const p in o)if(lf.has(p)){l=!0;break}}if(!l)return;let d=!e;if(e)for(let p=0;p<A2.length;p++){const m=A2[p];n[m]!==e[m]&&(d=!0)}d&&Ln.read(()=>{vz(t,i),Ln.render(()=>{MT(i,o,DT(t.tagName),n.transformTemplate),dN(t,i)})})}})},bz={useVisualState:rN({scrapeMotionValuesFromProps:OT,createRenderState:PT})};function pN(n,e,t){for(const i in e)!jr(e[i])&&!hN(i,t)&&(n[i]=e[i])}function wz({transformTemplate:n},e){return R.useMemo(()=>{const t=PT();return NT(t,e,n),Object.assign({},t.vars,t.style)},[e])}function _z(n,e){const t=n.style||{},i={};return pN(i,t,n),Object.assign(i,wz(n,e)),i}function Ez(n,e){const t={},i=_z(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}function Tz(n,e,t,i){const o=R.useMemo(()=>{const l=lN();return MT(l,e,DT(i),n.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};pN(l,n.style,n),o.style={...l,...o.style}}return o}function Sz(n=!1){return(t,i,o,{latestValues:l},d)=>{const m=(CT(t)?Tz:Ez)(i,l,d,t),v=U8(i,typeof t=="string",n),w=t!==R.Fragment?{...v,...m,ref:o}:{},{children:T}=i,C=R.useMemo(()=>jr(T)?T.get():T,[T]);return R.createElement(t,{...w,children:C})}}function xz(n,e){return function(i,{forwardMotionProps:o}={forwardMotionProps:!1}){const d={...CT(i)?yz:bz,preloadedFeatures:n,useRender:Sz(o),createVisualElement:e,Component:i};return W8(d)}}function mN(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function ww(n,e,t){const i=n.getProps();return RT(i,e,t!==void 0?t:i.custom,n)}const Az=ET(()=>window.ScrollTimeline!==void 0);class Cz{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map(o=>{if(Az()&&o.attachTimeline)return o.attachTimeline(e);if(typeof t=="function")return t(o)});return()=>{i.forEach((o,l)=>{o&&o(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Rz extends Cz{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function LT(n,e){return n?n[e]||n.default||n:void 0}const y_=2e4;function gN(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<y_;)e+=t,i=n.next(e);return e>=y_?1/0:e}function jT(n){return typeof n=="function"}function C2(n,e){n.timeline=e,n.onfinish=null}const VT=n=>Array.isArray(n)&&typeof n[0]=="number",Iz={linearEasing:void 0};function kz(n,e){const t=ET(n);return()=>{var i;return(i=Iz[e])!==null&&i!==void 0?i:t()}}const Nb=kz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),vN=(n,e,t=10)=>{let i="";const o=Math.max(Math.round(e/t),2);for(let l=0;l<o;l++)i+=n(mm(0,o-1,l))+", ";return`linear(${i.substring(0,i.length-2)})`};function yN(n){return!!(typeof n=="function"&&Nb()||!n||typeof n=="string"&&(n in b_||Nb())||VT(n)||Array.isArray(n)&&n.every(yN))}const Av=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,b_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Av([0,.65,.55,1]),circOut:Av([.55,0,1,.45]),backIn:Av([.31,.01,.66,-.59]),backOut:Av([.33,1.53,.69,.99])};function bN(n,e){if(n)return typeof n=="function"&&Nb()?vN(n,e):VT(n)?Av(n):Array.isArray(n)?n.map(t=>bN(t,e)||b_.easeOut):b_[n]}const ua={x:!1,y:!1};function wN(){return ua.x||ua.y}function Nz(n,e,t){var i;if(n instanceof Element)return[n];if(typeof n=="string"){let o=document;const l=(i=void 0)!==null&&i!==void 0?i:o.querySelectorAll(n);return l?Array.from(l):[]}return Array.from(n)}function _N(n,e){const t=Nz(n),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[t,o,()=>i.abort()]}function R2(n){return e=>{e.pointerType==="touch"||wN()||n(e)}}function Mz(n,e,t={}){const[i,o,l]=_N(n,t),d=R2(p=>{const{target:m}=p,v=e(p);if(typeof v!="function"||!m)return;const w=R2(T=>{v(T),m.removeEventListener("pointerleave",w)});m.addEventListener("pointerleave",w,o)});return i.forEach(p=>{p.addEventListener("pointerenter",d,o)}),l}const EN=(n,e)=>e?n===e?!0:EN(n,e.parentElement):!1,UT=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Pz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Dz(n){return Pz.has(n.tagName)||n.tabIndex!==-1}const Cv=new WeakSet;function I2(n){return e=>{e.key==="Enter"&&n(e)}}function v1(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Oz=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=I2(()=>{if(Cv.has(t))return;v1(t,"down");const o=I2(()=>{v1(t,"up")}),l=()=>v1(t,"cancel");t.addEventListener("keyup",o,e),t.addEventListener("blur",l,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function k2(n){return UT(n)&&!wN()}function Lz(n,e,t={}){const[i,o,l]=_N(n,t),d=p=>{const m=p.currentTarget;if(!k2(p)||Cv.has(m))return;Cv.add(m);const v=e(p),w=(N,O)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",C),!(!k2(N)||!Cv.has(m))&&(Cv.delete(m),typeof v=="function"&&v(N,{success:O}))},T=N=>{w(N,t.useGlobalTarget||EN(m,N.target))},C=N=>{w(N,!1)};window.addEventListener("pointerup",T,o),window.addEventListener("pointercancel",C,o)};return i.forEach(p=>{!Dz(p)&&p.getAttribute("tabindex")===null&&(p.tabIndex=0),(t.useGlobalTarget?window:p).addEventListener("pointerdown",d,o),p.addEventListener("focus",v=>Oz(v,o),o)}),l}function jz(n){return n==="x"||n==="y"?ua[n]?null:(ua[n]=!0,()=>{ua[n]=!1}):ua.x||ua.y?null:(ua.x=ua.y=!0,()=>{ua.x=ua.y=!1})}const TN=new Set(["width","height","top","left","right","bottom",...km]);let nb;function Vz(){nb=void 0}const pl={now:()=>(nb===void 0&&pl.set(dr.isProcessing||P8.useManualTiming?dr.timestamp:performance.now()),nb),set:n=>{nb=n,queueMicrotask(Vz)}};function BT(n,e){n.indexOf(e)===-1&&n.push(e)}function FT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class zT{constructor(){this.subscriptions=[]}add(e){return BT(this.subscriptions,e),()=>FT(this.subscriptions,e)}notify(e,t,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,t,i);else for(let l=0;l<o;l++){const d=this.subscriptions[l];d&&d(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function SN(n,e){return e?n*(1e3/e):0}const N2=30,Uz=n=>!isNaN(parseFloat(n));class Bz{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,o=!0)=>{const l=pl.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=pl.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Uz(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new zT);const i=this.events[e].add(t);return e==="change"?()=>{i(),Ln.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=pl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>N2)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,N2);return SN(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ay(n,e){return new Bz(n,e)}function Fz(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,ay(t))}function zz(n,e){const t=ww(n,e);let{transitionEnd:i={},transition:o={},...l}=t||{};l={...l,...i};for(const d in l){const p=ez(l[d]);Fz(n,d,p)}}function Hz(n){return!!(jr(n)&&n.add)}function w_(n,e){const t=n.getValue("willChange");if(Hz(t))return t.add(e)}function xN(n){return n.props[tN]}const AN=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,qz=1e-7,Gz=12;function $z(n,e,t,i,o){let l,d,p=0;do d=e+(t-e)/2,l=AN(d,i,o)-n,l>0?t=d:e=d;while(Math.abs(l)>qz&&++p<Gz);return d}function Ny(n,e,t,i){if(n===e&&t===i)return $s;const o=l=>$z(l,0,1,n,t);return l=>l===0||l===1?l:AN(o(l),e,i)}const CN=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,RN=n=>e=>1-n(1-e),IN=Ny(.33,1.53,.69,.99),HT=RN(IN),kN=CN(HT),NN=n=>(n*=2)<1?.5*HT(n):.5*(2-Math.pow(2,-10*(n-1))),qT=n=>1-Math.sin(Math.acos(n)),MN=RN(qT),PN=CN(qT),DN=n=>/^0[^.\s]+$/u.test(n);function Kz(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||DN(n):!0}const jv=n=>Math.round(n*1e5)/1e5,GT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Wz(n){return n==null}const Yz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$T=(n,e)=>t=>!!(typeof t=="string"&&Yz.test(t)&&t.startsWith(n)||e&&!Wz(t)&&Object.prototype.hasOwnProperty.call(t,e)),ON=(n,e,t)=>i=>{if(typeof i!="string")return i;const[o,l,d,p]=i.match(GT);return{[n]:parseFloat(o),[e]:parseFloat(l),[t]:parseFloat(d),alpha:p!==void 0?parseFloat(p):1}},Xz=n=>Rc(0,255,n),y1={...Nm,transform:n=>Math.round(Xz(n))},Fh={test:$T("rgb","red"),parse:ON("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+y1.transform(n)+", "+y1.transform(e)+", "+y1.transform(t)+", "+jv(oy.transform(i))+")"};function Qz(n){let e="",t="",i="",o="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),o=n.substring(4,5),e+=e,t+=t,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const __={test:$T("#"),parse:Qz,transform:Fh.transform},qp={test:$T("hsl","hue"),parse:ON("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+fl.transform(jv(e))+", "+fl.transform(jv(t))+", "+jv(oy.transform(i))+")"},Dr={test:n=>Fh.test(n)||__.test(n)||qp.test(n),parse:n=>Fh.test(n)?Fh.parse(n):qp.test(n)?qp.parse(n):__.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Fh.transform(n):qp.transform(n)},Jz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Zz(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(GT))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(Jz))===null||t===void 0?void 0:t.length)||0)>0}const LN="number",jN="color",e7="var",t7="var(",M2="${}",n7=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ly(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},o=[];let l=0;const p=e.replace(n7,m=>(Dr.test(m)?(i.color.push(l),o.push(jN),t.push(Dr.parse(m))):m.startsWith(t7)?(i.var.push(l),o.push(e7),t.push(m)):(i.number.push(l),o.push(LN),t.push(parseFloat(m))),++l,M2)).split(M2);return{values:t,split:p,indexes:i,types:o}}function VN(n){return ly(n).values}function UN(n){const{split:e,types:t}=ly(n),i=e.length;return o=>{let l="";for(let d=0;d<i;d++)if(l+=e[d],o[d]!==void 0){const p=t[d];p===LN?l+=jv(o[d]):p===jN?l+=Dr.transform(o[d]):l+=o[d]}return l}}const i7=n=>typeof n=="number"?0:n;function r7(n){const e=VN(n);return UN(n)(e.map(i7))}const ld={test:Zz,parse:VN,createTransformer:UN,getAnimatableNone:r7},s7=new Set(["brightness","contrast","saturate","opacity"]);function o7(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(GT)||[];if(!i)return n;const o=t.replace(i,"");let l=s7.has(e)?1:0;return i!==t&&(l*=100),e+"("+l+o+")"}const a7=/\b([a-z-]*)\(.*?\)/gu,E_={...ld,getAnimatableNone:n=>{const e=n.match(a7);return e?e.map(o7).join(" "):n}},l7={...kT,color:Dr,backgroundColor:Dr,outlineColor:Dr,fill:Dr,stroke:Dr,borderColor:Dr,borderTopColor:Dr,borderRightColor:Dr,borderBottomColor:Dr,borderLeftColor:Dr,filter:E_,WebkitFilter:E_},KT=n=>l7[n];function BN(n,e){let t=KT(n);return t!==E_&&(t=ld),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const c7=new Set(["auto","none","0"]);function u7(n,e,t){let i=0,o;for(;i<n.length&&!o;){const l=n[i];typeof l=="string"&&!c7.has(l)&&ly(l).values.length&&(o=n[i]),i++}if(o&&t)for(const l of e)n[l]=BN(t,o)}const P2=n=>n===Nm||n===Ze,D2=(n,e)=>parseFloat(n.split(", ")[e]),O2=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/u);if(o)return D2(o[1],e);{const l=i.match(/^matrix\((.+)\)$/u);return l?D2(l[1],n):0}},d7=new Set(["x","y","z"]),h7=km.filter(n=>!d7.has(n));function f7(n){const e=[];return h7.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const vm={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:O2(4,13),y:O2(5,14)};vm.translateX=vm.x;vm.translateY=vm.y;const Gh=new Set;let T_=!1,S_=!1;function FN(){if(S_){const n=Array.from(Gh).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const o=f7(i);o.length&&(t.set(i,o),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=t.get(i);o&&o.forEach(([l,d])=>{var p;(p=i.getValue(l))===null||p===void 0||p.set(d)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}S_=!1,T_=!1,Gh.forEach(n=>n.complete()),Gh.clear()}function zN(){Gh.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(S_=!0)})}function p7(){zN(),FN()}class WT{constructor(e,t,i,o,l,d=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=o,this.element=l,this.isAsync=d}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Gh.add(this),T_||(T_=!0,Ln.read(zN),Ln.resolveKeyframes(FN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:o}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const d=o?.get(),p=e[e.length-1];if(d!==void 0)e[0]=d;else if(i&&t){const m=i.readValue(t,p);m!=null&&(e[0]=m)}e[0]===void 0&&(e[0]=p),o&&d===void 0&&o.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Gh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Gh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const HN=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),m7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function g7(n){const e=m7.exec(n);if(!e)return[,];const[,t,i,o]=e;return[`--${t??i}`,o]}function qN(n,e,t=1){const[i,o]=g7(n);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const d=l.trim();return HN(d)?parseFloat(d):d}return IT(o)?qN(o,e,t+1):o}const GN=n=>e=>e.test(n),v7={test:n=>n==="auto",parse:n=>n},$N=[Nm,Ze,fl,Wu,oz,sz,v7],L2=n=>$N.find(GN(n));class KN extends WT{constructor(e,t,i,o,l){super(e,t,i,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let v=e[m];if(typeof v=="string"&&(v=v.trim(),IT(v))){const w=qN(v,t.current);w!==void 0&&(e[m]=w),m===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!TN.has(i)||e.length!==2)return;const[o,l]=e,d=L2(o),p=L2(l);if(d!==p)if(P2(d)&&P2(p))for(let m=0;m<e.length;m++){const v=e[m];typeof v=="string"&&(e[m]=parseFloat(v))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let o=0;o<e.length;o++)Kz(e[o])&&i.push(o);i.length&&u7(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vm[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const o=t[t.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const l=t.getValue(i);l&&l.jump(this.measuredOrigin,!1);const d=o.length-1,p=o[d];o[d]=vm[i](t.measureViewportBox(),window.getComputedStyle(t.current)),p!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=p),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([m,v])=>{t.getValue(m).set(v)}),this.resolveNoneKeyframes()}}const j2=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ld.test(n)||n==="0")&&!n.startsWith("url("));function y7(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function b7(n,e,t,i){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=n[n.length-1],d=j2(o,e),p=j2(l,e);return!d||!p?!1:y7(n)||(t==="spring"||jT(t))&&i}const w7=n=>n!==null;function _w(n,{repeat:e,repeatType:t="loop"},i){const o=n.filter(w7),l=e&&t!=="loop"&&e%2===1?0:o.length-1;return!l||i===void 0?o[l]:i}const _7=40;class WN{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:d="loop",...p}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=pl.now(),this.options={autoplay:e,delay:t,type:i,repeat:o,repeatDelay:l,repeatType:d,...p},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>_7?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&p7(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=pl.now(),this.hasAttemptedResolve=!0;const{name:i,type:o,velocity:l,delay:d,onComplete:p,onUpdate:m,isGenerator:v}=this.options;if(!v&&!b7(e,i,o,l))if(d)this.options.duration=0;else{m&&m(_w(e,this.options,t)),p&&p(),this.resolveFinishedPromise();return}const w=this.initPlayback(e,t);w!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...w},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Qn=(n,e,t)=>n+(e-n)*t;function b1(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function E7({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let o=0,l=0,d=0;if(!e)o=l=d=t;else{const p=t<.5?t*(1+e):t+e-t*e,m=2*t-p;o=b1(m,p,n+1/3),l=b1(m,p,n),d=b1(m,p,n-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(d*255),alpha:i}}function Mb(n,e){return t=>t>0?e:n}const w1=(n,e,t)=>{const i=n*n,o=t*(e*e-i)+i;return o<0?0:Math.sqrt(o)},T7=[__,Fh,qp],S7=n=>T7.find(e=>e.test(n));function V2(n){const e=S7(n);if(!e)return!1;let t=e.parse(n);return e===qp&&(t=E7(t)),t}const U2=(n,e)=>{const t=V2(n),i=V2(e);if(!t||!i)return Mb(n,e);const o={...t};return l=>(o.red=w1(t.red,i.red,l),o.green=w1(t.green,i.green,l),o.blue=w1(t.blue,i.blue,l),o.alpha=Qn(t.alpha,i.alpha,l),Fh.transform(o))},x7=(n,e)=>t=>e(n(t)),My=(...n)=>n.reduce(x7),x_=new Set(["none","hidden"]);function A7(n,e){return x_.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function C7(n,e){return t=>Qn(n,e,t)}function YT(n){return typeof n=="number"?C7:typeof n=="string"?IT(n)?Mb:Dr.test(n)?U2:k7:Array.isArray(n)?YN:typeof n=="object"?Dr.test(n)?U2:R7:Mb}function YN(n,e){const t=[...n],i=t.length,o=n.map((l,d)=>YT(l)(l,e[d]));return l=>{for(let d=0;d<i;d++)t[d]=o[d](l);return t}}function R7(n,e){const t={...n,...e},i={};for(const o in t)n[o]!==void 0&&e[o]!==void 0&&(i[o]=YT(n[o])(n[o],e[o]));return o=>{for(const l in i)t[l]=i[l](o);return t}}function I7(n,e){var t;const i=[],o={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const d=e.types[l],p=n.indexes[d][o[d]],m=(t=n.values[p])!==null&&t!==void 0?t:0;i[l]=m,o[d]++}return i}const k7=(n,e)=>{const t=ld.createTransformer(e),i=ly(n),o=ly(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?x_.has(n)&&!o.values.length||x_.has(e)&&!i.values.length?A7(n,e):My(YN(I7(i,o),o.values),t):Mb(n,e)};function XN(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Qn(n,e,t):YT(n)(n,e)}const N7=5;function QN(n,e,t){const i=Math.max(e-N7,0);return SN(t-n(i),e-i)}const ii={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_1=.001;function M7({duration:n=ii.duration,bounce:e=ii.bounce,velocity:t=ii.velocity,mass:i=ii.mass}){let o,l,d=1-e;d=Rc(ii.minDamping,ii.maxDamping,d),n=Rc(ii.minDuration,ii.maxDuration,_c(n)),d<1?(o=v=>{const w=v*d,T=w*n,C=w-t,N=A_(v,d),O=Math.exp(-T);return _1-C/N*O},l=v=>{const T=v*d*n,C=T*t+t,N=Math.pow(d,2)*Math.pow(v,2)*n,O=Math.exp(-T),I=A_(Math.pow(v,2),d);return(-o(v)+_1>0?-1:1)*((C-N)*O)/I}):(o=v=>{const w=Math.exp(-v*n),T=(v-t)*n+1;return-_1+w*T},l=v=>{const w=Math.exp(-v*n),T=(t-v)*(n*n);return w*T});const p=5/n,m=D7(o,l,p);if(n=wc(n),isNaN(m))return{stiffness:ii.stiffness,damping:ii.damping,duration:n};{const v=Math.pow(m,2)*i;return{stiffness:v,damping:d*2*Math.sqrt(i*v),duration:n}}}const P7=12;function D7(n,e,t){let i=t;for(let o=1;o<P7;o++)i=i-n(i)/e(i);return i}function A_(n,e){return n*Math.sqrt(1-e*e)}const O7=["duration","bounce"],L7=["stiffness","damping","mass"];function B2(n,e){return e.some(t=>n[t]!==void 0)}function j7(n){let e={velocity:ii.velocity,stiffness:ii.stiffness,damping:ii.damping,mass:ii.mass,isResolvedFromDuration:!1,...n};if(!B2(n,L7)&&B2(n,O7))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),o=i*i,l=2*Rc(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:ii.mass,stiffness:o,damping:l}}else{const t=M7(n);e={...e,...t,mass:ii.mass},e.isResolvedFromDuration=!0}return e}function JN(n=ii.visualDuration,e=ii.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:o}=t;const l=t.keyframes[0],d=t.keyframes[t.keyframes.length-1],p={done:!1,value:l},{stiffness:m,damping:v,mass:w,duration:T,velocity:C,isResolvedFromDuration:N}=j7({...t,velocity:-_c(t.velocity||0)}),O=C||0,I=v/(2*Math.sqrt(m*w)),k=d-l,D=_c(Math.sqrt(m/w)),z=Math.abs(k)<5;i||(i=z?ii.restSpeed.granular:ii.restSpeed.default),o||(o=z?ii.restDelta.granular:ii.restDelta.default);let K;if(I<1){const Y=A_(D,I);K=Z=>{const U=Math.exp(-I*D*Z);return d-U*((O+I*D*k)/Y*Math.sin(Y*Z)+k*Math.cos(Y*Z))}}else if(I===1)K=Y=>d-Math.exp(-D*Y)*(k+(O+D*k)*Y);else{const Y=D*Math.sqrt(I*I-1);K=Z=>{const U=Math.exp(-I*D*Z),V=Math.min(Y*Z,300);return d-U*((O+I*D*k)*Math.sinh(V)+Y*k*Math.cosh(V))/Y}}const W={calculatedDuration:N&&T||null,next:Y=>{const Z=K(Y);if(N)p.done=Y>=T;else{let U=0;I<1&&(U=Y===0?wc(O):QN(K,Y,Z));const V=Math.abs(U)<=i,B=Math.abs(d-Z)<=o;p.done=V&&B}return p.value=p.done?d:Z,p},toString:()=>{const Y=Math.min(gN(W),y_),Z=vN(U=>W.next(Y*U).value,Y,30);return Y+"ms "+Z}};return W}function F2({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:d,min:p,max:m,restDelta:v=.5,restSpeed:w}){const T=n[0],C={done:!1,value:T},N=V=>p!==void 0&&V<p||m!==void 0&&V>m,O=V=>p===void 0?m:m===void 0||Math.abs(p-V)<Math.abs(m-V)?p:m;let I=t*e;const k=T+I,D=d===void 0?k:d(k);D!==k&&(I=D-T);const z=V=>-I*Math.exp(-V/i),K=V=>D+z(V),W=V=>{const B=z(V),$=K(V);C.done=Math.abs(B)<=v,C.value=C.done?D:$};let Y,Z;const U=V=>{N(C.value)&&(Y=V,Z=JN({keyframes:[C.value,O(C.value)],velocity:QN(K,V,C.value),damping:o,stiffness:l,restDelta:v,restSpeed:w}))};return U(0),{calculatedDuration:null,next:V=>{let B=!1;return!Z&&Y===void 0&&(B=!0,W(V),U(V)),Y!==void 0&&V>=Y?Z.next(V-Y):(!B&&W(V),C)}}}const V7=Ny(.42,0,1,1),U7=Ny(0,0,.58,1),ZN=Ny(.42,0,.58,1),B7=n=>Array.isArray(n)&&typeof n[0]!="number",F7={linear:$s,easeIn:V7,easeInOut:ZN,easeOut:U7,circIn:qT,circInOut:PN,circOut:MN,backIn:HT,backInOut:kN,backOut:IN,anticipate:NN},z2=n=>{if(VT(n)){Xk(n.length===4);const[e,t,i,o]=n;return Ny(e,t,i,o)}else if(typeof n=="string")return F7[n];return n};function z7(n,e,t){const i=[],o=t||XN,l=n.length-1;for(let d=0;d<l;d++){let p=o(n[d],n[d+1]);if(e){const m=Array.isArray(e)?e[d]||$s:e;p=My(m,p)}i.push(p)}return i}function H7(n,e,{clamp:t=!0,ease:i,mixer:o}={}){const l=n.length;if(Xk(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const d=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const p=z7(e,i,o),m=p.length,v=w=>{if(d&&w<n[0])return e[0];let T=0;if(m>1)for(;T<n.length-2&&!(w<n[T+1]);T++);const C=mm(n[T],n[T+1],w);return p[T](C)};return t?w=>v(Rc(n[0],n[l-1],w)):v}function q7(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const o=mm(0,e,i);n.push(Qn(t,1,o))}}function G7(n){const e=[0];return q7(e,n.length-1),e}function $7(n,e){return n.map(t=>t*e)}function K7(n,e){return n.map(()=>e||ZN).splice(0,n.length-1)}function Pb({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const o=B7(i)?i.map(z2):z2(i),l={done:!1,value:e[0]},d=$7(t&&t.length===e.length?t:G7(e),n),p=H7(d,e,{ease:Array.isArray(o)?o:K7(e,o)});return{calculatedDuration:n,next:m=>(l.value=p(m),l.done=m>=n,l)}}const W7=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Ln.update(e,!0),stop:()=>ad(e),now:()=>dr.isProcessing?dr.timestamp:pl.now()}},Y7={decay:F2,inertia:F2,tween:Pb,keyframes:Pb,spring:JN},X7=n=>n/100;class XT extends WN{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:m}=this.options;m&&m()};const{name:t,motionValue:i,element:o,keyframes:l}=this.options,d=o?.KeyframeResolver||WT,p=(m,v)=>this.onKeyframesResolved(m,v);this.resolver=new d(l,p,t,i,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l,velocity:d=0}=this.options,p=jT(t)?t:Y7[t]||Pb;let m,v;p!==Pb&&typeof e[0]!="number"&&(m=My(X7,XN(e[0],e[1])),e=[0,100]);const w=p({...this.options,keyframes:e});l==="mirror"&&(v=p({...this.options,keyframes:[...e].reverse(),velocity:-d})),w.calculatedDuration===null&&(w.calculatedDuration=gN(w));const{calculatedDuration:T}=w,C=T+o,N=C*(i+1)-o;return{generator:w,mirroredGenerator:v,mapPercentToKeyframes:m,calculatedDuration:T,resolvedDuration:C,totalDuration:N}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:V}=this.options;return{done:!0,value:V[V.length-1]}}const{finalKeyframe:o,generator:l,mirroredGenerator:d,mapPercentToKeyframes:p,keyframes:m,calculatedDuration:v,totalDuration:w,resolvedDuration:T}=i;if(this.startTime===null)return l.next(0);const{delay:C,repeat:N,repeatType:O,repeatDelay:I,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-w/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const D=this.currentTime-C*(this.speed>=0?1:-1),z=this.speed>=0?D<0:D>w;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=w);let K=this.currentTime,W=l;if(N){const V=Math.min(this.currentTime,w)/T;let B=Math.floor(V),$=V%1;!$&&V>=1&&($=1),$===1&&B--,B=Math.min(B,N+1),!!(B%2)&&(O==="reverse"?($=1-$,I&&($-=I/T)):O==="mirror"&&(W=d)),K=Rc(0,1,$)*T}const Y=z?{done:!1,value:m[0]}:W.next(K);p&&(Y.value=p(Y.value));let{done:Z}=Y;!z&&v!==null&&(Z=this.speed>=0?this.currentTime>=w:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Z);return U&&o!==void 0&&(Y.value=_w(m,this.options,o)),k&&k(Y.value),U&&this.finish(),Y}get duration(){const{resolved:e}=this;return e?_c(e.calculatedDuration):0}get time(){return _c(this.currentTime)}set time(e){e=wc(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=_c(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=W7,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),t&&t();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Q7=new Set(["opacity","clipPath","filter","transform"]);function J7(n,e,t,{delay:i=0,duration:o=300,repeat:l=0,repeatType:d="loop",ease:p="easeInOut",times:m}={}){const v={[e]:t};m&&(v.offset=m);const w=bN(p,o);return Array.isArray(w)&&(v.easing=w),n.animate(v,{delay:i,duration:o,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:l+1,direction:d==="reverse"?"alternate":"normal"})}const Z7=ET(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Db=10,eH=2e4;function tH(n){return jT(n.type)||n.type==="spring"||!yN(n.ease)}function nH(n,e){const t=new XT({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const o=[];let l=0;for(;!i.done&&l<eH;)i=t.sample(l),o.push(i.value),l+=Db;return{times:void 0,keyframes:o,duration:l-Db,ease:"linear"}}const eM={anticipate:NN,backInOut:kN,circInOut:PN};function iH(n){return n in eM}class H2 extends WN{constructor(e){super(e);const{name:t,motionValue:i,element:o,keyframes:l}=this.options;this.resolver=new KN(l,(d,p)=>this.onKeyframesResolved(d,p),t,i,o),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:i=300,times:o,ease:l,type:d,motionValue:p,name:m,startTime:v}=this.options;if(!p.owner||!p.owner.current)return!1;if(typeof l=="string"&&Nb()&&iH(l)&&(l=eM[l]),tH(this.options)){const{onComplete:T,onUpdate:C,motionValue:N,element:O,...I}=this.options,k=nH(e,I);e=k.keyframes,e.length===1&&(e[1]=e[0]),i=k.duration,o=k.times,l=k.ease,d="keyframes"}const w=J7(p.owner.current,m,e,{...this.options,duration:i,times:o,ease:l});return w.startTime=v??this.calcStartTime(),this.pendingTimeline?(C2(w,this.pendingTimeline),this.pendingTimeline=void 0):w.onfinish=()=>{const{onComplete:T}=this.options;p.set(_w(e,this.options,t)),T&&T(),this.cancel(),this.resolveFinishedPromise()},{animation:w,duration:i,times:o,type:d,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return _c(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return _c(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=wc(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return $s;const{animation:i}=t;C2(i,e)}return $s}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:o,type:l,ease:d,times:p}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:v,onUpdate:w,onComplete:T,element:C,...N}=this.options,O=new XT({...N,keyframes:i,duration:o,type:l,ease:d,times:p,isGenerator:!0}),I=wc(this.time);v.setWithVelocity(O.sample(I-Db).value,O.sample(I).value,Db)}const{onStop:m}=this.options;m&&m(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:o,repeatType:l,damping:d,type:p}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:v}=t.owner.getProps();return Z7()&&i&&Q7.has(i)&&!m&&!v&&!o&&l!=="mirror"&&d!==0&&p!=="inertia"}}const rH={type:"spring",stiffness:500,damping:25,restSpeed:10},sH=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),oH={type:"keyframes",duration:.8},aH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lH=(n,{keyframes:e})=>e.length>2?oH:lf.has(n)?n.startsWith("scale")?sH(e[1]):rH:aH;function cH({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:o,repeat:l,repeatType:d,repeatDelay:p,from:m,elapsed:v,...w}){return!!Object.keys(w).length}const QT=(n,e,t,i={},o,l)=>d=>{const p=LT(i,n)||{},m=p.delay||i.delay||0;let{elapsed:v=0}=i;v=v-wc(m);let w={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...p,delay:-v,onUpdate:C=>{e.set(C),p.onUpdate&&p.onUpdate(C)},onComplete:()=>{d(),p.onComplete&&p.onComplete()},name:n,motionValue:e,element:l?void 0:o};cH(p)||(w={...w,...lH(n,w)}),w.duration&&(w.duration=wc(w.duration)),w.repeatDelay&&(w.repeatDelay=wc(w.repeatDelay)),w.from!==void 0&&(w.keyframes[0]=w.from);let T=!1;if((w.type===!1||w.duration===0&&!w.repeatDelay)&&(w.duration=0,w.delay===0&&(T=!0)),T&&!l&&e.get()!==void 0){const C=_w(w.keyframes,p);if(C!==void 0)return Ln.update(()=>{w.onUpdate(C),w.onComplete()}),new Rz([])}return!l&&H2.supports(w)?new H2(w):new XT(w)};function uH({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function tM(n,e,{delay:t=0,transitionOverride:i,type:o}={}){var l;let{transition:d=n.getDefaultTransition(),transitionEnd:p,...m}=e;i&&(d=i);const v=[],w=o&&n.animationState&&n.animationState.getState()[o];for(const T in m){const C=n.getValue(T,(l=n.latestValues[T])!==null&&l!==void 0?l:null),N=m[T];if(N===void 0||w&&uH(w,T))continue;const O={delay:t,...LT(d||{},T)};let I=!1;if(window.MotionHandoffAnimation){const D=xN(n);if(D){const z=window.MotionHandoffAnimation(D,T,Ln);z!==null&&(O.startTime=z,I=!0)}}w_(n,T),C.start(QT(T,C,N,n.shouldReduceMotion&&TN.has(T)?{type:!1}:O,n,I));const k=C.animation;k&&v.push(k)}return p&&Promise.all(v).then(()=>{Ln.update(()=>{p&&zz(n,p)})}),v}function C_(n,e,t={}){var i;const o=ww(n,e,t.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:l=n.getDefaultTransition()||{}}=o||{};t.transitionOverride&&(l=t.transitionOverride);const d=o?()=>Promise.all(tM(n,o,t)):()=>Promise.resolve(),p=n.variantChildren&&n.variantChildren.size?(v=0)=>{const{delayChildren:w=0,staggerChildren:T,staggerDirection:C}=l;return dH(n,e,w+v,T,C,t)}:()=>Promise.resolve(),{when:m}=l;if(m){const[v,w]=m==="beforeChildren"?[d,p]:[p,d];return v().then(()=>w())}else return Promise.all([d(),p(t.delay)])}function dH(n,e,t=0,i=0,o=1,l){const d=[],p=(n.variantChildren.size-1)*i,m=o===1?(v=0)=>v*i:(v=0)=>p-v*i;return Array.from(n.variantChildren).sort(hH).forEach((v,w)=>{v.notify("AnimationStart",e),d.push(C_(v,e,{...l,delay:t+m(w)}).then(()=>v.notify("AnimationComplete",e)))}),Promise.all(d)}function hH(n,e){return n.sortNodePosition(e)}function fH(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(l=>C_(n,l,t));i=Promise.all(o)}else if(typeof e=="string")i=C_(n,e,t);else{const o=typeof e=="function"?ww(n,e,t.custom):e;i=Promise.all(tM(n,o,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}const pH=ST.length;function nM(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?nM(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<pH;t++){const i=ST[t],o=n.props[i];(sy(o)||o===!1)&&(e[i]=o)}return e}const mH=[...TT].reverse(),gH=TT.length;function vH(n){return e=>Promise.all(e.map(({animation:t,options:i})=>fH(n,t,i)))}function yH(n){let e=vH(n),t=q2(),i=!0;const o=m=>(v,w)=>{var T;const C=ww(n,w,m==="exit"?(T=n.presenceContext)===null||T===void 0?void 0:T.custom:void 0);if(C){const{transition:N,transitionEnd:O,...I}=C;v={...v,...I,...O}}return v};function l(m){e=m(n)}function d(m){const{props:v}=n,w=nM(n.parent)||{},T=[],C=new Set;let N={},O=1/0;for(let k=0;k<gH;k++){const D=mH[k],z=t[D],K=v[D]!==void 0?v[D]:w[D],W=sy(K),Y=D===m?z.isActive:null;Y===!1&&(O=k);let Z=K===w[D]&&K!==v[D]&&W;if(Z&&i&&n.manuallyAnimateOnMount&&(Z=!1),z.protectedKeys={...N},!z.isActive&&Y===null||!K&&!z.prevProp||yw(K)||typeof K=="boolean")continue;const U=bH(z.prevProp,K);let V=U||D===m&&z.isActive&&!Z&&W||k>O&&W,B=!1;const $=Array.isArray(K)?K:[K];let H=$.reduce(o(D),{});Y===!1&&(H={});const{prevResolvedValues:G={}}=z,L={...G,...H},se=fe=>{V=!0,C.has(fe)&&(B=!0,C.delete(fe)),z.needsAnimating[fe]=!0;const ve=n.getValue(fe);ve&&(ve.liveStyle=!1)};for(const fe in L){const ve=H[fe],Ne=G[fe];if(N.hasOwnProperty(fe))continue;let J=!1;v_(ve)&&v_(Ne)?J=!mN(ve,Ne):J=ve!==Ne,J?ve!=null?se(fe):C.add(fe):ve!==void 0&&C.has(fe)?se(fe):z.protectedKeys[fe]=!0}z.prevProp=K,z.prevResolvedValues=H,z.isActive&&(N={...N,...H}),i&&n.blockInitialAnimation&&(V=!1),V&&(!(Z&&U)||B)&&T.push(...$.map(fe=>({animation:fe,options:{type:D}})))}if(C.size){const k={};C.forEach(D=>{const z=n.getBaseTarget(D),K=n.getValue(D);K&&(K.liveStyle=!0),k[D]=z??null}),T.push({animation:k})}let I=!!T.length;return i&&(v.initial===!1||v.initial===v.animate)&&!n.manuallyAnimateOnMount&&(I=!1),i=!1,I?e(T):Promise.resolve()}function p(m,v){var w;if(t[m].isActive===v)return Promise.resolve();(w=n.variantChildren)===null||w===void 0||w.forEach(C=>{var N;return(N=C.animationState)===null||N===void 0?void 0:N.setActive(m,v)}),t[m].isActive=v;const T=d(m);for(const C in t)t[C].protectedKeys={};return T}return{animateChanges:d,setActive:p,setAnimateFunction:l,getState:()=>t,reset:()=>{t=q2(),i=!0}}}function bH(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!mN(e,n):!1}function Oh(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function q2(){return{animate:Oh(!0),whileInView:Oh(),whileHover:Oh(),whileTap:Oh(),whileDrag:Oh(),whileFocus:Oh(),exit:Oh()}}class pd{constructor(e){this.isMounted=!1,this.node=e}update(){}}class wH extends pd{constructor(e){super(e),e.animationState||(e.animationState=yH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();yw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let _H=0;class EH extends pd{constructor(){super(...arguments),this.id=_H++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);t&&!e&&o.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const TH={animation:{Feature:wH},exit:{Feature:EH}};function cy(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function Py(n){return{point:{x:n.pageX,y:n.pageY}}}const SH=n=>e=>UT(e)&&n(e,Py(e));function Vv(n,e,t,i){return cy(n,e,SH(t),i)}const G2=(n,e)=>Math.abs(n-e);function xH(n,e){const t=G2(n.x,e.x),i=G2(n.y,e.y);return Math.sqrt(t**2+i**2)}class iM{constructor(e,t,{transformPagePoint:i,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=T1(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,N=xH(T.offset,{x:0,y:0})>=3;if(!C&&!N)return;const{point:O}=T,{timestamp:I}=dr;this.history.push({...O,timestamp:I});const{onStart:k,onMove:D}=this.handlers;C||(k&&k(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,T)},this.handlePointerMove=(T,C)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=E1(C,this.transformPagePoint),Ln.update(this.updatePoint,!0)},this.handlePointerUp=(T,C)=>{this.end();const{onEnd:N,onSessionEnd:O,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=T1(T.type==="pointercancel"?this.lastMoveEventInfo:E1(C,this.transformPagePoint),this.history);this.startEvent&&N&&N(T,k),O&&O(T,k)},!UT(e))return;this.dragSnapToOrigin=l,this.handlers=t,this.transformPagePoint=i,this.contextWindow=o||window;const d=Py(e),p=E1(d,this.transformPagePoint),{point:m}=p,{timestamp:v}=dr;this.history=[{...m,timestamp:v}];const{onSessionStart:w}=t;w&&w(e,T1(p,this.history)),this.removeListeners=My(Vv(this.contextWindow,"pointermove",this.handlePointerMove),Vv(this.contextWindow,"pointerup",this.handlePointerUp),Vv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ad(this.updatePoint)}}function E1(n,e){return e?{point:e(n.point)}:n}function $2(n,e){return{x:n.x-e.x,y:n.y-e.y}}function T1({point:n},e){return{point:n,delta:$2(n,rM(e)),offset:$2(n,AH(e)),velocity:CH(e,.1)}}function AH(n){return n[0]}function rM(n){return n[n.length-1]}function CH(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const o=rM(n);for(;t>=0&&(i=n[t],!(o.timestamp-i.timestamp>wc(e)));)t--;if(!i)return{x:0,y:0};const l=_c(o.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const d={x:(o.x-i.x)/l,y:(o.y-i.y)/l};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}const sM=1e-4,RH=1-sM,IH=1+sM,oM=.01,kH=0-oM,NH=0+oM;function Ks(n){return n.max-n.min}function MH(n,e,t){return Math.abs(n-e)<=t}function K2(n,e,t,i=.5){n.origin=i,n.originPoint=Qn(e.min,e.max,n.origin),n.scale=Ks(t)/Ks(e),n.translate=Qn(t.min,t.max,n.origin)-n.originPoint,(n.scale>=RH&&n.scale<=IH||isNaN(n.scale))&&(n.scale=1),(n.translate>=kH&&n.translate<=NH||isNaN(n.translate))&&(n.translate=0)}function Uv(n,e,t,i){K2(n.x,e.x,t.x,i?i.originX:void 0),K2(n.y,e.y,t.y,i?i.originY:void 0)}function W2(n,e,t){n.min=t.min+e.min,n.max=n.min+Ks(e)}function PH(n,e,t){W2(n.x,e.x,t.x),W2(n.y,e.y,t.y)}function Y2(n,e,t){n.min=e.min-t.min,n.max=n.min+Ks(e)}function Bv(n,e,t){Y2(n.x,e.x,t.x),Y2(n.y,e.y,t.y)}function DH(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?Qn(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?Qn(t,n,i.max):Math.min(n,t)),n}function X2(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function OH(n,{top:e,left:t,bottom:i,right:o}){return{x:X2(n.x,t,o),y:X2(n.y,e,i)}}function Q2(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function LH(n,e){return{x:Q2(n.x,e.x),y:Q2(n.y,e.y)}}function jH(n,e){let t=.5;const i=Ks(n),o=Ks(e);return o>i?t=mm(e.min,e.max-i,n.min):i>o&&(t=mm(n.min,n.max-o,e.min)),Rc(0,1,t)}function VH(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const R_=.35;function UH(n=R_){return n===!1?n=0:n===!0&&(n=R_),{x:J2(n,"left","right"),y:J2(n,"top","bottom")}}function J2(n,e,t){return{min:Z2(n,e),max:Z2(n,t)}}function Z2(n,e){return typeof n=="number"?n:n[e]||0}const eA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Gp=()=>({x:eA(),y:eA()}),tA=()=>({min:0,max:0}),mi=()=>({x:tA(),y:tA()});function xo(n){return[n("x"),n("y")]}function aM({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function BH({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function FH(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function S1(n){return n===void 0||n===1}function I_({scale:n,scaleX:e,scaleY:t}){return!S1(n)||!S1(e)||!S1(t)}function jh(n){return I_(n)||lM(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function lM(n){return nA(n.x)||nA(n.y)}function nA(n){return n&&n!=="0%"}function Ob(n,e,t){const i=n-t,o=e*i;return t+o}function iA(n,e,t,i,o){return o!==void 0&&(n=Ob(n,o,i)),Ob(n,t,i)+e}function k_(n,e=0,t=1,i,o){n.min=iA(n.min,e,t,i,o),n.max=iA(n.max,e,t,i,o)}function cM(n,{x:e,y:t}){k_(n.x,e.translate,e.scale,e.originPoint),k_(n.y,t.translate,t.scale,t.originPoint)}const rA=.999999999999,sA=1.0000000000001;function zH(n,e,t,i=!1){const o=t.length;if(!o)return;e.x=e.y=1;let l,d;for(let p=0;p<o;p++){l=t[p],d=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Kp(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),d&&(e.x*=d.x.scale,e.y*=d.y.scale,cM(n,d)),i&&jh(l.latestValues)&&Kp(n,l.latestValues))}e.x<sA&&e.x>rA&&(e.x=1),e.y<sA&&e.y>rA&&(e.y=1)}function $p(n,e){n.min=n.min+e,n.max=n.max+e}function oA(n,e,t,i,o=.5){const l=Qn(n.min,n.max,o);k_(n,e,t,l,i)}function Kp(n,e){oA(n.x,e.x,e.scaleX,e.scale,e.originX),oA(n.y,e.y,e.scaleY,e.scale,e.originY)}function uM(n,e){return aM(FH(n.getBoundingClientRect(),e))}function HH(n,e,t){const i=uM(n,t),{scroll:o}=e;return o&&($p(i.x,o.offset.x),$p(i.y,o.offset.y)),i}const dM=({current:n})=>n?n.ownerDocument.defaultView:null,qH=new WeakMap;class GH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mi(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=w=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Py(w).point)},l=(w,T)=>{const{drag:C,dragPropagation:N,onDragStart:O}=this.getProps();if(C&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jz(C),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xo(k=>{let D=this.getAxisMotionValue(k).get()||0;if(fl.test(D)){const{projection:z}=this.visualElement;if(z&&z.layout){const K=z.layout.layoutBox[k];K&&(D=Ks(K)*(parseFloat(D)/100))}}this.originPoint[k]=D}),O&&Ln.postRender(()=>O(w,T)),w_(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},d=(w,T)=>{const{dragPropagation:C,dragDirectionLock:N,onDirectionLock:O,onDrag:I}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:k}=T;if(N&&this.currentDirection===null){this.currentDirection=$H(k),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",T.point,k),this.updateAxis("y",T.point,k),this.visualElement.render(),I&&I(w,T)},p=(w,T)=>this.stop(w,T),m=()=>xo(w=>{var T;return this.getAnimationState(w)==="paused"&&((T=this.getAxisMotionValue(w).animation)===null||T===void 0?void 0:T.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new iM(e,{onSessionStart:o,onStart:l,onMove:d,onSessionEnd:p,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,contextWindow:dM(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:o}=t;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Ln.postRender(()=>l(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:o}=this.getProps();if(!i||!U0(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let d=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(d=DH(d,this.constraints[e],this.elastic[e])),l.set(d)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;t&&Hp(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=OH(o.layoutBox,t):this.constraints=!1,this.elastic=UH(i),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&xo(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=VH(o.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Hp(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=HH(i,o.root,this.visualElement.getTransformPagePoint());let d=LH(o.layout.layoutBox,l);if(t){const p=t(BH(d));this.hasMutatedConstraints=!!p,p&&(d=aM(p))}return d}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:o,dragTransition:l,dragSnapToOrigin:d,onDragTransitionEnd:p}=this.getProps(),m=this.constraints||{},v=xo(w=>{if(!U0(w,t,this.currentDirection))return;let T=m&&m[w]||{};d&&(T={min:0,max:0});const C=o?200:1e6,N=o?40:1e7,O={type:"inertia",velocity:i?e[w]:0,bounceStiffness:C,bounceDamping:N,timeConstant:750,restDelta:1,restSpeed:10,...l,...T};return this.startAxisValueAnimation(w,O)});return Promise.all(v).then(p)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return w_(this.visualElement,e),i.start(QT(e,i,0,t,this.visualElement,!1))}stopAnimation(){xo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xo(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[t];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){xo(t=>{const{drag:i}=this.getProps();if(!U0(t,i,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(t);if(o&&o.layout){const{min:d,max:p}=o.layout.layoutBox[t];l.set(e[t]-Qn(d,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Hp(t)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};xo(d=>{const p=this.getAxisMotionValue(d);if(p&&this.constraints!==!1){const m=p.get();o[d]=jH({min:m,max:m},this.constraints[d])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),xo(d=>{if(!U0(d,e,null))return;const p=this.getAxisMotionValue(d),{min:m,max:v}=this.constraints[d];p.set(Qn(m,v,o[d]))})}addListeners(){if(!this.visualElement.current)return;qH.set(this.visualElement,this);const e=this.visualElement.current,t=Vv(e,"pointerdown",m=>{const{drag:v,dragListener:w=!0}=this.getProps();v&&w&&this.start(m)}),i=()=>{const{dragConstraints:m}=this.getProps();Hp(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ln.read(i);const d=cy(window,"resize",()=>this.scalePositionWithinConstraints()),p=o.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v})=>{this.isDragging&&v&&(xo(w=>{const T=this.getAxisMotionValue(w);T&&(this.originPoint[w]+=m[w].translate,T.set(T.get()+m[w].translate))}),this.visualElement.render())});return()=>{d(),t(),l(),p&&p()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:d=R_,dragMomentum:p=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:o,dragConstraints:l,dragElastic:d,dragMomentum:p}}}function U0(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function $H(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class KH extends pd{constructor(e){super(e),this.removeGroupControls=$s,this.removeListeners=$s,this.controls=new GH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$s}unmount(){this.removeGroupControls(),this.removeListeners()}}const aA=n=>(e,t)=>{n&&Ln.postRender(()=>n(e,t))};class WH extends pd{constructor(){super(...arguments),this.removePointerDownListener=$s}onPointerDown(e){this.session=new iM(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dM(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:aA(e),onStart:aA(t),onMove:i,onEnd:(l,d)=>{delete this.session,o&&Ln.postRender(()=>o(l,d))}}}mount(){this.removePointerDownListener=Vv(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ib={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function lA(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const vv={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ze.test(n))n=parseFloat(n);else return n;const t=lA(n,e.target.x),i=lA(n,e.target.y);return`${t}% ${i}%`}},YH={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,o=ld.parse(n);if(o.length>5)return i;const l=ld.createTransformer(n),d=typeof o[0]!="number"?1:0,p=t.x.scale*e.x,m=t.y.scale*e.y;o[0+d]/=p,o[1+d]/=m;const v=Qn(p,m,.5);return typeof o[2+d]=="number"&&(o[2+d]/=v),typeof o[3+d]=="number"&&(o[3+d]/=v),l(o)}};class XH extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:o}=this.props,{projection:l}=e;gz(QH),l&&(t.group&&t.group.add(l),i&&i.register&&o&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),ib.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:o,isPresent:l}=this.props,d=i.projection;return d&&(d.isPresent=l,o||e.layoutDependency!==t||t===void 0?d.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?d.promote():d.relegate()||Ln.postRender(()=>{const p=d.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),AT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function hM(n){const[e,t]=Wk(),i=R.useContext(yT);return _.jsx(XH,{...n,layoutGroup:i,switchLayoutGroup:R.useContext(nN),isPresent:e,safeToRemove:t})}const QH={borderRadius:{...vv,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vv,borderTopRightRadius:vv,borderBottomLeftRadius:vv,borderBottomRightRadius:vv,boxShadow:YH};function JH(n,e,t){const i=jr(n)?n:ay(n);return i.start(QT("",i,e,t)),i.animation}function ZH(n){return n instanceof SVGElement&&n.tagName!=="svg"}const eq=(n,e)=>n.depth-e.depth;class tq{constructor(){this.children=[],this.isDirty=!1}add(e){BT(this.children,e),this.isDirty=!0}remove(e){FT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eq),this.isDirty=!1,this.children.forEach(e)}}function nq(n,e){const t=pl.now(),i=({timestamp:o})=>{const l=o-t;l>=e&&(ad(i),n(l-e))};return Ln.read(i,!0),()=>ad(i)}const fM=["TopLeft","TopRight","BottomLeft","BottomRight"],iq=fM.length,cA=n=>typeof n=="string"?parseFloat(n):n,uA=n=>typeof n=="number"||Ze.test(n);function rq(n,e,t,i,o,l){o?(n.opacity=Qn(0,t.opacity!==void 0?t.opacity:1,sq(i)),n.opacityExit=Qn(e.opacity!==void 0?e.opacity:1,0,oq(i))):l&&(n.opacity=Qn(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let d=0;d<iq;d++){const p=`border${fM[d]}Radius`;let m=dA(e,p),v=dA(t,p);if(m===void 0&&v===void 0)continue;m||(m=0),v||(v=0),m===0||v===0||uA(m)===uA(v)?(n[p]=Math.max(Qn(cA(m),cA(v),i),0),(fl.test(v)||fl.test(m))&&(n[p]+="%")):n[p]=v}(e.rotate||t.rotate)&&(n.rotate=Qn(e.rotate||0,t.rotate||0,i))}function dA(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const sq=pM(0,.5,MN),oq=pM(.5,.95,$s);function pM(n,e,t){return i=>i<n?0:i>e?1:t(mm(n,e,i))}function hA(n,e){n.min=e.min,n.max=e.max}function So(n,e){hA(n.x,e.x),hA(n.y,e.y)}function fA(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function pA(n,e,t,i,o){return n-=e,n=Ob(n,1/t,i),o!==void 0&&(n=Ob(n,1/o,i)),n}function aq(n,e=0,t=1,i=.5,o,l=n,d=n){if(fl.test(e)&&(e=parseFloat(e),e=Qn(d.min,d.max,e/100)-d.min),typeof e!="number")return;let p=Qn(l.min,l.max,i);n===l&&(p-=e),n.min=pA(n.min,e,t,p,o),n.max=pA(n.max,e,t,p,o)}function mA(n,e,[t,i,o],l,d){aq(n,e[t],e[i],e[o],e.scale,l,d)}const lq=["x","scaleX","originX"],cq=["y","scaleY","originY"];function gA(n,e,t,i){mA(n.x,e,lq,t?t.x:void 0,i?i.x:void 0),mA(n.y,e,cq,t?t.y:void 0,i?i.y:void 0)}function vA(n){return n.translate===0&&n.scale===1}function mM(n){return vA(n.x)&&vA(n.y)}function yA(n,e){return n.min===e.min&&n.max===e.max}function uq(n,e){return yA(n.x,e.x)&&yA(n.y,e.y)}function bA(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function gM(n,e){return bA(n.x,e.x)&&bA(n.y,e.y)}function wA(n){return Ks(n.x)/Ks(n.y)}function _A(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class dq{constructor(){this.members=[]}add(e){BT(this.members,e),e.scheduleRender()}remove(e){if(FT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(o=>e===o);if(t===0)return!1;let i;for(let o=t;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hq(n,e,t){let i="";const o=n.x.translate/e.x,l=n.y.translate/e.y,d=t?.z||0;if((o||l||d)&&(i=`translate3d(${o}px, ${l}px, ${d}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:v,rotate:w,rotateX:T,rotateY:C,skewX:N,skewY:O}=t;v&&(i=`perspective(${v}px) ${i}`),w&&(i+=`rotate(${w}deg) `),T&&(i+=`rotateX(${T}deg) `),C&&(i+=`rotateY(${C}deg) `),N&&(i+=`skewX(${N}deg) `),O&&(i+=`skewY(${O}deg) `)}const p=n.x.scale*e.x,m=n.y.scale*e.y;return(p!==1||m!==1)&&(i+=`scale(${p}, ${m})`),i||"none"}const Vh={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Rv=typeof window<"u"&&window.MotionDebug!==void 0,x1=["","X","Y","Z"],fq={visibility:"hidden"},EA=1e3;let pq=0;function A1(n,e,t,i){const{latestValues:o}=e;o[n]&&(t[n]=o[n],e.setStaticValue(n,0),i&&(i[n]=0))}function vM(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=xN(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:o,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Ln,!(o||l))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&vM(i)}function yM({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(d={},p=e?.()){this.id=pq++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Rv&&(Vh.totalNodes=Vh.resolvedTargetDeltas=Vh.recalculatedProjection=0),this.nodes.forEach(vq),this.nodes.forEach(Eq),this.nodes.forEach(Tq),this.nodes.forEach(yq),Rv&&window.MotionDebug.record(Vh)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new tq)}addEventListener(d,p){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new zT),this.eventHandlers.get(d).add(p)}notifyListeners(d,...p){const m=this.eventHandlers.get(d);m&&m.notify(...p)}hasListeners(d){return this.eventHandlers.has(d)}mount(d,p=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ZH(d),this.instance=d;const{layoutId:m,layout:v,visualElement:w}=this.options;if(w&&!w.current&&w.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),p&&(v||m)&&(this.isLayoutDirty=!0),n){let T;const C=()=>this.root.updateBlockedByResize=!1;n(d,()=>{this.root.updateBlockedByResize=!0,T&&T(),T=nq(C,250),ib.hasAnimatedSinceResize&&(ib.hasAnimatedSinceResize=!1,this.nodes.forEach(SA))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&w&&(m||v)&&this.addEventListener("didUpdate",({delta:T,hasLayoutChanged:C,hasRelativeTargetChanged:N,layout:O})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||w.getDefaultTransition()||Rq,{onLayoutAnimationStart:k,onLayoutAnimationComplete:D}=w.getProps(),z=!this.targetLayout||!gM(this.targetLayout,O)||N,K=!C&&N;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||K||C&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(T,K);const W={...LT(I,"layout"),onPlay:k,onComplete:D};(w.shouldReduceMotion||this.options.layoutRoot)&&(W.delay=0,W.type=!1),this.startAnimation(W)}else C||SA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=O})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ad(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Sq),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let w=0;w<this.path.length;w++){const T=this.path[w];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:p,layout:m}=this.options;if(p===void 0&&!m)return;const v=this.getTransformTemplate();this.prevTransformTemplateValue=v?v(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(TA);return}this.isUpdating||this.nodes.forEach(wq),this.isUpdating=!1,this.nodes.forEach(_q),this.nodes.forEach(mq),this.nodes.forEach(gq),this.clearAllSnapshots();const p=pl.now();dr.delta=Rc(0,1e3/60,p-dr.timestamp),dr.timestamp=p,dr.isProcessing=!0,g1.update.process(dr),g1.preRender.process(dr),g1.render.process(dr),dr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,AT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bq),this.sharedNodes.forEach(xq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ln.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ln.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(p=!1),p){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:m,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!mM(this.projectionDelta),m=this.getTransformTemplate(),v=m?m(this.latestValues,""):void 0,w=v!==this.prevTransformTemplateValue;d&&(p||jh(this.latestValues)||w)&&(o(this.instance,v),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const p=this.measurePageBox();let m=this.removeElementScroll(p);return d&&(m=this.removeTransform(m)),Iq(m),{animationId:this.root.animationId,measuredBox:p,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:p}=this.options;if(!p)return mi();const m=p.measureViewportBox();if(!(((d=this.scroll)===null||d===void 0?void 0:d.wasRoot)||this.path.some(kq))){const{scroll:w}=this.root;w&&($p(m.x,w.offset.x),$p(m.y,w.offset.y))}return m}removeElementScroll(d){var p;const m=mi();if(So(m,d),!((p=this.scroll)===null||p===void 0)&&p.wasRoot)return m;for(let v=0;v<this.path.length;v++){const w=this.path[v],{scroll:T,options:C}=w;w!==this.root&&T&&C.layoutScroll&&(T.wasRoot&&So(m,d),$p(m.x,T.offset.x),$p(m.y,T.offset.y))}return m}applyTransform(d,p=!1){const m=mi();So(m,d);for(let v=0;v<this.path.length;v++){const w=this.path[v];!p&&w.options.layoutScroll&&w.scroll&&w!==w.root&&Kp(m,{x:-w.scroll.offset.x,y:-w.scroll.offset.y}),jh(w.latestValues)&&Kp(m,w.latestValues)}return jh(this.latestValues)&&Kp(m,this.latestValues),m}removeTransform(d){const p=mi();So(p,d);for(let m=0;m<this.path.length;m++){const v=this.path[m];if(!v.instance||!jh(v.latestValues))continue;I_(v.latestValues)&&v.updateSnapshot();const w=mi(),T=v.measurePageBox();So(w,T),gA(p,v.latestValues,v.snapshot?v.snapshot.layoutBox:void 0,w)}return jh(this.latestValues)&&gA(p,this.latestValues),p}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var p;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const v=!!this.resumingFrom||this!==m;if(!(d||v&&this.isSharedProjectionDirty||this.isProjectionDirty||!((p=this.parent)===null||p===void 0)&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:T,layoutId:C}=this.options;if(!(!this.layout||!(T||C))){if(this.resolvedRelativeTargetAt=dr.timestamp,!this.targetDelta&&!this.relativeTarget){const N=this.getClosestProjectingParent();N&&N.layout&&this.animationProgress!==1?(this.relativeParent=N,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mi(),this.relativeTargetOrigin=mi(),Bv(this.relativeTargetOrigin,this.layout.layoutBox,N.layout.layoutBox),So(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=mi(),this.targetWithTransforms=mi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),PH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):So(this.target,this.layout.layoutBox),cM(this.target,this.targetDelta)):So(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const N=this.getClosestProjectingParent();N&&!!N.resumingFrom==!!this.resumingFrom&&!N.options.layoutScroll&&N.target&&this.animationProgress!==1?(this.relativeParent=N,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mi(),this.relativeTargetOrigin=mi(),Bv(this.relativeTargetOrigin,this.target,N.target),So(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Rv&&Vh.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||I_(this.parent.latestValues)||lM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var d;const p=this.getLead(),m=!!this.resumingFrom||this!==p;let v=!0;if((this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty)&&(v=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(v=!1),this.resolvedRelativeTargetAt===dr.timestamp&&(v=!1),v)return;const{layout:w,layoutId:T}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(w||T))return;So(this.layoutCorrected,this.layout.layoutBox);const C=this.treeScale.x,N=this.treeScale.y;zH(this.layoutCorrected,this.treeScale,this.path,m),p.layout&&!p.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(p.target=p.layout.layoutBox,p.targetWithTransforms=mi());const{target:O}=p;if(!O){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fA(this.prevProjectionDelta.x,this.projectionDelta.x),fA(this.prevProjectionDelta.y,this.projectionDelta.y)),Uv(this.projectionDelta,this.layoutCorrected,O,this.latestValues),(this.treeScale.x!==C||this.treeScale.y!==N||!_A(this.projectionDelta.x,this.prevProjectionDelta.x)||!_A(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",O)),Rv&&Vh.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){var p;if((p=this.options.visualElement)===null||p===void 0||p.scheduleRender(),d){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Gp(),this.projectionDelta=Gp(),this.projectionDeltaWithTransform=Gp()}setAnimationOrigin(d,p=!1){const m=this.snapshot,v=m?m.latestValues:{},w={...this.latestValues},T=Gp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const C=mi(),N=m?m.source:void 0,O=this.layout?this.layout.source:void 0,I=N!==O,k=this.getStack(),D=!k||k.members.length<=1,z=!!(I&&!D&&this.options.crossfade===!0&&!this.path.some(Cq));this.animationProgress=0;let K;this.mixTargetDelta=W=>{const Y=W/1e3;xA(T.x,d.x,Y),xA(T.y,d.y,Y),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bv(C,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Aq(this.relativeTarget,this.relativeTargetOrigin,C,Y),K&&uq(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=mi()),So(K,this.relativeTarget)),I&&(this.animationValues=w,rq(w,v,this.latestValues,Y,z,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ad(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ln.update(()=>{ib.hasAnimatedSinceResize=!0,this.currentAnimation=JH(0,EA,{...d,onUpdate:p=>{this.mixTargetDelta(p),d.onUpdate&&d.onUpdate(p)},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(EA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:p,target:m,layout:v,latestValues:w}=d;if(!(!p||!m||!v)){if(this!==d&&this.layout&&v&&bM(this.options.animationType,this.layout.layoutBox,v.layoutBox)){m=this.target||mi();const T=Ks(this.layout.layoutBox.x);m.x.min=d.target.x.min,m.x.max=m.x.min+T;const C=Ks(this.layout.layoutBox.y);m.y.min=d.target.y.min,m.y.max=m.y.min+C}So(p,m),Kp(p,w),Uv(this.projectionDeltaWithTransform,this.layoutCorrected,p,w)}}registerSharedNode(d,p){this.sharedNodes.has(d)||this.sharedNodes.set(d,new dq),this.sharedNodes.get(d).add(p);const v=p.options.initialPromotionConfig;p.promote({transition:v?v.transition:void 0,preserveFollowOpacity:v&&v.shouldPreserveFollowOpacity?v.shouldPreserveFollowOpacity(p):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var d;const{layoutId:p}=this.options;return p?((d=this.getStack())===null||d===void 0?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:p}=this.options;return p?(d=this.getStack())===null||d===void 0?void 0:d.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:p,preserveFollowOpacity:m}={}){const v=this.getStack();v&&v.promote(this,m),d&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let p=!1;const{latestValues:m}=d;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(p=!0),!p)return;const v={};m.z&&A1("z",d,v,this.animationValues);for(let w=0;w<x1.length;w++)A1(`rotate${x1[w]}`,d,v,this.animationValues),A1(`skew${x1[w]}`,d,v,this.animationValues);d.render();for(const w in v)d.setStaticValue(w,v[w]),this.animationValues&&(this.animationValues[w]=v[w]);d.scheduleRender()}getProjectionStyles(d){var p,m;if(!this.instance||this.isSVG)return;if(!this.isVisible)return fq;const v={visibility:""},w=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,v.opacity="",v.pointerEvents=tb(d?.pointerEvents)||"",v.transform=w?w(this.latestValues,""):"none",v;const T=this.getLead();if(!this.projectionDelta||!this.layout||!T.target){const I={};return this.options.layoutId&&(I.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,I.pointerEvents=tb(d?.pointerEvents)||""),this.hasProjected&&!jh(this.latestValues)&&(I.transform=w?w({},""):"none",this.hasProjected=!1),I}const C=T.animationValues||T.latestValues;this.applyTransformsToTarget(),v.transform=hq(this.projectionDeltaWithTransform,this.treeScale,C),w&&(v.transform=w(C,v.transform));const{x:N,y:O}=this.projectionDelta;v.transformOrigin=`${N.origin*100}% ${O.origin*100}% 0`,T.animationValues?v.opacity=T===this?(m=(p=C.opacity)!==null&&p!==void 0?p:this.latestValues.opacity)!==null&&m!==void 0?m:1:this.preserveOpacity?this.latestValues.opacity:C.opacityExit:v.opacity=T===this?C.opacity!==void 0?C.opacity:"":C.opacityExit!==void 0?C.opacityExit:0;for(const I in kb){if(C[I]===void 0)continue;const{correct:k,applyTo:D}=kb[I],z=v.transform==="none"?C[I]:k(C[I],T);if(D){const K=D.length;for(let W=0;W<K;W++)v[D[W]]=z}else v[I]=z}return this.options.layoutId&&(v.pointerEvents=T===this?tb(d?.pointerEvents)||"":"none"),v}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var p;return(p=d.currentAnimation)===null||p===void 0?void 0:p.stop()}),this.root.nodes.forEach(TA),this.root.sharedNodes.clear()}}}function mq(n){n.updateLayout()}function gq(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=n.layout,{animationType:l}=n.options,d=t.source!==n.layout.source;l==="size"?xo(T=>{const C=d?t.measuredBox[T]:t.layoutBox[T],N=Ks(C);C.min=i[T].min,C.max=C.min+N}):bM(l,t.layoutBox,i)&&xo(T=>{const C=d?t.measuredBox[T]:t.layoutBox[T],N=Ks(i[T]);C.max=C.min+N,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[T].max=n.relativeTarget[T].min+N)});const p=Gp();Uv(p,i,t.layoutBox);const m=Gp();d?Uv(m,n.applyTransform(o,!0),t.measuredBox):Uv(m,i,t.layoutBox);const v=!mM(p);let w=!1;if(!n.resumeFrom){const T=n.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:C,layout:N}=T;if(C&&N){const O=mi();Bv(O,t.layoutBox,C.layoutBox);const I=mi();Bv(I,i,N.layoutBox),gM(O,I)||(w=!0),T.options.layoutRoot&&(n.relativeTarget=I,n.relativeTargetOrigin=O,n.relativeParent=T)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:m,layoutDelta:p,hasLayoutChanged:v,hasRelativeTargetChanged:w})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function vq(n){Rv&&Vh.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function yq(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function bq(n){n.clearSnapshot()}function TA(n){n.clearMeasurements()}function wq(n){n.isLayoutDirty=!1}function _q(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function SA(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Eq(n){n.resolveTargetDelta()}function Tq(n){n.calcProjection()}function Sq(n){n.resetSkewAndRotation()}function xq(n){n.removeLeadSnapshot()}function xA(n,e,t){n.translate=Qn(e.translate,0,t),n.scale=Qn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function AA(n,e,t,i){n.min=Qn(e.min,t.min,i),n.max=Qn(e.max,t.max,i)}function Aq(n,e,t,i){AA(n.x,e.x,t.x,i),AA(n.y,e.y,t.y,i)}function Cq(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Rq={duration:.45,ease:[.4,0,.1,1]},CA=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),RA=CA("applewebkit/")&&!CA("chrome/")?Math.round:$s;function IA(n){n.min=RA(n.min),n.max=RA(n.max)}function Iq(n){IA(n.x),IA(n.y)}function bM(n,e,t){return n==="position"||n==="preserve-aspect"&&!MH(wA(e),wA(t),.2)}function kq(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const Nq=yM({attachResizeListener:(n,e)=>cy(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),C1={current:void 0},wM=yM({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!C1.current){const n=new Nq({});n.mount(window),n.setOptions({layoutScroll:!0}),C1.current=n}return C1.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Mq={pan:{Feature:WH},drag:{Feature:KH,ProjectionNode:wM,MeasureLayout:hM}};function kA(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const o="onHover"+t,l=i[o];l&&Ln.postRender(()=>l(e,Py(e)))}class Pq extends pd{mount(){const{current:e}=this.node;e&&(this.unmount=Mz(e,t=>(kA(this.node,t,"Start"),i=>kA(this.node,i,"End"))))}unmount(){}}class Dq extends pd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=My(cy(this.node.current,"focus",()=>this.onFocus()),cy(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function NA(n,e,t){const{props:i}=n;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const o="onTap"+(t==="End"?"":t),l=i[o];l&&Ln.postRender(()=>l(e,Py(e)))}class Oq extends pd{mount(){const{current:e}=this.node;e&&(this.unmount=Lz(e,t=>(NA(this.node,t,"Start"),(i,{success:o})=>NA(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const N_=new WeakMap,R1=new WeakMap,Lq=n=>{const e=N_.get(n.target);e&&e(n)},jq=n=>{n.forEach(Lq)};function Vq({root:n,...e}){const t=n||document;R1.has(t)||R1.set(t,{});const i=R1.get(t),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(jq,{root:n,...e})),i[o]}function Uq(n,e,t){const i=Vq(e);return N_.set(n,t),i.observe(n),()=>{N_.delete(n),i.unobserve(n)}}const Bq={some:0,all:1};class Fq extends pd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:o="some",once:l}=e,d={root:t?t.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:Bq[o]},p=m=>{const{isIntersecting:v}=m;if(this.isInView===v||(this.isInView=v,l&&!v&&this.hasEnteredView))return;v&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",v);const{onViewportEnter:w,onViewportLeave:T}=this.node.getProps(),C=v?w:T;C&&C(m)};return Uq(this.node.current,d,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(zq(e,t))&&this.startObserver()}unmount(){}}function zq({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const Hq={inView:{Feature:Fq},tap:{Feature:Oq},focus:{Feature:Dq},hover:{Feature:Pq}},qq={layout:{ProjectionNode:wM,MeasureLayout:hM}},M_={current:null},_M={current:!1};function Gq(){if(_M.current=!0,!!_T)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>M_.current=n.matches;n.addListener(e),e()}else M_.current=!1}const $q=[...$N,Dr,ld],Kq=n=>$q.find(GN(n)),MA=new WeakMap;function Wq(n,e,t){for(const i in e){const o=e[i],l=t[i];if(jr(o))n.addValue(i,o);else if(jr(l))n.addValue(i,ay(o,{owner:n}));else if(l!==o)if(n.hasValue(i)){const d=n.getValue(i);d.liveStyle===!0?d.jump(o):d.hasAnimated||d.set(o)}else{const d=n.getStaticValue(i);n.addValue(i,ay(d!==void 0?d:o,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const PA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Yq{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:l,visualState:d},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=WT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const N=pl.now();this.renderScheduledAt<N&&(this.renderScheduledAt=N,Ln.render(this.render,!1,!0))};const{latestValues:m,renderState:v,onUpdate:w}=d;this.onUpdate=w,this.latestValues=m,this.baseTarget={...m},this.initialValues=t.initial?{...m}:{},this.renderState=v,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=p,this.blockInitialAnimation=!!l,this.isControllingVariants=bw(t),this.isVariantNode=eN(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:T,...C}=this.scrapeMotionValuesFromProps(t,{},this);for(const N in C){const O=C[N];m[N]!==void 0&&jr(O)&&O.set(m[N],!1)}}mount(e){this.current=e,MA.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),_M.current||Gq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:M_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){MA.delete(this.current),this.projection&&this.projection.unmount(),ad(this.notifyUpdate),ad(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=lf.has(e),o=t.on("change",p=>{this.latestValues[e]=p,this.props.onUpdate&&Ln.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=t.on("renderRequest",this.scheduleRender);let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{o(),l(),d&&d(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in gm){const t=gm[e];if(!t)continue;const{isEnabled:i,Feature:o}=t;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<PA.length;i++){const o=PA[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,d=e[l];d&&(this.propEventSubscriptions[o]=this.on(o,d))}this.prevMotionValues=Wq(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=ay(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(HN(o)||DN(o))?o=parseFloat(o):!Kq(o)&&ld.test(t)&&(o=BN(e,t)),this.setBaseTarget(e,jr(o)?o.get():o)),jr(o)?o.get():o}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let o;if(typeof i=="string"||typeof i=="object"){const d=RT(this.props,i,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);d&&(o=d[e])}if(i&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!jr(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new zT),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class EM extends Yq{constructor(){super(...arguments),this.KeyframeResolver=KN}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;jr(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function Xq(n){return window.getComputedStyle(n)}class Qq extends EM{constructor(){super(...arguments),this.type="html",this.renderInstance=cN}readValueFromInstance(e,t){if(lf.has(t)){const i=KT(t);return i&&i.default||0}else{const i=Xq(e),o=(oN(t)?i.getPropertyValue(t):i[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return uM(e,t)}build(e,t,i){NT(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return OT(e,t,i)}}class Jq extends EM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mi}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(lf.has(t)){const i=KT(t);return i&&i.default||0}return t=uN.has(t)?t:xT(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return fN(e,t,i)}build(e,t,i){MT(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,o){dN(e,t,i,o)}mount(e){this.isSVGTag=DT(e.tagName),super.mount(e)}}const Zq=(n,e)=>CT(n)?new Jq(e):new Qq(e,{allowProjection:n!==R.Fragment}),eG=xz({...TH,...Hq,...Mq,...qq},Zq),vn=B8(eG);class tG{constructor(){this.dbName="YouTubeAudioSampler",this.dbVersion=1,this.storeName="audioCache",this.db=null,this.isInitialized=!1,this.config={maxStorageSize:500*1024*1024,maxEntries:50,cleanupThreshold:.8,entryTTL:1440*60*1e3,retryAttempts:3,retryDelay:1e3},this.init=this.init.bind(this),this.store=this.store.bind(this),this.retrieve=this.retrieve.bind(this),this.remove=this.remove.bind(this),this.cleanup=this.cleanup.bind(this),this.clear=this.clear.bind(this),this.getStorageInfo=this.getStorageInfo.bind(this)}async init(){if(!(this.isInitialized&&this.db))return new Promise((e,t)=>{const i=indexedDB.open(this.dbName,this.dbVersion);i.onerror=()=>{console.error("Failed to open IndexedDB:",i.error),t(new Error(`IndexedDB initialization failed: ${i.error?.message}`))},i.onsuccess=()=>{this.db=i.result,this.isInitialized=!0,this.db.onerror=o=>{console.error("IndexedDB error:",o.target.error)},console.log("StorageManager initialized successfully"),e()},i.onupgradeneeded=o=>{const l=o.target.result;if(!l.objectStoreNames.contains(this.storeName)){const d=l.createObjectStore(this.storeName,{keyPath:"id"});d.createIndex("timestamp","timestamp",{unique:!1}),d.createIndex("size","size",{unique:!1}),d.createIndex("youtubeUrl","youtubeUrl",{unique:!1}),console.log("Created IndexedDB object store and indexes")}}})}async store(e,t,i=null){try{await this.ensureInitialized();const o=this.generateId(e),l=this.serializeAudioBuffer(t),d=this.calculateSize(l,i);await this.ensureStorageSpace(d);const p={id:o,youtubeUrl:e,audioData:l,waveformData:i,size:d,timestamp:Date.now(),format:"audiobuffer",sampleRate:t.sampleRate,numberOfChannels:t.numberOfChannels,duration:t.duration};return await this.performStore(p),console.log(`Stored audio for ${e} (${this.formatSize(d)})`),!0}catch(o){if(console.error("Failed to store audio:",o),o.name==="QuotaExceededError")try{return await this.performEmergencyCleanup(),await this.performStore(entry),!0}catch(l){console.error("Retry after cleanup also failed:",l)}throw new Error(`Storage failed: ${o.message}`)}}async retrieve(e){try{await this.ensureInitialized();const t=this.generateId(e),i=await this.performRetrieve(t);if(!i)return null;if(this.isExpired(i))return await this.remove(e),null;const o=this.deserializeAudioBuffer(i.audioData,i.sampleRate,i.numberOfChannels);return await this.updateAccessTime(t),console.log(`Retrieved audio for ${e}`),{audioBuffer:o,waveformData:i.waveformData,metadata:{duration:i.duration,sampleRate:i.sampleRate,numberOfChannels:i.numberOfChannels,size:i.size,timestamp:i.timestamp}}}catch(t){return console.error("Failed to retrieve audio:",t),null}}async remove(e){try{await this.ensureInitialized();const t=this.generateId(e);return new Promise((i,o)=>{const p=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).delete(t);p.onsuccess=()=>{console.log(`Removed audio for ${e}`),i(!0)},p.onerror=()=>{o(new Error(`Failed to remove entry: ${p.error?.message}`))}})}catch(t){return console.error("Failed to remove audio:",t),!1}}async has(e){try{await this.ensureInitialized();const t=this.generateId(e),i=await this.performRetrieve(t);return i?this.isExpired(i)?(await this.remove(e),!1):!0:!1}catch(t){return console.error("Failed to check storage:",t),!1}}async cleanup(){try{await this.ensureInitialized();const e=await this.getAllEntries(),t=Date.now();let i=0;e.sort((d,p)=>d.timestamp-p.timestamp);const l=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName);for(const d of e){let p=!1;this.isExpired(d)&&(p=!0),e.length-i>this.config.maxEntries&&(p=!0),p&&(await new Promise((m,v)=>{const w=l.delete(d.id);w.onsuccess=()=>m(),w.onerror=()=>v(w.error)}),i++)}return i>0&&console.log(`Cleaned up ${i} expired/old audio entries`),i}catch(e){return console.error("Cleanup failed:",e),0}}async clear(){try{return await this.ensureInitialized(),new Promise((e,t)=>{const l=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).clear();l.onsuccess=()=>{console.log("Cleared all audio storage"),e(!0)},l.onerror=()=>{t(new Error(`Failed to clear storage: ${l.error?.message}`))}})}catch(e){return console.error("Failed to clear storage:",e),!1}}async getStorageInfo(){try{await this.ensureInitialized();const e=await this.getAllEntries(),t=e.reduce((d,p)=>d+(p.size||0),0),i=e.filter(d=>this.isExpired(d)).length;let o=null,l=null;if("storage"in navigator&&"estimate"in navigator.storage)try{const d=await navigator.storage.estimate();o=d.quota,l=d.usage}catch(d){console.warn("Could not get storage estimate:",d)}return{entryCount:e.length,expiredCount:i,totalSize:t,totalSizeMB:Math.round(t/(1024*1024)*100)/100,maxEntries:this.config.maxEntries,maxSize:this.config.maxStorageSize,maxSizeMB:Math.round(this.config.maxStorageSize/(1024*1024)),quota:o,usage:l,utilizationPercent:o?Math.round(l/o*100):null,oldestEntry:e.length>0?Math.min(...e.map(d=>d.timestamp)):null,newestEntry:e.length>0?Math.max(...e.map(d=>d.timestamp)):null}}catch(e){return console.error("Failed to get storage info:",e),{entryCount:0,expiredCount:0,totalSize:0,error:e.message}}}async ensureInitialized(){this.isInitialized||await this.init()}generateId(e){const t=e.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/);return t?`yt_${t[1]}`:`url_${btoa(e).replace(/[^a-zA-Z0-9]/g,"")}`}serializeAudioBuffer(e){const t=[];for(let i=0;i<e.numberOfChannels;i++){const o=e.getChannelData(i);t.push(Array.from(o))}return{channels:t,sampleRate:e.sampleRate,numberOfChannels:e.numberOfChannels,duration:e.duration}}deserializeAudioBuffer(e,t,i){const o=new(window.AudioContext||window.webkitAudioContext),l=e.channels[0].length,d=o.createBuffer(i,l,t);for(let p=0;p<i;p++){const m=d.getChannelData(p),v=e.channels[p];for(let w=0;w<l;w++)m[w]=v[w]}return d}calculateSize(e,t){let i=0;if(e&&e.channels)for(const o of e.channels)i+=o.length*4;return t&&(i+=t.length*4),i+=1024,i}async ensureStorageSpace(e){if((await this.getStorageInfo()).totalSize+e>this.config.maxStorageSize*this.config.cleanupThreshold&&(console.log("Storage threshold reached, performing cleanup..."),await this.cleanup()),(await this.getStorageInfo()).totalSize+e>this.config.maxStorageSize)throw new Error("Insufficient storage space available")}async performEmergencyCleanup(){console.log("Performing emergency cleanup...");const e=await this.getAllEntries();e.sort((l,d)=>l.timestamp-d.timestamp);const t=e.slice(0,Math.floor(e.length/2)),o=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName);for(const l of t)await new Promise((d,p)=>{const m=o.delete(l.id);m.onsuccess=()=>d(),m.onerror=()=>p(m.error)});console.log(`Emergency cleanup removed ${t.length} entries`)}async performStore(e){return new Promise((t,i)=>{const d=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).put(e);d.onsuccess=()=>t(),d.onerror=()=>i(d.error)})}async performRetrieve(e){return new Promise((t,i)=>{const d=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).get(e);d.onsuccess=()=>t(d.result),d.onerror=()=>i(d.error)})}async updateAccessTime(e){try{const t=await this.performRetrieve(e);t&&(t.lastAccessed=Date.now(),await this.performStore(t))}catch(t){console.warn("Failed to update access time:",t)}}async getAllEntries(){return new Promise((e,t)=>{const l=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).getAll();l.onsuccess=()=>e(l.result||[]),l.onerror=()=>t(l.error)})}isExpired(e){return Date.now()-e.timestamp>this.config.entryTTL}formatSize(e){if(e===0)return"0 B";const t=1024,i=["B","KB","MB","GB"],o=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,o)).toFixed(2))+" "+i[o]}async close(){this.db&&(this.db.close(),this.db=null,this.isInitialized=!1,console.log("StorageManager closed"))}}const uy=new tG;uy.init().catch(n=>{console.error("Failed to initialize StorageManager:",n)});typeof window<"u"&&(window.addEventListener("beforeunload",()=>{uy.close()}),setInterval(()=>{uy.cleanup().catch(n=>{console.warn("Periodic cleanup failed:",n)})},1800*1e3));class nG{constructor(){this.metrics=new Map,this.memorySnapshots=[],this.performanceObserver=null,this.isMonitoring=!1,this.config={maxMetricsHistory:100,memorySnapshotInterval:5e3,maxMemorySnapshots:50,performanceThresholds:{audioDownload:3e4,audioProcessing:1e4,waveformGeneration:5e3,memoryUsage:500*1024*1024,gcTriggerThreshold:.8}},this.startMonitoring=this.startMonitoring.bind(this),this.stopMonitoring=this.stopMonitoring.bind(this),this.recordMetric=this.recordMetric.bind(this),this.getMetrics=this.getMetrics.bind(this),this.cleanup=this.cleanup.bind(this)}startMonitoring(){this.isMonitoring||(this.isMonitoring=!0,this.startMemoryMonitoring(),this.initializePerformanceObserver(),console.log("PerformanceMonitor started"))}stopMonitoring(){this.isMonitoring&&(this.isMonitoring=!1,this.memoryInterval&&(clearInterval(this.memoryInterval),this.memoryInterval=null),this.performanceObserver&&(this.performanceObserver.disconnect(),this.performanceObserver=null),console.log("PerformanceMonitor stopped"))}recordMetric(e,t,i={}){const o=Date.now(),l={operation:e,duration:t,timestamp:o,metadata:{...i}};this.metrics.has(e)||this.metrics.set(e,[]);const d=this.metrics.get(e);return d.push(l),d.length>this.config.maxMetricsHistory&&d.shift(),this.checkPerformanceThresholds(e,t,i),l}startMeasurement(e){const t=performance.now(),i=this.getCurrentMemoryUsage();return(o={})=>{const d=performance.now()-t,p=this.getCurrentMemoryUsage(),m={...o,startMemory:i,endMemory:p,memoryDelta:p.usedJSHeapSize-i.usedJSHeapSize};return this.recordMetric(e,d,m)}}getMetrics(e=null){if(e){const i=this.metrics.get(e)||[];return this.calculateMetricsSummary(i,e)}const t={};for(const[i,o]of this.metrics)t[i]=this.calculateMetricsSummary(o,i);return{operations:t,memory:this.getMemoryMetrics(),system:this.getSystemMetrics()}}getCurrentMemoryUsage(){return"memory"in performance?{usedJSHeapSize:performance.memory.usedJSHeapSize,totalJSHeapSize:performance.memory.totalJSHeapSize,jsHeapSizeLimit:performance.memory.jsHeapSizeLimit,timestamp:Date.now()}:{usedJSHeapSize:0,totalJSHeapSize:0,jsHeapSizeLimit:0,timestamp:Date.now(),unavailable:!0}}shouldTriggerGC(){const e=this.getCurrentMemoryUsage();return e.unavailable?!1:e.usedJSHeapSize/e.jsHeapSizeLimit>this.config.performanceThresholds.gcTriggerThreshold}triggerGC(){if(window.gc&&typeof window.gc=="function")try{const e=this.getCurrentMemoryUsage();window.gc();const t=this.getCurrentMemoryUsage();return console.log("Manual GC triggered:",{before:this.formatBytes(e.usedJSHeapSize),after:this.formatBytes(t.usedJSHeapSize),freed:this.formatBytes(e.usedJSHeapSize-t.usedJSHeapSize)}),!0}catch(e){console.warn("Failed to trigger manual GC:",e)}return!1}getMemoryOptimizationRecommendations(){const e=[],t=this.getCurrentMemoryUsage();if(t.unavailable)return["Memory monitoring unavailable in this environment"];const i=t.usedJSHeapSize/t.jsHeapSizeLimit;if(i>.9?e.push("Critical: Memory usage above 90%. Consider clearing audio cache."):i>.8&&e.push("Warning: Memory usage above 80%. Monitor closely."),this.memorySnapshots.length>=10){const l=this.memorySnapshots.slice(-10);this.calculateMemoryTrend(l)>.1&&e.push("Potential memory leak detected. Consider restarting the application.")}const o=this.metrics.get("audio_processing")||[];return o.length>0&&o.reduce((d,p)=>d+(p.metadata.memoryDelta||0),0)/o.length>50*1024*1024&&e.push("Audio processing consuming significant memory. Consider optimizing buffer management."),e}getPerformanceOptimizationRecommendations(){const e=[],t=this.metrics.get("audio_download")||[];t.length>0&&t.reduce((l,d)=>l+d.duration,0)/t.length>this.config.performanceThresholds.audioDownload&&e.push("Audio downloads are slow. Check network connection or server performance.");const i=this.metrics.get("waveform_generation")||[];return i.length>0&&i.reduce((l,d)=>l+d.duration,0)/i.length>this.config.performanceThresholds.waveformGeneration&&e.push("Waveform generation is slow. Consider using Web Workers or reducing sample count."),e}startMemoryMonitoring(){this.memoryInterval=setInterval(()=>{const e=this.getCurrentMemoryUsage();this.memorySnapshots.push(e),this.memorySnapshots.length>this.config.maxMemorySnapshots&&this.memorySnapshots.shift(),this.shouldTriggerGC()&&this.triggerGC()},this.config.memorySnapshotInterval)}initializePerformanceObserver(){if("PerformanceObserver"in window)try{this.performanceObserver=new PerformanceObserver(e=>{const t=e.getEntries();for(const i of t)i.entryType==="measure"&&this.recordMetric(`browser_${i.name}`,i.duration,{entryType:i.entryType,startTime:i.startTime})}),this.performanceObserver.observe({entryTypes:["measure","navigation"]})}catch(e){console.warn("Failed to initialize PerformanceObserver:",e)}}checkPerformanceThresholds(e,t,i){const o=this.config.performanceThresholds[e];o&&t>o&&console.warn(`Performance threshold exceeded for ${e}:`,{duration:`${t}ms`,threshold:`${o}ms`,metadata:i})}calculateMetricsSummary(e,t){if(e.length===0)return{operation:t,count:0,avgDuration:0,minDuration:0,maxDuration:0,totalDuration:0};const i=e.map(l=>l.duration),o=i.reduce((l,d)=>l+d,0);return{operation:t,count:e.length,avgDuration:Math.round(o/e.length),minDuration:Math.min(...i),maxDuration:Math.max(...i),totalDuration:Math.round(o),recentMetrics:e.slice(-5)}}getMemoryMetrics(){if(this.memorySnapshots.length===0)return{unavailable:!0};const e=this.memorySnapshots[this.memorySnapshots.length-1],t=this.calculateMemoryTrend(this.memorySnapshots.slice(-10));return{current:{used:this.formatBytes(e.usedJSHeapSize),total:this.formatBytes(e.totalJSHeapSize),limit:this.formatBytes(e.jsHeapSizeLimit),usagePercent:Math.round(e.usedJSHeapSize/e.jsHeapSizeLimit*100)},trend:{direction:t>.05?"increasing":t<-.05?"decreasing":"stable",percentage:Math.round(t*100)},snapshots:this.memorySnapshots.length}}getSystemMetrics(){const e={timestamp:Date.now(),userAgent:navigator.userAgent,hardwareConcurrency:navigator.hardwareConcurrency||"unknown"};return"connection"in navigator&&(e.connection={effectiveType:navigator.connection.effectiveType,downlink:navigator.connection.downlink,rtt:navigator.connection.rtt}),e}calculateMemoryTrend(e){if(e.length<2)return 0;const t=e[0].usedJSHeapSize;return(e[e.length-1].usedJSHeapSize-t)/t}formatBytes(e){if(e===0)return"0 B";const t=1024,i=["B","KB","MB","GB"],o=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,o)).toFixed(2))+" "+i[o]}cleanup(){this.stopMonitoring(),this.metrics.clear(),this.memorySnapshots=[],console.log("PerformanceMonitor cleaned up")}}const Vr=new nG;Vr.startMonitoring();typeof window<"u"&&window.addEventListener("beforeunload",()=>{Vr.cleanup()});class iG{constructor(){this.audioBuffers=new Map,this.bufferMetadata=new Map,this.cleanupCallbacks=new Set,this.isMonitoring=!1,this.config={maxMemoryUsage:400*1024*1024,cleanupThreshold:.8,maxBufferAge:1800*1e3,maxBufferCount:20,gcInterval:6e4,memoryCheckInterval:1e4,priorityLevels:{HIGH:3,MEDIUM:2,LOW:1}},this.registerBuffer=this.registerBuffer.bind(this),this.unregisterBuffer=this.unregisterBuffer.bind(this),this.getBuffer=this.getBuffer.bind(this),this.cleanup=this.cleanup.bind(this),this.startMonitoring=this.startMonitoring.bind(this),this.stopMonitoring=this.stopMonitoring.bind(this)}startMonitoring(){this.isMonitoring||(this.isMonitoring=!0,this.gcInterval=setInterval(()=>{this.performGarbageCollection()},this.config.gcInterval),this.memoryCheckInterval=setInterval(()=>{this.checkMemoryUsage()},this.config.memoryCheckInterval),console.log("MemoryManager monitoring started"))}stopMonitoring(){this.isMonitoring&&(this.isMonitoring=!1,this.gcInterval&&(clearInterval(this.gcInterval),this.gcInterval=null),this.memoryCheckInterval&&(clearInterval(this.memoryCheckInterval),this.memoryCheckInterval=null),console.log("MemoryManager monitoring stopped"))}registerBuffer(e,t,i={}){try{if(!t||!e)throw new Error("Invalid buffer or ID provided");const o=this.calculateBufferSize(t);this.shouldTriggerCleanup(o)&&this.performEmergencyCleanup(o);const l={id:e,size:o,createdAt:Date.now(),lastAccessed:Date.now(),accessCount:0,priority:i.priority||this.config.priorityLevels.MEDIUM,persistent:i.persistent||!1,tags:i.tags||[],source:i.source||"unknown"};return this.audioBuffers.set(e,t),this.bufferMetadata.set(e,l),console.log(`Registered audio buffer: ${e} (${this.formatBytes(o)})`),!0}catch(o){return console.error("Failed to register audio buffer:",o),!1}}unregisterBuffer(e){try{const t=this.bufferMetadata.get(e);if(t){for(const i of this.cleanupCallbacks)try{i(e,t)}catch(o){console.warn("Cleanup callback failed:",o)}console.log(`Unregistered audio buffer: ${e} (${this.formatBytes(t.size)})`)}return this.audioBuffers.delete(e),this.bufferMetadata.delete(e),!0}catch(t){return console.error("Failed to unregister audio buffer:",t),!1}}getBuffer(e){const t=this.audioBuffers.get(e);if(t){const i=this.bufferMetadata.get(e);i&&(i.lastAccessed=Date.now(),i.accessCount++)}return t||null}hasBuffer(e){return this.audioBuffers.has(e)}getBufferMetadata(e){return this.bufferMetadata.get(e)||null}updateBufferPriority(e,t){const i=this.bufferMetadata.get(e);i&&(i.priority=t)}addCleanupCallback(e){this.cleanupCallbacks.add(e)}removeCleanupCallback(e){this.cleanupCallbacks.delete(e)}getMemoryStats(){let e=0,t=null,i=null;const o={HIGH:0,MEDIUM:0,LOW:0};for(const[d,p]of this.bufferMetadata){e+=p.size,(!t||p.createdAt<t.createdAt)&&(t=p),(!i||p.createdAt>i.createdAt)&&(i=p);const m=Object.keys(this.config.priorityLevels).find(v=>this.config.priorityLevels[v]===p.priority)||"UNKNOWN";o[m]=(o[m]||0)+1}const l=Vr.getCurrentMemoryUsage();return{audioBuffers:{count:this.audioBuffers.size,totalSize:e,totalSizeMB:Math.round(e/(1024*1024)*100)/100,maxSize:this.config.maxMemoryUsage,maxSizeMB:Math.round(this.config.maxMemoryUsage/(1024*1024)),usagePercent:Math.round(e/this.config.maxMemoryUsage*100),oldestBuffer:t?{id:t.id,age:Date.now()-t.createdAt,size:this.formatBytes(t.size)}:null,newestBuffer:i?{id:i.id,age:Date.now()-i.createdAt,size:this.formatBytes(i.size)}:null,byPriority:o},system:{jsHeapUsed:l.usedJSHeapSize,jsHeapTotal:l.totalJSHeapSize,jsHeapLimit:l.jsHeapSizeLimit,jsHeapUsedMB:Math.round(l.usedJSHeapSize/(1024*1024)*100)/100},recommendations:this.getMemoryRecommendations()}}listBuffers(){const e=[];for(const[t,i]of this.bufferMetadata)e.push({id:t,size:this.formatBytes(i.size),age:Date.now()-i.createdAt,lastAccessed:Date.now()-i.lastAccessed,accessCount:i.accessCount,priority:i.priority,persistent:i.persistent,tags:i.tags,source:i.source});return e.sort((t,i)=>i.lastAccessed-t.lastAccessed)}performGarbageCollection(){const e=Vr.startMeasurement("memory_gc");try{let t=0,i=0;const o=Date.now(),l=Array.from(this.bufferMetadata.entries()).map(([d,p])=>({id:d,...p})).sort(this.getCleanupPriority.bind(this));for(const d of l){let p=!1;const m=o-d.createdAt;!d.persistent&&m>this.config.maxBufferAge&&(p=!0),this.audioBuffers.size>this.config.maxBufferCount&&(p=!0),p&&(i+=d.size,this.unregisterBuffer(d.id),t++)}t>0&&console.log(`GC cleaned up ${t} buffers, freed ${this.formatBytes(i)}`),e({cleanedCount:t,freedBytes:i})}catch(t){console.error("Garbage collection failed:",t),e({error:t.message})}}performEmergencyCleanup(e=0){console.log("Performing emergency memory cleanup...");const t=Vr.startMeasurement("emergency_cleanup");try{let i=0,o=0;const l=Array.from(this.bufferMetadata.entries()).map(([d,p])=>({id:d,...p})).sort(this.getCleanupPriority.bind(this)).reverse();for(const d of l){if(d.persistent)continue;if(i+=d.size,this.unregisterBuffer(d.id),o++,e>0&&i>=e||this.getCurrentMemoryUsage()<this.config.maxMemoryUsage*this.config.cleanupThreshold)break}console.log(`Emergency cleanup freed ${this.formatBytes(i)} from ${o} buffers`),t({cleanedCount:o,freedBytes:i,requiredBytes:e})}catch(i){console.error("Emergency cleanup failed:",i),t({error:i.message})}}checkMemoryUsage(){const e=this.getCurrentMemoryUsage(),t=this.config.maxMemoryUsage*this.config.cleanupThreshold;e>t&&(console.log(`Memory usage (${this.formatBytes(e)}) exceeds threshold, triggering cleanup...`),this.performGarbageCollection())}calculateBufferSize(e){return e.numberOfChannels*e.length*4}getCurrentMemoryUsage(){let e=0;for(const t of this.bufferMetadata.values())e+=t.size;return e}shouldTriggerCleanup(e=0){const i=this.getCurrentMemoryUsage()+e,o=this.config.maxMemoryUsage*this.config.cleanupThreshold;return i>o||this.audioBuffers.size>=this.config.maxBufferCount}getCleanupPriority(e,t){return e.priority!==t.priority?t.priority-e.priority:e.persistent!==t.persistent?t.persistent-e.persistent:e.lastAccessed!==t.lastAccessed?t.lastAccessed-e.lastAccessed:e.accessCount!==t.accessCount?t.accessCount-e.accessCount:t.createdAt-e.createdAt}getMemoryRecommendations(){const e=[];let t=0,i=null;for(const[l,d]of this.bufferMetadata)t+=d.size,(!i||d.createdAt<i.createdAt)&&(i=d);const o=Math.round(t/this.config.maxMemoryUsage*100);return o>90?e.push("Critical: Audio buffer memory usage above 90%. Consider clearing unused buffers."):o>80&&e.push("Warning: Audio buffer memory usage above 80%. Monitor closely."),this.audioBuffers.size>this.config.maxBufferCount*.8&&e.push("High buffer count detected. Consider implementing more aggressive cleanup."),i&&Date.now()-i.createdAt>this.config.maxBufferAge&&e.push("Old audio buffers detected. Consider manual cleanup."),e}formatBytes(e){if(e===0)return"0 B";const t=1024,i=["B","KB","MB","GB"],o=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,o)).toFixed(2))+" "+i[o]}cleanup(){this.stopMonitoring();for(const[e,t]of this.bufferMetadata)for(const i of this.cleanupCallbacks)try{i(e,t)}catch(o){console.warn("Cleanup callback failed:",o)}this.audioBuffers.clear(),this.bufferMetadata.clear(),this.cleanupCallbacks.clear(),console.log("MemoryManager cleaned up")}}const pa=new iG;pa.startMonitoring();typeof window<"u"&&window.addEventListener("beforeunload",()=>{pa.cleanup()});class rG{constructor(){this.audioContext=null,this.masterGainNode=null,this.activeSources=new Map,this.audioBuffer=null,this.storageManager=uy,this.isInitialized=!1,this.masterVolume=1,this.initializeAudioContext=this.initializeAudioContext.bind(this),this.cleanup=this.cleanup.bind(this)}async initializeAudioContext(){try{return(!this.audioContext||this.audioContext.state==="closed")&&(this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.masterGainNode=this.audioContext.createGain(),this.masterGainNode.connect(this.audioContext.destination),this.masterGainNode.gain.value=this.masterVolume),this.audioContext.state==="suspended"&&await this.audioContext.resume(),this.isInitialized=!0,!0}catch(e){throw console.error("Failed to initialize AudioContext:",e),new Error(`AudioContext initialization failed: ${e.message}`)}}async loadAudioBuffer(e,t=null){try{await this.initializeAudioContext();let i=t;if(!i){const o=await this.storageManager.getAudioData(e);if(!o||!o.audioBuffer)throw new Error(`No audio buffer found for ID: ${e}`);i=o.audioBuffer}return this.audioBuffer=await this.audioContext.decodeAudioData(i.slice()),this.audioBuffer}catch(i){throw console.error("Failed to load audio buffer:",i),new Error(`Audio buffer loading failed: ${i.message}`)}}async playSample(e,t=null,i=null,o=null){const l=Vr.startMeasurement("sample_playback");try{if(!this.audioBuffer)throw new Error("No audio buffer loaded");await this.initializeAudioContext();const d=o||`sample_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;if(e<0||e>=this.audioBuffer.duration)throw new Error(`Invalid start time: ${e}. Must be between 0 and ${this.audioBuffer.duration}`);const p=this.audioBuffer.duration-e,m=t?Math.min(t,p):p,v=this.audioContext.createBufferSource();v.buffer=this.audioBuffer;const w=this.audioContext.createGain(),T=i!==null?i:this.masterVolume;w.gain.value=T,v.connect(w),w.connect(this.masterGainNode),this.activeSources.set(d,{source:v,gainNode:w,startTime:e,duration:m,startedAt:this.audioContext.currentTime}),v.onended=()=>{this.activeSources.delete(d)};const C=this.audioContext.currentTime;v.start(C,e,m);const N={id:d,startTime:e,duration:m,volume:T};return l({success:!0,sampleId:d,startTime:e,duration:m,activeSamples:this.activeSources.size}),N}catch(d){throw l({error:d.message,startTime:e,duration:t}),console.error("Failed to play sample:",d),new Error(`Sample playback failed: ${d.message}`)}}stopSample(e){try{const t=this.activeSources.get(e);return t?(t.source.stop(),this.activeSources.delete(e),!0):!1}catch(t){return console.error("Failed to stop sample:",t),!1}}stopAllSamples(){try{for(const[e,t]of this.activeSources)try{t.source.stop()}catch(i){console.warn(`Failed to stop sample ${e}:`,i)}this.activeSources.clear()}catch(e){console.error("Failed to stop all samples:",e)}}setMasterVolume(e){try{this.masterVolume=Math.max(0,Math.min(1,e)),this.masterGainNode&&(this.masterGainNode.gain.value=this.masterVolume)}catch(t){console.error("Failed to set master volume:",t)}}setSampleVolume(e,t){try{const i=this.activeSources.get(e);if(i){const o=Math.max(0,Math.min(1,t));return i.gainNode.gain.value=o,!0}return!1}catch(i){return console.error("Failed to set sample volume:",i),!1}}getActiveSamples(){const e=[],t=this.audioContext?this.audioContext.currentTime:0;for(const[i,o]of this.activeSources){const l=t-o.startedAt,d=Math.max(0,o.duration-l);e.push({id:i,startTime:o.startTime,duration:o.duration,elapsed:l,remaining:d,volume:o.gainNode.gain.value})}return e}async jumpToTimestamp(e,t=!0){const i=Vr.startMeasurement("timestamp_jump");try{if(!this.audioBuffer)throw new Error("No audio buffer loaded");if(e<0||e>=this.audioBuffer.duration)throw new Error(`Invalid timestamp: ${e}. Must be between 0 and ${this.audioBuffer.duration}`);const o=this.activeSources.size;this.stopAllSamples();let l;return t?l=await this.playSample(e):l={timestamp:e,playing:!1},i({success:!0,newTimestamp:e,maintainPlayback:t,previousSampleCount:o,newSampleId:l.id||null}),l}catch(o){throw i({error:o.message,newTimestamp:e,maintainPlayback:t}),console.error("Failed to jump to timestamp:",o),new Error(`Timestamp jump failed: ${o.message}`)}}getStatus(){return{isInitialized:this.isInitialized,audioContextState:this.audioContext?this.audioContext.state:"not-created",hasAudioBuffer:!!this.audioBuffer,audioBufferDuration:this.audioBuffer?this.audioBuffer.duration:0,activeSamplesCount:this.activeSources.size,masterVolume:this.masterVolume}}async cleanup(){try{this.stopAllSamples(),this.audioContext&&this.audioContext.state!=="closed"&&await this.audioContext.close(),this.audioContext=null,this.masterGainNode=null,this.audioBuffer=null,this.isInitialized=!1,this.activeSources.clear()}catch(e){console.error("Failed to cleanup SamplePlaybackEngine:",e)}}}function sG({youtubeUrl:n,setPlayerState:e,volume:t,onPlayerReady:i,audioBuffer:o,onSyncError:l}){const[d,p]=R.useState(""),[m,v]=R.useState(null),[w,T]=R.useState(!1),C=R.useRef(null),N=R.useRef(null),[O,I]=R.useState(!1),[k,D]=R.useState(null),z=R.useRef(0),K=R.useRef(!1);R.useEffect(()=>{const B=n.match(/(?:v=)([^&?]+)/)||n.match(/(?:youtu.be\/)([^&?]+)/),$=B?B[1]:"";p($)},[n]),R.useEffect(()=>{(async()=>{try{N.current||(N.current=new rG),o?(console.log("Loading audio buffer into VideoPlayer SamplePlaybackEngine..."),await N.current.loadAudioBuffer("video-sync",o),I(!0),D(null),console.log("VideoPlayer SamplePlaybackEngine ready for synchronization")):I(!1)}catch($){console.error("Failed to initialize VideoPlayer SamplePlaybackEngine:",$),D(`Engine initialization failed: ${$.message}`),I(!1),l?.($)}})()},[o,l]),R.useEffect(()=>{if(window.YT&&window.YT.Player){T(!0);return}if(!window.onYouTubeIframeAPIReady){const B=document.createElement("script");B.src="https://www.youtube.com/iframe_api";const $=document.getElementsByTagName("script")[0];$.parentNode.insertBefore(B,$),window.onYouTubeIframeAPIReady=()=>{T(!0)}}},[]),R.useEffect(()=>{if(!w||!d)return;const B=new window.YT.Player("youtube-player",{height:"100%",width:"100%",videoId:d,playerVars:{autoplay:0,controls:1,modestbranding:1,rel:0,enablejsapi:1},events:{onReady:$=>{v($.target);const H=$.target.getDuration();e(L=>({...L,duration:H}));const G={...$.target,syncToTimestamp:Z,handleSampleTriggered:U,getSyncStatus:V,sampleEngine:N.current};i?.(G)},onStateChange:$=>{const H=$.data===window.YT.PlayerState.PLAYING;e(G=>({...G,isPlaying:H})),H?W():Y()}}});return()=>{B&&B.destroy&&B.destroy(),Y()}},[w,d,e,i]),R.useEffect(()=>()=>{N.current&&N.current.cleanup().catch(B=>{console.error("Failed to cleanup VideoPlayer SamplePlaybackEngine:",B)})},[d]);const W=()=>{C.current&&clearInterval(C.current),C.current=setInterval(()=>{if(m&&m.getCurrentTime){const B=m.getCurrentTime();if(e($=>({...$,currentTime:B})),O&&N.current)try{const $=N.current.getActiveSamples()}catch($){console.warn("Error checking audio sync:",$)}}},100)},Y=()=>{C.current&&(clearInterval(C.current),C.current=null)},Z=R.useCallback(async(B,$=!0)=>{try{if(!m||!O||!N.current)throw new Error("Video player or audio engine not ready for synchronization");if(K.current)return;K.current=!0,z.current=B;const H=m.getPlayerState()===window.YT.PlayerState.PLAYING;m.seekTo(B,!0),$&&H?await N.current.jumpToTimestamp(B,!0):await N.current.jumpToTimestamp(B,!1),e(G=>({...G,currentTime:B,isPlaying:$&&H})),D(null),console.log(`Video-audio sync completed at timestamp: ${B}`)}catch(H){console.error("Video-audio synchronization failed:",H),D(`Sync failed: ${H.message}`),l?.(H)}finally{K.current=!1}},[m,O,e,l]),U=R.useCallback(async B=>{try{if(!O||!N.current)throw new Error("Audio engine not ready for sample playback");const $=m?.getCurrentTime()||0;Math.abs($-B)>.5&&await Z(B,!0),await N.current.playSample(B),console.log(`Sample triggered at timestamp: ${B}`)}catch($){console.error("Failed to handle sample trigger:",$),D(`Sample trigger failed: ${$.message}`),l?.($)}},[m,O,Z,l]),V=R.useCallback(()=>({isEngineReady:O,hasAudioBuffer:!!o,syncError:k,lastSeekTime:z.current,isSyncing:K.current,engineStatus:N.current?.getStatus()||null}),[O,o,k]);return R.useEffect(()=>{m&&m.setVolume&&m.setVolume(t*100)},[m,t]),_.jsx(vn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"aspect-video w-full bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl shadow-lg overflow-hidden relative",children:d?_.jsxs(_.Fragment,{children:[_.jsx("div",{id:"youtube-player",className:"w-full h-full"}),o&&_.jsxs("div",{className:"absolute top-2 right-2 flex items-center space-x-2",children:[_.jsx("div",{className:`w-2 h-2 rounded-full ${O?"bg-green-400":"bg-yellow-400"}`,title:O?"Audio sync ready":"Audio sync initializing"}),k&&_.jsx("div",{className:"bg-red-500/80 text-white text-xs px-2 py-1 rounded",title:k,children:"Sync Error"})]})]}):_.jsx("div",{className:"w-full h-full flex items-center justify-center",children:_.jsx("p",{className:"text-white/50",children:"Enter a YouTube URL to get started"})})})}const cd=R.forwardRef(({className:n,type:e,...t},i)=>_.jsx("input",{type:e,className:oi("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:i,...t}));cd.displayName="Input";class oG{constructor(){this.retryAttempts=new Map,this.errorHistory=[],this.config={maxRetries:3,baseRetryDelay:1e3,maxRetryDelay:1e4,transientErrorPatterns:[/network/i,/timeout/i,/fetch/i,/connection/i,/temporary/i,/rate.?limit/i,/service.?unavailable/i,/internal.?server/i,/502|503|504/],permanentErrorPatterns:[/not.?found/i,/unauthorized/i,/forbidden/i,/invalid.?url/i,/malformed/i,/unsupported/i,/private/i,/deleted/i,/restricted/i]},this.shouldRetry=this.shouldRetry.bind(this),this.executeWithRetry=this.executeWithRetry.bind(this),this.classifyError=this.classifyError.bind(this)}classifyError(e){const t=e?.message||"",i=e?.stack||"",o=`${t} ${i}`.toLowerCase();return this.config.permanentErrorPatterns.some(p=>p.test(o))?{type:"permanent",category:this.getErrorCategory(o),retryable:!1,userActionRequired:!0,severity:"error"}:this.config.transientErrorPatterns.some(p=>p.test(o))?{type:"transient",category:this.getErrorCategory(o),retryable:!0,userActionRequired:!1,severity:"warning"}:{type:"unknown",category:"system",retryable:!0,userActionRequired:!1,severity:"error"}}getErrorCategory(e){return/network|connection|fetch|cors/i.test(e)?"network":/audio|decode|buffer|context/i.test(e)?"audio":/video|youtube|player|embed/i.test(e)?"video":/timeout|slow|delay/i.test(e)?"timeout":/quota|limit|rate/i.test(e)?"quota":/storage|cache|memory/i.test(e)?"storage":/permission|unauthorized|forbidden/i.test(e)?"permission":"system"}shouldRetry(e,t){return this.classifyError(e).retryable?(this.retryAttempts.get(t)||0)<this.config.maxRetries:!1}calculateRetryDelay(e){const t=Math.min(this.config.baseRetryDelay*Math.pow(2,e),this.config.maxRetryDelay),i=Math.random()*.3*t;return Math.floor(t+i)}async executeWithRetry(e,t,i={}){const{onProgress:o=null,onRetry:l=null,maxRetries:d=this.config.maxRetries,context:p={}}=i;let m=null;const v=Date.now();this.retryAttempts.set(t,0);for(let C=0;C<=d;C++)try{o&&o({status:C===0?"starting":"retrying",attempt:C+1,maxAttempts:d+1,operationId:t,context:p});const N=await e();return this.retryAttempts.delete(t),this.recordSuccess(t,C,Date.now()-v),N}catch(N){m=N;const O=this.classifyError(N);if(this.recordError(t,N,C,O),C>=d||!O.retryable)break;const I=this.calculateRetryDelay(C);this.retryAttempts.set(t,C+1),l&&l({error:N,attempt:C+1,maxAttempts:d+1,delay:I,classification:O,operationId:t}),o&&o({status:"waiting_retry",attempt:C+1,maxAttempts:d+1,delay:I,error:N.message,operationId:t,context:p}),await this.sleep(I)}this.retryAttempts.delete(t);const w=this.classifyError(m),T=new Error(m.message);throw T.originalError=m,T.classification=w,T.attempts=d+1,T.operationId=t,T}recordError(e,t,i,o){const l={timestamp:Date.now(),operationId:e,error:{message:t.message,stack:t.stack,name:t.name},attempt:i,classification:o};this.errorHistory.push(l),this.errorHistory.length>100&&this.errorHistory.shift(),console.warn(`Error in operation ${e} (attempt ${i+1}):`,{error:t.message,classification:o,stack:t.stack})}recordSuccess(e,t,i){console.log(`Operation ${e} succeeded after ${t+1} attempts in ${i}ms`)}getErrorStats(){const e=Date.now(),t=this.errorHistory.filter(l=>e-l.timestamp<3e5),i={},o={};return t.forEach(l=>{const d=l.classification.category,p=l.classification.type;i[d]=(i[d]||0)+1,o[p]=(o[p]||0)+1}),{totalErrors:this.errorHistory.length,recentErrors:t.length,activeRetries:this.retryAttempts.size,errorsByCategory:i,errorsByType:o,lastError:this.errorHistory[this.errorHistory.length-1]||null}}getUserFriendlyError(e){const t=e.classification||this.classifyError(e),i={network:{title:"Connection Problem",message:"Unable to connect to the service. Please check your internet connection.",suggestions:["Check your internet connection","Try refreshing the page","Wait a moment and try again"]},audio:{title:"Audio Processing Error",message:"Unable to process the audio from this video.",suggestions:["Try a different YouTube video","Check if the video has audio","Ensure your browser supports audio playback"]},video:{title:"Video Player Error",message:"Unable to load or play the video.",suggestions:["Check if the YouTube URL is valid","Ensure the video is public","Try refreshing the page"]},timeout:{title:"Request Timeout",message:"The operation is taking too long to complete.",suggestions:["Check your internet speed","Try a shorter video","Wait and try again later"]},quota:{title:"Service Limit Reached",message:"The service has reached its usage limit.",suggestions:["Wait a few minutes and try again","Try during off-peak hours","Contact support if this persists"]},storage:{title:"Storage Error",message:"Unable to store or retrieve data locally.",suggestions:["Clear your browser cache","Free up storage space","Try using a private/incognito window"]},permission:{title:"Permission Error",message:"Access to the requested resource is denied.",suggestions:["Check if the video is public","Try a different video","Contact the video owner if needed"]},system:{title:"System Error",message:"An unexpected error occurred.",suggestions:["Try refreshing the page","Clear your browser cache","Try a different browser if the issue persists"]}};return{...i[t.category]||i.system,classification:t,canRetry:t.retryable&&!e.attempts,technical:null}}sleep(e){return new Promise(t=>setTimeout(t,e))}reset(){this.errorHistory.length=0,this.retryAttempts.clear(),console.log("ErrorRecoveryService reset")}cleanup(){this.reset()}}const Fp=new oG;class aG{constructor(){this.workers=[],this.maxWorkers=Math.min(navigator.hardwareConcurrency||4,4),this.workerPool=[],this.activeJobs=new Map,this.cache=new Map,this.config={defaultSamples:400,maxSamples:2e3,chunkSize:1024*1024,useWebWorkers:!0,enableCaching:!0,progressiveRendering:!0,memoryThreshold:100*1024*1024},this.generateWaveform=this.generateWaveform.bind(this),this.generateProgressiveWaveform=this.generateProgressiveWaveform.bind(this),this.cleanup=this.cleanup.bind(this)}async generateWaveform(e,t={}){const i=Vr.startMeasurement("waveform_generation");try{const o={samples:Math.min(t.samples||this.config.defaultSamples,this.config.maxSamples),channel:t.channel||0,normalize:t.normalize!==!1,progressive:t.progressive||!1,onProgress:t.onProgress||null},l=this.generateCacheKey(e,o);if(this.config.enableCaching&&this.cache.has(l)){const v=this.cache.get(l);return o.onProgress&&o.onProgress({progress:100,status:"cached"}),i({cached:!0,samples:o.samples}),v}const d=this.estimateAudioSize(e),p=this.config.useWebWorkers&&d>this.config.memoryThreshold;let m;return p&&this.supportsWebWorkers()?m=await this.generateWithWebWorkers(e,o):o.progressive&&d>this.config.memoryThreshold?m=await this.generateProgressiveWaveform(e,o):m=await this.generateSynchronous(e,o),this.config.enableCaching&&(this.cache.set(l,m),this.manageCacheSize()),i({samples:o.samples,audioSize:d,useWorkers:p,progressive:o.progressive}),m}catch(o){throw i({error:o.message}),new Error(`Waveform generation failed: ${o.message}`)}}async generateProgressiveWaveform(e,t){const i=e.getChannelData(t.channel),o=i.length,l=Math.floor(o/t.samples),d=Math.min(this.config.chunkSize,Math.floor(o/10)),p=new Float32Array(t.samples);let m=0;for(let w=0;w<o;w+=d){const C=Math.min(w+d,o)-w;if(await this.processChunk(i,w,C,l,p,t.samples),m+=C,t.onProgress){const N=Math.round(m/o*100);t.onProgress({progress:N,status:"processing",processedSamples:m,totalSamples:o})}await this.yieldControl()}let v=Array.from(p);return t.normalize&&(v=this.normalizeWaveform(v)),{data:v,samples:t.samples,duration:e.duration,sampleRate:e.sampleRate,channels:e.numberOfChannels,progressive:!0}}async generateWithWebWorkers(e,t){return new Promise((i,o)=>{const l=this.getWorker(),d=`waveform_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;this.activeJobs.set(d,{worker:l,resolve:i,reject:o});const p=v=>{const{type:w,jobId:T,data:C,error:N}=v.data;T===d&&(w==="progress"&&t.onProgress?t.onProgress(C):w==="complete"?(l.removeEventListener("message",p),this.releaseWorker(l),this.activeJobs.delete(d),i(C)):w==="error"&&(l.removeEventListener("message",p),this.releaseWorker(l),this.activeJobs.delete(d),o(new Error(N))))};l.addEventListener("message",p);const m=e.getChannelData(t.channel);l.postMessage({type:"generateWaveform",jobId:d,audioData:m.buffer.slice(),config:{samples:t.samples,normalize:t.normalize,sampleRate:e.sampleRate,duration:e.duration,channels:e.numberOfChannels}}),setTimeout(()=>{this.activeJobs.has(d)&&(l.removeEventListener("message",p),this.releaseWorker(l),this.activeJobs.delete(d),o(new Error("Waveform generation timeout")))},3e4)})}async generateSynchronous(e,t){const i=e.getChannelData(t.channel),o=Math.floor(i.length/t.samples),l=[];for(let p=0;p<t.samples;p++){const m=o*p,v=Math.min(m+o,i.length);let w=0,T=0;for(let N=m;N<v;N++){const O=i[N];w+=O*O,T++}const C=T>0?Math.sqrt(w/T):0;if(l.push(C),t.onProgress&&p%50===0){const N=Math.round(p/t.samples*100);t.onProgress({progress:N,status:"processing"})}p%100===0&&await this.yieldControl()}return{data:t.normalize?this.normalizeWaveform(l):l,samples:t.samples,duration:e.duration,sampleRate:e.sampleRate,channels:e.numberOfChannels,progressive:!1}}async processChunk(e,t,i,o,l,d){const p=Math.floor(i/e.length*d),m=Math.floor(t/e.length*d);for(let v=0;v<p;v++){const w=m+v;if(w>=d)break;const T=Math.floor(w/d*e.length),C=Math.min(T+o,e.length);let N=0,O=0;for(let k=T;k<C;k++){const D=e[k];N+=D*D,O++}const I=O>0?Math.sqrt(N/O):0;l[w]=I}}normalizeWaveform(e){const t=Math.max(...e);if(t===0)return e;const i=1/t;return e.map(o=>o*i)}getWorker(){if(this.workerPool.length>0)return this.workerPool.pop();if(this.workers.length<this.maxWorkers){const e=this.createWorker();return this.workers.push(e),e}return new Promise(e=>{const t=()=>{this.workerPool.length>0?e(this.workerPool.pop()):setTimeout(t,100)};t()})}releaseWorker(e){this.workerPool.push(e)}createWorker(){const e=`
      self.addEventListener('message', function(event) {
        const { type, jobId, audioData, config } = event.data;
        
        if (type === 'generateWaveform') {
          try {
            const channelData = new Float32Array(audioData);
            const blockSize = Math.floor(channelData.length / config.samples);
            const waveformData = [];
            
            for (let i = 0; i < config.samples; i++) {
              const blockStart = blockSize * i;
              const blockEnd = Math.min(blockStart + blockSize, channelData.length);
              
              let sum = 0;
              let count = 0;
              
              for (let j = blockStart; j < blockEnd; j++) {
                const sample = channelData[j];
                sum += sample * sample;
                count++;
              }
              
              const rms = count > 0 ? Math.sqrt(sum / count) : 0;
              waveformData.push(rms);
              
              // Report progress every 10%
              if (i % Math.floor(config.samples / 10) === 0) {
                self.postMessage({
                  type: 'progress',
                  jobId,
                  data: {
                    progress: Math.round((i / config.samples) * 100),
                    status: 'processing'
                  }
                });
              }
            }
            
            // Normalize if requested
            let finalData = waveformData;
            if (config.normalize) {
              const maxValue = Math.max(...waveformData);
              if (maxValue > 0) {
                const multiplier = 1 / maxValue;
                finalData = waveformData.map(value => value * multiplier);
              }
            }
            
            self.postMessage({
              type: 'complete',
              jobId,
              data: {
                data: finalData,
                samples: config.samples,
                duration: config.duration,
                sampleRate: config.sampleRate,
                channels: config.channels,
                progressive: false
              }
            });
            
          } catch (error) {
            self.postMessage({
              type: 'error',
              jobId,
              error: error.message
            });
          }
        }
      });
    `,t=new Blob([e],{type:"application/javascript"});return new Worker(URL.createObjectURL(t))}supportsWebWorkers(){return typeof Worker<"u"}estimateAudioSize(e){return e.numberOfChannels*e.length*4}generateCacheKey(e,t){const i=`${e.duration}_${e.sampleRate}_${e.numberOfChannels}`,o=`${t.samples}_${t.channel}_${t.normalize}`;return`${i}_${o}`}manageCacheSize(){if(this.cache.size>10){const t=Array.from(this.cache.entries()),i=t.slice(0,t.length-10);for(const[o]of i)this.cache.delete(o)}}async yieldControl(){return new Promise(e=>setTimeout(e,0))}getStats(){return{activeWorkers:this.workers.length,availableWorkers:this.workerPool.length,activeJobs:this.activeJobs.size,cacheSize:this.cache.size,maxWorkers:this.maxWorkers,supportsWebWorkers:this.supportsWebWorkers()}}clearCache(){this.cache.clear(),console.log("Waveform cache cleared")}cleanup(){for(const e of this.workers)e.terminate();this.workers=[],this.workerPool=[],this.activeJobs.clear(),this.cache.clear(),console.log("OptimizedWaveformGenerator cleaned up")}}const dy=new aG;typeof window<"u"&&window.addEventListener("beforeunload",()=>{dy.cleanup()});class lG{constructor(){this.audioContext=null,this.supportedFormats=["audio/mpeg","audio/mp3","audio/wav","audio/wave","audio/ogg","audio/webm","audio/mp4","audio/m4a","audio/flac"],this.processFile=this.processFile.bind(this),this.processURL=this.processURL.bind(this),this.cleanup=this.cleanup.bind(this)}async processFile(e,t=null){const i=Vr.startMeasurement("audio_file_processing");try{this.validateFile(e),t&&t({status:"reading",progress:10});const o=await this.readFileAsArrayBuffer(e);t&&t({status:"decoding",progress:30}),this.audioContext=new(window.AudioContext||window.webkitAudioContext);const l=await this.audioContext.decodeAudioData(o);t&&t({status:"generating_waveform",progress:70});const d=await dy.generateWaveform(l,{samples:400,normalize:!0,onProgress:v=>{if(t){const w=70+v.progress*.25;t({status:"generating_waveform",progress:Math.round(w)})}}}),p=`uploaded_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;pa.registerBuffer(p,l,{priority:pa.config.priorityLevels.HIGH,tags:["uploaded","user_file"],source:"file_upload"});const m={audioBuffer:l,waveformData:d.data,metadata:{filename:e.name,size:e.size,type:e.type,duration:l.duration,sampleRate:l.sampleRate,channels:l.numberOfChannels,bufferId:p}};return t&&t({status:"complete",progress:100}),i({success:!0,filename:e.name,duration:l.duration,size:e.size}),m}catch(o){throw i({error:o.message,filename:e?.name}),console.error("Audio file processing failed:",o),new Error(`File processing failed: ${o.message}`)}}async processURL(e,t=null){const i=Vr.startMeasurement("audio_url_processing");try{t&&t({status:"downloading",progress:10});const o=await fetch(e);if(!o.ok)throw new Error(`Failed to fetch audio: ${o.status}`);const l=await o.arrayBuffer();t&&t({status:"decoding",progress:50}),this.audioContext=new(window.AudioContext||window.webkitAudioContext);const d=await this.audioContext.decodeAudioData(l);t&&t({status:"generating_waveform",progress:80});const p=await dy.generateWaveform(d,{samples:400,normalize:!0}),m=`url_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;pa.registerBuffer(m,d,{priority:pa.config.priorityLevels.MEDIUM,tags:["url","remote"],source:"url_download"});const v={audioBuffer:d,waveformData:p.data,metadata:{url:e,duration:d.duration,sampleRate:d.sampleRate,channels:d.numberOfChannels,bufferId:m}};return t&&t({status:"complete",progress:100}),i({success:!0,url:e,duration:d.duration}),v}catch(o){throw i({error:o.message,url:e}),console.error("Audio URL processing failed:",o),new Error(`URL processing failed: ${o.message}`)}}validateFile(e){if(!e)throw new Error("No file provided");if(!this.supportedFormats.includes(e.type))throw new Error(`Unsupported file type: ${e.type}. Supported formats: ${this.supportedFormats.join(", ")}`);const t=100*1024*1024;if(e.size>t)throw new Error(`File too large: ${Math.round(e.size/1024/1024)}MB. Maximum size: 100MB`)}readFileAsArrayBuffer(e){return new Promise((t,i)=>{const o=new FileReader;o.onload=()=>t(o.result),o.onerror=()=>i(new Error("Failed to read file")),o.readAsArrayBuffer(e)})}getSupportedFormats(){return[...this.supportedFormats]}isFormatSupported(e){return this.supportedFormats.includes(e)}cleanup(){this.audioContext&&this.audioContext.state!=="closed"&&(this.audioContext.close(),this.audioContext=null),console.log("AudioFileProcessor cleaned up")}}const DA=new lG;class cG{constructor(){this.audioContext=null,this.downloadCache=new Map,this.progressCallbacks=new Map,this.abortControllers=new Map,this.config={maxRetries:3,baseRetryDelay:1e3,maxRetryDelay:1e4,downloadTimeout:6e4,functionUrl:"https://us-central1-chop-stop.cloudfunctions.net/getAudioStream"},this.downloadAndProcessAudio=this.downloadAndProcessAudio.bind(this),this.getAudioBuffer=this.getAudioBuffer.bind(this),this.clearCache=this.clearCache.bind(this),this.cleanup=this.cleanup.bind(this)}getAudioContext(){return(!this.audioContext||this.audioContext.state==="closed")&&(this.audioContext=new(window.AudioContext||window.webkitAudioContext)),this.audioContext.state==="suspended"&&this.audioContext.resume().catch(e=>{console.warn("Failed to resume AudioContext:",e)}),this.audioContext}async downloadAndProcessAudio(e,t=null){if(e instanceof File)return await this.processAudioFile(e,t);if(typeof e=="string"){if(this.isDirectAudioURL(e))return await this.processDirectAudioURL(e,t);if(this.isYouTubeURL(e))return await this.processYouTubeURL(e,t);throw new Error("Unsupported URL format")}else throw new Error("Invalid source type")}async processAudioFile(e,t=null){const i=Vr.startMeasurement("audio_file_upload");try{const o=await DA.processFile(e,t);return i({success:!0,filename:e.name}),o}catch(o){throw i({error:o.message}),o}}async processDirectAudioURL(e,t=null){const i=Vr.startMeasurement("direct_audio_url");try{const o=await DA.processURL(e,t);return i({success:!0,url:e}),o}catch(o){throw i({error:o.message}),o}}async processYouTubeURL(e,t=null){const i=Vr.startMeasurement("audio_download");if(!e)throw new Error("YouTube URL is required");const o=this.getCacheKey(e);if(this.downloadCache.has(o)){const d=this.downloadCache.get(o);return t&&t({status:"ready",progress:100}),i({cached:!0,cacheKey:o}),d}t&&this.progressCallbacks.set(o,t);const l=`audio_download_${o}`;try{const d=await Fp.executeWithRetry(()=>this.performDownload(e,o,t),l,{maxRetries:this.config.maxRetries,onProgress:p=>{t&&t({status:p.status==="starting"?"downloading":p.status==="retrying"||p.status==="waiting_retry"?"retrying":"downloading",progress:0,attempt:p.attempt,maxAttempts:p.maxAttempts,retryDelay:p.delay,error:p.error,operationId:p.operationId})},onRetry:p=>{console.warn(`Audio download retry ${p.attempt}/${p.maxAttempts}:`,p.error.message)},context:{youtubeUrl:e,cacheKey:o}});return this.downloadCache.set(o,d),pa.registerBuffer(o,d.audioBuffer,{priority:pa.config.priorityLevels.HIGH,source:"audio_download",tags:["youtube","audio"]}),t&&t({status:"ready",progress:100}),i({success:!0,cacheKey:o,audioSize:this.estimateAudioSize(d.audioBuffer),waveformSamples:d.waveformData?.length||0}),d}catch(d){const p=new Error(d.message);throw p.originalError=d.originalError||d,p.classification=d.classification,p.attempts=d.attempts,p.operationId=l,p.youtubeUrl=e,t&&t({status:"error",progress:0,error:p.message,classification:p.classification}),i({error:p.message,classification:p.classification,attempts:p.attempts}),p}}async performDownload(e,t,i){const o=new AbortController;this.abortControllers.set(t,o);try{const l=setTimeout(()=>{o.abort()},this.config.downloadTimeout),d=`${this.config.functionUrl}?url=${encodeURIComponent(e)}`,p=await fetch(d,{method:"GET",signal:o.signal});if(clearTimeout(l),!p.ok){let z=`Server responded with ${p.status}`;try{z=(await p.json()).message||z}catch{z=await p.text()||z}throw new Error(z)}const m=p.headers.get("content-length"),v=p.body.getReader(),w=[];let T=0;for(;;){const{done:z,value:K}=await v.read();if(z)break;if(w.push(K),T+=K.length,m&&i){const W=Math.round(T/parseInt(m)*70);i({status:"downloading",progress:Math.min(W,70),bytesReceived:T,totalBytes:parseInt(m)})}}const C=new ArrayBuffer(T),N=new Uint8Array(C);let O=0;for(const z of w)N.set(z,O),O+=z.length;i&&i({status:"processing",progress:75});const k=await this.getAudioContext().decodeAudioData(C);i&&i({status:"generating_waveform",progress:90});const D=this.generateWaveformData(k);return{audioBuffer:k,waveformData:D}}finally{this.abortControllers.delete(t)}}async generateWaveformData(e,t=400){const i=Vr.startMeasurement("waveform_generation");try{const o=await dy.generateWaveform(e,{samples:t,normalize:!0,progressive:this.estimateAudioSize(e)>52428800});return i({samples:t,audioSize:this.estimateAudioSize(e),progressive:o.progressive}),o.data}catch(o){return i({error:o.message}),console.warn("Optimized waveform generation failed, using fallback:",o),this.generateSimpleWaveform(e,t)}}generateSimpleWaveform(e,t=400){const i=e.getChannelData(0),o=Math.floor(i.length/t),l=[];for(let m=0;m<t;m++){const v=o*m;let w=0;for(let T=0;T<o;T++)w+=Math.abs(i[v+T]);l.push(w/o)}const d=Math.max(...l),p=d>0?Math.pow(d,-1):1;return l.map(m=>m*p)}getAudioBuffer(e){const t=this.getCacheKey(e);return this.downloadCache.get(t)||null}isCached(e){const t=this.getCacheKey(e);return this.downloadCache.has(t)}getDownloadProgress(e){const t=this.getCacheKey(e);return this.progressCallbacks.get(t)?{hasProgress:!0}:null}cancelDownload(e){const t=this.getCacheKey(e),i=this.abortControllers.get(t);i&&(i.abort(),this.abortControllers.delete(t)),this.progressCallbacks.delete(t)}clearCache(){for(const[e,t]of this.abortControllers)t.abort();for(const e of this.downloadCache.keys())pa.unregisterBuffer(e);this.downloadCache.clear(),this.progressCallbacks.clear(),this.abortControllers.clear(),console.log("AudioProcessingService cache cleared")}cleanup(){this.clearCache(),this.audioContext&&this.audioContext.state!=="closed"&&(this.audioContext.close().catch(e=>{console.warn("Error closing AudioContext:",e)}),this.audioContext=null),console.log("AudioProcessingService cleaned up")}calculateRetryDelay(e){const t=Math.min(this.config.baseRetryDelay*Math.pow(2,e),this.config.maxRetryDelay),i=Math.random()*.1*t;return Math.floor(t+i)}isDirectAudioURL(e){const t=[".mp3",".wav",".ogg",".m4a",".flac",".webm"],i=e.toLowerCase();return t.some(o=>i.includes(o))||e.includes("audio/")||e.includes("soundcloud.com")||e.includes("bandcamp.com")}isYouTubeURL(e){return e.includes("youtube.com")||e.includes("youtu.be")}getCacheKey(e){if(typeof e=="string"){const t=e.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/);return t?t[1]:e}else if(e instanceof File)return`file_${e.name}_${e.size}_${e.lastModified}`;return e.toString()}sleep(e){return new Promise(t=>setTimeout(t,e))}getStats(){return{cachedItems:this.downloadCache.size,activeDownloads:this.abortControllers.size,audioContextState:this.audioContext?.state||"not_initialized",memoryUsage:this.estimateMemoryUsage()}}estimateMemoryUsage(){let e=0;for(const[,t]of this.downloadCache)t.audioBuffer&&(e+=this.estimateAudioSize(t.audioBuffer));return{bytes:e,mb:Math.round(e/(1024*1024)*100)/100}}estimateAudioSize(e){return e.numberOfChannels*e.length*4}}const il=new cG;typeof window<"u"&&window.addEventListener("beforeunload",()=>{il.cleanup()});class uG{constructor(){this.cache=new Map,this.isGenerating=!1}async generateWaveform(e,t,i={}){const o=`${e}_${t}`;if(this.cache.has(o))return this.cache.get(o);if(this.isGenerating)return await this.waitForGeneration(),this.cache.get(o)||this.generateFallbackWaveform(t);this.isGenerating=!0;try{const l=await this.tryAudioExtraction(t);if(l)return this.cache.set(o,l),l;const d=await this.generateProceduralWaveform(e,t);if(d)return this.cache.set(o,d),d;const p=this.generateFallbackWaveform(t);return this.cache.set(o,p),p}finally{this.isGenerating=!1}}async tryAudioExtraction(e){try{const t=document.querySelector("video");if(!t||t.muted)return null;console.log(" Attempting real-time audio extraction...");const i=new(window.AudioContext||window.webkitAudioContext);i.state==="suspended"&&await i.resume();const o=i.createMediaElementSource(t),l=i.createAnalyser();l.fftSize=4096,l.smoothingTimeConstant=.3,o.connect(l),l.connect(i.destination);const d=Math.min(2e3,e*25),p=new Float32Array(d),m=new Uint8Array(l.frequencyBinCount),v=new Uint8Array(l.fftSize);let w=0;const T=e*1e3/d,C=Date.now();return new Promise((N,O)=>{const I=setTimeout(()=>{console.log(" Audio extraction timeout, using partial data"),N(p.slice(0,w))},3e4),k=()=>{if(w>=d){clearTimeout(I),console.log(` Audio extraction complete: ${d} samples in ${Date.now()-C}ms`),N(p);return}l.getByteFrequencyData(m),l.getByteTimeDomainData(v);let D=0,z=0;const K=Math.floor(80/(i.sampleRate/2)*m.length),W=Math.floor(8e3/(i.sampleRate/2)*m.length);for(let V=K;V<W;V++)D+=m[V];for(let V=0;V<v.length;V++)z+=Math.abs(v[V]-128);const Y=D/(W-K),Z=z/v.length,U=(Y*.7+Z*.3)/255;p[w]=U*2-1,w++,w%10===0?requestAnimationFrame(()=>setTimeout(k,T)):setTimeout(k,T)};k()})}catch(t){return console.log("Audio extraction failed:",t.message),this.tryAlternativeAudioExtraction(e)}}async tryAlternativeAudioExtraction(e){try{console.log(" Trying alternative audio extraction...");const t=document.querySelector("video");if(!t)return null;const i=document.createElement("canvas"),o=i.getContext("2d");i.width=256,i.height=144;const l=Math.min(1e3,e*20),d=new Float32Array(l),p=e*1e3/l;return new Promise(m=>{let v=0;const w=Date.now(),T=()=>{if(v>=l){console.log(` Visual analysis complete: ${l} samples`),m(d);return}try{o.drawImage(t,0,0,i.width,i.height);const N=o.getImageData(0,0,i.width,i.height).data;let O=0,I=0;for(let D=0;D<N.length;D+=4){const z=N[D],K=N[D+1],W=N[D+2];if(I+=(z+K+W)/3,D>4){const Y=N[D-4],Z=N[D-3],U=N[D-2];O+=Math.abs(z-Y)+Math.abs(K-Z)+Math.abs(W-U)}}I/=N.length/4,O/=N.length/4;const k=Math.min(1,O/100*(I/255));d[v]=k*2-1}catch{const N=v/l*e;d[v]=.3*Math.sin(N*.5)+.1*Math.sin(N*2.1)}v++,setTimeout(T,p)};T()})}catch(t){return console.log("Alternative audio extraction failed:",t.message),null}}async generateProceduralWaveform(e,t){try{const i=Math.min(2e3,t*20),o=new Float32Array(i),l=this.hashCode(e),d=this.seededRandom(l);for(let p=0;p<i;p++){const m=p/i,v=m*t;let w=0;const C=v*2%1;C<.1&&(w+=.8*Math.exp(-C*20)),w+=.3*Math.sin(v*.5+d()*Math.PI),w+=.2*Math.sin(v*1.2+d()*Math.PI),w+=.1*Math.sin(v*2.8+d()*Math.PI),w+=(d()-.5)*.1;const N=this.createMusicalEnvelope(m,t);w*=N,o[p]=Math.max(-1,Math.min(1,w))}return console.log(`Generated procedural waveform for ${e}: ${i} samples`),o}catch(i){return console.log("Procedural waveform generation failed:",i.message),null}}generateFallbackWaveform(e){const t=Math.min(1e3,e*10),i=new Float32Array(t);for(let o=0;o<t;o++){const d=o/t*e;let p=.4*Math.sin(d*.8);p+=.2*Math.sin(d*2.1),p+=.1*Math.sin(d*4.3),p*=.8+.4*Math.sin(d*.1),i[o]=p}return console.log(`Generated fallback waveform: ${t} samples`),i}createMusicalEnvelope(e,t){return e<.1?e*10*.6:e<.3?.6+(e-.1)*.5:e<.7?.8+.2*Math.sin((e-.3)*Math.PI*2):e<.9?.7+.3*Math.sin((e-.7)*Math.PI*5):.8*(1-(e-.9)*10)}hashCode(e){let t=0;for(let i=0;i<e.length;i++){const o=e.charCodeAt(i);t=(t<<5)-t+o,t=t&t}return Math.abs(t)}seededRandom(e){let t=e;return function(){return t=(t*9301+49297)%233280,t/233280}}async waitForGeneration(){for(;this.isGenerating;)await new Promise(e=>setTimeout(e,100))}clearCache(){this.cache.clear()}}const dG=new uG;function hG({playerState:n,selectedChop:e,setChopTime:t,waveformData:i,deleteChop:o,youtubeUrl:l,allChops:d=[],onTimestampClick:p,isPlaying:m=!1,onPlayPause:v}){const w=R.useRef(null),T=R.useRef(null),C=R.useRef(null),N=R.useRef(null),O=R.useRef(null),[I,k]=R.useState(1),[D,z]=R.useState(0),[K,W]=R.useState({startTime:"",endTime:""}),[Y,Z]=R.useState(null),[U,V]=R.useState(!1),[B,$]=R.useState(null),[H,G]=R.useState(null),[L,se]=R.useState(!1),[_e,re]=R.useState(!1),[fe,ve]=R.useState(null),[Ne,J]=R.useState(0),[ae,Re]=R.useState(null),[Ee,Le]=R.useState(!1),[Fe,Ge]=R.useState(!1),[an,Ft]=R.useState(0),[er,vr]=R.useState(0);R.useEffect(()=>{(async()=>{if(!(!l||i)){V(!0);try{const te=il.getAudioBuffer(l);if(te?.waveformData){Z(te.waveformData),V(!1);return}const Ve=await uy.retrieve(l);if(Ve?.waveformData){Z(Ve.waveformData),V(!1);return}console.log(" No cached waveform found, generating smart waveform..."),se(!0);const De=l.match(/(?:v=)([^&?]+)/)?.[1];if(De&&n.duration>0){const Xe=await dG.generateWaveform(De,n.duration);G(Xe),console.log(" Smart waveform generated successfully")}}catch(te){console.warn("Failed to load waveform data:",te)}finally{V(!1),se(!1)}}})()},[l,i,n.duration]),R.useEffect(()=>{W(e?{startTime:e.startTime.toFixed(4),endTime:e.endTime.toFixed(4)}:{startTime:"",endTime:""})},[e]);const ln=R.useCallback(()=>{const xe=100/I,te=Math.max(0,100-xe),Ve=Math.max(0,Math.min(D,te));return{startPercent:Ve,endPercent:Ve+xe,viewportWidth:xe,maxPanOffset:te}},[I,D]),jn=R.useCallback(xe=>{const te=ln();return(xe/n.duration*100-te.startPercent)/te.viewportWidth*100},[n.duration,ln]),tn=R.useCallback(xe=>{const te=ln();return(te.startPercent+xe/100*te.viewportWidth)/100*n.duration},[n.duration,ln]),cn=i||Y||H,Ws=R.useCallback(()=>{const xe=T.current;if(!xe||!cn)return;const te=xe.getContext("2d"),{width:Ve,height:De}=xe;te.clearRect(0,0,Ve,De);const Xe=ln(),rt=cn.length,He=Math.floor(Xe.startPercent/100*rt),We=Math.ceil(Xe.endPercent/100*rt),vt=We-He;if(vt<=0)return;te.strokeStyle=I>4?"rgba(6, 182, 212, 0.9)":"rgba(6, 182, 212, 0.8)",te.lineWidth=I>8?2:1,te.beginPath();const ht=Ve/vt;let rn=0,un=!0;for(let zt=He;zt<We&&zt<rt;zt++){const Fi=(cn[zt]||0)*De/2*(I>2?1.2:1),Ue=De/2+Fi;un?(te.moveTo(rn,Ue),un=!1):te.lineTo(rn,Ue),rn+=ht}te.stroke(),te.strokeStyle=I>4?"rgba(6, 182, 212, 0.6)":"rgba(6, 182, 212, 0.4)",te.beginPath(),rn=0,un=!0;for(let zt=He;zt<We&&zt<rt;zt++){const Fi=(cn[zt]||0)*De/2*(I>2?1.2:1),Ue=De/2-Fi;un?(te.moveTo(rn,Ue),un=!1):te.lineTo(rn,Ue),rn+=ht}if(te.stroke(),I>4&&(te.strokeStyle="rgba(255, 255, 255, 0.2)",te.lineWidth=1,te.setLineDash([2,2]),te.beginPath(),te.moveTo(0,De/2),te.lineTo(Ve,De/2),te.stroke(),te.setLineDash([])),I>16&&vt<200){te.fillStyle="rgba(6, 182, 212, 0.8)",rn=0;for(let zt=He;zt<We&&zt<rt;zt++){const Fi=(cn[zt]||0)*De/2*1.2,Ue=De/2+Fi;te.beginPath(),te.arc(rn,Ue,1.5,0,2*Math.PI),te.fill(),rn+=ht}}},[cn,I,ln]);R.useEffect(()=>{Ws()},[Ws]);const Ur=R.useCallback(()=>{const xe=N.current;if(!xe||!d.length)return;const te=xe.getContext("2d"),{width:Ve,height:De}=xe;te.clearRect(0,0,Ve,De),ln(),d.forEach((Xe,rt)=>{const He=_e&&e?.padId===Xe.padId&&ae?ae:Xe,We=jn(He.startTime),vt=jn(He.endTime);if(vt<0||We>100)return;const ht=Math.max(0,Math.min(Ve,We/100*Ve)),rn=Math.max(0,Math.min(Ve,vt/100*Ve)),un=Math.max(1,rn-ht),zt=Xe.color||`hsl(${rt*137.5%360}, 70%, 50%)`,yi=e?.padId===Xe.padId,Fi=_e&&yi;if(un>0){const Ue=Fi?"66":yi?"44":"33";te.fillStyle=`${zt}${Ue}`,te.fillRect(ht,0,un,De),te.strokeStyle=zt,te.lineWidth=yi?3:2,te.beginPath(),We>=0&&(te.moveTo(ht,0),te.lineTo(ht,De)),vt<=100&&(te.moveTo(rn,0),te.lineTo(rn,De)),te.stroke()}if(yi&&un>0){const Ue=Fi?12:I>4?10:8,Mt=De/2;if(We>=0&&We<=100&&(te.fillStyle=zt,te.fillRect(ht-Ue/2,Mt-Ue/2,Ue,Ue),te.strokeStyle="#ffffff",te.lineWidth=2,te.strokeRect(ht-Ue/2,Mt-Ue/2,Ue,Ue),te.fillStyle="#ffffff",te.font=`bold ${I>4?12:10}px monospace`,te.textAlign="center",te.fillText("S",ht,Mt-Ue/2-4)),vt>=0&&vt<=100&&(te.fillStyle=zt,te.fillRect(rn-Ue/2,Mt-Ue/2,Ue,Ue),te.strokeStyle="#ffffff",te.lineWidth=2,te.strokeRect(rn-Ue/2,Mt-Ue/2,Ue,Ue),te.fillStyle="#ffffff",te.font=`bold ${I>4?12:10}px monospace`,te.textAlign="center",te.fillText("E",rn,Mt-Ue/2-4)),Fi&&ae){const In=I>4?12:11;if(te.font=`${In}px monospace`,te.fillStyle="#ffffff",te.strokeStyle="#000000",te.lineWidth=3,We>=0&&We<=100){const Zn=I>8?4:3,bi=`${ae.startTime.toFixed(Zn)}s`;te.strokeText(bi,ht,Mt+Ue/2+18),te.fillText(bi,ht,Mt+Ue/2+18)}if(vt>=0&&vt<=100){const Zn=I>8?4:3,bi=`${ae.endTime.toFixed(Zn)}s`;te.strokeText(bi,rn,Mt+Ue/2+18),te.fillText(bi,rn,Mt+Ue/2+18)}if(un>30){const Zn=ae.endTime-ae.startTime,bi=ht+un/2,os=I>8?4:3,Di=`${Zn.toFixed(os)}s`;te.strokeText(Di,bi,Mt-12),te.fillText(Di,bi,Mt-12)}}}if(un>30){te.fillStyle=yi?"#ffffff":zt,te.font=yi?"bold 10px monospace":"10px monospace",te.textAlign="center";const Ue=ht+un/2,Mt=Xe.padId||`S${rt+1}`;if(te.fillText(Mt,Ue,De/2+3),Fi&&ae){te.font="8px monospace",te.fillStyle="#ffffff";const Zn=`${(ae.endTime-ae.startTime).toFixed(2)}s`;te.fillText(Zn,Ue,De/2+15)}}}),_e&&fe&&(te.strokeStyle="#ffffff",te.lineWidth=1,te.setLineDash([2,2]),te.beginPath(),te.moveTo(0,De/2),te.lineTo(Ve,De/2),te.stroke(),te.setLineDash([]))},[d,n.duration,e,_e,ae,fe]);R.useEffect(()=>{Ur()},[Ur]);const Mi=R.useCallback((xe,te)=>{const Ve=xe/te*100;return tn(Ve)},[tn]),Pi=R.useCallback((xe,te)=>jn(xe)/100*te,[jn]),Br=R.useCallback(xe=>{if(!cn)return xe;const te=cn.length/n.duration,Ve=Math.round(xe*te),De=Math.min(50,Math.floor(te*.01));let Xe=xe,rt=Math.abs(cn[Ve]||0);for(let He=-De;He<=De;He++){const We=Ve+He;if(We>=0&&We<cn.length){const vt=Math.abs(cn[We]);vt<rt&&(rt=vt,Xe=We/te)}}return Xe},[cn,n.duration]),ss=R.useCallback(xe=>{if(!e)return;const te=N.current;if(!te)return;const Ve=te.getBoundingClientRect(),De=xe.clientX-Ve.left,Xe=Ve.width,rt=Pi(e.startTime,Xe),He=Pi(e.endTime,Xe),We=12;Math.abs(De-rt)<We?(re(!0),ve("start"),J(De),Re({...e}),te.style.cursor="ew-resize",xe.preventDefault(),xe.stopPropagation()):Math.abs(De-He)<We&&(re(!0),ve("end"),J(De),Re({...e}),te.style.cursor="ew-resize",xe.preventDefault(),xe.stopPropagation())},[e,Pi]),tr=R.useCallback(xe=>{if(!_e||!ae||!fe)return;const te=N.current;if(!te)return;const Ve=te.getBoundingClientRect(),De=xe.clientX-Ve.left,Xe=Ve.width,rt=Mi(De,Xe),He=Br(rt);if(fe==="start"){const We=ae.endTime-.05,vt=Math.max(0,Math.min(He,We));Re(ht=>({...ht,startTime:vt})),W(ht=>({...ht,startTime:vt.toFixed(4)}))}else if(fe==="end"){const We=ae.startTime+.05,vt=Math.max(We,Math.min(He,n.duration));Re(ht=>({...ht,endTime:vt})),W(ht=>({...ht,endTime:vt.toFixed(4)}))}},[_e,ae,fe,Mi,Br,n.duration]),yr=R.useCallback(()=>{_e&&ae&&e&&(t&&(t("startTime",ae.startTime),t("endTime",ae.endTime)),console.log(` Sample edited via drag: ${ae.startTime.toFixed(3)}s - ${ae.endTime.toFixed(3)}s (${(ae.endTime-ae.startTime).toFixed(3)}s duration)`)),re(!1),ve(null),J(0),Re(null),Le(!0),setTimeout(()=>Le(!1),100);const xe=N.current;xe&&(xe.style.cursor="default")},[_e,ae,e,t]),Fr=R.useCallback(xe=>{if(_e)return;const te=N.current;if(!te)return;const Ve=te.getBoundingClientRect(),De=xe.clientX-Ve.left,Xe=Ve.width;if(e){const rt=Pi(e.startTime,Xe),He=Pi(e.endTime,Xe),We=12;Math.abs(De-rt)<We?(te.style.cursor="ew-resize",te.title=`Drag to adjust start time (${e.startTime.toFixed(3)}s)`):Math.abs(De-He)<We?(te.style.cursor="ew-resize",te.title=`Drag to adjust end time (${e.endTime.toFixed(3)}s)`):(te.style.cursor="default",te.title="Click to set timestamp or drag markers to adjust")}else te.style.cursor="crosshair",te.title="Click to create timestamp"},[e,_e,Pi]),zr=R.useCallback(xe=>{if(I<=1||_e)return;const te=N.current;if(!te)return;const Ve=te.getBoundingClientRect(),De=xe.clientX-Ve.left;if(e){const Xe=Ve.width,rt=Pi(e.startTime,Xe),He=Pi(e.endTime,Xe);if(Math.abs(De-rt)<12||Math.abs(De-He)<12)return}Ge(!0),Ft(xe.clientX),vr(D),xe.preventDefault()},[I,_e,e,Pi,D]),Hr=R.useCallback(xe=>{if(!Fe)return;const te=xe.clientX-an,Ve=w.current;if(!Ve)return;const De=Ve.getBoundingClientRect(),Xe=te/De.width*(100/I),rt=er-Xe,He=ln();z(Math.max(0,Math.min(rt,He.maxPanOffset)))},[Fe,an,er,I,ln]),Lt=R.useCallback(()=>{Ge(!1),Ft(0),vr(0)},[]);R.useEffect(()=>{const xe=N.current,te=w.current;if(!(!xe||!te))return xe.addEventListener("mousedown",ss),xe.addEventListener("mousemove",Fr),te.addEventListener("mousedown",zr),document.addEventListener("mousemove",tr),document.addEventListener("mousemove",Hr),document.addEventListener("mouseup",yr),document.addEventListener("mouseup",Lt),()=>{xe.removeEventListener("mousedown",ss),xe.removeEventListener("mousemove",Fr),te.removeEventListener("mousedown",zr),document.removeEventListener("mousemove",tr),document.removeEventListener("mousemove",Hr),document.removeEventListener("mouseup",yr),document.removeEventListener("mouseup",Lt)}},[ss,Fr,tr,yr,zr,Hr,Lt]);const dt=R.useCallback(()=>{const xe=C.current;if(!xe)return;const te=xe.getContext("2d"),{width:Ve,height:De}=xe;te.clearRect(0,0,Ve,De);const Xe=jn(n.currentTime);if(Xe>=0&&Xe<=100){const rt=Xe/100*Ve;te.strokeStyle="#ef4444",te.lineWidth=I>4?3:2,te.beginPath(),te.moveTo(rt,0),te.lineTo(rt,De),te.stroke(),te.fillStyle="#ef4444";const He=I>4?8:6;if(te.beginPath(),te.moveTo(rt-He,0),te.lineTo(rt+He,0),te.lineTo(rt,He*2),te.closePath(),te.fill(),I>4){te.fillStyle="#ffffff",te.font="10px monospace",te.textAlign="center";const We=`${n.currentTime.toFixed(I>8?3:2)}s`;te.strokeStyle="#000000",te.lineWidth=2,te.strokeText(We,rt,De-8),te.fillText(We,rt,De-8)}}if(m){ln();const rt=Math.max(0,jn(0)),He=Math.min(100,jn(n.currentTime));if(He>rt){const We=rt/100*Ve,vt=He/100*Ve,ht=te.createLinearGradient(We,0,vt,0);ht.addColorStop(0,"rgba(6, 182, 212, 0.1)"),ht.addColorStop(1,"rgba(6, 182, 212, 0.3)"),te.fillStyle=ht,te.fillRect(We,0,vt-We,De)}}},[n.currentTime,n.duration,m,jn,I,ln]);R.useEffect(()=>{const xe=()=>{dt(),m&&(O.current=requestAnimationFrame(xe))};return m?xe():dt(),()=>{O.current&&cancelAnimationFrame(O.current)}},[dt,m]);const Nt=R.useCallback(xe=>{if(!xe||I<=1)return;const te=ln(),Ve=xe.startTime/n.duration*100,De=xe.endTime/n.duration*100;if(De<te.startPercent||Ve>te.endPercent){const rt=(Ve+De)/2-te.viewportWidth/2;z(Math.max(0,Math.min(rt,te.maxPanOffset)))}},[I,ln,n.duration]);R.useEffect(()=>{e&&Nt(e)},[e,Nt]);const Se=xe=>{if(_e||Ee||Fe||!w.current)return;const te=w.current.getBoundingClientRect(),De=(xe.clientX-te.left)/te.width*100,Xe=tn(De),rt=d.find(He=>{const We=He.startTime/n.duration,vt=He.endTime/n.duration;return De>=We&&De<=vt});if(rt)p&&p(Xe,rt);else if(e){const He=Math.abs(Xe-e.startTime),We=Math.abs(Xe-e.endTime);if(He<We){const vt=Br(Xe);t("startTime",vt),console.log(` Start time set via click: ${vt.toFixed(3)}s`)}else{const vt=Br(Xe);t("endTime",vt),console.log(` End time set via click: ${vt.toFixed(3)}s`)}}else{const He=Br(Xe);t("startTime",He),console.log(` New timestamp created via click: ${He.toFixed(3)}s`)}},et=R.useCallback(xe=>{if(Fe){Hr(xe);return}if(!w.current)return;const te=w.current.getBoundingClientRect(),De=(xe.clientX-te.left)/te.width*100,Xe=tn(De);$(Xe)},[Fe,Hr,tn]),Cn=R.useCallback(()=>{$(null),Lt()},[Lt]),nn=(xe,te)=>{W(Ve=>({...Ve,[xe]:te}))},Rn=()=>{const xe=parseFloat(K.startTime),te=parseFloat(K.endTime);!isNaN(xe)&&!isNaN(te)&&(t("startTime",xe),t("endTime",te))},zn=()=>{e&&o(e.padId)};return _.jsxs(vn.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl shadow-lg p-4 space-y-4",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/70",children:[_.jsx(wO,{className:"w-4 h-4 text-cyan-400"}),_.jsx("span",{children:"Waveform"}),!cn&&U&&_.jsx("span",{className:"text-xs text-white/40",children:"(loading cached data...)"}),!cn&&!U&&_.jsx("span",{className:"text-xs text-white/40",children:"(analyzing audio...)"}),cn&&_.jsxs("span",{className:"text-xs text-green-400",children:["(",d.length," samples)"]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[v&&_.jsx("button",{onClick:v,className:"p-1 hover:bg-white/10 rounded-full",title:m?"Pause":"Play",children:m?_.jsx(iC,{className:"w-4 h-4"}):_.jsx(nm,{className:"w-4 h-4"})}),_.jsx("button",{onClick:()=>{k(xe=>Math.max(1,xe/2)),I<=2&&z(0)},className:"p-1 hover:bg-white/10 rounded-full disabled:opacity-50",title:"Zoom Out",disabled:I<=1,children:_.jsx(FO,{className:"w-5 h-5"})}),_.jsxs("button",{onClick:()=>{k(1),z(0)},className:"text-xs font-mono w-12 text-center hover:bg-white/10 rounded px-1 py-0.5 transition-colors",title:"Reset Zoom (1:1)",children:[I,"x"]}),_.jsx("button",{onClick:()=>k(xe=>Math.min(64,xe*2)),className:"p-1 hover:bg-white/10 rounded-full",title:"Zoom In",children:_.jsx(UO,{className:"w-5 h-5"})}),I>1&&_.jsxs("div",{className:"text-xs text-white/50 ml-2",children:[I>1?"Drag to pan  ":"","Click markers to drag"]})]})]}),_.jsxs("div",{ref:w,className:`relative h-32 w-full bg-black/30 rounded-lg transition-all ${Fe?"cursor-grabbing":I>1?"cursor-grab":"cursor-crosshair"}`,onClick:Se,onMouseMove:et,onMouseLeave:Cn,children:[_.jsx("canvas",{ref:T,width:800,height:128,className:"absolute inset-0 w-full h-full"}),_.jsx("canvas",{ref:N,width:800,height:128,className:"absolute inset-0 w-full h-full",style:{zIndex:10}}),_.jsx("canvas",{ref:C,width:800,height:128,className:"absolute inset-0 w-full h-full pointer-events-none"}),e&&_.jsx("div",{className:`absolute top-0 bottom-0 bg-cyan-500/30 backdrop-brightness-125 z-20 border-2 border-cyan-400 transition-all duration-200 ${_e?"bg-cyan-400/40 border-cyan-300":""}`,style:{left:`${jn((ae||e).startTime)}%`,width:`${jn((ae||e).endTime-(ae||e).startTime)}%`},children:_e&&ae&&_.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-black/80 text-white text-xs px-2 py-1 rounded whitespace-nowrap",children:[(ae.endTime-ae.startTime).toFixed(3),"s"]})}),B!==null&&_.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-white/50 pointer-events-none z-25",style:{left:`${jn(B)}%`},children:_.jsxs("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 bg-black/80 text-white text-xs px-1 py-0.5 rounded whitespace-nowrap",children:[B.toFixed(2),"s"]})}),!cn&&_.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-lg",children:_.jsx("div",{className:"text-white/70 text-sm text-center",children:U?"Loading cached waveform...":L?_.jsxs("div",{children:[_.jsx("div",{children:"Generating smart waveform..."}),_.jsx("div",{className:"text-xs text-white/50 mt-1",children:"Creating visual representation"})]}):_.jsxs("div",{children:[_.jsx("div",{children:"Preparing waveform..."}),_.jsx("div",{className:"text-xs text-white/50 mt-1",children:"Analyzing audio structure"})]})})})]}),e&&_.jsxs("div",{className:"space-y-3",children:[_.jsxs("div",{className:"text-xs text-white/60 text-center",children:[" Drag the ",_.jsx("span",{className:"text-cyan-400 font-mono",children:"S"})," and ",_.jsx("span",{className:"text-cyan-400 font-mono",children:"E"})," markers on the waveform to adjust timestamps, or edit values below"]}),_.jsxs("div",{className:"grid grid-cols-3 gap-4 items-center",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("label",{className:"text-sm text-white/70",children:"Start"}),_.jsx(cd,{type:"number",step:"0.001",value:K.startTime,onChange:xe=>nn("startTime",xe.target.value),className:"bg-white/10 border-white/20 w-full text-xs font-mono",placeholder:"0.000"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("label",{className:"text-sm text-white/70",children:"End"}),_.jsx(cd,{type:"number",step:"0.001",value:K.endTime,onChange:xe=>nn("endTime",xe.target.value),className:"bg-white/10 border-white/20 w-full text-xs font-mono",placeholder:"0.000"})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs(wt,{onClick:Rn,className:"w-full bg-cyan-500 hover:bg-cyan-600",children:[_.jsx(Q_,{className:"w-4 h-4 mr-2"})," Update"]}),_.jsxs(wt,{onClick:zn,variant:"destructive",className:"w-full",children:[_.jsx(jb,{className:"w-4 h-4 mr-2"})," Delete"]})]})]}),e&&_.jsxs("div",{className:"text-center text-xs text-white/50",children:["Duration: ",_.jsxs("span",{className:"text-cyan-400 font-mono",children:[(e.endTime-e.startTime).toFixed(3),"s"]})]})]})]})}function fG({padId:n,keyLabel:e,isAssigned:t,isSelected:i,color:o,onClick:l,onEdit:d,onDelete:p,chop:m,isPadGridFocused:v=!1}){const[w,T]=R.useState(!1),[C,N]=R.useState(!1),[O,I]=R.useState({x:0,y:0}),k=()=>{l(),T(!0),N(!1)},D=R.useCallback(Z=>{if(!t)return;Z.preventDefault(),Z.stopPropagation();const U=Z.currentTarget.getBoundingClientRect();I({x:Z.clientX-U.left,y:Z.clientY-U.top}),N(!0)},[t]),z=R.useCallback(Z=>{Z.stopPropagation(),N(!1),d&&d(n)},[n,d]),K=R.useCallback(Z=>{Z.stopPropagation(),N(!1),p&&p(n)},[n,p]);R.useEffect(()=>{const Z=()=>N(!1);if(C)return document.addEventListener("click",Z),()=>document.removeEventListener("click",Z)},[C]);const W=R.useCallback(Z=>{if(isNaN(Z)||Z<0)return"0:00";const U=Math.floor(Z/60),V=Math.floor(Z%60);return`${U}:${V.toString().padStart(2,"0")}`},[]);R.useEffect(()=>{if(w){const Z=setTimeout(()=>T(!1),150);return()=>clearTimeout(Z)}},[w]);const Y={idle:{scale:1,boxShadow:"0px 4px 10px rgba(0,0,0,0.3)"},triggered:{scale:.95,boxShadow:`0px 0px 20px ${o||"#06b6d4"}`}};return _.jsxs("div",{className:"relative w-full h-full",children:[_.jsxs(vn.button,{variants:Y,animate:w?"triggered":"idle",transition:{type:"spring",stiffness:500,damping:15},onClick:k,onContextMenu:D,className:`relative w-full h-full rounded-lg transition-all duration-300 focus:outline-none flex flex-col justify-between p-2
                    ${i?"ring-2 ring-offset-2 ring-offset-black/20 ring-cyan-400":""}
                    ${v?t?"bg-white/20 hover:bg-white/30":"bg-black/30 hover:bg-black/40":t?"bg-white/10":"bg-black/20"}
                    ${v?"opacity-100":"opacity-60"}
                `,style:{backgroundColor:t?`${o}${v?"4D":"20"}`:"",border:`1px solid ${t?o:v?"rgba(255,255,255,0.2)":"rgba(255,255,255,0.1)"}`},children:[_.jsx("span",{className:`absolute top-1 left-2 text-xs font-mono transition-colors duration-300 ${v?"text-white/40":"text-white/20"}`,children:n}),t&&d&&v&&_.jsx("div",{className:"absolute top-1 right-2",children:_.jsx(hO,{className:"w-3 h-3 text-white/30"})}),!v&&_.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 rounded-lg",children:_.jsx("div",{className:"text-xs text-white/30 font-medium",children:"Click to activate"})}),_.jsx("span",{className:`text-2xl font-bold self-center transition-colors duration-300 ${v?"text-white/80":"text-white/40"}`,children:e?.toUpperCase()}),t&&m&&v&&_.jsxs("div",{className:"absolute bottom-6 left-2 right-2 text-xs text-white/60 text-center",children:[W(m.startTime)," - ",W(m.endTime)]}),_.jsx("div",{className:"w-full h-1 absolute bottom-1 left-0",children:t&&_.jsx("div",{className:`h-full rounded-full mx-auto transition-opacity duration-300 ${v?"opacity-100":"opacity-40"}`,style:{backgroundColor:o,width:"30%"}})})]}),_.jsx(hl,{children:C&&_.jsxs(vn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute z-50 bg-black/90 backdrop-blur-lg border border-white/20 rounded-lg shadow-lg py-1 min-w-[120px]",style:{left:Math.min(O.x,window.innerWidth-140),top:Math.min(O.y,window.innerHeight-80)},onClick:Z=>Z.stopPropagation(),children:[_.jsxs("button",{onClick:z,className:"w-full px-3 py-2 text-left text-sm text-white hover:bg-white/10 flex items-center gap-2",children:[_.jsx(X_,{className:"w-3 h-3"}),"Edit Timestamp"]}),_.jsxs("button",{onClick:K,className:"w-full px-3 py-2 text-left text-sm text-red-300 hover:bg-red-500/20 flex items-center gap-2",children:[_.jsx(jb,{className:"w-3 h-3"}),"Delete Sample"]})]})})]})}function pG({chop:n,audioDuration:e,onSave:t,onCancel:i,onPreview:o,isPreviewPlaying:l=!1,className:d=""}){const[p,m]=R.useState(n?.startTime||0),[v,w]=R.useState(n?.endTime||0),[T,C]=R.useState({}),[N,O]=R.useState(!1),I=R.useRef(null),k=R.useRef(null);R.useEffect(()=>{n&&(m(n.startTime),w(n.endTime),O(!1),C({}))},[n]);const D=R.useCallback(G=>{if(isNaN(G)||G<0)return"00:00.000";const L=Math.floor(G/60),se=Math.floor(G%60),_e=Math.floor(G%1*1e3);return`${L.toString().padStart(2,"0")}:${se.toString().padStart(2,"0")}.${_e.toString().padStart(3,"0")}`},[]),z=R.useCallback(G=>{if(!G)return 0;const L=G.match(/^(\d{1,2}):(\d{1,2})(?:\.(\d{1,3}))?$/);if(L){const[,_e,re,fe="0"]=L,ve=parseInt(_e)*60+parseInt(re)+parseInt(fe.padEnd(3,"0"))/1e3;return Math.max(0,ve)}const se=parseFloat(G);return isNaN(se)?0:Math.max(0,se)},[]),K=R.useCallback((G,L)=>{const se={};G<0&&(se.startTime="Start time cannot be negative"),L<0&&(se.endTime="End time cannot be negative"),e&&G>=e&&(se.startTime=`Start time cannot exceed audio duration (${D(e)})`),e&&L>e&&(se.endTime=`End time cannot exceed audio duration (${D(e)})`),G>=L&&(se.endTime="End time must be greater than start time");const _e=L-G;return _e<.1&&(se.endTime="Sample must be at least 0.1 seconds long"),_e>30&&(se.endTime="Sample cannot be longer than 30 seconds"),se},[e,D]),W=R.useCallback(G=>{const L=z(G);m(L),O(!0);const se=K(L,v);C(se)},[v,z,K]),Y=R.useCallback(G=>{const L=z(G);w(L),O(!0);const se=K(p,L);C(se)},[p,z,K]),Z=R.useCallback(()=>{const G=K(p,v);if(Object.keys(G).length>0){C(G);return}t({...n,startTime:p,endTime:v})},[n,p,v,K,t]),U=R.useCallback(()=>{m(n?.startTime||0),w(n?.endTime||0),O(!1),C({}),i()},[n,i]),V=R.useCallback(()=>{m(n?.startTime||0),w(n?.endTime||0),O(!1),C({})},[n]),B=R.useCallback(()=>{Object.keys(T).length>0||o({startTime:p,endTime:v,duration:v-p})},[p,v,T,o]);if(R.useEffect(()=>{const G=L=>{L.key==="Enter"&&(L.ctrlKey||L.metaKey)?(L.preventDefault(),Z()):L.key==="Escape"?(L.preventDefault(),U()):L.key===" "&&(L.ctrlKey||L.metaKey)&&(L.preventDefault(),B())};return window.addEventListener("keydown",G),()=>window.removeEventListener("keydown",G)},[Z,U,B]),!n)return null;const $=v-p,H=Object.keys(T).length>0;return _.jsxs(vn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`bg-black/80 backdrop-blur-lg border border-white/20 rounded-lg p-4 ${d}`,children:[_.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[_.jsx(X_,{className:"w-4 h-4 text-blue-400"}),_.jsxs("h3",{className:"text-sm font-medium text-white",children:["Edit Timestamp - Pad ",n.padId]}),N&&_.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs text-gray-300 mb-1",children:"Start Time"}),_.jsx(cd,{ref:I,type:"text",value:D(p),onChange:G=>W(G.target.value),placeholder:"00:00.000",className:`bg-black/40 border-white/20 text-white ${T.startTime?"border-red-500":""}`}),T.startTime&&_.jsx("p",{className:"text-xs text-red-400 mt-1",children:T.startTime})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs text-gray-300 mb-1",children:"End Time"}),_.jsx(cd,{ref:k,type:"text",value:D(v),onChange:G=>Y(G.target.value),placeholder:"00:00.000",className:`bg-black/40 border-white/20 text-white ${T.endTime?"border-red-500":""}`}),T.endTime&&_.jsx("p",{className:"text-xs text-red-400 mt-1",children:T.endTime})]}),_.jsx("div",{className:"bg-black/20 rounded p-2",children:_.jsxs("div",{className:"flex justify-between text-xs text-gray-300",children:[_.jsx("span",{children:"Duration:"}),_.jsx("span",{className:$>0?"text-green-400":"text-red-400",children:D($)})]})}),_.jsx(wt,{onClick:B,disabled:H,variant:"outline",size:"sm",className:"w-full bg-blue-600/20 border-blue-500/50 text-blue-300 hover:bg-blue-600/30",children:l?_.jsxs(_.Fragment,{children:[_.jsx(iC,{className:"w-3 h-3 mr-2"}),"Stop Preview"]}):_.jsxs(_.Fragment,{children:[_.jsx(nm,{className:"w-3 h-3 mr-2"}),"Preview Sample"]})}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs(wt,{onClick:Z,disabled:!N||H,size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:[_.jsx(VD,{className:"w-3 h-3 mr-2"}),"Save"]}),N&&_.jsx(wt,{onClick:V,variant:"outline",size:"sm",className:"bg-yellow-600/20 border-yellow-500/50 text-yellow-300 hover:bg-yellow-600/30",children:_.jsx(yO,{className:"w-3 h-3"})}),_.jsx(wt,{onClick:U,variant:"outline",size:"sm",className:"bg-red-600/20 border-red-500/50 text-red-300 hover:bg-red-600/30",children:_.jsx(tE,{className:"w-3 h-3"})})]}),_.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[_.jsx("div",{children:"Ctrl+Enter: Save  Escape: Cancel  Ctrl+Space: Preview"}),_.jsx("div",{children:'Format: MM:SS.mmm or seconds (e.g., "1:30.500" or "90.5")'})]})]})]})}const I1={q:0,w:1,e:2,r:3,a:4,s:5,d:6,f:7,z:8,x:9,c:10,v:11,t:12,y:13,u:14,i:15};function mG({chops:n,activeBank:e,selectedPadId:t,setSelectedPadId:i,playerState:o,onCreateSample:l,onUpdateSample:d,onDeleteSample:p,youtubePlayer:m,audioBuffer:v}){const w=R.useRef(o),T=R.useRef(null),[C,N]=R.useState(null),[O,I]=R.useState(!1);R.useEffect(()=>{w.current=o},[o]);const k=R.useCallback(H=>{n.filter(L=>L.endTime>H&&L.startTime<H).forEach(L=>{const se={...L,endTime:H};console.log(` Updating sample ${L.padId}: end time ${L.endTime}s -> ${H}s`),d?.(se)})},[n,d]),D=R.useCallback(H=>{console.log(` FIXED PADGRID v3: Jumping to ${H}s`);const G=["video","#youtube-player video","#youtube-player iframe",'iframe[src*="youtube"]','[id*="player"] video'];for(const L of G){const se=document.querySelector(L);if(se){if(console.log(` Found element with selector: ${L}`),se.tagName==="VIDEO")try{console.log(` Setting video currentTime to ${H}s`),se.currentTime=H,se.paused&&se.play().catch(_e=>console.log("Play failed:",_e.message)),console.log(" Video element jump complete");return}catch(_e){console.log(` Video control failed: ${_e.message}`)}else if(se.tagName==="IFRAME"){console.log(" Found iframe, trying postMessage");try{se.contentWindow.postMessage(JSON.stringify({event:"command",func:"seekTo",args:[H,!0]}),"*"),console.log(" Iframe postMessage sent");return}catch(_e){console.log(` Iframe postMessage failed: ${_e.message}`)}}}}if(m)try{if(console.log(" Trying YouTube API seekTo"),m.seekTo){m.seekTo(H,!0),console.log(" YouTube API seekTo complete");return}if(m.getCurrentTime&&m.playVideo){console.log(" Trying alternative YouTube API method"),m.pauseVideo(),setTimeout(()=>{m.seekTo(H,!0),m.playVideo()},100),console.log(" Alternative YouTube API method complete");return}}catch(L){console.log("YouTube API methods failed:",L.message)}try{const L=document.querySelector("#youtube-player iframe");if(L&&L.contentWindow){console.log(" Trying iframe postMessage"),L.contentWindow.postMessage(JSON.stringify({event:"command",func:"seekTo",args:[H,!0]}),"https://www.youtube.com"),console.log(" Iframe postMessage sent");return}}catch(L){console.log("Iframe communication failed:",L.message)}console.log(" All jump methods failed - timestamp:",H)},[m]),z=R.useCallback(H=>{console.log(` Triggering pad: ${H}`),i(H);const G=n.find(L=>L.padId===H);G&&(console.log(` Jumping to timestamp: ${G.startTime}s`),D(G.startTime))},[n,i,D]),K=R.useCallback(H=>{console.log(` Selecting pad: ${H}`),i(H)},[i]),W=R.useCallback(H=>{const G=`${e}${H}`;let L=0,se="fallback";if(m&&m.getCurrentTime)try{L=m.getCurrentTime(),se="youtube-api"}catch(Ne){console.log("YouTube API getCurrentTime failed:",Ne.message)}if(L===0){const Ne=document.querySelector("video");Ne&&Ne.currentTime&&(L=Ne.currentTime,se="video-element")}L===0&&(L=w.current.currentTime,se="player-state");const _e=w.current.duration||180;let re;const fe=n.filter(Ne=>Ne.startTime>L).sort((Ne,J)=>Ne.startTime-J.startTime);fe.length>0?(re=fe[0].startTime,console.log(` Smart boundary: ending at next sample (${re}s)`)):(re=Math.min(L+4,_e),console.log(" Smart boundary: using default length (4s)"));const ve=.1;re-L<ve&&(re=Math.min(L+ve,_e)),console.log(` SMART SAMPLE: Creating ${G}`),console.log(` Time source: ${se}`),console.log(` Start: ${L.toFixed(3)}s`),console.log(` End: ${re.toFixed(3)}s`),console.log(` Length: ${(re-L).toFixed(3)}s`),l(G,L,re),i(G),k(L)},[e,l,i,m,n]);R.useEffect(()=>{const H=()=>I(!0),G=_e=>{T.current&&!T.current.contains(_e.relatedTarget)&&I(!1)},L=_e=>{T.current&&!T.current.contains(_e.target)&&I(!1)},se=T.current;if(se)return se.addEventListener("focusin",H),se.addEventListener("focusout",G),document.addEventListener("click",L),()=>{se.removeEventListener("focusin",H),se.removeEventListener("focusout",G),document.removeEventListener("click",L)}},[]),R.useEffect(()=>{const H=L=>{if(L.target.tagName==="INPUT"||L.target.tagName==="TEXTAREA"||!O)return;const se=I1[L.key.toLowerCase()];if(se!==void 0){L.preventDefault(),L.stopPropagation();const _e=`${e}${se}`,re=n.find(fe=>fe.padId===_e);console.log(` ULTRA-FAST: Key ${L.key} -> Pad ${_e} (focused: ${O})`),re?z(_e):w.current.isPlaying?(console.log(" Creating new sample (video is playing)"),W(se)):(console.log(" Just selecting pad (video not playing)"),K(_e))}},G={capture:!0,passive:!1};return document.addEventListener("keydown",H,G),()=>document.removeEventListener("keydown",H,G)},[n,e,z,W,K,O]);const Y=R.useCallback(H=>{N(H),i(H)},[i]),Z=R.useCallback(H=>{d?.(H),N(null)},[d]),U=R.useCallback(()=>{N(null)},[]),V=R.useCallback(H=>{p?.(H),t===H&&i(null),C===H&&N(null)},[p,t,C,i]),B=R.useCallback(H=>{D(H.startTime)},[D]),$=()=>{I(!0)};return _.jsxs("div",{className:"relative",children:[_.jsxs(vn.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`mb-4 flex items-center justify-between text-sm backdrop-blur-sm rounded-xl p-4 border transition-all duration-300 ${O?"bg-cyan-500/20 border-cyan-400/50":"bg-black/30 border-white/10"}`,children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsxs("div",{className:`flex items-center gap-2 transition-colors duration-300 ${O?"text-cyan-300":"text-white/60"}`,children:[_.jsx("div",{className:`w-3 h-3 rounded-full transition-all duration-300 ${O?"bg-cyan-400":"bg-white/30"}`}),_.jsx("span",{className:"font-medium",children:O?" Pads Active":" Click Pad Area to Activate"})]}),O&&n.length>0&&_.jsxs("div",{className:"flex items-center gap-1 text-cyan-200",children:[_.jsx("span",{className:"text-green-400",children:""}),_.jsxs("span",{children:[n.length," samples"]})]})]}),!O&&_.jsx("div",{className:"text-xs text-white/40 italic",children:"Click on the pad grid to enable keyboard shortcuts"}),O&&_.jsx("div",{className:"text-xs text-cyan-200/80",children:"Press Q-W-E-R, A-S-D-F, Z-X-C-V, T-Y-U-I to trigger pads"})]}),_.jsx(vn.div,{ref:T,initial:{opacity:0,y:20},animate:{opacity:1,y:0,scale:O?1.02:1},transition:{delay:.2,scale:{type:"spring",stiffness:300,damping:20}},onClick:$,tabIndex:0,className:`grid grid-cols-4 grid-rows-4 gap-3 aspect-square backdrop-blur-lg rounded-2xl shadow-lg p-4 transition-all duration-300 cursor-pointer focus:outline-none ${O?"bg-black/30 border-2 border-cyan-400/60 shadow-xl shadow-cyan-500/20":"bg-black/20 border border-white/20 hover:border-white/30"}`,children:Array.from({length:16}).map((H,G)=>{const L=`${e}${G}`,se=n.find(re=>re.padId===L),_e=Object.keys(I1).find(re=>I1[re]===G);return _.jsx(fG,{padId:L,keyLabel:_e,isAssigned:!!se,isSelected:t===L,color:se?.color,chop:se,isPadGridFocused:O,onEdit:Y,onDelete:V,onClick:()=>{I(!0),se?z(L):K(L)}},L)})}),_.jsx(hl,{children:C&&_.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:_.jsx(pG,{chop:n.find(H=>H.padId===C),audioDuration:o.duration,onSave:Z,onCancel:U,onPreview:B,isPreviewPlaying:!1,className:"max-w-md w-full mx-4"})})})]})}function TM(n,[e,t]){return Math.min(t,Math.max(e,n))}var gG=R.createContext(void 0);function vG(n){const e=R.useContext(gG);return n||e||"ltr"}function yG(n){const e=R.useRef({value:n,previous:n});return R.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}function bG(n){const[e,t]=R.useState(void 0);return $h(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let d,p;if("borderBoxSize"in l){const m=l.borderBoxSize,v=Array.isArray(m)?m[0]:m;d=v.inlineSize,p=v.blockSize}else d=n.offsetWidth,p=n.offsetHeight;t({width:d,height:p})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}function SM(n){const e=n+"CollectionProvider",[t,i]=Vb(e),[o,l]=t(e,{collectionRef:{current:null},itemMap:new Map}),d=I=>{const{scope:k,children:D}=I,z=da.useRef(null),K=da.useRef(new Map).current;return _.jsx(o,{scope:k,itemMap:K,collectionRef:z,children:D})};d.displayName=e;const p=n+"CollectionSlot",m=Gv(p),v=da.forwardRef((I,k)=>{const{scope:D,children:z}=I,K=l(p,D),W=mr(k,K.collectionRef);return _.jsx(m,{ref:W,children:z})});v.displayName=p;const w=n+"CollectionItemSlot",T="data-radix-collection-item",C=Gv(w),N=da.forwardRef((I,k)=>{const{scope:D,children:z,...K}=I,W=da.useRef(null),Y=mr(k,W),Z=l(w,D);return da.useEffect(()=>(Z.itemMap.set(W,{ref:W,...K}),()=>void Z.itemMap.delete(W))),_.jsx(C,{[T]:"",ref:Y,children:z})});N.displayName=w;function O(I){const k=l(n+"CollectionConsumer",I);return da.useCallback(()=>{const z=k.collectionRef.current;if(!z)return[];const K=Array.from(z.querySelectorAll(`[${T}]`));return Array.from(k.itemMap.values()).sort((Z,U)=>K.indexOf(Z.ref.current)-K.indexOf(U.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:d,Slot:v,ItemSlot:N},O,i]}var xM=["PageUp","PageDown"],AM=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],CM={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Mm="Slider",[P_,wG,_G]=SM(Mm),[RM,H$]=Vb(Mm,[_G]),[EG,Ew]=RM(Mm),IM=R.forwardRef((n,e)=>{const{name:t,min:i=0,max:o=100,step:l=1,orientation:d="horizontal",disabled:p=!1,minStepsBetweenThumbs:m=0,defaultValue:v=[i],value:w,onValueChange:T=()=>{},onValueCommit:C=()=>{},inverted:N=!1,form:O,...I}=n,k=R.useRef(new Set),D=R.useRef(0),K=d==="horizontal"?TG:SG,[W=[],Y]=iE({prop:w,defaultProp:v,onChange:H=>{[...k.current][D.current]?.focus(),T(H)}}),Z=R.useRef(W);function U(H){const G=IG(W,H);$(H,G)}function V(H){$(H,D.current)}function B(){const H=Z.current[D.current];W[D.current]!==H&&C(W)}function $(H,G,{commit:L}={commit:!1}){const se=PG(l),_e=DG(Math.round((H-i)/l)*l+i,se),re=TM(_e,[i,o]);Y((fe=[])=>{const ve=CG(fe,re,G);if(MG(ve,m*l)){D.current=ve.indexOf(re);const Ne=String(ve)!==String(fe);return Ne&&L&&C(ve),Ne?ve:fe}else return fe})}return _.jsx(EG,{scope:n.__scopeSlider,name:t,disabled:p,min:i,max:o,valueIndexToChangeRef:D,thumbs:k.current,values:W,orientation:d,form:O,children:_.jsx(P_.Provider,{scope:n.__scopeSlider,children:_.jsx(P_.Slot,{scope:n.__scopeSlider,children:_.jsx(K,{"aria-disabled":p,"data-disabled":p?"":void 0,...I,ref:e,onPointerDown:Fn(I.onPointerDown,()=>{p||(Z.current=W)}),min:i,max:o,inverted:N,onSlideStart:p?void 0:U,onSlideMove:p?void 0:V,onSlideEnd:p?void 0:B,onHomeKeyDown:()=>!p&&$(i,0,{commit:!0}),onEndKeyDown:()=>!p&&$(o,W.length-1,{commit:!0}),onStepKeyDown:({event:H,direction:G})=>{if(!p){const _e=xM.includes(H.key)||H.shiftKey&&AM.includes(H.key)?10:1,re=D.current,fe=W[re],ve=l*_e*G;$(fe+ve,re,{commit:!0})}}})})})})});IM.displayName=Mm;var[kM,NM]=RM(Mm,{startEdge:"left",endEdge:"right",size:"width",direction:1}),TG=R.forwardRef((n,e)=>{const{min:t,max:i,dir:o,inverted:l,onSlideStart:d,onSlideMove:p,onSlideEnd:m,onStepKeyDown:v,...w}=n,[T,C]=R.useState(null),N=mr(e,K=>C(K)),O=R.useRef(void 0),I=vG(o),k=I==="ltr",D=k&&!l||!k&&l;function z(K){const W=O.current||T.getBoundingClientRect(),Y=[0,W.width],U=JT(Y,D?[t,i]:[i,t]);return O.current=W,U(K-W.left)}return _.jsx(kM,{scope:n.__scopeSlider,startEdge:D?"left":"right",endEdge:D?"right":"left",direction:D?1:-1,size:"width",children:_.jsx(MM,{dir:I,"data-orientation":"horizontal",...w,ref:N,style:{...w.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:K=>{const W=z(K.clientX);d?.(W)},onSlideMove:K=>{const W=z(K.clientX);p?.(W)},onSlideEnd:()=>{O.current=void 0,m?.()},onStepKeyDown:K=>{const Y=CM[D?"from-left":"from-right"].includes(K.key);v?.({event:K,direction:Y?-1:1})}})})}),SG=R.forwardRef((n,e)=>{const{min:t,max:i,inverted:o,onSlideStart:l,onSlideMove:d,onSlideEnd:p,onStepKeyDown:m,...v}=n,w=R.useRef(null),T=mr(e,w),C=R.useRef(void 0),N=!o;function O(I){const k=C.current||w.current.getBoundingClientRect(),D=[0,k.height],K=JT(D,N?[i,t]:[t,i]);return C.current=k,K(I-k.top)}return _.jsx(kM,{scope:n.__scopeSlider,startEdge:N?"bottom":"top",endEdge:N?"top":"bottom",size:"height",direction:N?1:-1,children:_.jsx(MM,{"data-orientation":"vertical",...v,ref:T,style:{...v.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:I=>{const k=O(I.clientY);l?.(k)},onSlideMove:I=>{const k=O(I.clientY);d?.(k)},onSlideEnd:()=>{C.current=void 0,p?.()},onStepKeyDown:I=>{const D=CM[N?"from-bottom":"from-top"].includes(I.key);m?.({event:I,direction:D?-1:1})}})})}),MM=R.forwardRef((n,e)=>{const{__scopeSlider:t,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onHomeKeyDown:d,onEndKeyDown:p,onStepKeyDown:m,...v}=n,w=Ew(Mm,t);return _.jsx(vi.span,{...v,ref:e,onKeyDown:Fn(n.onKeyDown,T=>{T.key==="Home"?(d(T),T.preventDefault()):T.key==="End"?(p(T),T.preventDefault()):xM.concat(AM).includes(T.key)&&(m(T),T.preventDefault())}),onPointerDown:Fn(n.onPointerDown,T=>{const C=T.target;C.setPointerCapture(T.pointerId),T.preventDefault(),w.thumbs.has(C)?C.focus():i(T)}),onPointerMove:Fn(n.onPointerMove,T=>{T.target.hasPointerCapture(T.pointerId)&&o(T)}),onPointerUp:Fn(n.onPointerUp,T=>{const C=T.target;C.hasPointerCapture(T.pointerId)&&(C.releasePointerCapture(T.pointerId),l(T))})})}),PM="SliderTrack",DM=R.forwardRef((n,e)=>{const{__scopeSlider:t,...i}=n,o=Ew(PM,t);return _.jsx(vi.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...i,ref:e})});DM.displayName=PM;var D_="SliderRange",OM=R.forwardRef((n,e)=>{const{__scopeSlider:t,...i}=n,o=Ew(D_,t),l=NM(D_,t),d=R.useRef(null),p=mr(e,d),m=o.values.length,v=o.values.map(C=>VM(C,o.min,o.max)),w=m>1?Math.min(...v):0,T=100-Math.max(...v);return _.jsx(vi.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...i,ref:p,style:{...n.style,[l.startEdge]:w+"%",[l.endEdge]:T+"%"}})});OM.displayName=D_;var O_="SliderThumb",LM=R.forwardRef((n,e)=>{const t=wG(n.__scopeSlider),[i,o]=R.useState(null),l=mr(e,p=>o(p)),d=R.useMemo(()=>i?t().findIndex(p=>p.ref.current===i):-1,[t,i]);return _.jsx(xG,{...n,ref:l,index:d})}),xG=R.forwardRef((n,e)=>{const{__scopeSlider:t,index:i,name:o,...l}=n,d=Ew(O_,t),p=NM(O_,t),[m,v]=R.useState(null),w=mr(e,z=>v(z)),T=m?d.form||!!m.closest("form"):!0,C=bG(m),N=d.values[i],O=N===void 0?0:VM(N,d.min,d.max),I=RG(i,d.values.length),k=C?.[p.size],D=k?kG(k,O,p.direction):0;return R.useEffect(()=>{if(m)return d.thumbs.add(m),()=>{d.thumbs.delete(m)}},[m,d.thumbs]),_.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[p.startEdge]:`calc(${O}% + ${D}px)`},children:[_.jsx(P_.ItemSlot,{scope:n.__scopeSlider,children:_.jsx(vi.span,{role:"slider","aria-label":n["aria-label"]||I,"aria-valuemin":d.min,"aria-valuenow":N,"aria-valuemax":d.max,"aria-orientation":d.orientation,"data-orientation":d.orientation,"data-disabled":d.disabled?"":void 0,tabIndex:d.disabled?void 0:0,...l,ref:w,style:N===void 0?{display:"none"}:n.style,onFocus:Fn(n.onFocus,()=>{d.valueIndexToChangeRef.current=i})})}),T&&_.jsx(jM,{name:o??(d.name?d.name+(d.values.length>1?"[]":""):void 0),form:d.form,value:N},i)]})});LM.displayName=O_;var AG="RadioBubbleInput",jM=R.forwardRef(({__scopeSlider:n,value:e,...t},i)=>{const o=R.useRef(null),l=mr(o,i),d=yG(e);return R.useEffect(()=>{const p=o.current;if(!p)return;const m=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(m,"value").set;if(d!==e&&w){const T=new Event("input",{bubbles:!0});w.call(p,e),p.dispatchEvent(T)}},[d,e]),_.jsx(vi.input,{style:{display:"none"},...t,ref:l,defaultValue:e})});jM.displayName=AG;function CG(n=[],e,t){const i=[...n];return i[t]=e,i.sort((o,l)=>o-l)}function VM(n,e,t){const l=100/(t-e)*(n-e);return TM(l,[0,100])}function RG(n,e){return e>2?`Value ${n+1} of ${e}`:e===2?["Minimum","Maximum"][n]:void 0}function IG(n,e){if(n.length===1)return 0;const t=n.map(o=>Math.abs(o-e)),i=Math.min(...t);return t.indexOf(i)}function kG(n,e,t){const i=n/2,l=JT([0,50],[0,i]);return(i-l(e)*t)*t}function NG(n){return n.slice(0,-1).map((e,t)=>n[t+1]-e)}function MG(n,e){if(e>0){const t=NG(n);return Math.min(...t)>=e}return!0}function JT(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const i=(e[1]-e[0])/(n[1]-n[0]);return e[0]+i*(t-n[0])}}function PG(n){return(String(n).split(".")[1]||"").length}function DG(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}var UM=IM,OG=DM,LG=OM,jG=LM;const BM=R.forwardRef(({className:n,...e},t)=>_.jsxs(UM,{ref:t,className:oi("relative flex w-full touch-none select-none items-center",n),...e,children:[_.jsx(OG,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:_.jsx(LG,{className:"absolute h-full bg-primary"})}),_.jsx(jG,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));BM.displayName=UM.displayName;const OA=GF(g_,"chopSessions"),L_={async create(n){try{const e=tm.currentUser;if(!e)throw new Error("User not authenticated");const t=n.chops.map(({audioData:o,...l})=>l);return(await p8(OA,{...n,chops:t,userId:e.uid,created_date:new Date})).id}catch(e){throw console.error("Error adding document: ",e),e}},async list(n="-created_date"){try{const e=tm.currentUser;if(!e)return[];const t=r8(OA,s8("userId","==",e.uid),o8("created_date",n.startsWith("-")?"desc":"asc"));return(await h8(t)).docs.map(o=>({id:o.id,...o.data()}))}catch(e){throw console.error("Error getting documents: ",e),e}},async get(n){try{const e=p_(g_,"chopSessions",n),t=await d8(e);if(t.exists()){const i=t.data(),o=tm.currentUser;if(i.userId!==o?.uid)throw new Error("User not authorized to view this session");return{id:t.id,...i}}else return console.log("No such document!"),null}catch(e){throw console.error("Error getting document:",e),e}},async delete(n){try{if(!await this.get(n))throw new Error("Session not found or user not authorized.");await f8(p_(g_,"chopSessions",n))}catch(e){throw console.error("Error deleting document: ",e),e}}},VG=1,UG=1e6;let k1=0;function BG(){return k1=(k1+1)%Number.MAX_VALUE,k1.toString()}const N1=new Map,LA=n=>{if(N1.has(n))return;const e=setTimeout(()=>{N1.delete(n),Fv({type:"REMOVE_TOAST",toastId:n})},UG);N1.set(n,e)},FG=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,VG)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?LA(t):n.toasts.forEach(i=>{LA(i.id)}),{...n,toasts:n.toasts.map(i=>i.id===t||t===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},rb=[];let sb={toasts:[]};function Fv(n){sb=FG(sb,n),rb.forEach(e=>{e(sb)})}function zG(n){const e=BG(),t=o=>Fv({type:"UPDATE_TOAST",toast:{...o,id:e}}),i=()=>Fv({type:"DISMISS_TOAST",toastId:e});return Fv({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:o=>{o||i()}}}),{id:e,dismiss:i,update:t}}function FM(){const[n,e]=R.useState(sb);return R.useEffect(()=>(rb.push(e),()=>{const t=rb.indexOf(e);t>-1&&rb.splice(t,1)}),[n]),{...n,toast:zG,dismiss:t=>Fv({type:"DISMISS_TOAST",toastId:t})}}var HG=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),qG="VisuallyHidden",ZT=R.forwardRef((n,e)=>_.jsx(vi.span,{...n,ref:e,style:{...HG,...n.style}}));ZT.displayName=qG;var eS="ToastProvider",[tS,GG,$G]=SM("Toast"),[zM,q$]=Vb("Toast",[$G]),[KG,Tw]=zM(eS),HM=n=>{const{__scopeToast:e,label:t="Notification",duration:i=5e3,swipeDirection:o="right",swipeThreshold:l=50,children:d}=n,[p,m]=R.useState(null),[v,w]=R.useState(0),T=R.useRef(!1),C=R.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${eS}\`. Expected non-empty \`string\`.`),_.jsx(tS.Provider,{scope:e,children:_.jsx(KG,{scope:e,label:t,duration:i,swipeDirection:o,swipeThreshold:l,toastCount:v,viewport:p,onViewportChange:m,onToastAdd:R.useCallback(()=>w(N=>N+1),[]),onToastRemove:R.useCallback(()=>w(N=>N-1),[]),isFocusedToastEscapeKeyDownRef:T,isClosePausedRef:C,children:d})})};HM.displayName=eS;var qM="ToastViewport",WG=["F8"],j_="toast.viewportPause",V_="toast.viewportResume",GM=R.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:i=WG,label:o="Notifications ({hotkey})",...l}=n,d=Tw(qM,t),p=GG(t),m=R.useRef(null),v=R.useRef(null),w=R.useRef(null),T=R.useRef(null),C=mr(e,T,d.onViewportChange),N=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=d.toastCount>0;R.useEffect(()=>{const k=D=>{i.length!==0&&i.every(K=>D[K]||D.code===K)&&T.current?.focus()};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[i]),R.useEffect(()=>{const k=m.current,D=T.current;if(O&&k&&D){const z=()=>{if(!d.isClosePausedRef.current){const Z=new CustomEvent(j_);D.dispatchEvent(Z),d.isClosePausedRef.current=!0}},K=()=>{if(d.isClosePausedRef.current){const Z=new CustomEvent(V_);D.dispatchEvent(Z),d.isClosePausedRef.current=!1}},W=Z=>{!k.contains(Z.relatedTarget)&&K()},Y=()=>{k.contains(document.activeElement)||K()};return k.addEventListener("focusin",z),k.addEventListener("focusout",W),k.addEventListener("pointermove",z),k.addEventListener("pointerleave",Y),window.addEventListener("blur",z),window.addEventListener("focus",K),()=>{k.removeEventListener("focusin",z),k.removeEventListener("focusout",W),k.removeEventListener("pointermove",z),k.removeEventListener("pointerleave",Y),window.removeEventListener("blur",z),window.removeEventListener("focus",K)}}},[O,d.isClosePausedRef]);const I=R.useCallback(({tabbingDirection:k})=>{const z=p().map(K=>{const W=K.ref.current,Y=[W,...a$(W)];return k==="forwards"?Y:Y.reverse()});return(k==="forwards"?z.reverse():z).flat()},[p]);return R.useEffect(()=>{const k=T.current;if(k){const D=z=>{const K=z.altKey||z.ctrlKey||z.metaKey;if(z.key==="Tab"&&!K){const Y=document.activeElement,Z=z.shiftKey;if(z.target===k&&Z){v.current?.focus();return}const B=I({tabbingDirection:Z?"backwards":"forwards"}),$=B.findIndex(H=>H===Y);M1(B.slice($+1))?z.preventDefault():Z?v.current?.focus():w.current?.focus()}};return k.addEventListener("keydown",D),()=>k.removeEventListener("keydown",D)}},[p,I]),_.jsxs(H4,{ref:m,role:"region","aria-label":o.replace("{hotkey}",N),tabIndex:-1,style:{pointerEvents:O?void 0:"none"},children:[O&&_.jsx(U_,{ref:v,onFocusFromOutsideViewport:()=>{const k=I({tabbingDirection:"forwards"});M1(k)}}),_.jsx(tS.Slot,{scope:t,children:_.jsx(vi.ol,{tabIndex:-1,...l,ref:C})}),O&&_.jsx(U_,{ref:w,onFocusFromOutsideViewport:()=>{const k=I({tabbingDirection:"backwards"});M1(k)}})]})});GM.displayName=qM;var $M="ToastFocusProxy",U_=R.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:i,...o}=n,l=Tw($M,t);return _.jsx(ZT,{"aria-hidden":!0,tabIndex:0,...o,ref:e,style:{position:"fixed"},onFocus:d=>{const p=d.relatedTarget;!l.viewport?.contains(p)&&i()}})});U_.displayName=$M;var Dy="Toast",YG="toast.swipeStart",XG="toast.swipeMove",QG="toast.swipeCancel",JG="toast.swipeEnd",KM=R.forwardRef((n,e)=>{const{forceMount:t,open:i,defaultOpen:o,onOpenChange:l,...d}=n,[p,m]=iE({prop:i,defaultProp:o??!0,onChange:l,caller:Dy});return _.jsx(py,{present:t||p,children:_.jsx(t$,{open:p,...d,ref:e,onClose:()=>m(!1),onPause:Ec(n.onPause),onResume:Ec(n.onResume),onSwipeStart:Fn(n.onSwipeStart,v=>{v.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Fn(n.onSwipeMove,v=>{const{x:w,y:T}=v.detail.delta;v.currentTarget.setAttribute("data-swipe","move"),v.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${w}px`),v.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${T}px`)}),onSwipeCancel:Fn(n.onSwipeCancel,v=>{v.currentTarget.setAttribute("data-swipe","cancel"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),v.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),v.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Fn(n.onSwipeEnd,v=>{const{x:w,y:T}=v.detail.delta;v.currentTarget.setAttribute("data-swipe","end"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),v.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${w}px`),v.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${T}px`),m(!1)})})})});KM.displayName=Dy;var[ZG,e$]=zM(Dy,{onClose(){}}),t$=R.forwardRef((n,e)=>{const{__scopeToast:t,type:i="foreground",duration:o,open:l,onClose:d,onEscapeKeyDown:p,onPause:m,onResume:v,onSwipeStart:w,onSwipeMove:T,onSwipeCancel:C,onSwipeEnd:N,...O}=n,I=Tw(Dy,t),[k,D]=R.useState(null),z=mr(e,se=>D(se)),K=R.useRef(null),W=R.useRef(null),Y=o||I.duration,Z=R.useRef(0),U=R.useRef(Y),V=R.useRef(0),{onToastAdd:B,onToastRemove:$}=I,H=Ec(()=>{k?.contains(document.activeElement)&&I.viewport?.focus(),d()}),G=R.useCallback(se=>{!se||se===1/0||(window.clearTimeout(V.current),Z.current=new Date().getTime(),V.current=window.setTimeout(H,se))},[H]);R.useEffect(()=>{const se=I.viewport;if(se){const _e=()=>{G(U.current),v?.()},re=()=>{const fe=new Date().getTime()-Z.current;U.current=U.current-fe,window.clearTimeout(V.current),m?.()};return se.addEventListener(j_,re),se.addEventListener(V_,_e),()=>{se.removeEventListener(j_,re),se.removeEventListener(V_,_e)}}},[I.viewport,Y,m,v,G]),R.useEffect(()=>{l&&!I.isClosePausedRef.current&&G(Y)},[l,Y,I.isClosePausedRef,G]),R.useEffect(()=>(B(),()=>$()),[B,$]);const L=R.useMemo(()=>k?eP(k):null,[k]);return I.viewport?_.jsxs(_.Fragment,{children:[L&&_.jsx(n$,{__scopeToast:t,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),_.jsx(ZG,{scope:t,onClose:H,children:$_.createPortal(_.jsx(tS.ItemSlot,{scope:t,children:_.jsx(z4,{asChild:!0,onEscapeKeyDown:Fn(p,()=>{I.isFocusedToastEscapeKeyDownRef.current||H(),I.isFocusedToastEscapeKeyDownRef.current=!1}),children:_.jsx(vi.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":I.swipeDirection,...O,ref:z,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Fn(n.onKeyDown,se=>{se.key==="Escape"&&(p?.(se.nativeEvent),se.nativeEvent.defaultPrevented||(I.isFocusedToastEscapeKeyDownRef.current=!0,H()))}),onPointerDown:Fn(n.onPointerDown,se=>{se.button===0&&(K.current={x:se.clientX,y:se.clientY})}),onPointerMove:Fn(n.onPointerMove,se=>{if(!K.current)return;const _e=se.clientX-K.current.x,re=se.clientY-K.current.y,fe=!!W.current,ve=["left","right"].includes(I.swipeDirection),Ne=["left","up"].includes(I.swipeDirection)?Math.min:Math.max,J=ve?Ne(0,_e):0,ae=ve?0:Ne(0,re),Re=se.pointerType==="touch"?10:2,Ee={x:J,y:ae},Le={originalEvent:se,delta:Ee};fe?(W.current=Ee,B0(XG,T,Le,{discrete:!1})):jA(Ee,I.swipeDirection,Re)?(W.current=Ee,B0(YG,w,Le,{discrete:!1}),se.target.setPointerCapture(se.pointerId)):(Math.abs(_e)>Re||Math.abs(re)>Re)&&(K.current=null)}),onPointerUp:Fn(n.onPointerUp,se=>{const _e=W.current,re=se.target;if(re.hasPointerCapture(se.pointerId)&&re.releasePointerCapture(se.pointerId),W.current=null,K.current=null,_e){const fe=se.currentTarget,ve={originalEvent:se,delta:_e};jA(_e,I.swipeDirection,I.swipeThreshold)?B0(JG,N,ve,{discrete:!0}):B0(QG,C,ve,{discrete:!0}),fe.addEventListener("click",Ne=>Ne.preventDefault(),{once:!0})}})})})}),I.viewport)})]}):null}),n$=n=>{const{__scopeToast:e,children:t,...i}=n,o=Tw(Dy,e),[l,d]=R.useState(!1),[p,m]=R.useState(!1);return s$(()=>d(!0)),R.useEffect(()=>{const v=window.setTimeout(()=>m(!0),1e3);return()=>window.clearTimeout(v)},[]),p?null:_.jsx(sE,{asChild:!0,children:_.jsx(ZT,{...i,children:l&&_.jsxs(_.Fragment,{children:[o.label," ",t]})})})},i$="ToastTitle",WM=R.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n;return _.jsx(vi.div,{...i,ref:e})});WM.displayName=i$;var r$="ToastDescription",YM=R.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n;return _.jsx(vi.div,{...i,ref:e})});YM.displayName=r$;var XM="ToastAction",QM=R.forwardRef((n,e)=>{const{altText:t,...i}=n;return t.trim()?_.jsx(ZM,{altText:t,asChild:!0,children:_.jsx(nS,{...i,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${XM}\`. Expected non-empty \`string\`.`),null)});QM.displayName=XM;var JM="ToastClose",nS=R.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n,o=e$(JM,t);return _.jsx(ZM,{asChild:!0,children:_.jsx(vi.button,{type:"button",...i,ref:e,onClick:Fn(n.onClick,o.onClose)})})});nS.displayName=JM;var ZM=R.forwardRef((n,e)=>{const{__scopeToast:t,altText:i,...o}=n;return _.jsx(vi.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...o,ref:e})});function eP(n){const e=[];return Array.from(n.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&e.push(i.textContent),o$(i)){const o=i.ariaHidden||i.hidden||i.style.display==="none",l=i.dataset.radixToastAnnounceExclude==="";if(!o)if(l){const d=i.dataset.radixToastAnnounceAlt;d&&e.push(d)}else e.push(...eP(i))}}),e}function B0(n,e,t,{discrete:i}){const o=t.originalEvent.currentTarget,l=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),i?pC(o,l):o.dispatchEvent(l)}var jA=(n,e,t=0)=>{const i=Math.abs(n.x),o=Math.abs(n.y),l=i>o;return e==="left"||e==="right"?l&&i>t:!l&&o>t};function s$(n=()=>{}){const e=Ec(n);$h(()=>{let t=0,i=0;return t=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(i)}},[e])}function o$(n){return n.nodeType===n.ELEMENT_NODE}function a$(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function M1(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var l$=HM,tP=GM,nP=KM,iP=WM,rP=YM,sP=QM,oP=nS;const c$=l$,aP=R.forwardRef(({className:n,...e},t)=>_.jsx(tP,{ref:t,className:oi("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));aP.displayName=tP.displayName;const u$=lC("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),lP=R.forwardRef(({className:n,variant:e,...t},i)=>_.jsx(nP,{ref:i,className:oi(u$({variant:e}),n),...t}));lP.displayName=nP.displayName;const d$=R.forwardRef(({className:n,...e},t)=>_.jsx(sP,{ref:t,className:oi("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));d$.displayName=sP.displayName;const cP=R.forwardRef(({className:n,...e},t)=>_.jsx(oP,{ref:t,className:oi("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:_.jsx(tE,{className:"h-4 w-4"})}));cP.displayName=oP.displayName;const uP=R.forwardRef(({className:n,...e},t)=>_.jsx(iP,{ref:t,className:oi("text-sm font-semibold",n),...e}));uP.displayName=iP.displayName;const dP=R.forwardRef(({className:n,...e},t)=>_.jsx(rP,{ref:t,className:oi("text-sm opacity-90",n),...e}));dP.displayName=rP.displayName;function h$(){const{toasts:n}=FM();return _.jsxs(c$,{children:[n.map(function({id:e,title:t,description:i,action:o,...l}){return _.jsxs(lP,{...l,children:[_.jsxs("div",{className:"grid gap-1",children:[t&&_.jsx(uP,{children:t}),i&&_.jsx(dP,{children:i})]}),o,_.jsx(cP,{})]},e)}),_.jsx(aP,{})]})}function f$({activeBank:n,setActiveBank:e,masterVolume:t,setMasterVolume:i,chops:o,youtubeUrl:l}){const d=["A","B","C","D"],{toast:p}=FM(),{currentUser:m}=vT(),[v,w]=R.useState(""),[T,C]=R.useState(!1),N=async()=>{if(!m){p({variant:"destructive",title:"Authentication Required",description:"You must be signed in to save a session."});return}if(!v){p({variant:"destructive",title:"Uh oh! Something went wrong.",description:"Please enter a name for your session."});return}C(!0);try{await L_.create({sessionName:v,youtubeUrl:l,chops:o,userId:m.uid}),p({title:"Session Saved!",description:`"${v}" has been saved successfully.`})}catch(O){console.error("Failed to save session:",O),p({variant:"destructive",title:"Save Failed",description:"Could not save your session. Please try again."})}finally{C(!1)}};return _.jsxs(_.Fragment,{children:[_.jsx(h$,{}),_.jsxs(vn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl shadow-lg p-4 space-y-6",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white/80",children:[_.jsx(ZD,{className:"w-4 h-4 text-cyan-400"}),"Sample Banks"]}),_.jsx("div",{className:"grid grid-cols-4 gap-2",children:d.map(O=>_.jsx(wt,{onClick:()=>e(O),className:`font-mono text-lg transition-all duration-200
                                ${n===O?"bg-cyan-500 text-black shadow-md":"bg-white/10 hover:bg-white/20"}`,children:O},O))})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white/80",children:[_.jsx(J_,{className:"w-4 h-4 text-cyan-400"}),"Master Volume"]}),_.jsx(BM,{defaultValue:[100],max:100,step:1,onValueChange:O=>i(O[0]/100),className:"[&>span:first-child]:bg-cyan-400"})]}),_.jsxs("div",{className:"space-y-3 pt-4 border-t border-white/10",children:[_.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white/80",children:[_.jsx(Q_,{className:"w-4 h-4 text-cyan-400"}),"Save Session"]}),m?_.jsxs(_.Fragment,{children:[_.jsx(cd,{placeholder:"Session Name...",value:v,onChange:O=>w(O.target.value),className:"bg-white/10 border-white/20 placeholder-gray-400"}),_.jsx(wt,{onClick:N,disabled:T||!m,className:"w-full bg-purple-600 hover:bg-purple-700 font-bold",children:T?"Saving...":"Save Chops"})]}):_.jsx("div",{className:"text-center text-sm text-white/60 p-4 bg-black/20 rounded-lg",children:_.jsx("p",{children:"Please sign in to save your sessions."})})]})]})]})}function ud({className:n="",children:e,...t}){return _.jsx("div",{className:`relative w-full rounded-lg border p-4 ${n}`,...t,children:e})}function dd({className:n="",children:e,...t}){return _.jsx("div",{className:`text-sm ${n}`,...t,children:e})}let p$=class{constructor(){this.storageKey="youtube-chopper-sessions",this.currentSessionKey="current-session"}async saveSession(e,t=null){try{const i=this.generateSessionId(),o=new Date().toISOString(),l={id:i,name:t||`Session ${new Date().toLocaleDateString()}`,youtubeUrl:e.youtubeUrl,videoId:this.extractVideoId(e.youtubeUrl),chops:e.chops.map(p=>({padId:p.padId,startTime:p.startTime,endTime:p.endTime,color:p.color})),activeBank:e.activeBank||"A",createdAt:o,updatedAt:o,version:"1.0"},d=await this.getAllSessions();return d[i]=l,localStorage.setItem(this.storageKey,JSON.stringify(d)),localStorage.setItem(this.currentSessionKey,i),console.log(` Session saved: ${t||i}`),console.log(` Chops saved: ${l.chops.length}`),{success:!0,sessionId:i,sessionName:l.name}}catch(i){return console.error("Failed to save session:",i),{success:!1,error:i.message}}}async loadSession(e){try{const i=(await this.getAllSessions())[e];if(!i)throw new Error(`Session ${e} not found`);return localStorage.setItem(this.currentSessionKey,e),console.log(` Session loaded: ${i.name}`),console.log(` Video: ${i.youtubeUrl}`),console.log(` Chops: ${i.chops.length}`),{success:!0,session:i}}catch(t){return console.error("Failed to load session:",t),{success:!1,error:t.message}}}async getAllSessions(){try{const e=localStorage.getItem(this.storageKey);return e?JSON.parse(e):{}}catch(e){return console.error("Failed to get sessions:",e),{}}}async deleteSession(e){try{const t=await this.getAllSessions();if(!t[e])throw new Error(`Session ${e} not found`);const i=t[e].name;return delete t[e],localStorage.setItem(this.storageKey,JSON.stringify(t)),localStorage.getItem(this.currentSessionKey)===e&&localStorage.removeItem(this.currentSessionKey),console.log(` Session deleted: ${i}`),{success:!0,sessionName:i}}catch(t){return console.error("Failed to delete session:",t),{success:!1,error:t.message}}}getCurrentSessionId(){return localStorage.getItem(this.currentSessionKey)}autoSave(e){this.autoSaveTimeout&&clearTimeout(this.autoSaveTimeout),this.autoSaveTimeout=setTimeout(async()=>{const t=this.getCurrentSessionId();t?await this.updateSession(t,e):await this.saveSession(e,"Auto-saved Session")},2e3)}async updateSession(e,t){try{const i=await this.getAllSessions(),o=i[e];if(!o)throw new Error(`Session ${e} not found`);const l={...o,youtubeUrl:t.youtubeUrl,videoId:this.extractVideoId(t.youtubeUrl),chops:t.chops.map(d=>({padId:d.padId,startTime:d.startTime,endTime:d.endTime,color:d.color})),activeBank:t.activeBank||o.activeBank,updatedAt:new Date().toISOString()};return i[e]=l,localStorage.setItem(this.storageKey,JSON.stringify(i)),console.log(` Session updated: ${l.name}`),{success:!0,session:l}}catch(i){return console.error("Failed to update session:",i),{success:!1,error:i.message}}}async exportSession(e){try{const t=await this.loadSession(e);if(!t.success)throw new Error(t.error);return{success:!0,data:{...t.session,exportedAt:new Date().toISOString(),appVersion:"1.0"},filename:`chopper-session-${t.session.name.replace(/[^a-z0-9]/gi,"-").toLowerCase()}.json`}}catch(t){return console.error("Failed to export session:",t),{success:!1,error:t.message}}}async importSession(e){try{if(!e.youtubeUrl||!Array.isArray(e.chops))throw new Error("Invalid session data format");const t=this.generateSessionId(),i={...e,id:t,name:`${e.name} (Imported)`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},o=await this.getAllSessions();return o[t]=i,localStorage.setItem(this.storageKey,JSON.stringify(o)),console.log(` Session imported: ${i.name}`),{success:!0,sessionId:t,session:i}}catch(t){return console.error("Failed to import session:",t),{success:!1,error:t.message}}}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}extractVideoId(e){const t=e.match(/(?:v=|youtu\.be\/)([^&?]+)/);return t?t[1]:null}clearAllSessions(){localStorage.removeItem(this.storageKey),localStorage.removeItem(this.currentSessionKey),console.log(" All sessions cleared")}async getSessionStats(){const e=await this.getAllSessions(),t=Object.values(e);return{totalSessions:t.length,totalChops:t.reduce((i,o)=>i+o.chops.length,0),oldestSession:t.length>0?t.reduce((i,o)=>new Date(o.createdAt)<new Date(i.createdAt)?o:i).createdAt:null,newestSession:t.length>0?t.reduce((i,o)=>new Date(o.createdAt)>new Date(i.createdAt)?o:i).createdAt:null}}};const jp=new p$;function m$({currentSession:n,onLoadSession:e,onNewSession:t,isOpen:i,onClose:o}){const[l,d]=R.useState({}),[p,m]=R.useState(""),[v,w]=R.useState(!1),[T,C]=R.useState(null),[N,O]=R.useState(null);R.useEffect(()=>{I()},[]);const I=async()=>{const U=await jp.getAllSessions();d(U)},k=async()=>{if(!n.youtubeUrl){C({type:"error",text:"No video loaded to save"});return}if(!p.trim()){C({type:"error",text:"Please enter a session name"});return}w(!0);const U=await jp.saveSession(n,p.trim());U.success?(C({type:"success",text:`Session "${U.sessionName}" saved successfully!`}),m(""),await I()):C({type:"error",text:`Failed to save session: ${U.error}`}),w(!1)},D=async U=>{w(!0);const V=await jp.loadSession(U);V.success?(e(V.session),C({type:"success",text:`Session "${V.session.name}" loaded successfully!`}),o()):C({type:"error",text:`Failed to load session: ${V.error}`}),w(!1)},z=async U=>{const V=await jp.deleteSession(U);V.success?(C({type:"success",text:`Session "${V.sessionName}" deleted`}),await I()):C({type:"error",text:`Failed to delete session: ${V.error}`}),O(null)},K=async U=>{const V=await jp.exportSession(U);if(V.success){const B=new Blob([JSON.stringify(V.data,null,2)],{type:"application/json"}),$=URL.createObjectURL(B),H=document.createElement("a");H.href=$,H.download=V.filename,document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL($),C({type:"success",text:"Session exported successfully!"})}else C({type:"error",text:`Failed to export session: ${V.error}`})},W=U=>{const V=U.target.files[0];if(!V)return;const B=new FileReader;B.onload=async $=>{try{const H=JSON.parse($.target.result),G=await jp.importSession(H);G.success?(C({type:"success",text:`Session "${G.session.name}" imported successfully!`}),await I()):C({type:"error",text:`Failed to import session: ${G.error}`})}catch{C({type:"error",text:"Invalid session file format"})}},B.readAsText(V),U.target.value=""},Y=U=>new Date(U).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Z=Object.values(l).sort((U,V)=>new Date(V.updatedAt)-new Date(U.updatedAt));return i?_.jsxs(vn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:o,children:[_.jsxs(vn.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-black/90 backdrop-blur-lg border border-white/20 rounded-2xl shadow-2xl max-w-4xl w-full max-h-[80vh] overflow-hidden",onClick:U=>U.stopPropagation(),children:[_.jsx("div",{className:"p-6 border-b border-white/10",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(L1,{className:"w-6 h-6 text-cyan-400"}),_.jsx("h2",{className:"text-xl font-bold text-white",children:"Session Manager"})]}),_.jsx(wt,{onClick:o,variant:"ghost",size:"sm",className:"text-white/60 hover:text-white",children:""})]})}),_.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(80vh-120px)]",children:[_.jsx(hl,{children:T&&_.jsx(vn.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-4",children:_.jsx(ud,{className:`border ${T.type==="success"?"border-green-400 bg-green-400/10":"border-red-400 bg-red-400/10"}`,children:_.jsx(dd,{className:T.type==="success"?"text-green-200":"text-red-200",children:T.text})})})}),_.jsxs("div",{className:"mb-6 p-4 bg-white/5 rounded-lg border border-white/10",children:[_.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[_.jsx(Q_,{className:"w-5 h-5 text-cyan-400"}),"Save Current Session"]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx(cd,{placeholder:"Enter session name...",value:p,onChange:U=>m(U.target.value),className:"bg-white/10 border-white/20 text-white placeholder-gray-400",onKeyPress:U=>U.key==="Enter"&&k()}),_.jsx(wt,{onClick:k,disabled:v||!p.trim(),className:"bg-cyan-500 hover:bg-cyan-600 text-black font-bold",children:v?"Saving...":"Save"})]}),n.chops?.length>0&&_.jsxs("p",{className:"text-sm text-white/60 mt-2",children:["Current session has ",n.chops.length," chops"]})]}),_.jsxs("div",{className:"mb-6 flex gap-3",children:[_.jsxs("label",{className:"flex-1",children:[_.jsx("input",{type:"file",accept:".json",onChange:W,className:"hidden"}),_.jsxs(wt,{as:"span",variant:"outline",className:"w-full border-white/20 text-white hover:bg-white/10",children:[_.jsx(j1,{className:"w-4 h-4 mr-2"}),"Import Session"]})]}),_.jsxs(wt,{onClick:t,variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[_.jsx(mO,{className:"w-4 h-4 mr-2"}),"New Session"]})]}),_.jsxs("div",{children:[_.jsxs("h3",{className:"text-lg font-semibold text-white mb-4",children:["Saved Sessions (",Z.length,")"]}),Z.length===0?_.jsxs("div",{className:"text-center py-8 text-white/60",children:[_.jsx(L1,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),_.jsx("p",{children:"No saved sessions yet"}),_.jsx("p",{className:"text-sm",children:"Create your first session by saving your current work"})]}):_.jsx("div",{className:"space-y-3",children:Z.map(U=>_.jsx(vn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-white/5 rounded-lg border border-white/10 hover:bg-white/10 transition-colors",children:_.jsxs("div",{className:"flex items-start justify-between",children:[_.jsxs("div",{className:"flex-1",children:[_.jsx("h4",{className:"font-semibold text-white mb-1",children:U.name}),_.jsxs("div",{className:"flex items-center gap-4 text-sm text-white/60 mb-2",children:[_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(V1,{className:"w-3 h-3"}),U.videoId]}),_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(X_,{className:"w-3 h-3"}),Y(U.updatedAt)]}),_.jsxs("span",{children:[U.chops.length," chops"]})]}),_.jsx("p",{className:"text-xs text-white/40 truncate",children:U.youtubeUrl})]}),_.jsxs("div",{className:"flex gap-2 ml-4",children:[_.jsx(wt,{onClick:()=>D(U.id),size:"sm",className:"bg-cyan-500 hover:bg-cyan-600 text-black",children:"Load"}),_.jsx(wt,{onClick:()=>K(U.id),size:"sm",variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:_.jsx(ZA,{className:"w-3 h-3"})}),_.jsx(wt,{onClick:()=>O(U.id),size:"sm",variant:"outline",className:"border-red-400/20 text-red-400 hover:bg-red-400/10",children:_.jsx(jb,{className:"w-3 h-3"})})]})]})},U.id))})]})]})]}),_.jsx(hl,{children:N&&_.jsx(vn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 flex items-center justify-center",onClick:()=>O(null),children:_.jsxs(vn.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-black/90 border border-red-400/20 rounded-lg p-6 max-w-md mx-4",onClick:U=>U.stopPropagation(),children:[_.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Delete Session"}),_.jsx("p",{className:"text-white/70 mb-4",children:"Are you sure you want to delete this session? This action cannot be undone."}),_.jsxs("div",{className:"flex gap-3 justify-end",children:[_.jsx(wt,{onClick:()=>O(null),variant:"outline",className:"border-white/20 text-white",children:"Cancel"}),_.jsx(wt,{onClick:()=>z(N),className:"bg-red-500 hover:bg-red-600 text-white",children:"Delete"})]})]})})})]}):null}function iS({value:n=0,className:e="",...t}){const i=Math.min(100,Math.max(0,n));return _.jsx("div",{className:`relative w-full overflow-hidden rounded-full bg-gray-200 ${e}`,...t,children:_.jsx("div",{className:"h-full bg-cyan-500 transition-all duration-300 ease-out",style:{width:`${i}%`}})})}class g${constructor(){this.audioContext=null,this.mediaElementSource=null,this.analyser=null,this.scriptProcessor=null,this.isCapturing=!1,this.capturedSamples=[],this.videoElement=null,this.captureStartTime=0,this.targetDuration=0,this.config={sampleRate:44100,bufferSize:4096,fftSize:2048,maxCaptureTime:600,waveformSamples:400},this.startCapture=this.startCapture.bind(this),this.stopCapture=this.stopCapture.bind(this),this.cleanup=this.cleanup.bind(this)}async startCapture(e,t=null,i=null){const o=Vr.startMeasurement("youtube_stream_capture");try{if(!e)throw new Error("Video element not provided");return this.videoElement=e,this.targetDuration=i||e.duration||this.config.maxCaptureTime,this.audioContext=new(window.AudioContext||window.webkitAudioContext)({sampleRate:this.config.sampleRate}),this.audioContext.state==="suspended"&&await this.audioContext.resume(),this.mediaElementSource=this.audioContext.createMediaElementSource(e),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=this.config.fftSize,this.analyser.smoothingTimeConstant=.8,this.scriptProcessor=this.audioContext.createScriptProcessor(this.config.bufferSize,1,1),this.mediaElementSource.connect(this.analyser),this.analyser.connect(this.scriptProcessor),this.scriptProcessor.connect(this.audioContext.destination),this.setupAudioProcessing(t),this.isCapturing=!0,this.captureStartTime=this.audioContext.currentTime,this.capturedSamples=[],console.log("Started YouTube audio capture"),new Promise((l,d)=>{this.captureResolve=l,this.captureReject=d,setTimeout(()=>{this.isCapturing&&this.stopCapture().then(l).catch(d)},this.targetDuration*1e3)})}catch(l){throw o({error:l.message}),console.error("Failed to start YouTube capture:",l),new Error(`Capture initialization failed: ${l.message}`)}}setupAudioProcessing(e){let t=0;const i=Math.floor(this.config.sampleRate/10);this.scriptProcessor.onaudioprocess=o=>{if(!this.isCapturing)return;const d=o.inputBuffer.getChannelData(0),p=new Float32Array(d.length);if(p.set(d),this.capturedSamples.push(p),t+=d.length,t%i===0&&e){const v=t/this.config.sampleRate,w=Math.min(v/this.targetDuration*100,99);e({status:"capturing",progress:Math.round(w),capturedTime:v,targetDuration:this.targetDuration})}t/this.config.sampleRate>=this.targetDuration&&this.stopCapture()}}async stopCapture(){if(!this.isCapturing)return null;const e=Vr.startMeasurement("youtube_capture_processing");try{this.isCapturing=!1,console.log("Stopping YouTube audio capture"),this.scriptProcessor&&(this.scriptProcessor.disconnect(),this.scriptProcessor.onaudioprocess=null),this.analyser&&this.analyser.disconnect(),this.mediaElementSource&&this.mediaElementSource.disconnect();const t=await this.createAudioBufferFromSamples();if(!t)throw new Error("No audio data captured");const i=await dy.generateWaveform(t,{samples:this.config.waveformSamples,normalize:!0}),o=`youtube_capture_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;pa.registerBuffer(o,t,{priority:pa.config.priorityLevels.HIGH,tags:["youtube","captured","streaming"],source:"youtube_stream"});const l={audioBuffer:t,waveformData:i.data,metadata:{duration:t.duration,sampleRate:t.sampleRate,channels:t.numberOfChannels,capturedSamples:this.capturedSamples.length,bufferId:o,source:"youtube_stream"}};return e({success:!0,duration:t.duration,samples:this.capturedSamples.length}),this.captureResolve&&this.captureResolve(l),l}catch(t){throw e({error:t.message}),console.error("Failed to process captured audio:",t),this.captureReject&&this.captureReject(t),t}}async createAudioBufferFromSamples(){if(this.capturedSamples.length===0)return null;const e=this.capturedSamples.reduce((l,d)=>l+d.length,0);if(e===0)return null;const t=this.audioContext.createBuffer(1,e,this.config.sampleRate),i=t.getChannelData(0);let o=0;for(const l of this.capturedSamples)i.set(l,o),o+=l.length;return t}getStatus(){return{isCapturing:this.isCapturing,capturedSamples:this.capturedSamples.length,capturedDuration:this.capturedSamples.length>0?this.capturedSamples.length*this.config.bufferSize/this.config.sampleRate:0,targetDuration:this.targetDuration,audioContextState:this.audioContext?.state||"not-initialized"}}static isSupported(){return!!(window.AudioContext||window.webkitAudioContext)}cleanup(){this.stopCapture(),this.audioContext&&this.audioContext.state!=="closed"&&(this.audioContext.close(),this.audioContext=null),this.capturedSamples=[],this.videoElement=null,console.log("YouTubeStreamCapture cleaned up")}}const F0=new g$;function v$({youtubeUrl:n,videoElement:e,onCaptureComplete:t,onCaptureError:i,isVideoReady:o=!1}){const[l,d]=R.useState("idle"),[p,m]=R.useState(0),[v,w]=R.useState(null),[T,C]=R.useState(null),[N,O]=R.useState(null);R.useEffect(()=>{d("idle"),m(0),w(null),C(null),O(null)},[n]);const I=R.useCallback(U=>{m(U.progress),w({capturedTime:U.capturedTime,targetDuration:U.targetDuration,status:U.status})},[]),k=R.useCallback(async()=>{if(!e){C("Video element not available. Please wait for video to load.");return}if(!o){C("Video not ready. Please wait for video to fully load.");return}try{d("capturing"),C(null),m(0),console.log(" Starting YouTube audio capture...");const U=e.duration||300,V=Math.min(U,600),B=await F0.startCapture(e,I,V);d("processing"),console.log(" Capture complete, processing audio..."),O(B),d("complete"),m(100),console.log(" Audio capture and processing complete"),console.log(` Captured ${B.metadata.duration.toFixed(2)}s of audio`),t&&t(B)}catch(U){console.error(" Audio capture failed:",U),d("error"),C(U.message||"Audio capture failed"),i&&i(U)}},[e,o,I,t,i]),D=R.useCallback(async()=>{try{d("processing"),console.log(" Stopping audio capture...");const U=await F0.stopCapture();U?(O(U),d("complete"),m(100),t&&t(U)):(d("idle"),m(0))}catch(U){console.error(" Failed to stop capture:",U),d("error"),C(U.message||"Failed to stop capture")}},[t]),z=R.useCallback(()=>{F0.cleanup(),d("idle"),m(0),w(null),C(null),O(null)},[]),K=()=>{switch(l){case"idle":return{icon:Gw,message:"Ready to capture audio from YouTube video",color:"text-white/70"};case"capturing":return{icon:lb,message:`Capturing audio... ${p}%`,color:"text-cyan-400",animate:!0};case"processing":return{icon:lb,message:"Processing captured audio...",color:"text-yellow-400",animate:!0};case"complete":return{icon:Y_,message:"Audio capture complete!",color:"text-green-400"};case"error":return{icon:Iv,message:"Capture failed",color:"text-red-400"};default:return{icon:Gw,message:"Unknown state",color:"text-white/50"}}};if(!F0.constructor.isSupported())return _.jsxs(ud,{className:"border-red-400 bg-red-400/10",children:[_.jsx(Iv,{className:"h-4 w-4 text-red-400"}),_.jsx(dd,{className:"text-red-200",children:"Audio capture is not supported in this browser. Please use a modern browser with Web Audio API support."})]});const Y=K(),Z=Y.icon;return _.jsxs(vn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl p-4 space-y-4",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"p-2 bg-purple-600/20 rounded-lg",children:_.jsx(Gw,{className:"w-4 h-4 text-purple-400"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-white font-medium",children:"Audio Capture"}),_.jsx("p",{className:"text-white/60 text-sm",children:"Capture audio directly from YouTube"})]})]}),_.jsx("div",{className:"flex items-center gap-1 text-white/40",children:e?.muted?_.jsx(cb,{className:"w-4 h-4"}):_.jsx(J_,{className:"w-4 h-4"})})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(Z,{className:`w-4 h-4 ${Y.color} ${Y.animate?"animate-spin":""}`}),_.jsx("span",{className:`text-sm font-medium ${Y.color}`,children:Y.message})]}),_.jsx(hl,{children:(l==="capturing"||l==="processing")&&_.jsxs(vn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-2",children:[_.jsx(iS,{value:p,className:"h-2 bg-white/10"}),v&&_.jsxs("div",{className:"flex justify-between text-xs text-white/50",children:[_.jsxs("span",{children:[v.capturedTime?.toFixed(1),"s / ",v.targetDuration?.toFixed(1),"s"]}),_.jsxs("span",{children:[p,"%"]})]})]})}),_.jsx(hl,{children:T&&_.jsx(vn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:_.jsxs(ud,{className:"border-red-400 bg-red-400/10",children:[_.jsx(Iv,{className:"h-4 w-4 text-red-400"}),_.jsx(dd,{className:"text-red-200 text-sm",children:T})]})})}),_.jsx(hl,{children:N&&l==="complete"&&_.jsx(vn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-green-500/10 border border-green-500/20 rounded-lg p-3",children:_.jsxs("div",{className:"text-green-200 text-sm space-y-1",children:[_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{children:"Duration:"}),_.jsxs("span",{children:[N.metadata.duration.toFixed(2),"s"]})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{children:"Sample Rate:"}),_.jsxs("span",{children:[N.metadata.sampleRate," Hz"]})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{children:"Channels:"}),_.jsx("span",{children:N.metadata.channels})]})]})})}),_.jsxs("div",{className:"flex gap-2",children:[l==="idle"&&_.jsxs(wt,{onClick:k,disabled:!o||!e,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white",children:[_.jsx(nm,{className:"w-4 h-4 mr-2"}),"Start Capture"]}),l==="capturing"&&_.jsxs(wt,{onClick:D,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:[_.jsx(rC,{className:"w-4 h-4 mr-2"}),"Stop Capture"]}),(l==="complete"||l==="error")&&_.jsxs(_.Fragment,{children:[_.jsx(wt,{onClick:z,variant:"outline",className:"flex-1 border-white/20 text-white hover:bg-white/10",children:"Reset"}),l==="complete"&&_.jsxs(wt,{onClick:k,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white",children:[_.jsx(nm,{className:"w-4 h-4 mr-2"}),"Capture Again"]})]})]}),l==="idle"&&_.jsxs("div",{className:"text-xs text-white/40 space-y-1",children:[_.jsx("p",{children:" This captures audio directly from the YouTube player"}),_.jsx("p",{children:" Make sure the video is playing and not muted"}),_.jsx("p",{children:" Capture will automatically stop at video end"})]})]})}function y$(n){const[e,t]=R.useState("idle"),[i,o]=R.useState(null),[l,d]=R.useState(null),[p,m]=R.useState(0),[v,w]=R.useState(null),[T,C]=R.useState(null),N=R.useRef(null),O=R.useRef(!0),I=R.useCallback(z=>{if(!(!O.current||N.current!==n))switch(m(z.progress||0),z.status){case"downloading":t("fetching"),C({attempt:z.attempt,maxAttempts:z.maxAttempts,bytesReceived:z.bytesReceived,totalBytes:z.totalBytes});break;case"processing":t("decoding");break;case"generating_waveform":t("decoding");break;case"retrying":t("fetching"),C({attempt:z.attempt,maxAttempts:z.maxAttempts,retryDelay:z.retryDelay,lastError:z.error});break;case"ready":t("ready"),C(null);break;case"error":t(`error: ${z.error}`),w(z.error),C(null);break}},[n]),k=R.useCallback(async()=>{n&&(w(null),t("idle"),m(0),C(null),il.cancelDownload(n),D())},[n]),D=R.useCallback(async()=>{if(!n||!O.current)return;if(N.current=n,w(null),o(null),d(null),m(0),C(null),n.includes("youtube.com")||n.includes("youtu.be")){t("ready"),m(100);return}const z=il.getAudioBuffer(n);if(z){d(z.audioBuffer),o(z.waveformData),t("ready"),m(100);return}try{t("fetching");const K=await il.downloadAndProcessAudio(n,I);O.current&&N.current===n&&(d(K.audioBuffer),o(K.waveformData),t("ready"),m(100),w(null),C(null))}catch(K){O.current&&N.current===n&&(console.error("Audio Analysis Error:",K),t(`error: ${K.message}`),w(K.message),o(null),d(null),m(0),C(null))}},[n,I]);return R.useEffect(()=>{if(O.current=!0,!n){t("idle"),o(null),d(null),m(0),w(null),C(null),N.current=null;return}return D(),()=>{O.current=!1,N.current&&il.cancelDownload(N.current)}},[n,D]),R.useEffect(()=>()=>{O.current=!1,N.current&&il.cancelDownload(N.current)},[]),{waveformData:i,audioBuffer:l,analysisStatus:e,progress:p,error:v,downloadStats:T,retry:k,serviceStats:il.getStats(),isCached:n?il.isCached(n):!1,cancelDownload:()=>{n&&il.cancelDownload(n)}}}function b$(n){const[e,t]=R.useState(null),[i,o]=R.useState(!1),[l,d]=R.useState(0),[p,m]=R.useState(null),v=R.useRef(n),w=R.useCallback(async(k,D={})=>{const{maxRetries:z=3,onProgress:K=null,onRetry:W=null,context:Y={}}=D;t(null),o(!1),d(0),m(Date.now());try{const Z=await Fp.executeWithRetry(k,v.current,{maxRetries:z,onProgress:U=>{U.status==="retrying"||U.status==="waiting_retry"?(o(!0),d(U.attempt-1)):U.status==="starting"&&o(!1),K&&K(U)},onRetry:U=>{d(U.attempt-1),m(Date.now()),W&&W(U)},context:Y});return o(!1),t(null),Z}catch(Z){throw o(!1),t(Z),Z}},[]),T=R.useCallback(async(k,D={})=>{if(!k)throw new Error("Operation function is required for retry");return w(k,D)},[w]),C=R.useCallback(()=>{t(null),o(!1),d(0),m(null)},[]),N=R.useCallback(k=>Fp.shouldRetry(k,v.current),[]),O=R.useCallback(k=>Fp.getUserFriendlyError(k||k),[]),I=R.useCallback(k=>Fp.classifyError(k||k),[]);return{error:e,isRetrying:i,retryCount:l,lastAttempt:p,executeWithRetry:w,retry:T,reset:C,shouldRetry:N,getUserFriendlyError:O,classifyError:I,getStats:()=>Fp.getErrorStats()}}function w$(){const n=b$("audio_processing"),e=R.useCallback(async(i,o={})=>n.executeWithRetry(i,{...o,context:{type:"audio",...o.context}}),[n]),t=R.useCallback(i=>{const o=n.getUserFriendlyError(i);return n.classifyError(i).category==="audio"?{...o,suggestions:["Check if the video has audio content","Try a different YouTube video","Ensure your browser supports Web Audio API",...o.suggestions]}:o},[n]);return{...n,executeAudioOperation:e,getAudioErrorGuidance:t}}class _$ extends da.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,retryCount:0,isRetrying:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("AudioErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t,hasError:!0}),this.props.onError&&this.props.onError(e,t)}handleRetry=async()=>{this.setState({isRetrying:!0,retryCount:this.state.retryCount+1});try{this.props.onRetry&&await this.props.onRetry(),setTimeout(()=>{this.setState({hasError:!1,error:null,errorInfo:null,isRetrying:!1})},100)}catch(e){console.error("Retry failed:",e),this.setState({isRetrying:!1,error:e})}};handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null,retryCount:0,isRetrying:!1}),this.props.onReset&&this.props.onReset()};getErrorType(e){const t=e?.message?.toLowerCase()||"";return t.includes("network")||t.includes("fetch")||t.includes("cors")?"network":t.includes("decode")||t.includes("audio")||t.includes("context")?"audio":t.includes("timeout")||t.includes("abort")?"timeout":t.includes("quota")||t.includes("limit")||t.includes("rate")?"quota":t.includes("unavailable")||t.includes("private")||t.includes("restricted")?"unavailable":"unknown"}getErrorDetails(e,t){const i=navigator.onLine;switch(e){case"network":return{icon:i?eE:Z_,title:"Network Connection Error",description:i?"Unable to connect to the audio service. This might be a temporary server issue.":"You appear to be offline. Please check your internet connection.",suggestions:[i?"Check if the audio service is running":"Check your internet connection","Try refreshing the page","Wait a moment and try again"],canRetry:!0,severity:"warning"};case"audio":return{icon:cb,title:"Audio Processing Error",description:"Unable to process the audio from this video. The audio format might not be supported.",suggestions:["Try a different YouTube video","Check if the video has audio","Ensure your browser supports Web Audio API"],canRetry:!0,severity:"error"};case"timeout":return{icon:Co,title:"Download Timeout",description:"The audio download is taking too long. This might be due to a large file or slow connection.",suggestions:["Try a shorter video","Check your internet speed","Wait and try again later"],canRetry:!0,severity:"warning"};case"quota":return{icon:Co,title:"Service Limit Reached",description:"The audio service has reached its usage limit. Please try again later.",suggestions:["Wait a few minutes and try again","Try during off-peak hours","Contact support if this persists"],canRetry:!1,severity:"warning"};case"unavailable":return{icon:cb,title:"Video Unavailable",description:"This video cannot be processed. It might be private, deleted, or restricted.",suggestions:["Try a different public YouTube video","Check if the video exists and is public","Ensure the video has audio content"],canRetry:!1,severity:"error"};default:return{icon:Co,title:"Audio System Error",description:t?.message||"An unexpected error occurred in the audio system.",suggestions:["Try refreshing the page","Clear your browser cache","Try a different browser if the issue persists"],canRetry:!0,severity:"error"}}}render(){if(!this.state.hasError)return this.props.children;const e=this.getErrorType(this.state.error),t=this.getErrorDetails(e,this.state.error),i=t.icon;return _.jsx("div",{className:"p-6 space-y-4",children:_.jsxs(ud,{className:`border-${t.severity==="error"?"red":"yellow"}-400 bg-${t.severity==="error"?"red":"yellow"}-400/10`,children:[_.jsx(i,{className:`h-4 w-4 text-${t.severity==="error"?"red":"yellow"}-400`}),_.jsx(dd,{className:`text-${t.severity==="error"?"red":"yellow"}-200`,children:_.jsxs("div",{className:"space-y-3",children:[_.jsxs("div",{children:[_.jsx("h4",{className:"font-semibold",children:t.title}),_.jsx("p",{className:"text-sm mt-1",children:t.description})]}),t.suggestions.length>0&&_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-medium mb-2",children:"Suggestions:"}),_.jsx("ul",{className:"text-sm space-y-1 list-disc list-inside ml-2",children:t.suggestions.map((o,l)=>_.jsx("li",{children:o},l))})]}),_.jsxs("div",{className:"flex gap-2 pt-2",children:[t.canRetry&&_.jsx(wt,{onClick:this.handleRetry,disabled:this.state.isRetrying,size:"sm",className:"bg-cyan-500 hover:bg-cyan-600 text-black",children:this.state.isRetrying?_.jsxs(_.Fragment,{children:[_.jsx(Ro,{className:"w-3 h-3 mr-1 animate-spin"}),"Retrying..."]}):_.jsxs(_.Fragment,{children:[_.jsx(Ro,{className:"w-3 h-3 mr-1"}),"Try Again ",this.state.retryCount>0&&`(${this.state.retryCount+1})`]})}),_.jsx(wt,{onClick:this.handleReset,variant:"outline",size:"sm",className:"border-white/20 text-white/80 hover:bg-white/10",children:"Reset"})]}),!1]})})]})})}}class E$ extends da.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,retryCount:0,isRetrying:!1,videoUrl:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("VideoPlayerErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t,hasError:!0,videoUrl:this.props.youtubeUrl||null}),this.props.onError&&this.props.onError(e,t)}handleRetry=async()=>{this.setState({isRetrying:!0,retryCount:this.state.retryCount+1});try{this.props.onRetry&&await this.props.onRetry(),setTimeout(()=>{this.setState({hasError:!1,error:null,errorInfo:null,isRetrying:!1,videoUrl:null})},100)}catch(e){console.error("Video player retry failed:",e),this.setState({isRetrying:!1,error:e})}};handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null,retryCount:0,isRetrying:!1,videoUrl:null}),this.props.onReset&&this.props.onReset()};getErrorType(e){const t=e?.message?.toLowerCase()||"";return t.includes("youtube")||t.includes("player")?"youtube":t.includes("network")||t.includes("load")||t.includes("fetch")?"network":t.includes("embed")||t.includes("iframe")?"embed":t.includes("api")||t.includes("script")?"api":t.includes("unavailable")||t.includes("private")||t.includes("restricted")?"unavailable":"unknown"}getErrorDetails(e,t,i){const o=navigator.onLine;switch(e){case"youtube":return{icon:TS,title:"YouTube Player Error",description:"The YouTube player failed to initialize or load the video.",suggestions:["Check if the YouTube URL is valid","Ensure the video is public and available","Try refreshing the page","Check if YouTube is accessible in your region"],canRetry:!0,severity:"error",showUrl:!0};case"network":return{icon:o?eE:Z_,title:"Network Connection Error",description:o?"Unable to load the video player. This might be a temporary connection issue.":"You appear to be offline. Video playback requires an internet connection.",suggestions:[o?"Check your internet connection":"Connect to the internet","Try refreshing the page","Check if YouTube is accessible","Wait a moment and try again"],canRetry:!0,severity:"warning",showUrl:!1};case"embed":return{icon:V1,title:"Video Embed Error",description:"Failed to embed the YouTube video. The video might not allow embedding.",suggestions:["Try a different YouTube video","Check if the video allows embedding","Ensure the video is public","Try copying the URL directly from YouTube"],canRetry:!0,severity:"warning",showUrl:!0};case"api":return{icon:Co,title:"YouTube API Error",description:"Failed to load the YouTube player API. This might be due to browser restrictions.",suggestions:["Check if JavaScript is enabled","Disable ad blockers temporarily","Try a different browser","Clear browser cache and cookies"],canRetry:!0,severity:"error",showUrl:!1};case"unavailable":return{icon:TS,title:"Video Unavailable",description:"This video cannot be played. It might be private, deleted, or restricted.",suggestions:["Try a different public YouTube video","Check if the video exists and is public","Ensure the video is available in your region","Contact the video owner if it's private"],canRetry:!1,severity:"error",showUrl:!0};default:return{icon:Co,title:"Video Player Error",description:t?.message||"An unexpected error occurred with the video player.",suggestions:["Try refreshing the page","Check your browser compatibility","Clear browser cache","Try a different browser if the issue persists"],canRetry:!0,severity:"error",showUrl:!0}}}extractVideoId(e){if(!e)return null;const t=e.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/);return t?t[1]:null}render(){if(!this.state.hasError)return this.props.children;const e=this.getErrorType(this.state.error),t=this.getErrorDetails(e,this.state.error,this.state.videoUrl),i=t.icon,o=this.extractVideoId(this.state.videoUrl);return _.jsx("div",{className:"bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl shadow-lg p-6",children:_.jsxs(ud,{className:`border-${t.severity==="error"?"red":"yellow"}-400 bg-${t.severity==="error"?"red":"yellow"}-400/10`,children:[_.jsx(i,{className:`h-4 w-4 text-${t.severity==="error"?"red":"yellow"}-400`}),_.jsx(dd,{className:`text-${t.severity==="error"?"red":"yellow"}-200`,children:_.jsxs("div",{className:"space-y-3",children:[_.jsxs("div",{children:[_.jsx("h4",{className:"font-semibold",children:t.title}),_.jsx("p",{className:"text-sm mt-1",children:t.description})]}),t.showUrl&&this.state.videoUrl&&_.jsxs("div",{className:"bg-black/20 rounded p-2 text-xs",children:[_.jsx("span",{className:"text-white/60",children:"Video URL: "}),_.jsx("span",{className:"text-white/80 break-all",children:this.state.videoUrl}),o&&_.jsxs("div",{className:"mt-1",children:[_.jsx("span",{className:"text-white/60",children:"Video ID: "}),_.jsx("span",{className:"text-white/80",children:o})]})]}),t.suggestions.length>0&&_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-medium mb-2",children:"Troubleshooting steps:"}),_.jsx("ul",{className:"text-sm space-y-1 list-disc list-inside ml-2",children:t.suggestions.map((l,d)=>_.jsx("li",{children:l},d))})]}),_.jsxs("div",{className:"flex gap-2 pt-2",children:[t.canRetry&&_.jsx(wt,{onClick:this.handleRetry,disabled:this.state.isRetrying,size:"sm",className:"bg-cyan-500 hover:bg-cyan-600 text-black",children:this.state.isRetrying?_.jsxs(_.Fragment,{children:[_.jsx(Ro,{className:"w-3 h-3 mr-1 animate-spin"}),"Retrying..."]}):_.jsxs(_.Fragment,{children:[_.jsx(Ro,{className:"w-3 h-3 mr-1"}),"Retry Video ",this.state.retryCount>0&&`(${this.state.retryCount+1})`]})}),_.jsx(wt,{onClick:this.handleReset,variant:"outline",size:"sm",className:"border-white/20 text-white/80 hover:bg-white/10",children:"Reset Player"}),this.state.videoUrl&&_.jsxs(wt,{onClick:()=>window.open(this.state.videoUrl,"_blank"),variant:"outline",size:"sm",className:"border-white/20 text-white/80 hover:bg-white/10",children:[_.jsx(V1,{className:"w-3 h-3 mr-1"}),"Open in YouTube"]})]}),!1]})})]})})}}class T$ extends da.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,retryCount:0,isRetrying:!1,lastFailedAction:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("SamplePlaybackErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t,hasError:!0,lastFailedAction:this.props.lastAction||"unknown"}),this.props.onError&&this.props.onError(e,t)}handleRetry=async()=>{this.setState({isRetrying:!0,retryCount:this.state.retryCount+1});try{this.props.onRetry&&await this.props.onRetry(),setTimeout(()=>{this.setState({hasError:!1,error:null,errorInfo:null,isRetrying:!1,lastFailedAction:null})},100)}catch(e){console.error("Sample playback retry failed:",e),this.setState({isRetrying:!1,error:e})}};handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null,retryCount:0,isRetrying:!1,lastFailedAction:null}),this.props.onReset&&this.props.onReset()};getErrorType(e){const t=e?.message?.toLowerCase()||"";return t.includes("audiocontext")||t.includes("suspended")?"audiocontext":t.includes("buffer")||t.includes("decode")?"buffer":t.includes("playback")||t.includes("play")?"playback":t.includes("timestamp")||t.includes("time")?"timestamp":t.includes("sample")||t.includes("pad")?"sample":"unknown"}getErrorDetails(e,t,i){switch(e){case"audiocontext":return{icon:J_,title:"Audio Context Error",description:"The browser's audio system is not responding. This usually happens when audio is blocked or suspended.",suggestions:["Click anywhere on the page to activate audio","Check if audio is muted in your browser","Try refreshing the page","Ensure your browser supports Web Audio API"],canRetry:!0,severity:"warning",action:"Click to activate audio"};case"buffer":return{icon:Co,title:"Audio Buffer Error",description:"There's an issue with the audio data. The audio buffer might be corrupted or invalid.",suggestions:["Try reloading the audio","Check if the original video is still available","Clear the audio cache and try again"],canRetry:!0,severity:"error",action:"Reload audio"};case"playback":return{icon:nm,title:"Playback Error",description:`Failed to ${i||"play"} the sample. This might be due to audio system conflicts.`,suggestions:["Stop other audio and try again","Check your system audio settings","Try a different sample","Refresh the page if the issue persists"],canRetry:!0,severity:"warning",action:"Try playback again"};case"timestamp":return{icon:Co,title:"Timestamp Error",description:"Invalid sample timing. The start or end time might be outside the audio duration.",suggestions:["Check that timestamps are within the audio length","Ensure start time is before end time","Try creating the sample again","Reload the audio if timestamps seem correct"],canRetry:!0,severity:"warning",action:"Fix timestamps"};case"sample":return{icon:Co,title:"Sample Creation Error",description:"Failed to create or manage the sample. There might be an issue with the sample data.",suggestions:["Try creating the sample at a different time","Check if the audio is fully loaded","Clear existing samples and try again","Ensure the video is playing when creating samples"],canRetry:!0,severity:"error",action:"Create sample again"};default:return{icon:Co,title:"Sample System Error",description:t?.message||"An unexpected error occurred in the sample playback system.",suggestions:["Try the action again","Refresh the page","Clear browser cache if the issue persists","Try a different browser"],canRetry:!0,severity:"error",action:"Try again"}}}render(){if(!this.state.hasError)return this.props.children;const e=this.getErrorType(this.state.error),t=this.getErrorDetails(e,this.state.error,this.state.lastFailedAction),i=t.icon;return _.jsx("div",{className:"p-4 space-y-3",children:_.jsxs(ud,{className:`border-${t.severity==="error"?"red":"yellow"}-400 bg-${t.severity==="error"?"red":"yellow"}-400/10`,children:[_.jsx(i,{className:`h-4 w-4 text-${t.severity==="error"?"red":"yellow"}-400`}),_.jsx(dd,{className:`text-${t.severity==="error"?"red":"yellow"}-200`,children:_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{children:[_.jsx("h4",{className:"font-semibold text-sm",children:t.title}),_.jsx("p",{className:"text-xs mt-1",children:t.description})]}),t.suggestions.length>0&&_.jsxs("div",{children:[_.jsx("p",{className:"text-xs font-medium mb-1",children:"Quick fixes:"}),_.jsx("ul",{className:"text-xs space-y-0.5 list-disc list-inside ml-2",children:t.suggestions.slice(0,2).map((o,l)=>_.jsx("li",{children:o},l))})]}),_.jsxs("div",{className:"flex gap-2 pt-1",children:[t.canRetry&&_.jsx(wt,{onClick:this.handleRetry,disabled:this.state.isRetrying,size:"sm",className:"bg-cyan-500 hover:bg-cyan-600 text-black text-xs h-7",children:this.state.isRetrying?_.jsxs(_.Fragment,{children:[_.jsx(Ro,{className:"w-3 h-3 mr-1 animate-spin"}),"Retrying..."]}):_.jsxs(_.Fragment,{children:[_.jsx(Ro,{className:"w-3 h-3 mr-1"}),t.action]})}),_.jsx(wt,{onClick:this.handleReset,variant:"outline",size:"sm",className:"border-white/20 text-white/80 hover:bg-white/10 text-xs h-7",children:"Dismiss"})]})]})})]})})}}const S$=({error:n,onRetry:e,onReset:t,youtubeUrl:i,isRetrying:o=!1,retryCount:l=0})=>{const d=()=>{i&&window.open(i,"_blank")},p=()=>{t&&t()},m=C=>{const N=C?.message?.toLowerCase()||"";return N.includes("network")||N.includes("timeout")?"warning":N.includes("unavailable")||N.includes("private")?"error":"warning"},v=C=>{const N=C?.message?.toLowerCase()||"";return N.includes("network")||N.includes("timeout")?[{icon:Ro,title:"Check Connection",description:"Verify your internet connection and try again",action:e,primary:!0},{icon:qw,title:"Open in YouTube",description:"Listen to the audio directly on YouTube",action:d,primary:!1}]:N.includes("unavailable")||N.includes("private")?[{icon:j1,title:"Try Different Video",description:"Use a public YouTube video that allows audio extraction",action:p,primary:!0},{icon:qw,title:"Open Original",description:"Check if the video exists and is accessible",action:d,primary:!1}]:[{icon:Ro,title:"Try Again",description:"Retry the audio processing",action:e,primary:!0},{icon:j1,title:"Different Video",description:"Try with a different YouTube video",action:p,primary:!1}]},w=m(n),T=v(n);return _.jsxs("div",{className:"space-y-6",children:[_.jsxs(ud,{className:`border-${w==="error"?"red":"yellow"}-400 bg-${w==="error"?"red":"yellow"}-400/10`,children:[_.jsx(cb,{className:`h-4 w-4 text-${w==="error"?"red":"yellow"}-400`}),_.jsx(dd,{className:`text-${w==="error"?"red":"yellow"}-200`,children:_.jsxs("div",{className:"space-y-3",children:[_.jsxs("div",{children:[_.jsx("h4",{className:"font-semibold",children:"Audio Processing Failed"}),_.jsx("p",{className:"text-sm mt-1",children:n?.message||"Unable to process audio from this YouTube video."})]}),l>0&&_.jsxs("div",{className:"text-sm",children:[_.jsx("span",{className:"text-white/60",children:"Retry attempts: "}),_.jsx("span",{className:"text-white/80",children:l})]})]})})]}),o&&_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(Ro,{className:"w-4 h-4 animate-spin text-cyan-400"}),_.jsx("span",{className:"text-sm text-cyan-200",children:"Retrying audio processing..."})]}),_.jsx(iS,{value:void 0,className:"h-2 bg-white/10"})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:T.map((C,N)=>{const O=C.icon;return _.jsx("div",{className:`bg-black/20 backdrop-blur-lg border border-white/20 rounded-xl p-4 ${C.primary?"ring-2 ring-cyan-500/30":""}`,children:_.jsxs("div",{className:"flex items-start gap-3",children:[_.jsx("div",{className:`p-2 rounded-lg ${C.primary?"bg-cyan-500/20 text-cyan-400":"bg-white/10 text-white/60"}`,children:_.jsx(O,{className:"w-4 h-4"})}),_.jsxs("div",{className:"flex-1",children:[_.jsx("h5",{className:"font-medium text-white mb-1",children:C.title}),_.jsx("p",{className:"text-sm text-white/60 mb-3",children:C.description}),_.jsx(wt,{onClick:C.action,disabled:o,size:"sm",className:C.primary?"bg-cyan-500 hover:bg-cyan-600 text-black":"bg-white/10 hover:bg-white/20 text-white border-white/20",children:C.title})]})]})},N)})}),_.jsxs("div",{className:"bg-black/10 backdrop-blur-lg border border-white/10 rounded-xl p-4",children:[_.jsxs("h5",{className:"font-medium text-white mb-3 flex items-center gap-2",children:[_.jsx(Co,{className:"w-4 h-4 text-yellow-400"}),"Troubleshooting Tips"]}),_.jsxs("ul",{className:"text-sm text-white/70 space-y-2 list-disc list-inside",children:[_.jsx("li",{children:"Ensure the YouTube video is public and has audio content"}),_.jsx("li",{children:"Check your internet connection stability"}),_.jsx("li",{children:"Try videos that are shorter than 10 minutes for better performance"}),_.jsx("li",{children:"Clear your browser cache if you continue experiencing issues"}),_.jsx("li",{children:"Some videos may have restrictions that prevent audio extraction"})]})]}),i&&_.jsxs("div",{className:"bg-black/10 backdrop-blur-lg border border-white/10 rounded-xl p-4",children:[_.jsx("h5",{className:"font-medium text-white mb-2",children:"Current Video"}),_.jsx("div",{className:"text-sm text-white/60 break-all",children:i}),_.jsx("div",{className:"flex gap-2 mt-3",children:_.jsxs(wt,{onClick:d,variant:"outline",size:"sm",className:"border-white/20 text-white/80 hover:bg-white/10",children:[_.jsx(qw,{className:"w-3 h-3 mr-1"}),"Open in YouTube"]})})]})]})},z0=["#06b6d4","#3b82f6","#8b5cf6","#d946ef","#059669","#10b981","#65a30d","#ca8a04","#f97316","#ef4444","#ec4899","#a855f7","#22c55e","#eab308","#f43f5e","#6366f1"];function x$(){const[n,e]=R.useState("https://www.youtube.com/watch?v=yp7-wNhGBDY&t"),[t,i]=R.useState(""),[o,l]=R.useState([]),[d,p]=R.useState("A"),[m,v]=R.useState(null),[w,T]=R.useState({currentTime:0,duration:180,isPlaying:!1}),[C,N]=R.useState(1),[O,I]=R.useState(null),[k,D]=R.useState(null),[z,K]=R.useState(navigator.onLine),[W,Y]=R.useState(!1),[Z,U]=R.useState(!1),[V,B]=R.useState(""),[$,H]=R.useState(null),[G,L]=R.useState(null),[se,_e]=R.useState(!1),{waveformData:re,audioBuffer:fe,analysisStatus:ve,progress:Ne,error:J,downloadStats:ae,retry:Re}=y$(t),Ee=w$(),Le=o.find(Se=>Se.padId===m);R.useEffect(()=>{const Se=()=>K(!0),et=()=>K(!1);return window.addEventListener("online",Se),window.addEventListener("offline",et),()=>{window.removeEventListener("online",Se),window.removeEventListener("offline",et)}},[]);const Fe=Se=>{e(Se.target.value),D(null)},Ge=Se=>{if(Se.preventDefault(),D(null),!z){D("You're offline. Please check your internet connection and try again.");return}if(!n.trim()){D("Please enter a YouTube URL.");return}console.log(`Submitting URL: ${n}`);try{const et=new URL(n),Cn=et.searchParams.get("v")||et.pathname.split("/").pop();if(!Cn||Cn.length!==11)throw new Error("Invalid YouTube URL. Please make sure you're using a valid YouTube video link.");const nn=`https://www.youtube.com/watch?v=${Cn}`;console.log(`Cleaned URL for submission: ${nn}`),i(nn),l([]),L(null),_e(!1),H(null)}catch(et){console.error("URL processing error:",et),D(et.message||"Invalid YouTube URL format. Please check the URL and try again.")}},an=Se=>{const et=Se.clipboardData.getData("text");e(et)},Ft=R.useCallback(Se=>{I(Se);try{if(Se&&Se.getVideoData){const et=Se.getVideoData();B(et.title||"Unknown Video")}}catch(et){console.log("Could not get video title:",et.message)}setTimeout(()=>{const et=document.querySelector("video");et&&(H(et),_e(!0),console.log(" Video element found for capture"))},1e3)},[]),er=R.useCallback((Se,et)=>{m&&l(Cn=>{const nn=Cn.findIndex(Rn=>Rn.padId===m);if(nn>-1){const Rn=[...Cn];return Rn[nn]={...Rn[nn],[Se]:et},Rn}else{const Rn=parseInt(m.slice(1),10),zn=Se==="startTime"?et:w.currentTime,xe=Se==="endTime"?et:Math.min(w.currentTime+2,w.duration);return[...Cn,{padId:m,startTime:zn,endTime:xe,color:z0[Rn%z0.length]}]}})},[m,w.currentTime,w.duration]),vr=R.useCallback((Se,et,Cn)=>{const nn=parseInt(Se.slice(1),10),Rn={padId:Se,startTime:et,endTime:Cn,color:z0[nn%z0.length]};l(zn=>{const xe=zn.findIndex(te=>te.padId===Se);if(xe>-1){const te=[...zn];return te[xe]=Rn,te}else return[...zn,Rn]})},[]),ln=R.useCallback(Se=>{l(et=>{const Cn=et.findIndex(nn=>nn.padId===Se.padId);if(Cn>-1){const nn=[...et];return nn[Cn]=Se,nn}return et})},[]),jn=R.useCallback(Se=>{l(et=>et.filter(Cn=>Cn.padId!==Se)),m===Se&&v(null)},[m]),tn=()=>{const Se={message:"",type:"info",showProgress:!1,showRetry:!1,actionable:null};switch(ve){case"idle":return{...Se,message:"Enter a YouTube URL to load video.",type:"info"};case"fetching":return{...Se,message:"Loading video...",type:"loading",showProgress:!1};case"decoding":return{...Se,message:"Loading video...",type:"loading",showProgress:!1};case"ready":return{...Se,message:G?"Audio captured! Create samples by pressing keys or use capture controls.":"Video ready. Use capture controls or press keys to create samples!",type:"success"};default:if(ve.startsWith("error:")){const Cn=ve.substring(6);return{...Se,message:cn(Cn),type:"error",showRetry:!0,actionable:Ws(Cn)}}return{...Se,message:"Loading...",type:"loading"}}},cn=Se=>Se.includes("network")||Se.includes("fetch")?"Network error: Unable to load video. Check your internet connection.":Se.includes("timeout")?"Loading timeout: The video is taking too long to load.":Se.includes("unavailable")||Se.includes("private")?"Video unavailable: This video may be private, deleted, or restricted.":Se.includes("quota")||Se.includes("limit")?"Service limit reached: Please try again later.":`Video loading failed: ${Se}`,Ws=Se=>Se.includes("network")||Se.includes("fetch")?"Check your internet connection and try again.":Se.includes("timeout")?"Try refreshing the page or check your connection speed.":Se.includes("unavailable")||Se.includes("private")?"Try a different public YouTube video.":Se.includes("quota")||Se.includes("limit")?"Wait a few minutes and try again.":"Try refreshing the page or using a different video.",Ur=()=>{Y(!1),Re&&Re()},Mi=(Se,et)=>{console.error("Audio processing error caught by boundary:",Se,et),Y(!0)},Pi=()=>{Y(!1),i(""),l([])},Br=(Se,et)=>{console.error("Video player error caught by boundary:",Se,et)},ss=(Se,et)=>{console.error("Sample playback error caught by boundary:",Se,et)},tr=R.useCallback((Se,et)=>{O&&(O.seekTo(Se,!0),et&&v(et.padId))},[O]),yr=R.useCallback(()=>{O&&(w.isPlaying?O.pauseVideo():O.playVideo())},[O,w.isPlaying]),Fr=R.useCallback(()=>({youtubeUrl:t,chops:o,activeBank:d,playerState:w}),[t,o,d,w]),zr=R.useCallback(Se=>{e(Se.youtubeUrl),i(Se.youtubeUrl),l(Se.chops||[]),p(Se.activeBank||"A"),v(null),console.log(` Session loaded: ${Se.name}`),console.log(` Video: ${Se.youtubeUrl}`),console.log(` Restored ${Se.chops?.length||0} chops`)},[]);R.useCallback(()=>{e(""),i(""),l([]),p("A"),v(null),U(!1),L(null),_e(!1),console.log(" New session started")},[]);const Hr=R.useCallback(Se=>{console.log(" Audio capture completed:",Se),L(Se)},[]),Lt=R.useCallback(Se=>{console.error(" Audio capture error:",Se)},[]),dt=R.useCallback(Se=>{console.log(" Saving session:",Se)},[]),Nt=tn();return _.jsxs("div",{className:"space-y-6",children:[_.jsxs(vn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl shadow-lg p-6",children:[_.jsxs("form",{onSubmit:Ge,className:"flex items-center gap-4",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(LO,{className:"w-6 h-6 text-red-500 flex-shrink-0"}),!z&&_.jsx(Z_,{className:"w-4 h-4 text-red-400"}),z&&_.jsx(eE,{className:"w-4 h-4 text-green-400"})]}),_.jsx(cd,{type:"text",placeholder:"Paste a YouTube URL to begin...",value:n,onPaste:an,onChange:Fe,className:`bg-white/10 border-white/20 placeholder-gray-400 ${k?"border-red-400 focus:border-red-400":""}`,disabled:!z}),_.jsx(wt,{type:"submit",className:"bg-cyan-500 hover:bg-cyan-600 text-black font-bold",disabled:!z||ve==="fetching"||ve==="decoding",children:ve==="fetching"||ve==="decoding"?_.jsxs(_.Fragment,{children:[_.jsx(lb,{className:"w-4 h-4 mr-2 animate-spin"}),"Loading"]}):"Load Video"}),_.jsxs(wt,{onClick:()=>U(!0),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[_.jsx(L1,{className:"w-4 h-4 mr-2"}),"Sessions"]})]}),_.jsx(hl,{children:k&&_.jsx(vn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4",children:_.jsxs(ud,{className:"border-red-400 bg-red-400/10",children:[_.jsx(Iv,{className:"h-4 w-4 text-red-400"}),_.jsx(dd,{className:"text-red-200",children:k})]})})}),_.jsxs("div",{className:"mt-4 space-y-3",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[Nt.type==="loading"&&_.jsx(lb,{className:"w-4 h-4 animate-spin text-cyan-400"}),Nt.type==="success"&&_.jsx(Y_,{className:"w-4 h-4 text-green-400"}),Nt.type==="error"&&_.jsx(Iv,{className:"w-4 h-4 text-red-400"}),_.jsx("span",{className:`text-sm font-medium ${Nt.type==="error"?"text-red-200":Nt.type==="success"?"text-green-200":Nt.type==="loading"?"text-cyan-200":"text-white/60"}`,children:Nt.message})]}),Nt.showRetry&&_.jsxs(wt,{onClick:Ur,variant:"outline",size:"sm",className:"border-white/20 text-white/80 hover:bg-white/10",children:[_.jsx(Ro,{className:"w-3 h-3 mr-1"}),"Retry"]})]}),Nt.showProgress&&_.jsxs("div",{className:"space-y-2",children:[_.jsx(iS,{value:Ne,className:"h-2 bg-white/10"}),_.jsxs("div",{className:"flex justify-between text-xs text-white/50",children:[_.jsxs("span",{children:[Math.round(Ne),"% complete"]}),ae?.bytesReceived&&ae?.totalBytes&&_.jsxs("span",{children:[Math.round(ae.bytesReceived/1024/1024),"MB /",Math.round(ae.totalBytes/1024/1024),"MB"]})]})]}),Nt.actionable&&_.jsxs("div",{className:"text-xs text-white/40 italic",children:[" ",Nt.actionable]}),G&&_.jsxs("div",{className:"flex items-center gap-2 text-xs text-purple-300 bg-purple-500/10 rounded-lg px-3 py-2",children:[_.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-pulse"}),_.jsxs("span",{children:["Using captured audio (",G.metadata.duration.toFixed(1),"s) - High quality samples available"]})]}),ae&&(ae.attempt>1||ae.lastError)&&_.jsxs("details",{className:"text-xs text-white/40",children:[_.jsx("summary",{className:"cursor-pointer hover:text-white/60",children:"Technical Details"}),_.jsxs("div",{className:"mt-2 space-y-1 pl-4 border-l border-white/10",children:[ae.attempt>1&&_.jsxs("div",{children:["Retry attempt: ",ae.attempt,"/",ae.maxAttempts]}),ae.retryDelay&&_.jsxs("div",{children:["Next retry in: ",Math.round(ae.retryDelay/1e3),"s"]}),ae.lastError&&_.jsxs("div",{children:["Last error: ",ae.lastError]})]})]})]})]}),W&&J?_.jsx(S$,{error:J,onRetry:Ur,onReset:Pi,youtubeUrl:t,isRetrying:Ee.isRetrying,retryCount:Ee.retryCount}):_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[_.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[_.jsx(E$,{youtubeUrl:t,onError:Br,onRetry:Ur,onReset:Pi,children:_.jsx(sG,{youtubeUrl:t,setPlayerState:T,volume:C,onPlayerReady:Ft})}),_.jsx(_$,{onError:Mi,onRetry:Ur,onReset:Pi,children:_.jsx(hG,{playerState:w,selectedChop:Le,setChopTime:er,waveformData:G?.waveformData||re,deleteChop:jn,youtubeUrl:t,allChops:o,onTimestampClick:tr,isPlaying:w.isPlaying,onPlayPause:yr,capturedAudioData:G})})]}),_.jsxs("div",{className:"space-y-6",children:[_.jsx(f$,{activeBank:d,setActiveBank:p,masterVolume:C,setMasterVolume:N,chops:o,youtubeUrl:t}),se&&t&&_.jsx(v$,{youtubeUrl:t,videoElement:$,onCaptureComplete:Hr,onCaptureError:Lt,isVideoReady:ve==="ready"}),_.jsxs("div",{className:`relative ${ve!=="ready"?"opacity-50 pointer-events-none":""}`,children:[_.jsx(T$,{onError:ss,onRetry:Ur,onReset:()=>l([]),children:_.jsx(mG,{chops:o,activeBank:d,selectedPadId:m,setSelectedPadId:v,setPlayerState:T,playerState:w,onCreateSample:vr,onUpdateSample:ln,onDeleteSample:jn,youtubePlayer:O,audioBuffer:G?.audioBuffer||fe,capturedAudioData:G})}),ve!=="ready"&&_.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-2xl flex items-center justify-center",children:_.jsx("p",{className:"text-white/80 font-semibold",children:"Waiting for video..."})})]})]})]}),_.jsx(m$,{currentSession:Fr(),onLoadSession:zr,onSaveSession:dt,isOpen:Z,onClose:()=>U(!1)})]})}const B_=R.forwardRef(({className:n,...e},t)=>_.jsx("div",{ref:t,className:oi("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));B_.displayName="Card";const F_=R.forwardRef(({className:n,...e},t)=>_.jsx("div",{ref:t,className:oi("flex flex-col space-y-1.5 p-6",n),...e}));F_.displayName="CardHeader";const hP=R.forwardRef(({className:n,...e},t)=>_.jsx("h3",{ref:t,className:oi("text-2xl font-semibold leading-none tracking-tight",n),...e}));hP.displayName="CardTitle";const fP=R.forwardRef(({className:n,...e},t)=>_.jsx("p",{ref:t,className:oi("text-sm text-muted-foreground",n),...e}));fP.displayName="CardDescription";const pP=R.forwardRef(({className:n,...e},t)=>_.jsx("div",{ref:t,className:oi("p-6 pt-0",n),...e}));pP.displayName="CardContent";const z_=R.forwardRef(({className:n,...e},t)=>_.jsx("div",{ref:t,className:oi("flex items-center p-6 pt-0",n),...e}));z_.displayName="CardFooter";function yv({className:n,...e}){return _.jsx("div",{className:oi("animate-pulse rounded-md bg-muted",n),...e})}function A$(){const[n,e]=R.useState([]),[t,i]=R.useState(!0),{user:o,loading:l}=vT(),[d,p]=R.useState(!1);R.useEffect(()=>{!l&&o?m():!l&&!o&&(i(!1),e([]))},[o,l]);const m=async()=>{i(!0);try{const T=await L_.list("-created_date");e(T)}catch(T){console.error("Failed to load sessions:",T)}finally{i(!1)}},v=async T=>{try{await L_.delete(T),e(n.filter(C=>C.id!==T))}catch(C){console.error("Failed to delete session:",C)}},w=T=>{if(!T)return"";const C=T.match(/(?:v=)([^&?]+)/)||T.match(/(?:youtu.be\/)([^&?]+)/),N=C?C[1]:"";return N?`https://img.youtube.com/vi/${N}/mqdefault.jpg`:""};return l?_.jsx("div",{className:"text-center col-span-full py-20 bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl",children:_.jsx("p",{className:"text-white/70",children:"Loading sessions..."})}):o?_.jsxs("div",{className:"space-y-6",children:[_.jsxs(vn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center gap-4 text-3xl font-bold tracking-tighter",children:[_.jsx(eC,{className:"w-8 h-8 text-cyan-400"}),_.jsx("h2",{children:"My Saved Sessions"})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:_.jsx(hl,{children:t?Array.from({length:4}).map((T,C)=>_.jsxs(B_,{className:"bg-black/20 backdrop-blur-lg border border-white/20 text-white overflow-hidden",children:[_.jsx(F_,{children:_.jsx(yv,{className:"h-40 -mx-6 -mt-6"})}),_.jsxs(pP,{children:[_.jsx(yv,{className:"h-6 w-3/4 mb-2"}),_.jsx(yv,{className:"h-4 w-1/2"})]}),_.jsxs(z_,{className:"flex justify-between",children:[_.jsx(yv,{className:"h-10 w-24"}),_.jsx(yv,{className:"h-10 w-10"})]})]},C)):n.map(T=>_.jsx(vn.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{type:"spring",stiffness:260,damping:20},children:_.jsxs(B_,{className:"bg-black/20 backdrop-blur-lg border border-white/20 text-white overflow-hidden shadow-xl hover:shadow-cyan-500/20 transition-shadow duration-300 h-full flex flex-col",children:[_.jsx(F_,{className:"p-0",children:_.jsx("img",{src:w(T.youtubeUrl),alt:T.sessionName,className:"w-full h-40 object-cover"})}),_.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[_.jsx(hP,{className:"tracking-tight",children:T.sessionName}),_.jsxs(fP,{className:"text-white/60 flex items-center gap-2 mt-1",children:[_.jsx(iO,{className:"w-4 h-4"}),T.chops?.length||0," Chops"]}),_.jsx("div",{className:"flex-grow"}),_.jsxs(z_,{className:"p-0 pt-6 flex justify-between items-center",children:[_.jsx(ab,{to:`/?sessionId=${T.id}`,children:_.jsx(wt,{className:"bg-cyan-500 hover:bg-cyan-600 text-black font-bold",children:"Load"})}),_.jsx(wt,{variant:"ghost",size:"icon",className:"text-red-500 hover:bg-red-500/20",onClick:()=>v(T.id),children:_.jsx(jb,{className:"w-5 h-5"})})]})]})]})},T.id))})}),!t&&n.length===0&&_.jsxs("div",{className:"text-center col-span-full py-20 bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl",children:[_.jsx("p",{className:"text-white/70",children:"You have no saved sessions."}),_.jsx(ab,{to:"/",children:_.jsx(wt,{className:"mt-4 bg-cyan-500 hover:bg-cyan-600 text-black font-bold",children:"Create your first chop!"})})]})]}):_.jsxs("div",{className:"text-center col-span-full py-20 bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl",children:[_.jsx("p",{className:"text-white/70",children:"Please sign in to view your saved sessions."}),_.jsxs(wt,{onClick:()=>p(!0),className:"mt-4 bg-cyan-500 hover:bg-cyan-600 text-black font-bold",children:[_.jsx(tC,{className:"w-4 h-4 mr-2"}),"Sign In"]}),_.jsx(Gk,{isOpen:d,onOpenChange:p})]})}class C${constructor(){this.audioContext=null,this.masterGainNode=null,this.compressorNode=null,this.limiterNode=null,this.bufferSize=128,this.sampleRate=44100,this.latencyHint="interactive",this.sampleCache=new Map,this.preloadedBuffers=new Map,this.activeVoices=new Map,this.maxVoices=32,this.voicePool=[],this.voiceIndex=0,this.latencyMeasurements=[],this.avgLatency=0,this.initialize()}async initialize(){try{const e={latencyHint:this.latencyHint,sampleRate:this.sampleRate};if(this.audioContext=new(window.AudioContext||window.webkitAudioContext)(e),this.audioContext.audioWorklet)try{await this.setupAudioWorklet()}catch{console.log("AudioWorklet not available, using ScriptProcessor fallback"),this.setupScriptProcessor()}else this.setupScriptProcessor();this.audioContext.state==="suspended"&&await this.audioContext.resume(),this.setupAudioChain(),this.preWarmAudioContext(),console.log(" Ultra-low latency engine initialized:"),console.log(`   - Sample Rate: ${this.audioContext.sampleRate}Hz`),console.log(`   - Base Latency: ${(this.audioContext.baseLatency*1e3).toFixed(2)}ms`),console.log(`   - Output Latency: ${(this.audioContext.outputLatency*1e3).toFixed(2)}ms`)}catch(e){throw console.error("Failed to initialize ultra-low latency engine:",e),e}}async setupAudioWorklet(){const e=`
            class UltraLowLatencyProcessor extends AudioWorkletProcessor {
                constructor() {
                    super();
                    this.samples = new Map();
                    this.triggers = [];
                }
                
                process(inputs, outputs, parameters) {
                    const output = outputs[0];
                    const outputChannel = output[0];
                    
                    // Process any pending triggers
                    while (this.triggers.length > 0) {
                        const trigger = this.triggers.shift();
                        // Immediate sample playback logic here
                    }
                    
                    return true;
                }
            }
            
            registerProcessor('ultra-low-latency-processor', UltraLowLatencyProcessor);
        `,t=new Blob([e],{type:"application/javascript"}),i=URL.createObjectURL(t);await this.audioContext.audioWorklet.addModule(i),this.workletNode=new AudioWorkletNode(this.audioContext,"ultra-low-latency-processor"),URL.revokeObjectURL(i)}setupScriptProcessor(){this.scriptProcessor=this.audioContext.createScriptProcessor(this.bufferSize,0,2),this.scriptProcessor.onaudioprocess=e=>{e.outputBuffer}}setupAudioChain(){this.masterGainNode=this.audioContext.createGain(),this.masterGainNode.gain.value=1,this.compressorNode=this.audioContext.createDynamicsCompressor(),this.compressorNode.threshold.value=-12,this.compressorNode.knee.value=0,this.compressorNode.ratio.value=3,this.compressorNode.attack.value=.001,this.compressorNode.release.value=.01,this.limiterNode=this.audioContext.createDynamicsCompressor(),this.limiterNode.threshold.value=-.1,this.limiterNode.knee.value=0,this.limiterNode.ratio.value=20,this.limiterNode.attack.value=1e-4,this.limiterNode.release.value=.001,this.masterGainNode.connect(this.compressorNode),this.compressorNode.connect(this.limiterNode),this.limiterNode.connect(this.audioContext.destination)}preWarmAudioContext(){const e=this.audioContext.createBuffer(1,1,this.audioContext.sampleRate),t=this.audioContext.createBufferSource();t.buffer=e,t.connect(this.masterGainNode),t.start(),console.log(" Audio context pre-warmed for instant playback")}async preloadSample(e,t,i,o){try{const l=Math.floor(i*t.sampleRate),p=Math.floor(o*t.sampleRate)-l;if(p<=0)throw new Error("Invalid sample range");const m=this.audioContext.createBuffer(t.numberOfChannels,p,t.sampleRate);for(let v=0;v<t.numberOfChannels;v++){const w=t.getChannelData(v),T=m.getChannelData(v),C=Math.min(64,p/10);for(let N=0;N<p;N++){let O=w[l+N]||0;N<C?O*=N/C:N>p-C&&(O*=(p-N)/C),T[N]=O}}return this.preloadedBuffers.set(e,{buffer:m,duration:p/t.sampleRate,originalStart:i,originalEnd:o,preloadedAt:this.audioContext.currentTime}),console.log(` Sample ${e} preloaded for instant playback (${(p/t.sampleRate*1e3).toFixed(1)}ms)`),!0}catch(l){return console.error(`Failed to preload sample ${e}:`,l),!1}}async triggerSample(e,t=1,i={}){const o=performance.now();try{const l=this.preloadedBuffers.get(e);if(!l)return console.warn(`Sample ${e} not preloaded - triggering with higher latency`),this.triggerSampleFallback(e,t,i);const d=this.audioContext.createBufferSource(),p=this.audioContext.createGain();d.buffer=l.buffer,p.gain.value=t*(i.volume||1),d.connect(p),p.connect(this.masterGainNode);const m=this.audioContext.currentTime+(i.delay||0);d.start(m);const v=this.getNextVoiceId();this.activeVoices.set(v,{source:d,gainNode:p,sampleId:e,startTime:o,audioStartTime:m}),d.onended=()=>{this.cleanupVoice(v)};const w=performance.now()-o;return this.recordLatency(w),console.log(` Sample ${e} triggered in ${w.toFixed(2)}ms`),{voiceId:v,latency:w,success:!0}}catch(l){return console.error(`Failed to trigger sample ${e}:`,l),{success:!1,error:l.message,latency:performance.now()-o}}}async triggerSampleFallback(e,t,i){return console.warn(`Using fallback playback for ${e} - consider preloading`),{success:!1,error:"Sample not preloaded"}}stopSample(e,t=.01){const i=this.activeVoices.get(e);if(!i)return!1;try{if(t>0){const o=this.audioContext.currentTime;i.gainNode.gain.setValueAtTime(i.gainNode.gain.value,o),i.gainNode.gain.linearRampToValueAtTime(0,o+t),i.source.stop(o+t)}else i.source.stop();return!0}catch(o){return console.error(`Failed to stop voice ${e}:`,o),!1}}stopAllSamples(e=.01){const t=Array.from(this.activeVoices.keys());let i=0;return t.forEach(o=>{this.stopSample(o,e)&&i++}),console.log(` Stopped ${i} active samples`),i}getNextVoiceId(){return`voice_${Date.now()}_${this.voiceIndex++}`}cleanupVoice(e){const t=this.activeVoices.get(e);if(t){try{t.source.disconnect(),t.gainNode.disconnect()}catch{}this.activeVoices.delete(e)}}recordLatency(e){this.latencyMeasurements.push(e),this.latencyMeasurements.length>100&&this.latencyMeasurements.shift(),this.avgLatency=this.latencyMeasurements.reduce((t,i)=>t+i,0)/this.latencyMeasurements.length}getPerformanceMetrics(){return{averageLatency:this.avgLatency,minLatency:Math.min(...this.latencyMeasurements),maxLatency:Math.max(...this.latencyMeasurements),activeVoices:this.activeVoices.size,preloadedSamples:this.preloadedBuffers.size,audioContextLatency:{base:this.audioContext?.baseLatency*1e3||0,output:this.audioContext?.outputLatency*1e3||0},bufferSize:this.bufferSize,sampleRate:this.audioContext?.sampleRate||0}}setMasterVolume(e){if(this.masterGainNode){const t=this.audioContext.currentTime;this.masterGainNode.gain.setTargetAtTime(e,t,.01)}}async optimizeForUltraLowLatency(){try{this.audioContext.audioWorklet&&(console.log(" Attempting ultra-low latency optimization..."),"requestIdleCallback"in window&&window.requestIdleCallback(()=>{this.preloadOptimization()}))}catch(e){console.warn("Ultra-low latency optimization failed:",e)}}preloadOptimization(){for(const[e,t]of this.preloadedBuffers)this.audioContext.currentTime-t.preloadedAt}dispose(){try{this.stopAllSamples(0),this.scriptProcessor&&this.scriptProcessor.disconnect(),this.workletNode&&this.workletNode.disconnect(),this.audioContext&&this.audioContext.state!=="closed"&&this.audioContext.close(),this.preloadedBuffers.clear(),this.activeVoices.clear(),console.log(" Ultra-low latency engine disposed")}catch(e){console.error("Error disposing engine:",e)}}}const zs=new C$;class R${constructor(){this.measurements={keyPress:[],audioTrigger:[],bufferLatency:[],totalLatency:[]},this.thresholds={excellent:5,good:10,acceptable:20,poor:50},this.isMonitoring=!1,this.monitoringInterval=null,this.callbacks=new Set,this.optimizations={bufferSizeReduced:!1,audioWorkletEnabled:!1,preloadingActive:!1,contextOptimized:!1}}startMonitoring(e=1e3){this.isMonitoring||(this.isMonitoring=!0,console.log(" Starting latency monitoring..."),this.monitoringInterval=setInterval(()=>{this.collectSystemMetrics(),this.analyzePerformance(),this.notifyCallbacks()},e))}stopMonitoring(){this.isMonitoring&&(this.isMonitoring=!1,this.monitoringInterval&&(clearInterval(this.monitoringInterval),this.monitoringInterval=null),console.log(" Latency monitoring stopped"))}recordKeyPressLatency(e,t){const i=t-e;return this.addMeasurement("keyPress",i),i}recordAudioTriggerLatency(e,t){const i=t-e;return this.addMeasurement("audioTrigger",i),i}recordBufferLatency(e){return this.addMeasurement("bufferLatency",e),e}recordTotalLatency(e,t){const i=t-e;return this.addMeasurement("totalLatency",i),i}addMeasurement(e,t){this.measurements[e]||(this.measurements[e]=[]),this.measurements[e].push({value:t,timestamp:performance.now()}),this.measurements[e].length>100&&this.measurements[e].shift()}collectSystemMetrics(){try{if(window.AudioContext||window.webkitAudioContext){const e=window.AudioContext||window.webkitAudioContext,t=new e({latencyHint:"interactive"});this.recordBufferLatency(t.baseLatency*1e3),t.close()}if(performance.memory){const e=performance.memory;this.lastMemoryUsage={used:e.usedJSHeapSize/1024/1024,total:e.totalJSHeapSize/1024/1024,limit:e.jsHeapSizeLimit/1024/1024}}}catch(e){console.warn("Failed to collect system metrics:",e)}}analyzePerformance(){const e=this.getLatencyAnalysis();e.totalLatency.average>this.thresholds.acceptable&&this.suggestOptimizations(e),this.autoOptimize(e)}suggestOptimizations(e){const t=[];e.bufferLatency.average>10&&t.push({type:"buffer",message:"Consider reducing audio buffer size",impact:"high",action:()=>this.optimizeBufferSize()}),e.keyPress.average>5&&t.push({type:"input",message:"Key input latency is high - check for blocking operations",impact:"medium",action:()=>this.optimizeInputHandling()}),this.lastMemoryUsage&&this.lastMemoryUsage.used>this.lastMemoryUsage.limit*.8&&t.push({type:"memory",message:"High memory usage detected - consider cleanup",impact:"medium",action:()=>this.optimizeMemoryUsage()}),t.length>0&&(console.warn(" Performance suggestions:",t),this.notifyCallbacks({type:"suggestions",suggestions:t}))}autoOptimize(e){!this.optimizations.preloadingActive&&e.totalLatency.average>15&&this.enablePreloading(),!this.optimizations.contextOptimized&&e.bufferLatency.average>8&&this.optimizeAudioContext()}enablePreloading(){this.optimizations.preloadingActive=!0,console.log(" Auto-enabled aggressive sample preloading"),this.notifyCallbacks({type:"optimization",action:"enablePreloading"})}optimizeAudioContext(){this.optimizations.contextOptimized=!0,console.log(" Auto-optimizing audio context for lower latency"),this.notifyCallbacks({type:"optimization",action:"optimizeAudioContext"})}getLatencyAnalysis(){const e={};for(const[t,i]of Object.entries(this.measurements)){if(i.length===0){e[t]={average:0,min:0,max:0,count:0,rating:"unknown"};continue}const o=i.map(m=>m.value),l=o.reduce((m,v)=>m+v,0)/o.length,d=Math.min(...o),p=Math.max(...o);e[t]={average:parseFloat(l.toFixed(2)),min:parseFloat(d.toFixed(2)),max:parseFloat(p.toFixed(2)),count:i.length,rating:this.getRating(l)}}return e}getRating(e){return e<this.thresholds.excellent?"excellent":e<this.thresholds.good?"good":e<this.thresholds.acceptable?"acceptable":e<this.thresholds.poor?"poor":"unacceptable"}getPerformanceStatus(){const e=this.getLatencyAnalysis(),t=e.totalLatency.average||0;return{overall:{latency:t,rating:this.getRating(t),status:t<this.thresholds.good?"optimal":"needs-optimization"},breakdown:e,optimizations:this.optimizations,recommendations:this.getRecommendations(e)}}getRecommendations(e){const t=[];return e.totalLatency.average>this.thresholds.acceptable&&(t.push("Consider using a dedicated audio interface"),t.push("Close other audio applications"),t.push("Reduce browser tab count")),e.bufferLatency.average>10&&(t.push("Try using Chrome or Firefox for better audio performance"),t.push("Enable hardware acceleration in browser settings")),e.keyPress.average>5&&(t.push("Disable browser extensions that might interfere"),t.push("Use a wired keyboard for better response")),t}subscribe(e){return this.callbacks.add(e),()=>this.callbacks.delete(e)}notifyCallbacks(e=null){const t=this.getPerformanceStatus();this.callbacks.forEach(i=>{try{i(e||t)}catch(o){console.error("Error in latency monitor callback:",o)}})}exportData(){return{measurements:this.measurements,analysis:this.getLatencyAnalysis(),optimizations:this.optimizations,timestamp:new Date().toISOString()}}clearMeasurements(){for(const e of Object.keys(this.measurements))this.measurements[e]=[];console.log(" Latency measurements cleared")}dispose(){this.stopMonitoring(),this.callbacks.clear(),this.clearMeasurements()}}const mc=new R$;function I$({isVisible:n,onClose:e}){const[t,i]=R.useState(null),[o,l]=R.useState(null),[d,p]=R.useState([]),[m,v]=R.useState(!1);R.useEffect(()=>{if(!n)return;const O=()=>{const D=mc.getPerformanceStatus(),z=zs.getPerformanceMetrics();i(D),l(z),p(D.recommendations||[])};O();const I=mc.subscribe(O),k=setInterval(O,1e3);return()=>{I(),clearInterval(k)}},[n]);const w=async()=>{v(!0);try{console.log(" Starting performance optimization..."),mc.clearMeasurements(),await zs.optimizeForUltraLowLatency(),setTimeout(()=>{v(!1),console.log(" Performance optimization complete")},2e3)}catch(O){console.error("Failed to optimize performance:",O),v(!1)}},T=()=>{const O=mc.exportData(),I=new Blob([JSON.stringify(O,null,2)],{type:"application/json"}),k=URL.createObjectURL(I),D=document.createElement("a");D.href=k,D.download=`latency-report-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(k)},C=O=>{switch(O){case"excellent":return"text-green-400 bg-green-500/20";case"good":return"text-blue-400 bg-blue-500/20";case"acceptable":return"text-yellow-400 bg-yellow-500/20";case"poor":return"text-orange-400 bg-orange-500/20";case"unacceptable":return"text-red-400 bg-red-500/20";default:return"text-gray-400 bg-gray-500/20"}},N=O=>{switch(O){case"excellent":return _.jsx(qv,{className:"w-4 h-4"});case"good":return _.jsx(Y_,{className:"w-4 h-4"});case"acceptable":return _.jsx(Hw,{className:"w-4 h-4"});case"poor":case"unacceptable":return _.jsx(Co,{className:"w-4 h-4"});default:return _.jsx(Hw,{className:"w-4 h-4"})}};return n?_.jsx(hl,{children:_.jsx(vn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:_.jsxs(vn.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-gray-900 border border-white/20 rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:O=>O.stopPropagation(),children:[_.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(Hw,{className:"w-6 h-6 text-cyan-400"}),_.jsx("h2",{className:"text-xl font-bold text-white",children:"Performance Dashboard"}),t?.overall&&_.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm ${C(t.overall.rating)}`,children:[N(t.overall.rating),t.overall.rating.toUpperCase()]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("button",{onClick:w,disabled:m,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-600 text-white rounded-lg transition-colors flex items-center gap-2",children:m?_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Optimizing..."]}):_.jsxs(_.Fragment,{children:[_.jsx(TO,{className:"w-4 h-4"}),"Optimize"]})}),_.jsx("button",{onClick:T,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Export Data"}),_.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 text-white rounded-lg transition-colors",children:_.jsx(tE,{className:"w-5 h-5"})})]})]}),_.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[t?.overall&&_.jsxs("div",{className:"mb-6",children:[_.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Overall Performance"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[_.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[_.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Total Latency"}),_.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.overall.latency.toFixed(1),"ms"]})]}),_.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[_.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Status"}),_.jsx("div",{className:`text-lg font-semibold ${C(t.overall.rating).split(" ")[0]}`,children:t.overall.status.replace("-"," ").toUpperCase()})]}),_.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[_.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Rating"}),_.jsx("div",{className:`text-lg font-semibold ${C(t.overall.rating).split(" ")[0]}`,children:t.overall.rating.toUpperCase()})]})]})]}),t?.breakdown&&_.jsxs("div",{className:"mb-6",children:[_.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Latency Breakdown"}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Object.entries(t.breakdown).map(([O,I])=>_.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[_.jsx("div",{className:"text-sm text-white/60 mb-2 capitalize",children:O.replace(/([A-Z])/g," $1").trim()}),_.jsxs("div",{className:"space-y-1",children:[_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-xs text-white/40",children:"Avg:"}),_.jsxs("span",{className:"text-sm text-white",children:[I.average,"ms"]})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-xs text-white/40",children:"Min:"}),_.jsxs("span",{className:"text-sm text-white",children:[I.min,"ms"]})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-xs text-white/40",children:"Max:"}),_.jsxs("span",{className:"text-sm text-white",children:[I.max,"ms"]})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-xs text-white/40",children:"Count:"}),_.jsx("span",{className:"text-sm text-white",children:I.count})]}),_.jsx("div",{className:`text-xs px-2 py-1 rounded ${C(I.rating)} text-center`,children:I.rating.toUpperCase()})]})]},O))})]}),o&&_.jsxs("div",{className:"mb-6",children:[_.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Engine Status"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[_.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[_.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Active Voices"}),_.jsx("div",{className:"text-xl font-bold text-white",children:o.activeVoices})]}),_.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[_.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Preloaded Samples"}),_.jsx("div",{className:"text-xl font-bold text-white",children:o.preloadedSamples})]}),_.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[_.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Buffer Size"}),_.jsx("div",{className:"text-xl font-bold text-white",children:o.bufferSize})]}),_.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[_.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Sample Rate"}),_.jsxs("div",{className:"text-xl font-bold text-white",children:[o.sampleRate,"Hz"]})]})]}),o.audioContextLatency&&_.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[_.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Base Latency"}),_.jsxs("div",{className:"text-xl font-bold text-white",children:[o.audioContextLatency.base.toFixed(2),"ms"]})]}),_.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[_.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Output Latency"}),_.jsxs("div",{className:"text-xl font-bold text-white",children:[o.audioContextLatency.output.toFixed(2),"ms"]})]})]})]}),d.length>0&&_.jsxs("div",{className:"mb-6",children:[_.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Recommendations"}),_.jsx("div",{className:"space-y-2",children:d.map((O,I)=>_.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-3",children:_.jsxs("div",{className:"flex items-start gap-2",children:[_.jsx(Co,{className:"w-4 h-4 text-yellow-400 mt-0.5 flex-shrink-0"}),_.jsx("span",{className:"text-sm text-yellow-200",children:O})]})},I))})]}),t?.optimizations&&_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Active Optimizations"}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(t.optimizations).map(([O,I])=>_.jsx("div",{className:"bg-black/30 rounded-lg p-4",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("span",{className:"text-sm text-white capitalize",children:O.replace(/([A-Z])/g," $1").trim()}),_.jsx("div",{className:`w-3 h-3 rounded-full ${I?"bg-green-400":"bg-gray-500"}`})]})},O))})]})]})]})})}):null}function k$(){const[n,e]=R.useState(!1),[t,i]=R.useState([]),[o,l]=R.useState(!1),[d,p]=R.useState(null),[m,v]=R.useState(null),[w,T]=R.useState(!1),[C,N]=R.useState(null);R.useRef(null);const O=R.useRef(0);R.useEffect(()=>((async()=>{try{console.log(" Initializing ultra-low latency test system..."),await zs.initialize(),await zs.optimizeForUltraLowLatency(),mc.startMonitoring(100);const Y=new(window.AudioContext||window.webkitAudioContext),Z=Y.sampleRate,U=.5,V=440,B=Y.createBuffer(1,Z*U,Z),$=B.getChannelData(0);for(let H=0;H<$.length;H++){const G=H/Z,L=Math.exp(-G*3);$[H]=Math.sin(2*Math.PI*V*G)*L*.3}N(B),await zs.preloadSample("TEST",B,0,U),e(!0),console.log(" Test system initialized")}catch(Y){console.error("Failed to initialize test system:",Y)}})(),()=>{mc.stopMonitoring()}),[]),R.useEffect(()=>n?mc.subscribe(Y=>{v(Y)}):void 0,[n]);const I=[{name:"Single Trigger Test",description:"Test single sample trigger latency",iterations:1,delay:0,test:async()=>{const W=performance.now(),Y=await zs.triggerSample("TEST",1),Z=performance.now();return{success:Y.success,latency:Y.latency,totalTime:Z-W,engineLatency:Y.latency}}},{name:"Rapid Fire Test",description:"Test rapid successive triggers (10 triggers, 100ms apart)",iterations:10,delay:100,test:async()=>{const W=performance.now(),Y=await zs.triggerSample("TEST",1),Z=performance.now();return{success:Y.success,latency:Y.latency,totalTime:Z-W,engineLatency:Y.latency}}},{name:"Burst Test",description:"Test simultaneous triggers (5 at once)",iterations:5,delay:0,simultaneous:!0,test:async()=>{const W=performance.now(),Y=Array(5).fill().map(()=>zs.triggerSample("TEST",1)),Z=await Promise.all(Y),U=performance.now(),V=Z.reduce(($,H)=>$+(H.latency||0),0)/Z.length;return{success:Z.every($=>$.success),latency:V,totalTime:U-W,engineLatency:V,results:Z}}},{name:"Stress Test",description:"Test system under load (50 triggers, 50ms apart)",iterations:50,delay:50,test:async()=>{const W=performance.now(),Y=await zs.triggerSample("TEST",1),Z=performance.now();return{success:Y.success,latency:Y.latency,totalTime:Z-W,engineLatency:Y.latency}}}],k=async W=>{if(o||!n)return;l(!0),p(W.name),O.current=0;const Y=[],Z=Date.now();try{if(W.simultaneous){const L=await W.test();Y.push({iteration:1,timestamp:Date.now(),...L})}else for(let L=0;L<W.iterations;L++){O.current=L+1;const se=await W.test();Y.push({iteration:L+1,timestamp:Date.now(),...se}),se.success&&mc.recordTotalLatency(performance.now()-se.totalTime,performance.now()),W.delay>0&&L<W.iterations-1&&await new Promise(_e=>setTimeout(_e,W.delay))}const V=Date.now()-Z,B=Y.filter(L=>L.success),$=B.map(L=>L.latency),H=B.map(L=>L.totalTime),G={testName:W.name,description:W.description,totalIterations:W.iterations,successfulIterations:B.length,successRate:B.length/W.iterations*100,testDuration:V,latency:{min:Math.min(...$),max:Math.max(...$),avg:$.reduce((L,se)=>L+se,0)/$.length,median:$.sort((L,se)=>L-se)[Math.floor($.length/2)]},totalTime:{min:Math.min(...H),max:Math.max(...H),avg:H.reduce((L,se)=>L+se,0)/H.length},results:Y,timestamp:new Date().toISOString()};i(L=>[G,...L]),console.log(" Test completed:",G)}catch(U){console.error("Test failed:",U)}finally{l(!1),p(null),O.current=0}},D=()=>{const W={testResults:t,performanceMetrics:m,engineMetrics:zs.getPerformanceMetrics(),timestamp:new Date().toISOString(),userAgent:navigator.userAgent},Y=new Blob([JSON.stringify(W,null,2)],{type:"application/json"}),Z=URL.createObjectURL(Y),U=document.createElement("a");U.href=Z,U.download=`latency-test-results-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(Z)},z=()=>{i([]),mc.clearMeasurements()},K=async()=>{if(!n)return;const W=performance.now(),Y=await zs.triggerSample("TEST",1),Z=performance.now();console.log(` Manual trigger: ${Y.latency?.toFixed(2)}ms engine, ${(Z-W).toFixed(2)}ms total`)};return _.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 p-6",children:_.jsxs("div",{className:"max-w-6xl mx-auto",children:[_.jsxs("div",{className:"flex items-center justify-between mb-8",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Ultra-Low Latency Test Suite"}),_.jsx("p",{className:"text-white/60",children:"Comprehensive performance testing for audio latency optimization"})]}),_.jsx("div",{className:"flex items-center gap-3",children:n?_.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-green-500/20 text-green-300 rounded-lg",children:[_.jsx(qv,{className:"w-4 h-4"}),"System Ready"]}):_.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-yellow-500/20 text-yellow-300 rounded-lg",children:[_.jsx(Ro,{className:"w-4 h-4 animate-spin"}),"Initializing..."]})})]}),m&&_.jsxs("div",{className:"bg-black/30 rounded-xl p-6 mb-8",children:[_.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Current Performance"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-2xl font-bold text-white",children:[m.overall?.latency?.toFixed(1)||"--","ms"]}),_.jsx("div",{className:"text-sm text-white/60",children:"Overall Latency"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:`text-2xl font-bold ${m.overall?.rating==="excellent"?"text-green-400":m.overall?.rating==="good"?"text-blue-400":m.overall?.rating==="acceptable"?"text-yellow-400":"text-red-400"}`,children:m.overall?.rating?.toUpperCase()||"UNKNOWN"}),_.jsx("div",{className:"text-sm text-white/60",children:"Rating"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-2xl font-bold text-white",children:zs.getPerformanceMetrics()?.activeVoices||0}),_.jsx("div",{className:"text-sm text-white/60",children:"Active Voices"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-2xl font-bold text-white",children:zs.getPerformanceMetrics()?.preloadedSamples||0}),_.jsx("div",{className:"text-sm text-white/60",children:"Preloaded"})]})]})]}),_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[_.jsxs("div",{className:"bg-black/30 rounded-xl p-6",children:[_.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Test Configurations"}),_.jsx("div",{className:"space-y-3",children:I.map((W,Y)=>_.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[_.jsxs("div",{className:"flex items-center justify-between mb-2",children:[_.jsx("h3",{className:"font-semibold text-white",children:W.name}),_.jsx("button",{onClick:()=>k(W),disabled:o||!n,className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 disabled:bg-gray-600 text-white rounded-lg transition-colors flex items-center gap-2",children:o&&d===W.name?_.jsxs(_.Fragment,{children:[_.jsx(Ro,{className:"w-4 h-4 animate-spin"}),"Running... (",O.current,"/",W.iterations,")"]}):_.jsxs(_.Fragment,{children:[_.jsx(nm,{className:"w-4 h-4"}),"Run Test"]})})]}),_.jsx("p",{className:"text-sm text-white/60",children:W.description}),_.jsxs("div",{className:"text-xs text-white/40 mt-1",children:[W.iterations," iterations  ",W.delay,"ms delay"]})]},Y))})]}),_.jsxs("div",{className:"bg-black/30 rounded-xl p-6",children:[_.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Manual Controls"}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("button",{onClick:K,disabled:!n,className:"w-full px-6 py-4 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-600 text-white rounded-lg transition-colors flex items-center justify-center gap-2 text-lg font-semibold",children:[_.jsx(qv,{className:"w-5 h-5"}),"Manual Trigger Test"]}),_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.jsxs("button",{onClick:()=>T(!0),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2",children:[_.jsx(LD,{className:"w-4 h-4"}),"Dashboard"]}),_.jsxs("button",{onClick:D,disabled:t.length===0,className:"px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white rounded-lg transition-colors flex items-center justify-center gap-2",children:[_.jsx(ZA,{className:"w-4 h-4"}),"Export"]})]}),_.jsxs("button",{onClick:z,disabled:t.length===0,className:"w-full px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-600 text-white rounded-lg transition-colors flex items-center justify-center gap-2",children:[_.jsx(rC,{className:"w-4 h-4"}),"Clear Results"]})]})]})]}),t.length>0&&_.jsxs("div",{className:"bg-black/30 rounded-xl p-6",children:[_.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Test Results"}),_.jsx("div",{className:"space-y-4",children:t.map((W,Y)=>_.jsxs(vn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/5 rounded-lg p-4",children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsx("h3",{className:"font-semibold text-white",children:W.testName}),_.jsx("div",{className:"text-sm text-white/60",children:new Date(W.timestamp).toLocaleTimeString()})]}),_.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3",children:[_.jsxs("div",{children:[_.jsx("div",{className:"text-sm text-white/60",children:"Success Rate"}),_.jsxs("div",{className:"text-lg font-semibold text-white",children:[W.successRate.toFixed(1),"%"]})]}),_.jsxs("div",{children:[_.jsx("div",{className:"text-sm text-white/60",children:"Avg Latency"}),_.jsxs("div",{className:"text-lg font-semibold text-white",children:[W.latency.avg.toFixed(2),"ms"]})]}),_.jsxs("div",{children:[_.jsx("div",{className:"text-sm text-white/60",children:"Min/Max"}),_.jsxs("div",{className:"text-lg font-semibold text-white",children:[W.latency.min.toFixed(1),"/",W.latency.max.toFixed(1),"ms"]})]}),_.jsxs("div",{children:[_.jsx("div",{className:"text-sm text-white/60",children:"Test Duration"}),_.jsxs("div",{className:"text-lg font-semibold text-white",children:[(W.testDuration/1e3).toFixed(1),"s"]})]})]}),_.jsxs("div",{className:"text-sm text-white/60",children:[W.description,"  ",W.successfulIterations,"/",W.totalIterations," successful"]})]},Y))})]}),_.jsx(I$,{isVisible:w,onClose:()=>T(!1)})]})})}const N$=[{icon:tO,title:"Intuitive Sampling",description:"Easily chop YouTube videos into custom samples."},{icon:qv,title:"Live Performance",description:"Trigger samples instantly with keyboard shortcuts."},{icon:XD,title:"Web-Based Access",description:"Use it anywhere, anytime, directly in your browser."}],VA="chopshop_feature_tour_shown";function M$(){const[n,e]=R.useState(!1);R.useEffect(()=>{localStorage.getItem(VA)||e(!0)},[]);const t=()=>{localStorage.setItem(VA,"true"),e(!1)};return _.jsx(KC,{open:n,onOpenChange:e,children:_.jsxs(cE,{className:"sm:max-w-[500px] bg-gradient-to-br from-gray-900 via-purple-900 to-blue-900 text-white border-white/20 shadow-lg",children:[_.jsxs(uE,{className:"text-center",children:[_.jsx(vn.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:260,damping:20},children:_.jsx(WD,{className:"w-16 h-16 mx-auto text-yellow-400 drop-shadow-lg"})}),_.jsx(dE,{className:"text-3xl font-bold tracking-tighter mt-4",children:"Welcome to The Chop Shop!"}),_.jsx(hE,{className:"text-white/80 mt-2",children:"Unleash your creativity by sampling YouTube videos with ease."})]}),_.jsx("div",{className:"space-y-4 py-4",children:N$.map((i,o)=>_.jsxs(vn.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2+o*.1,type:"spring",stiffness:100,damping:10},className:"flex items-start gap-4 p-3 bg-black/20 rounded-lg border border-white/10",children:[_.jsx(i.icon,{className:"w-6 h-6 text-cyan-400 flex-shrink-0 mt-1"}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-semibold text-lg",children:i.title}),_.jsx("p",{className:"text-white/70 text-sm",children:i.description})]})]},o))}),_.jsxs(vn.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8,type:"spring",stiffness:100,damping:10},className:"text-center mt-6 p-4 bg-purple-900/40 rounded-xl border border-purple-700/50 shadow-inner",children:[_.jsxs("p",{className:"text-yellow-200 font-bold flex items-center justify-center gap-2",children:[_.jsx(zD,{className:"w-5 h-5"}),"One-Time Purchase, Free Lifetime Upgrades!"]}),_.jsx("p",{className:"text-white/70 text-sm mt-1",children:"Get all future features and improvements at no extra cost."})]}),_.jsx(YC,{className:"mt-6",children:_.jsx(wt,{onClick:t,className:"w-full bg-cyan-500 hover:bg-cyan-600 text-black font-bold py-3 text-lg rounded-xl shadow-md hover:shadow-lg transition-all duration-300",children:"Let's Get Chopping!"})})]})})}function P$(){return _.jsxs(Kk,{children:[_.jsx(xD,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:_.jsx(R8,{children:_.jsxs(yD,{children:[_.jsx(H0,{path:"/",element:_.jsx(x$,{})}),_.jsx(H0,{path:"/my-sessions",element:_.jsx(A$,{})}),_.jsx(H0,{path:"/latency-test",element:_.jsx(k$,{})})]})})}),_.jsx(M$,{})]})}xP.createRoot(document.getElementById("root")).render(_.jsx(R.StrictMode,{children:_.jsx(Kk,{children:_.jsx(P$,{})})}));
