function sM(n, e) { for (var t = 0; t < e.length; t++) { const i = e[t]; if (typeof i != "string" && !Array.isArray(i)) { for (const o in i) if (o !== "default" && !(o in n)) { const u = Object.getOwnPropertyDescriptor(i, o); u && Object.defineProperty(n, o, u.get ? u : { enumerable: !0, get: () => i[o] }) } } } return Object.freeze(Object.defineProperty(n, Symbol.toStringTag, { value: "Module" })) } (function () { const e = document.createElement("link").relList; if (e && e.supports && e.supports("modulepreload")) return; for (const o of document.querySelectorAll('link[rel="modulepreload"]')) i(o); new MutationObserver(o => { for (const u of o) if (u.type === "childList") for (const d of u.addedNodes) d.tagName === "LINK" && d.rel === "modulepreload" && i(d) }).observe(document, { childList: !0, subtree: !0 }); function t(o) { const u = {}; return o.integrity && (u.integrity = o.integrity), o.referrerPolicy && (u.referrerPolicy = o.referrerPolicy), o.crossOrigin === "use-credentials" ? u.credentials = "include" : o.crossOrigin === "anonymous" ? u.credentials = "omit" : u.credentials = "same-origin", u } function i(o) { if (o.ep) return; o.ep = !0; const u = t(o); fetch(o.href, u) } })(); function I1(n) { return n && n.__esModule && Object.prototype.hasOwnProperty.call(n, "default") ? n.default : n } var Aw = { exports: {} }, nv = {};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BT; function oM() { if (BT) return nv; BT = 1; var n = Symbol.for("react.transitional.element"), e = Symbol.for("react.fragment"); function t(i, o, u) { var d = null; if (u !== void 0 && (d = "" + u), o.key !== void 0 && (d = "" + o.key), "key" in o) { u = {}; for (var p in o) p !== "key" && (u[p] = o[p]) } else u = o; return o = u.ref, { $$typeof: n, type: i, key: d, ref: o !== void 0 ? o : null, props: u } } return nv.Fragment = e, nv.jsx = t, nv.jsxs = t, nv } var FT; function aM() { return FT || (FT = 1, Aw.exports = oM()), Aw.exports } var x = aM(), Cw = { exports: {} }, ht = {};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zT; function lM() { if (zT) return ht; zT = 1; var n = Symbol.for("react.transitional.element"), e = Symbol.for("react.portal"), t = Symbol.for("react.fragment"), i = Symbol.for("react.strict_mode"), o = Symbol.for("react.profiler"), u = Symbol.for("react.consumer"), d = Symbol.for("react.context"), p = Symbol.for("react.forward_ref"), m = Symbol.for("react.suspense"), y = Symbol.for("react.memo"), w = Symbol.for("react.lazy"), E = Symbol.iterator; function C(X) { return X === null || typeof X != "object" ? null : (X = E && X[E] || X["@@iterator"], typeof X == "function" ? X : null) } var N = { isMounted: function () { return !1 }, enqueueForceUpdate: function () { }, enqueueReplaceState: function () { }, enqueueSetState: function () { } }, U = Object.assign, k = {}; function R(X, de, we) { this.props = X, this.context = de, this.refs = k, this.updater = we || N } R.prototype.isReactComponent = {}, R.prototype.setState = function (X, de) { if (typeof X != "object" && typeof X != "function" && X != null) throw Error("takes an object of state variables to update or a function which returns an object of state variables."); this.updater.enqueueSetState(this, X, de, "setState") }, R.prototype.forceUpdate = function (X) { this.updater.enqueueForceUpdate(this, X, "forceUpdate") }; function L() { } L.prototype = R.prototype; function z(X, de, we) { this.props = X, this.context = de, this.refs = k, this.updater = we || N } var $ = z.prototype = new L; $.constructor = z, U($, R.prototype), $.isPureReactComponent = !0; var J = Array.isArray, Q = { H: null, A: null, T: null, S: null, V: null }, re = Object.prototype.hasOwnProperty; function F(X, de, we, Ee, Oe, ze) { return we = ze.ref, { $$typeof: n, type: X, key: de, ref: we !== void 0 ? we : null, props: ze } } function V(X, de) { return F(X.type, de, void 0, void 0, void 0, X.props) } function O(X) { return typeof X == "object" && X !== null && X.$$typeof === n } function q(X) { var de = { "=": "=0", ":": "=2" }; return "$" + X.replace(/[=:]/g, function (we) { return de[we] }) } var G = /\/+/g; function K(X, de) { return typeof X == "object" && X !== null && X.key != null ? q("" + X.key) : de.toString(36) } function H() { } function ce(X) { switch (X.status) { case "fulfilled": return X.value; case "rejected": throw X.reason; default: switch (typeof X.status == "string" ? X.then(H, H) : (X.status = "pending", X.then(function (de) { X.status === "pending" && (X.status = "fulfilled", X.value = de) }, function (de) { X.status === "pending" && (X.status = "rejected", X.reason = de) })), X.status) { case "fulfilled": return X.value; case "rejected": throw X.reason } }throw X } function xe(X, de, we, Ee, Oe) { var ze = typeof X; (ze === "undefined" || ze === "boolean") && (X = null); var Ve = !1; if (X === null) Ve = !0; else switch (ze) { case "bigint": case "string": case "number": Ve = !0; break; case "object": switch (X.$$typeof) { case n: case e: Ve = !0; break; case w: return Ve = X._init, xe(Ve(X._payload), de, we, Ee, Oe) } }if (Ve) return Oe = Oe(X), Ve = Ee === "" ? "." + K(X, 0) : Ee, J(Oe) ? (we = "", Ve != null && (we = Ve.replace(G, "$&/") + "/"), xe(Oe, de, we, "", function (Si) { return Si })) : Oe != null && (O(Oe) && (Oe = V(Oe, we + (Oe.key == null || X && X.key === Oe.key ? "" : ("" + Oe.key).replace(G, "$&/") + "/") + Ve)), de.push(Oe)), 1; Ve = 0; var Zt = Ee === "" ? "." : Ee + ":"; if (J(X)) for (var At = 0; At < X.length; At++)Ee = X[At], ze = Zt + K(Ee, At), Ve += xe(Ee, de, we, ze, Oe); else if (At = C(X), typeof At == "function") for (X = At.call(X), At = 0; !(Ee = X.next()).done;)Ee = Ee.value, ze = Zt + K(Ee, At++), Ve += xe(Ee, de, we, ze, Oe); else if (ze === "object") { if (typeof X.then == "function") return xe(ce(X), de, we, Ee, Oe); throw de = String(X), Error("Objects are not valid as a React child (found: " + (de === "[object Object]" ? "object with keys {" + Object.keys(X).join(", ") + "}" : de) + "). If you meant to render a collection of children, use an array instead.") } return Ve } function se(X, de, we) { if (X == null) return X; var Ee = [], Oe = 0; return xe(X, Ee, "", "", function (ze) { return de.call(we, ze, Oe++) }), Ee } function fe(X) { if (X._status === -1) { var de = X._result; de = de(), de.then(function (we) { (X._status === 0 || X._status === -1) && (X._status = 1, X._result = we) }, function (we) { (X._status === 0 || X._status === -1) && (X._status = 2, X._result = we) }), X._status === -1 && (X._status = 0, X._result = de) } if (X._status === 1) return X._result.default; throw X._result } var _e = typeof reportError == "function" ? reportError : function (X) { if (typeof window == "object" && typeof window.ErrorEvent == "function") { var de = new window.ErrorEvent("error", { bubbles: !0, cancelable: !0, message: typeof X == "object" && X !== null && typeof X.message == "string" ? String(X.message) : String(X), error: X }); if (!window.dispatchEvent(de)) return } else if (typeof process == "object" && typeof process.emit == "function") { process.emit("uncaughtException", X); return } console.error(X) }; function Ie() { } return ht.Children = { map: se, forEach: function (X, de, we) { se(X, function () { de.apply(this, arguments) }, we) }, count: function (X) { var de = 0; return se(X, function () { de++ }), de }, toArray: function (X) { return se(X, function (de) { return de }) || [] }, only: function (X) { if (!O(X)) throw Error("React.Children.only expected to receive a single React element child."); return X } }, ht.Component = R, ht.Fragment = t, ht.Profiler = o, ht.PureComponent = z, ht.StrictMode = i, ht.Suspense = m, ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE = Q, ht.__COMPILER_RUNTIME = { __proto__: null, c: function (X) { return Q.H.useMemoCache(X) } }, ht.cache = function (X) { return function () { return X.apply(null, arguments) } }, ht.cloneElement = function (X, de, we) { if (X == null) throw Error("The argument must be a React element, but you passed " + X + "."); var Ee = U({}, X.props), Oe = X.key, ze = void 0; if (de != null) for (Ve in de.ref !== void 0 && (ze = void 0), de.key !== void 0 && (Oe = "" + de.key), de) !re.call(de, Ve) || Ve === "key" || Ve === "__self" || Ve === "__source" || Ve === "ref" && de.ref === void 0 || (Ee[Ve] = de[Ve]); var Ve = arguments.length - 2; if (Ve === 1) Ee.children = we; else if (1 < Ve) { for (var Zt = Array(Ve), At = 0; At < Ve; At++)Zt[At] = arguments[At + 2]; Ee.children = Zt } return F(X.type, Oe, void 0, void 0, ze, Ee) }, ht.createContext = function (X) { return X = { $$typeof: d, _currentValue: X, _currentValue2: X, _threadCount: 0, Provider: null, Consumer: null }, X.Provider = X, X.Consumer = { $$typeof: u, _context: X }, X }, ht.createElement = function (X, de, we) { var Ee, Oe = {}, ze = null; if (de != null) for (Ee in de.key !== void 0 && (ze = "" + de.key), de) re.call(de, Ee) && Ee !== "key" && Ee !== "__self" && Ee !== "__source" && (Oe[Ee] = de[Ee]); var Ve = arguments.length - 2; if (Ve === 1) Oe.children = we; else if (1 < Ve) { for (var Zt = Array(Ve), At = 0; At < Ve; At++)Zt[At] = arguments[At + 2]; Oe.children = Zt } if (X && X.defaultProps) for (Ee in Ve = X.defaultProps, Ve) Oe[Ee] === void 0 && (Oe[Ee] = Ve[Ee]); return F(X, ze, void 0, void 0, null, Oe) }, ht.createRef = function () { return { current: null } }, ht.forwardRef = function (X) { return { $$typeof: p, render: X } }, ht.isValidElement = O, ht.lazy = function (X) { return { $$typeof: w, _payload: { _status: -1, _result: X }, _init: fe } }, ht.memo = function (X, de) { return { $$typeof: y, type: X, compare: de === void 0 ? null : de } }, ht.startTransition = function (X) { var de = Q.T, we = {}; Q.T = we; try { var Ee = X(), Oe = Q.S; Oe !== null && Oe(we, Ee), typeof Ee == "object" && Ee !== null && typeof Ee.then == "function" && Ee.then(Ie, _e) } catch (ze) { _e(ze) } finally { Q.T = de } }, ht.unstable_useCacheRefresh = function () { return Q.H.useCacheRefresh() }, ht.use = function (X) { return Q.H.use(X) }, ht.useActionState = function (X, de, we) { return Q.H.useActionState(X, de, we) }, ht.useCallback = function (X, de) { return Q.H.useCallback(X, de) }, ht.useContext = function (X) { return Q.H.useContext(X) }, ht.useDebugValue = function () { }, ht.useDeferredValue = function (X, de) { return Q.H.useDeferredValue(X, de) }, ht.useEffect = function (X, de, we) { var Ee = Q.H; if (typeof we == "function") throw Error("useEffect CRUD overload is not enabled in this build of React."); return Ee.useEffect(X, de) }, ht.useId = function () { return Q.H.useId() }, ht.useImperativeHandle = function (X, de, we) { return Q.H.useImperativeHandle(X, de, we) }, ht.useInsertionEffect = function (X, de) { return Q.H.useInsertionEffect(X, de) }, ht.useLayoutEffect = function (X, de) { return Q.H.useLayoutEffect(X, de) }, ht.useMemo = function (X, de) { return Q.H.useMemo(X, de) }, ht.useOptimistic = function (X, de) { return Q.H.useOptimistic(X, de) }, ht.useReducer = function (X, de, we) { return Q.H.useReducer(X, de, we) }, ht.useRef = function (X) { return Q.H.useRef(X) }, ht.useState = function (X) { return Q.H.useState(X) }, ht.useSyncExternalStore = function (X, de, we) { return Q.H.useSyncExternalStore(X, de, we) }, ht.useTransition = function () { return Q.H.useTransition() }, ht.version = "19.1.1", ht } var HT; function k1() { return HT || (HT = 1, Cw.exports = lM()), Cw.exports } var I = k1(); const Jo = I1(I), P1 = sM({ __proto__: null, default: Jo }, [I]); var xw = { exports: {} }, iv = {}, Rw = { exports: {} }, Iw = {};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qT; function uM() { return qT || (qT = 1, function (n) { function e(se, fe) { var _e = se.length; se.push(fe); e: for (; 0 < _e;) { var Ie = _e - 1 >>> 1, X = se[Ie]; if (0 < o(X, fe)) se[Ie] = fe, se[_e] = X, _e = Ie; else break e } } function t(se) { return se.length === 0 ? null : se[0] } function i(se) { if (se.length === 0) return null; var fe = se[0], _e = se.pop(); if (_e !== fe) { se[0] = _e; e: for (var Ie = 0, X = se.length, de = X >>> 1; Ie < de;) { var we = 2 * (Ie + 1) - 1, Ee = se[we], Oe = we + 1, ze = se[Oe]; if (0 > o(Ee, _e)) Oe < X && 0 > o(ze, Ee) ? (se[Ie] = ze, se[Oe] = _e, Ie = Oe) : (se[Ie] = Ee, se[we] = _e, Ie = we); else if (Oe < X && 0 > o(ze, _e)) se[Ie] = ze, se[Oe] = _e, Ie = Oe; else break e } } return fe } function o(se, fe) { var _e = se.sortIndex - fe.sortIndex; return _e !== 0 ? _e : se.id - fe.id } if (n.unstable_now = void 0, typeof performance == "object" && typeof performance.now == "function") { var u = performance; n.unstable_now = function () { return u.now() } } else { var d = Date, p = d.now(); n.unstable_now = function () { return d.now() - p } } var m = [], y = [], w = 1, E = null, C = 3, N = !1, U = !1, k = !1, R = !1, L = typeof setTimeout == "function" ? setTimeout : null, z = typeof clearTimeout == "function" ? clearTimeout : null, $ = typeof setImmediate < "u" ? setImmediate : null; function J(se) { for (var fe = t(y); fe !== null;) { if (fe.callback === null) i(y); else if (fe.startTime <= se) i(y), fe.sortIndex = fe.expirationTime, e(m, fe); else break; fe = t(y) } } function Q(se) { if (k = !1, J(se), !U) if (t(m) !== null) U = !0, re || (re = !0, K()); else { var fe = t(y); fe !== null && xe(Q, fe.startTime - se) } } var re = !1, F = -1, V = 5, O = -1; function q() { return R ? !0 : !(n.unstable_now() - O < V) } function G() { if (R = !1, re) { var se = n.unstable_now(); O = se; var fe = !0; try { e: { U = !1, k && (k = !1, z(F), F = -1), N = !0; var _e = C; try { t: { for (J(se), E = t(m); E !== null && !(E.expirationTime > se && q());) { var Ie = E.callback; if (typeof Ie == "function") { E.callback = null, C = E.priorityLevel; var X = Ie(E.expirationTime <= se); if (se = n.unstable_now(), typeof X == "function") { E.callback = X, J(se), fe = !0; break t } E === t(m) && i(m), J(se) } else i(m); E = t(m) } if (E !== null) fe = !0; else { var de = t(y); de !== null && xe(Q, de.startTime - se), fe = !1 } } break e } finally { E = null, C = _e, N = !1 } fe = void 0 } } finally { fe ? K() : re = !1 } } } var K; if (typeof $ == "function") K = function () { $(G) }; else if (typeof MessageChannel < "u") { var H = new MessageChannel, ce = H.port2; H.port1.onmessage = G, K = function () { ce.postMessage(null) } } else K = function () { L(G, 0) }; function xe(se, fe) { F = L(function () { se(n.unstable_now()) }, fe) } n.unstable_IdlePriority = 5, n.unstable_ImmediatePriority = 1, n.unstable_LowPriority = 4, n.unstable_NormalPriority = 3, n.unstable_Profiling = null, n.unstable_UserBlockingPriority = 2, n.unstable_cancelCallback = function (se) { se.callback = null }, n.unstable_forceFrameRate = function (se) { 0 > se || 125 < se ? console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported") : V = 0 < se ? Math.floor(1e3 / se) : 5 }, n.unstable_getCurrentPriorityLevel = function () { return C }, n.unstable_next = function (se) { switch (C) { case 1: case 2: case 3: var fe = 3; break; default: fe = C }var _e = C; C = fe; try { return se() } finally { C = _e } }, n.unstable_requestPaint = function () { R = !0 }, n.unstable_runWithPriority = function (se, fe) { switch (se) { case 1: case 2: case 3: case 4: case 5: break; default: se = 3 }var _e = C; C = se; try { return fe() } finally { C = _e } }, n.unstable_scheduleCallback = function (se, fe, _e) { var Ie = n.unstable_now(); switch (typeof _e == "object" && _e !== null ? (_e = _e.delay, _e = typeof _e == "number" && 0 < _e ? Ie + _e : Ie) : _e = Ie, se) { case 1: var X = -1; break; case 2: X = 250; break; case 5: X = 1073741823; break; case 4: X = 1e4; break; default: X = 5e3 }return X = _e + X, se = { id: w++, callback: fe, priorityLevel: se, startTime: _e, expirationTime: X, sortIndex: -1 }, _e > Ie ? (se.sortIndex = _e, e(y, se), t(m) === null && se === t(y) && (k ? (z(F), F = -1) : k = !0, xe(Q, _e - Ie))) : (se.sortIndex = X, e(m, se), U || N || (U = !0, re || (re = !0, K()))), se }, n.unstable_shouldYield = q, n.unstable_wrapCallback = function (se) { var fe = C; return function () { var _e = C; C = fe; try { return se.apply(this, arguments) } finally { C = _e } } } }(Iw)), Iw } var GT; function cM() { return GT || (GT = 1, Rw.exports = uM()), Rw.exports } var kw = { exports: {} }, yr = {};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT; function dM() { if (KT) return yr; KT = 1; var n = k1(); function e(m) { var y = "https://react.dev/errors/" + m; if (1 < arguments.length) { y += "?args[]=" + encodeURIComponent(arguments[1]); for (var w = 2; w < arguments.length; w++)y += "&args[]=" + encodeURIComponent(arguments[w]) } return "Minified React error #" + m + "; visit " + y + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings." } function t() { } var i = { d: { f: t, r: function () { throw Error(e(522)) }, D: t, C: t, L: t, m: t, X: t, S: t, M: t }, p: 0, findDOMNode: null }, o = Symbol.for("react.portal"); function u(m, y, w) { var E = 3 < arguments.length && arguments[3] !== void 0 ? arguments[3] : null; return { $$typeof: o, key: E == null ? null : "" + E, children: m, containerInfo: y, implementation: w } } var d = n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE; function p(m, y) { if (m === "font") return ""; if (typeof y == "string") return y === "use-credentials" ? y : "" } return yr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE = i, yr.createPortal = function (m, y) { var w = 2 < arguments.length && arguments[2] !== void 0 ? arguments[2] : null; if (!y || y.nodeType !== 1 && y.nodeType !== 9 && y.nodeType !== 11) throw Error(e(299)); return u(m, y, null, w) }, yr.flushSync = function (m) { var y = d.T, w = i.p; try { if (d.T = null, i.p = 2, m) return m() } finally { d.T = y, i.p = w, i.d.f() } }, yr.preconnect = function (m, y) { typeof m == "string" && (y ? (y = y.crossOrigin, y = typeof y == "string" ? y === "use-credentials" ? y : "" : void 0) : y = null, i.d.C(m, y)) }, yr.prefetchDNS = function (m) { typeof m == "string" && i.d.D(m) }, yr.preinit = function (m, y) { if (typeof m == "string" && y && typeof y.as == "string") { var w = y.as, E = p(w, y.crossOrigin), C = typeof y.integrity == "string" ? y.integrity : void 0, N = typeof y.fetchPriority == "string" ? y.fetchPriority : void 0; w === "style" ? i.d.S(m, typeof y.precedence == "string" ? y.precedence : void 0, { crossOrigin: E, integrity: C, fetchPriority: N }) : w === "script" && i.d.X(m, { crossOrigin: E, integrity: C, fetchPriority: N, nonce: typeof y.nonce == "string" ? y.nonce : void 0 }) } }, yr.preinitModule = function (m, y) { if (typeof m == "string") if (typeof y == "object" && y !== null) { if (y.as == null || y.as === "script") { var w = p(y.as, y.crossOrigin); i.d.M(m, { crossOrigin: w, integrity: typeof y.integrity == "string" ? y.integrity : void 0, nonce: typeof y.nonce == "string" ? y.nonce : void 0 }) } } else y == null && i.d.M(m) }, yr.preload = function (m, y) { if (typeof m == "string" && typeof y == "object" && y !== null && typeof y.as == "string") { var w = y.as, E = p(w, y.crossOrigin); i.d.L(m, w, { crossOrigin: E, integrity: typeof y.integrity == "string" ? y.integrity : void 0, nonce: typeof y.nonce == "string" ? y.nonce : void 0, type: typeof y.type == "string" ? y.type : void 0, fetchPriority: typeof y.fetchPriority == "string" ? y.fetchPriority : void 0, referrerPolicy: typeof y.referrerPolicy == "string" ? y.referrerPolicy : void 0, imageSrcSet: typeof y.imageSrcSet == "string" ? y.imageSrcSet : void 0, imageSizes: typeof y.imageSizes == "string" ? y.imageSizes : void 0, media: typeof y.media == "string" ? y.media : void 0 }) } }, yr.preloadModule = function (m, y) { if (typeof m == "string") if (y) { var w = p(y.as, y.crossOrigin); i.d.m(m, { as: typeof y.as == "string" && y.as !== "script" ? y.as : void 0, crossOrigin: w, integrity: typeof y.integrity == "string" ? y.integrity : void 0 }) } else i.d.m(m) }, yr.requestFormReset = function (m) { i.d.r(m) }, yr.unstable_batchedUpdates = function (m, y) { return m(y) }, yr.useFormState = function (m, y, w) { return d.H.useFormState(m, y, w) }, yr.useFormStatus = function () { return d.H.useHostTransitionStatus() }, yr.version = "19.1.1", yr } var $T; function AC() { if ($T) return kw.exports; $T = 1; function n() { if (!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function")) try { __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n) } catch (e) { console.error(e) } } return n(), kw.exports = dM(), kw.exports }/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WT; function hM() {
  if (WT) return iv; WT = 1; var n = cM(), e = k1(), t = AC(); function i(s) { var a = "https://react.dev/errors/" + s; if (1 < arguments.length) { a += "?args[]=" + encodeURIComponent(arguments[1]); for (var c = 2; c < arguments.length; c++)a += "&args[]=" + encodeURIComponent(arguments[c]) } return "Minified React error #" + s + "; visit " + a + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings." } function o(s) { return !(!s || s.nodeType !== 1 && s.nodeType !== 9 && s.nodeType !== 11) } function u(s) { var a = s, c = s; if (s.alternate) for (; a.return;)a = a.return; else { s = a; do a = s, (a.flags & 4098) !== 0 && (c = a.return), s = a.return; while (s) } return a.tag === 3 ? c : null } function d(s) { if (s.tag === 13) { var a = s.memoizedState; if (a === null && (s = s.alternate, s !== null && (a = s.memoizedState)), a !== null) return a.dehydrated } return null } function p(s) { if (u(s) !== s) throw Error(i(188)) } function m(s) { var a = s.alternate; if (!a) { if (a = u(s), a === null) throw Error(i(188)); return a !== s ? null : s } for (var c = s, f = a; ;) { var b = c.return; if (b === null) break; var _ = b.alternate; if (_ === null) { if (f = b.return, f !== null) { c = f; continue } break } if (b.child === _.child) { for (_ = b.child; _;) { if (_ === c) return p(b), s; if (_ === f) return p(b), a; _ = _.sibling } throw Error(i(188)) } if (c.return !== f.return) c = b, f = _; else { for (var M = !1, j = b.child; j;) { if (j === c) { M = !0, c = b, f = _; break } if (j === f) { M = !0, f = b, c = _; break } j = j.sibling } if (!M) { for (j = _.child; j;) { if (j === c) { M = !0, c = _, f = b; break } if (j === f) { M = !0, f = _, c = b; break } j = j.sibling } if (!M) throw Error(i(189)) } } if (c.alternate !== f) throw Error(i(190)) } if (c.tag !== 3) throw Error(i(188)); return c.stateNode.current === c ? s : a } function y(s) { var a = s.tag; if (a === 5 || a === 26 || a === 27 || a === 6) return s; for (s = s.child; s !== null;) { if (a = y(s), a !== null) return a; s = s.sibling } return null } var w = Object.assign, E = Symbol.for("react.element"), C = Symbol.for("react.transitional.element"), N = Symbol.for("react.portal"), U = Symbol.for("react.fragment"), k = Symbol.for("react.strict_mode"), R = Symbol.for("react.profiler"), L = Symbol.for("react.provider"), z = Symbol.for("react.consumer"), $ = Symbol.for("react.context"), J = Symbol.for("react.forward_ref"), Q = Symbol.for("react.suspense"), re = Symbol.for("react.suspense_list"), F = Symbol.for("react.memo"), V = Symbol.for("react.lazy"), O = Symbol.for("react.activity"), q = Symbol.for("react.memo_cache_sentinel"), G = Symbol.iterator; function K(s) { return s === null || typeof s != "object" ? null : (s = G && s[G] || s["@@iterator"], typeof s == "function" ? s : null) } var H = Symbol.for("react.client.reference"); function ce(s) { if (s == null) return null; if (typeof s == "function") return s.$$typeof === H ? null : s.displayName || s.name || null; if (typeof s == "string") return s; switch (s) { case U: return "Fragment"; case R: return "Profiler"; case k: return "StrictMode"; case Q: return "Suspense"; case re: return "SuspenseList"; case O: return "Activity" }if (typeof s == "object") switch (s.$$typeof) { case N: return "Portal"; case $: return (s.displayName || "Context") + ".Provider"; case z: return (s._context.displayName || "Context") + ".Consumer"; case J: var a = s.render; return s = s.displayName, s || (s = a.displayName || a.name || "", s = s !== "" ? "ForwardRef(" + s + ")" : "ForwardRef"), s; case F: return a = s.displayName || null, a !== null ? a : ce(s.type) || "Memo"; case V: a = s._payload, s = s._init; try { return ce(s(a)) } catch { } }return null } var xe = Array.isArray, se = e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE, fe = t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE, _e = { pending: !1, data: null, method: null, action: null }, Ie = [], X = -1; function de(s) { return { current: s } } function we(s) { 0 > X || (s.current = Ie[X], Ie[X] = null, X--) } function Ee(s, a) { X++, Ie[X] = s.current, s.current = a } var Oe = de(null), ze = de(null), Ve = de(null), Zt = de(null); function At(s, a) { switch (Ee(Ve, a), Ee(ze, s), Ee(Oe, null), a.nodeType) { case 9: case 11: s = (s = a.documentElement) && (s = s.namespaceURI) ? Ic(s) : 0; break; default: if (s = a.tagName, a = a.namespaceURI) a = Ic(a), s = c0(a, s); else switch (s) { case "svg": s = 1; break; case "math": s = 2; break; default: s = 0 } }we(Oe), Ee(Oe, s) } function Si() { we(Oe), we(ze), we(Ve) } function Bi(s) { s.memoizedState !== null && Ee(Zt, s); var a = Oe.current, c = c0(a, s.type); a !== c && (Ee(ze, s), Ee(Oe, c)) } function Ai(s) { ze.current === s && (we(Oe), we(ze)), Zt.current === s && (we(Zt), Th._currentValue = _e) } var Sr = Object.prototype.hasOwnProperty, It = n.unstable_scheduleCallback, ke = n.unstable_cancelCallback, tt = n.unstable_shouldYield, An = n.unstable_requestPaint, Kt = n.unstable_now, Ci = n.unstable_getCurrentPriorityLevel, Pe = n.unstable_ImmediatePriority, me = n.unstable_UserBlockingPriority, nt = n.unstable_NormalPriority, qe = n.unstable_LowPriority, Qe = n.unstable_IdlePriority, zt = n.log, Xt = n.unstable_setDisableYieldValue, je = null, Be = null; function Dt(s) { if (typeof zt == "function" && Xt(s), Be && typeof Be.setStrictMode == "function") try { Be.setStrictMode(je, s) } catch { } } var $t = Math.clz32 ? Math.clz32 : Br, os = Math.log, ul = Math.LN2; function Br(s) { return s >>>= 0, s === 0 ? 32 : 31 - (os(s) / ul | 0) | 0 } var ir = 256, Fi = 4194304; function Fr(s) { var a = s & 42; if (a !== 0) return a; switch (s & -s) { case 1: return 1; case 2: return 2; case 4: return 4; case 8: return 8; case 16: return 16; case 32: return 32; case 64: return 64; case 128: return 128; case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: case 262144: case 524288: case 1048576: case 2097152: return s & 4194048; case 4194304: case 8388608: case 16777216: case 33554432: return s & 62914560; case 67108864: return 67108864; case 134217728: return 134217728; case 268435456: return 268435456; case 536870912: return 536870912; case 1073741824: return 0; default: return s } } function ra(s, a, c) { var f = s.pendingLanes; if (f === 0) return 0; var b = 0, _ = s.suspendedLanes, M = s.pingedLanes; s = s.warmLanes; var j = f & 134217727; return j !== 0 ? (f = j & ~_, f !== 0 ? b = Fr(f) : (M &= j, M !== 0 ? b = Fr(M) : c || (c = j & ~s, c !== 0 && (b = Fr(c))))) : (j = f & ~_, j !== 0 ? b = Fr(j) : M !== 0 ? b = Fr(M) : c || (c = f & ~s, c !== 0 && (b = Fr(c)))), b === 0 ? 0 : a !== 0 && a !== b && (a & _) === 0 && (_ = b & -b, c = a & -a, _ >= c || _ === 32 && (c & 4194048) !== 0) ? a : b } function sa(s, a) { return (s.pendingLanes & ~(s.suspendedLanes & ~s.pingedLanes) & a) === 0 } function Au(s, a) { switch (s) { case 1: case 2: case 4: case 8: case 64: return a + 250; case 16: case 32: case 128: case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: case 262144: case 524288: case 1048576: case 2097152: return a + 5e3; case 4194304: case 8388608: case 16777216: case 33554432: return -1; case 67108864: case 134217728: case 268435456: case 536870912: case 1073741824: return -1; default: return -1 } } function oa() { var s = ir; return ir <<= 1, (ir & 4194048) === 0 && (ir = 256), s } function ad() { var s = Fi; return Fi <<= 1, (Fi & 62914560) === 0 && (Fi = 4194304), s } function xi(s) { for (var a = [], c = 0; 31 > c; c++)a.push(s); return a } function as(s, a) { s.pendingLanes |= a, a !== 268435456 && (s.suspendedLanes = 0, s.pingedLanes = 0, s.warmLanes = 0) } function cl(s, a, c, f, b, _) { var M = s.pendingLanes; s.pendingLanes = c, s.suspendedLanes = 0, s.pingedLanes = 0, s.warmLanes = 0, s.expiredLanes &= c, s.entangledLanes &= c, s.errorRecoveryDisabledLanes &= c, s.shellSuspendCounter = 0; var j = s.entanglements, Y = s.expirationTimes, ie = s.hiddenUpdates; for (c = M & ~c; 0 < c;) { var he = 31 - $t(c), ve = 1 << he; j[he] = 0, Y[he] = -1; var oe = ie[he]; if (oe !== null) for (ie[he] = null, he = 0; he < oe.length; he++) { var ae = oe[he]; ae !== null && (ae.lane &= -536870913) } c &= ~ve } f !== 0 && zr(s, f, 0), _ !== 0 && b === 0 && s.tag !== 0 && (s.suspendedLanes |= _ & ~(M & ~a)) } function zr(s, a, c) { s.pendingLanes |= a, s.suspendedLanes &= ~a; var f = 31 - $t(a); s.entangledLanes |= a, s.entanglements[f] = s.entanglements[f] | 1073741824 | c & 4194090 } function dl(s, a) { var c = s.entangledLanes |= a; for (s = s.entanglements; c;) { var f = 31 - $t(c), b = 1 << f; b & a | s[f] & a && (s[f] |= a), c &= ~b } } function Hr(s) { switch (s) { case 2: s = 1; break; case 8: s = 4; break; case 32: s = 16; break; case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: case 262144: case 524288: case 1048576: case 2097152: case 4194304: case 8388608: case 16777216: case 33554432: s = 128; break; case 268435456: s = 134217728; break; default: s = 0 }return s } function Os(s) { return s &= -s, 2 < s ? 8 < s ? (s & 134217727) !== 0 ? 32 : 268435456 : 8 : 2 } function aa() { var s = fe.p; return s !== 0 ? s : (s = window.event, s === void 0 ? 32 : Ch(s.type)) } function ld(s, a) { var c = fe.p; try { return fe.p = s, a() } finally { fe.p = c } } var fn = Math.random().toString(36).slice(2), Xn = "__reactFiber$" + fn, Bn = "__reactProps$" + fn, qr = "__reactContainer$" + fn, vo = "__reactEvents$" + fn, Ls = "__reactListeners$" + fn, rr = "__reactHandles$" + fn, ud = "__reactResources$" + fn, la = "__reactMarker$" + fn; function Ar(s) { delete s[Xn], delete s[Bn], delete s[vo], delete s[Ls], delete s[rr] } function yo(s) { var a = s[Xn]; if (a) return a; for (var c = s.parentNode; c;) { if (a = c[qr] || c[Xn]) { if (c = a.alternate, a.child !== null || c !== null && c.child !== null) for (s = h0(s); s !== null;) { if (c = s[Xn]) return c; s = h0(s) } return a } s = c, c = s.parentNode } return null } function Ri(s) { if (s = s[Xn] || s[qr]) { var a = s.tag; if (a === 5 || a === 6 || a === 13 || a === 26 || a === 27 || a === 3) return s } return null } function Vs(s) { var a = s.tag; if (a === 5 || a === 26 || a === 27 || a === 6) return s.stateNode; throw Error(i(33)) } function zi(s) { var a = s[ud]; return a || (a = s[ud] = { hoistableStyles: new Map, hoistableScripts: new Map }), a } function Cn(s) { s[la] = !0 } var Cu = new Set, an = {}; function Ii(s, a) { js(s, a), js(s + "Capture", a) } function js(s, a) { for (an[s] = a, s = 0; s < a.length; s++)Cu.add(a[s]) } var cd = RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"), lt = {}, ua = {}; function xu(s) { return Sr.call(ua, s) ? !0 : Sr.call(lt, s) ? !1 : cd.test(s) ? ua[s] = !0 : (lt[s] = !0, !1) } function ca(s, a, c) { if (xu(a)) if (c === null) s.removeAttribute(a); else { switch (typeof c) { case "undefined": case "function": case "symbol": s.removeAttribute(a); return; case "boolean": var f = a.toLowerCase().slice(0, 5); if (f !== "data-" && f !== "aria-") { s.removeAttribute(a); return } }s.setAttribute(a, "" + c) } } function ls(s, a, c) { if (c === null) s.removeAttribute(a); else { switch (typeof c) { case "undefined": case "function": case "symbol": case "boolean": s.removeAttribute(a); return }s.setAttribute(a, "" + c) } } function pt(s, a, c, f) { if (f === null) s.removeAttribute(c); else { switch (typeof f) { case "undefined": case "function": case "symbol": case "boolean": s.removeAttribute(c); return }s.setAttributeNS(a, c, "" + f) } } var sr, rf; function Qn(s) {
    if (sr === void 0) try { throw Error() } catch (c) {
      var a = c.stack.trim().match(/\n( *(at )?)/); sr = a && a[1] || "", rf = -1 < c.stack.indexOf(`
    at`) ? " (<anonymous>)" : -1 < c.stack.indexOf("@") ? "@unknown:0:0" : ""
    } return `
`+ sr + s + rf
  } var Fn = !1; function Ru(s, a) {
    if (!s || Fn) return ""; Fn = !0; var c = Error.prepareStackTrace; Error.prepareStackTrace = void 0; try {
      var f = { DetermineComponentFrameRoot: function () { try { if (a) { var ve = function () { throw Error() }; if (Object.defineProperty(ve.prototype, "props", { set: function () { throw Error() } }), typeof Reflect == "object" && Reflect.construct) { try { Reflect.construct(ve, []) } catch (ae) { var oe = ae } Reflect.construct(s, [], ve) } else { try { ve.call() } catch (ae) { oe = ae } s.call(ve.prototype) } } else { try { throw Error() } catch (ae) { oe = ae } (ve = s()) && typeof ve.catch == "function" && ve.catch(function () { }) } } catch (ae) { if (ae && oe && typeof ae.stack == "string") return [ae.stack, oe.stack] } return [null, null] } }; f.DetermineComponentFrameRoot.displayName = "DetermineComponentFrameRoot"; var b = Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot, "name"); b && b.configurable && Object.defineProperty(f.DetermineComponentFrameRoot, "name", { value: "DetermineComponentFrameRoot" }); var _ = f.DetermineComponentFrameRoot(), M = _[0], j = _[1]; if (M && j) {
        var Y = M.split(`
`), ie = j.split(`
`); for (b = f = 0; f < Y.length && !Y[f].includes("DetermineComponentFrameRoot");)f++; for (; b < ie.length && !ie[b].includes("DetermineComponentFrameRoot");)b++; if (f === Y.length || b === ie.length) for (f = Y.length - 1, b = ie.length - 1; 1 <= f && 0 <= b && Y[f] !== ie[b];)b--; for (; 1 <= f && 0 <= b; f--, b--)if (Y[f] !== ie[b]) {
          if (f !== 1 || b !== 1) do if (f--, b--, 0 > b || Y[f] !== ie[b]) {
            var he = `
`+ Y[f].replace(" at new ", " at "); return s.displayName && he.includes("<anonymous>") && (he = he.replace("<anonymous>", s.displayName)), he
          } while (1 <= f && 0 <= b); break
        }
      }
    } finally { Fn = !1, Error.prepareStackTrace = c } return (c = s ? s.displayName || s.name : "") ? Qn(c) : ""
  } function Gr(s) { switch (s.tag) { case 26: case 27: case 5: return Qn(s.type); case 16: return Qn("Lazy"); case 13: return Qn("Suspense"); case 19: return Qn("SuspenseList"); case 0: case 15: return Ru(s.type, !1); case 11: return Ru(s.type.render, !1); case 1: return Ru(s.type, !0); case 31: return Qn("Activity"); default: return "" } } function hl(s) {
    try { var a = ""; do a += Gr(s), s = s.return; while (s); return a } catch (c) {
      return `
Error generating stack: `+ c.message + `
`+ c.stack
    }
  } function oi(s) { switch (typeof s) { case "bigint": case "boolean": case "number": case "string": case "undefined": return s; case "object": return s; default: return "" } } function fl(s) { var a = s.type; return (s = s.nodeName) && s.toLowerCase() === "input" && (a === "checkbox" || a === "radio") } function dd(s) { var a = fl(s) ? "checked" : "value", c = Object.getOwnPropertyDescriptor(s.constructor.prototype, a), f = "" + s[a]; if (!s.hasOwnProperty(a) && typeof c < "u" && typeof c.get == "function" && typeof c.set == "function") { var b = c.get, _ = c.set; return Object.defineProperty(s, a, { configurable: !0, get: function () { return b.call(this) }, set: function (M) { f = "" + M, _.call(this, M) } }), Object.defineProperty(s, a, { enumerable: c.enumerable }), { getValue: function () { return f }, setValue: function (M) { f = "" + M }, stopTracking: function () { s._valueTracker = null, delete s[a] } } } } function da(s) { s._valueTracker || (s._valueTracker = dd(s)) } function hd(s) { if (!s) return !1; var a = s._valueTracker; if (!a) return !0; var c = a.getValue(), f = ""; return s && (f = fl(s) ? s.checked ? "true" : "false" : s.value), s = f, s !== c ? (a.setValue(s), !0) : !1 } function Cr(s) { if (s = s || (typeof document < "u" ? document : void 0), typeof s > "u") return null; try { return s.activeElement || s.body } catch { return s.body } } var pl = /[\n"\\]/g; function kn(s) { return s.replace(pl, function (a) { return "\\" + a.charCodeAt(0).toString(16) + " " }) } function ai(s, a, c, f, b, _, M, j) { s.name = "", M != null && typeof M != "function" && typeof M != "symbol" && typeof M != "boolean" ? s.type = M : s.removeAttribute("type"), a != null ? M === "number" ? (a === 0 && s.value === "" || s.value != a) && (s.value = "" + oi(a)) : s.value !== "" + oi(a) && (s.value = "" + oi(a)) : M !== "submit" && M !== "reset" || s.removeAttribute("value"), a != null ? bo(s, M, oi(a)) : c != null ? bo(s, M, oi(c)) : f != null && s.removeAttribute("value"), b == null && _ != null && (s.defaultChecked = !!_), b != null && (s.checked = b && typeof b != "function" && typeof b != "symbol"), j != null && typeof j != "function" && typeof j != "symbol" && typeof j != "boolean" ? s.name = "" + oi(j) : s.removeAttribute("name") } function ha(s, a, c, f, b, _, M, j) { if (_ != null && typeof _ != "function" && typeof _ != "symbol" && typeof _ != "boolean" && (s.type = _), a != null || c != null) { if (!(_ !== "submit" && _ !== "reset" || a != null)) return; c = c != null ? "" + oi(c) : "", a = a != null ? "" + oi(a) : c, j || a === s.value || (s.value = a), s.defaultValue = a } f = f ?? b, f = typeof f != "function" && typeof f != "symbol" && !!f, s.checked = j ? s.checked : !!f, s.defaultChecked = !!f, M != null && typeof M != "function" && typeof M != "symbol" && typeof M != "boolean" && (s.name = M) } function bo(s, a, c) { a === "number" && Cr(s.ownerDocument) === s || s.defaultValue === "" + c || (s.defaultValue = "" + c) } function Hi(s, a, c, f) { if (s = s.options, a) { a = {}; for (var b = 0; b < c.length; b++)a["$" + c[b]] = !0; for (c = 0; c < s.length; c++)b = a.hasOwnProperty("$" + s[c].value), s[c].selected !== b && (s[c].selected = b), b && f && (s[c].defaultSelected = !0) } else { for (c = "" + oi(c), a = null, b = 0; b < s.length; b++) { if (s[b].value === c) { s[b].selected = !0, f && (s[b].defaultSelected = !0); return } a !== null || s[b].disabled || (a = s[b]) } a !== null && (a.selected = !0) } } function Ht(s, a, c) { if (a != null && (a = "" + oi(a), a !== s.value && (s.value = a), c == null)) { s.defaultValue !== a && (s.defaultValue = a); return } s.defaultValue = c != null ? "" + oi(c) : "" } function ml(s, a, c, f) { if (a == null) { if (f != null) { if (c != null) throw Error(i(92)); if (xe(f)) { if (1 < f.length) throw Error(i(93)); f = f[0] } c = f } c == null && (c = ""), a = c } c = oi(a), s.defaultValue = c, f = s.textContent, f === c && f !== "" && f !== null && (s.value = f) } function xr(s, a) { if (a) { var c = s.firstChild; if (c && c === s.lastChild && c.nodeType === 3) { c.nodeValue = a; return } } s.textContent = a } var Jn = new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")); function us(s, a, c) { var f = a.indexOf("--") === 0; c == null || typeof c == "boolean" || c === "" ? f ? s.setProperty(a, "") : a === "float" ? s.cssFloat = "" : s[a] = "" : f ? s.setProperty(a, c) : typeof c != "number" || c === 0 || Jn.has(a) ? a === "float" ? s.cssFloat = c : s[a] = ("" + c).trim() : s[a] = c + "px" } function Iu(s, a, c) { if (a != null && typeof a != "object") throw Error(i(62)); if (s = s.style, c != null) { for (var f in c) !c.hasOwnProperty(f) || a != null && a.hasOwnProperty(f) || (f.indexOf("--") === 0 ? s.setProperty(f, "") : f === "float" ? s.cssFloat = "" : s[f] = ""); for (var b in a) f = a[b], a.hasOwnProperty(b) && c[b] !== f && us(s, b, f) } else for (var _ in a) a.hasOwnProperty(_) && us(s, _, a[_]) } function fa(s) { if (s.indexOf("-") === -1) return !1; switch (s) { case "annotation-xml": case "color-profile": case "font-face": case "font-face-src": case "font-face-uri": case "font-face-format": case "font-face-name": case "missing-glyph": return !1; default: return !0 } } var sf = new Map([["acceptCharset", "accept-charset"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"], ["crossOrigin", "crossorigin"], ["accentHeight", "accent-height"], ["alignmentBaseline", "alignment-baseline"], ["arabicForm", "arabic-form"], ["baselineShift", "baseline-shift"], ["capHeight", "cap-height"], ["clipPath", "clip-path"], ["clipRule", "clip-rule"], ["colorInterpolation", "color-interpolation"], ["colorInterpolationFilters", "color-interpolation-filters"], ["colorProfile", "color-profile"], ["colorRendering", "color-rendering"], ["dominantBaseline", "dominant-baseline"], ["enableBackground", "enable-background"], ["fillOpacity", "fill-opacity"], ["fillRule", "fill-rule"], ["floodColor", "flood-color"], ["floodOpacity", "flood-opacity"], ["fontFamily", "font-family"], ["fontSize", "font-size"], ["fontSizeAdjust", "font-size-adjust"], ["fontStretch", "font-stretch"], ["fontStyle", "font-style"], ["fontVariant", "font-variant"], ["fontWeight", "font-weight"], ["glyphName", "glyph-name"], ["glyphOrientationHorizontal", "glyph-orientation-horizontal"], ["glyphOrientationVertical", "glyph-orientation-vertical"], ["horizAdvX", "horiz-adv-x"], ["horizOriginX", "horiz-origin-x"], ["imageRendering", "image-rendering"], ["letterSpacing", "letter-spacing"], ["lightingColor", "lighting-color"], ["markerEnd", "marker-end"], ["markerMid", "marker-mid"], ["markerStart", "marker-start"], ["overlinePosition", "overline-position"], ["overlineThickness", "overline-thickness"], ["paintOrder", "paint-order"], ["panose-1", "panose-1"], ["pointerEvents", "pointer-events"], ["renderingIntent", "rendering-intent"], ["shapeRendering", "shape-rendering"], ["stopColor", "stop-color"], ["stopOpacity", "stop-opacity"], ["strikethroughPosition", "strikethrough-position"], ["strikethroughThickness", "strikethrough-thickness"], ["strokeDasharray", "stroke-dasharray"], ["strokeDashoffset", "stroke-dashoffset"], ["strokeLinecap", "stroke-linecap"], ["strokeLinejoin", "stroke-linejoin"], ["strokeMiterlimit", "stroke-miterlimit"], ["strokeOpacity", "stroke-opacity"], ["strokeWidth", "stroke-width"], ["textAnchor", "text-anchor"], ["textDecoration", "text-decoration"], ["textRendering", "text-rendering"], ["transformOrigin", "transform-origin"], ["underlinePosition", "underline-position"], ["underlineThickness", "underline-thickness"], ["unicodeBidi", "unicode-bidi"], ["unicodeRange", "unicode-range"], ["unitsPerEm", "units-per-em"], ["vAlphabetic", "v-alphabetic"], ["vHanging", "v-hanging"], ["vIdeographic", "v-ideographic"], ["vMathematical", "v-mathematical"], ["vectorEffect", "vector-effect"], ["vertAdvY", "vert-adv-y"], ["vertOriginX", "vert-origin-x"], ["vertOriginY", "vert-origin-y"], ["wordSpacing", "word-spacing"], ["writingMode", "writing-mode"], ["xmlnsXlink", "xmlns:xlink"], ["xHeight", "x-height"]]), of = /^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i; function pa(s) { return of.test("" + s) ? "javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')" : s } var or = null; function Rr(s) { return s = s.target || s.srcElement || window, s.correspondingUseElement && (s = s.correspondingUseElement), s.nodeType === 3 ? s.parentNode : s } var ki = null, Kr = null; function ku(s) { var a = Ri(s); if (a && (s = a.stateNode)) { var c = s[Bn] || null; e: switch (s = a.stateNode, a.type) { case "input": if (ai(s, c.value, c.defaultValue, c.defaultValue, c.checked, c.defaultChecked, c.type, c.name), a = c.name, c.type === "radio" && a != null) { for (c = s; c.parentNode;)c = c.parentNode; for (c = c.querySelectorAll('input[name="' + kn("" + a) + '"][type="radio"]'), a = 0; a < c.length; a++) { var f = c[a]; if (f !== s && f.form === s.form) { var b = f[Bn] || null; if (!b) throw Error(i(90)); ai(f, b.value, b.defaultValue, b.defaultValue, b.checked, b.defaultChecked, b.type, b.name) } } for (a = 0; a < c.length; a++)f = c[a], f.form === s.form && hd(f) } break e; case "textarea": Ht(s, c.value, c.defaultValue); break e; case "select": a = c.value, a != null && Hi(s, !!c.multiple, a, !1) } } } var ar = !1; function af(s, a, c) { if (ar) return s(a, c); ar = !0; try { var f = s(a); return f } finally { if (ar = !1, (ki !== null || Kr !== null) && (ih(), ki && (a = ki, s = Kr, Kr = ki = null, ku(a), s))) for (a = 0; a < s.length; a++)ku(s[a]) } } function gl(s, a) { var c = s.stateNode; if (c === null) return null; var f = c[Bn] || null; if (f === null) return null; c = f[a]; e: switch (a) { case "onClick": case "onClickCapture": case "onDoubleClick": case "onDoubleClickCapture": case "onMouseDown": case "onMouseDownCapture": case "onMouseMove": case "onMouseMoveCapture": case "onMouseUp": case "onMouseUpCapture": case "onMouseEnter": (f = !f.disabled) || (s = s.type, f = !(s === "button" || s === "input" || s === "select" || s === "textarea")), s = !f; break e; default: s = !1 }if (s) return null; if (c && typeof c != "function") throw Error(i(231, a, typeof c)); return c } var cs = !(typeof window > "u" || typeof window.document > "u" || typeof window.document.createElement > "u"), yi = !1; if (cs) try { var lr = {}; Object.defineProperty(lr, "passive", { get: function () { yi = !0 } }), window.addEventListener("test", lr, lr), window.removeEventListener("test", lr, lr) } catch { yi = !1 } var $r = null, ds = null, hs = null; function vl() { if (hs) return hs; var s, a = ds, c = a.length, f, b = "value" in $r ? $r.value : $r.textContent, _ = b.length; for (s = 0; s < c && a[s] === b[s]; s++); var M = c - s; for (f = 1; f <= M && a[c - f] === b[_ - f]; f++); return hs = b.slice(s, 1 < f ? 1 - f : void 0) } function fs(s) { var a = s.keyCode; return "charCode" in s ? (s = s.charCode, s === 0 && a === 13 && (s = 13)) : s = a, s === 10 && (s = 13), 32 <= s || s === 13 ? s : 0 } function Us() { return !0 } function Pu() { return !1 } function Pn(s) { function a(c, f, b, _, M) { this._reactName = c, this._targetInst = b, this.type = f, this.nativeEvent = _, this.target = M, this.currentTarget = null; for (var j in s) s.hasOwnProperty(j) && (c = s[j], this[j] = c ? c(_) : _[j]); return this.isDefaultPrevented = (_.defaultPrevented != null ? _.defaultPrevented : _.returnValue === !1) ? Us : Pu, this.isPropagationStopped = Pu, this } return w(a.prototype, { preventDefault: function () { this.defaultPrevented = !0; var c = this.nativeEvent; c && (c.preventDefault ? c.preventDefault() : typeof c.returnValue != "unknown" && (c.returnValue = !1), this.isDefaultPrevented = Us) }, stopPropagation: function () { var c = this.nativeEvent; c && (c.stopPropagation ? c.stopPropagation() : typeof c.cancelBubble != "unknown" && (c.cancelBubble = !0), this.isPropagationStopped = Us) }, persist: function () { }, isPersistent: Us }), a } var yt = { eventPhase: 0, bubbles: 0, cancelable: 0, timeStamp: function (s) { return s.timeStamp || Date.now() }, defaultPrevented: 0, isTrusted: 0 }, Bs = Pn(yt), wo = w({}, yt, { view: 0, detail: 0 }), fd = Pn(wo), Nu, ma, Ir, ga = w({}, wo, { screenX: 0, screenY: 0, clientX: 0, clientY: 0, pageX: 0, pageY: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, getModifierState: yl, button: 0, buttons: 0, relatedTarget: function (s) { return s.relatedTarget === void 0 ? s.fromElement === s.srcElement ? s.toElement : s.fromElement : s.relatedTarget }, movementX: function (s) { return "movementX" in s ? s.movementX : (s !== Ir && (Ir && s.type === "mousemove" ? (Nu = s.screenX - Ir.screenX, ma = s.screenY - Ir.screenY) : ma = Nu = 0, Ir = s), Nu) }, movementY: function (s) { return "movementY" in s ? s.movementY : ma } }), Wr = Pn(ga), pd = w({}, ga, { dataTransfer: 0 }), Fs = Pn(pd), ps = w({}, wo, { relatedTarget: 0 }), Mu = Pn(ps), md = w({}, yt, { animationName: 0, elapsedTime: 0, pseudoElement: 0 }), Du = Pn(md), lf = w({}, yt, { clipboardData: function (s) { return "clipboardData" in s ? s.clipboardData : window.clipboardData } }), _o = Pn(lf), $e = w({}, yt, { data: 0 }), va = Pn($e), zs = { Esc: "Escape", Spacebar: " ", Left: "ArrowLeft", Up: "ArrowUp", Right: "ArrowRight", Down: "ArrowDown", Del: "Delete", Win: "OS", Menu: "ContextMenu", Apps: "ContextMenu", Scroll: "ScrollLock", MozPrintableKey: "Unidentified" }, bt = { 8: "Backspace", 9: "Tab", 12: "Clear", 13: "Enter", 16: "Shift", 17: "Control", 18: "Alt", 19: "Pause", 20: "CapsLock", 27: "Escape", 32: " ", 33: "PageUp", 34: "PageDown", 35: "End", 36: "Home", 37: "ArrowLeft", 38: "ArrowUp", 39: "ArrowRight", 40: "ArrowDown", 45: "Insert", 46: "Delete", 112: "F1", 113: "F2", 114: "F3", 115: "F4", 116: "F5", 117: "F6", 118: "F7", 119: "F8", 120: "F9", 121: "F10", 122: "F11", 123: "F12", 144: "NumLock", 145: "ScrollLock", 224: "Meta" }, Re = { Alt: "altKey", Control: "ctrlKey", Meta: "metaKey", Shift: "shiftKey" }; function gd(s) { var a = this.nativeEvent; return a.getModifierState ? a.getModifierState(s) : (s = Re[s]) ? !!a[s] : !1 } function yl() { return gd } var ln = w({}, wo, { key: function (s) { if (s.key) { var a = zs[s.key] || s.key; if (a !== "Unidentified") return a } return s.type === "keypress" ? (s = fs(s), s === 13 ? "Enter" : String.fromCharCode(s)) : s.type === "keydown" || s.type === "keyup" ? bt[s.keyCode] || "Unidentified" : "" }, code: 0, location: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, repeat: 0, locale: 0, getModifierState: yl, charCode: function (s) { return s.type === "keypress" ? fs(s) : 0 }, keyCode: function (s) { return s.type === "keydown" || s.type === "keyup" ? s.keyCode : 0 }, which: function (s) { return s.type === "keypress" ? fs(s) : s.type === "keydown" || s.type === "keyup" ? s.keyCode : 0 } }), bl = Pn(ln), li = w({}, ga, { pointerId: 0, width: 0, height: 0, pressure: 0, tangentialPressure: 0, tiltX: 0, tiltY: 0, twist: 0, pointerType: 0, isPrimary: 0 }), ms = Pn(li), Hs = w({}, wo, { touches: 0, targetTouches: 0, changedTouches: 0, altKey: 0, metaKey: 0, ctrlKey: 0, shiftKey: 0, getModifierState: yl }), uf = Pn(Hs), cf = w({}, yt, { propertyName: 0, elapsedTime: 0, pseudoElement: 0 }), df = Pn(cf), Ou = w({}, ga, { deltaX: function (s) { return "deltaX" in s ? s.deltaX : "wheelDeltaX" in s ? -s.wheelDeltaX : 0 }, deltaY: function (s) { return "deltaY" in s ? s.deltaY : "wheelDeltaY" in s ? -s.wheelDeltaY : "wheelDelta" in s ? -s.wheelDelta : 0 }, deltaZ: 0, deltaMode: 0 }), Lu = Pn(Ou), bi = w({}, yt, { newState: 0, oldState: 0 }), hf = Pn(bi), ff = [9, 13, 27, 32], qs = cs && "CompositionEvent" in window, g = null; cs && "documentMode" in document && (g = document.documentMode); var A = cs && "TextEvent" in window && !g, P = cs && (!qs || g && 8 < g && 11 >= g), B = " ", te = !1; function ue(s, a) { switch (s) { case "keyup": return ff.indexOf(a.keyCode) !== -1; case "keydown": return a.keyCode !== 229; case "keypress": case "mousedown": case "focusout": return !0; default: return !1 } } function Ce(s) { return s = s.detail, typeof s == "object" && "data" in s ? s.data : null } var mt = !1; function Zn(s, a) { switch (s) { case "compositionend": return Ce(a); case "keypress": return a.which !== 32 ? null : (te = !0, B); case "textInput": return s = a.data, s === B && te ? null : s; default: return null } } function ut(s, a) { if (mt) return s === "compositionend" || !qs && ue(s, a) ? (s = vl(), hs = ds = $r = null, mt = !1, s) : null; switch (s) { case "paste": return null; case "keypress": if (!(a.ctrlKey || a.altKey || a.metaKey) || a.ctrlKey && a.altKey) { if (a.char && 1 < a.char.length) return a.char; if (a.which) return String.fromCharCode(a.which) } return null; case "compositionend": return P && a.locale !== "ko" ? null : a.data; default: return null } } var ui = { color: !0, date: !0, datetime: !0, "datetime-local": !0, email: !0, month: !0, number: !0, password: !0, range: !0, search: !0, tel: !0, text: !0, time: !0, url: !0, week: !0 }; function yn(s) { var a = s && s.nodeName && s.nodeName.toLowerCase(); return a === "input" ? !!ui[s.type] : a === "textarea" } function kr(s, a, c, f) { ki ? Kr ? Kr.push(f) : Kr = [f] : ki = f, a = fh(a, "onChange"), 0 < a.length && (c = new Bs("onChange", "change", null, c, f), s.push({ event: c, listeners: a })) } var wi = null, gs = null; function vd(s) { s0(s, 0) } function pf(s) { var a = Vs(s); if (hd(a)) return s } function Gs(s, a) { if (s === "change") return a } var Pi = !1; if (cs) { var Cm; if (cs) { var wl = "oninput" in document; if (!wl) { var xy = document.createElement("div"); xy.setAttribute("oninput", "return;"), wl = typeof xy.oninput == "function" } Cm = wl } else Cm = !1; Pi = Cm && (!document.documentMode || 9 < document.documentMode) } function Ry() { wi && (wi.detachEvent("onpropertychange", yd), gs = wi = null) } function yd(s) { if (s.propertyName === "value" && pf(gs)) { var a = []; kr(a, gs, s, Rr(s)), af(vd, a) } } function mf(s, a, c) { s === "focusin" ? (Ry(), wi = a, gs = c, wi.attachEvent("onpropertychange", yd)) : s === "focusout" && Ry() } function xm(s) { if (s === "selectionchange" || s === "keyup" || s === "keydown") return pf(gs) } function Rm(s, a) { if (s === "click") return pf(a) } function Im(s, a) { if (s === "input" || s === "change") return pf(a) } function km(s, a) { return s === a && (s !== 0 || 1 / s === 1 / a) || s !== s && a !== a } var bn = typeof Object.is == "function" ? Object.is : km; function Vu(s, a) { if (bn(s, a)) return !0; if (typeof s != "object" || s === null || typeof a != "object" || a === null) return !1; var c = Object.keys(s), f = Object.keys(a); if (c.length !== f.length) return !1; for (f = 0; f < c.length; f++) { var b = c[f]; if (!Sr.call(a, b) || !bn(s[b], a[b])) return !1 } return !0 } function Iy(s) { for (; s && s.firstChild;)s = s.firstChild; return s } function ju(s, a) { var c = Iy(s); s = 0; for (var f; c;) { if (c.nodeType === 3) { if (f = s + c.textContent.length, s <= a && f >= a) return { node: c, offset: a - s }; s = f } e: { for (; c;) { if (c.nextSibling) { c = c.nextSibling; break e } c = c.parentNode } c = void 0 } c = Iy(c) } } function ya(s, a) { return s && a ? s === a ? !0 : s && s.nodeType === 3 ? !1 : a && a.nodeType === 3 ? ya(s, a.parentNode) : "contains" in s ? s.contains(a) : s.compareDocumentPosition ? !!(s.compareDocumentPosition(a) & 16) : !1 : !1 } function Eo(s) { s = s != null && s.ownerDocument != null && s.ownerDocument.defaultView != null ? s.ownerDocument.defaultView : window; for (var a = Cr(s.document); a instanceof s.HTMLIFrameElement;) { try { var c = typeof a.contentWindow.location.href == "string" } catch { c = !1 } if (c) s = a.contentWindow; else break; a = Cr(s.document) } return a } function gf(s) { var a = s && s.nodeName && s.nodeName.toLowerCase(); return a && (a === "input" && (s.type === "text" || s.type === "search" || s.type === "tel" || s.type === "url" || s.type === "password") || a === "textarea" || s.contentEditable === "true") } var ky = cs && "documentMode" in document && 11 >= document.documentMode, _l = null, Pm = null, ba = null, bd = !1; function vf(s, a, c) { var f = c.window === c ? c.document : c.nodeType === 9 ? c : c.ownerDocument; bd || _l == null || _l !== Cr(f) || (f = _l, "selectionStart" in f && gf(f) ? f = { start: f.selectionStart, end: f.selectionEnd } : (f = (f.ownerDocument && f.ownerDocument.defaultView || window).getSelection(), f = { anchorNode: f.anchorNode, anchorOffset: f.anchorOffset, focusNode: f.focusNode, focusOffset: f.focusOffset }), ba && Vu(ba, f) || (ba = f, f = fh(Pm, "onSelect"), 0 < f.length && (a = new Bs("onSelect", "select", null, a, c), s.push({ event: a, listeners: f }), a.target = _l))) } function en(s, a) { var c = {}; return c[s.toLowerCase()] = a.toLowerCase(), c["Webkit" + s] = "webkit" + a, c["Moz" + s] = "moz" + a, c } var Pr = { animationend: en("Animation", "AnimationEnd"), animationiteration: en("Animation", "AnimationIteration"), animationstart: en("Animation", "AnimationStart"), transitionrun: en("Transition", "TransitionRun"), transitionstart: en("Transition", "TransitionStart"), transitioncancel: en("Transition", "TransitionCancel"), transitionend: en("Transition", "TransitionEnd") }, Uu = {}, ur = {}; cs && (ur = document.createElement("div").style, "AnimationEvent" in window || (delete Pr.animationend.animation, delete Pr.animationiteration.animation, delete Pr.animationstart.animation), "TransitionEvent" in window || delete Pr.transitionend.transition); function wa(s) { if (Uu[s]) return Uu[s]; if (!Pr[s]) return s; var a = Pr[s], c; for (c in a) if (a.hasOwnProperty(c) && c in ur) return Uu[s] = a[c]; return s } var Nm = wa("animationend"), Py = wa("animationiteration"), yf = wa("animationstart"), bf = wa("transitionrun"), Ny = wa("transitionstart"), Mm = wa("transitioncancel"), Dm = wa("transitionend"), Om = new Map, wf = "abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" "); wf.push("scrollEnd"); function vs(s, a) { Om.set(s, a), Ii(a, [s]) } var _f = new WeakMap; function Nr(s, a) { if (typeof s == "object" && s !== null) { var c = _f.get(s); return c !== void 0 ? c : (a = { value: s, source: a, stack: hl(a) }, _f.set(s, a), a) } return { value: s, source: a, stack: hl(a) } } var cr = [], Bu = 0, wd = 0; function El() { for (var s = Bu, a = wd = Bu = 0; a < s;) { var c = cr[a]; cr[a++] = null; var f = cr[a]; cr[a++] = null; var b = cr[a]; cr[a++] = null; var _ = cr[a]; if (cr[a++] = null, f !== null && b !== null) { var M = f.pending; M === null ? b.next = b : (b.next = M.next, M.next = b), f.pending = b } _ !== 0 && Lm(c, b, _) } } function Ef(s, a, c, f) { cr[Bu++] = s, cr[Bu++] = a, cr[Bu++] = c, cr[Bu++] = f, wd |= f, s.lanes |= f, s = s.alternate, s !== null && (s.lanes |= f) } function _d(s, a, c, f) { return Ef(s, a, c, f), wn(s) } function Tl(s, a) { return Ef(s, null, null, a), wn(s) } function Lm(s, a, c) { s.lanes |= c; var f = s.alternate; f !== null && (f.lanes |= c); for (var b = !1, _ = s.return; _ !== null;)_.childLanes |= c, f = _.alternate, f !== null && (f.childLanes |= c), _.tag === 22 && (s = _.stateNode, s === null || s._visibility & 1 || (b = !0)), s = _, _ = _.return; return s.tag === 3 ? (_ = s.stateNode, b && a !== null && (b = 31 - $t(c), s = _.hiddenUpdates, f = s[b], f === null ? s[b] = [a] : f.push(a), a.lane = c | 536870912), _) : null } function wn(s) { if (50 < bc) throw bc = 0, ap = null, Error(i(185)); for (var a = s.return; a !== null;)s = a, a = s.return; return s.tag === 3 ? s.stateNode : null } var Yr = {}; function Ed(s, a, c, f) { this.tag = s, this.key = c, this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null, this.index = 0, this.refCleanup = this.ref = null, this.pendingProps = a, this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null, this.mode = f, this.subtreeFlags = this.flags = 0, this.deletions = null, this.childLanes = this.lanes = 0, this.alternate = null } function Nn(s, a, c, f) { return new Ed(s, a, c, f) } function Tf(s) { return s = s.prototype, !(!s || !s.isReactComponent) } function Ks(s, a) { var c = s.alternate; return c === null ? (c = Nn(s.tag, a, s.key, s.mode), c.elementType = s.elementType, c.type = s.type, c.stateNode = s.stateNode, c.alternate = s, s.alternate = c) : (c.pendingProps = a, c.type = s.type, c.flags = 0, c.subtreeFlags = 0, c.deletions = null), c.flags = s.flags & 65011712, c.childLanes = s.childLanes, c.lanes = s.lanes, c.child = s.child, c.memoizedProps = s.memoizedProps, c.memoizedState = s.memoizedState, c.updateQueue = s.updateQueue, a = s.dependencies, c.dependencies = a === null ? null : { lanes: a.lanes, firstContext: a.firstContext }, c.sibling = s.sibling, c.index = s.index, c.ref = s.ref, c.refCleanup = s.refCleanup, c } function Sf(s, a) { s.flags &= 65011714; var c = s.alternate; return c === null ? (s.childLanes = 0, s.lanes = a, s.child = null, s.subtreeFlags = 0, s.memoizedProps = null, s.memoizedState = null, s.updateQueue = null, s.dependencies = null, s.stateNode = null) : (s.childLanes = c.childLanes, s.lanes = c.lanes, s.child = c.child, s.subtreeFlags = 0, s.deletions = null, s.memoizedProps = c.memoizedProps, s.memoizedState = c.memoizedState, s.updateQueue = c.updateQueue, s.type = c.type, a = c.dependencies, s.dependencies = a === null ? null : { lanes: a.lanes, firstContext: a.firstContext }), s } function un(s, a, c, f, b, _) { var M = 0; if (f = s, typeof s == "function") Tf(s) && (M = 1); else if (typeof s == "string") M = _p(s, c, Oe.current) ? 26 : s === "html" || s === "head" || s === "body" ? 27 : 5; else e: switch (s) { case O: return s = Nn(31, c, a, b), s.elementType = O, s.lanes = _, s; case U: return Xr(c.children, b, _, a); case k: M = 8, b |= 24; break; case R: return s = Nn(12, c, a, b | 2), s.elementType = R, s.lanes = _, s; case Q: return s = Nn(13, c, a, b), s.elementType = Q, s.lanes = _, s; case re: return s = Nn(19, c, a, b), s.elementType = re, s.lanes = _, s; default: if (typeof s == "object" && s !== null) switch (s.$$typeof) { case L: case $: M = 10; break e; case z: M = 9; break e; case J: M = 11; break e; case F: M = 14; break e; case V: M = 16, f = null; break e }M = 29, c = Error(i(130, s === null ? "null" : typeof s, "")), f = null }return a = Nn(M, c, a, b), a.elementType = s, a.type = f, a.lanes = _, a } function Xr(s, a, c, f) { return s = Nn(7, s, f, a), s.lanes = c, s } function Af(s, a, c) { return s = Nn(6, s, null, a), s.lanes = c, s } function Td(s, a, c) { return a = Nn(4, s.children !== null ? s.children : [], s.key, a), a.lanes = c, a.stateNode = { containerInfo: s.containerInfo, pendingChildren: null, implementation: s.implementation }, a } var Sl = [], Qr = 0, Cf = null, Sd = 0, Mr = [], Dr = 0, _a = null, To = 1, $s = ""; function Jr(s, a) { Sl[Qr++] = Sd, Sl[Qr++] = Cf, Cf = s, Sd = a } function Vm(s, a, c) { Mr[Dr++] = To, Mr[Dr++] = $s, Mr[Dr++] = _a, _a = s; var f = To; s = $s; var b = 32 - $t(f) - 1; f &= ~(1 << b), c += 1; var _ = 32 - $t(a) + b; if (30 < _) { var M = b - b % 5; _ = (f & (1 << M) - 1).toString(32), f >>= M, b -= M, To = 1 << 32 - $t(a) + b | c << b | f, $s = _ + s } else To = 1 << _ | c << b | f, $s = s } function xf(s) { s.return !== null && (Jr(s, 1), Vm(s, 1, 0)) } function Ea(s) { for (; s === Cf;)Cf = Sl[--Qr], Sl[Qr] = null, Sd = Sl[--Qr], Sl[Qr] = null; for (; s === _a;)_a = Mr[--Dr], Mr[Dr] = null, $s = Mr[--Dr], Mr[Dr] = null, To = Mr[--Dr], Mr[Dr] = null } var ci = null, jt = null, Ot = !1, Al = null, Ws = !1, Ys = Error(i(519)); function ys(s) { var a = Error(i(418, "")); throw So(Nr(a, s)), Ys } function Ad(s) { var a = s.stateNode, c = s.type, f = s.memoizedProps; switch (a[Xn] = s, a[Bn] = f, c) { case "dialog": at("cancel", a), at("close", a); break; case "iframe": case "object": case "embed": at("load", a); break; case "video": case "audio": for (c = 0; c < Sc.length; c++)at(Sc[c], a); break; case "source": at("error", a); break; case "img": case "image": case "link": at("error", a), at("load", a); break; case "details": at("toggle", a); break; case "input": at("invalid", a), ha(a, f.value, f.defaultValue, f.checked, f.defaultChecked, f.type, f.name, !0), da(a); break; case "select": at("invalid", a); break; case "textarea": at("invalid", a), ml(a, f.value, f.defaultValue, f.children), da(a) }c = f.children, typeof c != "string" && typeof c != "number" && typeof c != "bigint" || a.textContent === "" + c || f.suppressHydrationWarning === !0 || u0(a.textContent, c) ? (f.popover != null && (at("beforetoggle", a), at("toggle", a)), f.onScroll != null && at("scroll", a), f.onScrollEnd != null && at("scrollend", a), f.onClick != null && (a.onclick = tu), a = !0) : a = !1, a || ys(s) } function jm(s) { for (ci = s.return; ci;)switch (ci.tag) { case 5: case 13: Ws = !1; return; case 27: case 3: Ws = !0; return; default: ci = ci.return } } function Fu(s) { if (s !== ci) return !1; if (!Ot) return jm(s), Ot = !0, !1; var a = s.tag, c; if ((c = a !== 3 && a !== 27) && ((c = a === 5) && (c = s.type, c = !(c !== "form" && c !== "button") || iu(s.type, s.memoizedProps)), c = !c), c && jt && ys(s), jm(s), a === 13) { if (s = s.memoizedState, s = s !== null ? s.dehydrated : null, !s) throw Error(i(317)); e: { for (s = s.nextSibling, a = 0; s;) { if (s.nodeType === 8) if (c = s.data, c === "/$") { if (a === 0) { jt = Oi(s.nextSibling); break e } a-- } else c !== "$" && c !== "$!" && c !== "$?" || a++; s = s.nextSibling } jt = null } } else a === 27 ? (a = jt, lo(s.type) ? (s = $g, $g = null, jt = s) : jt = a) : jt = ci ? Oi(s.stateNode.nextSibling) : null; return !0 } function zu() { jt = ci = null, Ot = !1 } function Cd() { var s = Al; return s !== null && (Yi === null ? Yi = s : Yi.push.apply(Yi, s), Al = null), s } function So(s) { Al === null ? Al = [s] : Al.push(s) } var Rf = de(null), Xs = null, Ao = null; function Ta(s, a, c) { Ee(Rf, a._currentValue), a._currentValue = c } function Co(s) { s._currentValue = Rf.current, we(Rf) } function Hu(s, a, c) { for (; s !== null;) { var f = s.alternate; if ((s.childLanes & a) !== a ? (s.childLanes |= a, f !== null && (f.childLanes |= a)) : f !== null && (f.childLanes & a) !== a && (f.childLanes |= a), s === c) break; s = s.return } } function Um(s, a, c, f) { var b = s.child; for (b !== null && (b.return = s); b !== null;) { var _ = b.dependencies; if (_ !== null) { var M = b.child; _ = _.firstContext; e: for (; _ !== null;) { var j = _; _ = b; for (var Y = 0; Y < a.length; Y++)if (j.context === a[Y]) { _.lanes |= c, j = _.alternate, j !== null && (j.lanes |= c), Hu(_.return, c, s), f || (M = null); break e } _ = j.next } } else if (b.tag === 18) { if (M = b.return, M === null) throw Error(i(341)); M.lanes |= c, _ = M.alternate, _ !== null && (_.lanes |= c), Hu(M, c, s), M = null } else M = b.child; if (M !== null) M.return = b; else for (M = b; M !== null;) { if (M === s) { M = null; break } if (b = M.sibling, b !== null) { b.return = M.return, M = b; break } M = M.return } b = M } } function xd(s, a, c, f) { s = null; for (var b = a, _ = !1; b !== null;) { if (!_) { if ((b.flags & 524288) !== 0) _ = !0; else if ((b.flags & 262144) !== 0) break } if (b.tag === 10) { var M = b.alternate; if (M === null) throw Error(i(387)); if (M = M.memoizedProps, M !== null) { var j = b.type; bn(b.pendingProps.value, M.value) || (s !== null ? s.push(j) : s = [j]) } } else if (b === Zt.current) { if (M = b.alternate, M === null) throw Error(i(387)); M.memoizedState.memoizedState !== b.memoizedState.memoizedState && (s !== null ? s.push(Th) : s = [Th]) } b = b.return } s !== null && Um(a, s, c, f), a.flags |= 262144 } function qu(s) { for (s = s.firstContext; s !== null;) { if (!bn(s.context._currentValue, s.memoizedValue)) return !0; s = s.next } return !1 } function bs(s) { Xs = s, Ao = null, s = s.dependencies, s !== null && (s.firstContext = null) } function di(s) { return My(Xs, s) } function Rd(s, a) { return Xs === null && bs(s), My(s, a) } function My(s, a) { var c = a._currentValue; if (a = { context: a, memoizedValue: c, next: null }, Ao === null) { if (s === null) throw Error(i(308)); Ao = a, s.dependencies = { lanes: 0, firstContext: a }, s.flags |= 524288 } else Ao = Ao.next = a; return c } var Bm = typeof AbortController < "u" ? AbortController : function () { var s = [], a = this.signal = { aborted: !1, addEventListener: function (c, f) { s.push(f) } }; this.abort = function () { a.aborted = !0, s.forEach(function (c) { return c() }) } }, Fm = n.unstable_scheduleCallback, zm = n.unstable_NormalPriority, Mn = { $$typeof: $, Consumer: null, Provider: null, _currentValue: null, _currentValue2: null, _threadCount: 0 }; function Gu() { return { controller: new Bm, data: new Map, refCount: 0 } } function Ku(s) { s.refCount--, s.refCount === 0 && Fm(zm, function () { s.controller.abort() }) } var $u = null, If = 0, Cl = 0, Sa = null; function Id(s, a) { if ($u === null) { var c = $u = []; If = 0, Cl = dh(), Sa = { status: "pending", value: void 0, then: function (f) { c.push(f) } } } return If++, a.then(Hm, Hm), a } function Hm() { if (--If === 0 && $u !== null) { Sa !== null && (Sa.status = "fulfilled"); var s = $u; $u = null, Cl = 0, Sa = null; for (var a = 0; a < s.length; a++)(0, s[a])() } } function Dy(s, a) { var c = [], f = { status: "pending", value: null, reason: null, then: function (b) { c.push(b) } }; return s.then(function () { f.status = "fulfilled", f.value = a; for (var b = 0; b < c.length; b++)(0, c[b])(a) }, function (b) { for (f.status = "rejected", f.reason = b, b = 0; b < c.length; b++)(0, c[b])(void 0) }), f } var kd = se.S; se.S = function (s, a) { typeof a == "object" && a !== null && typeof a.then == "function" && Id(s, a), kd !== null && kd(s, a) }; var xo = de(null); function xl() { var s = xo.current; return s !== null ? s : Qt.pooledCache } function Qs(s, a) { a === null ? Ee(xo, xo.current) : Ee(xo, a.pool) } function Oy() { var s = xl(); return s === null ? null : { parent: Mn._currentValue, pool: s } } var Wu = Error(i(460)), Ly = Error(i(474)), Pd = Error(i(542)), qm = { then: function () { } }; function Vy(s) { return s = s.status, s === "fulfilled" || s === "rejected" } function Ni() { } function kf(s, a, c) { switch (c = s[c], c === void 0 ? s.push(a) : c !== a && (a.then(Ni, Ni), a = c), a.status) { case "fulfilled": return a.value; case "rejected": throw s = a.reason, jy(s), s; default: if (typeof a.status == "string") a.then(Ni, Ni); else { if (s = Qt, s !== null && 100 < s.shellSuspendCounter) throw Error(i(482)); s = a, s.status = "pending", s.then(function (f) { if (a.status === "pending") { var b = a; b.status = "fulfilled", b.value = f } }, function (f) { if (a.status === "pending") { var b = a; b.status = "rejected", b.reason = f } }) } switch (a.status) { case "fulfilled": return a.value; case "rejected": throw s = a.reason, jy(s), s }throw Rl = a, Wu } } var Rl = null; function Nd() { if (Rl === null) throw Error(i(459)); var s = Rl; return Rl = null, s } function jy(s) { if (s === Wu || s === Pd) throw Error(i(483)) } var qi = !1; function Pf(s) { s.updateQueue = { baseState: s.memoizedState, firstBaseUpdate: null, lastBaseUpdate: null, shared: { pending: null, lanes: 0, hiddenCallbacks: null }, callbacks: null } } function Md(s, a) { s = s.updateQueue, a.updateQueue === s && (a.updateQueue = { baseState: s.baseState, firstBaseUpdate: s.firstBaseUpdate, lastBaseUpdate: s.lastBaseUpdate, shared: s.shared, callbacks: null }) } function ws(s) { return { lane: s, tag: 0, payload: null, callback: null, next: null } } function Ro(s, a, c) { var f = s.updateQueue; if (f === null) return null; if (f = f.shared, (Ct & 2) !== 0) { var b = f.pending; return b === null ? a.next = a : (a.next = b.next, b.next = a), f.pending = a, a = wn(s), Lm(s, null, c), a } return Ef(s, f, a, c), wn(s) } function Js(s, a, c) { if (a = a.updateQueue, a !== null && (a = a.shared, (c & 4194048) !== 0)) { var f = a.lanes; f &= s.pendingLanes, c |= f, a.lanes = c, dl(s, c) } } function Dd(s, a) { var c = s.updateQueue, f = s.alternate; if (f !== null && (f = f.updateQueue, c === f)) { var b = null, _ = null; if (c = c.firstBaseUpdate, c !== null) { do { var M = { lane: c.lane, tag: c.tag, payload: c.payload, callback: null, next: null }; _ === null ? b = _ = M : _ = _.next = M, c = c.next } while (c !== null); _ === null ? b = _ = a : _ = _.next = a } else b = _ = a; c = { baseState: f.baseState, firstBaseUpdate: b, lastBaseUpdate: _, shared: f.shared, callbacks: f.callbacks }, s.updateQueue = c; return } s = c.lastBaseUpdate, s === null ? c.firstBaseUpdate = a : s.next = a, c.lastBaseUpdate = a } var Nf = !1; function Yu() { if (Nf) { var s = Sa; if (s !== null) throw s } } function Xu(s, a, c, f) { Nf = !1; var b = s.updateQueue; qi = !1; var _ = b.firstBaseUpdate, M = b.lastBaseUpdate, j = b.shared.pending; if (j !== null) { b.shared.pending = null; var Y = j, ie = Y.next; Y.next = null, M === null ? _ = ie : M.next = ie, M = Y; var he = s.alternate; he !== null && (he = he.updateQueue, j = he.lastBaseUpdate, j !== M && (j === null ? he.firstBaseUpdate = ie : j.next = ie, he.lastBaseUpdate = Y)) } if (_ !== null) { var ve = b.baseState; M = 0, he = ie = Y = null, j = _; do { var oe = j.lane & -536870913, ae = oe !== j.lane; if (ae ? (Et & oe) === oe : (f & oe) === oe) { oe !== 0 && oe === Cl && (Nf = !0), he !== null && (he = he.next = { lane: 0, tag: j.tag, payload: j.payload, callback: null, next: null }); e: { var Je = s, We = j; oe = a; var on = c; switch (We.tag) { case 1: if (Je = We.payload, typeof Je == "function") { ve = Je.call(on, ve, oe); break e } ve = Je; break e; case 3: Je.flags = Je.flags & -65537 | 128; case 0: if (Je = We.payload, oe = typeof Je == "function" ? Je.call(on, ve, oe) : Je, oe == null) break e; ve = w({}, ve, oe); break e; case 2: qi = !0 } } oe = j.callback, oe !== null && (s.flags |= 64, ae && (s.flags |= 8192), ae = b.callbacks, ae === null ? b.callbacks = [oe] : ae.push(oe)) } else ae = { lane: oe, tag: j.tag, payload: j.payload, callback: j.callback, next: null }, he === null ? (ie = he = ae, Y = ve) : he = he.next = ae, M |= oe; if (j = j.next, j === null) { if (j = b.shared.pending, j === null) break; ae = j, j = ae.next, ae.next = null, b.lastBaseUpdate = ae, b.shared.pending = null } } while (!0); he === null && (Y = ve), b.baseState = Y, b.firstBaseUpdate = ie, b.lastBaseUpdate = he, _ === null && (b.shared.lanes = 0), jo |= M, s.lanes = M, s.memoizedState = ve } } function Gm(s, a) { if (typeof s != "function") throw Error(i(191, s)); s.call(a) } function Uy(s, a) { var c = s.callbacks; if (c !== null) for (s.callbacks = null, s = 0; s < c.length; s++)Gm(c[s], a) } var Io = de(null), ko = de(0); function Km(s, a) { s = so, Ee(ko, s), Ee(Io, a), so = s | a.baseLanes } function Mf() { Ee(ko, so), Ee(Io, Io.current) } function Aa() { so = ko.current, we(Io), we(ko) } var _s = 0, ct = null, qt = null, Dn = null, Po = !1, Il = !1, Zs = !1, kl = 0, Ca = 0, No = null, Df = 0; function pn() { throw Error(i(321)) } function Qu(s, a) { if (a === null) return !1; for (var c = 0; c < a.length && c < s.length; c++)if (!bn(s[c], a[c])) return !1; return !0 } function Of(s, a, c, f, b, _) { return _s = _, ct = a, a.memoizedState = null, a.updateQueue = null, a.lanes = 0, se.H = s === null || s.memoizedState === null ? Gy : Ky, Zs = !1, _ = c(f, b), Zs = !1, Il && (_ = Wm(a, c, f, b)), $m(s), _ } function $m(s) { se.H = Kf; var a = qt !== null && qt.next !== null; if (_s = 0, Dn = qt = ct = null, Po = !1, Ca = 0, No = null, a) throw Error(i(300)); s === null || Rn || (s = s.dependencies, s !== null && qu(s) && (Rn = !0)) } function Wm(s, a, c, f) { ct = s; var b = 0; do { if (Il && (No = null), Ca = 0, Il = !1, 25 <= b) throw Error(i(301)); if (b += 1, Dn = qt = null, s.updateQueue != null) { var _ = s.updateQueue; _.lastEffect = null, _.events = null, _.stores = null, _.memoCache != null && (_.memoCache.index = 0) } se.H = pw, _ = a(c, f) } while (Il); return _ } function By() { var s = se.H, a = s.useState()[0]; return a = typeof a.then == "function" ? xa(a) : a, s = s.useState()[0], (qt !== null ? qt.memoizedState : null) !== s && (ct.flags |= 1024), a } function Ym() { var s = kl !== 0; return kl = 0, s } function Od(s, a, c) { a.updateQueue = s.updateQueue, a.flags &= -2053, s.lanes &= ~c } function Lf(s) { if (Po) { for (s = s.memoizedState; s !== null;) { var a = s.queue; a !== null && (a.pending = null), s = s.next } Po = !1 } _s = 0, Dn = qt = ct = null, Il = !1, Ca = kl = 0, No = null } function dr() { var s = { memoizedState: null, baseState: null, baseQueue: null, queue: null, next: null }; return Dn === null ? ct.memoizedState = Dn = s : Dn = Dn.next = s, Dn } function On() { if (qt === null) { var s = ct.alternate; s = s !== null ? s.memoizedState : null } else s = qt.next; var a = Dn === null ? ct.memoizedState : Dn.next; if (a !== null) Dn = a, qt = s; else { if (s === null) throw ct.alternate === null ? Error(i(467)) : Error(i(310)); qt = s, s = { memoizedState: qt.memoizedState, baseState: qt.baseState, baseQueue: qt.baseQueue, queue: qt.queue, next: null }, Dn === null ? ct.memoizedState = Dn = s : Dn = Dn.next = s } return Dn } function Pl() { return { lastEffect: null, events: null, stores: null, memoCache: null } } function xa(s) { var a = Ca; return Ca += 1, No === null && (No = []), s = kf(No, s, a), a = ct, (Dn === null ? a.memoizedState : Dn.next) === null && (a = a.alternate, se.H = a === null || a.memoizedState === null ? Gy : Ky), s } function Nl(s) { if (s !== null && typeof s == "object") { if (typeof s.then == "function") return xa(s); if (s.$$typeof === $) return di(s) } throw Error(i(438, String(s))) } function Ju(s) { var a = null, c = ct.updateQueue; if (c !== null && (a = c.memoCache), a == null) { var f = ct.alternate; f !== null && (f = f.updateQueue, f !== null && (f = f.memoCache, f != null && (a = { data: f.data.map(function (b) { return b.slice() }), index: 0 }))) } if (a == null && (a = { data: [], index: 0 }), c === null && (c = Pl(), ct.updateQueue = c), c.memoCache = a, c = a.data[a.index], c === void 0) for (c = a.data[a.index] = Array(s), f = 0; f < s; f++)c[f] = q; return a.index++, c } function Es(s, a) { return typeof a == "function" ? a(s) : a } function Zu(s) { var a = On(); return Ra(a, qt, s) } function Ra(s, a, c) { var f = s.queue; if (f === null) throw Error(i(311)); f.lastRenderedReducer = c; var b = s.baseQueue, _ = f.pending; if (_ !== null) { if (b !== null) { var M = b.next; b.next = _.next, _.next = M } a.baseQueue = b = _, f.pending = null } if (_ = s.baseState, b === null) s.memoizedState = _; else { a = b.next; var j = M = null, Y = null, ie = a, he = !1; do { var ve = ie.lane & -536870913; if (ve !== ie.lane ? (Et & ve) === ve : (_s & ve) === ve) { var oe = ie.revertLane; if (oe === 0) Y !== null && (Y = Y.next = { lane: 0, revertLane: 0, action: ie.action, hasEagerState: ie.hasEagerState, eagerState: ie.eagerState, next: null }), ve === Cl && (he = !0); else if ((_s & oe) === oe) { ie = ie.next, oe === Cl && (he = !0); continue } else ve = { lane: 0, revertLane: ie.revertLane, action: ie.action, hasEagerState: ie.hasEagerState, eagerState: ie.eagerState, next: null }, Y === null ? (j = Y = ve, M = _) : Y = Y.next = ve, ct.lanes |= oe, jo |= oe; ve = ie.action, Zs && c(_, ve), _ = ie.hasEagerState ? ie.eagerState : c(_, ve) } else oe = { lane: ve, revertLane: ie.revertLane, action: ie.action, hasEagerState: ie.hasEagerState, eagerState: ie.eagerState, next: null }, Y === null ? (j = Y = oe, M = _) : Y = Y.next = oe, ct.lanes |= ve, jo |= ve; ie = ie.next } while (ie !== null && ie !== a); if (Y === null ? M = _ : Y.next = j, !bn(_, s.memoizedState) && (Rn = !0, he && (c = Sa, c !== null))) throw c; s.memoizedState = _, s.baseState = M, s.baseQueue = Y, f.lastRenderedState = _ } return b === null && (f.lanes = 0), [s.memoizedState, f.dispatch] } function Vf(s) { var a = On(), c = a.queue; if (c === null) throw Error(i(311)); c.lastRenderedReducer = s; var f = c.dispatch, b = c.pending, _ = a.memoizedState; if (b !== null) { c.pending = null; var M = b = b.next; do _ = s(_, M.action), M = M.next; while (M !== b); bn(_, a.memoizedState) || (Rn = !0), a.memoizedState = _, a.baseQueue === null && (a.baseState = _), c.lastRenderedState = _ } return [_, f] } function Xm(s, a, c) { var f = ct, b = On(), _ = Ot; if (_) { if (c === void 0) throw Error(i(407)); c = c() } else c = a(); var M = !bn((qt || b).memoizedState, c); M && (b.memoizedState = c, Rn = !0), b = b.queue; var j = Ia.bind(null, f, b, s); if (ic(2048, 8, j, [s]), b.getSnapshot !== a || M || Dn !== null && Dn.memoizedState.tag & 1) { if (f.flags |= 2048, tn(9, tc(), Uf.bind(null, f, b, c, a), null), Qt === null) throw Error(i(349)); _ || (_s & 124) !== 0 || jf(f, a, c) } return c } function jf(s, a, c) { s.flags |= 16384, s = { getSnapshot: a, value: c }, a = ct.updateQueue, a === null ? (a = Pl(), ct.updateQueue = a, a.stores = [s]) : (c = a.stores, c === null ? a.stores = [s] : c.push(s)) } function Uf(s, a, c, f) { a.value = c, a.getSnapshot = f, ec(a) && Ml(s) } function Ia(s, a, c) { return c(function () { ec(a) && Ml(s) }) } function ec(s) { var a = s.getSnapshot; s = s.value; try { var c = a(); return !bn(s, c) } catch { return !0 } } function Ml(s) { var a = Tl(s, 2); a !== null && vr(a, s, 2) } function Dl(s) { var a = dr(); if (typeof s == "function") { var c = s; if (s = c(), Zs) { Dt(!0); try { c() } finally { Dt(!1) } } } return a.memoizedState = a.baseState = s, a.queue = { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: Es, lastRenderedState: s }, a } function Ol(s, a, c, f) { return s.baseState = c, Ra(s, qt, typeof f == "function" ? f : Es) } function hr(s, a, c, f, b) { if (Ud(s)) throw Error(i(485)); if (s = a.action, s !== null) { var _ = { payload: b, action: s, next: null, isTransition: !0, status: "pending", value: null, reason: null, listeners: [], then: function (M) { _.listeners.push(M) } }; se.T !== null ? c(!0) : _.isTransition = !1, f(_), c = a.pending, c === null ? (_.next = a.pending = _, Ll(a, _)) : (_.next = c.next, a.pending = c.next = _) } } function Ll(s, a) { var c = a.action, f = a.payload, b = s.state; if (a.isTransition) { var _ = se.T, M = {}; se.T = M; try { var j = c(b, f), Y = se.S; Y !== null && Y(M, j), Qm(s, a, j) } catch (ie) { Zr(s, a, ie) } finally { se.T = _ } } else try { _ = c(b, f), Qm(s, a, _) } catch (ie) { Zr(s, a, ie) } } function Qm(s, a, c) { c !== null && typeof c == "object" && typeof c.then == "function" ? c.then(function (f) { Ts(s, a, f) }, function (f) { return Zr(s, a, f) }) : Ts(s, a, c) } function Ts(s, a, c) { a.status = "fulfilled", a.value = c, Jm(a), s.state = c, a = s.pending, a !== null && (c = a.next, c === a ? s.pending = null : (c = c.next, a.next = c, Ll(s, c))) } function Zr(s, a, c) { var f = s.pending; if (s.pending = null, f !== null) { f = f.next; do a.status = "rejected", a.reason = c, Jm(a), a = a.next; while (a !== f) } s.action = null } function Jm(s) { s = s.listeners; for (var a = 0; a < s.length; a++)(0, s[a])() } function Bf(s, a) { return a } function Fy(s, a) { if (Ot) { var c = Qt.formState; if (c !== null) { e: { var f = ct; if (Ot) { if (jt) { t: { for (var b = jt, _ = Ws; b.nodeType !== 8;) { if (!_) { b = null; break t } if (b = Oi(b.nextSibling), b === null) { b = null; break t } } _ = b.data, b = _ === "F!" || _ === "F" ? b : null } if (b) { jt = Oi(b.nextSibling), f = b.data === "F!"; break e } } ys(f) } f = !1 } f && (a = c[0]) } } return c = dr(), c.memoizedState = c.baseState = a, f = { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: Bf, lastRenderedState: a }, c.queue = f, c = sc.bind(null, ct, f), f.dispatch = c, f = Dl(!1), _ = Gf.bind(null, ct, !1, f.queue), f = dr(), b = { state: a, dispatch: null, action: s, pending: null }, f.queue = b, c = hr.bind(null, ct, b, _, c), b.dispatch = c, f.memoizedState = s, [a, c, !1] } function zy(s) { var a = On(); return Hy(a, qt, s) } function Hy(s, a, c) { if (a = Ra(s, a, Bf)[0], s = Zu(Es)[0], typeof a == "object" && a !== null && typeof a.then == "function") try { var f = xa(a) } catch (M) { throw M === Wu ? Pd : M } else f = a; a = On(); var b = a.queue, _ = b.dispatch; return c !== a.memoizedState && (ct.flags |= 2048, tn(9, tc(), fw.bind(null, b, c), null)), [f, _, s] } function fw(s, a) { s.action = a } function Ff(s) { var a = On(), c = qt; if (c !== null) return Hy(a, c, s); On(), a = a.memoizedState, c = On(); var f = c.queue.dispatch; return c.memoizedState = s, [a, f, !1] } function tn(s, a, c, f) { return s = { tag: s, create: c, deps: f, inst: a, next: null }, a = ct.updateQueue, a === null && (a = Pl(), ct.updateQueue = a), c = a.lastEffect, c === null ? a.lastEffect = s.next = s : (f = c.next, c.next = s, s.next = f, a.lastEffect = s), s } function tc() { return { destroy: void 0, resource: void 0 } } function zf() { return On().memoizedState } function nc(s, a, c, f) { var b = dr(); f = f === void 0 ? null : f, ct.flags |= s, b.memoizedState = tn(1 | a, tc(), c, f) } function ic(s, a, c, f) { var b = On(); f = f === void 0 ? null : f; var _ = b.memoizedState.inst; qt !== null && f !== null && Qu(f, qt.memoizedState.deps) ? b.memoizedState = tn(a, _, c, f) : (ct.flags |= s, b.memoizedState = tn(1 | a, _, c, f)) } function Zm(s, a) { nc(8390656, 8, s, a) } function eg(s, a) { ic(2048, 8, s, a) } function tg(s, a) { return ic(4, 2, s, a) } function Ld(s, a) { return ic(4, 4, s, a) } function ka(s, a) { if (typeof a == "function") { s = s(); var c = a(s); return function () { typeof c == "function" ? c() : a(null) } } if (a != null) return s = s(), a.current = s, function () { a.current = null } } function ng(s, a, c) { c = c != null ? c.concat([s]) : null, ic(4, 4, ka.bind(null, a, s), c) } function Hf() { } function ig(s, a) { var c = On(); a = a === void 0 ? null : a; var f = c.memoizedState; return a !== null && Qu(a, f[1]) ? f[0] : (c.memoizedState = [s, a], s) } function Mi(s, a) { var c = On(); a = a === void 0 ? null : a; var f = c.memoizedState; if (a !== null && Qu(a, f[1])) return f[0]; if (f = s(), Zs) { Dt(!0); try { s() } finally { Dt(!1) } } return c.memoizedState = [f, a], f } function Vl(s, a, c) { return c === void 0 || (_s & 1073741824) !== 0 ? s.memoizedState = a : (s.memoizedState = c, s = Ig(), ct.lanes |= s, jo |= s, c) } function rg(s, a, c, f) { return bn(c, a) ? c : Io.current !== null ? (s = Vl(s, c, f), bn(s, a) || (Rn = !0), s) : (_s & 42) === 0 ? (Rn = !0, s.memoizedState = c) : (s = Ig(), ct.lanes |= s, jo |= s, a) } function sg(s, a, c, f, b) { var _ = fe.p; fe.p = _ !== 0 && 8 > _ ? _ : 8; var M = se.T, j = {}; se.T = j, Gf(s, !1, a, c); try { var Y = b(), ie = se.S; if (ie !== null && ie(j, Y), Y !== null && typeof Y == "object" && typeof Y.then == "function") { var he = Dy(Y, f); oc(s, a, he, gr(s)) } else oc(s, a, f, gr(s)) } catch (ve) { oc(s, a, { then: function () { }, status: "rejected", reason: ve }, gr()) } finally { fe.p = _, se.T = M } } function og() { } function qf(s, a, c, f) { if (s.tag !== 5) throw Error(i(476)); var b = ag(s).queue; sg(s, b, a, _e, c === null ? og : function () { return jl(s), c(f) }) } function ag(s) { var a = s.memoizedState; if (a !== null) return a; a = { memoizedState: _e, baseState: _e, baseQueue: null, queue: { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: Es, lastRenderedState: _e }, next: null }; var c = {}; return a.next = { memoizedState: c, baseState: c, baseQueue: null, queue: { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: Es, lastRenderedState: c }, next: null }, s.memoizedState = a, s = s.alternate, s !== null && (s.memoizedState = a), a } function jl(s) { var a = ag(s).next.queue; oc(s, a, {}, gr()) } function lg() { return di(Th) } function Vd() { return On().memoizedState } function jd() { return On().memoizedState } function Or(s) { for (var a = s.return; a !== null;) { switch (a.tag) { case 24: case 3: var c = gr(); s = ws(c); var f = Ro(a, s, c); f !== null && (vr(f, a, c), Js(f, a, c)), a = { cache: Gu() }, s.payload = a; return }a = a.return } } function rc(s, a, c) { var f = gr(); c = { lane: f, revertLane: 0, action: c, hasEagerState: !1, eagerState: null, next: null }, Ud(s) ? Pa(a, c) : (c = _d(s, a, c, f), c !== null && (vr(c, s, f), qy(c, a, f))) } function sc(s, a, c) { var f = gr(); oc(s, a, c, f) } function oc(s, a, c, f) { var b = { lane: f, revertLane: 0, action: c, hasEagerState: !1, eagerState: null, next: null }; if (Ud(s)) Pa(a, b); else { var _ = s.alternate; if (s.lanes === 0 && (_ === null || _.lanes === 0) && (_ = a.lastRenderedReducer, _ !== null)) try { var M = a.lastRenderedState, j = _(M, c); if (b.hasEagerState = !0, b.eagerState = j, bn(j, M)) return Ef(s, a, b, 0), Qt === null && El(), !1 } catch { } finally { } if (c = _d(s, a, b, f), c !== null) return vr(c, s, f), qy(c, a, f), !0 } return !1 } function Gf(s, a, c, f) { if (f = { lane: 2, revertLane: dh(), action: f, hasEagerState: !1, eagerState: null, next: null }, Ud(s)) { if (a) throw Error(i(479)) } else a = _d(s, c, f, 2), a !== null && vr(a, s, 2) } function Ud(s) { var a = s.alternate; return s === ct || a !== null && a === ct } function Pa(s, a) { Il = Po = !0; var c = s.pending; c === null ? a.next = a : (a.next = c.next, c.next = a), s.pending = a } function qy(s, a, c) { if ((c & 4194048) !== 0) { var f = a.lanes; f &= s.pendingLanes, c |= f, a.lanes = c, dl(s, c) } } var Kf = { readContext: di, use: Nl, useCallback: pn, useContext: pn, useEffect: pn, useImperativeHandle: pn, useLayoutEffect: pn, useInsertionEffect: pn, useMemo: pn, useReducer: pn, useRef: pn, useState: pn, useDebugValue: pn, useDeferredValue: pn, useTransition: pn, useSyncExternalStore: pn, useId: pn, useHostTransitionStatus: pn, useFormState: pn, useActionState: pn, useOptimistic: pn, useMemoCache: pn, useCacheRefresh: pn }, Gy = { readContext: di, use: Nl, useCallback: function (s, a) { return dr().memoizedState = [s, a === void 0 ? null : a], s }, useContext: di, useEffect: Zm, useImperativeHandle: function (s, a, c) { c = c != null ? c.concat([s]) : null, nc(4194308, 4, ka.bind(null, a, s), c) }, useLayoutEffect: function (s, a) { return nc(4194308, 4, s, a) }, useInsertionEffect: function (s, a) { nc(4, 2, s, a) }, useMemo: function (s, a) { var c = dr(); a = a === void 0 ? null : a; var f = s(); if (Zs) { Dt(!0); try { s() } finally { Dt(!1) } } return c.memoizedState = [f, a], f }, useReducer: function (s, a, c) { var f = dr(); if (c !== void 0) { var b = c(a); if (Zs) { Dt(!0); try { c(a) } finally { Dt(!1) } } } else b = a; return f.memoizedState = f.baseState = b, s = { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: s, lastRenderedState: b }, f.queue = s, s = s.dispatch = rc.bind(null, ct, s), [f.memoizedState, s] }, useRef: function (s) { var a = dr(); return s = { current: s }, a.memoizedState = s }, useState: function (s) { s = Dl(s); var a = s.queue, c = sc.bind(null, ct, a); return a.dispatch = c, [s.memoizedState, c] }, useDebugValue: Hf, useDeferredValue: function (s, a) { var c = dr(); return Vl(c, s, a) }, useTransition: function () { var s = Dl(!1); return s = sg.bind(null, ct, s.queue, !0, !1), dr().memoizedState = s, [!1, s] }, useSyncExternalStore: function (s, a, c) { var f = ct, b = dr(); if (Ot) { if (c === void 0) throw Error(i(407)); c = c() } else { if (c = a(), Qt === null) throw Error(i(349)); (Et & 124) !== 0 || jf(f, a, c) } b.memoizedState = c; var _ = { value: c, getSnapshot: a }; return b.queue = _, Zm(Ia.bind(null, f, _, s), [s]), f.flags |= 2048, tn(9, tc(), Uf.bind(null, f, _, c, a), null), c }, useId: function () { var s = dr(), a = Qt.identifierPrefix; if (Ot) { var c = $s, f = To; c = (f & ~(1 << 32 - $t(f) - 1)).toString(32) + c, a = "«" + a + "R" + c, c = kl++, 0 < c && (a += "H" + c.toString(32)), a += "»" } else c = Df++, a = "«" + a + "r" + c.toString(32) + "»"; return s.memoizedState = a }, useHostTransitionStatus: lg, useFormState: Fy, useActionState: Fy, useOptimistic: function (s) { var a = dr(); a.memoizedState = a.baseState = s; var c = { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: null, lastRenderedState: null }; return a.queue = c, a = Gf.bind(null, ct, !0, c), c.dispatch = a, [s, a] }, useMemoCache: Ju, useCacheRefresh: function () { return dr().memoizedState = Or.bind(null, ct) } }, Ky = { readContext: di, use: Nl, useCallback: ig, useContext: di, useEffect: eg, useImperativeHandle: ng, useInsertionEffect: tg, useLayoutEffect: Ld, useMemo: Mi, useReducer: Zu, useRef: zf, useState: function () { return Zu(Es) }, useDebugValue: Hf, useDeferredValue: function (s, a) { var c = On(); return rg(c, qt.memoizedState, s, a) }, useTransition: function () { var s = Zu(Es)[0], a = On().memoizedState; return [typeof s == "boolean" ? s : xa(s), a] }, useSyncExternalStore: Xm, useId: Vd, useHostTransitionStatus: lg, useFormState: zy, useActionState: zy, useOptimistic: function (s, a) { var c = On(); return Ol(c, qt, s, a) }, useMemoCache: Ju, useCacheRefresh: jd }, pw = { readContext: di, use: Nl, useCallback: ig, useContext: di, useEffect: eg, useImperativeHandle: ng, useInsertionEffect: tg, useLayoutEffect: Ld, useMemo: Mi, useReducer: Vf, useRef: zf, useState: function () { return Vf(Es) }, useDebugValue: Hf, useDeferredValue: function (s, a) { var c = On(); return qt === null ? Vl(c, s, a) : rg(c, qt.memoizedState, s, a) }, useTransition: function () { var s = Vf(Es)[0], a = On().memoizedState; return [typeof s == "boolean" ? s : xa(s), a] }, useSyncExternalStore: Xm, useId: Vd, useHostTransitionStatus: lg, useFormState: Ff, useActionState: Ff, useOptimistic: function (s, a) { var c = On(); return qt !== null ? Ol(c, qt, s, a) : (c.baseState = s, [s, c.queue.dispatch]) }, useMemoCache: Ju, useCacheRefresh: jd }, Ul = null, ac = 0; function $f(s) { var a = ac; return ac += 1, Ul === null && (Ul = []), kf(Ul, s, a) } function Bd(s, a) { a = a.props.ref, s.ref = a !== void 0 ? a : null } function lc(s, a) { throw a.$$typeof === E ? Error(i(525)) : (s = Object.prototype.toString.call(a), Error(i(31, s === "[object Object]" ? "object with keys {" + Object.keys(a).join(", ") + "}" : s))) } function ug(s) { var a = s._init; return a(s._payload) } function xn(s) { function a(ee, Z) { if (s) { var ne = ee.deletions; ne === null ? (ee.deletions = [Z], ee.flags |= 16) : ne.push(Z) } } function c(ee, Z) { if (!s) return null; for (; Z !== null;)a(ee, Z), Z = Z.sibling; return null } function f(ee) { for (var Z = new Map; ee !== null;)ee.key !== null ? Z.set(ee.key, ee) : Z.set(ee.index, ee), ee = ee.sibling; return Z } function b(ee, Z) { return ee = Ks(ee, Z), ee.index = 0, ee.sibling = null, ee } function _(ee, Z, ne) { return ee.index = ne, s ? (ne = ee.alternate, ne !== null ? (ne = ne.index, ne < Z ? (ee.flags |= 67108866, Z) : ne) : (ee.flags |= 67108866, Z)) : (ee.flags |= 1048576, Z) } function M(ee) { return s && ee.alternate === null && (ee.flags |= 67108866), ee } function j(ee, Z, ne, pe) { return Z === null || Z.tag !== 6 ? (Z = Af(ne, ee.mode, pe), Z.return = ee, Z) : (Z = b(Z, ne), Z.return = ee, Z) } function Y(ee, Z, ne, pe) { var De = ne.type; return De === U ? he(ee, Z, ne.props.children, pe, ne.key) : Z !== null && (Z.elementType === De || typeof De == "object" && De !== null && De.$$typeof === V && ug(De) === Z.type) ? (Z = b(Z, ne.props), Bd(Z, ne), Z.return = ee, Z) : (Z = un(ne.type, ne.key, ne.props, null, ee.mode, pe), Bd(Z, ne), Z.return = ee, Z) } function ie(ee, Z, ne, pe) { return Z === null || Z.tag !== 4 || Z.stateNode.containerInfo !== ne.containerInfo || Z.stateNode.implementation !== ne.implementation ? (Z = Td(ne, ee.mode, pe), Z.return = ee, Z) : (Z = b(Z, ne.children || []), Z.return = ee, Z) } function he(ee, Z, ne, pe, De) { return Z === null || Z.tag !== 7 ? (Z = Xr(ne, ee.mode, pe, De), Z.return = ee, Z) : (Z = b(Z, ne), Z.return = ee, Z) } function ve(ee, Z, ne) { if (typeof Z == "string" && Z !== "" || typeof Z == "number" || typeof Z == "bigint") return Z = Af("" + Z, ee.mode, ne), Z.return = ee, Z; if (typeof Z == "object" && Z !== null) { switch (Z.$$typeof) { case C: return ne = un(Z.type, Z.key, Z.props, null, ee.mode, ne), Bd(ne, Z), ne.return = ee, ne; case N: return Z = Td(Z, ee.mode, ne), Z.return = ee, Z; case V: var pe = Z._init; return Z = pe(Z._payload), ve(ee, Z, ne) }if (xe(Z) || K(Z)) return Z = Xr(Z, ee.mode, ne, null), Z.return = ee, Z; if (typeof Z.then == "function") return ve(ee, $f(Z), ne); if (Z.$$typeof === $) return ve(ee, Rd(ee, Z), ne); lc(ee, Z) } return null } function oe(ee, Z, ne, pe) { var De = Z !== null ? Z.key : null; if (typeof ne == "string" && ne !== "" || typeof ne == "number" || typeof ne == "bigint") return De !== null ? null : j(ee, Z, "" + ne, pe); if (typeof ne == "object" && ne !== null) { switch (ne.$$typeof) { case C: return ne.key === De ? Y(ee, Z, ne, pe) : null; case N: return ne.key === De ? ie(ee, Z, ne, pe) : null; case V: return De = ne._init, ne = De(ne._payload), oe(ee, Z, ne, pe) }if (xe(ne) || K(ne)) return De !== null ? null : he(ee, Z, ne, pe, null); if (typeof ne.then == "function") return oe(ee, Z, $f(ne), pe); if (ne.$$typeof === $) return oe(ee, Z, Rd(ee, ne), pe); lc(ee, ne) } return null } function ae(ee, Z, ne, pe, De) { if (typeof pe == "string" && pe !== "" || typeof pe == "number" || typeof pe == "bigint") return ee = ee.get(ne) || null, j(Z, ee, "" + pe, De); if (typeof pe == "object" && pe !== null) { switch (pe.$$typeof) { case C: return ee = ee.get(pe.key === null ? ne : pe.key) || null, Y(Z, ee, pe, De); case N: return ee = ee.get(pe.key === null ? ne : pe.key) || null, ie(Z, ee, pe, De); case V: var wt = pe._init; return pe = wt(pe._payload), ae(ee, Z, ne, pe, De) }if (xe(pe) || K(pe)) return ee = ee.get(ne) || null, he(Z, ee, pe, De, null); if (typeof pe.then == "function") return ae(ee, Z, ne, $f(pe), De); if (pe.$$typeof === $) return ae(ee, Z, ne, Rd(Z, pe), De); lc(Z, pe) } return null } function Je(ee, Z, ne, pe) { for (var De = null, wt = null, Fe = Z, Ye = Z = 0, Li = null; Fe !== null && Ye < ne.length; Ye++) { Fe.index > Ye ? (Li = Fe, Fe = null) : Li = Fe.sibling; var Bt = oe(ee, Fe, ne[Ye], pe); if (Bt === null) { Fe === null && (Fe = Li); break } s && Fe && Bt.alternate === null && a(ee, Fe), Z = _(Bt, Z, Ye), wt === null ? De = Bt : wt.sibling = Bt, wt = Bt, Fe = Li } if (Ye === ne.length) return c(ee, Fe), Ot && Jr(ee, Ye), De; if (Fe === null) { for (; Ye < ne.length; Ye++)Fe = ve(ee, ne[Ye], pe), Fe !== null && (Z = _(Fe, Z, Ye), wt === null ? De = Fe : wt.sibling = Fe, wt = Fe); return Ot && Jr(ee, Ye), De } for (Fe = f(Fe); Ye < ne.length; Ye++)Li = ae(Fe, ee, Ye, ne[Ye], pe), Li !== null && (s && Li.alternate !== null && Fe.delete(Li.key === null ? Ye : Li.key), Z = _(Li, Z, Ye), wt === null ? De = Li : wt.sibling = Li, wt = Li); return s && Fe.forEach(function (jc) { return a(ee, jc) }), Ot && Jr(ee, Ye), De } function We(ee, Z, ne, pe) { if (ne == null) throw Error(i(151)); for (var De = null, wt = null, Fe = Z, Ye = Z = 0, Li = null, Bt = ne.next(); Fe !== null && !Bt.done; Ye++, Bt = ne.next()) { Fe.index > Ye ? (Li = Fe, Fe = null) : Li = Fe.sibling; var jc = oe(ee, Fe, Bt.value, pe); if (jc === null) { Fe === null && (Fe = Li); break } s && Fe && jc.alternate === null && a(ee, Fe), Z = _(jc, Z, Ye), wt === null ? De = jc : wt.sibling = jc, wt = jc, Fe = Li } if (Bt.done) return c(ee, Fe), Ot && Jr(ee, Ye), De; if (Fe === null) { for (; !Bt.done; Ye++, Bt = ne.next())Bt = ve(ee, Bt.value, pe), Bt !== null && (Z = _(Bt, Z, Ye), wt === null ? De = Bt : wt.sibling = Bt, wt = Bt); return Ot && Jr(ee, Ye), De } for (Fe = f(Fe); !Bt.done; Ye++, Bt = ne.next())Bt = ae(Fe, ee, Ye, Bt.value, pe), Bt !== null && (s && Bt.alternate !== null && Fe.delete(Bt.key === null ? Ye : Bt.key), Z = _(Bt, Z, Ye), wt === null ? De = Bt : wt.sibling = Bt, wt = Bt); return s && Fe.forEach(function (rM) { return a(ee, rM) }), Ot && Jr(ee, Ye), De } function on(ee, Z, ne, pe) { if (typeof ne == "object" && ne !== null && ne.type === U && ne.key === null && (ne = ne.props.children), typeof ne == "object" && ne !== null) { switch (ne.$$typeof) { case C: e: { for (var De = ne.key; Z !== null;) { if (Z.key === De) { if (De = ne.type, De === U) { if (Z.tag === 7) { c(ee, Z.sibling), pe = b(Z, ne.props.children), pe.return = ee, ee = pe; break e } } else if (Z.elementType === De || typeof De == "object" && De !== null && De.$$typeof === V && ug(De) === Z.type) { c(ee, Z.sibling), pe = b(Z, ne.props), Bd(pe, ne), pe.return = ee, ee = pe; break e } c(ee, Z); break } else a(ee, Z); Z = Z.sibling } ne.type === U ? (pe = Xr(ne.props.children, ee.mode, pe, ne.key), pe.return = ee, ee = pe) : (pe = un(ne.type, ne.key, ne.props, null, ee.mode, pe), Bd(pe, ne), pe.return = ee, ee = pe) } return M(ee); case N: e: { for (De = ne.key; Z !== null;) { if (Z.key === De) if (Z.tag === 4 && Z.stateNode.containerInfo === ne.containerInfo && Z.stateNode.implementation === ne.implementation) { c(ee, Z.sibling), pe = b(Z, ne.children || []), pe.return = ee, ee = pe; break e } else { c(ee, Z); break } else a(ee, Z); Z = Z.sibling } pe = Td(ne, ee.mode, pe), pe.return = ee, ee = pe } return M(ee); case V: return De = ne._init, ne = De(ne._payload), on(ee, Z, ne, pe) }if (xe(ne)) return Je(ee, Z, ne, pe); if (K(ne)) { if (De = K(ne), typeof De != "function") throw Error(i(150)); return ne = De.call(ne), We(ee, Z, ne, pe) } if (typeof ne.then == "function") return on(ee, Z, $f(ne), pe); if (ne.$$typeof === $) return on(ee, Z, Rd(ee, ne), pe); lc(ee, ne) } return typeof ne == "string" && ne !== "" || typeof ne == "number" || typeof ne == "bigint" ? (ne = "" + ne, Z !== null && Z.tag === 6 ? (c(ee, Z.sibling), pe = b(Z, ne), pe.return = ee, ee = pe) : (c(ee, Z), pe = Af(ne, ee.mode, pe), pe.return = ee, ee = pe), M(ee)) : c(ee, Z) } return function (ee, Z, ne, pe) { try { ac = 0; var De = on(ee, Z, ne, pe); return Ul = null, De } catch (Fe) { if (Fe === Wu || Fe === Pd) throw Fe; var wt = Nn(29, Fe, null, ee.mode); return wt.lanes = pe, wt.return = ee, wt } finally { } } } var nn = xn(!0), cg = xn(!1), _i = de(null), eo = null; function Na(s) { var a = s.alternate; Ee(zn, zn.current & 1), Ee(_i, s), eo === null && (a === null || Io.current !== null || a.memoizedState !== null) && (eo = s) } function Wf(s) { if (s.tag === 22) { if (Ee(zn, zn.current), Ee(_i, s), eo === null) { var a = s.alternate; a !== null && a.memoizedState !== null && (eo = s) } } else Mo() } function Mo() { Ee(zn, zn.current), Ee(_i, _i.current) } function Ss(s) { we(_i), eo === s && (eo = null), we(zn) } var zn = de(0); function Fd(s) { for (var a = s; a !== null;) { if (a.tag === 13) { var c = a.memoizedState; if (c !== null && (c = c.dehydrated, c === null || c.data === "$?" || yp(c))) return a } else if (a.tag === 19 && a.memoizedProps.revealOrder !== void 0) { if ((a.flags & 128) !== 0) return a } else if (a.child !== null) { a.child.return = a, a = a.child; continue } if (a === s) break; for (; a.sibling === null;) { if (a.return === null || a.return === s) return null; a = a.return } a.sibling.return = a.return, a = a.sibling } return null } function Bl(s, a, c, f) { a = s.memoizedState, c = c(f, a), c = c == null ? a : w({}, a, c), s.memoizedState = c, s.lanes === 0 && (s.updateQueue.baseState = c) } var zd = { enqueueSetState: function (s, a, c) { s = s._reactInternals; var f = gr(), b = ws(f); b.payload = a, c != null && (b.callback = c), a = Ro(s, b, f), a !== null && (vr(a, s, f), Js(a, s, f)) }, enqueueReplaceState: function (s, a, c) { s = s._reactInternals; var f = gr(), b = ws(f); b.tag = 1, b.payload = a, c != null && (b.callback = c), a = Ro(s, b, f), a !== null && (vr(a, s, f), Js(a, s, f)) }, enqueueForceUpdate: function (s, a) { s = s._reactInternals; var c = gr(), f = ws(c); f.tag = 2, a != null && (f.callback = a), a = Ro(s, f, c), a !== null && (vr(a, s, c), Js(a, s, c)) } }; function Hd(s, a, c, f, b, _, M) { return s = s.stateNode, typeof s.shouldComponentUpdate == "function" ? s.shouldComponentUpdate(f, _, M) : a.prototype && a.prototype.isPureReactComponent ? !Vu(c, f) || !Vu(b, _) : !0 } function Yf(s, a, c, f) { s = a.state, typeof a.componentWillReceiveProps == "function" && a.componentWillReceiveProps(c, f), typeof a.UNSAFE_componentWillReceiveProps == "function" && a.UNSAFE_componentWillReceiveProps(c, f), a.state !== s && zd.enqueueReplaceState(a, a.state, null) } function to(s, a) { var c = a; if ("ref" in a) { c = {}; for (var f in a) f !== "ref" && (c[f] = a[f]) } if (s = s.defaultProps) { c === a && (c = w({}, c)); for (var b in s) c[b] === void 0 && (c[b] = s[b]) } return c } var uc = typeof reportError == "function" ? reportError : function (s) { if (typeof window == "object" && typeof window.ErrorEvent == "function") { var a = new window.ErrorEvent("error", { bubbles: !0, cancelable: !0, message: typeof s == "object" && s !== null && typeof s.message == "string" ? String(s.message) : String(s), error: s }); if (!window.dispatchEvent(a)) return } else if (typeof process == "object" && typeof process.emit == "function") { process.emit("uncaughtException", s); return } console.error(s) }; function Xf(s) { uc(s) } function $y(s) { console.error(s) } function Wy(s) { uc(s) } function Ma(s, a) { try { var c = s.onUncaughtError; c(a.value, { componentStack: a.stack }) } catch (f) { setTimeout(function () { throw f }) } } function Fl(s, a, c) { try { var f = s.onCaughtError; f(c.value, { componentStack: c.stack, errorBoundary: a.tag === 1 ? a.stateNode : null }) } catch (b) { setTimeout(function () { throw b }) } } function qd(s, a, c) { return c = ws(c), c.tag = 3, c.payload = { element: null }, c.callback = function () { Ma(s, a) }, c } function dg(s) { return s = ws(s), s.tag = 3, s } function Pt(s, a, c, f) { var b = c.type.getDerivedStateFromError; if (typeof b == "function") { var _ = f.value; s.payload = function () { return b(_) }, s.callback = function () { Fl(a, c, f) } } var M = c.stateNode; M !== null && typeof M.componentDidCatch == "function" && (s.callback = function () { Fl(a, c, f), typeof b != "function" && (Uo === null ? Uo = new Set([this]) : Uo.add(this)); var j = f.stack; this.componentDidCatch(f.value, { componentStack: j !== null ? j : "" }) }) } function Me(s, a, c, f, b) { if (c.flags |= 32768, f !== null && typeof f == "object" && typeof f.then == "function") { if (a = c.alternate, a !== null && xd(a, c, b, !0), c = _i.current, c !== null) { switch (c.tag) { case 13: return eo === null ? lp() : c.alternate === null && _n === 0 && (_n = 3), c.flags &= -257, c.flags |= 65536, c.lanes = b, f === qm ? c.flags |= 16384 : (a = c.updateQueue, a === null ? c.updateQueue = new Set([f]) : a.add(f), cp(s, f, b)), !1; case 22: return c.flags |= 65536, f === qm ? c.flags |= 16384 : (a = c.updateQueue, a === null ? (a = { transitions: null, markerInstances: null, retryQueue: new Set([f]) }, c.updateQueue = a) : (c = a.retryQueue, c === null ? a.retryQueue = new Set([f]) : c.add(f)), cp(s, f, b)), !1 }throw Error(i(435, c.tag)) } return cp(s, f, b), lp(), !1 } if (Ot) return a = _i.current, a !== null ? ((a.flags & 65536) === 0 && (a.flags |= 256), a.flags |= 65536, a.lanes = b, f !== Ys && (s = Error(i(422), { cause: f }), So(Nr(s, c)))) : (f !== Ys && (a = Error(i(423), { cause: f }), So(Nr(a, c))), s = s.current.alternate, s.flags |= 65536, b &= -b, s.lanes |= b, f = Nr(f, c), b = qd(s.stateNode, f, b), Dd(s, b), _n !== 4 && (_n = 2)), !1; var _ = Error(i(520), { cause: f }); if (_ = Nr(_, c), yc === null ? yc = [_] : yc.push(_), _n !== 4 && (_n = 2), a === null) return !0; f = Nr(f, c), c = a; do { switch (c.tag) { case 3: return c.flags |= 65536, s = b & -b, c.lanes |= s, s = qd(c.stateNode, f, s), Dd(c, s), !1; case 1: if (a = c.type, _ = c.stateNode, (c.flags & 128) === 0 && (typeof a.getDerivedStateFromError == "function" || _ !== null && typeof _.componentDidCatch == "function" && (Uo === null || !Uo.has(_)))) return c.flags |= 65536, b &= -b, c.lanes |= b, b = dg(b), Pt(b, s, c, f), Dd(c, b), !1 }c = c.return } while (c !== null); return !1 } var hg = Error(i(461)), Rn = !1; function rn(s, a, c, f) { a.child = s === null ? cg(a, null, c, f) : nn(a, s.child, c, f) } function As(s, a, c, f, b) { c = c.render; var _ = a.ref; if ("ref" in f) { var M = {}; for (var j in f) j !== "ref" && (M[j] = f[j]) } else M = f; return bs(a), f = Of(s, a, c, M, _, b), j = Ym(), s !== null && !Rn ? (Od(s, a, b), Lr(s, a, b)) : (Ot && j && xf(a), a.flags |= 1, rn(s, a, f, b), a.child) } function ei(s, a, c, f, b) { if (s === null) { var _ = c.type; return typeof _ == "function" && !Tf(_) && _.defaultProps === void 0 && c.compare === null ? (a.tag = 15, a.type = _, fg(s, a, _, f, b)) : (s = un(c.type, null, f, a, a.mode, b), s.ref = a.ref, s.return = a, a.child = s) } if (_ = s.child, !$d(s, b)) { var M = _.memoizedProps; if (c = c.compare, c = c !== null ? c : Vu, c(M, f) && s.ref === a.ref) return Lr(s, a, b) } return a.flags |= 1, s = Ks(_, f), s.ref = a.ref, s.return = a, a.child = s } function fg(s, a, c, f, b) { if (s !== null) { var _ = s.memoizedProps; if (Vu(_, f) && s.ref === a.ref) if (Rn = !1, a.pendingProps = f = _, $d(s, b)) (s.flags & 131072) !== 0 && (Rn = !0); else return a.lanes = s.lanes, Lr(s, a, b) } return Gd(s, a, c, f, b) } function Yy(s, a, c) { var f = a.pendingProps, b = f.children, _ = s !== null ? s.memoizedState : null; if (f.mode === "hidden") { if ((a.flags & 128) !== 0) { if (f = _ !== null ? _.baseLanes | c : c, s !== null) { for (b = a.child = s.child, _ = 0; b !== null;)_ = _ | b.lanes | b.childLanes, b = b.sibling; a.childLanes = _ & ~f } else a.childLanes = 0, a.child = null; return pg(s, a, f, c) } if ((c & 536870912) !== 0) a.memoizedState = { baseLanes: 0, cachePool: null }, s !== null && Qs(a, _ !== null ? _.cachePool : null), _ !== null ? Km(a, _) : Mf(), Wf(a); else return a.lanes = a.childLanes = 536870912, pg(s, a, _ !== null ? _.baseLanes | c : c, c) } else _ !== null ? (Qs(a, _.cachePool), Km(a, _), Mo(), a.memoizedState = null) : (s !== null && Qs(a, null), Mf(), Mo()); return rn(s, a, b, c), a.child } function pg(s, a, c, f) { var b = xl(); return b = b === null ? null : { parent: Mn._currentValue, pool: b }, a.memoizedState = { baseLanes: c, cachePool: b }, s !== null && Qs(a, null), Mf(), Wf(a), s !== null && xd(s, a, f, !0), null } function Da(s, a) { var c = a.ref; if (c === null) s !== null && s.ref !== null && (a.flags |= 4194816); else { if (typeof c != "function" && typeof c != "object") throw Error(i(284)); (s === null || s.ref !== c) && (a.flags |= 4194816) } } function Gd(s, a, c, f, b) { return bs(a), c = Of(s, a, c, f, void 0, b), f = Ym(), s !== null && !Rn ? (Od(s, a, b), Lr(s, a, b)) : (Ot && f && xf(a), a.flags |= 1, rn(s, a, c, b), a.child) } function Xy(s, a, c, f, b, _) { return bs(a), a.updateQueue = null, c = Wm(a, f, c, b), $m(s), f = Ym(), s !== null && !Rn ? (Od(s, a, _), Lr(s, a, _)) : (Ot && f && xf(a), a.flags |= 1, rn(s, a, c, _), a.child) } function zl(s, a, c, f, b) { if (bs(a), a.stateNode === null) { var _ = Yr, M = c.contextType; typeof M == "object" && M !== null && (_ = di(M)), _ = new c(f, _), a.memoizedState = _.state !== null && _.state !== void 0 ? _.state : null, _.updater = zd, a.stateNode = _, _._reactInternals = a, _ = a.stateNode, _.props = f, _.state = a.memoizedState, _.refs = {}, Pf(a), M = c.contextType, _.context = typeof M == "object" && M !== null ? di(M) : Yr, _.state = a.memoizedState, M = c.getDerivedStateFromProps, typeof M == "function" && (Bl(a, c, M, f), _.state = a.memoizedState), typeof c.getDerivedStateFromProps == "function" || typeof _.getSnapshotBeforeUpdate == "function" || typeof _.UNSAFE_componentWillMount != "function" && typeof _.componentWillMount != "function" || (M = _.state, typeof _.componentWillMount == "function" && _.componentWillMount(), typeof _.UNSAFE_componentWillMount == "function" && _.UNSAFE_componentWillMount(), M !== _.state && zd.enqueueReplaceState(_, _.state, null), Xu(a, f, _, b), Yu(), _.state = a.memoizedState), typeof _.componentDidMount == "function" && (a.flags |= 4194308), f = !0 } else if (s === null) { _ = a.stateNode; var j = a.memoizedProps, Y = to(c, j); _.props = Y; var ie = _.context, he = c.contextType; M = Yr, typeof he == "object" && he !== null && (M = di(he)); var ve = c.getDerivedStateFromProps; he = typeof ve == "function" || typeof _.getSnapshotBeforeUpdate == "function", j = a.pendingProps !== j, he || typeof _.UNSAFE_componentWillReceiveProps != "function" && typeof _.componentWillReceiveProps != "function" || (j || ie !== M) && Yf(a, _, f, M), qi = !1; var oe = a.memoizedState; _.state = oe, Xu(a, f, _, b), Yu(), ie = a.memoizedState, j || oe !== ie || qi ? (typeof ve == "function" && (Bl(a, c, ve, f), ie = a.memoizedState), (Y = qi || Hd(a, c, Y, f, oe, ie, M)) ? (he || typeof _.UNSAFE_componentWillMount != "function" && typeof _.componentWillMount != "function" || (typeof _.componentWillMount == "function" && _.componentWillMount(), typeof _.UNSAFE_componentWillMount == "function" && _.UNSAFE_componentWillMount()), typeof _.componentDidMount == "function" && (a.flags |= 4194308)) : (typeof _.componentDidMount == "function" && (a.flags |= 4194308), a.memoizedProps = f, a.memoizedState = ie), _.props = f, _.state = ie, _.context = M, f = Y) : (typeof _.componentDidMount == "function" && (a.flags |= 4194308), f = !1) } else { _ = a.stateNode, Md(s, a), M = a.memoizedProps, he = to(c, M), _.props = he, ve = a.pendingProps, oe = _.context, ie = c.contextType, Y = Yr, typeof ie == "object" && ie !== null && (Y = di(ie)), j = c.getDerivedStateFromProps, (ie = typeof j == "function" || typeof _.getSnapshotBeforeUpdate == "function") || typeof _.UNSAFE_componentWillReceiveProps != "function" && typeof _.componentWillReceiveProps != "function" || (M !== ve || oe !== Y) && Yf(a, _, f, Y), qi = !1, oe = a.memoizedState, _.state = oe, Xu(a, f, _, b), Yu(); var ae = a.memoizedState; M !== ve || oe !== ae || qi || s !== null && s.dependencies !== null && qu(s.dependencies) ? (typeof j == "function" && (Bl(a, c, j, f), ae = a.memoizedState), (he = qi || Hd(a, c, he, f, oe, ae, Y) || s !== null && s.dependencies !== null && qu(s.dependencies)) ? (ie || typeof _.UNSAFE_componentWillUpdate != "function" && typeof _.componentWillUpdate != "function" || (typeof _.componentWillUpdate == "function" && _.componentWillUpdate(f, ae, Y), typeof _.UNSAFE_componentWillUpdate == "function" && _.UNSAFE_componentWillUpdate(f, ae, Y)), typeof _.componentDidUpdate == "function" && (a.flags |= 4), typeof _.getSnapshotBeforeUpdate == "function" && (a.flags |= 1024)) : (typeof _.componentDidUpdate != "function" || M === s.memoizedProps && oe === s.memoizedState || (a.flags |= 4), typeof _.getSnapshotBeforeUpdate != "function" || M === s.memoizedProps && oe === s.memoizedState || (a.flags |= 1024), a.memoizedProps = f, a.memoizedState = ae), _.props = f, _.state = ae, _.context = Y, f = he) : (typeof _.componentDidUpdate != "function" || M === s.memoizedProps && oe === s.memoizedState || (a.flags |= 4), typeof _.getSnapshotBeforeUpdate != "function" || M === s.memoizedProps && oe === s.memoizedState || (a.flags |= 1024), f = !1) } return _ = f, Da(s, a), f = (a.flags & 128) !== 0, _ || f ? (_ = a.stateNode, c = f && typeof c.getDerivedStateFromError != "function" ? null : _.render(), a.flags |= 1, s !== null && f ? (a.child = nn(a, s.child, null, b), a.child = nn(a, null, c, b)) : rn(s, a, c, b), a.memoizedState = _.state, s = a.child) : s = Lr(s, a, b), s } function mg(s, a, c, f) { return zu(), a.flags |= 256, rn(s, a, c, f), a.child } var Qf = { dehydrated: null, treeContext: null, retryLane: 0, hydrationErrors: null }; function Jf(s) { return { baseLanes: s, cachePool: Oy() } } function Oa(s, a, c) { return s = s !== null ? s.childLanes & ~c : 0, a && (s |= Vr), s } function Kd(s, a, c) { var f = a.pendingProps, b = !1, _ = (a.flags & 128) !== 0, M; if ((M = _) || (M = s !== null && s.memoizedState === null ? !1 : (zn.current & 2) !== 0), M && (b = !0, a.flags &= -129), M = (a.flags & 32) !== 0, a.flags &= -33, s === null) { if (Ot) { if (b ? Na(a) : Mo(), Ot) { var j = jt, Y; if (Y = j) { e: { for (Y = j, j = Ws; Y.nodeType !== 8;) { if (!j) { j = null; break e } if (Y = Oi(Y.nextSibling), Y === null) { j = null; break e } } j = Y } j !== null ? (a.memoizedState = { dehydrated: j, treeContext: _a !== null ? { id: To, overflow: $s } : null, retryLane: 536870912, hydrationErrors: null }, Y = Nn(18, null, null, 0), Y.stateNode = j, Y.return = a, a.child = Y, ci = a, jt = null, Y = !0) : Y = !1 } Y || ys(a) } if (j = a.memoizedState, j !== null && (j = j.dehydrated, j !== null)) return yp(j) ? a.lanes = 32 : a.lanes = 536870912, null; Ss(a) } return j = f.children, f = f.fallback, b ? (Mo(), b = a.mode, j = Zf({ mode: "hidden", children: j }, b), f = Xr(f, b, c, null), j.return = a, f.return = a, j.sibling = f, a.child = j, b = a.child, b.memoizedState = Jf(c), b.childLanes = Oa(s, M, c), a.memoizedState = Qf, f) : (Na(a), cc(a, j)) } if (Y = s.memoizedState, Y !== null && (j = Y.dehydrated, j !== null)) { if (_) a.flags & 256 ? (Na(a), a.flags &= -257, a = La(s, a, c)) : a.memoizedState !== null ? (Mo(), a.child = s.child, a.flags |= 128, a = null) : (Mo(), b = f.fallback, j = a.mode, f = Zf({ mode: "visible", children: f.children }, j), b = Xr(b, j, c, null), b.flags |= 2, f.return = a, b.return = a, f.sibling = b, a.child = f, nn(a, s.child, null, c), f = a.child, f.memoizedState = Jf(c), f.childLanes = Oa(s, M, c), a.memoizedState = Qf, a = b); else if (Na(a), yp(j)) { if (M = j.nextSibling && j.nextSibling.dataset, M) var ie = M.dgst; M = ie, f = Error(i(419)), f.stack = "", f.digest = M, So({ value: f, source: null, stack: null }), a = La(s, a, c) } else if (Rn || xd(s, a, c, !1), M = (c & s.childLanes) !== 0, Rn || M) { if (M = Qt, M !== null && (f = c & -c, f = (f & 42) !== 0 ? 1 : Hr(f), f = (f & (M.suspendedLanes | c)) !== 0 ? 0 : f, f !== 0 && f !== Y.retryLane)) throw Y.retryLane = f, Tl(s, f), vr(M, s, f), hg; j.data === "$?" || lp(), a = La(s, a, c) } else j.data === "$?" ? (a.flags |= 192, a.child = s.child, a = null) : (s = Y.treeContext, jt = Oi(j.nextSibling), ci = a, Ot = !0, Al = null, Ws = !1, s !== null && (Mr[Dr++] = To, Mr[Dr++] = $s, Mr[Dr++] = _a, To = s.id, $s = s.overflow, _a = a), a = cc(a, f.children), a.flags |= 4096); return a } return b ? (Mo(), b = f.fallback, j = a.mode, Y = s.child, ie = Y.sibling, f = Ks(Y, { mode: "hidden", children: f.children }), f.subtreeFlags = Y.subtreeFlags & 65011712, ie !== null ? b = Ks(ie, b) : (b = Xr(b, j, c, null), b.flags |= 2), b.return = a, f.return = a, f.sibling = b, a.child = f, f = b, b = a.child, j = s.child.memoizedState, j === null ? j = Jf(c) : (Y = j.cachePool, Y !== null ? (ie = Mn._currentValue, Y = Y.parent !== ie ? { parent: ie, pool: ie } : Y) : Y = Oy(), j = { baseLanes: j.baseLanes | c, cachePool: Y }), b.memoizedState = j, b.childLanes = Oa(s, M, c), a.memoizedState = Qf, f) : (Na(a), c = s.child, s = c.sibling, c = Ks(c, { mode: "visible", children: f.children }), c.return = a, c.sibling = null, s !== null && (M = a.deletions, M === null ? (a.deletions = [s], a.flags |= 16) : M.push(s)), a.child = c, a.memoizedState = null, c) } function cc(s, a) { return a = Zf({ mode: "visible", children: a }, s.mode), a.return = s, s.child = a } function Zf(s, a) { return s = Nn(22, s, null, a), s.lanes = 0, s.stateNode = { _visibility: 1, _pendingMarkers: null, _retryCache: null, _transitions: null }, s } function La(s, a, c) { return nn(a, s.child, null, c), s = cc(a, a.pendingProps.children), s.flags |= 2, a.memoizedState = null, s } function gg(s, a, c) { s.lanes |= a; var f = s.alternate; f !== null && (f.lanes |= a), Hu(s.return, a, c) } function Va(s, a, c, f, b) { var _ = s.memoizedState; _ === null ? s.memoizedState = { isBackwards: a, rendering: null, renderingStartTime: 0, last: f, tail: c, tailMode: b } : (_.isBackwards = a, _.rendering = null, _.renderingStartTime = 0, _.last = f, _.tail = c, _.tailMode = b) } function vg(s, a, c) { var f = a.pendingProps, b = f.revealOrder, _ = f.tail; if (rn(s, a, f.children, c), f = zn.current, (f & 2) !== 0) f = f & 1 | 2, a.flags |= 128; else { if (s !== null && (s.flags & 128) !== 0) e: for (s = a.child; s !== null;) { if (s.tag === 13) s.memoizedState !== null && gg(s, c, a); else if (s.tag === 19) gg(s, c, a); else if (s.child !== null) { s.child.return = s, s = s.child; continue } if (s === a) break e; for (; s.sibling === null;) { if (s.return === null || s.return === a) break e; s = s.return } s.sibling.return = s.return, s = s.sibling } f &= 1 } switch (Ee(zn, f), b) { case "forwards": for (c = a.child, b = null; c !== null;)s = c.alternate, s !== null && Fd(s) === null && (b = c), c = c.sibling; c = b, c === null ? (b = a.child, a.child = null) : (b = c.sibling, c.sibling = null), Va(a, !1, b, c, _); break; case "backwards": for (c = null, b = a.child, a.child = null; b !== null;) { if (s = b.alternate, s !== null && Fd(s) === null) { a.child = b; break } s = b.sibling, b.sibling = c, c = b, b = s } Va(a, !0, c, null, _); break; case "together": Va(a, !1, null, null, void 0); break; default: a.memoizedState = null }return a.child } function Lr(s, a, c) { if (s !== null && (a.dependencies = s.dependencies), jo |= a.lanes, (c & a.childLanes) === 0) if (s !== null) { if (xd(s, a, c, !1), (c & a.childLanes) === 0) return null } else return null; if (s !== null && a.child !== s.child) throw Error(i(153)); if (a.child !== null) { for (s = a.child, c = Ks(s, s.pendingProps), a.child = c, c.return = a; s.sibling !== null;)s = s.sibling, c = c.sibling = Ks(s, s.pendingProps), c.return = a; c.sibling = null } return a.child } function $d(s, a) { return (s.lanes & a) !== 0 ? !0 : (s = s.dependencies, !!(s !== null && qu(s))) } function Qy(s, a, c) { switch (a.tag) { case 3: At(a, a.stateNode.containerInfo), Ta(a, Mn, s.memoizedState.cache), zu(); break; case 27: case 5: Bi(a); break; case 4: At(a, a.stateNode.containerInfo); break; case 10: Ta(a, a.type, a.memoizedProps.value); break; case 13: var f = a.memoizedState; if (f !== null) return f.dehydrated !== null ? (Na(a), a.flags |= 128, null) : (c & a.child.childLanes) !== 0 ? Kd(s, a, c) : (Na(a), s = Lr(s, a, c), s !== null ? s.sibling : null); Na(a); break; case 19: var b = (s.flags & 128) !== 0; if (f = (c & a.childLanes) !== 0, f || (xd(s, a, c, !1), f = (c & a.childLanes) !== 0), b) { if (f) return vg(s, a, c); a.flags |= 128 } if (b = a.memoizedState, b !== null && (b.rendering = null, b.tail = null, b.lastEffect = null), Ee(zn, zn.current), f) break; return null; case 22: case 23: return a.lanes = 0, Yy(s, a, c); case 24: Ta(a, Mn, s.memoizedState.cache) }return Lr(s, a, c) } function dc(s, a, c) { if (s !== null) if (s.memoizedProps !== a.pendingProps) Rn = !0; else { if (!$d(s, c) && (a.flags & 128) === 0) return Rn = !1, Qy(s, a, c); Rn = (s.flags & 131072) !== 0 } else Rn = !1, Ot && (a.flags & 1048576) !== 0 && Vm(a, Sd, a.index); switch (a.lanes = 0, a.tag) { case 16: e: { s = a.pendingProps; var f = a.elementType, b = f._init; if (f = b(f._payload), a.type = f, typeof f == "function") Tf(f) ? (s = to(f, s), a.tag = 1, a = zl(null, a, f, s, c)) : (a.tag = 0, a = Gd(null, a, f, s, c)); else { if (f != null) { if (b = f.$$typeof, b === J) { a.tag = 11, a = As(null, a, f, s, c); break e } else if (b === F) { a.tag = 14, a = ei(null, a, f, s, c); break e } } throw a = ce(f) || f, Error(i(306, a, "")) } } return a; case 0: return Gd(s, a, a.type, a.pendingProps, c); case 1: return f = a.type, b = to(f, a.pendingProps), zl(s, a, f, b, c); case 3: e: { if (At(a, a.stateNode.containerInfo), s === null) throw Error(i(387)); f = a.pendingProps; var _ = a.memoizedState; b = _.element, Md(s, a), Xu(a, f, null, c); var M = a.memoizedState; if (f = M.cache, Ta(a, Mn, f), f !== _.cache && Um(a, [Mn], c, !0), Yu(), f = M.element, _.isDehydrated) if (_ = { element: f, isDehydrated: !1, cache: M.cache }, a.updateQueue.baseState = _, a.memoizedState = _, a.flags & 256) { a = mg(s, a, f, c); break e } else if (f !== b) { b = Nr(Error(i(424)), a), So(b), a = mg(s, a, f, c); break e } else { switch (s = a.stateNode.containerInfo, s.nodeType) { case 9: s = s.body; break; default: s = s.nodeName === "HTML" ? s.ownerDocument.body : s }for (jt = Oi(s.firstChild), ci = a, Ot = !0, Al = null, Ws = !0, c = cg(a, null, f, c), a.child = c; c;)c.flags = c.flags & -3 | 4096, c = c.sibling } else { if (zu(), f === b) { a = Lr(s, a, c); break e } rn(s, a, f, c) } a = a.child } return a; case 26: return Da(s, a), s === null ? (c = Dc(a.type, null, a.pendingProps, null)) ? a.memoizedState = c : Ot || (c = a.type, s = a.pendingProps, f = vp(Ve.current).createElement(c), f[Xn] = a, f[Bn] = s, Hn(f, c, s), Cn(f), a.stateNode = f) : a.memoizedState = Dc(a.type, s.memoizedProps, a.pendingProps, s.memoizedState), null; case 27: return Bi(a), s === null && Ot && (f = a.stateNode = ph(a.type, a.pendingProps, Ve.current), ci = a, Ws = !0, b = jt, lo(a.type) ? ($g = b, jt = Oi(f.firstChild)) : jt = b), rn(s, a, a.pendingProps.children, c), Da(s, a), s === null && (a.flags |= 4194304), a.child; case 5: return s === null && Ot && ((b = f = jt) && (f = ww(f, a.type, a.pendingProps, Ws), f !== null ? (a.stateNode = f, ci = a, jt = Oi(f.firstChild), Ws = !1, b = !0) : b = !1), b || ys(a)), Bi(a), b = a.type, _ = a.pendingProps, M = s !== null ? s.memoizedProps : null, f = _.children, iu(b, _) ? f = null : M !== null && iu(b, M) && (a.flags |= 32), a.memoizedState !== null && (b = Of(s, a, By, null, null, c), Th._currentValue = b), Da(s, a), rn(s, a, f, c), a.child; case 6: return s === null && Ot && ((s = c = jt) && (c = Kg(c, a.pendingProps, Ws), c !== null ? (a.stateNode = c, ci = a, jt = null, s = !0) : s = !1), s || ys(a)), null; case 13: return Kd(s, a, c); case 4: return At(a, a.stateNode.containerInfo), f = a.pendingProps, s === null ? a.child = nn(a, null, f, c) : rn(s, a, f, c), a.child; case 11: return As(s, a, a.type, a.pendingProps, c); case 7: return rn(s, a, a.pendingProps, c), a.child; case 8: return rn(s, a, a.pendingProps.children, c), a.child; case 12: return rn(s, a, a.pendingProps.children, c), a.child; case 10: return f = a.pendingProps, Ta(a, a.type, f.value), rn(s, a, f.children, c), a.child; case 9: return b = a.type._context, f = a.pendingProps.children, bs(a), b = di(b), f = f(b), a.flags |= 1, rn(s, a, f, c), a.child; case 14: return ei(s, a, a.type, a.pendingProps, c); case 15: return fg(s, a, a.type, a.pendingProps, c); case 19: return vg(s, a, c); case 31: return f = a.pendingProps, c = a.mode, f = { mode: f.mode, children: f.children }, s === null ? (c = Zf(f, c), c.ref = a.ref, a.child = c, c.return = a, a = c) : (c = Ks(s.child, f), c.ref = a.ref, a.child = c, c.return = a, a = c), a; case 22: return Yy(s, a, c); case 24: return bs(a), f = di(Mn), s === null ? (b = xl(), b === null && (b = Qt, _ = Gu(), b.pooledCache = _, _.refCount++, _ !== null && (b.pooledCacheLanes |= c), b = _), a.memoizedState = { parent: f, cache: b }, Pf(a), Ta(a, Mn, b)) : ((s.lanes & c) !== 0 && (Md(s, a), Xu(a, null, null, c), Yu()), b = s.memoizedState, _ = a.memoizedState, b.parent !== f ? (b = { parent: f, cache: f }, a.memoizedState = b, a.lanes === 0 && (a.memoizedState = a.updateQueue.baseState = b), Ta(a, Mn, f)) : (f = _.cache, Ta(a, Mn, f), f !== b.cache && Um(a, [Mn], c, !0))), rn(s, a, a.pendingProps.children, c), a.child; case 29: throw a.pendingProps }throw Error(i(156, a.tag)) } function no(s) { s.flags |= 4 } function yg(s, a) { if (a.type !== "stylesheet" || (a.state.loading & 4) !== 0) s.flags &= -16777217; else if (s.flags |= 16777216, !uo(a)) { if (a = _i.current, a !== null && ((Et & 4194048) === Et ? eo !== null : (Et & 62914560) !== Et && (Et & 536870912) === 0 || a !== eo)) throw Rl = qm, Ly; s.flags |= 8192 } } function Wd(s, a) { a !== null && (s.flags |= 4), s.flags & 16384 && (a = s.tag !== 22 ? ad() : 536870912, s.lanes |= a, Wl |= a) } function hc(s, a) { if (!Ot) switch (s.tailMode) { case "hidden": a = s.tail; for (var c = null; a !== null;)a.alternate !== null && (c = a), a = a.sibling; c === null ? s.tail = null : c.sibling = null; break; case "collapsed": c = s.tail; for (var f = null; c !== null;)c.alternate !== null && (f = c), c = c.sibling; f === null ? a || s.tail === null ? s.tail = null : s.tail.sibling = null : f.sibling = null } } function mn(s) { var a = s.alternate !== null && s.alternate.child === s.child, c = 0, f = 0; if (a) for (var b = s.child; b !== null;)c |= b.lanes | b.childLanes, f |= b.subtreeFlags & 65011712, f |= b.flags & 65011712, b.return = s, b = b.sibling; else for (b = s.child; b !== null;)c |= b.lanes | b.childLanes, f |= b.subtreeFlags, f |= b.flags, b.return = s, b = b.sibling; return s.subtreeFlags |= f, s.childLanes = c, a } function Jy(s, a, c) { var f = a.pendingProps; switch (Ea(a), a.tag) { case 31: case 16: case 15: case 0: case 11: case 7: case 8: case 12: case 9: case 14: return mn(a), null; case 1: return mn(a), null; case 3: return c = a.stateNode, f = null, s !== null && (f = s.memoizedState.cache), a.memoizedState.cache !== f && (a.flags |= 2048), Co(Mn), Si(), c.pendingContext && (c.context = c.pendingContext, c.pendingContext = null), (s === null || s.child === null) && (Fu(a) ? no(a) : s === null || s.memoizedState.isDehydrated && (a.flags & 256) === 0 || (a.flags |= 1024, Cd())), mn(a), null; case 26: return c = a.memoizedState, s === null ? (no(a), c !== null ? (mn(a), yg(a, c)) : (mn(a), a.flags &= -16777217)) : c ? c !== s.memoizedState ? (no(a), mn(a), yg(a, c)) : (mn(a), a.flags &= -16777217) : (s.memoizedProps !== f && no(a), mn(a), a.flags &= -16777217), null; case 27: Ai(a), c = Ve.current; var b = a.type; if (s !== null && a.stateNode != null) s.memoizedProps !== f && no(a); else { if (!f) { if (a.stateNode === null) throw Error(i(166)); return mn(a), null } s = Oe.current, Fu(a) ? Ad(a) : (s = ph(b, f, c), a.stateNode = s, no(a)) } return mn(a), null; case 5: if (Ai(a), c = a.type, s !== null && a.stateNode != null) s.memoizedProps !== f && no(a); else { if (!f) { if (a.stateNode === null) throw Error(i(166)); return mn(a), null } if (s = Oe.current, Fu(a)) Ad(a); else { switch (b = vp(Ve.current), s) { case 1: s = b.createElementNS("http://www.w3.org/2000/svg", c); break; case 2: s = b.createElementNS("http://www.w3.org/1998/Math/MathML", c); break; default: switch (c) { case "svg": s = b.createElementNS("http://www.w3.org/2000/svg", c); break; case "math": s = b.createElementNS("http://www.w3.org/1998/Math/MathML", c); break; case "script": s = b.createElement("div"), s.innerHTML = "<script><\/script>", s = s.removeChild(s.firstChild); break; case "select": s = typeof f.is == "string" ? b.createElement("select", { is: f.is }) : b.createElement("select"), f.multiple ? s.multiple = !0 : f.size && (s.size = f.size); break; default: s = typeof f.is == "string" ? b.createElement(c, { is: f.is }) : b.createElement(c) } }s[Xn] = a, s[Bn] = f; e: for (b = a.child; b !== null;) { if (b.tag === 5 || b.tag === 6) s.appendChild(b.stateNode); else if (b.tag !== 4 && b.tag !== 27 && b.child !== null) { b.child.return = b, b = b.child; continue } if (b === a) break e; for (; b.sibling === null;) { if (b.return === null || b.return === a) break e; b = b.return } b.sibling.return = b.return, b = b.sibling } a.stateNode = s; e: switch (Hn(s, c, f), c) { case "button": case "input": case "select": case "textarea": s = !!f.autoFocus; break e; case "img": s = !0; break e; default: s = !1 }s && no(a) } } return mn(a), a.flags &= -16777217, null; case 6: if (s && a.stateNode != null) s.memoizedProps !== f && no(a); else { if (typeof f != "string" && a.stateNode === null) throw Error(i(166)); if (s = Ve.current, Fu(a)) { if (s = a.stateNode, c = a.memoizedProps, f = null, b = ci, b !== null) switch (b.tag) { case 27: case 5: f = b.memoizedProps }s[Xn] = a, s = !!(s.nodeValue === c || f !== null && f.suppressHydrationWarning === !0 || u0(s.nodeValue, c)), s || ys(a) } else s = vp(s).createTextNode(f), s[Xn] = a, a.stateNode = s } return mn(a), null; case 13: if (f = a.memoizedState, s === null || s.memoizedState !== null && s.memoizedState.dehydrated !== null) { if (b = Fu(a), f !== null && f.dehydrated !== null) { if (s === null) { if (!b) throw Error(i(318)); if (b = a.memoizedState, b = b !== null ? b.dehydrated : null, !b) throw Error(i(317)); b[Xn] = a } else zu(), (a.flags & 128) === 0 && (a.memoizedState = null), a.flags |= 4; mn(a), b = !1 } else b = Cd(), s !== null && s.memoizedState !== null && (s.memoizedState.hydrationErrors = b), b = !0; if (!b) return a.flags & 256 ? (Ss(a), a) : (Ss(a), null) } if (Ss(a), (a.flags & 128) !== 0) return a.lanes = c, a; if (c = f !== null, s = s !== null && s.memoizedState !== null, c) { f = a.child, b = null, f.alternate !== null && f.alternate.memoizedState !== null && f.alternate.memoizedState.cachePool !== null && (b = f.alternate.memoizedState.cachePool.pool); var _ = null; f.memoizedState !== null && f.memoizedState.cachePool !== null && (_ = f.memoizedState.cachePool.pool), _ !== b && (f.flags |= 2048) } return c !== s && c && (a.child.flags |= 8192), Wd(a, a.updateQueue), mn(a), null; case 4: return Si(), s === null && Ac(a.stateNode.containerInfo), mn(a), null; case 10: return Co(a.type), mn(a), null; case 19: if (we(zn), b = a.memoizedState, b === null) return mn(a), null; if (f = (a.flags & 128) !== 0, _ = b.rendering, _ === null) if (f) hc(b, !1); else { if (_n !== 0 || s !== null && (s.flags & 128) !== 0) for (s = a.child; s !== null;) { if (_ = Fd(s), _ !== null) { for (a.flags |= 128, hc(b, !1), s = _.updateQueue, a.updateQueue = s, Wd(a, s), a.subtreeFlags = 0, s = c, c = a.child; c !== null;)Sf(c, s), c = c.sibling; return Ee(zn, zn.current & 1 | 2), a.child } s = s.sibling } b.tail !== null && Kt() > th && (a.flags |= 128, f = !0, hc(b, !1), a.lanes = 4194304) } else { if (!f) if (s = Fd(_), s !== null) { if (a.flags |= 128, f = !0, s = s.updateQueue, a.updateQueue = s, Wd(a, s), hc(b, !0), b.tail === null && b.tailMode === "hidden" && !_.alternate && !Ot) return mn(a), null } else 2 * Kt() - b.renderingStartTime > th && c !== 536870912 && (a.flags |= 128, f = !0, hc(b, !1), a.lanes = 4194304); b.isBackwards ? (_.sibling = a.child, a.child = _) : (s = b.last, s !== null ? s.sibling = _ : a.child = _, b.last = _) } return b.tail !== null ? (a = b.tail, b.rendering = a, b.tail = a.sibling, b.renderingStartTime = Kt(), a.sibling = null, s = zn.current, Ee(zn, f ? s & 1 | 2 : s & 1), a) : (mn(a), null); case 22: case 23: return Ss(a), Aa(), f = a.memoizedState !== null, s !== null ? s.memoizedState !== null !== f && (a.flags |= 8192) : f && (a.flags |= 8192), f ? (c & 536870912) !== 0 && (a.flags & 128) === 0 && (mn(a), a.subtreeFlags & 6 && (a.flags |= 8192)) : mn(a), c = a.updateQueue, c !== null && Wd(a, c.retryQueue), c = null, s !== null && s.memoizedState !== null && s.memoizedState.cachePool !== null && (c = s.memoizedState.cachePool.pool), f = null, a.memoizedState !== null && a.memoizedState.cachePool !== null && (f = a.memoizedState.cachePool.pool), f !== c && (a.flags |= 2048), s !== null && we(xo), null; case 24: return c = null, s !== null && (c = s.memoizedState.cache), a.memoizedState.cache !== c && (a.flags |= 2048), Co(Mn), mn(a), null; case 25: return null; case 30: return null }throw Error(i(156, a.tag)) } function fc(s, a) { switch (Ea(a), a.tag) { case 1: return s = a.flags, s & 65536 ? (a.flags = s & -65537 | 128, a) : null; case 3: return Co(Mn), Si(), s = a.flags, (s & 65536) !== 0 && (s & 128) === 0 ? (a.flags = s & -65537 | 128, a) : null; case 26: case 27: case 5: return Ai(a), null; case 13: if (Ss(a), s = a.memoizedState, s !== null && s.dehydrated !== null) { if (a.alternate === null) throw Error(i(340)); zu() } return s = a.flags, s & 65536 ? (a.flags = s & -65537 | 128, a) : null; case 19: return we(zn), null; case 4: return Si(), null; case 10: return Co(a.type), null; case 22: case 23: return Ss(a), Aa(), s !== null && we(xo), s = a.flags, s & 65536 ? (a.flags = s & -65537 | 128, a) : null; case 24: return Co(Mn), null; case 25: return null; default: return null } } function Yd(s, a) { switch (Ea(a), a.tag) { case 3: Co(Mn), Si(); break; case 26: case 27: case 5: Ai(a); break; case 4: Si(); break; case 13: Ss(a); break; case 19: we(zn); break; case 10: Co(a.type); break; case 22: case 23: Ss(a), Aa(), s !== null && we(xo); break; case 24: Co(Mn) } } function pc(s, a) { try { var c = a.updateQueue, f = c !== null ? c.lastEffect : null; if (f !== null) { var b = f.next; c = b; do { if ((c.tag & s) === s) { f = void 0; var _ = c.create, M = c.inst; f = _(), M.destroy = f } c = c.next } while (c !== b) } } catch (j) { Wt(a, a.return, j) } } function ja(s, a, c) { try { var f = a.updateQueue, b = f !== null ? f.lastEffect : null; if (b !== null) { var _ = b.next; f = _; do { if ((f.tag & s) === s) { var M = f.inst, j = M.destroy; if (j !== void 0) { M.destroy = void 0, b = a; var Y = c, ie = j; try { ie() } catch (he) { Wt(b, Y, he) } } } f = f.next } while (f !== _) } } catch (he) { Wt(a, a.return, he) } } function bg(s) { var a = s.updateQueue; if (a !== null) { var c = s.stateNode; try { Uy(a, c) } catch (f) { Wt(s, s.return, f) } } } function wg(s, a, c) { c.props = to(s.type, s.memoizedProps), c.state = s.memoizedState; try { c.componentWillUnmount() } catch (f) { Wt(s, a, f) } } function Ua(s, a) { try { var c = s.ref; if (c !== null) { switch (s.tag) { case 26: case 27: case 5: var f = s.stateNode; break; case 30: f = s.stateNode; break; default: f = s.stateNode }typeof c == "function" ? s.refCleanup = c(f) : c.current = f } } catch (b) { Wt(s, a, b) } } function es(s, a) { var c = s.ref, f = s.refCleanup; if (c !== null) if (typeof f == "function") try { f() } catch (b) { Wt(s, a, b) } finally { s.refCleanup = null, s = s.alternate, s != null && (s.refCleanup = null) } else if (typeof c == "function") try { c(null) } catch (b) { Wt(s, a, b) } else c.current = null } function Ba(s) { var a = s.type, c = s.memoizedProps, f = s.stateNode; try { e: switch (a) { case "button": case "input": case "select": case "textarea": c.autoFocus && f.focus(); break e; case "img": c.src ? f.src = c.src : c.srcSet && (f.srcset = c.srcSet) } } catch (b) { Wt(s, s.return, b) } } function vt(s, a, c) { try { var f = s.stateNode; zg(f, s.type, c, a), f[Bn] = a } catch (b) { Wt(s, s.return, b) } } function mc(s) { return s.tag === 5 || s.tag === 3 || s.tag === 26 || s.tag === 27 && lo(s.type) || s.tag === 4 } function Xd(s) { e: for (; ;) { for (; s.sibling === null;) { if (s.return === null || mc(s.return)) return null; s = s.return } for (s.sibling.return = s.return, s = s.sibling; s.tag !== 5 && s.tag !== 6 && s.tag !== 18;) { if (s.tag === 27 && lo(s.type) || s.flags & 2 || s.child === null || s.tag === 4) continue e; s.child.return = s, s = s.child } if (!(s.flags & 2)) return s.stateNode } } function gn(s, a, c) { var f = s.tag; if (f === 5 || f === 6) s = s.stateNode, a ? (c.nodeType === 9 ? c.body : c.nodeName === "HTML" ? c.ownerDocument.body : c).insertBefore(s, a) : (a = c.nodeType === 9 ? c.body : c.nodeName === "HTML" ? c.ownerDocument.body : c, a.appendChild(s), c = c._reactRootContainer, c != null || a.onclick !== null || (a.onclick = tu)); else if (f !== 4 && (f === 27 && lo(s.type) && (c = s.stateNode, a = null), s = s.child, s !== null)) for (gn(s, a, c), s = s.sibling; s !== null;)gn(s, a, c), s = s.sibling } function Do(s, a, c) { var f = s.tag; if (f === 5 || f === 6) s = s.stateNode, a ? c.insertBefore(s, a) : c.appendChild(s); else if (f !== 4 && (f === 27 && lo(s.type) && (c = s.stateNode), s = s.child, s !== null)) for (Do(s, a, c), s = s.sibling; s !== null;)Do(s, a, c), s = s.sibling } function gc(s) { var a = s.stateNode, c = s.memoizedProps; try { for (var f = s.type, b = a.attributes; b.length;)a.removeAttributeNode(b[0]); Hn(a, f, c), a[Xn] = s, a[Bn] = c } catch (_) { Wt(s, s.return, _) } } var Oo = !1, Ln = !1, cn = !1, fr = typeof WeakSet == "function" ? WeakSet : Set, _t = null; function vc(s, a) { if (s = s.containerInfo, gp = Rs, s = Eo(s), gf(s)) { if ("selectionStart" in s) var c = { start: s.selectionStart, end: s.selectionEnd }; else e: { c = (c = s.ownerDocument) && c.defaultView || window; var f = c.getSelection && c.getSelection(); if (f && f.rangeCount !== 0) { c = f.anchorNode; var b = f.anchorOffset, _ = f.focusNode; f = f.focusOffset; try { c.nodeType, _.nodeType } catch { c = null; break e } var M = 0, j = -1, Y = -1, ie = 0, he = 0, ve = s, oe = null; t: for (; ;) { for (var ae; ve !== c || b !== 0 && ve.nodeType !== 3 || (j = M + b), ve !== _ || f !== 0 && ve.nodeType !== 3 || (Y = M + f), ve.nodeType === 3 && (M += ve.nodeValue.length), (ae = ve.firstChild) !== null;)oe = ve, ve = ae; for (; ;) { if (ve === s) break t; if (oe === c && ++ie === b && (j = M), oe === _ && ++he === f && (Y = M), (ae = ve.nextSibling) !== null) break; ve = oe, oe = ve.parentNode } ve = ae } c = j === -1 || Y === -1 ? null : { start: j, end: Y } } else c = null } c = c || { start: 0, end: 0 } } else c = null; for (Hg = { focusedElem: s, selectionRange: c }, Rs = !1, _t = a; _t !== null;)if (a = _t, s = a.child, (a.subtreeFlags & 1024) !== 0 && s !== null) s.return = a, _t = s; else for (; _t !== null;) { switch (a = _t, _ = a.alternate, s = a.flags, a.tag) { case 0: break; case 11: case 15: break; case 1: if ((s & 1024) !== 0 && _ !== null) { s = void 0, c = a, b = _.memoizedProps, _ = _.memoizedState, f = c.stateNode; try { var Je = to(c.type, b, c.elementType === c.type); s = f.getSnapshotBeforeUpdate(Je, _), f.__reactInternalSnapshotBeforeUpdate = s } catch (We) { Wt(c, c.return, We) } } break; case 3: if ((s & 1024) !== 0) { if (s = a.stateNode.containerInfo, c = s.nodeType, c === 9) Gg(s); else if (c === 1) switch (s.nodeName) { case "HEAD": case "HTML": case "BODY": Gg(s); break; default: s.textContent = "" } } break; case 5: case 26: case 27: case 6: case 4: case 17: break; default: if ((s & 1024) !== 0) throw Error(i(163)) }if (s = a.sibling, s !== null) { s.return = a.return, _t = s; break } _t = a.return } } function Hl(s, a, c) { var f = c.flags; switch (c.tag) { case 0: case 11: case 15: Lo(s, c), f & 4 && pc(5, c); break; case 1: if (Lo(s, c), f & 4) if (s = c.stateNode, a === null) try { s.componentDidMount() } catch (M) { Wt(c, c.return, M) } else { var b = to(c.type, a.memoizedProps); a = a.memoizedState; try { s.componentDidUpdate(b, a, s.__reactInternalSnapshotBeforeUpdate) } catch (M) { Wt(c, c.return, M) } } f & 64 && bg(c), f & 512 && Ua(c, c.return); break; case 3: if (Lo(s, c), f & 64 && (s = c.updateQueue, s !== null)) { if (a = null, c.child !== null) switch (c.child.tag) { case 27: case 5: a = c.child.stateNode; break; case 1: a = c.child.stateNode }try { Uy(s, a) } catch (M) { Wt(c, c.return, M) } } break; case 27: a === null && f & 4 && gc(c); case 26: case 5: Lo(s, c), a === null && f & 4 && Ba(c), f & 512 && Ua(c, c.return); break; case 12: Lo(s, c); break; case 13: Lo(s, c), f & 4 && Eg(s, c), f & 64 && (s = c.memoizedState, s !== null && (s = s.dehydrated, s !== null && (c = i0.bind(null, c), d0(s, c)))); break; case 22: if (f = c.memoizedState !== null || Oo, !f) { a = a !== null && a.memoizedState !== null || Ln, b = Oo; var _ = Ln; Oo = f, (Ln = a) && !_ ? Wi(s, c, (c.subtreeFlags & 8772) !== 0) : Lo(s, c), Oo = b, Ln = _ } break; case 30: break; default: Lo(s, c) } } function Gi(s) { var a = s.alternate; a !== null && (s.alternate = null, Gi(a)), s.child = null, s.deletions = null, s.sibling = null, s.tag === 5 && (a = s.stateNode, a !== null && Ar(a)), s.stateNode = null, s.return = null, s.dependencies = null, s.memoizedProps = null, s.memoizedState = null, s.pendingProps = null, s.stateNode = null, s.updateQueue = null } var sn = null, Ki = !1; function ti(s, a, c) { for (c = c.child; c !== null;)_g(s, a, c), c = c.sibling } function _g(s, a, c) { if (Be && typeof Be.onCommitFiberUnmount == "function") try { Be.onCommitFiberUnmount(je, c) } catch { } switch (c.tag) { case 26: Ln || es(c, a), ti(s, a, c), c.memoizedState ? c.memoizedState.count-- : c.stateNode && (c = c.stateNode, c.parentNode.removeChild(c)); break; case 27: Ln || es(c, a); var f = sn, b = Ki; lo(c.type) && (sn = c.stateNode, Ki = !1), ti(s, a, c), mh(c.stateNode), sn = f, Ki = b; break; case 5: Ln || es(c, a); case 6: if (f = sn, b = Ki, sn = null, ti(s, a, c), sn = f, Ki = b, sn !== null) if (Ki) try { (sn.nodeType === 9 ? sn.body : sn.nodeName === "HTML" ? sn.ownerDocument.body : sn).removeChild(c.stateNode) } catch (_) { Wt(c, a, _) } else try { sn.removeChild(c.stateNode) } catch (_) { Wt(c, a, _) } break; case 18: sn !== null && (Ki ? (s = sn, Nc(s.nodeType === 9 ? s.body : s.nodeName === "HTML" ? s.ownerDocument.body : s, c.stateNode), D(s)) : Nc(sn, c.stateNode)); break; case 4: f = sn, b = Ki, sn = c.stateNode.containerInfo, Ki = !0, ti(s, a, c), sn = f, Ki = b; break; case 0: case 11: case 14: case 15: Ln || ja(2, c, a), Ln || ja(4, c, a), ti(s, a, c); break; case 1: Ln || (es(c, a), f = c.stateNode, typeof f.componentWillUnmount == "function" && wg(c, a, f)), ti(s, a, c); break; case 21: ti(s, a, c); break; case 22: Ln = (f = Ln) || c.memoizedState !== null, ti(s, a, c), Ln = f; break; default: ti(s, a, c) } } function Eg(s, a) { if (a.memoizedState === null && (s = a.alternate, s !== null && (s = s.memoizedState, s !== null && (s = s.dehydrated, s !== null)))) try { D(s) } catch (c) { Wt(a, a.return, c) } } function Zy(s) { switch (s.tag) { case 13: case 19: var a = s.stateNode; return a === null && (a = s.stateNode = new fr), a; case 22: return s = s.stateNode, a = s._retryCache, a === null && (a = s._retryCache = new fr), a; default: throw Error(i(435, s.tag)) } } function $i(s, a) { var c = Zy(s); a.forEach(function (f) { var b = lh.bind(null, s, f); c.has(f) || (c.add(f), f.then(b, b)) }) } function Gt(s, a) { var c = a.deletions; if (c !== null) for (var f = 0; f < c.length; f++) { var b = c[f], _ = s, M = a, j = M; e: for (; j !== null;) { switch (j.tag) { case 27: if (lo(j.type)) { sn = j.stateNode, Ki = !1; break e } break; case 5: sn = j.stateNode, Ki = !1; break e; case 3: case 4: sn = j.stateNode.containerInfo, Ki = !0; break e }j = j.return } if (sn === null) throw Error(i(160)); _g(_, M, b), sn = null, Ki = !1, _ = b.alternate, _ !== null && (_.return = null), b.return = null } if (a.subtreeFlags & 13878) for (a = a.child; a !== null;)Tg(a, s), a = a.sibling } var Di = null; function Tg(s, a) { var c = s.alternate, f = s.flags; switch (s.tag) { case 0: case 11: case 14: case 15: Gt(a, s), pr(s), f & 4 && (ja(3, s, s.return), pc(3, s), ja(5, s, s.return)); break; case 1: Gt(a, s), pr(s), f & 512 && (Ln || c === null || es(c, c.return)), f & 64 && Oo && (s = s.updateQueue, s !== null && (f = s.callbacks, f !== null && (c = s.shared.hiddenCallbacks, s.shared.hiddenCallbacks = c === null ? f : c.concat(f)))); break; case 26: var b = Di; if (Gt(a, s), pr(s), f & 512 && (Ln || c === null || es(c, c.return)), f & 4) { var _ = c !== null ? c.memoizedState : null; if (f = s.memoizedState, c === null) if (f === null) if (s.stateNode === null) { e: { f = s.type, c = s.memoizedProps, b = b.ownerDocument || b; t: switch (f) { case "title": _ = b.getElementsByTagName("title")[0], (!_ || _[la] || _[Xn] || _.namespaceURI === "http://www.w3.org/2000/svg" || _.hasAttribute("itemprop")) && (_ = b.createElement(f), b.head.insertBefore(_, b.querySelector("head > title"))), Hn(_, f, c), _[Xn] = s, Cn(_), f = _; break e; case "link": var M = Xg("link", "href", b).get(f + (c.href || "")); if (M) { for (var j = 0; j < M.length; j++)if (_ = M[j], _.getAttribute("href") === (c.href == null || c.href === "" ? null : c.href) && _.getAttribute("rel") === (c.rel == null ? null : c.rel) && _.getAttribute("title") === (c.title == null ? null : c.title) && _.getAttribute("crossorigin") === (c.crossOrigin == null ? null : c.crossOrigin)) { M.splice(j, 1); break t } } _ = b.createElement(f), Hn(_, f, c), b.head.appendChild(_); break; case "meta": if (M = Xg("meta", "content", b).get(f + (c.content || ""))) { for (j = 0; j < M.length; j++)if (_ = M[j], _.getAttribute("content") === (c.content == null ? null : "" + c.content) && _.getAttribute("name") === (c.name == null ? null : c.name) && _.getAttribute("property") === (c.property == null ? null : c.property) && _.getAttribute("http-equiv") === (c.httpEquiv == null ? null : c.httpEquiv) && _.getAttribute("charset") === (c.charSet == null ? null : c.charSet)) { M.splice(j, 1); break t } } _ = b.createElement(f), Hn(_, f, c), b.head.appendChild(_); break; default: throw Error(i(468, f)) }_[Xn] = s, Cn(_), f = _ } s.stateNode = f } else Qg(b, s.type, s.stateNode); else s.stateNode = au(b, f, s.memoizedProps); else _ !== f ? (_ === null ? c.stateNode !== null && (c = c.stateNode, c.parentNode.removeChild(c)) : _.count--, f === null ? Qg(b, s.type, s.stateNode) : au(b, f, s.memoizedProps)) : f === null && s.stateNode !== null && vt(s, s.memoizedProps, c.memoizedProps) } break; case 27: Gt(a, s), pr(s), f & 512 && (Ln || c === null || es(c, c.return)), c !== null && f & 4 && vt(s, s.memoizedProps, c.memoizedProps); break; case 5: if (Gt(a, s), pr(s), f & 512 && (Ln || c === null || es(c, c.return)), s.flags & 32) { b = s.stateNode; try { xr(b, "") } catch (ae) { Wt(s, s.return, ae) } } f & 4 && s.stateNode != null && (b = s.memoizedProps, vt(s, b, c !== null ? c.memoizedProps : b)), f & 1024 && (cn = !0); break; case 6: if (Gt(a, s), pr(s), f & 4) { if (s.stateNode === null) throw Error(i(162)); f = s.memoizedProps, c = s.stateNode; try { c.nodeValue = f } catch (ae) { Wt(s, s.return, ae) } } break; case 3: if (_h = null, b = Di, Di = gh(a.containerInfo), Gt(a, s), Di = b, pr(s), f & 4 && c !== null && c.memoizedState.isDehydrated) try { D(a.containerInfo) } catch (ae) { Wt(s, s.return, ae) } cn && (cn = !1, Sg(s)); break; case 4: f = Di, Di = gh(s.stateNode.containerInfo), Gt(a, s), pr(s), Di = f; break; case 12: Gt(a, s), pr(s); break; case 13: Gt(a, s), pr(s), s.child.flags & 8192 && s.memoizedState !== null != (c !== null && c.memoizedState !== null) && (rp = Kt()), f & 4 && (f = s.updateQueue, f !== null && (s.updateQueue = null, $i(s, f))); break; case 22: b = s.memoizedState !== null; var Y = c !== null && c.memoizedState !== null, ie = Oo, he = Ln; if (Oo = ie || b, Ln = he || Y, Gt(a, s), Ln = he, Oo = ie, pr(s), f & 8192) e: for (a = s.stateNode, a._visibility = b ? a._visibility & -2 : a._visibility | 1, b && (c === null || Y || Oo || Ln || io(s)), c = null, a = s; ;) { if (a.tag === 5 || a.tag === 26) { if (c === null) { Y = c = a; try { if (_ = Y.stateNode, b) M = _.style, typeof M.setProperty == "function" ? M.setProperty("display", "none", "important") : M.display = "none"; else { j = Y.stateNode; var ve = Y.memoizedProps.style, oe = ve != null && ve.hasOwnProperty("display") ? ve.display : null; j.style.display = oe == null || typeof oe == "boolean" ? "" : ("" + oe).trim() } } catch (ae) { Wt(Y, Y.return, ae) } } } else if (a.tag === 6) { if (c === null) { Y = a; try { Y.stateNode.nodeValue = b ? "" : Y.memoizedProps } catch (ae) { Wt(Y, Y.return, ae) } } } else if ((a.tag !== 22 && a.tag !== 23 || a.memoizedState === null || a === s) && a.child !== null) { a.child.return = a, a = a.child; continue } if (a === s) break e; for (; a.sibling === null;) { if (a.return === null || a.return === s) break e; c === a && (c = null), a = a.return } c === a && (c = null), a.sibling.return = a.return, a = a.sibling } f & 4 && (f = s.updateQueue, f !== null && (c = f.retryQueue, c !== null && (f.retryQueue = null, $i(s, c)))); break; case 19: Gt(a, s), pr(s), f & 4 && (f = s.updateQueue, f !== null && (s.updateQueue = null, $i(s, f))); break; case 30: break; case 21: break; default: Gt(a, s), pr(s) } } function pr(s) { var a = s.flags; if (a & 2) { try { for (var c, f = s.return; f !== null;) { if (mc(f)) { c = f; break } f = f.return } if (c == null) throw Error(i(160)); switch (c.tag) { case 27: var b = c.stateNode, _ = Xd(s); Do(s, _, b); break; case 5: var M = c.stateNode; c.flags & 32 && (xr(M, ""), c.flags &= -33); var j = Xd(s); Do(s, j, M); break; case 3: case 4: var Y = c.stateNode.containerInfo, ie = Xd(s); gn(s, ie, Y); break; default: throw Error(i(161)) } } catch (he) { Wt(s, s.return, he) } s.flags &= -3 } a & 4096 && (s.flags &= -4097) } function Sg(s) { if (s.subtreeFlags & 1024) for (s = s.child; s !== null;) { var a = s; Sg(a), a.tag === 5 && a.flags & 1024 && a.stateNode.reset(), s = s.sibling } } function Lo(s, a) { if (a.subtreeFlags & 8772) for (a = a.child; a !== null;)Hl(s, a.alternate, a), a = a.sibling } function io(s) { for (s = s.child; s !== null;) { var a = s; switch (a.tag) { case 0: case 11: case 14: case 15: ja(4, a, a.return), io(a); break; case 1: es(a, a.return); var c = a.stateNode; typeof c.componentWillUnmount == "function" && wg(a, a.return, c), io(a); break; case 27: mh(a.stateNode); case 26: case 5: es(a, a.return), io(a); break; case 22: a.memoizedState === null && io(a); break; case 30: io(a); break; default: io(a) }s = s.sibling } } function Wi(s, a, c) { for (c = c && (a.subtreeFlags & 8772) !== 0, a = a.child; a !== null;) { var f = a.alternate, b = s, _ = a, M = _.flags; switch (_.tag) { case 0: case 11: case 15: Wi(b, _, c), pc(4, _); break; case 1: if (Wi(b, _, c), f = _, b = f.stateNode, typeof b.componentDidMount == "function") try { b.componentDidMount() } catch (ie) { Wt(f, f.return, ie) } if (f = _, b = f.updateQueue, b !== null) { var j = f.stateNode; try { var Y = b.shared.hiddenCallbacks; if (Y !== null) for (b.shared.hiddenCallbacks = null, b = 0; b < Y.length; b++)Gm(Y[b], j) } catch (ie) { Wt(f, f.return, ie) } } c && M & 64 && bg(_), Ua(_, _.return); break; case 27: gc(_); case 26: case 5: Wi(b, _, c), c && f === null && M & 4 && Ba(_), Ua(_, _.return); break; case 12: Wi(b, _, c); break; case 13: Wi(b, _, c), c && M & 4 && Eg(b, _); break; case 22: _.memoizedState === null && Wi(b, _, c), Ua(_, _.return); break; case 30: break; default: Wi(b, _, c) }a = a.sibling } } function Qd(s, a) { var c = null; s !== null && s.memoizedState !== null && s.memoizedState.cachePool !== null && (c = s.memoizedState.cachePool.pool), s = null, a.memoizedState !== null && a.memoizedState.cachePool !== null && (s = a.memoizedState.cachePool.pool), s !== c && (s != null && s.refCount++, c != null && Ku(c)) } function Jd(s, a) { s = null, a.alternate !== null && (s = a.alternate.memoizedState.cache), a = a.memoizedState.cache, a !== s && (a.refCount++, s != null && Ku(s)) } function ro(s, a, c, f) { if (a.subtreeFlags & 10256) for (a = a.child; a !== null;)Ag(s, a, c, f), a = a.sibling } function Ag(s, a, c, f) { var b = a.flags; switch (a.tag) { case 0: case 11: case 15: ro(s, a, c, f), b & 2048 && pc(9, a); break; case 1: ro(s, a, c, f); break; case 3: ro(s, a, c, f), b & 2048 && (s = null, a.alternate !== null && (s = a.alternate.memoizedState.cache), a = a.memoizedState.cache, a !== s && (a.refCount++, s != null && Ku(s))); break; case 12: if (b & 2048) { ro(s, a, c, f), s = a.stateNode; try { var _ = a.memoizedProps, M = _.id, j = _.onPostCommit; typeof j == "function" && j(M, a.alternate === null ? "mount" : "update", s.passiveEffectDuration, -0) } catch (Y) { Wt(a, a.return, Y) } } else ro(s, a, c, f); break; case 13: ro(s, a, c, f); break; case 23: break; case 22: _ = a.stateNode, M = a.alternate, a.memoizedState !== null ? _._visibility & 2 ? ro(s, a, c, f) : Fa(s, a) : _._visibility & 2 ? ro(s, a, c, f) : (_._visibility |= 2, ql(s, a, c, f, (a.subtreeFlags & 10256) !== 0)), b & 2048 && Qd(M, a); break; case 24: ro(s, a, c, f), b & 2048 && Jd(a.alternate, a); break; default: ro(s, a, c, f) } } function ql(s, a, c, f, b) { for (b = b && (a.subtreeFlags & 10256) !== 0, a = a.child; a !== null;) { var _ = s, M = a, j = c, Y = f, ie = M.flags; switch (M.tag) { case 0: case 11: case 15: ql(_, M, j, Y, b), pc(8, M); break; case 23: break; case 22: var he = M.stateNode; M.memoizedState !== null ? he._visibility & 2 ? ql(_, M, j, Y, b) : Fa(_, M) : (he._visibility |= 2, ql(_, M, j, Y, b)), b && ie & 2048 && Qd(M.alternate, M); break; case 24: ql(_, M, j, Y, b), b && ie & 2048 && Jd(M.alternate, M); break; default: ql(_, M, j, Y, b) }a = a.sibling } } function Fa(s, a) { if (a.subtreeFlags & 10256) for (a = a.child; a !== null;) { var c = s, f = a, b = f.flags; switch (f.tag) { case 22: Fa(c, f), b & 2048 && Qd(f.alternate, f); break; case 24: Fa(c, f), b & 2048 && Jd(f.alternate, f); break; default: Fa(c, f) }a = a.sibling } } var Gl = 8192; function Kl(s) { if (s.subtreeFlags & Gl) for (s = s.child; s !== null;)Cg(s), s = s.sibling } function Cg(s) { switch (s.tag) { case 26: Kl(s), s.flags & Gl && s.memoizedState !== null && Tw(Di, s.memoizedState, s.memoizedProps); break; case 5: Kl(s); break; case 3: case 4: var a = Di; Di = gh(s.stateNode.containerInfo), Kl(s), Di = a; break; case 22: s.memoizedState === null && (a = s.alternate, a !== null && a.memoizedState !== null ? (a = Gl, Gl = 16777216, Kl(s), Gl = a) : Kl(s)); break; default: Kl(s) } } function xg(s) { var a = s.alternate; if (a !== null && (s = a.child, s !== null)) { a.child = null; do a = s.sibling, s.sibling = null, s = a; while (s !== null) } } function Zd(s) { var a = s.deletions; if ((s.flags & 16) !== 0) { if (a !== null) for (var c = 0; c < a.length; c++) { var f = a[c]; _t = f, e0(f, s) } xg(s) } if (s.subtreeFlags & 10256) for (s = s.child; s !== null;)ep(s), s = s.sibling } function ep(s) { switch (s.tag) { case 0: case 11: case 15: Zd(s), s.flags & 2048 && ja(9, s, s.return); break; case 3: Zd(s); break; case 12: Zd(s); break; case 22: var a = s.stateNode; s.memoizedState !== null && a._visibility & 2 && (s.return === null || s.return.tag !== 13) ? (a._visibility &= -3, ge(s)) : Zd(s); break; default: Zd(s) } } function ge(s) { var a = s.deletions; if ((s.flags & 16) !== 0) { if (a !== null) for (var c = 0; c < a.length; c++) { var f = a[c]; _t = f, e0(f, s) } xg(s) } for (s = s.child; s !== null;) { switch (a = s, a.tag) { case 0: case 11: case 15: ja(8, a, a.return), ge(a); break; case 22: c = a.stateNode, c._visibility & 2 && (c._visibility &= -3, ge(a)); break; default: ge(a) }s = s.sibling } } function e0(s, a) { for (; _t !== null;) { var c = _t; switch (c.tag) { case 0: case 11: case 15: ja(8, c, a); break; case 23: case 22: if (c.memoizedState !== null && c.memoizedState.cachePool !== null) { var f = c.memoizedState.cachePool.pool; f != null && f.refCount++ } break; case 24: Ku(c.memoizedState.cache) }if (f = c.child, f !== null) f.return = c, _t = f; else e: for (c = s; _t !== null;) { f = _t; var b = f.sibling, _ = f.return; if (Gi(f), f === c) { _t = null; break e } if (b !== null) { b.return = _, _t = b; break e } _t = _ } } } var vn = { getCacheForType: function (s) { var a = di(Mn), c = a.data.get(s); return c === void 0 && (c = s(), a.data.set(s, c)), c } }, eh = typeof WeakMap == "function" ? WeakMap : Map, Ct = 0, Qt = null, gt = null, Et = 0, Ut = 0, mr = null, Vo = !1, $l = !1, tp = !1, so = 0, _n = 0, jo = 0, za = 0, np = 0, Vr = 0, Wl = 0, yc = null, Yi = null, ip = !1, rp = 0, th = 1 / 0, nh = null, Uo = null, hi = 0, Bo = null, Yl = null, Xl = 0, sp = 0, op = null, Rg = null, bc = 0, ap = null; function gr() { if ((Ct & 2) !== 0 && Et !== 0) return Et & -Et; if (se.T !== null) { var s = Cl; return s !== 0 ? s : dh() } return aa() } function Ig() { Vr === 0 && (Vr = (Et & 536870912) === 0 || Ot ? oa() : 536870912); var s = _i.current; return s !== null && (s.flags |= 32), Vr } function vr(s, a, c) { (s === Qt && (Ut === 2 || Ut === 9) || s.cancelPendingCommit !== null) && (dn(s, 0), Fo(s, Et, Vr, !1)), as(s, c), ((Ct & 2) === 0 || s !== Qt) && (s === Qt && ((Ct & 2) === 0 && (za |= c), _n === 4 && Fo(s, Et, Vr, !1)), oo(s)) } function kg(s, a, c) { if ((Ct & 6) !== 0) throw Error(i(327)); var f = !c && (a & 124) === 0 && (a & s.expiredLanes) === 0 || sa(s, a), b = f ? mw(s, a) : up(s, a, !0), _ = f; do { if (b === 0) { $l && !f && Fo(s, a, 0, !1); break } else { if (c = s.current.alternate, _ && !t0(c)) { b = up(s, a, !1), _ = !1; continue } if (b === 2) { if (_ = a, s.errorRecoveryDisabledLanes & _) var M = 0; else M = s.pendingLanes & -536870913, M = M !== 0 ? M : M & 536870912 ? 536870912 : 0; if (M !== 0) { a = M; e: { var j = s; b = yc; var Y = j.current.memoizedState.isDehydrated; if (Y && (dn(j, M).flags |= 256), M = up(j, M, !1), M !== 2) { if (tp && !Y) { j.errorRecoveryDisabledLanes |= _, za |= _, b = 4; break e } _ = Yi, Yi = b, _ !== null && (Yi === null ? Yi = _ : Yi.push.apply(Yi, _)) } b = M } if (_ = !1, b !== 2) continue } } if (b === 1) { dn(s, 0), Fo(s, a, 0, !0); break } e: { switch (f = s, _ = b, _) { case 0: case 1: throw Error(i(345)); case 4: if ((a & 4194048) !== a) break; case 6: Fo(f, a, Vr, !Vo); break e; case 2: Yi = null; break; case 3: case 5: break; default: throw Error(i(329)) }if ((a & 62914560) === a && (b = rp + 300 - Kt(), 10 < b)) { if (Fo(f, a, Vr, !Vo), ra(f, 0, !0) !== 0) break e; f.timeoutHandle = su(Pg.bind(null, f, c, Yi, nh, ip, a, Vr, za, Wl, Vo, _, 2, -0, 0), b); break e } Pg(f, c, Yi, nh, ip, a, Vr, za, Wl, Vo, _, 0, -0, 0) } } break } while (!0); oo(s) } function Pg(s, a, c, f, b, _, M, j, Y, ie, he, ve, oe, ae) { if (s.timeoutHandle = -1, ve = a.subtreeFlags, (ve & 8192 || (ve & 16785408) === 16785408) && (Vc = { stylesheets: null, count: 0, unsuspend: it }, Cg(a), ve = p0(), ve !== null)) { s.cancelPendingCommit = ve(Lt.bind(null, s, a, _, c, f, b, M, j, Y, he, 1, oe, ae)), Fo(s, _, M, !ie); return } Lt(s, a, _, c, f, b, M, j, Y) } function t0(s) { for (var a = s; ;) { var c = a.tag; if ((c === 0 || c === 11 || c === 15) && a.flags & 16384 && (c = a.updateQueue, c !== null && (c = c.stores, c !== null))) for (var f = 0; f < c.length; f++) { var b = c[f], _ = b.getSnapshot; b = b.value; try { if (!bn(_(), b)) return !1 } catch { return !1 } } if (c = a.child, a.subtreeFlags & 16384 && c !== null) c.return = a, a = c; else { if (a === s) break; for (; a.sibling === null;) { if (a.return === null || a.return === s) return !0; a = a.return } a.sibling.return = a.return, a = a.sibling } } return !0 } function Fo(s, a, c, f) { a &= ~np, a &= ~za, s.suspendedLanes |= a, s.pingedLanes &= ~a, f && (s.warmLanes |= a), f = s.expirationTimes; for (var b = a; 0 < b;) { var _ = 31 - $t(b), M = 1 << _; f[_] = -1, b &= ~M } c !== 0 && zr(s, c, a) } function ih() { return (Ct & 6) === 0 ? (ch(0), !1) : !0 } function Vn() { if (gt !== null) { if (Ut === 0) var s = gt.return; else s = gt, Ao = Xs = null, Lf(s), Ul = null, ac = 0, s = gt; for (; s !== null;)Yd(s.alternate, s), s = s.return; gt = null } } function dn(s, a) { var c = s.timeoutHandle; c !== -1 && (s.timeoutHandle = -1, yw(c)), c = s.cancelPendingCommit, c !== null && (s.cancelPendingCommit = null, c()), Vn(), Qt = s, gt = c = Ks(s.current, null), Et = a, Ut = 0, mr = null, Vo = !1, $l = sa(s, a), tp = !1, Wl = Vr = np = za = jo = _n = 0, Yi = yc = null, ip = !1, (a & 8) !== 0 && (a |= a & 32); var f = s.entangledLanes; if (f !== 0) for (s = s.entanglements, f &= a; 0 < f;) { var b = 31 - $t(f), _ = 1 << b; a |= s[b], f &= ~_ } return so = a, El(), c } function ni(s, a) { ct = null, se.H = Kf, a === Wu || a === Pd ? (a = Nd(), Ut = 3) : a === Ly ? (a = Nd(), Ut = 4) : Ut = a === hg ? 8 : a !== null && typeof a == "object" && typeof a.then == "function" ? 6 : 1, mr = a, gt === null && (_n = 1, Ma(s, Nr(a, s.current))) } function rh() { var s = se.H; return se.H = Kf, s === null ? Kf : s } function sh() { var s = se.A; return se.A = vn, s } function lp() { _n = 4, Vo || (Et & 4194048) !== Et && _i.current !== null || ($l = !0), (jo & 134217727) === 0 && (za & 134217727) === 0 || Qt === null || Fo(Qt, Et, Vr, !1) } function up(s, a, c) { var f = Ct; Ct |= 2; var b = rh(), _ = sh(); (Qt !== s || Et !== a) && (nh = null, dn(s, a)), a = !1; var M = _n; e: do try { if (Ut !== 0 && gt !== null) { var j = gt, Y = mr; switch (Ut) { case 8: Vn(), M = 6; break e; case 3: case 2: case 9: case 6: _i.current === null && (a = !0); var ie = Ut; if (Ut = 0, mr = null, Cs(s, j, Y, ie), c && $l) { M = 0; break e } break; default: ie = Ut, Ut = 0, mr = null, Cs(s, j, Y, ie) } } wc(), M = _n; break } catch (he) { ni(s, he) } while (!0); return a && s.shellSuspendCounter++, Ao = Xs = null, Ct = f, se.H = b, se.A = _, gt === null && (Qt = null, Et = 0, El()), M } function wc() { for (; gt !== null;)Ho(gt) } function mw(s, a) { var c = Ct; Ct |= 2; var f = rh(), b = sh(); Qt !== s || Et !== a ? (nh = null, th = Kt() + 500, dn(s, a)) : $l = sa(s, a); e: do try { if (Ut !== 0 && gt !== null) { a = gt; var _ = mr; t: switch (Ut) { case 1: Ut = 0, mr = null, Cs(s, a, _, 1); break; case 2: case 9: if (Vy(_)) { Ut = 0, mr = null, Ql(a); break } a = function () { Ut !== 2 && Ut !== 9 || Qt !== s || (Ut = 7), oo(s) }, _.then(a, a); break e; case 3: Ut = 7; break e; case 4: Ut = 5; break e; case 7: Vy(_) ? (Ut = 0, mr = null, Ql(a)) : (Ut = 0, mr = null, Cs(s, a, _, 7)); break; case 5: var M = null; switch (gt.tag) { case 26: M = gt.memoizedState; case 5: case 27: var j = gt; if (!M || uo(M)) { Ut = 0, mr = null; var Y = j.sibling; if (Y !== null) gt = Y; else { var ie = j.return; ie !== null ? (gt = ie, qo(ie)) : gt = null } break t } }Ut = 0, mr = null, Cs(s, a, _, 5); break; case 6: Ut = 0, mr = null, Cs(s, a, _, 6); break; case 8: Vn(), _n = 6; break e; default: throw Error(i(462)) } } zo(); break } catch (he) { ni(s, he) } while (!0); return Ao = Xs = null, se.H = f, se.A = b, Ct = c, gt !== null ? 0 : (Qt = null, Et = 0, El(), _n) } function zo() { for (; gt !== null && !tt();)Ho(gt) } function Ho(s) { var a = dc(s.alternate, s, so); s.memoizedProps = s.pendingProps, a === null ? qo(s) : gt = a } function Ql(s) { var a = s, c = a.alternate; switch (a.tag) { case 15: case 0: a = Xy(c, a, a.pendingProps, a.type, void 0, Et); break; case 11: a = Xy(c, a, a.pendingProps, a.type.render, a.ref, Et); break; case 5: Lf(a); default: Yd(c, a), a = gt = Sf(a, so), a = dc(c, a, so) }s.memoizedProps = s.pendingProps, a === null ? qo(s) : gt = a } function Cs(s, a, c, f) { Ao = Xs = null, Lf(a), Ul = null, ac = 0; var b = a.return; try { if (Me(s, b, a, c, Et)) { _n = 1, Ma(s, Nr(c, s.current)), gt = null; return } } catch (_) { if (b !== null) throw gt = b, _; _n = 1, Ma(s, Nr(c, s.current)), gt = null; return } a.flags & 32768 ? (Ot || f === 1 ? s = !0 : $l || (Et & 536870912) !== 0 ? s = !1 : (Vo = s = !0, (f === 2 || f === 9 || f === 3 || f === 6) && (f = _i.current, f !== null && f.tag === 13 && (f.flags |= 16384))), _c(a, s)) : qo(a) } function qo(s) { var a = s; do { if ((a.flags & 32768) !== 0) { _c(a, Vo); return } s = a.return; var c = Jy(a.alternate, a, so); if (c !== null) { gt = c; return } if (a = a.sibling, a !== null) { gt = a; return } gt = a = s } while (a !== null); _n === 0 && (_n = 5) } function _c(s, a) { do { var c = fc(s.alternate, s); if (c !== null) { c.flags &= 32767, gt = c; return } if (c = s.return, c !== null && (c.flags |= 32768, c.subtreeFlags = 0, c.deletions = null), !a && (s = s.sibling, s !== null)) { gt = s; return } gt = s = c } while (s !== null); _n = 6, gt = null } function Lt(s, a, c, f, b, _, M, j, Y) { s.cancelPendingCommit = null; do ah(); while (hi !== 0); if ((Ct & 6) !== 0) throw Error(i(327)); if (a !== null) { if (a === s.current) throw Error(i(177)); if (_ = a.lanes | a.childLanes, _ |= wd, cl(s, c, _, M, j, Y), s === Qt && (gt = Qt = null, Et = 0), Yl = a, Bo = s, Xl = c, sp = _, op = b, Rg = f, (a.subtreeFlags & 10256) !== 0 || (a.flags & 10256) !== 0 ? (s.callbackNode = null, s.callbackPriority = 0, Go(nt, function () { return Og(), null })) : (s.callbackNode = null, s.callbackPriority = 0), f = (a.flags & 13878) !== 0, (a.subtreeFlags & 13878) !== 0 || f) { f = se.T, se.T = null, b = fe.p, fe.p = 2, M = Ct, Ct |= 4; try { vc(s, a, c) } finally { Ct = M, fe.p = b, se.T = f } } hi = 1, oh(), Ng(), Mg() } } function oh() { if (hi === 1) { hi = 0; var s = Bo, a = Yl, c = (a.flags & 13878) !== 0; if ((a.subtreeFlags & 13878) !== 0 || c) { c = se.T, se.T = null; var f = fe.p; fe.p = 2; var b = Ct; Ct |= 4; try { Tg(a, s); var _ = Hg, M = Eo(s.containerInfo), j = _.focusedElem, Y = _.selectionRange; if (M !== j && j && j.ownerDocument && ya(j.ownerDocument.documentElement, j)) { if (Y !== null && gf(j)) { var ie = Y.start, he = Y.end; if (he === void 0 && (he = ie), "selectionStart" in j) j.selectionStart = ie, j.selectionEnd = Math.min(he, j.value.length); else { var ve = j.ownerDocument || document, oe = ve && ve.defaultView || window; if (oe.getSelection) { var ae = oe.getSelection(), Je = j.textContent.length, We = Math.min(Y.start, Je), on = Y.end === void 0 ? We : Math.min(Y.end, Je); !ae.extend && We > on && (M = on, on = We, We = M); var ee = ju(j, We), Z = ju(j, on); if (ee && Z && (ae.rangeCount !== 1 || ae.anchorNode !== ee.node || ae.anchorOffset !== ee.offset || ae.focusNode !== Z.node || ae.focusOffset !== Z.offset)) { var ne = ve.createRange(); ne.setStart(ee.node, ee.offset), ae.removeAllRanges(), We > on ? (ae.addRange(ne), ae.extend(Z.node, Z.offset)) : (ne.setEnd(Z.node, Z.offset), ae.addRange(ne)) } } } } for (ve = [], ae = j; ae = ae.parentNode;)ae.nodeType === 1 && ve.push({ element: ae, left: ae.scrollLeft, top: ae.scrollTop }); for (typeof j.focus == "function" && j.focus(), j = 0; j < ve.length; j++) { var pe = ve[j]; pe.element.scrollLeft = pe.left, pe.element.scrollTop = pe.top } } Rs = !!gp, Hg = gp = null } finally { Ct = b, fe.p = f, se.T = c } } s.current = a, hi = 2 } } function Ng() { if (hi === 2) { hi = 0; var s = Bo, a = Yl, c = (a.flags & 8772) !== 0; if ((a.subtreeFlags & 8772) !== 0 || c) { c = se.T, se.T = null; var f = fe.p; fe.p = 2; var b = Ct; Ct |= 4; try { Hl(s, a.alternate, a) } finally { Ct = b, fe.p = f, se.T = c } } hi = 3 } } function Mg() { if (hi === 4 || hi === 3) { hi = 0, An(); var s = Bo, a = Yl, c = Xl, f = Rg; (a.subtreeFlags & 10256) !== 0 || (a.flags & 10256) !== 0 ? hi = 5 : (hi = 0, Yl = Bo = null, Dg(s, s.pendingLanes)); var b = s.pendingLanes; if (b === 0 && (Uo = null), Os(c), a = a.stateNode, Be && typeof Be.onCommitFiberRoot == "function") try { Be.onCommitFiberRoot(je, a, void 0, (a.current.flags & 128) === 128) } catch { } if (f !== null) { a = se.T, b = fe.p, fe.p = 2, se.T = null; try { for (var _ = s.onRecoverableError, M = 0; M < f.length; M++) { var j = f[M]; _(j.value, { componentStack: j.stack }) } } finally { se.T = a, fe.p = b } } (Xl & 3) !== 0 && ah(), oo(s), b = s.pendingLanes, (c & 4194090) !== 0 && (b & 42) !== 0 ? s === ap ? bc++ : (bc = 0, ap = s) : bc = 0, ch(0) } } function Dg(s, a) { (s.pooledCacheLanes &= a) === 0 && (a = s.pooledCache, a != null && (s.pooledCache = null, Ku(a))) } function ah(s) { return oh(), Ng(), Mg(), Og() } function Og() { if (hi !== 5) return !1; var s = Bo, a = sp; sp = 0; var c = Os(Xl), f = se.T, b = fe.p; try { fe.p = 32 > c ? 32 : c, se.T = null, c = op, op = null; var _ = Bo, M = Xl; if (hi = 0, Yl = Bo = null, Xl = 0, (Ct & 6) !== 0) throw Error(i(331)); var j = Ct; if (Ct |= 4, ep(_.current), Ag(_, _.current, M, c), Ct = j, ch(0, !1), Be && typeof Be.onPostCommitFiberRoot == "function") try { Be.onPostCommitFiberRoot(je, _) } catch { } return !0 } finally { fe.p = b, se.T = f, Dg(s, a) } } function Lg(s, a, c) { a = Nr(c, a), a = qd(s.stateNode, a, 2), s = Ro(s, a, 2), s !== null && (as(s, 2), oo(s)) } function Wt(s, a, c) { if (s.tag === 3) Lg(s, s, c); else for (; a !== null;) { if (a.tag === 3) { Lg(a, s, c); break } else if (a.tag === 1) { var f = a.stateNode; if (typeof a.type.getDerivedStateFromError == "function" || typeof f.componentDidCatch == "function" && (Uo === null || !Uo.has(f))) { s = Nr(c, s), c = dg(2), f = Ro(a, c, 2), f !== null && (Pt(c, f, a, s), as(f, 2), oo(f)); break } } a = a.return } } function cp(s, a, c) { var f = s.pingCache; if (f === null) { f = s.pingCache = new eh; var b = new Set; f.set(a, b) } else b = f.get(a), b === void 0 && (b = new Set, f.set(a, b)); b.has(c) || (tp = !0, b.add(c), s = n0.bind(null, s, a, c), a.then(s, s)) } function n0(s, a, c) { var f = s.pingCache; f !== null && f.delete(a), s.pingedLanes |= s.suspendedLanes & c, s.warmLanes &= ~c, Qt === s && (Et & c) === c && (_n === 4 || _n === 3 && (Et & 62914560) === Et && 300 > Kt() - rp ? (Ct & 2) === 0 && dn(s, 0) : np |= c, Wl === Et && (Wl = 0)), oo(s) } function Vg(s, a) { a === 0 && (a = ad()), s = Tl(s, a), s !== null && (as(s, a), oo(s)) } function i0(s) { var a = s.memoizedState, c = 0; a !== null && (c = a.retryLane), Vg(s, c) } function lh(s, a) { var c = 0; switch (s.tag) { case 13: var f = s.stateNode, b = s.memoizedState; b !== null && (c = b.retryLane); break; case 19: f = s.stateNode; break; case 22: f = s.stateNode._retryCache; break; default: throw Error(i(314)) }f !== null && f.delete(a), Vg(s, c) } function Go(s, a) { return It(s, a) } var uh = null, Ko = null, Vt = !1, dp = !1, Jl = !1, Zl = 0; function oo(s) { s !== Ko && s.next === null && (Ko === null ? uh = Ko = s : Ko = Ko.next = s), dp = !0, Vt || (Vt = !0, Fg()) } function ch(s, a) { if (!Jl && dp) { Jl = !0; do for (var c = !1, f = uh; f !== null;) { if (s !== 0) { var b = f.pendingLanes; if (b === 0) var _ = 0; else { var M = f.suspendedLanes, j = f.pingedLanes; _ = (1 << 31 - $t(42 | s) + 1) - 1, _ &= b & ~(M & ~j), _ = _ & 201326741 ? _ & 201326741 | 1 : _ ? _ | 2 : 0 } _ !== 0 && (c = !0, Bg(f, _)) } else _ = Et, _ = ra(f, f === Qt ? _ : 0, f.cancelPendingCommit !== null || f.timeoutHandle !== -1), (_ & 3) === 0 || sa(f, _) || (c = !0, Bg(f, _)); f = f.next } while (c); Jl = !1 } } function hp() { jg() } function jg() { dp = Vt = !1; var s = 0; Zl !== 0 && (kc() && (s = Zl), Zl = 0); for (var a = Kt(), c = null, f = uh; f !== null;) { var b = f.next, _ = Yt(f, a); _ === 0 ? (f.next = null, c === null ? uh = b : c.next = b, b === null && (Ko = c)) : (c = f, (s !== 0 || (_ & 3) !== 0) && (dp = !0)), f = b } ch(s) } function Yt(s, a) { for (var c = s.suspendedLanes, f = s.pingedLanes, b = s.expirationTimes, _ = s.pendingLanes & -62914561; 0 < _;) { var M = 31 - $t(_), j = 1 << M, Y = b[M]; Y === -1 ? ((j & c) === 0 || (j & f) !== 0) && (b[M] = Au(j, a)) : Y <= a && (s.expiredLanes |= j), _ &= ~j } if (a = Qt, c = Et, c = ra(s, s === a ? c : 0, s.cancelPendingCommit !== null || s.timeoutHandle !== -1), f = s.callbackNode, c === 0 || s === a && (Ut === 2 || Ut === 9) || s.cancelPendingCommit !== null) return f !== null && f !== null && ke(f), s.callbackNode = null, s.callbackPriority = 0; if ((c & 3) === 0 || sa(s, c)) { if (a = c & -c, a === s.callbackPriority) return a; switch (f !== null && ke(f), Os(c)) { case 2: case 8: c = me; break; case 32: c = nt; break; case 268435456: c = Qe; break; default: c = nt }return f = Ug.bind(null, s), c = It(c, f), s.callbackPriority = a, s.callbackNode = c, a } return f !== null && f !== null && ke(f), s.callbackPriority = 2, s.callbackNode = null, 2 } function Ug(s, a) { if (hi !== 0 && hi !== 5) return s.callbackNode = null, s.callbackPriority = 0, null; var c = s.callbackNode; if (ah() && s.callbackNode !== c) return null; var f = Et; return f = ra(s, s === Qt ? f : 0, s.cancelPendingCommit !== null || s.timeoutHandle !== -1), f === 0 ? null : (kg(s, f, a), Yt(s, Kt()), s.callbackNode != null && s.callbackNode === c ? Ug.bind(null, s) : null) } function Bg(s, a) { if (ah()) return null; kg(s, a, !0) } function Fg() { bw(function () { (Ct & 6) !== 0 ? It(Pe, hp) : jg() }) } function dh() { return Zl === 0 && (Zl = oa()), Zl } function Ec(s) { return s == null || typeof s == "symbol" || typeof s == "boolean" ? null : typeof s == "function" ? s : pa("" + s) } function fp(s, a) { var c = a.ownerDocument.createElement("input"); return c.name = a.name, c.value = a.value, s.id && c.setAttribute("form", s.id), a.parentNode.insertBefore(c, a), s = new FormData(s), c.parentNode.removeChild(c), s } function hh(s, a, c, f, b) { if (a === "submit" && c && c.stateNode === b) { var _ = Ec((b[Bn] || null).action), M = f.submitter; M && (a = (a = M[Bn] || null) ? Ec(a.formAction) : M.getAttribute("formAction"), a !== null && (_ = a, M = null)); var j = new Bs("action", "action", null, f, b); s.push({ event: j, listeners: [{ instance: null, listener: function () { if (f.defaultPrevented) { if (Zl !== 0) { var Y = M ? fp(b, M) : new FormData(b); qf(c, { pending: !0, data: Y, method: b.method, action: _ }, null, Y) } } else typeof _ == "function" && (j.preventDefault(), Y = M ? fp(b, M) : new FormData(b), qf(c, { pending: !0, data: Y, method: b.method, action: _ }, _, Y)) }, currentTarget: b }] }) } } for (var Tc = 0; Tc < wf.length; Tc++) { var pp = wf[Tc], r0 = pp.toLowerCase(), mp = pp[0].toUpperCase() + pp.slice(1); vs(r0, "on" + mp) } vs(Nm, "onAnimationEnd"), vs(Py, "onAnimationIteration"), vs(yf, "onAnimationStart"), vs("dblclick", "onDoubleClick"), vs("focusin", "onFocus"), vs("focusout", "onBlur"), vs(bf, "onTransitionRun"), vs(Ny, "onTransitionStart"), vs(Mm, "onTransitionCancel"), vs(Dm, "onTransitionEnd"), js("onMouseEnter", ["mouseout", "mouseover"]), js("onMouseLeave", ["mouseout", "mouseover"]), js("onPointerEnter", ["pointerout", "pointerover"]), js("onPointerLeave", ["pointerout", "pointerover"]), Ii("onChange", "change click focusin focusout input keydown keyup selectionchange".split(" ")), Ii("onSelect", "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")), Ii("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]), Ii("onCompositionEnd", "compositionend focusout keydown keypress keyup mousedown".split(" ")), Ii("onCompositionStart", "compositionstart focusout keydown keypress keyup mousedown".split(" ")), Ii("onCompositionUpdate", "compositionupdate focusout keydown keypress keyup mousedown".split(" ")); var Sc = "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "), gw = new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sc)); function s0(s, a) { a = (a & 4) !== 0; for (var c = 0; c < s.length; c++) { var f = s[c], b = f.event; f = f.listeners; e: { var _ = void 0; if (a) for (var M = f.length - 1; 0 <= M; M--) { var j = f[M], Y = j.instance, ie = j.currentTarget; if (j = j.listener, Y !== _ && b.isPropagationStopped()) break e; _ = j, b.currentTarget = ie; try { _(b) } catch (he) { uc(he) } b.currentTarget = null, _ = Y } else for (M = 0; M < f.length; M++) { if (j = f[M], Y = j.instance, ie = j.currentTarget, j = j.listener, Y !== _ && b.isPropagationStopped()) break e; _ = j, b.currentTarget = ie; try { _(b) } catch (he) { uc(he) } b.currentTarget = null, _ = Y } } } } function at(s, a) { var c = a[vo]; c === void 0 && (c = a[vo] = new Set); var f = s + "__bubble"; c.has(f) || (o0(a, s, 2, !1), c.add(f)) } function eu(s, a, c) { var f = 0; a && (f |= 4), o0(c, s, f, a) } var Ha = "_reactListening" + Math.random().toString(36).slice(2); function Ac(s) { if (!s[Ha]) { s[Ha] = !0, Cu.forEach(function (c) { c !== "selectionchange" && (gw.has(c) || eu(c, !1, s), eu(c, !0, s)) }); var a = s.nodeType === 9 ? s : s.ownerDocument; a === null || a[Ha] || (a[Ha] = !0, eu("selectionchange", !1, a)) } } function o0(s, a, c, f) { switch (Ch(a)) { case 2: var b = Sh; break; case 8: b = Tp; break; default: b = ev }c = b.bind(null, a, c, s), b = void 0, !yi || a !== "touchstart" && a !== "touchmove" && a !== "wheel" || (b = !0), f ? b !== void 0 ? s.addEventListener(a, c, { capture: !0, passive: b }) : s.addEventListener(a, c, !0) : b !== void 0 ? s.addEventListener(a, c, { passive: b }) : s.addEventListener(a, c, !1) } function Cc(s, a, c, f, b) { var _ = f; if ((a & 1) === 0 && (a & 2) === 0 && f !== null) e: for (; ;) { if (f === null) return; var M = f.tag; if (M === 3 || M === 4) { var j = f.stateNode.containerInfo; if (j === b) break; if (M === 4) for (M = f.return; M !== null;) { var Y = M.tag; if ((Y === 3 || Y === 4) && M.stateNode.containerInfo === b) return; M = M.return } for (; j !== null;) { if (M = yo(j), M === null) return; if (Y = M.tag, Y === 5 || Y === 6 || Y === 26 || Y === 27) { f = _ = M; continue e } j = j.parentNode } } f = f.return } af(function () { var ie = _, he = Rr(c), ve = []; e: { var oe = Om.get(s); if (oe !== void 0) { var ae = Bs, Je = s; switch (s) { case "keypress": if (fs(c) === 0) break e; case "keydown": case "keyup": ae = bl; break; case "focusin": Je = "focus", ae = Mu; break; case "focusout": Je = "blur", ae = Mu; break; case "beforeblur": case "afterblur": ae = Mu; break; case "click": if (c.button === 2) break e; case "auxclick": case "dblclick": case "mousedown": case "mousemove": case "mouseup": case "mouseout": case "mouseover": case "contextmenu": ae = Wr; break; case "drag": case "dragend": case "dragenter": case "dragexit": case "dragleave": case "dragover": case "dragstart": case "drop": ae = Fs; break; case "touchcancel": case "touchend": case "touchmove": case "touchstart": ae = uf; break; case Nm: case Py: case yf: ae = Du; break; case Dm: ae = df; break; case "scroll": case "scrollend": ae = fd; break; case "wheel": ae = Lu; break; case "copy": case "cut": case "paste": ae = _o; break; case "gotpointercapture": case "lostpointercapture": case "pointercancel": case "pointerdown": case "pointermove": case "pointerout": case "pointerover": case "pointerup": ae = ms; break; case "toggle": case "beforetoggle": ae = hf }var We = (a & 4) !== 0, on = !We && (s === "scroll" || s === "scrollend"), ee = We ? oe !== null ? oe + "Capture" : null : oe; We = []; for (var Z = ie, ne; Z !== null;) { var pe = Z; if (ne = pe.stateNode, pe = pe.tag, pe !== 5 && pe !== 26 && pe !== 27 || ne === null || ee === null || (pe = gl(Z, ee), pe != null && We.push(xc(Z, pe, ne))), on) break; Z = Z.return } 0 < We.length && (oe = new ae(oe, Je, null, c, he), ve.push({ event: oe, listeners: We })) } } if ((a & 7) === 0) { e: { if (oe = s === "mouseover" || s === "pointerover", ae = s === "mouseout" || s === "pointerout", oe && c !== or && (Je = c.relatedTarget || c.fromElement) && (yo(Je) || Je[qr])) break e; if ((ae || oe) && (oe = he.window === he ? he : (oe = he.ownerDocument) ? oe.defaultView || oe.parentWindow : window, ae ? (Je = c.relatedTarget || c.toElement, ae = ie, Je = Je ? yo(Je) : null, Je !== null && (on = u(Je), We = Je.tag, Je !== on || We !== 5 && We !== 27 && We !== 6) && (Je = null)) : (ae = null, Je = ie), ae !== Je)) { if (We = Wr, pe = "onMouseLeave", ee = "onMouseEnter", Z = "mouse", (s === "pointerout" || s === "pointerover") && (We = ms, pe = "onPointerLeave", ee = "onPointerEnter", Z = "pointer"), on = ae == null ? oe : Vs(ae), ne = Je == null ? oe : Vs(Je), oe = new We(pe, Z + "leave", ae, c, he), oe.target = on, oe.relatedTarget = ne, pe = null, yo(he) === ie && (We = new We(ee, Z + "enter", Je, c, he), We.target = ne, We.relatedTarget = on, pe = We), on = pe, ae && Je) t: { for (We = ae, ee = Je, Z = 0, ne = We; ne; ne = ao(ne))Z++; for (ne = 0, pe = ee; pe; pe = ao(pe))ne++; for (; 0 < Z - ne;)We = ao(We), Z--; for (; 0 < ne - Z;)ee = ao(ee), ne--; for (; Z--;) { if (We === ee || ee !== null && We === ee.alternate) break t; We = ao(We), ee = ao(ee) } We = null } else We = null; ae !== null && Rc(ve, oe, ae, We, !1), Je !== null && on !== null && Rc(ve, on, Je, We, !0) } } e: { if (oe = ie ? Vs(ie) : window, ae = oe.nodeName && oe.nodeName.toLowerCase(), ae === "select" || ae === "input" && oe.type === "file") var De = Gs; else if (yn(oe)) if (Pi) De = Im; else { De = xm; var wt = mf } else ae = oe.nodeName, !ae || ae.toLowerCase() !== "input" || oe.type !== "checkbox" && oe.type !== "radio" ? ie && fa(ie.elementType) && (De = Gs) : De = Rm; if (De && (De = De(s, ie))) { kr(ve, De, c, he); break e } wt && wt(s, oe, ie), s === "focusout" && ie && oe.type === "number" && ie.memoizedProps.value != null && bo(oe, "number", oe.value) } switch (wt = ie ? Vs(ie) : window, s) { case "focusin": (yn(wt) || wt.contentEditable === "true") && (_l = wt, Pm = ie, ba = null); break; case "focusout": ba = Pm = _l = null; break; case "mousedown": bd = !0; break; case "contextmenu": case "mouseup": case "dragend": bd = !1, vf(ve, c, he); break; case "selectionchange": if (ky) break; case "keydown": case "keyup": vf(ve, c, he) }var Fe; if (qs) e: { switch (s) { case "compositionstart": var Ye = "onCompositionStart"; break e; case "compositionend": Ye = "onCompositionEnd"; break e; case "compositionupdate": Ye = "onCompositionUpdate"; break e }Ye = void 0 } else mt ? ue(s, c) && (Ye = "onCompositionEnd") : s === "keydown" && c.keyCode === 229 && (Ye = "onCompositionStart"); Ye && (P && c.locale !== "ko" && (mt || Ye !== "onCompositionStart" ? Ye === "onCompositionEnd" && mt && (Fe = vl()) : ($r = he, ds = "value" in $r ? $r.value : $r.textContent, mt = !0)), wt = fh(ie, Ye), 0 < wt.length && (Ye = new va(Ye, s, null, c, he), ve.push({ event: Ye, listeners: wt }), Fe ? Ye.data = Fe : (Fe = Ce(c), Fe !== null && (Ye.data = Fe)))), (Fe = A ? Zn(s, c) : ut(s, c)) && (Ye = fh(ie, "onBeforeInput"), 0 < Ye.length && (wt = new va("onBeforeInput", "beforeinput", null, c, he), ve.push({ event: wt, listeners: Ye }), wt.data = Fe)), hh(ve, s, ie, c, he) } s0(ve, a) }) } function xc(s, a, c) { return { instance: s, listener: a, currentTarget: c } } function fh(s, a) { for (var c = a + "Capture", f = []; s !== null;) { var b = s, _ = b.stateNode; if (b = b.tag, b !== 5 && b !== 26 && b !== 27 || _ === null || (b = gl(s, c), b != null && f.unshift(xc(s, b, _)), b = gl(s, a), b != null && f.push(xc(s, b, _))), s.tag === 3) return f; s = s.return } return [] } function ao(s) { if (s === null) return null; do s = s.return; while (s && s.tag !== 5 && s.tag !== 27); return s || null } function Rc(s, a, c, f, b) { for (var _ = a._reactName, M = []; c !== null && c !== f;) { var j = c, Y = j.alternate, ie = j.stateNode; if (j = j.tag, Y !== null && Y === f) break; j !== 5 && j !== 26 && j !== 27 || ie === null || (Y = ie, b ? (ie = gl(c, _), ie != null && M.unshift(xc(c, ie, Y))) : b || (ie = gl(c, _), ie != null && M.push(xc(c, ie, Y)))), c = c.return } M.length !== 0 && s.push({ event: a, listeners: M }) } var vw = /\r\n?/g, a0 = /\u0000|\uFFFD/g; function l0(s) {
    return (typeof s == "string" ? s : "" + s).replace(vw, `
`).replace(a0, "")
  } function u0(s, a) { return a = l0(a), l0(s) === a } function tu() { } function Nt(s, a, c, f, b, _) { switch (c) { case "children": typeof f == "string" ? a === "body" || a === "textarea" && f === "" || xr(s, f) : (typeof f == "number" || typeof f == "bigint") && a !== "body" && xr(s, "" + f); break; case "className": ls(s, "class", f); break; case "tabIndex": ls(s, "tabindex", f); break; case "dir": case "role": case "viewBox": case "width": case "height": ls(s, c, f); break; case "style": Iu(s, f, _); break; case "data": if (a !== "object") { ls(s, "data", f); break } case "src": case "href": if (f === "" && (a !== "a" || c !== "href")) { s.removeAttribute(c); break } if (f == null || typeof f == "function" || typeof f == "symbol" || typeof f == "boolean") { s.removeAttribute(c); break } f = pa("" + f), s.setAttribute(c, f); break; case "action": case "formAction": if (typeof f == "function") { s.setAttribute(c, "javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')"); break } else typeof _ == "function" && (c === "formAction" ? (a !== "input" && Nt(s, a, "name", b.name, b, null), Nt(s, a, "formEncType", b.formEncType, b, null), Nt(s, a, "formMethod", b.formMethod, b, null), Nt(s, a, "formTarget", b.formTarget, b, null)) : (Nt(s, a, "encType", b.encType, b, null), Nt(s, a, "method", b.method, b, null), Nt(s, a, "target", b.target, b, null))); if (f == null || typeof f == "symbol" || typeof f == "boolean") { s.removeAttribute(c); break } f = pa("" + f), s.setAttribute(c, f); break; case "onClick": f != null && (s.onclick = tu); break; case "onScroll": f != null && at("scroll", s); break; case "onScrollEnd": f != null && at("scrollend", s); break; case "dangerouslySetInnerHTML": if (f != null) { if (typeof f != "object" || !("__html" in f)) throw Error(i(61)); if (c = f.__html, c != null) { if (b.children != null) throw Error(i(60)); s.innerHTML = c } } break; case "multiple": s.multiple = f && typeof f != "function" && typeof f != "symbol"; break; case "muted": s.muted = f && typeof f != "function" && typeof f != "symbol"; break; case "suppressContentEditableWarning": case "suppressHydrationWarning": case "defaultValue": case "defaultChecked": case "innerHTML": case "ref": break; case "autoFocus": break; case "xlinkHref": if (f == null || typeof f == "function" || typeof f == "boolean" || typeof f == "symbol") { s.removeAttribute("xlink:href"); break } c = pa("" + f), s.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", c); break; case "contentEditable": case "spellCheck": case "draggable": case "value": case "autoReverse": case "externalResourcesRequired": case "focusable": case "preserveAlpha": f != null && typeof f != "function" && typeof f != "symbol" ? s.setAttribute(c, "" + f) : s.removeAttribute(c); break; case "inert": case "allowFullScreen": case "async": case "autoPlay": case "controls": case "default": case "defer": case "disabled": case "disablePictureInPicture": case "disableRemotePlayback": case "formNoValidate": case "hidden": case "loop": case "noModule": case "noValidate": case "open": case "playsInline": case "readOnly": case "required": case "reversed": case "scoped": case "seamless": case "itemScope": f && typeof f != "function" && typeof f != "symbol" ? s.setAttribute(c, "") : s.removeAttribute(c); break; case "capture": case "download": f === !0 ? s.setAttribute(c, "") : f !== !1 && f != null && typeof f != "function" && typeof f != "symbol" ? s.setAttribute(c, f) : s.removeAttribute(c); break; case "cols": case "rows": case "size": case "span": f != null && typeof f != "function" && typeof f != "symbol" && !isNaN(f) && 1 <= f ? s.setAttribute(c, f) : s.removeAttribute(c); break; case "rowSpan": case "start": f == null || typeof f == "function" || typeof f == "symbol" || isNaN(f) ? s.removeAttribute(c) : s.setAttribute(c, f); break; case "popover": at("beforetoggle", s), at("toggle", s), ca(s, "popover", f); break; case "xlinkActuate": pt(s, "http://www.w3.org/1999/xlink", "xlink:actuate", f); break; case "xlinkArcrole": pt(s, "http://www.w3.org/1999/xlink", "xlink:arcrole", f); break; case "xlinkRole": pt(s, "http://www.w3.org/1999/xlink", "xlink:role", f); break; case "xlinkShow": pt(s, "http://www.w3.org/1999/xlink", "xlink:show", f); break; case "xlinkTitle": pt(s, "http://www.w3.org/1999/xlink", "xlink:title", f); break; case "xlinkType": pt(s, "http://www.w3.org/1999/xlink", "xlink:type", f); break; case "xmlBase": pt(s, "http://www.w3.org/XML/1998/namespace", "xml:base", f); break; case "xmlLang": pt(s, "http://www.w3.org/XML/1998/namespace", "xml:lang", f); break; case "xmlSpace": pt(s, "http://www.w3.org/XML/1998/namespace", "xml:space", f); break; case "is": ca(s, "is", f); break; case "innerText": case "textContent": break; default: (!(2 < c.length) || c[0] !== "o" && c[0] !== "O" || c[1] !== "n" && c[1] !== "N") && (c = sf.get(c) || c, ca(s, c, f)) } } function nu(s, a, c, f, b, _) { switch (c) { case "style": Iu(s, f, _); break; case "dangerouslySetInnerHTML": if (f != null) { if (typeof f != "object" || !("__html" in f)) throw Error(i(61)); if (c = f.__html, c != null) { if (b.children != null) throw Error(i(60)); s.innerHTML = c } } break; case "children": typeof f == "string" ? xr(s, f) : (typeof f == "number" || typeof f == "bigint") && xr(s, "" + f); break; case "onScroll": f != null && at("scroll", s); break; case "onScrollEnd": f != null && at("scrollend", s); break; case "onClick": f != null && (s.onclick = tu); break; case "suppressContentEditableWarning": case "suppressHydrationWarning": case "innerHTML": case "ref": break; case "innerText": case "textContent": break; default: if (!an.hasOwnProperty(c)) e: { if (c[0] === "o" && c[1] === "n" && (b = c.endsWith("Capture"), a = c.slice(2, b ? c.length - 7 : void 0), _ = s[Bn] || null, _ = _ != null ? _[c] : null, typeof _ == "function" && s.removeEventListener(a, _, b), typeof f == "function")) { typeof _ != "function" && _ !== null && (c in s ? s[c] = null : s.hasAttribute(c) && s.removeAttribute(c)), s.addEventListener(a, f, b); break e } c in s ? s[c] = f : f === !0 ? s.setAttribute(c, "") : ca(s, c, f) } } } function Hn(s, a, c) { switch (a) { case "div": case "span": case "svg": case "path": case "a": case "g": case "p": case "li": break; case "img": at("error", s), at("load", s); var f = !1, b = !1, _; for (_ in c) if (c.hasOwnProperty(_)) { var M = c[_]; if (M != null) switch (_) { case "src": f = !0; break; case "srcSet": b = !0; break; case "children": case "dangerouslySetInnerHTML": throw Error(i(137, a)); default: Nt(s, a, _, M, c, null) } } b && Nt(s, a, "srcSet", c.srcSet, c, null), f && Nt(s, a, "src", c.src, c, null); return; case "input": at("invalid", s); var j = _ = M = b = null, Y = null, ie = null; for (f in c) if (c.hasOwnProperty(f)) { var he = c[f]; if (he != null) switch (f) { case "name": b = he; break; case "type": M = he; break; case "checked": Y = he; break; case "defaultChecked": ie = he; break; case "value": _ = he; break; case "defaultValue": j = he; break; case "children": case "dangerouslySetInnerHTML": if (he != null) throw Error(i(137, a)); break; default: Nt(s, a, f, he, c, null) } } ha(s, _, j, Y, ie, M, b, !1), da(s); return; case "select": at("invalid", s), f = M = _ = null; for (b in c) if (c.hasOwnProperty(b) && (j = c[b], j != null)) switch (b) { case "value": _ = j; break; case "defaultValue": M = j; break; case "multiple": f = j; default: Nt(s, a, b, j, c, null) }a = _, c = M, s.multiple = !!f, a != null ? Hi(s, !!f, a, !1) : c != null && Hi(s, !!f, c, !0); return; case "textarea": at("invalid", s), _ = b = f = null; for (M in c) if (c.hasOwnProperty(M) && (j = c[M], j != null)) switch (M) { case "value": f = j; break; case "defaultValue": b = j; break; case "children": _ = j; break; case "dangerouslySetInnerHTML": if (j != null) throw Error(i(91)); break; default: Nt(s, a, M, j, c, null) }ml(s, f, b, _), da(s); return; case "option": for (Y in c) if (c.hasOwnProperty(Y) && (f = c[Y], f != null)) switch (Y) { case "selected": s.selected = f && typeof f != "function" && typeof f != "symbol"; break; default: Nt(s, a, Y, f, c, null) }return; case "dialog": at("beforetoggle", s), at("toggle", s), at("cancel", s), at("close", s); break; case "iframe": case "object": at("load", s); break; case "video": case "audio": for (f = 0; f < Sc.length; f++)at(Sc[f], s); break; case "image": at("error", s), at("load", s); break; case "details": at("toggle", s); break; case "embed": case "source": case "link": at("error", s), at("load", s); case "area": case "base": case "br": case "col": case "hr": case "keygen": case "meta": case "param": case "track": case "wbr": case "menuitem": for (ie in c) if (c.hasOwnProperty(ie) && (f = c[ie], f != null)) switch (ie) { case "children": case "dangerouslySetInnerHTML": throw Error(i(137, a)); default: Nt(s, a, ie, f, c, null) }return; default: if (fa(a)) { for (he in c) c.hasOwnProperty(he) && (f = c[he], f !== void 0 && nu(s, a, he, f, c, void 0)); return } }for (j in c) c.hasOwnProperty(j) && (f = c[j], f != null && Nt(s, a, j, f, c, null)) } function zg(s, a, c, f) { switch (a) { case "div": case "span": case "svg": case "path": case "a": case "g": case "p": case "li": break; case "input": var b = null, _ = null, M = null, j = null, Y = null, ie = null, he = null; for (ae in c) { var ve = c[ae]; if (c.hasOwnProperty(ae) && ve != null) switch (ae) { case "checked": break; case "value": break; case "defaultValue": Y = ve; default: f.hasOwnProperty(ae) || Nt(s, a, ae, null, f, ve) } } for (var oe in f) { var ae = f[oe]; if (ve = c[oe], f.hasOwnProperty(oe) && (ae != null || ve != null)) switch (oe) { case "type": _ = ae; break; case "name": b = ae; break; case "checked": ie = ae; break; case "defaultChecked": he = ae; break; case "value": M = ae; break; case "defaultValue": j = ae; break; case "children": case "dangerouslySetInnerHTML": if (ae != null) throw Error(i(137, a)); break; default: ae !== ve && Nt(s, a, oe, ae, f, ve) } } ai(s, M, j, Y, ie, he, _, b); return; case "select": ae = M = j = oe = null; for (_ in c) if (Y = c[_], c.hasOwnProperty(_) && Y != null) switch (_) { case "value": break; case "multiple": ae = Y; default: f.hasOwnProperty(_) || Nt(s, a, _, null, f, Y) }for (b in f) if (_ = f[b], Y = c[b], f.hasOwnProperty(b) && (_ != null || Y != null)) switch (b) { case "value": oe = _; break; case "defaultValue": j = _; break; case "multiple": M = _; default: _ !== Y && Nt(s, a, b, _, f, Y) }a = j, c = M, f = ae, oe != null ? Hi(s, !!c, oe, !1) : !!f != !!c && (a != null ? Hi(s, !!c, a, !0) : Hi(s, !!c, c ? [] : "", !1)); return; case "textarea": ae = oe = null; for (j in c) if (b = c[j], c.hasOwnProperty(j) && b != null && !f.hasOwnProperty(j)) switch (j) { case "value": break; case "children": break; default: Nt(s, a, j, null, f, b) }for (M in f) if (b = f[M], _ = c[M], f.hasOwnProperty(M) && (b != null || _ != null)) switch (M) { case "value": oe = b; break; case "defaultValue": ae = b; break; case "children": break; case "dangerouslySetInnerHTML": if (b != null) throw Error(i(91)); break; default: b !== _ && Nt(s, a, M, b, f, _) }Ht(s, oe, ae); return; case "option": for (var Je in c) if (oe = c[Je], c.hasOwnProperty(Je) && oe != null && !f.hasOwnProperty(Je)) switch (Je) { case "selected": s.selected = !1; break; default: Nt(s, a, Je, null, f, oe) }for (Y in f) if (oe = f[Y], ae = c[Y], f.hasOwnProperty(Y) && oe !== ae && (oe != null || ae != null)) switch (Y) { case "selected": s.selected = oe && typeof oe != "function" && typeof oe != "symbol"; break; default: Nt(s, a, Y, oe, f, ae) }return; case "img": case "link": case "area": case "base": case "br": case "col": case "embed": case "hr": case "keygen": case "meta": case "param": case "source": case "track": case "wbr": case "menuitem": for (var We in c) oe = c[We], c.hasOwnProperty(We) && oe != null && !f.hasOwnProperty(We) && Nt(s, a, We, null, f, oe); for (ie in f) if (oe = f[ie], ae = c[ie], f.hasOwnProperty(ie) && oe !== ae && (oe != null || ae != null)) switch (ie) { case "children": case "dangerouslySetInnerHTML": if (oe != null) throw Error(i(137, a)); break; default: Nt(s, a, ie, oe, f, ae) }return; default: if (fa(a)) { for (var on in c) oe = c[on], c.hasOwnProperty(on) && oe !== void 0 && !f.hasOwnProperty(on) && nu(s, a, on, void 0, f, oe); for (he in f) oe = f[he], ae = c[he], !f.hasOwnProperty(he) || oe === ae || oe === void 0 && ae === void 0 || nu(s, a, he, oe, f, ae); return } }for (var ee in c) oe = c[ee], c.hasOwnProperty(ee) && oe != null && !f.hasOwnProperty(ee) && Nt(s, a, ee, null, f, oe); for (ve in f) oe = f[ve], ae = c[ve], !f.hasOwnProperty(ve) || oe === ae || oe == null && ae == null || Nt(s, a, ve, oe, f, ae) } var gp = null, Hg = null; function vp(s) { return s.nodeType === 9 ? s : s.ownerDocument } function Ic(s) { switch (s) { case "http://www.w3.org/2000/svg": return 1; case "http://www.w3.org/1998/Math/MathML": return 2; default: return 0 } } function c0(s, a) { if (s === 0) switch (a) { case "svg": return 1; case "math": return 2; default: return 0 }return s === 1 && a === "foreignObject" ? 0 : s } function iu(s, a) { return s === "textarea" || s === "noscript" || typeof a.children == "string" || typeof a.children == "number" || typeof a.children == "bigint" || typeof a.dangerouslySetInnerHTML == "object" && a.dangerouslySetInnerHTML !== null && a.dangerouslySetInnerHTML.__html != null } var ru = null; function kc() { var s = window.event; return s && s.type === "popstate" ? s === ru ? !1 : (ru = s, !0) : (ru = null, !1) } var su = typeof setTimeout == "function" ? setTimeout : void 0, yw = typeof clearTimeout == "function" ? clearTimeout : void 0, Pc = typeof Promise == "function" ? Promise : void 0, bw = typeof queueMicrotask == "function" ? queueMicrotask : typeof Pc < "u" ? function (s) { return Pc.resolve(null).then(s).catch(qg) } : su; function qg(s) { setTimeout(function () { throw s }) } function lo(s) { return s === "head" } function Nc(s, a) { var c = a, f = 0, b = 0; do { var _ = c.nextSibling; if (s.removeChild(c), _ && _.nodeType === 8) if (c = _.data, c === "/$") { if (0 < f && 8 > f) { c = f; var M = s.ownerDocument; if (c & 1 && mh(M.documentElement), c & 2 && mh(M.body), c & 4) for (c = M.head, mh(c), M = c.firstChild; M;) { var j = M.nextSibling, Y = M.nodeName; M[la] || Y === "SCRIPT" || Y === "STYLE" || Y === "LINK" && M.rel.toLowerCase() === "stylesheet" || c.removeChild(M), M = j } } if (b === 0) { s.removeChild(_), D(a); return } b-- } else c === "$" || c === "$?" || c === "$!" ? b++ : f = c.charCodeAt(0) - 48; else f = 0; c = _ } while (c); D(a) } function Gg(s) { var a = s.firstChild; for (a && a.nodeType === 10 && (a = a.nextSibling); a;) { var c = a; switch (a = a.nextSibling, c.nodeName) { case "HTML": case "HEAD": case "BODY": Gg(c), Ar(c); continue; case "SCRIPT": case "STYLE": continue; case "LINK": if (c.rel.toLowerCase() === "stylesheet") continue }s.removeChild(c) } } function ww(s, a, c, f) { for (; s.nodeType === 1;) { var b = c; if (s.nodeName.toLowerCase() !== a.toLowerCase()) { if (!f && (s.nodeName !== "INPUT" || s.type !== "hidden")) break } else if (f) { if (!s[la]) switch (a) { case "meta": if (!s.hasAttribute("itemprop")) break; return s; case "link": if (_ = s.getAttribute("rel"), _ === "stylesheet" && s.hasAttribute("data-precedence")) break; if (_ !== b.rel || s.getAttribute("href") !== (b.href == null || b.href === "" ? null : b.href) || s.getAttribute("crossorigin") !== (b.crossOrigin == null ? null : b.crossOrigin) || s.getAttribute("title") !== (b.title == null ? null : b.title)) break; return s; case "style": if (s.hasAttribute("data-precedence")) break; return s; case "script": if (_ = s.getAttribute("src"), (_ !== (b.src == null ? null : b.src) || s.getAttribute("type") !== (b.type == null ? null : b.type) || s.getAttribute("crossorigin") !== (b.crossOrigin == null ? null : b.crossOrigin)) && _ && s.hasAttribute("async") && !s.hasAttribute("itemprop")) break; return s; default: return s } } else if (a === "input" && s.type === "hidden") { var _ = b.name == null ? null : "" + b.name; if (b.type === "hidden" && s.getAttribute("name") === _) return s } else return s; if (s = Oi(s.nextSibling), s === null) break } return null } function Kg(s, a, c) { if (a === "") return null; for (; s.nodeType !== 3;)if ((s.nodeType !== 1 || s.nodeName !== "INPUT" || s.type !== "hidden") && !c || (s = Oi(s.nextSibling), s === null)) return null; return s } function yp(s) { return s.data === "$!" || s.data === "$?" && s.ownerDocument.readyState === "complete" } function d0(s, a) { var c = s.ownerDocument; if (s.data !== "$?" || c.readyState === "complete") a(); else { var f = function () { a(), c.removeEventListener("DOMContentLoaded", f) }; c.addEventListener("DOMContentLoaded", f), s._reactRetry = f } } function Oi(s) { for (; s != null; s = s.nextSibling) { var a = s.nodeType; if (a === 1 || a === 3) break; if (a === 8) { if (a = s.data, a === "$" || a === "$!" || a === "$?" || a === "F!" || a === "F") break; if (a === "/$") return null } } return s } var $g = null; function h0(s) { s = s.previousSibling; for (var a = 0; s;) { if (s.nodeType === 8) { var c = s.data; if (c === "$" || c === "$!" || c === "$?") { if (a === 0) return s; a-- } else c === "/$" && a++ } s = s.previousSibling } return null } function ph(s, a, c) { switch (a = vp(c), s) { case "html": if (s = a.documentElement, !s) throw Error(i(452)); return s; case "head": if (s = a.head, !s) throw Error(i(453)); return s; case "body": if (s = a.body, !s) throw Error(i(454)); return s; default: throw Error(i(451)) } } function mh(s) { for (var a = s.attributes; a.length;)s.removeAttributeNode(a[0]); Ar(s) } var ts = new Map, qa = new Set; function gh(s) { return typeof s.getRootNode == "function" ? s.getRootNode() : s.nodeType === 9 ? s : s.ownerDocument } var xs = fe.d; fe.d = { f: _w, r: Wg, D: Ew, C: wp, L: vh, m: f0, X: bh, S: yh, M: wh }; function _w() { var s = xs.f(), a = ih(); return s || a } function Wg(s) { var a = Ri(s); a !== null && a.tag === 5 && a.type === "form" ? jl(a) : xs.r(s) } var Mc = typeof document > "u" ? null : document; function bp(s, a, c) { var f = Mc; if (f && typeof a == "string" && a) { var b = kn(a); b = 'link[rel="' + s + '"][href="' + b + '"]', typeof c == "string" && (b += '[crossorigin="' + c + '"]'), qa.has(b) || (qa.add(b), s = { rel: s, crossOrigin: c, href: a }, f.querySelector(b) === null && (a = f.createElement("link"), Hn(a, "link", s), Cn(a), f.head.appendChild(a))) } } function Ew(s) { xs.D(s), bp("dns-prefetch", s, null) } function wp(s, a) { xs.C(s, a), bp("preconnect", s, a) } function vh(s, a, c) { xs.L(s, a, c); var f = Mc; if (f && s && a) { var b = 'link[rel="preload"][as="' + kn(a) + '"]'; a === "image" && c && c.imageSrcSet ? (b += '[imagesrcset="' + kn(c.imageSrcSet) + '"]', typeof c.imageSizes == "string" && (b += '[imagesizes="' + kn(c.imageSizes) + '"]')) : b += '[href="' + kn(s) + '"]'; var _ = b; switch (a) { case "style": _ = Xi(s); break; case "script": _ = ou(s) }ts.has(_) || (s = w({ rel: "preload", href: a === "image" && c && c.imageSrcSet ? void 0 : s, as: a }, c), ts.set(_, s), f.querySelector(b) !== null || a === "style" && f.querySelector(Oc(_)) || a === "script" && f.querySelector(Ze(_)) || (a = f.createElement("link"), Hn(a, "link", s), Cn(a), f.head.appendChild(a))) } } function f0(s, a) { xs.m(s, a); var c = Mc; if (c && s) { var f = a && typeof a.as == "string" ? a.as : "script", b = 'link[rel="modulepreload"][as="' + kn(f) + '"][href="' + kn(s) + '"]', _ = b; switch (f) { case "audioworklet": case "paintworklet": case "serviceworker": case "sharedworker": case "worker": case "script": _ = ou(s) }if (!ts.has(_) && (s = w({ rel: "modulepreload", href: s }, a), ts.set(_, s), c.querySelector(b) === null)) { switch (f) { case "audioworklet": case "paintworklet": case "serviceworker": case "sharedworker": case "worker": case "script": if (c.querySelector(Ze(_))) return }f = c.createElement("link"), Hn(f, "link", s), Cn(f), c.head.appendChild(f) } } } function yh(s, a, c) { xs.S(s, a, c); var f = Mc; if (f && s) { var b = zi(f).hoistableStyles, _ = Xi(s); a = a || "default"; var M = b.get(_); if (!M) { var j = { loading: 0, preload: null }; if (M = f.querySelector(Oc(_))) j.loading = 5; else { s = w({ rel: "stylesheet", href: s, "data-precedence": a }, c), (c = ts.get(_)) && jr(s, c); var Y = M = f.createElement("link"); Cn(Y), Hn(Y, "link", s), Y._p = new Promise(function (ie, he) { Y.onload = ie, Y.onerror = he }), Y.addEventListener("load", function () { j.loading |= 1 }), Y.addEventListener("error", function () { j.loading |= 2 }), j.loading |= 4, dt(M, a, f) } M = { type: "stylesheet", instance: M, count: 1, state: j }, b.set(_, M) } } } function bh(s, a) { xs.X(s, a); var c = Mc; if (c && s) { var f = zi(c).hoistableScripts, b = ou(s), _ = f.get(b); _ || (_ = c.querySelector(Ze(b)), _ || (s = w({ src: s, async: !0 }, a), (a = ts.get(b)) && Ke(s, a), _ = c.createElement("script"), Cn(_), Hn(_, "link", s), c.head.appendChild(_)), _ = { type: "script", instance: _, count: 1, state: null }, f.set(b, _)) } } function wh(s, a) { xs.M(s, a); var c = Mc; if (c && s) { var f = zi(c).hoistableScripts, b = ou(s), _ = f.get(b); _ || (_ = c.querySelector(Ze(b)), _ || (s = w({ src: s, async: !0, type: "module" }, a), (a = ts.get(b)) && Ke(s, a), _ = c.createElement("script"), Cn(_), Hn(_, "link", s), c.head.appendChild(_)), _ = { type: "script", instance: _, count: 1, state: null }, f.set(b, _)) } } function Dc(s, a, c, f) { var b = (b = Ve.current) ? gh(b) : null; if (!b) throw Error(i(446)); switch (s) { case "meta": case "title": return null; case "style": return typeof c.precedence == "string" && typeof c.href == "string" ? (a = Xi(c.href), c = zi(b).hoistableStyles, f = c.get(a), f || (f = { type: "style", instance: null, count: 0, state: null }, c.set(a, f)), f) : { type: "void", instance: null, count: 0, state: null }; case "link": if (c.rel === "stylesheet" && typeof c.href == "string" && typeof c.precedence == "string") { s = Xi(c.href); var _ = zi(b).hoistableStyles, M = _.get(s); if (M || (b = b.ownerDocument || b, M = { type: "stylesheet", instance: null, count: 0, state: { loading: 0, preload: null } }, _.set(s, M), (_ = b.querySelector(Oc(s))) && !_._p && (M.instance = _, M.state.loading = 5), ts.has(s) || (c = { rel: "preload", as: "style", href: c.href, crossOrigin: c.crossOrigin, integrity: c.integrity, media: c.media, hrefLang: c.hrefLang, referrerPolicy: c.referrerPolicy }, ts.set(s, c), _ || Yg(b, s, c, M.state))), a && f === null) throw Error(i(528, "")); return M } if (a && f !== null) throw Error(i(529, "")); return null; case "script": return a = c.async, c = c.src, typeof c == "string" && a && typeof a != "function" && typeof a != "symbol" ? (a = ou(c), c = zi(b).hoistableScripts, f = c.get(a), f || (f = { type: "script", instance: null, count: 0, state: null }, c.set(a, f)), f) : { type: "void", instance: null, count: 0, state: null }; default: throw Error(i(444, s)) } } function Xi(s) { return 'href="' + kn(s) + '"' } function Oc(s) { return 'link[rel="stylesheet"][' + s + "]" } function Lc(s) { return w({}, s, { "data-precedence": s.precedence, precedence: null }) } function Yg(s, a, c, f) { s.querySelector('link[rel="preload"][as="style"][' + a + "]") ? f.loading = 1 : (a = s.createElement("link"), f.preload = a, a.addEventListener("load", function () { return f.loading |= 1 }), a.addEventListener("error", function () { return f.loading |= 2 }), Hn(a, "link", c), Cn(a), s.head.appendChild(a)) } function ou(s) { return '[src="' + kn(s) + '"]' } function Ze(s) { return "script[async]" + s } function au(s, a, c) { if (a.count++, a.instance === null) switch (a.type) { case "style": var f = s.querySelector('style[data-href~="' + kn(c.href) + '"]'); if (f) return a.instance = f, Cn(f), f; var b = w({}, c, { "data-href": c.href, "data-precedence": c.precedence, href: null, precedence: null }); return f = (s.ownerDocument || s).createElement("style"), Cn(f), Hn(f, "style", b), dt(f, c.precedence, s), a.instance = f; case "stylesheet": b = Xi(c.href); var _ = s.querySelector(Oc(b)); if (_) return a.state.loading |= 4, a.instance = _, Cn(_), _; f = Lc(c), (b = ts.get(b)) && jr(f, b), _ = (s.ownerDocument || s).createElement("link"), Cn(_); var M = _; return M._p = new Promise(function (j, Y) { M.onload = j, M.onerror = Y }), Hn(_, "link", f), a.state.loading |= 4, dt(_, c.precedence, s), a.instance = _; case "script": return _ = ou(c.src), (b = s.querySelector(Ze(_))) ? (a.instance = b, Cn(b), b) : (f = c, (b = ts.get(_)) && (f = w({}, c), Ke(f, b)), s = s.ownerDocument || s, b = s.createElement("script"), Cn(b), Hn(b, "link", f), s.head.appendChild(b), a.instance = b); case "void": return null; default: throw Error(i(443, a.type)) } else a.type === "stylesheet" && (a.state.loading & 4) === 0 && (f = a.instance, a.state.loading |= 4, dt(f, c.precedence, s)); return a.instance } function dt(s, a, c) { for (var f = c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'), b = f.length ? f[f.length - 1] : null, _ = b, M = 0; M < f.length; M++) { var j = f[M]; if (j.dataset.precedence === a) _ = j; else if (_ !== b) break } _ ? _.parentNode.insertBefore(s, _.nextSibling) : (a = c.nodeType === 9 ? c.head : c, a.insertBefore(s, a.firstChild)) } function jr(s, a) { s.crossOrigin == null && (s.crossOrigin = a.crossOrigin), s.referrerPolicy == null && (s.referrerPolicy = a.referrerPolicy), s.title == null && (s.title = a.title) } function Ke(s, a) { s.crossOrigin == null && (s.crossOrigin = a.crossOrigin), s.referrerPolicy == null && (s.referrerPolicy = a.referrerPolicy), s.integrity == null && (s.integrity = a.integrity) } var _h = null; function Xg(s, a, c) { if (_h === null) { var f = new Map, b = _h = new Map; b.set(c, f) } else b = _h, f = b.get(c), f || (f = new Map, b.set(c, f)); if (f.has(s)) return f; for (f.set(s, null), c = c.getElementsByTagName(s), b = 0; b < c.length; b++) { var _ = c[b]; if (!(_[la] || _[Xn] || s === "link" && _.getAttribute("rel") === "stylesheet") && _.namespaceURI !== "http://www.w3.org/2000/svg") { var M = _.getAttribute(a) || ""; M = s + M; var j = f.get(M); j ? j.push(_) : f.set(M, [_]) } } return f } function Qg(s, a, c) { s = s.ownerDocument || s, s.head.insertBefore(c, a === "title" ? s.querySelector("head > title") : null) } function _p(s, a, c) { if (c === 1 || a.itemProp != null) return !1; switch (s) { case "meta": case "title": return !0; case "style": if (typeof a.precedence != "string" || typeof a.href != "string" || a.href === "") break; return !0; case "link": if (typeof a.rel != "string" || typeof a.href != "string" || a.href === "" || a.onLoad || a.onError) break; switch (a.rel) { case "stylesheet": return s = a.disabled, typeof a.precedence == "string" && s == null; default: return !0 }case "script": if (a.async && typeof a.async != "function" && typeof a.async != "symbol" && !a.onLoad && !a.onError && a.src && typeof a.src == "string") return !0 }return !1 } function uo(s) { return !(s.type === "stylesheet" && (s.state.loading & 3) === 0) } var Vc = null; function it() { } function Tw(s, a, c) { if (Vc === null) throw Error(i(475)); var f = Vc; if (a.type === "stylesheet" && (typeof c.media != "string" || matchMedia(c.media).matches !== !1) && (a.state.loading & 4) === 0) { if (a.instance === null) { var b = Xi(c.href), _ = s.querySelector(Oc(b)); if (_) { s = _._p, s !== null && typeof s == "object" && typeof s.then == "function" && (f.count++, f = Eh.bind(f), s.then(f, f)), a.state.loading |= 4, a.instance = _, Cn(_); return } _ = s.ownerDocument || s, c = Lc(c), (b = ts.get(b)) && jr(c, b), _ = _.createElement("link"), Cn(_); var M = _; M._p = new Promise(function (j, Y) { M.onload = j, M.onerror = Y }), Hn(_, "link", c), a.instance = _ } f.stylesheets === null && (f.stylesheets = new Map), f.stylesheets.set(a, s), (s = a.state.preload) && (a.state.loading & 3) === 0 && (f.count++, a = Eh.bind(f), s.addEventListener("load", a), s.addEventListener("error", a)) } } function p0() { if (Vc === null) throw Error(i(475)); var s = Vc; return s.stylesheets && s.count === 0 && ye(s, s.stylesheets), 0 < s.count ? function (a) { var c = setTimeout(function () { if (s.stylesheets && ye(s, s.stylesheets), s.unsuspend) { var f = s.unsuspend; s.unsuspend = null, f() } }, 6e4); return s.unsuspend = a, function () { s.unsuspend = null, clearTimeout(c) } } : null } function Eh() { if (this.count--, this.count === 0) { if (this.stylesheets) ye(this, this.stylesheets); else if (this.unsuspend) { var s = this.unsuspend; this.unsuspend = null, s() } } } var Ep = null; function ye(s, a) { s.stylesheets = null, s.unsuspend !== null && (s.count++, Ep = new Map, a.forEach(Tt, s), Ep = null, Eh.call(s)) } function Tt(s, a) { if (!(a.state.loading & 4)) { var c = Ep.get(s); if (c) var f = c.get(null); else { c = new Map, Ep.set(s, c); for (var b = s.querySelectorAll("link[data-precedence],style[data-precedence]"), _ = 0; _ < b.length; _++) { var M = b[_]; (M.nodeName === "LINK" || M.getAttribute("media") !== "not all") && (c.set(M.dataset.precedence, M), f = M) } f && c.set(null, f) } b = a.instance, M = b.getAttribute("data-precedence"), _ = c.get(M) || f, _ === f && c.set(null, b), c.set(M, b), this.count++, f = Eh.bind(this), b.addEventListener("load", f), b.addEventListener("error", f), _ ? _.parentNode.insertBefore(b, _.nextSibling) : (s = s.nodeType === 9 ? s.head : s, s.insertBefore(b, s.firstChild)), a.state.loading |= 4 } } var Th = { $$typeof: $, Provider: null, Consumer: null, _currentValue: _e, _currentValue2: _e, _threadCount: 0 }; function Sw(s, a, c, f, b, _, M, j) { this.tag = 1, this.containerInfo = s, this.pingCache = this.current = this.pendingChildren = null, this.timeoutHandle = -1, this.callbackNode = this.next = this.pendingContext = this.context = this.cancelPendingCommit = null, this.callbackPriority = 0, this.expirationTimes = xi(-1), this.entangledLanes = this.shellSuspendCounter = this.errorRecoveryDisabledLanes = this.expiredLanes = this.warmLanes = this.pingedLanes = this.suspendedLanes = this.pendingLanes = 0, this.entanglements = xi(0), this.hiddenUpdates = xi(null), this.identifierPrefix = f, this.onUncaughtError = b, this.onCaughtError = _, this.onRecoverableError = M, this.pooledCache = null, this.pooledCacheLanes = 0, this.formState = j, this.incompleteTransitions = new Map } function m0(s, a, c, f, b, _, M, j, Y, ie, he, ve) { return s = new Sw(s, a, c, M, j, Y, ie, ve), a = 1, _ === !0 && (a |= 24), _ = Nn(3, null, null, a), s.current = _, _.stateNode = s, a = Gu(), a.refCount++, s.pooledCache = a, a.refCount++, _.memoizedState = { element: f, isDehydrated: c, cache: a }, Pf(_), s } function g0(s) { return s ? (s = Yr, s) : Yr } function Jg(s, a, c, f, b, _) { b = g0(b), f.context === null ? f.context = b : f.pendingContext = b, f = ws(a), f.payload = { element: c }, _ = _ === void 0 ? null : _, _ !== null && (f.callback = _), c = Ro(s, f, a), c !== null && (vr(c, s, a), Js(c, s, a)) } function v0(s, a) { if (s = s.memoizedState, s !== null && s.dehydrated !== null) { var c = s.retryLane; s.retryLane = c !== 0 && c < a ? c : a } } function Zg(s, a) { v0(s, a), (s = s.alternate) && v0(s, a) } function $o(s) { if (s.tag === 13) { var a = Tl(s, 67108864); a !== null && vr(a, s, 67108864), Zg(s, 67108864) } } var Rs = !0; function Sh(s, a, c, f) { var b = se.T; se.T = null; var _ = fe.p; try { fe.p = 2, ev(s, a, c, f) } finally { fe.p = _, se.T = b } } function Tp(s, a, c, f) { var b = se.T; se.T = null; var _ = fe.p; try { fe.p = 8, ev(s, a, c, f) } finally { fe.p = _, se.T = b } } function ev(s, a, c, f) { if (Rs) { var b = Ah(f); if (b === null) Cc(s, a, f, Sp, c), xp(s, f); else if (Is(b, s, a, c, f)) f.stopPropagation(); else if (xp(s, f), a & 4 && -1 < Cp.indexOf(s)) { for (; b !== null;) { var _ = Ri(b); if (_ !== null) switch (_.tag) { case 3: if (_ = _.stateNode, _.current.memoizedState.isDehydrated) { var M = Fr(_.pendingLanes); if (M !== 0) { var j = _; for (j.pendingLanes |= 2, j.entangledLanes |= 2; M;) { var Y = 1 << 31 - $t(M); j.entanglements[1] |= Y, M &= ~Y } oo(_), (Ct & 6) === 0 && (th = Kt() + 500, ch(0)) } } break; case 13: j = Tl(_, 2), j !== null && vr(j, _, 2), ih(), Zg(_, 2) }if (_ = Ah(f), _ === null && Cc(s, a, f, Sp, c), _ === b) break; b = _ } b !== null && f.stopPropagation() } else Cc(s, a, f, null, c) } } function Ah(s) { return s = Rr(s), tv(s) } var Sp = null; function tv(s) { if (Sp = null, s = yo(s), s !== null) { var a = u(s); if (a === null) s = null; else { var c = a.tag; if (c === 13) { if (s = d(a), s !== null) return s; s = null } else if (c === 3) { if (a.stateNode.current.memoizedState.isDehydrated) return a.tag === 3 ? a.stateNode.containerInfo : null; s = null } else a !== s && (s = null) } } return Sp = s, null } function Ch(s) { switch (s) { case "beforetoggle": case "cancel": case "click": case "close": case "contextmenu": case "copy": case "cut": case "auxclick": case "dblclick": case "dragend": case "dragstart": case "drop": case "focusin": case "focusout": case "input": case "invalid": case "keydown": case "keypress": case "keyup": case "mousedown": case "mouseup": case "paste": case "pause": case "play": case "pointercancel": case "pointerdown": case "pointerup": case "ratechange": case "reset": case "resize": case "seeked": case "submit": case "toggle": case "touchcancel": case "touchend": case "touchstart": case "volumechange": case "change": case "selectionchange": case "textInput": case "compositionstart": case "compositionend": case "compositionupdate": case "beforeblur": case "afterblur": case "beforeinput": case "blur": case "fullscreenchange": case "focus": case "hashchange": case "popstate": case "select": case "selectstart": return 2; case "drag": case "dragenter": case "dragexit": case "dragleave": case "dragover": case "mousemove": case "mouseout": case "mouseover": case "pointermove": case "pointerout": case "pointerover": case "scroll": case "touchmove": case "wheel": case "mouseenter": case "mouseleave": case "pointerenter": case "pointerleave": return 8; case "message": switch (Ci()) { case Pe: return 2; case me: return 8; case nt: case qe: return 32; case Qe: return 268435456; default: return 32 }default: return 32 } } var Ap = !1, Wo = null, co = null, Yo = null, xh = new Map, Rh = new Map, Ga = [], Cp = "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" "); function xp(s, a) { switch (s) { case "focusin": case "focusout": Wo = null; break; case "dragenter": case "dragleave": co = null; break; case "mouseover": case "mouseout": Yo = null; break; case "pointerover": case "pointerout": xh.delete(a.pointerId); break; case "gotpointercapture": case "lostpointercapture": Rh.delete(a.pointerId) } } function Ka(s, a, c, f, b, _) { return s === null || s.nativeEvent !== _ ? (s = { blockedOn: a, domEventName: c, eventSystemFlags: f, nativeEvent: _, targetContainers: [b] }, a !== null && (a = Ri(a), a !== null && $o(a)), s) : (s.eventSystemFlags |= f, a = s.targetContainers, b !== null && a.indexOf(b) === -1 && a.push(b), s) } function Is(s, a, c, f, b) { switch (a) { case "focusin": return Wo = Ka(Wo, s, a, c, f, b), !0; case "dragenter": return co = Ka(co, s, a, c, f, b), !0; case "mouseover": return Yo = Ka(Yo, s, a, c, f, b), !0; case "pointerover": var _ = b.pointerId; return xh.set(_, Ka(xh.get(_) || null, s, a, c, f, b)), !0; case "gotpointercapture": return _ = b.pointerId, Rh.set(_, Ka(Rh.get(_) || null, s, a, c, f, b)), !0 }return !1 } function Xo(s) { var a = yo(s.target); if (a !== null) { var c = u(a); if (c !== null) { if (a = c.tag, a === 13) { if (a = d(c), a !== null) { s.blockedOn = a, ld(s.priority, function () { if (c.tag === 13) { var f = gr(); f = Hr(f); var b = Tl(c, f); b !== null && vr(b, c, f), Zg(c, f) } }); return } } else if (a === 3 && c.stateNode.current.memoizedState.isDehydrated) { s.blockedOn = c.tag === 3 ? c.stateNode.containerInfo : null; return } } } s.blockedOn = null } function r(s) { if (s.blockedOn !== null) return !1; for (var a = s.targetContainers; 0 < a.length;) { var c = Ah(s.nativeEvent); if (c === null) { c = s.nativeEvent; var f = new c.constructor(c.type, c); or = f, c.target.dispatchEvent(f), or = null } else return a = Ri(c), a !== null && $o(a), s.blockedOn = c, !1; a.shift() } return !0 } function l(s, a, c) { r(s) && c.delete(a) } function h() { Ap = !1, Wo !== null && r(Wo) && (Wo = null), co !== null && r(co) && (co = null), Yo !== null && r(Yo) && (Yo = null), xh.forEach(l), Rh.forEach(l) } function v(s, a) { s.blockedOn === a && (s.blockedOn = null, Ap || (Ap = !0, n.unstable_scheduleCallback(n.unstable_NormalPriority, h))) } var T = null; function S(s) { T !== s && (T = s, n.unstable_scheduleCallback(n.unstable_NormalPriority, function () { T === s && (T = null); for (var a = 0; a < s.length; a += 3) { var c = s[a], f = s[a + 1], b = s[a + 2]; if (typeof f != "function") { if (tv(f || c) === null) continue; break } var _ = Ri(c); _ !== null && (s.splice(a, 3), a -= 3, qf(_, { pending: !0, data: b, method: c.method, action: f }, f, b)) } })) } function D(s) { function a(Y) { return v(Y, s) } Wo !== null && v(Wo, s), co !== null && v(co, s), Yo !== null && v(Yo, s), xh.forEach(a), Rh.forEach(a); for (var c = 0; c < Ga.length; c++) { var f = Ga[c]; f.blockedOn === s && (f.blockedOn = null) } for (; 0 < Ga.length && (c = Ga[0], c.blockedOn === null);)Xo(c), c.blockedOn === null && Ga.shift(); if (c = (s.ownerDocument || s).$$reactFormReplay, c != null) for (f = 0; f < c.length; f += 3) { var b = c[f], _ = c[f + 1], M = b[Bn] || null; if (typeof _ == "function") M || S(c); else if (M) { var j = null; if (_ && _.hasAttribute("formAction")) { if (b = _, M = _[Bn] || null) j = M.formAction; else if (tv(b) !== null) continue } else j = M.action; typeof j == "function" ? c[f + 1] = j : (c.splice(f, 3), f -= 3), S(c) } } } function W(s) { this._internalRoot = s } le.prototype.render = W.prototype.render = function (s) { var a = this._internalRoot; if (a === null) throw Error(i(409)); var c = a.current, f = gr(); Jg(c, f, s, a, null, null) }, le.prototype.unmount = W.prototype.unmount = function () { var s = this._internalRoot; if (s !== null) { this._internalRoot = null; var a = s.containerInfo; Jg(s.current, 2, null, s, null, null), ih(), a[qr] = null } }; function le(s) { this._internalRoot = s } le.prototype.unstable_scheduleHydration = function (s) { if (s) { var a = aa(); s = { blockedOn: null, target: s, priority: a }; for (var c = 0; c < Ga.length && a !== 0 && a < Ga[c].priority; c++); Ga.splice(c, 0, s), c === 0 && Xo(s) } }; var Se = e.version; if (Se !== "19.1.1") throw Error(i(527, Se, "19.1.1")); fe.findDOMNode = function (s) { var a = s._reactInternals; if (a === void 0) throw typeof s.render == "function" ? Error(i(188)) : (s = Object.keys(s).join(","), Error(i(268, s))); return s = m(a), s = s !== null ? y(s) : null, s = s === null ? null : s.stateNode, s }; var Le = { bundleType: 0, version: "19.1.1", rendererPackageName: "react-dom", currentDispatcherRef: se, reconcilerVersion: "19.1.1" }; if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u") { var kt = __REACT_DEVTOOLS_GLOBAL_HOOK__; if (!kt.isDisabled && kt.supportsFiber) try { je = kt.inject(Le), Be = kt } catch { } } return iv.createRoot = function (s, a) { if (!o(s)) throw Error(i(299)); var c = !1, f = "", b = Xf, _ = $y, M = Wy, j = null; return a != null && (a.unstable_strictMode === !0 && (c = !0), a.identifierPrefix !== void 0 && (f = a.identifierPrefix), a.onUncaughtError !== void 0 && (b = a.onUncaughtError), a.onCaughtError !== void 0 && (_ = a.onCaughtError), a.onRecoverableError !== void 0 && (M = a.onRecoverableError), a.unstable_transitionCallbacks !== void 0 && (j = a.unstable_transitionCallbacks)), a = m0(s, 1, !1, null, null, c, f, b, _, M, j, null), s[qr] = a.current, Ac(s), new W(a) }, iv.hydrateRoot = function (s, a, c) { if (!o(s)) throw Error(i(299)); var f = !1, b = "", _ = Xf, M = $y, j = Wy, Y = null, ie = null; return c != null && (c.unstable_strictMode === !0 && (f = !0), c.identifierPrefix !== void 0 && (b = c.identifierPrefix), c.onUncaughtError !== void 0 && (_ = c.onUncaughtError), c.onCaughtError !== void 0 && (M = c.onCaughtError), c.onRecoverableError !== void 0 && (j = c.onRecoverableError), c.unstable_transitionCallbacks !== void 0 && (Y = c.unstable_transitionCallbacks), c.formState !== void 0 && (ie = c.formState)), a = m0(s, 1, !0, a, c ?? null, f, b, _, M, j, Y, ie), a.context = g0(null), c = a.current, f = gr(), f = Hr(f), b = ws(f), b.callback = null, Ro(c, b, f), c = f, a.current.lanes = c, as(a, c), oo(a), s[qr] = a.current, Ac(s), new le(a) }, iv.version = "19.1.1", iv
} var YT; function fM() { if (YT) return xw.exports; YT = 1; function n() { if (!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function")) try { __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n) } catch (e) { console.error(e) } } return n(), xw.exports = hM(), xw.exports } var pM = fM(), N1 = AC(); const mM = I1(N1);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dv() { return Dv = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]) } return n }, Dv.apply(this, arguments) } var qc; (function (n) { n.Pop = "POP", n.Push = "PUSH", n.Replace = "REPLACE" })(qc || (qc = {})); const XT = "popstate"; function gM(n) { n === void 0 && (n = {}); function e(i, o) { let { pathname: u, search: d, hash: p } = i.location; return w_("", { pathname: u, search: d, hash: p }, o.state && o.state.usr || null, o.state && o.state.key || "default") } function t(i, o) { return typeof o == "string" ? o : X0(o) } return yM(e, t, null, n) } function gi(n, e) { if (n === !1 || n === null || typeof n > "u") throw new Error(e) } function CC(n, e) { if (!n) { typeof console < "u" && console.warn(e); try { throw new Error(e) } catch { } } } function vM() { return Math.random().toString(36).substr(2, 8) } function QT(n, e) { return { usr: n.state, key: n.key, idx: e } } function w_(n, e, t, i) { return t === void 0 && (t = null), Dv({ pathname: typeof n == "string" ? n : n.pathname, search: "", hash: "" }, typeof e == "string" ? dm(e) : e, { state: t, key: e && e.key || i || vM() }) } function X0(n) { let { pathname: e = "/", search: t = "", hash: i = "" } = n; return t && t !== "?" && (e += t.charAt(0) === "?" ? t : "?" + t), i && i !== "#" && (e += i.charAt(0) === "#" ? i : "#" + i), e } function dm(n) { let e = {}; if (n) { let t = n.indexOf("#"); t >= 0 && (e.hash = n.substr(t), n = n.substr(0, t)); let i = n.indexOf("?"); i >= 0 && (e.search = n.substr(i), n = n.substr(0, i)), n && (e.pathname = n) } return e } function yM(n, e, t, i) { i === void 0 && (i = {}); let { window: o = document.defaultView, v5Compat: u = !1 } = i, d = o.history, p = qc.Pop, m = null, y = w(); y == null && (y = 0, d.replaceState(Dv({}, d.state, { idx: y }), "")); function w() { return (d.state || { idx: null }).idx } function E() { p = qc.Pop; let R = w(), L = R == null ? null : R - y; y = R, m && m({ action: p, location: k.location, delta: L }) } function C(R, L) { p = qc.Push; let z = w_(k.location, R, L); y = w() + 1; let $ = QT(z, y), J = k.createHref(z); try { d.pushState($, "", J) } catch (Q) { if (Q instanceof DOMException && Q.name === "DataCloneError") throw Q; o.location.assign(J) } u && m && m({ action: p, location: k.location, delta: 1 }) } function N(R, L) { p = qc.Replace; let z = w_(k.location, R, L); y = w(); let $ = QT(z, y), J = k.createHref(z); d.replaceState($, "", J), u && m && m({ action: p, location: k.location, delta: 0 }) } function U(R) { let L = o.location.origin !== "null" ? o.location.origin : o.location.href, z = typeof R == "string" ? R : X0(R); return z = z.replace(/ $/, "%20"), gi(L, "No window.location.(origin|href) available to create URL for href: " + z), new URL(z, L) } let k = { get action() { return p }, get location() { return n(o, d) }, listen(R) { if (m) throw new Error("A history only accepts one active listener"); return o.addEventListener(XT, E), m = R, () => { o.removeEventListener(XT, E), m = null } }, createHref(R) { return e(o, R) }, createURL: U, encodeLocation(R) { let L = U(R); return { pathname: L.pathname, search: L.search, hash: L.hash } }, push: C, replace: N, go(R) { return d.go(R) } }; return k } var JT; (function (n) { n.data = "data", n.deferred = "deferred", n.redirect = "redirect", n.error = "error" })(JT || (JT = {})); function bM(n, e, t) { return t === void 0 && (t = "/"), wM(n, e, t) } function wM(n, e, t, i) { let o = typeof e == "string" ? dm(e) : e, u = M1(o.pathname || "/", t); if (u == null) return null; let d = xC(n); _M(d); let p = null; for (let m = 0; p == null && m < d.length; ++m) { let y = MM(u); p = kM(d[m], y) } return p } function xC(n, e, t, i) { e === void 0 && (e = []), t === void 0 && (t = []), i === void 0 && (i = ""); let o = (u, d, p) => { let m = { relativePath: p === void 0 ? u.path || "" : p, caseSensitive: u.caseSensitive === !0, childrenIndex: d, route: u }; m.relativePath.startsWith("/") && (gi(m.relativePath.startsWith(i), 'Absolute route path "' + m.relativePath + '" nested under path ' + ('"' + i + '" is not valid. An absolute child route path ') + "must start with the combined path of all its parent routes."), m.relativePath = m.relativePath.slice(i.length)); let y = $c([i, m.relativePath]), w = t.concat(m); u.children && u.children.length > 0 && (gi(u.index !== !0, "Index routes must not have child routes. Please remove " + ('all child routes from route path "' + y + '".')), xC(u.children, e, w, y)), !(u.path == null && !u.index) && e.push({ path: y, score: RM(y, u.index), routesMeta: w }) }; return n.forEach((u, d) => { var p; if (u.path === "" || !((p = u.path) != null && p.includes("?"))) o(u, d); else for (let m of RC(u.path)) o(u, d, m) }), e } function RC(n) { let e = n.split("/"); if (e.length === 0) return []; let [t, ...i] = e, o = t.endsWith("?"), u = t.replace(/\?$/, ""); if (i.length === 0) return o ? [u, ""] : [u]; let d = RC(i.join("/")), p = []; return p.push(...d.map(m => m === "" ? u : [u, m].join("/"))), o && p.push(...d), p.map(m => n.startsWith("/") && m === "" ? "/" : m) } function _M(n) { n.sort((e, t) => e.score !== t.score ? t.score - e.score : IM(e.routesMeta.map(i => i.childrenIndex), t.routesMeta.map(i => i.childrenIndex))) } const EM = /^:[\w-]+$/, TM = 3, SM = 2, AM = 1, CM = 10, xM = -2, ZT = n => n === "*"; function RM(n, e) { let t = n.split("/"), i = t.length; return t.some(ZT) && (i += xM), e && (i += SM), t.filter(o => !ZT(o)).reduce((o, u) => o + (EM.test(u) ? TM : u === "" ? AM : CM), i) } function IM(n, e) { return n.length === e.length && n.slice(0, -1).every((i, o) => i === e[o]) ? n[n.length - 1] - e[e.length - 1] : 0 } function kM(n, e, t) { let { routesMeta: i } = n, o = {}, u = "/", d = []; for (let p = 0; p < i.length; ++p) { let m = i[p], y = p === i.length - 1, w = u === "/" ? e : e.slice(u.length) || "/", E = PM({ path: m.relativePath, caseSensitive: m.caseSensitive, end: y }, w), C = m.route; if (!E) return null; Object.assign(o, E.params), d.push({ params: o, pathname: $c([u, E.pathname]), pathnameBase: VM($c([u, E.pathnameBase])), route: C }), E.pathnameBase !== "/" && (u = $c([u, E.pathnameBase])) } return d } function PM(n, e) { typeof n == "string" && (n = { path: n, caseSensitive: !1, end: !0 }); let [t, i] = NM(n.path, n.caseSensitive, n.end), o = e.match(t); if (!o) return null; let u = o[0], d = u.replace(/(.)\/+$/, "$1"), p = o.slice(1); return { params: i.reduce((y, w, E) => { let { paramName: C, isOptional: N } = w; if (C === "*") { let k = p[E] || ""; d = u.slice(0, u.length - k.length).replace(/(.)\/+$/, "$1") } const U = p[E]; return N && !U ? y[C] = void 0 : y[C] = (U || "").replace(/%2F/g, "/"), y }, {}), pathname: u, pathnameBase: d, pattern: n } } function NM(n, e, t) { e === void 0 && (e = !1), t === void 0 && (t = !0), CC(n === "*" || !n.endsWith("*") || n.endsWith("/*"), 'Route path "' + n + '" will be treated as if it were ' + ('"' + n.replace(/\*$/, "/*") + '" because the `*` character must ') + "always follow a `/` in the pattern. To get rid of this warning, " + ('please change the route path to "' + n.replace(/\*$/, "/*") + '".')); let i = [], o = "^" + n.replace(/\/*\*?$/, "").replace(/^\/*/, "/").replace(/[\\.*+^${}|()[\]]/g, "\\$&").replace(/\/:([\w-]+)(\?)?/g, (d, p, m) => (i.push({ paramName: p, isOptional: m != null }), m ? "/?([^\\/]+)?" : "/([^\\/]+)")); return n.endsWith("*") ? (i.push({ paramName: "*" }), o += n === "*" || n === "/*" ? "(.*)$" : "(?:\\/(.+)|\\/*)$") : t ? o += "\\/*$" : n !== "" && n !== "/" && (o += "(?:(?=\\/|$))"), [new RegExp(o, e ? void 0 : "i"), i] } function MM(n) { try { return n.split("/").map(e => decodeURIComponent(e).replace(/\//g, "%2F")).join("/") } catch (e) { return CC(!1, 'The URL path "' + n + '" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent ' + ("encoding (" + e + ").")), n } } function M1(n, e) { if (e === "/") return n; if (!n.toLowerCase().startsWith(e.toLowerCase())) return null; let t = e.endsWith("/") ? e.length - 1 : e.length, i = n.charAt(t); return i && i !== "/" ? null : n.slice(t) || "/" } function DM(n, e) { e === void 0 && (e = "/"); let { pathname: t, search: i = "", hash: o = "" } = typeof n == "string" ? dm(n) : n; return { pathname: t ? t.startsWith("/") ? t : OM(t, e) : e, search: jM(i), hash: UM(o) } } function OM(n, e) { let t = e.replace(/\/+$/, "").split("/"); return n.split("/").forEach(o => { o === ".." ? t.length > 1 && t.pop() : o !== "." && t.push(o) }), t.length > 1 ? t.join("/") : "/" } function Pw(n, e, t, i) { return "Cannot include a '" + n + "' character in a manually specified " + ("`to." + e + "` field [" + JSON.stringify(i) + "].  Please separate it out to the ") + ("`to." + t + "` field. Alternatively you may provide the full path as ") + 'a string in <Link to="..."> and the router will parse it for you.' } function LM(n) { return n.filter((e, t) => t === 0 || e.route.path && e.route.path.length > 0) } function IC(n, e) { let t = LM(n); return e ? t.map((i, o) => o === t.length - 1 ? i.pathname : i.pathnameBase) : t.map(i => i.pathnameBase) } function kC(n, e, t, i) { i === void 0 && (i = !1); let o; typeof n == "string" ? o = dm(n) : (o = Dv({}, n), gi(!o.pathname || !o.pathname.includes("?"), Pw("?", "pathname", "search", o)), gi(!o.pathname || !o.pathname.includes("#"), Pw("#", "pathname", "hash", o)), gi(!o.search || !o.search.includes("#"), Pw("#", "search", "hash", o))); let u = n === "" || o.pathname === "", d = u ? "/" : o.pathname, p; if (d == null) p = t; else { let E = e.length - 1; if (!i && d.startsWith("..")) { let C = d.split("/"); for (; C[0] === "..";)C.shift(), E -= 1; o.pathname = C.join("/") } p = E >= 0 ? e[E] : "/" } let m = DM(o, p), y = d && d !== "/" && d.endsWith("/"), w = (u || d === ".") && t.endsWith("/"); return !m.pathname.endsWith("/") && (y || w) && (m.pathname += "/"), m } const $c = n => n.join("/").replace(/\/\/+/g, "/"), VM = n => n.replace(/\/+$/, "").replace(/^\/*/, "/"), jM = n => !n || n === "?" ? "" : n.startsWith("?") ? n : "?" + n, UM = n => !n || n === "#" ? "" : n.startsWith("#") ? n : "#" + n; function BM(n) { return n != null && typeof n.status == "number" && typeof n.statusText == "string" && typeof n.internal == "boolean" && "data" in n } const PC = ["post", "put", "patch", "delete"]; new Set(PC); const FM = ["get", ...PC]; new Set(FM);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ov() { return Ov = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]) } return n }, Ov.apply(this, arguments) } const D1 = I.createContext(null), zM = I.createContext(null), Yh = I.createContext(null), Ab = I.createContext(null), Xh = I.createContext({ outlet: null, matches: [], isDataRoute: !1 }), NC = I.createContext(null); function HM(n, e) { let { relative: t } = e === void 0 ? {} : e; ny() || gi(!1); let { basename: i, navigator: o } = I.useContext(Yh), { hash: u, pathname: d, search: p } = DC(n, { relative: t }), m = d; return i !== "/" && (m = d === "/" ? i : $c([i, d])), o.createHref({ pathname: m, search: p, hash: u }) } function ny() { return I.useContext(Ab) != null } function iy() { return ny() || gi(!1), I.useContext(Ab).location } function MC(n) { I.useContext(Yh).static || I.useLayoutEffect(n) } function qM() { let { isDataRoute: n } = I.useContext(Xh); return n ? iD() : GM() } function GM() { ny() || gi(!1); let n = I.useContext(D1), { basename: e, future: t, navigator: i } = I.useContext(Yh), { matches: o } = I.useContext(Xh), { pathname: u } = iy(), d = JSON.stringify(IC(o, t.v7_relativeSplatPath)), p = I.useRef(!1); return MC(() => { p.current = !0 }), I.useCallback(function (y, w) { if (w === void 0 && (w = {}), !p.current) return; if (typeof y == "number") { i.go(y); return } let E = kC(y, JSON.parse(d), u, w.relative === "path"); n == null && e !== "/" && (E.pathname = E.pathname === "/" ? e : $c([e, E.pathname])), (w.replace ? i.replace : i.push)(E, w.state, w) }, [e, i, d, u, n]) } function DC(n, e) { let { relative: t } = e === void 0 ? {} : e, { future: i } = I.useContext(Yh), { matches: o } = I.useContext(Xh), { pathname: u } = iy(), d = JSON.stringify(IC(o, i.v7_relativeSplatPath)); return I.useMemo(() => kC(n, JSON.parse(d), u, t === "path"), [n, d, u, t]) } function KM(n, e) { return $M(n, e) } function $M(n, e, t, i) { ny() || gi(!1); let { navigator: o } = I.useContext(Yh), { matches: u } = I.useContext(Xh), d = u[u.length - 1], p = d ? d.params : {}; d && d.pathname; let m = d ? d.pathnameBase : "/"; d && d.route; let y = iy(), w; if (e) { var E; let R = typeof e == "string" ? dm(e) : e; m === "/" || (E = R.pathname) != null && E.startsWith(m) || gi(!1), w = R } else w = y; let C = w.pathname || "/", N = C; if (m !== "/") { let R = m.replace(/^\//, "").split("/"); N = "/" + C.replace(/^\//, "").split("/").slice(R.length).join("/") } let U = bM(n, { pathname: N }), k = JM(U && U.map(R => Object.assign({}, R, { params: Object.assign({}, p, R.params), pathname: $c([m, o.encodeLocation ? o.encodeLocation(R.pathname).pathname : R.pathname]), pathnameBase: R.pathnameBase === "/" ? m : $c([m, o.encodeLocation ? o.encodeLocation(R.pathnameBase).pathname : R.pathnameBase]) })), u, t, i); return e && k ? I.createElement(Ab.Provider, { value: { location: Ov({ pathname: "/", search: "", hash: "", state: null, key: "default" }, w), navigationType: qc.Pop } }, k) : k } function WM() { let n = nD(), e = BM(n) ? n.status + " " + n.statusText : n instanceof Error ? n.message : JSON.stringify(n), t = n instanceof Error ? n.stack : null, o = { padding: "0.5rem", backgroundColor: "rgba(200,200,200, 0.5)" }; return I.createElement(I.Fragment, null, I.createElement("h2", null, "Unexpected Application Error!"), I.createElement("h3", { style: { fontStyle: "italic" } }, e), t ? I.createElement("pre", { style: o }, t) : null, null) } const YM = I.createElement(WM, null); class XM extends I.Component { constructor(e) { super(e), this.state = { location: e.location, revalidation: e.revalidation, error: e.error } } static getDerivedStateFromError(e) { return { error: e } } static getDerivedStateFromProps(e, t) { return t.location !== e.location || t.revalidation !== "idle" && e.revalidation === "idle" ? { error: e.error, location: e.location, revalidation: e.revalidation } : { error: e.error !== void 0 ? e.error : t.error, location: t.location, revalidation: e.revalidation || t.revalidation } } componentDidCatch(e, t) { console.error("React Router caught the following error during render", e, t) } render() { return this.state.error !== void 0 ? I.createElement(Xh.Provider, { value: this.props.routeContext }, I.createElement(NC.Provider, { value: this.state.error, children: this.props.component })) : this.props.children } } function QM(n) { let { routeContext: e, match: t, children: i } = n, o = I.useContext(D1); return o && o.static && o.staticContext && (t.route.errorElement || t.route.ErrorBoundary) && (o.staticContext._deepestRenderedBoundaryId = t.route.id), I.createElement(Xh.Provider, { value: e }, i) } function JM(n, e, t, i) { var o; if (e === void 0 && (e = []), t === void 0 && (t = null), i === void 0 && (i = null), n == null) { var u; if (!t) return null; if (t.errors) n = t.matches; else if ((u = i) != null && u.v7_partialHydration && e.length === 0 && !t.initialized && t.matches.length > 0) n = t.matches; else return null } let d = n, p = (o = t) == null ? void 0 : o.errors; if (p != null) { let w = d.findIndex(E => E.route.id && p?.[E.route.id] !== void 0); w >= 0 || gi(!1), d = d.slice(0, Math.min(d.length, w + 1)) } let m = !1, y = -1; if (t && i && i.v7_partialHydration) for (let w = 0; w < d.length; w++) { let E = d[w]; if ((E.route.HydrateFallback || E.route.hydrateFallbackElement) && (y = w), E.route.id) { let { loaderData: C, errors: N } = t, U = E.route.loader && C[E.route.id] === void 0 && (!N || N[E.route.id] === void 0); if (E.route.lazy || U) { m = !0, y >= 0 ? d = d.slice(0, y + 1) : d = [d[0]]; break } } } return d.reduceRight((w, E, C) => { let N, U = !1, k = null, R = null; t && (N = p && E.route.id ? p[E.route.id] : void 0, k = E.route.errorElement || YM, m && (y < 0 && C === 0 ? (rD("route-fallback"), U = !0, R = null) : y === C && (U = !0, R = E.route.hydrateFallbackElement || null))); let L = e.concat(d.slice(0, C + 1)), z = () => { let $; return N ? $ = k : U ? $ = R : E.route.Component ? $ = I.createElement(E.route.Component, null) : E.route.element ? $ = E.route.element : $ = w, I.createElement(QM, { match: E, routeContext: { outlet: w, matches: L, isDataRoute: t != null }, children: $ }) }; return t && (E.route.ErrorBoundary || E.route.errorElement || C === 0) ? I.createElement(XM, { location: t.location, revalidation: t.revalidation, component: k, error: N, children: z(), routeContext: { outlet: null, matches: L, isDataRoute: !0 } }) : z() }, null) } var OC = function (n) { return n.UseBlocker = "useBlocker", n.UseRevalidator = "useRevalidator", n.UseNavigateStable = "useNavigate", n }(OC || {}), LC = function (n) { return n.UseBlocker = "useBlocker", n.UseLoaderData = "useLoaderData", n.UseActionData = "useActionData", n.UseRouteError = "useRouteError", n.UseNavigation = "useNavigation", n.UseRouteLoaderData = "useRouteLoaderData", n.UseMatches = "useMatches", n.UseRevalidator = "useRevalidator", n.UseNavigateStable = "useNavigate", n.UseRouteId = "useRouteId", n }(LC || {}); function ZM(n) { let e = I.useContext(D1); return e || gi(!1), e } function eD(n) { let e = I.useContext(zM); return e || gi(!1), e } function tD(n) { let e = I.useContext(Xh); return e || gi(!1), e } function VC(n) { let e = tD(), t = e.matches[e.matches.length - 1]; return t.route.id || gi(!1), t.route.id } function nD() { var n; let e = I.useContext(NC), t = eD(), i = VC(); return e !== void 0 ? e : (n = t.errors) == null ? void 0 : n[i] } function iD() { let { router: n } = ZM(OC.UseNavigateStable), e = VC(LC.UseNavigateStable), t = I.useRef(!1); return MC(() => { t.current = !0 }), I.useCallback(function (o, u) { u === void 0 && (u = {}), t.current && (typeof o == "number" ? n.navigate(o) : n.navigate(o, Ov({ fromRouteId: e }, u))) }, [n, e]) } const eS = {}; function rD(n, e, t) { eS[n] || (eS[n] = !0) } function sD(n, e) { n?.v7_startTransition, n?.v7_relativeSplatPath } function __(n) { gi(!1) } function oD(n) { let { basename: e = "/", children: t = null, location: i, navigationType: o = qc.Pop, navigator: u, static: d = !1, future: p } = n; ny() && gi(!1); let m = e.replace(/^\/*/, "/"), y = I.useMemo(() => ({ basename: m, navigator: u, static: d, future: Ov({ v7_relativeSplatPath: !1 }, p) }), [m, p, u, d]); typeof i == "string" && (i = dm(i)); let { pathname: w = "/", search: E = "", hash: C = "", state: N = null, key: U = "default" } = i, k = I.useMemo(() => { let R = M1(w, m); return R == null ? null : { location: { pathname: R, search: E, hash: C, state: N, key: U }, navigationType: o } }, [m, w, E, C, N, U, o]); return k == null ? null : I.createElement(Yh.Provider, { value: y }, I.createElement(Ab.Provider, { children: t, value: k })) } function aD(n) { let { children: e, location: t } = n; return KM(E_(e), t) } new Promise(() => { }); function E_(n, e) { e === void 0 && (e = []); let t = []; return I.Children.forEach(n, (i, o) => { if (!I.isValidElement(i)) return; let u = [...e, o]; if (i.type === I.Fragment) { t.push.apply(t, E_(i.props.children, u)); return } i.type !== __ && gi(!1), !i.props.index || !i.props.children || gi(!1); let d = { id: i.props.id || u.join("-"), caseSensitive: i.props.caseSensitive, element: i.props.element, Component: i.props.Component, index: i.props.index, path: i.props.path, loader: i.props.loader, action: i.props.action, errorElement: i.props.errorElement, ErrorBoundary: i.props.ErrorBoundary, hasErrorBoundary: i.props.ErrorBoundary != null || i.props.errorElement != null, shouldRevalidate: i.props.shouldRevalidate, handle: i.props.handle, lazy: i.props.lazy }; i.props.children && (d.children = E_(i.props.children, u)), t.push(d) }), t }/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function T_() { return T_ = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]) } return n }, T_.apply(this, arguments) } function lD(n, e) { if (n == null) return {}; var t = {}, i = Object.keys(n), o, u; for (u = 0; u < i.length; u++)o = i[u], !(e.indexOf(o) >= 0) && (t[o] = n[o]); return t } function uD(n) { return !!(n.metaKey || n.altKey || n.ctrlKey || n.shiftKey) } function cD(n, e) { return n.button === 0 && (!e || e === "_self") && !uD(n) } const dD = ["onClick", "relative", "reloadDocument", "replace", "state", "target", "to", "preventScrollReset", "viewTransition"], hD = "6"; try { window.__reactRouterVersion = hD } catch { } const fD = "startTransition", tS = P1[fD]; function pD(n) { let { basename: e, children: t, future: i, window: o } = n, u = I.useRef(); u.current == null && (u.current = gM({ window: o, v5Compat: !0 })); let d = u.current, [p, m] = I.useState({ action: d.action, location: d.location }), { v7_startTransition: y } = i || {}, w = I.useCallback(E => { y && tS ? tS(() => m(E)) : m(E) }, [m, y]); return I.useLayoutEffect(() => d.listen(w), [d, w]), I.useEffect(() => sD(i), [i]), I.createElement(oD, { basename: e, children: t, location: p.location, navigationType: p.action, navigator: d, future: i }) } const mD = typeof window < "u" && typeof window.document < "u" && typeof window.document.createElement < "u", gD = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i, Q0 = I.forwardRef(function (e, t) { let { onClick: i, relative: o, reloadDocument: u, replace: d, state: p, target: m, to: y, preventScrollReset: w, viewTransition: E } = e, C = lD(e, dD), { basename: N } = I.useContext(Yh), U, k = !1; if (typeof y == "string" && gD.test(y) && (U = y, mD)) try { let $ = new URL(window.location.href), J = y.startsWith("//") ? new URL($.protocol + y) : new URL(y), Q = M1(J.pathname, N); J.origin === $.origin && Q != null ? y = Q + J.search + J.hash : k = !0 } catch { } let R = HM(y, { relative: o }), L = vD(y, { replace: d, state: p, target: m, preventScrollReset: w, relative: o, viewTransition: E }); function z($) { i && i($), $.defaultPrevented || L($) } return I.createElement("a", T_({}, C, { href: U || R, onClick: k || u ? i : z, ref: t, target: m })) }); var nS; (function (n) { n.UseScrollRestoration = "useScrollRestoration", n.UseSubmit = "useSubmit", n.UseSubmitFetcher = "useSubmitFetcher", n.UseFetcher = "useFetcher", n.useViewTransitionState = "useViewTransitionState" })(nS || (nS = {})); var iS; (function (n) { n.UseFetcher = "useFetcher", n.UseFetchers = "useFetchers", n.UseScrollRestoration = "useScrollRestoration" })(iS || (iS = {})); function vD(n, e) { let { target: t, replace: i, state: o, preventScrollReset: u, relative: d, viewTransition: p } = e === void 0 ? {} : e, m = qM(), y = iy(), w = DC(n, { relative: d }); return I.useCallback(E => { if (cD(E, t)) { E.preventDefault(); let C = i !== void 0 ? i : X0(y) === X0(w); m(n, { replace: C, state: o, preventScrollReset: u, relative: d, viewTransition: p }) } }, [y, m, w, i, o, t, n, u, d, p]) }/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD = n => n.replace(/([a-z0-9])([A-Z])/g, "$1-$2").toLowerCase(), bD = n => n.replace(/^([A-Z])|[\s-_]+(\w)/g, (e, t, i) => i ? i.toUpperCase() : t.toLowerCase()), rS = n => { const e = bD(n); return e.charAt(0).toUpperCase() + e.slice(1) }, jC = (...n) => n.filter((e, t, i) => !!e && e.trim() !== "" && i.indexOf(e) === t).join(" ").trim(), wD = n => { for (const e in n) if (e.startsWith("aria-") || e === "role" || e === "title") return !0 };/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _D = { xmlns: "http://www.w3.org/2000/svg", width: 24, height: 24, viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round" };/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED = I.forwardRef(({ color: n = "currentColor", size: e = 24, strokeWidth: t = 2, absoluteStrokeWidth: i, className: o = "", children: u, iconNode: d, ...p }, m) => I.createElement("svg", { ref: m, ..._D, width: e, height: e, stroke: n, strokeWidth: i ? Number(t) * 24 / Number(e) : t, className: jC("lucide", o), ...!u && !wD(p) && { "aria-hidden": "true" }, ...p }, [...d.map(([y, w]) => I.createElement(y, w)), ...Array.isArray(u) ? u : [u]]));/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St = (n, e) => { const t = I.forwardRef(({ className: i, ...o }, u) => I.createElement(ED, { ref: u, iconNode: e, className: jC(`lucide-${yD(rS(n))}`, `lucide-${n}`, i), ...o })); return t.displayName = rS(n), t };/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD = [["path", { d: "M20 6 9 17l-5-5", key: "1gmf2c" }]], SD = St("check", TD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD = [["circle", { cx: "12", cy: "12", r: "10", key: "1mglay" }], ["line", { x1: "12", x2: "12", y1: "8", y2: "12", key: "1pkeuh" }], ["line", { x1: "12", x2: "12.01", y1: "16", y2: "16", key: "4dfq90" }]], sS = St("circle-alert", AD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD = [["path", { d: "M21.801 10A10 10 0 1 1 17 3.335", key: "yps3ct" }], ["path", { d: "m9 11 3 3L22 4", key: "1pflzl" }]], xD = St("circle-check-big", CD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD = [["circle", { cx: "12", cy: "12", r: "10", key: "1mglay" }], ["path", { d: "m9 12 2 2 4-4", key: "dzmm74" }]], ID = St("circle-check", RD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD = [["path", { d: "M12 6v6l4 2", key: "mmk7yg" }], ["circle", { cx: "12", cy: "12", r: "10", key: "1mglay" }]], UC = St("clock", kD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD = [["path", { d: "M15 3h6v6", key: "1q9fwt" }], ["path", { d: "M10 14 21 3", key: "gplh6r" }], ["path", { d: "M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6", key: "a6xqqp" }]], Nw = St("external-link", PD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND = [["path", { d: "M10.5 3 8 9l4 13 4-13-2.5-6", key: "b3dvk1" }], ["path", { d: "M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z", key: "7w4byz" }], ["path", { d: "M2 9h20", key: "16fsjt" }]], MD = St("gem", ND);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD = [["circle", { cx: "12", cy: "12", r: "10", key: "1mglay" }], ["path", { d: "M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20", key: "13o1zl" }], ["path", { d: "M2 12h20", key: "9i4pu4" }]], OD = St("globe", DD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD = [["line", { x1: "22", x2: "2", y1: "12", y2: "12", key: "1y58io" }], ["path", { d: "M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z", key: "oot6mr" }], ["line", { x1: "6", x2: "6.01", y1: "16", y2: "16", key: "sgf278" }], ["line", { x1: "10", x2: "10.01", y1: "16", y2: "16", key: "1l4acy" }]], BC = St("hard-drive", LD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD = [["path", { d: "M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z", key: "zw3jo" }], ["path", { d: "M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12", key: "1wduqc" }], ["path", { d: "M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17", key: "kqbvx6" }]], jD = St("layers", VD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD = [["path", { d: "M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5", key: "1gvzjb" }], ["path", { d: "M9 18h6", key: "x1upvd" }], ["path", { d: "M10 22h4", key: "ceow96" }]], BD = St("lightbulb", UD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD = [["path", { d: "M21 15V6", key: "h1cx4g" }], ["path", { d: "M18.5 18a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z", key: "8saifv" }], ["path", { d: "M12 12H3", key: "18klou" }], ["path", { d: "M16 6H3", key: "1wxfjs" }], ["path", { d: "M12 18H3", key: "11ftsu" }]], zD = St("list-music", FD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD = [["path", { d: "M21 12a9 9 0 1 1-6.219-8.56", key: "13zald" }]], oS = St("loader-circle", HD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD = [["path", { d: "m10 17 5-5-5-5", key: "1bsop3" }], ["path", { d: "M15 12H3", key: "6jk70r" }], ["path", { d: "M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4", key: "u53s6r" }]], FC = St("log-in", qD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD = [["path", { d: "m16 17 5-5-5-5", key: "1bji2h" }], ["path", { d: "M21 12H9", key: "dn1m92" }], ["path", { d: "M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4", key: "1uf3rs" }]], KD = St("log-out", GD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D = [["path", { d: "M9 18V5l12-2v13", key: "1jmyc2" }], ["circle", { cx: "6", cy: "18", r: "3", key: "fqmcym" }], ["circle", { cx: "18", cy: "16", r: "3", key: "1hluhg" }]], zC = St("music", $D);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD = [["rect", { x: "14", y: "3", width: "5", height: "18", rx: "1", key: "kaeet6" }], ["rect", { x: "5", y: "3", width: "5", height: "18", rx: "1", key: "1wsw3u" }]], HC = St("pause", WD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD = [["path", { d: "M13 21h8", key: "1jsn5i" }], ["path", { d: "M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z", key: "1a8usu" }]], XD = St("pen-line", YD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD = [["path", { d: "M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z", key: "10ikf1" }]], O1 = St("play", QD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD = [["path", { d: "M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8", key: "v9h5vc" }], ["path", { d: "M21 3v5h-5", key: "1q7to0" }], ["path", { d: "M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16", key: "3uifl3" }], ["path", { d: "M8 16H3v5", key: "1cv678" }]], el = St("refresh-cw", JD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD = [["path", { d: "M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8", key: "1357e3" }], ["path", { d: "M3 3v5h5", key: "1xhq8a" }]], eO = St("rotate-ccw", ZD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO = [["path", { d: "M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z", key: "icamh8" }], ["path", { d: "m14.5 12.5 2-2", key: "inckbg" }], ["path", { d: "m11.5 9.5 2-2", key: "fmmyf7" }], ["path", { d: "m8.5 6.5 2-2", key: "vc6u1g" }], ["path", { d: "m17.5 15.5 2-2", key: "wo5hmg" }]], nO = St("ruler", tO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO = [["path", { d: "M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z", key: "1c8476" }], ["path", { d: "M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7", key: "1ydtos" }], ["path", { d: "M7 3v4a1 1 0 0 0 1 1h7", key: "t51u73" }]], qC = St("save", iO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO = [["path", { d: "M10 11v6", key: "nco0om" }], ["path", { d: "M14 11v6", key: "outv1u" }], ["path", { d: "M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6", key: "miytrc" }], ["path", { d: "M3 6h18", key: "d0wm0j" }], ["path", { d: "M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2", key: "e791ji" }]], L1 = St("trash-2", rO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO = [["path", { d: "m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3", key: "wmoenq" }], ["path", { d: "M12 9v4", key: "juzpu7" }], ["path", { d: "M12 17h.01", key: "p32p05" }]], Ja = St("triangle-alert", sO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO = [["path", { d: "M12 3v12", key: "1x0j5s" }], ["path", { d: "m17 8-5-5-5 5", key: "7q97r8" }], ["path", { d: "M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4", key: "ih7n3h" }]], aS = St("upload", oO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO = [["path", { d: "M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196", key: "w8jjjt" }], ["path", { d: "M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2", key: "1xawa7" }], ["path", { d: "m2 2 20 20", key: "1ooewy" }]], lS = St("video-off", aO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO = [["path", { d: "m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5", key: "ftymec" }], ["rect", { x: "2", y: "6", width: "14", height: "12", rx: "2", key: "158x01" }]], uS = St("video", lO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO = [["path", { d: "M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z", key: "uqj9uw" }], ["path", { d: "M16 9a5 5 0 0 1 0 6", key: "1q6k2b" }], ["path", { d: "M19.364 18.364a9 9 0 0 0 0-12.728", key: "ijwkga" }]], GC = St("volume-2", uO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO = [["path", { d: "M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z", key: "uqj9uw" }], ["line", { x1: "22", x2: "16", y1: "9", y2: "15", key: "1ewh16" }], ["line", { x1: "16", x2: "22", y1: "9", y2: "15", key: "5ykzw1" }]], S_ = St("volume-x", cO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO = [["path", { d: "M12 20h.01", key: "zekei9" }], ["path", { d: "M8.5 16.429a5 5 0 0 1 7 0", key: "1bycff" }], ["path", { d: "M5 12.859a10 10 0 0 1 5.17-2.69", key: "1dl1wf" }], ["path", { d: "M19 12.859a10 10 0 0 0-2.007-1.523", key: "4k23kn" }], ["path", { d: "M2 8.82a15 15 0 0 1 4.177-2.643", key: "1grhjp" }], ["path", { d: "M22 8.82a15 15 0 0 0-11.288-3.764", key: "z3jwby" }], ["path", { d: "m2 2 20 20", key: "1ooewy" }]], V1 = St("wifi-off", dO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO = [["path", { d: "M12 20h.01", key: "zekei9" }], ["path", { d: "M2 8.82a15 15 0 0 1 20 0", key: "dnpr2z" }], ["path", { d: "M5 12.859a10 10 0 0 1 14 0", key: "1x1e6c" }], ["path", { d: "M8.5 16.429a5 5 0 0 1 7 0", key: "1bycff" }]], j1 = St("wifi", hO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO = [["path", { d: "M18 6 6 18", key: "1bl5f8" }], ["path", { d: "m6 6 12 12", key: "d8bk6v" }]], KC = St("x", fO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO = [["path", { d: "M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17", key: "1q2vi4" }], ["path", { d: "m10 15 5-3-5-3z", key: "1jp15x" }]], mO = St("youtube", pO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO = [["path", { d: "M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z", key: "1xq2db" }]], vO = St("zap", gO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO = [["circle", { cx: "11", cy: "11", r: "8", key: "4ej97u" }], ["line", { x1: "21", x2: "16.65", y1: "21", y2: "16.65", key: "13gj7c" }], ["line", { x1: "11", x2: "11", y1: "8", y2: "14", key: "1vmskp" }], ["line", { x1: "8", x2: "14", y1: "11", y2: "11", key: "durymu" }]], bO = St("zoom-in", yO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO = [["circle", { cx: "11", cy: "11", r: "8", key: "4ej97u" }], ["line", { x1: "21", x2: "16.65", y1: "21", y2: "16.65", key: "13gj7c" }], ["line", { x1: "8", x2: "14", y1: "11", y2: "11", key: "durymu" }]], _O = St("zoom-out", wO); function cS(n, e) { if (typeof n == "function") return n(e); n != null && (n.current = e) } function $C(...n) { return e => { let t = !1; const i = n.map(o => { const u = cS(o, e); return !t && typeof u == "function" && (t = !0), u }); if (t) return () => { for (let o = 0; o < i.length; o++) { const u = i[o]; typeof u == "function" ? u() : cS(n[o], null) } } } } function tr(...n) { return I.useCallback($C(...n), n) } function Lv(n) { const e = TO(n), t = I.forwardRef((i, o) => { const { children: u, ...d } = i, p = I.Children.toArray(u), m = p.find(AO); if (m) { const y = m.props.children, w = p.map(E => E === m ? I.Children.count(y) > 1 ? I.Children.only(null) : I.isValidElement(y) ? y.props.children : null : E); return x.jsx(e, { ...d, ref: o, children: I.isValidElement(y) ? I.cloneElement(y, void 0, w) : null }) } return x.jsx(e, { ...d, ref: o, children: u }) }); return t.displayName = `${n}.Slot`, t } var EO = Lv("Slot"); function TO(n) { const e = I.forwardRef((t, i) => { const { children: o, ...u } = t; if (I.isValidElement(o)) { const d = xO(o), p = CO(u, o.props); return o.type !== I.Fragment && (p.ref = i ? $C(i, d) : d), I.cloneElement(o, p) } return I.Children.count(o) > 1 ? I.Children.only(null) : null }); return e.displayName = `${n}.SlotClone`, e } var SO = Symbol("radix.slottable"); function AO(n) { return I.isValidElement(n) && typeof n.type == "function" && "__radixId" in n.type && n.type.__radixId === SO } function CO(n, e) { const t = { ...e }; for (const i in e) { const o = n[i], u = e[i]; /^on[A-Z]/.test(i) ? o && u ? t[i] = (...p) => { const m = u(...p); return o(...p), m } : o && (t[i] = o) : i === "style" ? t[i] = { ...o, ...u } : i === "className" && (t[i] = [o, u].filter(Boolean).join(" ")) } return { ...n, ...t } } function xO(n) { let e = Object.getOwnPropertyDescriptor(n.props, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning; return t ? n.ref : (e = Object.getOwnPropertyDescriptor(n, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning, t ? n.props.ref : n.props.ref || n.ref) } function WC(n) { var e, t, i = ""; if (typeof n == "string" || typeof n == "number") i += n; else if (typeof n == "object") if (Array.isArray(n)) { var o = n.length; for (e = 0; e < o; e++)n[e] && (t = WC(n[e])) && (i && (i += " "), i += t) } else for (t in n) n[t] && (i && (i += " "), i += t); return i } function YC() { for (var n, e, t = 0, i = "", o = arguments.length; t < o; t++)(n = arguments[t]) && (e = WC(n)) && (i && (i += " "), i += e); return i } const dS = n => typeof n == "boolean" ? `${n}` : n === 0 ? "0" : n, hS = YC, XC = (n, e) => t => { var i; if (e?.variants == null) return hS(n, t?.class, t?.className); const { variants: o, defaultVariants: u } = e, d = Object.keys(o).map(y => { const w = t?.[y], E = u?.[y]; if (w === null) return null; const C = dS(w) || dS(E); return o[y][C] }), p = t && Object.entries(t).reduce((y, w) => { let [E, C] = w; return C === void 0 || (y[E] = C), y }, {}), m = e == null || (i = e.compoundVariants) === null || i === void 0 ? void 0 : i.reduce((y, w) => { let { class: E, className: C, ...N } = w; return Object.entries(N).every(U => { let [k, R] = U; return Array.isArray(R) ? R.includes({ ...u, ...p }[k]) : { ...u, ...p }[k] === R }) ? [...y, E, C] : y }, []); return hS(n, d, m, t?.class, t?.className) }, U1 = "-", RO = n => { const e = kO(n), { conflictingClassGroups: t, conflictingClassGroupModifiers: i } = n; return { getClassGroupId: d => { const p = d.split(U1); return p[0] === "" && p.length !== 1 && p.shift(), QC(p, e) || IO(d) }, getConflictingClassGroupIds: (d, p) => { const m = t[d] || []; return p && i[d] ? [...m, ...i[d]] : m } } }, QC = (n, e) => { if (n.length === 0) return e.classGroupId; const t = n[0], i = e.nextPart.get(t), o = i ? QC(n.slice(1), i) : void 0; if (o) return o; if (e.validators.length === 0) return; const u = n.join(U1); return e.validators.find(({ validator: d }) => d(u))?.classGroupId }, fS = /^\[(.+)\]$/, IO = n => { if (fS.test(n)) { const e = fS.exec(n)[1], t = e?.substring(0, e.indexOf(":")); if (t) return "arbitrary.." + t } }, kO = n => { const { theme: e, prefix: t } = n, i = { nextPart: new Map, validators: [] }; return NO(Object.entries(n.classGroups), t).forEach(([u, d]) => { A_(d, i, u, e) }), i }, A_ = (n, e, t, i) => { n.forEach(o => { if (typeof o == "string") { const u = o === "" ? e : pS(e, o); u.classGroupId = t; return } if (typeof o == "function") { if (PO(o)) { A_(o(i), e, t, i); return } e.validators.push({ validator: o, classGroupId: t }); return } Object.entries(o).forEach(([u, d]) => { A_(d, pS(e, u), t, i) }) }) }, pS = (n, e) => { let t = n; return e.split(U1).forEach(i => { t.nextPart.has(i) || t.nextPart.set(i, { nextPart: new Map, validators: [] }), t = t.nextPart.get(i) }), t }, PO = n => n.isThemeGetter, NO = (n, e) => e ? n.map(([t, i]) => { const o = i.map(u => typeof u == "string" ? e + u : typeof u == "object" ? Object.fromEntries(Object.entries(u).map(([d, p]) => [e + d, p])) : u); return [t, o] }) : n, MO = n => { if (n < 1) return { get: () => { }, set: () => { } }; let e = 0, t = new Map, i = new Map; const o = (u, d) => { t.set(u, d), e++, e > n && (e = 0, i = t, t = new Map) }; return { get(u) { let d = t.get(u); if (d !== void 0) return d; if ((d = i.get(u)) !== void 0) return o(u, d), d }, set(u, d) { t.has(u) ? t.set(u, d) : o(u, d) } } }, JC = "!", DO = n => { const { separator: e, experimentalParseClassName: t } = n, i = e.length === 1, o = e[0], u = e.length, d = p => { const m = []; let y = 0, w = 0, E; for (let R = 0; R < p.length; R++) { let L = p[R]; if (y === 0) { if (L === o && (i || p.slice(R, R + u) === e)) { m.push(p.slice(w, R)), w = R + u; continue } if (L === "/") { E = R; continue } } L === "[" ? y++ : L === "]" && y-- } const C = m.length === 0 ? p : p.substring(w), N = C.startsWith(JC), U = N ? C.substring(1) : C, k = E && E > w ? E - w : void 0; return { modifiers: m, hasImportantModifier: N, baseClassName: U, maybePostfixModifierPosition: k } }; return t ? p => t({ className: p, parseClassName: d }) : d }, OO = n => { if (n.length <= 1) return n; const e = []; let t = []; return n.forEach(i => { i[0] === "[" ? (e.push(...t.sort(), i), t = []) : t.push(i) }), e.push(...t.sort()), e }, LO = n => ({ cache: MO(n.cacheSize), parseClassName: DO(n), ...RO(n) }), VO = /\s+/, jO = (n, e) => { const { parseClassName: t, getClassGroupId: i, getConflictingClassGroupIds: o } = e, u = [], d = n.trim().split(VO); let p = ""; for (let m = d.length - 1; m >= 0; m -= 1) { const y = d[m], { modifiers: w, hasImportantModifier: E, baseClassName: C, maybePostfixModifierPosition: N } = t(y); let U = !!N, k = i(U ? C.substring(0, N) : C); if (!k) { if (!U) { p = y + (p.length > 0 ? " " + p : p); continue } if (k = i(C), !k) { p = y + (p.length > 0 ? " " + p : p); continue } U = !1 } const R = OO(w).join(":"), L = E ? R + JC : R, z = L + k; if (u.includes(z)) continue; u.push(z); const $ = o(k, U); for (let J = 0; J < $.length; ++J) { const Q = $[J]; u.push(L + Q) } p = y + (p.length > 0 ? " " + p : p) } return p }; function UO() { let n = 0, e, t, i = ""; for (; n < arguments.length;)(e = arguments[n++]) && (t = ZC(e)) && (i && (i += " "), i += t); return i } const ZC = n => { if (typeof n == "string") return n; let e, t = ""; for (let i = 0; i < n.length; i++)n[i] && (e = ZC(n[i])) && (t && (t += " "), t += e); return t }; function BO(n, ...e) { let t, i, o, u = d; function d(m) { const y = e.reduce((w, E) => E(w), n()); return t = LO(y), i = t.cache.get, o = t.cache.set, u = p, p(m) } function p(m) { const y = i(m); if (y) return y; const w = jO(m, t); return o(m, w), w } return function () { return u(UO.apply(null, arguments)) } } const En = n => { const e = t => t[n] || []; return e.isThemeGetter = !0, e }, ex = /^\[(?:([a-z-]+):)?(.+)\]$/i, FO = /^\d+\/\d+$/, zO = new Set(["px", "full", "screen"]), HO = /^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/, qO = /\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/, GO = /^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/, KO = /^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/, $O = /^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/, lu = n => zp(n) || zO.has(n) || FO.test(n), Uc = n => hm(n, "length", t4), zp = n => !!n && !Number.isNaN(Number(n)), Mw = n => hm(n, "number", zp), rv = n => !!n && Number.isInteger(Number(n)), WO = n => n.endsWith("%") && zp(n.slice(0, -1)), ft = n => ex.test(n), Bc = n => HO.test(n), YO = new Set(["length", "size", "percentage"]), XO = n => hm(n, YO, tx), QO = n => hm(n, "position", tx), JO = new Set(["image", "url"]), ZO = n => hm(n, JO, i4), e4 = n => hm(n, "", n4), sv = () => !0, hm = (n, e, t) => { const i = ex.exec(n); return i ? i[1] ? typeof e == "string" ? i[1] === e : e.has(i[1]) : t(i[2]) : !1 }, t4 = n => qO.test(n) && !GO.test(n), tx = () => !1, n4 = n => KO.test(n), i4 = n => $O.test(n), r4 = () => { const n = En("colors"), e = En("spacing"), t = En("blur"), i = En("brightness"), o = En("borderColor"), u = En("borderRadius"), d = En("borderSpacing"), p = En("borderWidth"), m = En("contrast"), y = En("grayscale"), w = En("hueRotate"), E = En("invert"), C = En("gap"), N = En("gradientColorStops"), U = En("gradientColorStopPositions"), k = En("inset"), R = En("margin"), L = En("opacity"), z = En("padding"), $ = En("saturate"), J = En("scale"), Q = En("sepia"), re = En("skew"), F = En("space"), V = En("translate"), O = () => ["auto", "contain", "none"], q = () => ["auto", "hidden", "clip", "visible", "scroll"], G = () => ["auto", ft, e], K = () => [ft, e], H = () => ["", lu, Uc], ce = () => ["auto", zp, ft], xe = () => ["bottom", "center", "left", "left-bottom", "left-top", "right", "right-bottom", "right-top", "top"], se = () => ["solid", "dashed", "dotted", "double", "none"], fe = () => ["normal", "multiply", "screen", "overlay", "darken", "lighten", "color-dodge", "color-burn", "hard-light", "soft-light", "difference", "exclusion", "hue", "saturation", "color", "luminosity"], _e = () => ["start", "end", "center", "between", "around", "evenly", "stretch"], Ie = () => ["", "0", ft], X = () => ["auto", "avoid", "all", "avoid-page", "page", "left", "right", "column"], de = () => [zp, ft]; return { cacheSize: 500, separator: ":", theme: { colors: [sv], spacing: [lu, Uc], blur: ["none", "", Bc, ft], brightness: de(), borderColor: [n], borderRadius: ["none", "", "full", Bc, ft], borderSpacing: K(), borderWidth: H(), contrast: de(), grayscale: Ie(), hueRotate: de(), invert: Ie(), gap: K(), gradientColorStops: [n], gradientColorStopPositions: [WO, Uc], inset: G(), margin: G(), opacity: de(), padding: K(), saturate: de(), scale: de(), sepia: Ie(), skew: de(), space: K(), translate: K() }, classGroups: { aspect: [{ aspect: ["auto", "square", "video", ft] }], container: ["container"], columns: [{ columns: [Bc] }], "break-after": [{ "break-after": X() }], "break-before": [{ "break-before": X() }], "break-inside": [{ "break-inside": ["auto", "avoid", "avoid-page", "avoid-column"] }], "box-decoration": [{ "box-decoration": ["slice", "clone"] }], box: [{ box: ["border", "content"] }], display: ["block", "inline-block", "inline", "flex", "inline-flex", "table", "inline-table", "table-caption", "table-cell", "table-column", "table-column-group", "table-footer-group", "table-header-group", "table-row-group", "table-row", "flow-root", "grid", "inline-grid", "contents", "list-item", "hidden"], float: [{ float: ["right", "left", "none", "start", "end"] }], clear: [{ clear: ["left", "right", "both", "none", "start", "end"] }], isolation: ["isolate", "isolation-auto"], "object-fit": [{ object: ["contain", "cover", "fill", "none", "scale-down"] }], "object-position": [{ object: [...xe(), ft] }], overflow: [{ overflow: q() }], "overflow-x": [{ "overflow-x": q() }], "overflow-y": [{ "overflow-y": q() }], overscroll: [{ overscroll: O() }], "overscroll-x": [{ "overscroll-x": O() }], "overscroll-y": [{ "overscroll-y": O() }], position: ["static", "fixed", "absolute", "relative", "sticky"], inset: [{ inset: [k] }], "inset-x": [{ "inset-x": [k] }], "inset-y": [{ "inset-y": [k] }], start: [{ start: [k] }], end: [{ end: [k] }], top: [{ top: [k] }], right: [{ right: [k] }], bottom: [{ bottom: [k] }], left: [{ left: [k] }], visibility: ["visible", "invisible", "collapse"], z: [{ z: ["auto", rv, ft] }], basis: [{ basis: G() }], "flex-direction": [{ flex: ["row", "row-reverse", "col", "col-reverse"] }], "flex-wrap": [{ flex: ["wrap", "wrap-reverse", "nowrap"] }], flex: [{ flex: ["1", "auto", "initial", "none", ft] }], grow: [{ grow: Ie() }], shrink: [{ shrink: Ie() }], order: [{ order: ["first", "last", "none", rv, ft] }], "grid-cols": [{ "grid-cols": [sv] }], "col-start-end": [{ col: ["auto", { span: ["full", rv, ft] }, ft] }], "col-start": [{ "col-start": ce() }], "col-end": [{ "col-end": ce() }], "grid-rows": [{ "grid-rows": [sv] }], "row-start-end": [{ row: ["auto", { span: [rv, ft] }, ft] }], "row-start": [{ "row-start": ce() }], "row-end": [{ "row-end": ce() }], "grid-flow": [{ "grid-flow": ["row", "col", "dense", "row-dense", "col-dense"] }], "auto-cols": [{ "auto-cols": ["auto", "min", "max", "fr", ft] }], "auto-rows": [{ "auto-rows": ["auto", "min", "max", "fr", ft] }], gap: [{ gap: [C] }], "gap-x": [{ "gap-x": [C] }], "gap-y": [{ "gap-y": [C] }], "justify-content": [{ justify: ["normal", ..._e()] }], "justify-items": [{ "justify-items": ["start", "end", "center", "stretch"] }], "justify-self": [{ "justify-self": ["auto", "start", "end", "center", "stretch"] }], "align-content": [{ content: ["normal", ..._e(), "baseline"] }], "align-items": [{ items: ["start", "end", "center", "baseline", "stretch"] }], "align-self": [{ self: ["auto", "start", "end", "center", "stretch", "baseline"] }], "place-content": [{ "place-content": [..._e(), "baseline"] }], "place-items": [{ "place-items": ["start", "end", "center", "baseline", "stretch"] }], "place-self": [{ "place-self": ["auto", "start", "end", "center", "stretch"] }], p: [{ p: [z] }], px: [{ px: [z] }], py: [{ py: [z] }], ps: [{ ps: [z] }], pe: [{ pe: [z] }], pt: [{ pt: [z] }], pr: [{ pr: [z] }], pb: [{ pb: [z] }], pl: [{ pl: [z] }], m: [{ m: [R] }], mx: [{ mx: [R] }], my: [{ my: [R] }], ms: [{ ms: [R] }], me: [{ me: [R] }], mt: [{ mt: [R] }], mr: [{ mr: [R] }], mb: [{ mb: [R] }], ml: [{ ml: [R] }], "space-x": [{ "space-x": [F] }], "space-x-reverse": ["space-x-reverse"], "space-y": [{ "space-y": [F] }], "space-y-reverse": ["space-y-reverse"], w: [{ w: ["auto", "min", "max", "fit", "svw", "lvw", "dvw", ft, e] }], "min-w": [{ "min-w": [ft, e, "min", "max", "fit"] }], "max-w": [{ "max-w": [ft, e, "none", "full", "min", "max", "fit", "prose", { screen: [Bc] }, Bc] }], h: [{ h: [ft, e, "auto", "min", "max", "fit", "svh", "lvh", "dvh"] }], "min-h": [{ "min-h": [ft, e, "min", "max", "fit", "svh", "lvh", "dvh"] }], "max-h": [{ "max-h": [ft, e, "min", "max", "fit", "svh", "lvh", "dvh"] }], size: [{ size: [ft, e, "auto", "min", "max", "fit"] }], "font-size": [{ text: ["base", Bc, Uc] }], "font-smoothing": ["antialiased", "subpixel-antialiased"], "font-style": ["italic", "not-italic"], "font-weight": [{ font: ["thin", "extralight", "light", "normal", "medium", "semibold", "bold", "extrabold", "black", Mw] }], "font-family": [{ font: [sv] }], "fvn-normal": ["normal-nums"], "fvn-ordinal": ["ordinal"], "fvn-slashed-zero": ["slashed-zero"], "fvn-figure": ["lining-nums", "oldstyle-nums"], "fvn-spacing": ["proportional-nums", "tabular-nums"], "fvn-fraction": ["diagonal-fractions", "stacked-fractions"], tracking: [{ tracking: ["tighter", "tight", "normal", "wide", "wider", "widest", ft] }], "line-clamp": [{ "line-clamp": ["none", zp, Mw] }], leading: [{ leading: ["none", "tight", "snug", "normal", "relaxed", "loose", lu, ft] }], "list-image": [{ "list-image": ["none", ft] }], "list-style-type": [{ list: ["none", "disc", "decimal", ft] }], "list-style-position": [{ list: ["inside", "outside"] }], "placeholder-color": [{ placeholder: [n] }], "placeholder-opacity": [{ "placeholder-opacity": [L] }], "text-alignment": [{ text: ["left", "center", "right", "justify", "start", "end"] }], "text-color": [{ text: [n] }], "text-opacity": [{ "text-opacity": [L] }], "text-decoration": ["underline", "overline", "line-through", "no-underline"], "text-decoration-style": [{ decoration: [...se(), "wavy"] }], "text-decoration-thickness": [{ decoration: ["auto", "from-font", lu, Uc] }], "underline-offset": [{ "underline-offset": ["auto", lu, ft] }], "text-decoration-color": [{ decoration: [n] }], "text-transform": ["uppercase", "lowercase", "capitalize", "normal-case"], "text-overflow": ["truncate", "text-ellipsis", "text-clip"], "text-wrap": [{ text: ["wrap", "nowrap", "balance", "pretty"] }], indent: [{ indent: K() }], "vertical-align": [{ align: ["baseline", "top", "middle", "bottom", "text-top", "text-bottom", "sub", "super", ft] }], whitespace: [{ whitespace: ["normal", "nowrap", "pre", "pre-line", "pre-wrap", "break-spaces"] }], break: [{ break: ["normal", "words", "all", "keep"] }], hyphens: [{ hyphens: ["none", "manual", "auto"] }], content: [{ content: ["none", ft] }], "bg-attachment": [{ bg: ["fixed", "local", "scroll"] }], "bg-clip": [{ "bg-clip": ["border", "padding", "content", "text"] }], "bg-opacity": [{ "bg-opacity": [L] }], "bg-origin": [{ "bg-origin": ["border", "padding", "content"] }], "bg-position": [{ bg: [...xe(), QO] }], "bg-repeat": [{ bg: ["no-repeat", { repeat: ["", "x", "y", "round", "space"] }] }], "bg-size": [{ bg: ["auto", "cover", "contain", XO] }], "bg-image": [{ bg: ["none", { "gradient-to": ["t", "tr", "r", "br", "b", "bl", "l", "tl"] }, ZO] }], "bg-color": [{ bg: [n] }], "gradient-from-pos": [{ from: [U] }], "gradient-via-pos": [{ via: [U] }], "gradient-to-pos": [{ to: [U] }], "gradient-from": [{ from: [N] }], "gradient-via": [{ via: [N] }], "gradient-to": [{ to: [N] }], rounded: [{ rounded: [u] }], "rounded-s": [{ "rounded-s": [u] }], "rounded-e": [{ "rounded-e": [u] }], "rounded-t": [{ "rounded-t": [u] }], "rounded-r": [{ "rounded-r": [u] }], "rounded-b": [{ "rounded-b": [u] }], "rounded-l": [{ "rounded-l": [u] }], "rounded-ss": [{ "rounded-ss": [u] }], "rounded-se": [{ "rounded-se": [u] }], "rounded-ee": [{ "rounded-ee": [u] }], "rounded-es": [{ "rounded-es": [u] }], "rounded-tl": [{ "rounded-tl": [u] }], "rounded-tr": [{ "rounded-tr": [u] }], "rounded-br": [{ "rounded-br": [u] }], "rounded-bl": [{ "rounded-bl": [u] }], "border-w": [{ border: [p] }], "border-w-x": [{ "border-x": [p] }], "border-w-y": [{ "border-y": [p] }], "border-w-s": [{ "border-s": [p] }], "border-w-e": [{ "border-e": [p] }], "border-w-t": [{ "border-t": [p] }], "border-w-r": [{ "border-r": [p] }], "border-w-b": [{ "border-b": [p] }], "border-w-l": [{ "border-l": [p] }], "border-opacity": [{ "border-opacity": [L] }], "border-style": [{ border: [...se(), "hidden"] }], "divide-x": [{ "divide-x": [p] }], "divide-x-reverse": ["divide-x-reverse"], "divide-y": [{ "divide-y": [p] }], "divide-y-reverse": ["divide-y-reverse"], "divide-opacity": [{ "divide-opacity": [L] }], "divide-style": [{ divide: se() }], "border-color": [{ border: [o] }], "border-color-x": [{ "border-x": [o] }], "border-color-y": [{ "border-y": [o] }], "border-color-s": [{ "border-s": [o] }], "border-color-e": [{ "border-e": [o] }], "border-color-t": [{ "border-t": [o] }], "border-color-r": [{ "border-r": [o] }], "border-color-b": [{ "border-b": [o] }], "border-color-l": [{ "border-l": [o] }], "divide-color": [{ divide: [o] }], "outline-style": [{ outline: ["", ...se()] }], "outline-offset": [{ "outline-offset": [lu, ft] }], "outline-w": [{ outline: [lu, Uc] }], "outline-color": [{ outline: [n] }], "ring-w": [{ ring: H() }], "ring-w-inset": ["ring-inset"], "ring-color": [{ ring: [n] }], "ring-opacity": [{ "ring-opacity": [L] }], "ring-offset-w": [{ "ring-offset": [lu, Uc] }], "ring-offset-color": [{ "ring-offset": [n] }], shadow: [{ shadow: ["", "inner", "none", Bc, e4] }], "shadow-color": [{ shadow: [sv] }], opacity: [{ opacity: [L] }], "mix-blend": [{ "mix-blend": [...fe(), "plus-lighter", "plus-darker"] }], "bg-blend": [{ "bg-blend": fe() }], filter: [{ filter: ["", "none"] }], blur: [{ blur: [t] }], brightness: [{ brightness: [i] }], contrast: [{ contrast: [m] }], "drop-shadow": [{ "drop-shadow": ["", "none", Bc, ft] }], grayscale: [{ grayscale: [y] }], "hue-rotate": [{ "hue-rotate": [w] }], invert: [{ invert: [E] }], saturate: [{ saturate: [$] }], sepia: [{ sepia: [Q] }], "backdrop-filter": [{ "backdrop-filter": ["", "none"] }], "backdrop-blur": [{ "backdrop-blur": [t] }], "backdrop-brightness": [{ "backdrop-brightness": [i] }], "backdrop-contrast": [{ "backdrop-contrast": [m] }], "backdrop-grayscale": [{ "backdrop-grayscale": [y] }], "backdrop-hue-rotate": [{ "backdrop-hue-rotate": [w] }], "backdrop-invert": [{ "backdrop-invert": [E] }], "backdrop-opacity": [{ "backdrop-opacity": [L] }], "backdrop-saturate": [{ "backdrop-saturate": [$] }], "backdrop-sepia": [{ "backdrop-sepia": [Q] }], "border-collapse": [{ border: ["collapse", "separate"] }], "border-spacing": [{ "border-spacing": [d] }], "border-spacing-x": [{ "border-spacing-x": [d] }], "border-spacing-y": [{ "border-spacing-y": [d] }], "table-layout": [{ table: ["auto", "fixed"] }], caption: [{ caption: ["top", "bottom"] }], transition: [{ transition: ["none", "all", "", "colors", "opacity", "shadow", "transform", ft] }], duration: [{ duration: de() }], ease: [{ ease: ["linear", "in", "out", "in-out", ft] }], delay: [{ delay: de() }], animate: [{ animate: ["none", "spin", "ping", "pulse", "bounce", ft] }], transform: [{ transform: ["", "gpu", "none"] }], scale: [{ scale: [J] }], "scale-x": [{ "scale-x": [J] }], "scale-y": [{ "scale-y": [J] }], rotate: [{ rotate: [rv, ft] }], "translate-x": [{ "translate-x": [V] }], "translate-y": [{ "translate-y": [V] }], "skew-x": [{ "skew-x": [re] }], "skew-y": [{ "skew-y": [re] }], "transform-origin": [{ origin: ["center", "top", "top-right", "right", "bottom-right", "bottom", "bottom-left", "left", "top-left", ft] }], accent: [{ accent: ["auto", n] }], appearance: [{ appearance: ["none", "auto"] }], cursor: [{ cursor: ["auto", "default", "pointer", "wait", "text", "move", "help", "not-allowed", "none", "context-menu", "progress", "cell", "crosshair", "vertical-text", "alias", "copy", "no-drop", "grab", "grabbing", "all-scroll", "col-resize", "row-resize", "n-resize", "e-resize", "s-resize", "w-resize", "ne-resize", "nw-resize", "se-resize", "sw-resize", "ew-resize", "ns-resize", "nesw-resize", "nwse-resize", "zoom-in", "zoom-out", ft] }], "caret-color": [{ caret: [n] }], "pointer-events": [{ "pointer-events": ["none", "auto"] }], resize: [{ resize: ["none", "y", "x", ""] }], "scroll-behavior": [{ scroll: ["auto", "smooth"] }], "scroll-m": [{ "scroll-m": K() }], "scroll-mx": [{ "scroll-mx": K() }], "scroll-my": [{ "scroll-my": K() }], "scroll-ms": [{ "scroll-ms": K() }], "scroll-me": [{ "scroll-me": K() }], "scroll-mt": [{ "scroll-mt": K() }], "scroll-mr": [{ "scroll-mr": K() }], "scroll-mb": [{ "scroll-mb": K() }], "scroll-ml": [{ "scroll-ml": K() }], "scroll-p": [{ "scroll-p": K() }], "scroll-px": [{ "scroll-px": K() }], "scroll-py": [{ "scroll-py": K() }], "scroll-ps": [{ "scroll-ps": K() }], "scroll-pe": [{ "scroll-pe": K() }], "scroll-pt": [{ "scroll-pt": K() }], "scroll-pr": [{ "scroll-pr": K() }], "scroll-pb": [{ "scroll-pb": K() }], "scroll-pl": [{ "scroll-pl": K() }], "snap-align": [{ snap: ["start", "end", "center", "align-none"] }], "snap-stop": [{ snap: ["normal", "always"] }], "snap-type": [{ snap: ["none", "x", "y", "both"] }], "snap-strictness": [{ snap: ["mandatory", "proximity"] }], touch: [{ touch: ["auto", "none", "manipulation"] }], "touch-x": [{ "touch-pan": ["x", "left", "right"] }], "touch-y": [{ "touch-pan": ["y", "up", "down"] }], "touch-pz": ["touch-pinch-zoom"], select: [{ select: ["none", "text", "all", "auto"] }], "will-change": [{ "will-change": ["auto", "scroll", "contents", "transform", ft] }], fill: [{ fill: [n, "none"] }], "stroke-w": [{ stroke: [lu, Uc, Mw] }], stroke: [{ stroke: [n, "none"] }], sr: ["sr-only", "not-sr-only"], "forced-color-adjust": [{ "forced-color-adjust": ["auto", "none"] }] }, conflictingClassGroups: { overflow: ["overflow-x", "overflow-y"], overscroll: ["overscroll-x", "overscroll-y"], inset: ["inset-x", "inset-y", "start", "end", "top", "right", "bottom", "left"], "inset-x": ["right", "left"], "inset-y": ["top", "bottom"], flex: ["basis", "grow", "shrink"], gap: ["gap-x", "gap-y"], p: ["px", "py", "ps", "pe", "pt", "pr", "pb", "pl"], px: ["pr", "pl"], py: ["pt", "pb"], m: ["mx", "my", "ms", "me", "mt", "mr", "mb", "ml"], mx: ["mr", "ml"], my: ["mt", "mb"], size: ["w", "h"], "font-size": ["leading"], "fvn-normal": ["fvn-ordinal", "fvn-slashed-zero", "fvn-figure", "fvn-spacing", "fvn-fraction"], "fvn-ordinal": ["fvn-normal"], "fvn-slashed-zero": ["fvn-normal"], "fvn-figure": ["fvn-normal"], "fvn-spacing": ["fvn-normal"], "fvn-fraction": ["fvn-normal"], "line-clamp": ["display", "overflow"], rounded: ["rounded-s", "rounded-e", "rounded-t", "rounded-r", "rounded-b", "rounded-l", "rounded-ss", "rounded-se", "rounded-ee", "rounded-es", "rounded-tl", "rounded-tr", "rounded-br", "rounded-bl"], "rounded-s": ["rounded-ss", "rounded-es"], "rounded-e": ["rounded-se", "rounded-ee"], "rounded-t": ["rounded-tl", "rounded-tr"], "rounded-r": ["rounded-tr", "rounded-br"], "rounded-b": ["rounded-br", "rounded-bl"], "rounded-l": ["rounded-tl", "rounded-bl"], "border-spacing": ["border-spacing-x", "border-spacing-y"], "border-w": ["border-w-s", "border-w-e", "border-w-t", "border-w-r", "border-w-b", "border-w-l"], "border-w-x": ["border-w-r", "border-w-l"], "border-w-y": ["border-w-t", "border-w-b"], "border-color": ["border-color-s", "border-color-e", "border-color-t", "border-color-r", "border-color-b", "border-color-l"], "border-color-x": ["border-color-r", "border-color-l"], "border-color-y": ["border-color-t", "border-color-b"], "scroll-m": ["scroll-mx", "scroll-my", "scroll-ms", "scroll-me", "scroll-mt", "scroll-mr", "scroll-mb", "scroll-ml"], "scroll-mx": ["scroll-mr", "scroll-ml"], "scroll-my": ["scroll-mt", "scroll-mb"], "scroll-p": ["scroll-px", "scroll-py", "scroll-ps", "scroll-pe", "scroll-pt", "scroll-pr", "scroll-pb", "scroll-pl"], "scroll-px": ["scroll-pr", "scroll-pl"], "scroll-py": ["scroll-pt", "scroll-pb"], touch: ["touch-x", "touch-y", "touch-pz"], "touch-x": ["touch"], "touch-y": ["touch"], "touch-pz": ["touch"] }, conflictingClassGroupModifiers: { "font-size": ["leading"] } } }, s4 = BO(r4); function $n(...n) { return s4(YC(n)) } const o4 = XC("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50", { variants: { variant: { default: "bg-primary text-primary-foreground hover:bg-primary/90", destructive: "bg-destructive text-destructive-foreground hover:bg-destructive/90", outline: "border border-input bg-background hover:bg-accent hover:text-accent-foreground", secondary: "bg-secondary text-secondary-foreground hover:bg-secondary/80", ghost: "hover:bg-accent hover:text-accent-foreground", link: "text-primary underline-offset-4 hover:underline" }, size: { default: "h-10 px-4 py-2", sm: "h-9 rounded-md px-3", lg: "h-11 rounded-md px-8", icon: "h-10 w-10" } }, defaultVariants: { variant: "default", size: "default" } }), hn = I.forwardRef(({ className: n, variant: e, size: t, asChild: i = !1, ...o }, u) => { const d = i ? EO : "button"; return x.jsx(d, { className: $n(o4({ variant: e, size: t, className: n })), ref: u, ...o }) }); hn.displayName = "Button"; function In(n, e, { checkForDefaultPrevented: t = !0 } = {}) { return function (o) { if (n?.(o), t === !1 || !o.defaultPrevented) return e?.(o) } } function a4(n, e) { const t = I.createContext(e), i = u => { const { children: d, ...p } = u, m = I.useMemo(() => p, Object.values(p)); return x.jsx(t.Provider, { value: m, children: d }) }; i.displayName = n + "Provider"; function o(u) { const d = I.useContext(t); if (d) return d; if (e !== void 0) return e; throw new Error(`\`${u}\` must be used within \`${n}\``) } return [i, o] } function Cb(n, e = []) { let t = []; function i(u, d) { const p = I.createContext(d), m = t.length; t = [...t, d]; const y = E => { const { scope: C, children: N, ...U } = E, k = C?.[n]?.[m] || p, R = I.useMemo(() => U, Object.values(U)); return x.jsx(k.Provider, { value: R, children: N }) }; y.displayName = u + "Provider"; function w(E, C) { const N = C?.[n]?.[m] || p, U = I.useContext(N); if (U) return U; if (d !== void 0) return d; throw new Error(`\`${E}\` must be used within \`${u}\``) } return [y, w] } const o = () => { const u = t.map(d => I.createContext(d)); return function (p) { const m = p?.[n] || u; return I.useMemo(() => ({ [`__scope${n}`]: { ...p, [n]: m } }), [p, m]) } }; return o.scopeName = n, [i, l4(o, ...e)] } function l4(...n) { const e = n[0]; if (n.length === 1) return e; const t = () => { const i = n.map(o => ({ useScope: o(), scopeName: o.scopeName })); return function (u) { const d = i.reduce((p, { useScope: m, scopeName: y }) => { const E = m(u)[`__scope${y}`]; return { ...p, ...E } }, {}); return I.useMemo(() => ({ [`__scope${e.scopeName}`]: d }), [d]) } }; return t.scopeName = e.scopeName, t } var Bh = globalThis?.document ? I.useLayoutEffect : () => { }, u4 = P1[" useId ".trim().toString()] || (() => { }), c4 = 0; function Dw(n) { const [e, t] = I.useState(u4()); return Bh(() => { t(i => i ?? String(c4++)) }, [n]), n || (e ? `radix-${e}` : "") } var d4 = P1[" useInsertionEffect ".trim().toString()] || Bh; function B1({ prop: n, defaultProp: e, onChange: t = () => { }, caller: i }) { const [o, u, d] = h4({ defaultProp: e, onChange: t }), p = n !== void 0, m = p ? n : o; { const w = I.useRef(n !== void 0); I.useEffect(() => { const E = w.current; E !== p && console.warn(`${i} is changing from ${E ? "controlled" : "uncontrolled"} to ${p ? "controlled" : "uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`), w.current = p }, [p, i]) } const y = I.useCallback(w => { if (p) { const E = f4(w) ? w(n) : w; E !== n && d.current?.(E) } else u(w) }, [p, n, u, d]); return [m, y] } function h4({ defaultProp: n, onChange: e }) { const [t, i] = I.useState(n), o = I.useRef(t), u = I.useRef(e); return d4(() => { u.current = e }, [e]), I.useEffect(() => { o.current !== t && (u.current?.(t), o.current = t) }, [t, o]), [t, i, u] } function f4(n) { return typeof n == "function" } var p4 = ["a", "button", "div", "form", "h2", "h3", "img", "input", "label", "li", "nav", "ol", "p", "select", "span", "svg", "ul"], si = p4.reduce((n, e) => { const t = Lv(`Primitive.${e}`), i = I.forwardRef((o, u) => { const { asChild: d, ...p } = o, m = d ? t : e; return typeof window < "u" && (window[Symbol.for("radix-ui")] = !0), x.jsx(m, { ...p, ref: u }) }); return i.displayName = `Primitive.${e}`, { ...n, [e]: i } }, {}); function nx(n, e) { n && N1.flushSync(() => n.dispatchEvent(e)) } function gu(n) { const e = I.useRef(n); return I.useEffect(() => { e.current = n }), I.useMemo(() => (...t) => e.current?.(...t), []) } function m4(n, e = globalThis?.document) { const t = gu(n); I.useEffect(() => { const i = o => { o.key === "Escape" && t(o) }; return e.addEventListener("keydown", i, { capture: !0 }), () => e.removeEventListener("keydown", i, { capture: !0 }) }, [t, e]) } var g4 = "DismissableLayer", C_ = "dismissableLayer.update", v4 = "dismissableLayer.pointerDownOutside", y4 = "dismissableLayer.focusOutside", mS, ix = I.createContext({ layers: new Set, layersWithOutsidePointerEventsDisabled: new Set, branches: new Set }), F1 = I.forwardRef((n, e) => { const { disableOutsidePointerEvents: t = !1, onEscapeKeyDown: i, onPointerDownOutside: o, onFocusOutside: u, onInteractOutside: d, onDismiss: p, ...m } = n, y = I.useContext(ix), [w, E] = I.useState(null), C = w?.ownerDocument ?? globalThis?.document, [, N] = I.useState({}), U = tr(e, F => E(F)), k = Array.from(y.layers), [R] = [...y.layersWithOutsidePointerEventsDisabled].slice(-1), L = k.indexOf(R), z = w ? k.indexOf(w) : -1, $ = y.layersWithOutsidePointerEventsDisabled.size > 0, J = z >= L, Q = w4(F => { const V = F.target, O = [...y.branches].some(q => q.contains(V)); !J || O || (o?.(F), d?.(F), F.defaultPrevented || p?.()) }, C), re = _4(F => { const V = F.target;[...y.branches].some(q => q.contains(V)) || (u?.(F), d?.(F), F.defaultPrevented || p?.()) }, C); return m4(F => { z === y.layers.size - 1 && (i?.(F), !F.defaultPrevented && p && (F.preventDefault(), p())) }, C), I.useEffect(() => { if (w) return t && (y.layersWithOutsidePointerEventsDisabled.size === 0 && (mS = C.body.style.pointerEvents, C.body.style.pointerEvents = "none"), y.layersWithOutsidePointerEventsDisabled.add(w)), y.layers.add(w), gS(), () => { t && y.layersWithOutsidePointerEventsDisabled.size === 1 && (C.body.style.pointerEvents = mS) } }, [w, C, t, y]), I.useEffect(() => () => { w && (y.layers.delete(w), y.layersWithOutsidePointerEventsDisabled.delete(w), gS()) }, [w, y]), I.useEffect(() => { const F = () => N({}); return document.addEventListener(C_, F), () => document.removeEventListener(C_, F) }, []), x.jsx(si.div, { ...m, ref: U, style: { pointerEvents: $ ? J ? "auto" : "none" : void 0, ...n.style }, onFocusCapture: In(n.onFocusCapture, re.onFocusCapture), onBlurCapture: In(n.onBlurCapture, re.onBlurCapture), onPointerDownCapture: In(n.onPointerDownCapture, Q.onPointerDownCapture) }) }); F1.displayName = g4; var b4 = "DismissableLayerBranch", rx = I.forwardRef((n, e) => { const t = I.useContext(ix), i = I.useRef(null), o = tr(e, i); return I.useEffect(() => { const u = i.current; if (u) return t.branches.add(u), () => { t.branches.delete(u) } }, [t.branches]), x.jsx(si.div, { ...n, ref: o }) }); rx.displayName = b4; function w4(n, e = globalThis?.document) { const t = gu(n), i = I.useRef(!1), o = I.useRef(() => { }); return I.useEffect(() => { const u = p => { if (p.target && !i.current) { let m = function () { sx(v4, t, y, { discrete: !0 }) }; const y = { originalEvent: p }; p.pointerType === "touch" ? (e.removeEventListener("click", o.current), o.current = m, e.addEventListener("click", o.current, { once: !0 })) : m() } else e.removeEventListener("click", o.current); i.current = !1 }, d = window.setTimeout(() => { e.addEventListener("pointerdown", u) }, 0); return () => { window.clearTimeout(d), e.removeEventListener("pointerdown", u), e.removeEventListener("click", o.current) } }, [e, t]), { onPointerDownCapture: () => i.current = !0 } } function _4(n, e = globalThis?.document) { const t = gu(n), i = I.useRef(!1); return I.useEffect(() => { const o = u => { u.target && !i.current && sx(y4, t, { originalEvent: u }, { discrete: !1 }) }; return e.addEventListener("focusin", o), () => e.removeEventListener("focusin", o) }, [e, t]), { onFocusCapture: () => i.current = !0, onBlurCapture: () => i.current = !1 } } function gS() { const n = new CustomEvent(C_); document.dispatchEvent(n) } function sx(n, e, t, { discrete: i }) { const o = t.originalEvent.target, u = new CustomEvent(n, { bubbles: !1, cancelable: !0, detail: t }); e && o.addEventListener(n, e, { once: !0 }), i ? nx(o, u) : o.dispatchEvent(u) } var E4 = F1, T4 = rx, Ow = "focusScope.autoFocusOnMount", Lw = "focusScope.autoFocusOnUnmount", vS = { bubbles: !1, cancelable: !0 }, S4 = "FocusScope", ox = I.forwardRef((n, e) => { const { loop: t = !1, trapped: i = !1, onMountAutoFocus: o, onUnmountAutoFocus: u, ...d } = n, [p, m] = I.useState(null), y = gu(o), w = gu(u), E = I.useRef(null), C = tr(e, k => m(k)), N = I.useRef({ paused: !1, pause() { this.paused = !0 }, resume() { this.paused = !1 } }).current; I.useEffect(() => { if (i) { let k = function ($) { if (N.paused || !p) return; const J = $.target; p.contains(J) ? E.current = J : zc(E.current, { select: !0 }) }, R = function ($) { if (N.paused || !p) return; const J = $.relatedTarget; J !== null && (p.contains(J) || zc(E.current, { select: !0 })) }, L = function ($) { if (document.activeElement === document.body) for (const Q of $) Q.removedNodes.length > 0 && zc(p) }; document.addEventListener("focusin", k), document.addEventListener("focusout", R); const z = new MutationObserver(L); return p && z.observe(p, { childList: !0, subtree: !0 }), () => { document.removeEventListener("focusin", k), document.removeEventListener("focusout", R), z.disconnect() } } }, [i, p, N.paused]), I.useEffect(() => { if (p) { bS.add(N); const k = document.activeElement; if (!p.contains(k)) { const L = new CustomEvent(Ow, vS); p.addEventListener(Ow, y), p.dispatchEvent(L), L.defaultPrevented || (A4(k4(ax(p)), { select: !0 }), document.activeElement === k && zc(p)) } return () => { p.removeEventListener(Ow, y), setTimeout(() => { const L = new CustomEvent(Lw, vS); p.addEventListener(Lw, w), p.dispatchEvent(L), L.defaultPrevented || zc(k ?? document.body, { select: !0 }), p.removeEventListener(Lw, w), bS.remove(N) }, 0) } } }, [p, y, w, N]); const U = I.useCallback(k => { if (!t && !i || N.paused) return; const R = k.key === "Tab" && !k.altKey && !k.ctrlKey && !k.metaKey, L = document.activeElement; if (R && L) { const z = k.currentTarget, [$, J] = C4(z); $ && J ? !k.shiftKey && L === J ? (k.preventDefault(), t && zc($, { select: !0 })) : k.shiftKey && L === $ && (k.preventDefault(), t && zc(J, { select: !0 })) : L === z && k.preventDefault() } }, [t, i, N.paused]); return x.jsx(si.div, { tabIndex: -1, ...d, ref: C, onKeyDown: U }) }); ox.displayName = S4; function A4(n, { select: e = !1 } = {}) { const t = document.activeElement; for (const i of n) if (zc(i, { select: e }), document.activeElement !== t) return } function C4(n) { const e = ax(n), t = yS(e, n), i = yS(e.reverse(), n); return [t, i] } function ax(n) { const e = [], t = document.createTreeWalker(n, NodeFilter.SHOW_ELEMENT, { acceptNode: i => { const o = i.tagName === "INPUT" && i.type === "hidden"; return i.disabled || i.hidden || o ? NodeFilter.FILTER_SKIP : i.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP } }); for (; t.nextNode();)e.push(t.currentNode); return e } function yS(n, e) { for (const t of n) if (!x4(t, { upTo: e })) return t } function x4(n, { upTo: e }) { if (getComputedStyle(n).visibility === "hidden") return !0; for (; n;) { if (e !== void 0 && n === e) return !1; if (getComputedStyle(n).display === "none") return !0; n = n.parentElement } return !1 } function R4(n) { return n instanceof HTMLInputElement && "select" in n } function zc(n, { select: e = !1 } = {}) { if (n && n.focus) { const t = document.activeElement; n.focus({ preventScroll: !0 }), n !== t && R4(n) && e && n.select() } } var bS = I4(); function I4() { let n = []; return { add(e) { const t = n[0]; e !== t && t?.pause(), n = wS(n, e), n.unshift(e) }, remove(e) { n = wS(n, e), n[0]?.resume() } } } function wS(n, e) { const t = [...n], i = t.indexOf(e); return i !== -1 && t.splice(i, 1), t } function k4(n) { return n.filter(e => e.tagName !== "A") } var P4 = "Portal", z1 = I.forwardRef((n, e) => { const { container: t, ...i } = n, [o, u] = I.useState(!1); Bh(() => u(!0), []); const d = t || o && globalThis?.document?.body; return d ? mM.createPortal(x.jsx(si.div, { ...i, ref: e }), d) : null }); z1.displayName = P4; function N4(n, e) { return I.useReducer((t, i) => e[t][i] ?? t, n) } var ry = n => { const { present: e, children: t } = n, i = M4(e), o = typeof t == "function" ? t({ present: i.isPresent }) : I.Children.only(t), u = tr(i.ref, D4(o)); return typeof t == "function" || i.isPresent ? I.cloneElement(o, { ref: u }) : null }; ry.displayName = "Presence"; function M4(n) { const [e, t] = I.useState(), i = I.useRef(null), o = I.useRef(n), u = I.useRef("none"), d = n ? "mounted" : "unmounted", [p, m] = N4(d, { mounted: { UNMOUNT: "unmounted", ANIMATION_OUT: "unmountSuspended" }, unmountSuspended: { MOUNT: "mounted", ANIMATION_END: "unmounted" }, unmounted: { MOUNT: "mounted" } }); return I.useEffect(() => { const y = y0(i.current); u.current = p === "mounted" ? y : "none" }, [p]), Bh(() => { const y = i.current, w = o.current; if (w !== n) { const C = u.current, N = y0(y); n ? m("MOUNT") : N === "none" || y?.display === "none" ? m("UNMOUNT") : m(w && C !== N ? "ANIMATION_OUT" : "UNMOUNT"), o.current = n } }, [n, m]), Bh(() => { if (e) { let y; const w = e.ownerDocument.defaultView ?? window, E = N => { const k = y0(i.current).includes(N.animationName); if (N.target === e && k && (m("ANIMATION_END"), !o.current)) { const R = e.style.animationFillMode; e.style.animationFillMode = "forwards", y = w.setTimeout(() => { e.style.animationFillMode === "forwards" && (e.style.animationFillMode = R) }) } }, C = N => { N.target === e && (u.current = y0(i.current)) }; return e.addEventListener("animationstart", C), e.addEventListener("animationcancel", E), e.addEventListener("animationend", E), () => { w.clearTimeout(y), e.removeEventListener("animationstart", C), e.removeEventListener("animationcancel", E), e.removeEventListener("animationend", E) } } else m("ANIMATION_END") }, [e, m]), { isPresent: ["mounted", "unmountSuspended"].includes(p), ref: I.useCallback(y => { i.current = y ? getComputedStyle(y) : null, t(y) }, []) } } function y0(n) { return n?.animationName || "none" } function D4(n) { let e = Object.getOwnPropertyDescriptor(n.props, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning; return t ? n.ref : (e = Object.getOwnPropertyDescriptor(n, "ref")?.get, t = e && "isReactWarning" in e && e.isReactWarning, t ? n.props.ref : n.props.ref || n.ref) } var Vw = 0; function O4() { I.useEffect(() => { const n = document.querySelectorAll("[data-radix-focus-guard]"); return document.body.insertAdjacentElement("afterbegin", n[0] ?? _S()), document.body.insertAdjacentElement("beforeend", n[1] ?? _S()), Vw++, () => { Vw === 1 && document.querySelectorAll("[data-radix-focus-guard]").forEach(e => e.remove()), Vw-- } }, []) } function _S() { const n = document.createElement("span"); return n.setAttribute("data-radix-focus-guard", ""), n.tabIndex = 0, n.style.outline = "none", n.style.opacity = "0", n.style.position = "fixed", n.style.pointerEvents = "none", n } var Wa = function () { return Wa = Object.assign || function (e) { for (var t, i = 1, o = arguments.length; i < o; i++) { t = arguments[i]; for (var u in t) Object.prototype.hasOwnProperty.call(t, u) && (e[u] = t[u]) } return e }, Wa.apply(this, arguments) }; function sy(n, e) { var t = {}; for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && e.indexOf(i) < 0 && (t[i] = n[i]); if (n != null && typeof Object.getOwnPropertySymbols == "function") for (var o = 0, i = Object.getOwnPropertySymbols(n); o < i.length; o++)e.indexOf(i[o]) < 0 && Object.prototype.propertyIsEnumerable.call(n, i[o]) && (t[i[o]] = n[i[o]]); return t } function L4(n, e, t) { if (t || arguments.length === 2) for (var i = 0, o = e.length, u; i < o; i++)(u || !(i in e)) && (u || (u = Array.prototype.slice.call(e, 0, i)), u[i] = e[i]); return n.concat(u || Array.prototype.slice.call(e)) } var D0 = "right-scroll-bar-position", O0 = "width-before-scroll-bar", V4 = "with-scroll-bars-hidden", j4 = "--removed-body-scroll-bar-size"; function jw(n, e) { return typeof n == "function" ? n(e) : n && (n.current = e), n } function U4(n, e) { var t = I.useState(function () { return { value: n, callback: e, facade: { get current() { return t.value }, set current(i) { var o = t.value; o !== i && (t.value = i, t.callback(i, o)) } } } })[0]; return t.callback = e, t.facade } var B4 = typeof window < "u" ? I.useLayoutEffect : I.useEffect, ES = new WeakMap; function F4(n, e) { var t = U4(null, function (i) { return n.forEach(function (o) { return jw(o, i) }) }); return B4(function () { var i = ES.get(t); if (i) { var o = new Set(i), u = new Set(n), d = t.current; o.forEach(function (p) { u.has(p) || jw(p, null) }), u.forEach(function (p) { o.has(p) || jw(p, d) }) } ES.set(t, n) }, [n]), t } function z4(n) { return n } function H4(n, e) { e === void 0 && (e = z4); var t = [], i = !1, o = { read: function () { if (i) throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`."); return t.length ? t[t.length - 1] : n }, useMedium: function (u) { var d = e(u, i); return t.push(d), function () { t = t.filter(function (p) { return p !== d }) } }, assignSyncMedium: function (u) { for (i = !0; t.length;) { var d = t; t = [], d.forEach(u) } t = { push: function (p) { return u(p) }, filter: function () { return t } } }, assignMedium: function (u) { i = !0; var d = []; if (t.length) { var p = t; t = [], p.forEach(u), d = t } var m = function () { var w = d; d = [], w.forEach(u) }, y = function () { return Promise.resolve().then(m) }; y(), t = { push: function (w) { d.push(w), y() }, filter: function (w) { return d = d.filter(w), t } } } }; return o } function q4(n) { n === void 0 && (n = {}); var e = H4(null); return e.options = Wa({ async: !0, ssr: !1 }, n), e } var lx = function (n) { var e = n.sideCar, t = sy(n, ["sideCar"]); if (!e) throw new Error("Sidecar: please provide `sideCar` property to import the right car"); var i = e.read(); if (!i) throw new Error("Sidecar medium not found"); return I.createElement(i, Wa({}, t)) }; lx.isSideCarExport = !0; function G4(n, e) { return n.useMedium(e), lx } var ux = q4(), Uw = function () { }, xb = I.forwardRef(function (n, e) { var t = I.useRef(null), i = I.useState({ onScrollCapture: Uw, onWheelCapture: Uw, onTouchMoveCapture: Uw }), o = i[0], u = i[1], d = n.forwardProps, p = n.children, m = n.className, y = n.removeScrollBar, w = n.enabled, E = n.shards, C = n.sideCar, N = n.noRelative, U = n.noIsolation, k = n.inert, R = n.allowPinchZoom, L = n.as, z = L === void 0 ? "div" : L, $ = n.gapMode, J = sy(n, ["forwardProps", "children", "className", "removeScrollBar", "enabled", "shards", "sideCar", "noRelative", "noIsolation", "inert", "allowPinchZoom", "as", "gapMode"]), Q = C, re = F4([t, e]), F = Wa(Wa({}, J), o); return I.createElement(I.Fragment, null, w && I.createElement(Q, { sideCar: ux, removeScrollBar: y, shards: E, noRelative: N, noIsolation: U, inert: k, setCallbacks: u, allowPinchZoom: !!R, lockRef: t, gapMode: $ }), d ? I.cloneElement(I.Children.only(p), Wa(Wa({}, F), { ref: re })) : I.createElement(z, Wa({}, F, { className: m, ref: re }), p)) }); xb.defaultProps = { enabled: !0, removeScrollBar: !0, inert: !1 }; xb.classNames = { fullWidth: O0, zeroRight: D0 }; var K4 = function () { if (typeof __webpack_nonce__ < "u") return __webpack_nonce__ }; function $4() { if (!document) return null; var n = document.createElement("style"); n.type = "text/css"; var e = K4(); return e && n.setAttribute("nonce", e), n } function W4(n, e) { n.styleSheet ? n.styleSheet.cssText = e : n.appendChild(document.createTextNode(e)) } function Y4(n) { var e = document.head || document.getElementsByTagName("head")[0]; e.appendChild(n) } var X4 = function () { var n = 0, e = null; return { add: function (t) { n == 0 && (e = $4()) && (W4(e, t), Y4(e)), n++ }, remove: function () { n--, !n && e && (e.parentNode && e.parentNode.removeChild(e), e = null) } } }, Q4 = function () { var n = X4(); return function (e, t) { I.useEffect(function () { return n.add(e), function () { n.remove() } }, [e && t]) } }, cx = function () { var n = Q4(), e = function (t) { var i = t.styles, o = t.dynamic; return n(i, o), null }; return e }, J4 = { left: 0, top: 0, right: 0, gap: 0 }, Bw = function (n) { return parseInt(n || "", 10) || 0 }, Z4 = function (n) { var e = window.getComputedStyle(document.body), t = e[n === "padding" ? "paddingLeft" : "marginLeft"], i = e[n === "padding" ? "paddingTop" : "marginTop"], o = e[n === "padding" ? "paddingRight" : "marginRight"]; return [Bw(t), Bw(i), Bw(o)] }, eL = function (n) { if (n === void 0 && (n = "margin"), typeof window > "u") return J4; var e = Z4(n), t = document.documentElement.clientWidth, i = window.innerWidth; return { left: e[0], top: e[1], right: e[2], gap: Math.max(0, i - t + e[2] - e[0]) } }, tL = cx(), Hp = "data-scroll-locked", nL = function (n, e, t, i) {
  var o = n.left, u = n.top, d = n.right, p = n.gap; return t === void 0 && (t = "margin"), `
  .`.concat(V4, ` {
   overflow: hidden `).concat(i, `;
   padding-right: `).concat(p, "px ").concat(i, `;
  }
  body[`).concat(Hp, `] {
    overflow: hidden `).concat(i, `;
    overscroll-behavior: contain;
    `).concat([e && "position: relative ".concat(i, ";"), t === "margin" && `
    padding-left: `.concat(o, `px;
    padding-top: `).concat(u, `px;
    padding-right: `).concat(d, `px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p, "px ").concat(i, `;
    `), t === "padding" && "padding-right: ".concat(p, "px ").concat(i, ";")].filter(Boolean).join(""), `
  }
  
  .`).concat(D0, ` {
    right: `).concat(p, "px ").concat(i, `;
  }
  
  .`).concat(O0, ` {
    margin-right: `).concat(p, "px ").concat(i, `;
  }
  
  .`).concat(D0, " .").concat(D0, ` {
    right: 0 `).concat(i, `;
  }
  
  .`).concat(O0, " .").concat(O0, ` {
    margin-right: 0 `).concat(i, `;
  }
  
  body[`).concat(Hp, `] {
    `).concat(j4, ": ").concat(p, `px;
  }
`)
}, TS = function () { var n = parseInt(document.body.getAttribute(Hp) || "0", 10); return isFinite(n) ? n : 0 }, iL = function () { I.useEffect(function () { return document.body.setAttribute(Hp, (TS() + 1).toString()), function () { var n = TS() - 1; n <= 0 ? document.body.removeAttribute(Hp) : document.body.setAttribute(Hp, n.toString()) } }, []) }, rL = function (n) { var e = n.noRelative, t = n.noImportant, i = n.gapMode, o = i === void 0 ? "margin" : i; iL(); var u = I.useMemo(function () { return eL(o) }, [o]); return I.createElement(tL, { styles: nL(u, !e, o, t ? "" : "!important") }) }, x_ = !1; if (typeof window < "u") try { var b0 = Object.defineProperty({}, "passive", { get: function () { return x_ = !0, !0 } }); window.addEventListener("test", b0, b0), window.removeEventListener("test", b0, b0) } catch { x_ = !1 } var Rp = x_ ? { passive: !1 } : !1, sL = function (n) { return n.tagName === "TEXTAREA" }, dx = function (n, e) { if (!(n instanceof Element)) return !1; var t = window.getComputedStyle(n); return t[e] !== "hidden" && !(t.overflowY === t.overflowX && !sL(n) && t[e] === "visible") }, oL = function (n) { return dx(n, "overflowY") }, aL = function (n) { return dx(n, "overflowX") }, SS = function (n, e) { var t = e.ownerDocument, i = e; do { typeof ShadowRoot < "u" && i instanceof ShadowRoot && (i = i.host); var o = hx(n, i); if (o) { var u = fx(n, i), d = u[1], p = u[2]; if (d > p) return !0 } i = i.parentNode } while (i && i !== t.body); return !1 }, lL = function (n) { var e = n.scrollTop, t = n.scrollHeight, i = n.clientHeight; return [e, t, i] }, uL = function (n) { var e = n.scrollLeft, t = n.scrollWidth, i = n.clientWidth; return [e, t, i] }, hx = function (n, e) { return n === "v" ? oL(e) : aL(e) }, fx = function (n, e) { return n === "v" ? lL(e) : uL(e) }, cL = function (n, e) { return n === "h" && e === "rtl" ? -1 : 1 }, dL = function (n, e, t, i, o) { var u = cL(n, window.getComputedStyle(e).direction), d = u * i, p = t.target, m = e.contains(p), y = !1, w = d > 0, E = 0, C = 0; do { if (!p) break; var N = fx(n, p), U = N[0], k = N[1], R = N[2], L = k - R - u * U; (U || L) && hx(n, p) && (E += L, C += U); var z = p.parentNode; p = z && z.nodeType === Node.DOCUMENT_FRAGMENT_NODE ? z.host : z } while (!m && p !== document.body || m && (e.contains(p) || e === p)); return (w && Math.abs(E) < 1 || !w && Math.abs(C) < 1) && (y = !0), y }, w0 = function (n) { return "changedTouches" in n ? [n.changedTouches[0].clientX, n.changedTouches[0].clientY] : [0, 0] }, AS = function (n) { return [n.deltaX, n.deltaY] }, CS = function (n) { return n && "current" in n ? n.current : n }, hL = function (n, e) { return n[0] === e[0] && n[1] === e[1] }, fL = function (n) {
  return `
  .block-interactivity-`.concat(n, ` {pointer-events: none;}
  .allow-interactivity-`).concat(n, ` {pointer-events: all;}
`)
}, pL = 0, Ip = []; function mL(n) { var e = I.useRef([]), t = I.useRef([0, 0]), i = I.useRef(), o = I.useState(pL++)[0], u = I.useState(cx)[0], d = I.useRef(n); I.useEffect(function () { d.current = n }, [n]), I.useEffect(function () { if (n.inert) { document.body.classList.add("block-interactivity-".concat(o)); var k = L4([n.lockRef.current], (n.shards || []).map(CS), !0).filter(Boolean); return k.forEach(function (R) { return R.classList.add("allow-interactivity-".concat(o)) }), function () { document.body.classList.remove("block-interactivity-".concat(o)), k.forEach(function (R) { return R.classList.remove("allow-interactivity-".concat(o)) }) } } }, [n.inert, n.lockRef.current, n.shards]); var p = I.useCallback(function (k, R) { if ("touches" in k && k.touches.length === 2 || k.type === "wheel" && k.ctrlKey) return !d.current.allowPinchZoom; var L = w0(k), z = t.current, $ = "deltaX" in k ? k.deltaX : z[0] - L[0], J = "deltaY" in k ? k.deltaY : z[1] - L[1], Q, re = k.target, F = Math.abs($) > Math.abs(J) ? "h" : "v"; if ("touches" in k && F === "h" && re.type === "range") return !1; var V = SS(F, re); if (!V) return !0; if (V ? Q = F : (Q = F === "v" ? "h" : "v", V = SS(F, re)), !V) return !1; if (!i.current && "changedTouches" in k && ($ || J) && (i.current = Q), !Q) return !0; var O = i.current || Q; return dL(O, R, k, O === "h" ? $ : J) }, []), m = I.useCallback(function (k) { var R = k; if (!(!Ip.length || Ip[Ip.length - 1] !== u)) { var L = "deltaY" in R ? AS(R) : w0(R), z = e.current.filter(function (Q) { return Q.name === R.type && (Q.target === R.target || R.target === Q.shadowParent) && hL(Q.delta, L) })[0]; if (z && z.should) { R.cancelable && R.preventDefault(); return } if (!z) { var $ = (d.current.shards || []).map(CS).filter(Boolean).filter(function (Q) { return Q.contains(R.target) }), J = $.length > 0 ? p(R, $[0]) : !d.current.noIsolation; J && R.cancelable && R.preventDefault() } } }, []), y = I.useCallback(function (k, R, L, z) { var $ = { name: k, delta: R, target: L, should: z, shadowParent: gL(L) }; e.current.push($), setTimeout(function () { e.current = e.current.filter(function (J) { return J !== $ }) }, 1) }, []), w = I.useCallback(function (k) { t.current = w0(k), i.current = void 0 }, []), E = I.useCallback(function (k) { y(k.type, AS(k), k.target, p(k, n.lockRef.current)) }, []), C = I.useCallback(function (k) { y(k.type, w0(k), k.target, p(k, n.lockRef.current)) }, []); I.useEffect(function () { return Ip.push(u), n.setCallbacks({ onScrollCapture: E, onWheelCapture: E, onTouchMoveCapture: C }), document.addEventListener("wheel", m, Rp), document.addEventListener("touchmove", m, Rp), document.addEventListener("touchstart", w, Rp), function () { Ip = Ip.filter(function (k) { return k !== u }), document.removeEventListener("wheel", m, Rp), document.removeEventListener("touchmove", m, Rp), document.removeEventListener("touchstart", w, Rp) } }, []); var N = n.removeScrollBar, U = n.inert; return I.createElement(I.Fragment, null, U ? I.createElement(u, { styles: fL(o) }) : null, N ? I.createElement(rL, { noRelative: n.noRelative, gapMode: n.gapMode }) : null) } function gL(n) { for (var e = null; n !== null;)n instanceof ShadowRoot && (e = n.host, n = n.host), n = n.parentNode; return e } const vL = G4(ux, mL); var px = I.forwardRef(function (n, e) { return I.createElement(xb, Wa({}, n, { ref: e, sideCar: vL })) }); px.classNames = xb.classNames; var yL = function (n) { if (typeof document > "u") return null; var e = Array.isArray(n) ? n[0] : n; return e.ownerDocument.body }, kp = new WeakMap, _0 = new WeakMap, E0 = {}, Fw = 0, mx = function (n) { return n && (n.host || mx(n.parentNode)) }, bL = function (n, e) { return e.map(function (t) { if (n.contains(t)) return t; var i = mx(t); return i && n.contains(i) ? i : (console.error("aria-hidden", t, "in not contained inside", n, ". Doing nothing"), null) }).filter(function (t) { return !!t }) }, wL = function (n, e, t, i) { var o = bL(e, Array.isArray(n) ? n : [n]); E0[t] || (E0[t] = new WeakMap); var u = E0[t], d = [], p = new Set, m = new Set(o), y = function (E) { !E || p.has(E) || (p.add(E), y(E.parentNode)) }; o.forEach(y); var w = function (E) { !E || m.has(E) || Array.prototype.forEach.call(E.children, function (C) { if (p.has(C)) w(C); else try { var N = C.getAttribute(i), U = N !== null && N !== "false", k = (kp.get(C) || 0) + 1, R = (u.get(C) || 0) + 1; kp.set(C, k), u.set(C, R), d.push(C), k === 1 && U && _0.set(C, !0), R === 1 && C.setAttribute(t, "true"), U || C.setAttribute(i, "true") } catch (L) { console.error("aria-hidden: cannot operate on ", C, L) } }) }; return w(e), p.clear(), Fw++, function () { d.forEach(function (E) { var C = kp.get(E) - 1, N = u.get(E) - 1; kp.set(E, C), u.set(E, N), C || (_0.has(E) || E.removeAttribute(i), _0.delete(E)), N || E.removeAttribute(t) }), Fw--, Fw || (kp = new WeakMap, kp = new WeakMap, _0 = new WeakMap, E0 = {}) } }, _L = function (n, e, t) { t === void 0 && (t = "data-aria-hidden"); var i = Array.from(Array.isArray(n) ? n : [n]), o = yL(n); return o ? (i.push.apply(i, Array.from(o.querySelectorAll("[aria-live], script"))), wL(i, o, t, "aria-hidden")) : function () { return null } }, Rb = "Dialog", [gx, oK] = Cb(Rb), [EL, ia] = gx(Rb), vx = n => { const { __scopeDialog: e, children: t, open: i, defaultOpen: o, onOpenChange: u, modal: d = !0 } = n, p = I.useRef(null), m = I.useRef(null), [y, w] = B1({ prop: i, defaultProp: o ?? !1, onChange: u, caller: Rb }); return x.jsx(EL, { scope: e, triggerRef: p, contentRef: m, contentId: Dw(), titleId: Dw(), descriptionId: Dw(), open: y, onOpenChange: w, onOpenToggle: I.useCallback(() => w(E => !E), [w]), modal: d, children: t }) }; vx.displayName = Rb; var yx = "DialogTrigger", TL = I.forwardRef((n, e) => { const { __scopeDialog: t, ...i } = n, o = ia(yx, t), u = tr(e, o.triggerRef); return x.jsx(si.button, { type: "button", "aria-haspopup": "dialog", "aria-expanded": o.open, "aria-controls": o.contentId, "data-state": G1(o.open), ...i, ref: u, onClick: In(n.onClick, o.onOpenToggle) }) }); TL.displayName = yx; var H1 = "DialogPortal", [SL, bx] = gx(H1, { forceMount: void 0 }), wx = n => { const { __scopeDialog: e, forceMount: t, children: i, container: o } = n, u = ia(H1, e); return x.jsx(SL, { scope: e, forceMount: t, children: I.Children.map(i, d => x.jsx(ry, { present: t || u.open, children: x.jsx(z1, { asChild: !0, container: o, children: d }) })) }) }; wx.displayName = H1; var J0 = "DialogOverlay", _x = I.forwardRef((n, e) => { const t = bx(J0, n.__scopeDialog), { forceMount: i = t.forceMount, ...o } = n, u = ia(J0, n.__scopeDialog); return u.modal ? x.jsx(ry, { present: i || u.open, children: x.jsx(CL, { ...o, ref: e }) }) : null }); _x.displayName = J0; var AL = Lv("DialogOverlay.RemoveScroll"), CL = I.forwardRef((n, e) => { const { __scopeDialog: t, ...i } = n, o = ia(J0, t); return x.jsx(px, { as: AL, allowPinchZoom: !0, shards: [o.contentRef], children: x.jsx(si.div, { "data-state": G1(o.open), ...i, ref: e, style: { pointerEvents: "auto", ...i.style } }) }) }), Fh = "DialogContent", Ex = I.forwardRef((n, e) => { const t = bx(Fh, n.__scopeDialog), { forceMount: i = t.forceMount, ...o } = n, u = ia(Fh, n.__scopeDialog); return x.jsx(ry, { present: i || u.open, children: u.modal ? x.jsx(xL, { ...o, ref: e }) : x.jsx(RL, { ...o, ref: e }) }) }); Ex.displayName = Fh; var xL = I.forwardRef((n, e) => { const t = ia(Fh, n.__scopeDialog), i = I.useRef(null), o = tr(e, t.contentRef, i); return I.useEffect(() => { const u = i.current; if (u) return _L(u) }, []), x.jsx(Tx, { ...n, ref: o, trapFocus: t.open, disableOutsidePointerEvents: !0, onCloseAutoFocus: In(n.onCloseAutoFocus, u => { u.preventDefault(), t.triggerRef.current?.focus() }), onPointerDownOutside: In(n.onPointerDownOutside, u => { const d = u.detail.originalEvent, p = d.button === 0 && d.ctrlKey === !0; (d.button === 2 || p) && u.preventDefault() }), onFocusOutside: In(n.onFocusOutside, u => u.preventDefault()) }) }), RL = I.forwardRef((n, e) => { const t = ia(Fh, n.__scopeDialog), i = I.useRef(!1), o = I.useRef(!1); return x.jsx(Tx, { ...n, ref: e, trapFocus: !1, disableOutsidePointerEvents: !1, onCloseAutoFocus: u => { n.onCloseAutoFocus?.(u), u.defaultPrevented || (i.current || t.triggerRef.current?.focus(), u.preventDefault()), i.current = !1, o.current = !1 }, onInteractOutside: u => { n.onInteractOutside?.(u), u.defaultPrevented || (i.current = !0, u.detail.originalEvent.type === "pointerdown" && (o.current = !0)); const d = u.target; t.triggerRef.current?.contains(d) && u.preventDefault(), u.detail.originalEvent.type === "focusin" && o.current && u.preventDefault() } }) }), Tx = I.forwardRef((n, e) => { const { __scopeDialog: t, trapFocus: i, onOpenAutoFocus: o, onCloseAutoFocus: u, ...d } = n, p = ia(Fh, t), m = I.useRef(null), y = tr(e, m); return O4(), x.jsxs(x.Fragment, { children: [x.jsx(ox, { asChild: !0, loop: !0, trapped: i, onMountAutoFocus: o, onUnmountAutoFocus: u, children: x.jsx(F1, { role: "dialog", id: p.contentId, "aria-describedby": p.descriptionId, "aria-labelledby": p.titleId, "data-state": G1(p.open), ...d, ref: y, onDismiss: () => p.onOpenChange(!1) }) }), x.jsxs(x.Fragment, { children: [x.jsx(IL, { titleId: p.titleId }), x.jsx(PL, { contentRef: m, descriptionId: p.descriptionId })] })] }) }), q1 = "DialogTitle", Sx = I.forwardRef((n, e) => { const { __scopeDialog: t, ...i } = n, o = ia(q1, t); return x.jsx(si.h2, { id: o.titleId, ...i, ref: e }) }); Sx.displayName = q1; var Ax = "DialogDescription", Cx = I.forwardRef((n, e) => { const { __scopeDialog: t, ...i } = n, o = ia(Ax, t); return x.jsx(si.p, { id: o.descriptionId, ...i, ref: e }) }); Cx.displayName = Ax; var xx = "DialogClose", Rx = I.forwardRef((n, e) => { const { __scopeDialog: t, ...i } = n, o = ia(xx, t); return x.jsx(si.button, { type: "button", ...i, ref: e, onClick: In(n.onClick, () => o.onOpenChange(!1)) }) }); Rx.displayName = xx; function G1(n) { return n ? "open" : "closed" } var Ix = "DialogTitleWarning", [aK, kx] = a4(Ix, { contentName: Fh, titleName: q1, docsSlug: "dialog" }), IL = ({ titleId: n }) => {
  const e = kx(Ix), t = `\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`; return I.useEffect(() => { n && (document.getElementById(n) || console.error(t)) }, [t, n]), null
}, kL = "DialogDescriptionWarning", PL = ({ contentRef: n, descriptionId: e }) => { const i = `Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${kx(kL).contentName}}.`; return I.useEffect(() => { const o = n.current?.getAttribute("aria-describedby"); e && o && (document.getElementById(e) || console.warn(i)) }, [i, n, e]), null }, NL = vx, ML = wx, Px = _x, Nx = Ex, Mx = Sx, Dx = Cx, DL = Rx; const Ox = NL, OL = ML, Lx = I.forwardRef(({ className: n, ...e }, t) => x.jsx(Px, { ref: t, className: $n("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0", n), ...e })); Lx.displayName = Px.displayName; const K1 = I.forwardRef(({ className: n, children: e, ...t }, i) => x.jsxs(OL, { children: [x.jsx(Lx, {}), x.jsxs(Nx, { ref: i, className: $n("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full", n), ...t, children: [e, x.jsx(DL, { className: "absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground", children: x.jsx("span", { className: "sr-only", children: "Close" }) })] })] })); K1.displayName = Nx.displayName; const $1 = ({ className: n, ...e }) => x.jsx("div", { className: $n("flex flex-col space-y-1.5 text-center sm:text-left", n), ...e }); $1.displayName = "DialogHeader"; const Vx = ({ className: n, ...e }) => x.jsx("div", { className: $n("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2", n), ...e }); Vx.displayName = "DialogFooter"; const W1 = I.forwardRef(({ className: n, ...e }, t) => x.jsx(Mx, { ref: t, className: $n("text-lg font-semibold leading-none tracking-tight", n), ...e })); W1.displayName = Mx.displayName; const Y1 = I.forwardRef(({ className: n, ...e }, t) => x.jsx(Dx, { ref: t, className: $n("text-sm text-muted-foreground", n), ...e })); Y1.displayName = Dx.displayName; var xS = {};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx = function (n) { const e = []; let t = 0; for (let i = 0; i < n.length; i++) { let o = n.charCodeAt(i); o < 128 ? e[t++] = o : o < 2048 ? (e[t++] = o >> 6 | 192, e[t++] = o & 63 | 128) : (o & 64512) === 55296 && i + 1 < n.length && (n.charCodeAt(i + 1) & 64512) === 56320 ? (o = 65536 + ((o & 1023) << 10) + (n.charCodeAt(++i) & 1023), e[t++] = o >> 18 | 240, e[t++] = o >> 12 & 63 | 128, e[t++] = o >> 6 & 63 | 128, e[t++] = o & 63 | 128) : (e[t++] = o >> 12 | 224, e[t++] = o >> 6 & 63 | 128, e[t++] = o & 63 | 128) } return e }, LL = function (n) { const e = []; let t = 0, i = 0; for (; t < n.length;) { const o = n[t++]; if (o < 128) e[i++] = String.fromCharCode(o); else if (o > 191 && o < 224) { const u = n[t++]; e[i++] = String.fromCharCode((o & 31) << 6 | u & 63) } else if (o > 239 && o < 365) { const u = n[t++], d = n[t++], p = n[t++], m = ((o & 7) << 18 | (u & 63) << 12 | (d & 63) << 6 | p & 63) - 65536; e[i++] = String.fromCharCode(55296 + (m >> 10)), e[i++] = String.fromCharCode(56320 + (m & 1023)) } else { const u = n[t++], d = n[t++]; e[i++] = String.fromCharCode((o & 15) << 12 | (u & 63) << 6 | d & 63) } } return e.join("") }, Ux = { byteToCharMap_: null, charToByteMap_: null, byteToCharMapWebSafe_: null, charToByteMapWebSafe_: null, ENCODED_VALS_BASE: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", get ENCODED_VALS() { return this.ENCODED_VALS_BASE + "+/=" }, get ENCODED_VALS_WEBSAFE() { return this.ENCODED_VALS_BASE + "-_." }, HAS_NATIVE_SUPPORT: typeof atob == "function", encodeByteArray(n, e) { if (!Array.isArray(n)) throw Error("encodeByteArray takes an array as a parameter"); this.init_(); const t = e ? this.byteToCharMapWebSafe_ : this.byteToCharMap_, i = []; for (let o = 0; o < n.length; o += 3) { const u = n[o], d = o + 1 < n.length, p = d ? n[o + 1] : 0, m = o + 2 < n.length, y = m ? n[o + 2] : 0, w = u >> 2, E = (u & 3) << 4 | p >> 4; let C = (p & 15) << 2 | y >> 6, N = y & 63; m || (N = 64, d || (C = 64)), i.push(t[w], t[E], t[C], t[N]) } return i.join("") }, encodeString(n, e) { return this.HAS_NATIVE_SUPPORT && !e ? btoa(n) : this.encodeByteArray(jx(n), e) }, decodeString(n, e) { return this.HAS_NATIVE_SUPPORT && !e ? atob(n) : LL(this.decodeStringToByteArray(n, e)) }, decodeStringToByteArray(n, e) { this.init_(); const t = e ? this.charToByteMapWebSafe_ : this.charToByteMap_, i = []; for (let o = 0; o < n.length;) { const u = t[n.charAt(o++)], p = o < n.length ? t[n.charAt(o)] : 0; ++o; const y = o < n.length ? t[n.charAt(o)] : 64; ++o; const E = o < n.length ? t[n.charAt(o)] : 64; if (++o, u == null || p == null || y == null || E == null) throw new VL; const C = u << 2 | p >> 4; if (i.push(C), y !== 64) { const N = p << 4 & 240 | y >> 2; if (i.push(N), E !== 64) { const U = y << 6 & 192 | E; i.push(U) } } } return i }, init_() { if (!this.byteToCharMap_) { this.byteToCharMap_ = {}, this.charToByteMap_ = {}, this.byteToCharMapWebSafe_ = {}, this.charToByteMapWebSafe_ = {}; for (let n = 0; n < this.ENCODED_VALS.length; n++)this.byteToCharMap_[n] = this.ENCODED_VALS.charAt(n), this.charToByteMap_[this.byteToCharMap_[n]] = n, this.byteToCharMapWebSafe_[n] = this.ENCODED_VALS_WEBSAFE.charAt(n), this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]] = n, n >= this.ENCODED_VALS_BASE.length && (this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)] = n, this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)] = n) } } }; class VL extends Error { constructor() { super(...arguments), this.name = "DecodeBase64StringError" } } const jL = function (n) { const e = jx(n); return Ux.encodeByteArray(e, !0) }, Z0 = function (n) { return jL(n).replace(/\./g, "") }, Bx = function (n) { try { return Ux.decodeString(n, !0) } catch (e) { console.error("base64Decode failed: ", e) } return null }; function eb(n, e) { if (!(e instanceof Object)) return e; switch (e.constructor) { case Date: const t = e; return new Date(t.getTime()); case Object: n === void 0 && (n = {}); break; case Array: n = []; break; default: return e }for (const t in e) !e.hasOwnProperty(t) || !UL(t) || (n[t] = eb(n[t], e[t])); return n } function UL(n) { return n !== "__proto__" }/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx() { if (typeof self < "u") return self; if (typeof window < "u") return window; if (typeof global < "u") return global; throw new Error("Unable to locate global object.") }/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL = () => Fx().__FIREBASE_DEFAULTS__, FL = () => { if (typeof process > "u" || typeof xS > "u") return; const n = xS.__FIREBASE_DEFAULTS__; if (n) return JSON.parse(n) }, zL = () => { if (typeof document > "u") return; let n; try { n = document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/) } catch { return } const e = n && Bx(n[1]); return e && JSON.parse(e) }, Ib = () => { try { return BL() || FL() || zL() } catch (n) { console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`); return } }, zx = n => { var e, t; return (t = (e = Ib()) === null || e === void 0 ? void 0 : e.emulatorHosts) === null || t === void 0 ? void 0 : t[n] }, Hx = n => { const e = zx(n); if (!e) return; const t = e.lastIndexOf(":"); if (t <= 0 || t + 1 === e.length) throw new Error(`Invalid host ${e} with no separate hostname and port!`); const i = parseInt(e.substring(t + 1), 10); return e[0] === "[" ? [e.substring(1, t - 1), i] : [e.substring(0, t), i] }, qx = () => { var n; return (n = Ib()) === null || n === void 0 ? void 0 : n.config }, Gx = n => { var e; return (e = Ib()) === null || e === void 0 ? void 0 : e[`_${n}`] };/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL { constructor() { this.reject = () => { }, this.resolve = () => { }, this.promise = new Promise((e, t) => { this.resolve = e, this.reject = t }) } wrapCallback(e) { return (t, i) => { t ? this.reject(t) : this.resolve(i), typeof e == "function" && (this.promise.catch(() => { }), e.length === 1 ? e(t) : e(t, i)) } } }/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(n, e) { if (n.uid) throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.'); const t = { alg: "none", type: "JWT" }, i = e || "demo-project", o = n.iat || 0, u = n.sub || n.user_id; if (!u) throw new Error("mockUserToken must contain 'sub' or 'user_id' field!"); const d = Object.assign({ iss: `https://securetoken.google.com/${i}`, aud: i, iat: o, exp: o + 3600, auth_time: o, sub: u, user_id: u, firebase: { sign_in_provider: "custom", identities: {} } }, n); return [Z0(JSON.stringify(t)), Z0(JSON.stringify(d)), ""].join(".") }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi() { return typeof navigator < "u" && typeof navigator.userAgent == "string" ? navigator.userAgent : "" } function GL() { return typeof window < "u" && !!(window.cordova || window.phonegap || window.PhoneGap) && /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vi()) } function X1() { var n; const e = (n = Ib()) === null || n === void 0 ? void 0 : n.forceEnvironment; if (e === "node") return !0; if (e === "browser") return !1; try { return Object.prototype.toString.call(global.process) === "[object process]" } catch { return !1 } } function KL() { return typeof window < "u" || Kx() } function Kx() { return typeof WorkerGlobalScope < "u" && typeof self < "u" && self instanceof WorkerGlobalScope } function $L() { return typeof navigator < "u" && navigator.userAgent === "Cloudflare-Workers" } function $x() { const n = typeof chrome == "object" ? chrome.runtime : typeof browser == "object" ? browser.runtime : void 0; return typeof n == "object" && n.id !== void 0 } function Q1() { return typeof navigator == "object" && navigator.product === "ReactNative" } function Wx() { const n = vi(); return n.indexOf("MSIE ") >= 0 || n.indexOf("Trident/") >= 0 } function WL() { return !X1() && !!navigator.userAgent && navigator.userAgent.includes("Safari") && !navigator.userAgent.includes("Chrome") } function tb() { try { return typeof indexedDB == "object" } catch { return !1 } } function YL() { return new Promise((n, e) => { try { let t = !0; const i = "validate-browser-context-for-indexeddb-analytics-module", o = self.indexedDB.open(i); o.onsuccess = () => { o.result.close(), t || self.indexedDB.deleteDatabase(i), n(!0) }, o.onupgradeneeded = () => { t = !1 }, o.onerror = () => { var u; e(((u = o.error) === null || u === void 0 ? void 0 : u.message) || "") } } catch (t) { e(t) } }) }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL = "FirebaseError"; class Ur extends Error { constructor(e, t, i) { super(t), this.code = e, this.customData = i, this.name = XL, Object.setPrototypeOf(this, Ur.prototype), Error.captureStackTrace && Error.captureStackTrace(this, Qh.prototype.create) } } class Qh { constructor(e, t, i) { this.service = e, this.serviceName = t, this.errors = i } create(e, ...t) { const i = t[0] || {}, o = `${this.service}/${e}`, u = this.errors[e], d = u ? QL(u, i) : "Error", p = `${this.serviceName}: ${d} (${o}).`; return new Ur(o, p, i) } } function QL(n, e) { return n.replace(JL, (t, i) => { const o = e[i]; return o != null ? String(o) : `<${i}?>` }) } const JL = /\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(n, e) { return Object.prototype.hasOwnProperty.call(n, e) } function ZL(n) { for (const e in n) if (Object.prototype.hasOwnProperty.call(n, e)) return !1; return !0 } function nb(n, e) { if (n === e) return !0; const t = Object.keys(n), i = Object.keys(e); for (const o of t) { if (!i.includes(o)) return !1; const u = n[o], d = e[o]; if (IS(u) && IS(d)) { if (!nb(u, d)) return !1 } else if (u !== d) return !1 } for (const o of i) if (!t.includes(o)) return !1; return !0 } function IS(n) { return n !== null && typeof n == "object" }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(n) { const e = []; for (const [t, i] of Object.entries(n)) Array.isArray(i) ? i.forEach(o => { e.push(encodeURIComponent(t) + "=" + encodeURIComponent(o)) }) : e.push(encodeURIComponent(t) + "=" + encodeURIComponent(i)); return e.length ? "&" + e.join("&") : "" } function Lp(n) { const e = {}; return n.replace(/^\?/, "").split("&").forEach(i => { if (i) { const [o, u] = i.split("="); e[decodeURIComponent(o)] = decodeURIComponent(u) } }), e } function hv(n) { const e = n.indexOf("?"); if (!e) return ""; const t = n.indexOf("#", e); return n.substring(e, t > 0 ? t : void 0) } function Yx(n, e) { const t = new e3(n, e); return t.subscribe.bind(t) } class e3 { constructor(e, t) { this.observers = [], this.unsubscribes = [], this.observerCount = 0, this.task = Promise.resolve(), this.finalized = !1, this.onNoObservers = t, this.task.then(() => { e(this) }).catch(i => { this.error(i) }) } next(e) { this.forEachObserver(t => { t.next(e) }) } error(e) { this.forEachObserver(t => { t.error(e) }), this.close(e) } complete() { this.forEachObserver(e => { e.complete() }), this.close() } subscribe(e, t, i) { let o; if (e === void 0 && t === void 0 && i === void 0) throw new Error("Missing Observer."); t3(e, ["next", "error", "complete"]) ? o = e : o = { next: e, error: t, complete: i }, o.next === void 0 && (o.next = zw), o.error === void 0 && (o.error = zw), o.complete === void 0 && (o.complete = zw); const u = this.unsubscribeOne.bind(this, this.observers.length); return this.finalized && this.task.then(() => { try { this.finalError ? o.error(this.finalError) : o.complete() } catch { } }), this.observers.push(o), u } unsubscribeOne(e) { this.observers === void 0 || this.observers[e] === void 0 || (delete this.observers[e], this.observerCount -= 1, this.observerCount === 0 && this.onNoObservers !== void 0 && this.onNoObservers(this)) } forEachObserver(e) { if (!this.finalized) for (let t = 0; t < this.observers.length; t++)this.sendOne(t, e) } sendOne(e, t) { this.task.then(() => { if (this.observers !== void 0 && this.observers[e] !== void 0) try { t(this.observers[e]) } catch (i) { typeof console < "u" && console.error && console.error(i) } }) } close(e) { this.finalized || (this.finalized = !0, e !== void 0 && (this.finalError = e), this.task.then(() => { this.observers = void 0, this.onNoObservers = void 0 })) } } function t3(n, e) { if (typeof n != "object" || n === null) return !1; for (const t of e) if (t in n && typeof n[t] == "function") return !0; return !1 } function zw() { }/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(n) { return n && n._delegate ? n._delegate : n } class ol { constructor(e, t, i) { this.name = e, this.instanceFactory = t, this.type = i, this.multipleInstances = !1, this.serviceProps = {}, this.instantiationMode = "LAZY", this.onInstanceCreated = null } setInstantiationMode(e) { return this.instantiationMode = e, this } setMultipleInstances(e) { return this.multipleInstances = e, this } setServiceProps(e) { return this.serviceProps = e, this } setInstanceCreatedCallback(e) { return this.onInstanceCreated = e, this } }/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh = "[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n3 = class { constructor(e, t) { this.name = e, this.container = t, this.component = null, this.instances = new Map, this.instancesDeferred = new Map, this.instancesOptions = new Map, this.onInitCallbacks = new Map } get(e) { const t = this.normalizeInstanceIdentifier(e); if (!this.instancesDeferred.has(t)) { const i = new HL; if (this.instancesDeferred.set(t, i), this.isInitialized(t) || this.shouldAutoInitialize()) try { const o = this.getOrInitializeService({ instanceIdentifier: t }); o && i.resolve(o) } catch { } } return this.instancesDeferred.get(t).promise } getImmediate(e) { var t; const i = this.normalizeInstanceIdentifier(e?.identifier), o = (t = e?.optional) !== null && t !== void 0 ? t : !1; if (this.isInitialized(i) || this.shouldAutoInitialize()) try { return this.getOrInitializeService({ instanceIdentifier: i }) } catch (u) { if (o) return null; throw u } else { if (o) return null; throw Error(`Service ${this.name} is not available`) } } getComponent() { return this.component } setComponent(e) { if (e.name !== this.name) throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`); if (this.component) throw Error(`Component for ${this.name} has already been provided`); if (this.component = e, !!this.shouldAutoInitialize()) { if (r3(e)) try { this.getOrInitializeService({ instanceIdentifier: kh }) } catch { } for (const [t, i] of this.instancesDeferred.entries()) { const o = this.normalizeInstanceIdentifier(t); try { const u = this.getOrInitializeService({ instanceIdentifier: o }); i.resolve(u) } catch { } } } } clearInstance(e = kh) { this.instancesDeferred.delete(e), this.instancesOptions.delete(e), this.instances.delete(e) } async delete() { const e = Array.from(this.instances.values()); await Promise.all([...e.filter(t => "INTERNAL" in t).map(t => t.INTERNAL.delete()), ...e.filter(t => "_delete" in t).map(t => t._delete())]) } isComponentSet() { return this.component != null } isInitialized(e = kh) { return this.instances.has(e) } getOptions(e = kh) { return this.instancesOptions.get(e) || {} } initialize(e = {}) { const { options: t = {} } = e, i = this.normalizeInstanceIdentifier(e.instanceIdentifier); if (this.isInitialized(i)) throw Error(`${this.name}(${i}) has already been initialized`); if (!this.isComponentSet()) throw Error(`Component ${this.name} has not been registered yet`); const o = this.getOrInitializeService({ instanceIdentifier: i, options: t }); for (const [u, d] of this.instancesDeferred.entries()) { const p = this.normalizeInstanceIdentifier(u); i === p && d.resolve(o) } return o } onInit(e, t) { var i; const o = this.normalizeInstanceIdentifier(t), u = (i = this.onInitCallbacks.get(o)) !== null && i !== void 0 ? i : new Set; u.add(e), this.onInitCallbacks.set(o, u); const d = this.instances.get(o); return d && e(d, o), () => { u.delete(e) } } invokeOnInitCallbacks(e, t) { const i = this.onInitCallbacks.get(t); if (i) for (const o of i) try { o(e, t) } catch { } } getOrInitializeService({ instanceIdentifier: e, options: t = {} }) { let i = this.instances.get(e); if (!i && this.component && (i = this.component.instanceFactory(this.container, { instanceIdentifier: i3(e), options: t }), this.instances.set(e, i), this.instancesOptions.set(e, t), this.invokeOnInitCallbacks(i, e), this.component.onInstanceCreated)) try { this.component.onInstanceCreated(this.container, e, i) } catch { } return i || null } normalizeInstanceIdentifier(e = kh) { return this.component ? this.component.multipleInstances ? e : kh : e } shouldAutoInitialize() { return !!this.component && this.component.instantiationMode !== "EXPLICIT" } }; function i3(n) { return n === kh ? void 0 : n } function r3(n) { return n.instantiationMode === "EAGER" }/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx { constructor(e) { this.name = e, this.providers = new Map } addComponent(e) { const t = this.getProvider(e.name); if (t.isComponentSet()) throw new Error(`Component ${e.name} has already been registered with ${this.name}`); t.setComponent(e) } addOrOverwriteComponent(e) { this.getProvider(e.name).isComponentSet() && this.providers.delete(e.name), this.addComponent(e) } getProvider(e) { if (this.providers.has(e)) return this.providers.get(e); const t = new n3(e, this); return this.providers.set(e, t), t } getProviders() { return Array.from(this.providers.values()) } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1 = []; var xt; (function (n) { n[n.DEBUG = 0] = "DEBUG", n[n.VERBOSE = 1] = "VERBOSE", n[n.INFO = 2] = "INFO", n[n.WARN = 3] = "WARN", n[n.ERROR = 4] = "ERROR", n[n.SILENT = 5] = "SILENT" })(xt || (xt = {})); const Qx = { debug: xt.DEBUG, verbose: xt.VERBOSE, info: xt.INFO, warn: xt.WARN, error: xt.ERROR, silent: xt.SILENT }, s3 = xt.INFO, o3 = { [xt.DEBUG]: "log", [xt.VERBOSE]: "log", [xt.INFO]: "info", [xt.WARN]: "warn", [xt.ERROR]: "error" }, a3 = (n, e, ...t) => { if (e < n.logLevel) return; const i = new Date().toISOString(), o = o3[e]; if (o) console[o](`[${i}]  ${n.name}:`, ...t); else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`) }; class kb { constructor(e) { this.name = e, this._logLevel = s3, this._logHandler = a3, this._userLogHandler = null, J1.push(this) } get logLevel() { return this._logLevel } set logLevel(e) { if (!(e in xt)) throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``); this._logLevel = e } setLogLevel(e) { this._logLevel = typeof e == "string" ? Qx[e] : e } get logHandler() { return this._logHandler } set logHandler(e) { if (typeof e != "function") throw new TypeError("Value assigned to `logHandler` must be a function"); this._logHandler = e } get userLogHandler() { return this._userLogHandler } set userLogHandler(e) { this._userLogHandler = e } debug(...e) { this._userLogHandler && this._userLogHandler(this, xt.DEBUG, ...e), this._logHandler(this, xt.DEBUG, ...e) } log(...e) { this._userLogHandler && this._userLogHandler(this, xt.VERBOSE, ...e), this._logHandler(this, xt.VERBOSE, ...e) } info(...e) { this._userLogHandler && this._userLogHandler(this, xt.INFO, ...e), this._logHandler(this, xt.INFO, ...e) } warn(...e) { this._userLogHandler && this._userLogHandler(this, xt.WARN, ...e), this._logHandler(this, xt.WARN, ...e) } error(...e) { this._userLogHandler && this._userLogHandler(this, xt.ERROR, ...e), this._logHandler(this, xt.ERROR, ...e) } } function l3(n) { J1.forEach(e => { e.setLogLevel(n) }) } function u3(n, e) { for (const t of J1) { let i = null; e && e.level && (i = Qx[e.level]), n === null ? t.userLogHandler = null : t.userLogHandler = (o, u, ...d) => { const p = d.map(m => { if (m == null) return null; if (typeof m == "string") return m; if (typeof m == "number" || typeof m == "boolean") return m.toString(); if (m instanceof Error) return m.message; try { return JSON.stringify(m) } catch { return null } }).filter(m => m).join(" "); u >= (i ?? o.logLevel) && n({ level: xt[u].toLowerCase(), message: p, args: d, type: o.name }) } } } const c3 = (n, e) => e.some(t => n instanceof t); let kS, PS; function d3() { return kS || (kS = [IDBDatabase, IDBObjectStore, IDBIndex, IDBCursor, IDBTransaction]) } function h3() { return PS || (PS = [IDBCursor.prototype.advance, IDBCursor.prototype.continue, IDBCursor.prototype.continuePrimaryKey]) } const Jx = new WeakMap, R_ = new WeakMap, Zx = new WeakMap, Hw = new WeakMap, Z1 = new WeakMap; function f3(n) { const e = new Promise((t, i) => { const o = () => { n.removeEventListener("success", u), n.removeEventListener("error", d) }, u = () => { t(Wc(n.result)), o() }, d = () => { i(n.error), o() }; n.addEventListener("success", u), n.addEventListener("error", d) }); return e.then(t => { t instanceof IDBCursor && Jx.set(t, n) }).catch(() => { }), Z1.set(e, n), e } function p3(n) { if (R_.has(n)) return; const e = new Promise((t, i) => { const o = () => { n.removeEventListener("complete", u), n.removeEventListener("error", d), n.removeEventListener("abort", d) }, u = () => { t(), o() }, d = () => { i(n.error || new DOMException("AbortError", "AbortError")), o() }; n.addEventListener("complete", u), n.addEventListener("error", d), n.addEventListener("abort", d) }); R_.set(n, e) } let I_ = { get(n, e, t) { if (n instanceof IDBTransaction) { if (e === "done") return R_.get(n); if (e === "objectStoreNames") return n.objectStoreNames || Zx.get(n); if (e === "store") return t.objectStoreNames[1] ? void 0 : t.objectStore(t.objectStoreNames[0]) } return Wc(n[e]) }, set(n, e, t) { return n[e] = t, !0 }, has(n, e) { return n instanceof IDBTransaction && (e === "done" || e === "store") ? !0 : e in n } }; function m3(n) { I_ = n(I_) } function g3(n) { return n === IDBDatabase.prototype.transaction && !("objectStoreNames" in IDBTransaction.prototype) ? function (e, ...t) { const i = n.call(qw(this), e, ...t); return Zx.set(i, e.sort ? e.sort() : [e]), Wc(i) } : h3().includes(n) ? function (...e) { return n.apply(qw(this), e), Wc(Jx.get(this)) } : function (...e) { return Wc(n.apply(qw(this), e)) } } function v3(n) { return typeof n == "function" ? g3(n) : (n instanceof IDBTransaction && p3(n), c3(n, d3()) ? new Proxy(n, I_) : n) } function Wc(n) { if (n instanceof IDBRequest) return f3(n); if (Hw.has(n)) return Hw.get(n); const e = v3(n); return e !== n && (Hw.set(n, e), Z1.set(e, n)), e } const qw = n => Z1.get(n); function y3(n, e, { blocked: t, upgrade: i, blocking: o, terminated: u } = {}) { const d = indexedDB.open(n, e), p = Wc(d); return i && d.addEventListener("upgradeneeded", m => { i(Wc(d.result), m.oldVersion, m.newVersion, Wc(d.transaction), m) }), t && d.addEventListener("blocked", m => t(m.oldVersion, m.newVersion, m)), p.then(m => { u && m.addEventListener("close", () => u()), o && m.addEventListener("versionchange", y => o(y.oldVersion, y.newVersion, y)) }).catch(() => { }), p } const b3 = ["get", "getKey", "getAll", "getAllKeys", "count"], w3 = ["put", "add", "delete", "clear"], Gw = new Map; function NS(n, e) { if (!(n instanceof IDBDatabase && !(e in n) && typeof e == "string")) return; if (Gw.get(e)) return Gw.get(e); const t = e.replace(/FromIndex$/, ""), i = e !== t, o = w3.includes(t); if (!(t in (i ? IDBIndex : IDBObjectStore).prototype) || !(o || b3.includes(t))) return; const u = async function (d, ...p) { const m = this.transaction(d, o ? "readwrite" : "readonly"); let y = m.store; return i && (y = y.index(p.shift())), (await Promise.all([y[t](...p), o && m.done]))[0] }; return Gw.set(e, u), u } m3(n => ({ ...n, get: (e, t, i) => NS(e, t) || n.get(e, t, i), has: (e, t) => !!NS(e, t) || n.has(e, t) }));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3 { constructor(e) { this.container = e } getPlatformInfoString() { return this.container.getProviders().map(t => { if (E3(t)) { const i = t.getImmediate(); return `${i.library}/${i.version}` } else return null }).filter(t => t).join(" ") } } function E3(n) { const e = n.getComponent(); return e?.type === "VERSION" } const ib = "@firebase/app", k_ = "0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu = new kb("@firebase/app"), T3 = "@firebase/app-compat", S3 = "@firebase/analytics-compat", A3 = "@firebase/analytics", C3 = "@firebase/app-check-compat", x3 = "@firebase/app-check", R3 = "@firebase/auth", I3 = "@firebase/auth-compat", k3 = "@firebase/database", P3 = "@firebase/data-connect", N3 = "@firebase/database-compat", M3 = "@firebase/functions", D3 = "@firebase/functions-compat", O3 = "@firebase/installations", L3 = "@firebase/installations-compat", V3 = "@firebase/messaging", j3 = "@firebase/messaging-compat", U3 = "@firebase/performance", B3 = "@firebase/performance-compat", F3 = "@firebase/remote-config", z3 = "@firebase/remote-config-compat", H3 = "@firebase/storage", q3 = "@firebase/storage-compat", G3 = "@firebase/firestore", K3 = "@firebase/vertexai-preview", $3 = "@firebase/firestore-compat", W3 = "firebase", Y3 = "10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc = "[DEFAULT]", X3 = { [ib]: "fire-core", [T3]: "fire-core-compat", [A3]: "fire-analytics", [S3]: "fire-analytics-compat", [x3]: "fire-app-check", [C3]: "fire-app-check-compat", [R3]: "fire-auth", [I3]: "fire-auth-compat", [k3]: "fire-rtdb", [P3]: "fire-data-connect", [N3]: "fire-rtdb-compat", [M3]: "fire-fn", [D3]: "fire-fn-compat", [O3]: "fire-iid", [L3]: "fire-iid-compat", [V3]: "fire-fcm", [j3]: "fire-fcm-compat", [U3]: "fire-perf", [B3]: "fire-perf-compat", [F3]: "fire-rc", [z3]: "fire-rc-compat", [H3]: "fire-gcs", [q3]: "fire-gcs-compat", [G3]: "fire-fst", [$3]: "fire-fst-compat", [K3]: "fire-vertex", "fire-js": "fire-js", [W3]: "fire-js-all" };/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc = new Map, Xp = new Map, Qp = new Map; function Vv(n, e) { try { n.container.addComponent(e) } catch (t) { vu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`, t) } } function eR(n, e) { n.container.addOrOverwriteComponent(e) } function yu(n) { const e = n.name; if (Qp.has(e)) return vu.debug(`There were multiple attempts to register component ${e}.`), !1; Qp.set(e, n); for (const t of Qc.values()) Vv(t, n); for (const t of Xp.values()) Vv(t, n); return !0 } function pm(n, e) { const t = n.container.getProvider("heartbeat").getImmediate({ optional: !0 }); return t && t.triggerHeartbeat(), n.container.getProvider(e) } function Q3(n, e, t = Xc) { pm(n, e).clearInstance(t) } function tR(n) { return n.options !== void 0 } function Gn(n) { return n.settings !== void 0 } function J3() { Qp.clear() }/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3 = { "no-app": "No Firebase App '{$appName}' has been created - call initializeApp() first", "bad-app-name": "Illegal App name: '{$appName}'", "duplicate-app": "Firebase App named '{$appName}' already exists with different options or config", "app-deleted": "Firebase App named '{$appName}' already deleted", "server-app-deleted": "Firebase Server App has been deleted", "no-options": "Need to provide options, when not being deployed to hosting via source.", "invalid-app-argument": "firebase.{$appName}() takes either no argument or a Firebase App instance.", "invalid-log-argument": "First argument to `onLog` must be null or a function.", "idb-open": "Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.", "idb-get": "Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.", "idb-set": "Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.", "idb-delete": "Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.", "finalization-registry-not-supported": "FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.", "invalid-server-app-environment": "FirebaseServerApp is not for use in browser environments." }, mo = new Qh("app", "Firebase", Z3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nR = class { constructor(e, t, i) { this._isDeleted = !1, this._options = Object.assign({}, e), this._config = Object.assign({}, t), this._name = t.name, this._automaticDataCollectionEnabled = t.automaticDataCollectionEnabled, this._container = i, this.container.addComponent(new ol("app", () => this, "PUBLIC")) } get automaticDataCollectionEnabled() { return this.checkDestroyed(), this._automaticDataCollectionEnabled } set automaticDataCollectionEnabled(e) { this.checkDestroyed(), this._automaticDataCollectionEnabled = e } get name() { return this.checkDestroyed(), this._name } get options() { return this.checkDestroyed(), this._options } get config() { return this.checkDestroyed(), this._config } get container() { return this._container } get isDeleted() { return this._isDeleted } set isDeleted(e) { this._isDeleted = e } checkDestroyed() { if (this.isDeleted) throw mo.create("app-deleted", { appName: this._name }) } };/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV extends nR { constructor(e, t, i, o) { const u = t.automaticDataCollectionEnabled !== void 0 ? t.automaticDataCollectionEnabled : !1, d = { name: i, automaticDataCollectionEnabled: u }; if (e.apiKey !== void 0) super(e, d, o); else { const p = e; super(p.options, d, o) } this._serverConfig = Object.assign({ automaticDataCollectionEnabled: u }, t), this._finalizationRegistry = null, typeof FinalizationRegistry < "u" && (this._finalizationRegistry = new FinalizationRegistry(() => { this.automaticCleanup() })), this._refCount = 0, this.incRefCount(this._serverConfig.releaseOnDeref), this._serverConfig.releaseOnDeref = void 0, t.releaseOnDeref = void 0, rs(ib, k_, "serverapp") } toJSON() { } get refCount() { return this._refCount } incRefCount(e) { this.isDeleted || (this._refCount++, e !== void 0 && this._finalizationRegistry !== null && this._finalizationRegistry.register(e, this)) } decRefCount() { return this.isDeleted ? 0 : --this._refCount } automaticCleanup() { eE(this) } get settings() { return this.checkDestroyed(), this._serverConfig } checkDestroyed() { if (this.isDeleted) throw mo.create("server-app-deleted") } }/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd = Y3; function Pb(n, e = {}) { let t = n; typeof e != "object" && (e = { name: e }); const i = Object.assign({ name: Xc, automaticDataCollectionEnabled: !1 }, e), o = i.name; if (typeof o != "string" || !o) throw mo.create("bad-app-name", { appName: String(o) }); if (t || (t = qx()), !t) throw mo.create("no-options"); const u = Qc.get(o); if (u) { if (nb(t, u.options) && nb(i, u.config)) return u; throw mo.create("duplicate-app", { appName: o }) } const d = new Xx(o); for (const m of Qp.values()) d.addComponent(m); const p = new nR(t, i, d); return Qc.set(o, p), p } function tV(n, e) { if (KL() && !Kx()) throw mo.create("invalid-server-app-environment"); e.automaticDataCollectionEnabled === void 0 && (e.automaticDataCollectionEnabled = !1); let t; tR(n) ? t = n.options : t = n; const i = Object.assign(Object.assign({}, e), t); i.releaseOnDeref !== void 0 && delete i.releaseOnDeref; const o = y => [...y].reduce((w, E) => Math.imul(31, w) + E.charCodeAt(0) | 0, 0); if (e.releaseOnDeref !== void 0 && typeof FinalizationRegistry > "u") throw mo.create("finalization-registry-not-supported", {}); const u = "" + o(JSON.stringify(i)), d = Xp.get(u); if (d) return d.incRefCount(e.releaseOnDeref), d; const p = new Xx(u); for (const y of Qp.values()) p.addComponent(y); const m = new eV(t, e, u, p); return Xp.set(u, m), m } function Nb(n = Xc) { const e = Qc.get(n); if (!e && n === Xc && qx()) return Pb(); if (!e) throw mo.create("no-app", { appName: n }); return e } function nV() { return Array.from(Qc.values()) } async function eE(n) { let e = !1; const t = n.name; Qc.has(t) ? (e = !0, Qc.delete(t)) : Xp.has(t) && n.decRefCount() <= 0 && (Xp.delete(t), e = !0), e && (await Promise.all(n.container.getProviders().map(i => i.delete())), n.isDeleted = !0) } function rs(n, e, t) { var i; let o = (i = X3[n]) !== null && i !== void 0 ? i : n; t && (o += `-${t}`); const u = o.match(/\s|\//), d = e.match(/\s|\//); if (u || d) { const p = [`Unable to register library "${o}" with version "${e}":`]; u && p.push(`library name "${o}" contains illegal characters (whitespace or "/")`), u && d && p.push("and"), d && p.push(`version name "${e}" contains illegal characters (whitespace or "/")`), vu.warn(p.join(" ")); return } yu(new ol(`${o}-version`, () => ({ library: o, version: e }), "VERSION")) } function iR(n, e) { if (n !== null && typeof n != "function") throw mo.create("invalid-log-argument"); u3(n, e) } function rR(n) { l3(n) }/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV = "firebase-heartbeat-database", rV = 1, jv = "firebase-heartbeat-store"; let Kw = null; function sR() { return Kw || (Kw = y3(iV, rV, { upgrade: (n, e) => { switch (e) { case 0: try { n.createObjectStore(jv) } catch (t) { console.warn(t) } } } }).catch(n => { throw mo.create("idb-open", { originalErrorMessage: n.message }) })), Kw } async function sV(n) { try { const t = (await sR()).transaction(jv), i = await t.objectStore(jv).get(oR(n)); return await t.done, i } catch (e) { if (e instanceof Ur) vu.warn(e.message); else { const t = mo.create("idb-get", { originalErrorMessage: e?.message }); vu.warn(t.message) } } } async function MS(n, e) { try { const i = (await sR()).transaction(jv, "readwrite"); await i.objectStore(jv).put(e, oR(n)), await i.done } catch (t) { if (t instanceof Ur) vu.warn(t.message); else { const i = mo.create("idb-set", { originalErrorMessage: t?.message }); vu.warn(i.message) } } } function oR(n) { return `${n.name}!${n.options.appId}` }/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV = 1024, aV = 720 * 60 * 60 * 1e3; class lV { constructor(e) { this.container = e, this._heartbeatsCache = null; const t = this.container.getProvider("app").getImmediate(); this._storage = new cV(t), this._heartbeatsCachePromise = this._storage.read().then(i => (this._heartbeatsCache = i, i)) } async triggerHeartbeat() { var e, t; try { const o = this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(), u = DS(); return ((e = this._heartbeatsCache) === null || e === void 0 ? void 0 : e.heartbeats) == null && (this._heartbeatsCache = await this._heartbeatsCachePromise, ((t = this._heartbeatsCache) === null || t === void 0 ? void 0 : t.heartbeats) == null) || this._heartbeatsCache.lastSentHeartbeatDate === u || this._heartbeatsCache.heartbeats.some(d => d.date === u) ? void 0 : (this._heartbeatsCache.heartbeats.push({ date: u, agent: o }), this._heartbeatsCache.heartbeats = this._heartbeatsCache.heartbeats.filter(d => { const p = new Date(d.date).valueOf(); return Date.now() - p <= aV }), this._storage.overwrite(this._heartbeatsCache)) } catch (i) { vu.warn(i) } } async getHeartbeatsHeader() { var e; try { if (this._heartbeatsCache === null && await this._heartbeatsCachePromise, ((e = this._heartbeatsCache) === null || e === void 0 ? void 0 : e.heartbeats) == null || this._heartbeatsCache.heartbeats.length === 0) return ""; const t = DS(), { heartbeatsToSend: i, unsentEntries: o } = uV(this._heartbeatsCache.heartbeats), u = Z0(JSON.stringify({ version: 2, heartbeats: i })); return this._heartbeatsCache.lastSentHeartbeatDate = t, o.length > 0 ? (this._heartbeatsCache.heartbeats = o, await this._storage.overwrite(this._heartbeatsCache)) : (this._heartbeatsCache.heartbeats = [], this._storage.overwrite(this._heartbeatsCache)), u } catch (t) { return vu.warn(t), "" } } } function DS() { return new Date().toISOString().substring(0, 10) } function uV(n, e = oV) { const t = []; let i = n.slice(); for (const o of n) { const u = t.find(d => d.agent === o.agent); if (u) { if (u.dates.push(o.date), OS(t) > e) { u.dates.pop(); break } } else if (t.push({ agent: o.agent, dates: [o.date] }), OS(t) > e) { t.pop(); break } i = i.slice(1) } return { heartbeatsToSend: t, unsentEntries: i } } class cV { constructor(e) { this.app = e, this._canUseIndexedDBPromise = this.runIndexedDBEnvironmentCheck() } async runIndexedDBEnvironmentCheck() { return tb() ? YL().then(() => !0).catch(() => !1) : !1 } async read() { if (await this._canUseIndexedDBPromise) { const t = await sV(this.app); return t?.heartbeats ? t : { heartbeats: [] } } else return { heartbeats: [] } } async overwrite(e) { var t; if (await this._canUseIndexedDBPromise) { const o = await this.read(); return MS(this.app, { lastSentHeartbeatDate: (t = e.lastSentHeartbeatDate) !== null && t !== void 0 ? t : o.lastSentHeartbeatDate, heartbeats: e.heartbeats }) } else return } async add(e) { var t; if (await this._canUseIndexedDBPromise) { const o = await this.read(); return MS(this.app, { lastSentHeartbeatDate: (t = e.lastSentHeartbeatDate) !== null && t !== void 0 ? t : o.lastSentHeartbeatDate, heartbeats: [...o.heartbeats, ...e.heartbeats] }) } else return } } function OS(n) { return Z0(JSON.stringify({ version: 2, heartbeats: n })).length }/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(n) { yu(new ol("platform-logger", e => new _3(e), "PRIVATE")), yu(new ol("heartbeat", e => new lV(e), "PRIVATE")), rs(ib, k_, n), rs(ib, k_, "esm2017"), rs("fire-js", "") } dV(""); const hV = Object.freeze(Object.defineProperty({ __proto__: null, FirebaseError: Ur, SDK_VERSION: rd, _DEFAULT_ENTRY_NAME: Xc, _addComponent: Vv, _addOrOverwriteComponent: eR, _apps: Qc, _clearComponents: J3, _components: Qp, _getProvider: pm, _isFirebaseApp: tR, _isFirebaseServerApp: Gn, _registerComponent: yu, _removeServiceInstance: Q3, _serverApps: Xp, deleteApp: eE, getApp: Nb, getApps: nV, initializeApp: Pb, initializeServerApp: tV, onLog: iR, registerVersion: rs, setLogLevel: rR }, Symbol.toStringTag, { value: "Module" }));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV { constructor(e, t) { this._delegate = e, this.firebase = t, Vv(e, new ol("app-compat", () => this, "PUBLIC")), this.container = e.container } get automaticDataCollectionEnabled() { return this._delegate.automaticDataCollectionEnabled } set automaticDataCollectionEnabled(e) { this._delegate.automaticDataCollectionEnabled = e } get name() { return this._delegate.name } get options() { return this._delegate.options } delete() { return new Promise(e => { this._delegate.checkDestroyed(), e() }).then(() => (this.firebase.INTERNAL.removeApp(this.name), eE(this._delegate))) } _getService(e, t = Xc) { var i; this._delegate.checkDestroyed(); const o = this._delegate.container.getProvider(e); return !o.isInitialized() && ((i = o.getComponent()) === null || i === void 0 ? void 0 : i.instantiationMode) === "EXPLICIT" && o.initialize(), o.getImmediate({ identifier: t }) } _removeServiceInstance(e, t = Xc) { this._delegate.container.getProvider(e).clearInstance(t) } _addComponent(e) { Vv(this._delegate, e) } _addOrOverwriteComponent(e) { eR(this._delegate, e) } toJSON() { return { name: this.name, automaticDataCollectionEnabled: this.automaticDataCollectionEnabled, options: this.options } } }/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV = { "no-app": "No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()", "invalid-app-argument": "firebase.{$appName}() takes either no argument or a Firebase App instance." }, LS = new Qh("app-compat", "Firebase", pV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(n) { const e = {}, t = { __esModule: !0, initializeApp: u, app: o, registerVersion: rs, setLogLevel: rR, onLog: iR, apps: null, SDK_VERSION: rd, INTERNAL: { registerComponent: p, removeApp: i, useAsService: m, modularAPIs: hV } }; t.default = t, Object.defineProperty(t, "apps", { get: d }); function i(y) { delete e[y] } function o(y) { if (y = y || Xc, !RS(e, y)) throw LS.create("no-app", { appName: y }); return e[y] } o.App = n; function u(y, w = {}) { const E = Pb(y, w); if (RS(e, E.name)) return e[E.name]; const C = new n(E, t); return e[E.name] = C, C } function d() { return Object.keys(e).map(y => e[y]) } function p(y) { const w = y.name, E = w.replace("-compat", ""); if (yu(y) && y.type === "PUBLIC") { const C = (N = o()) => { if (typeof N[E] != "function") throw LS.create("invalid-app-argument", { appName: w }); return N[E]() }; y.serviceProps !== void 0 && eb(C, y.serviceProps), t[E] = C, n.prototype[E] = function (...N) { return this._getService.bind(this, w).apply(this, y.multipleInstances ? N : []) } } return y.type === "PUBLIC" ? t[E] : null } function m(y, w) { return w === "serverAuth" ? null : w } return t }/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR() { const n = mV(fV); n.INTERNAL = Object.assign(Object.assign({}, n.INTERNAL), { createFirebaseNamespace: aR, extendNamespace: e, createSubscribe: Yx, ErrorFactory: Qh, deepExtend: eb }); function e(t) { eb(n, t) } return n } const gV = aR();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS = new kb("@firebase/app-compat"), vV = "@firebase/app-compat", yV = "0.2.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(n) { rs(vV, yV, n) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try {
  const n = Fx(); if (n.firebase !== void 0) {
    VS.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `); const e = n.firebase.SDK_VERSION; e && e.indexOf("LITE") >= 0 && VS.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)
  }
} catch { } const He = gV; bV(); var wV = "firebase", _V = "10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */He.registerVersion(wV, _V, "app-compat"); const ov = { FACEBOOK: "facebook.com", GITHUB: "github.com", GOOGLE: "google.com", PASSWORD: "password", TWITTER: "twitter.com" }, Pp = { EMAIL_SIGNIN: "EMAIL_SIGNIN", PASSWORD_RESET: "PASSWORD_RESET", RECOVER_EMAIL: "RECOVER_EMAIL", REVERT_SECOND_FACTOR_ADDITION: "REVERT_SECOND_FACTOR_ADDITION", VERIFY_AND_CHANGE_EMAIL: "VERIFY_AND_CHANGE_EMAIL", VERIFY_EMAIL: "VERIFY_EMAIL" };/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV() { return { "admin-restricted-operation": "This operation is restricted to administrators only.", "argument-error": "", "app-not-authorized": "This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.", "app-not-installed": "The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.", "captcha-check-failed": "The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.", "code-expired": "The SMS code has expired. Please re-send the verification code to try again.", "cordova-not-ready": "Cordova framework is not ready.", "cors-unsupported": "This browser is not supported.", "credential-already-in-use": "This credential is already associated with a different user account.", "custom-token-mismatch": "The custom token corresponds to a different audience.", "requires-recent-login": "This operation is sensitive and requires recent authentication. Log in again before retrying this request.", "dependent-sdk-initialized-before-auth": "Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.", "dynamic-link-not-activated": "Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.", "email-change-needs-verification": "Multi-factor users must always have a verified email.", "email-already-in-use": "The email address is already in use by another account.", "emulator-config-failed": 'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.', "expired-action-code": "The action code has expired.", "cancelled-popup-request": "This operation has been cancelled due to another conflicting popup being opened.", "internal-error": "An internal AuthError has occurred.", "invalid-app-credential": "The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.", "invalid-app-id": "The mobile app identifier is not registered for the current project.", "invalid-user-token": "This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.", "invalid-auth-event": "An internal AuthError has occurred.", "invalid-verification-code": "The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.", "invalid-continue-uri": "The continue URL provided in the request is invalid.", "invalid-cordova-configuration": "The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.", "invalid-custom-token": "The custom token format is incorrect. Please check the documentation.", "invalid-dynamic-link-domain": "The provided dynamic link domain is not configured or authorized for the current project.", "invalid-email": "The email address is badly formatted.", "invalid-emulator-scheme": "Emulator URL must start with a valid scheme (http:// or https://).", "invalid-api-key": "Your API key is invalid, please check you have copied it correctly.", "invalid-cert-hash": "The SHA-1 certificate hash provided is invalid.", "invalid-credential": "The supplied auth credential is incorrect, malformed or has expired.", "invalid-message-payload": "The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.", "invalid-multi-factor-session": "The request does not contain a valid proof of first factor successful sign-in.", "invalid-oauth-provider": "EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.", "invalid-oauth-client-id": "The OAuth client ID provided is either invalid or does not match the specified API key.", "unauthorized-domain": "This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.", "invalid-action-code": "The action code is invalid. This can happen if the code is malformed, expired, or has already been used.", "wrong-password": "The password is invalid or the user does not have a password.", "invalid-persistence-type": "The specified persistence type is invalid. It can only be local, session or none.", "invalid-phone-number": "The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].", "invalid-provider-id": "The specified provider ID is invalid.", "invalid-recipient-email": "The email corresponding to this action failed to send as the provided recipient email address is invalid.", "invalid-sender": "The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.", "invalid-verification-id": "The verification ID used to create the phone auth credential is invalid.", "invalid-tenant-id": "The Auth instance's tenant ID is invalid.", "login-blocked": "Login blocked by user-provided method: {$originalMessage}", "missing-android-pkg-name": "An Android Package Name must be provided if the Android App is required to be installed.", "auth-domain-config-required": "Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.", "missing-app-credential": "The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.", "missing-verification-code": "The phone auth credential was created with an empty SMS verification code.", "missing-continue-uri": "A continue URL must be provided in the request.", "missing-iframe-start": "An internal AuthError has occurred.", "missing-ios-bundle-id": "An iOS Bundle ID must be provided if an App Store ID is provided.", "missing-or-invalid-nonce": "The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.", "missing-password": "A non-empty password must be provided", "missing-multi-factor-info": "No second factor identifier is provided.", "missing-multi-factor-session": "The request is missing proof of first factor successful sign-in.", "missing-phone-number": "To send verification codes, provide a phone number for the recipient.", "missing-verification-id": "The phone auth credential was created with an empty verification ID.", "app-deleted": "This instance of FirebaseApp has been deleted.", "multi-factor-info-not-found": "The user does not have a second factor matching the identifier provided.", "multi-factor-auth-required": "Proof of ownership of a second factor is required to complete sign-in.", "account-exists-with-different-credential": "An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.", "network-request-failed": "A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.", "no-auth-event": "An internal AuthError has occurred.", "no-such-provider": "User was not linked to an account with the given provider.", "null-user": "A null user object was provided as the argument for an operation which requires a non-null user object.", "operation-not-allowed": "The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.", "operation-not-supported-in-this-environment": 'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.', "popup-blocked": "Unable to establish a connection with the popup. It may have been blocked by the browser.", "popup-closed-by-user": "The popup has been closed by the user before finalizing the operation.", "provider-already-linked": "User can only be linked to one identity for the given provider.", "quota-exceeded": "The project's quota for this operation has been exceeded.", "redirect-cancelled-by-user": "The redirect operation has been cancelled by the user before finalizing.", "redirect-operation-pending": "A redirect sign-in operation is already pending.", "rejected-credential": "The request contains malformed or mismatching credentials.", "second-factor-already-in-use": "The second factor is already enrolled on this account.", "maximum-second-factor-count-exceeded": "The maximum allowed number of second factors on a user has been exceeded.", "tenant-id-mismatch": "The provided tenant ID does not match the Auth instance's tenant ID", timeout: "The operation has timed out.", "user-token-expired": "The user's credential is no longer valid. The user must sign in again.", "too-many-requests": "We have blocked all requests from this device due to unusual activity. Try again later.", "unauthorized-continue-uri": "The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.", "unsupported-first-factor": "Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.", "unsupported-persistence-type": "The current environment does not support the specified persistence type.", "unsupported-tenant-operation": "This operation is not supported in a multi-tenant context.", "unverified-email": "The operation requires a verified email.", "user-cancelled": "The user did not grant your application the permissions it requested.", "user-not-found": "There is no user record corresponding to this identifier. The user may have been deleted.", "user-disabled": "The user account has been disabled by an administrator.", "user-mismatch": "The supplied credentials do not correspond to the previously signed in user.", "user-signed-out": "", "weak-password": "The password must be 6 characters long or more.", "web-storage-unsupported": "This browser is not supported or 3rd party cookies and data may be disabled.", "already-initialized": "initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.", "missing-recaptcha-token": "The reCAPTCHA token is missing when sending request to the backend.", "invalid-recaptcha-token": "The reCAPTCHA token is invalid when sending request to the backend.", "invalid-recaptcha-action": "The reCAPTCHA action is invalid when sending request to the backend.", "recaptcha-not-enabled": "reCAPTCHA Enterprise integration is not enabled for this project.", "missing-client-type": "The reCAPTCHA client type is missing when sending request to the backend.", "missing-recaptcha-version": "The reCAPTCHA version is missing when sending request to the backend.", "invalid-req-type": "Invalid request parameters.", "invalid-recaptcha-version": "The reCAPTCHA version is invalid when sending request to the backend.", "unsupported-password-policy-schema-version": "The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.", "password-does-not-meet-requirements": "The password does not meet the requirements." } } function lR() { return { "dependent-sdk-initialized-before-auth": "Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK." } } const TV = EV, SV = lR, uR = new Qh("auth", "Firebase", lR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb = new kb("@firebase/auth"); function AV(n, ...e) { rb.logLevel <= xt.WARN && rb.warn(`Auth (${rd}): ${n}`, ...e) } function L0(n, ...e) { rb.logLevel <= xt.ERROR && rb.error(`Auth (${rd}): ${n}`, ...e) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(n, ...e) { throw nE(n, ...e) } function Ei(n, ...e) { return nE(n, ...e) } function tE(n, e, t) { const i = Object.assign(Object.assign({}, SV()), { [e]: t }); return new Qh("auth", "Firebase", i).create(e, { appName: n.name }) } function ji(n) { return tE(n, "operation-not-supported-in-this-environment", "Operations that alter the current user are not supported in conjunction with FirebaseServerApp") } function mm(n, e, t) { const i = t; if (!(e instanceof i)) throw i.name !== e.constructor.name && Ui(n, "argument-error"), tE(n, "argument-error", `Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`) } function nE(n, ...e) { if (typeof n != "string") { const t = e[0], i = [...e.slice(1)]; return i[0] && (i[0].appName = n.name), n._errorFactory.create(t, ...i) } return uR.create(n, ...e) } function Ae(n, e, ...t) { if (!n) throw nE(e, ...t) } function Za(n) { const e = "INTERNAL ASSERTION FAILED: " + n; throw L0(e), new Error(e) } function ta(n, e) { n || Za(e) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv() { var n; return typeof self < "u" && ((n = self.location) === null || n === void 0 ? void 0 : n.href) || "" } function iE() { return jS() === "http:" || jS() === "https:" } function jS() { var n; return typeof self < "u" && ((n = self.location) === null || n === void 0 ? void 0 : n.protocol) || null }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV() { return typeof navigator < "u" && navigator && "onLine" in navigator && typeof navigator.onLine == "boolean" && (iE() || $x() || "connection" in navigator) ? navigator.onLine : !0 } function xV() { if (typeof navigator > "u") return null; const n = navigator; return n.languages && n.languages[0] || n.language || null }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy { constructor(e, t) { this.shortDelay = e, this.longDelay = t, ta(t > e, "Short delay should be less than long delay!"), this.isMobile = GL() || Q1() } get() { return CV() ? this.isMobile ? this.longDelay : this.shortDelay : Math.min(5e3, this.shortDelay) } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(n, e) { ta(n.emulator, "Emulator should always be set here"); const { url: t } = n.emulator; return e ? `${t}${e.startsWith("/") ? e.slice(1) : e}` : t }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR { static initialize(e, t, i) { this.fetchImpl = e, t && (this.headersImpl = t), i && (this.responseImpl = i) } static fetch() { if (this.fetchImpl) return this.fetchImpl; if (typeof self < "u" && "fetch" in self) return self.fetch; if (typeof globalThis < "u" && globalThis.fetch) return globalThis.fetch; if (typeof fetch < "u") return fetch; Za("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill") } static headers() { if (this.headersImpl) return this.headersImpl; if (typeof self < "u" && "Headers" in self) return self.Headers; if (typeof globalThis < "u" && globalThis.Headers) return globalThis.Headers; if (typeof Headers < "u") return Headers; Za("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill") } static response() { if (this.responseImpl) return this.responseImpl; if (typeof self < "u" && "Response" in self) return self.Response; if (typeof globalThis < "u" && globalThis.Response) return globalThis.Response; if (typeof Response < "u") return Response; Za("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill") } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV = { CREDENTIAL_MISMATCH: "custom-token-mismatch", MISSING_CUSTOM_TOKEN: "internal-error", INVALID_IDENTIFIER: "invalid-email", MISSING_CONTINUE_URI: "internal-error", INVALID_PASSWORD: "wrong-password", MISSING_PASSWORD: "missing-password", INVALID_LOGIN_CREDENTIALS: "invalid-credential", EMAIL_EXISTS: "email-already-in-use", PASSWORD_LOGIN_DISABLED: "operation-not-allowed", INVALID_IDP_RESPONSE: "invalid-credential", INVALID_PENDING_TOKEN: "invalid-credential", FEDERATED_USER_ID_ALREADY_LINKED: "credential-already-in-use", MISSING_REQ_TYPE: "internal-error", EMAIL_NOT_FOUND: "user-not-found", RESET_PASSWORD_EXCEED_LIMIT: "too-many-requests", EXPIRED_OOB_CODE: "expired-action-code", INVALID_OOB_CODE: "invalid-action-code", MISSING_OOB_CODE: "internal-error", CREDENTIAL_TOO_OLD_LOGIN_AGAIN: "requires-recent-login", INVALID_ID_TOKEN: "invalid-user-token", TOKEN_EXPIRED: "user-token-expired", USER_NOT_FOUND: "user-token-expired", TOO_MANY_ATTEMPTS_TRY_LATER: "too-many-requests", PASSWORD_DOES_NOT_MEET_REQUIREMENTS: "password-does-not-meet-requirements", INVALID_CODE: "invalid-verification-code", INVALID_SESSION_INFO: "invalid-verification-id", INVALID_TEMPORARY_PROOF: "invalid-credential", MISSING_SESSION_INFO: "missing-verification-id", SESSION_EXPIRED: "code-expired", MISSING_ANDROID_PACKAGE_NAME: "missing-android-pkg-name", UNAUTHORIZED_DOMAIN: "unauthorized-continue-uri", INVALID_OAUTH_CLIENT_ID: "invalid-oauth-client-id", ADMIN_ONLY_OPERATION: "admin-restricted-operation", INVALID_MFA_PENDING_CREDENTIAL: "invalid-multi-factor-session", MFA_ENROLLMENT_NOT_FOUND: "multi-factor-info-not-found", MISSING_MFA_ENROLLMENT_ID: "missing-multi-factor-info", MISSING_MFA_PENDING_CREDENTIAL: "missing-multi-factor-session", SECOND_FACTOR_EXISTS: "second-factor-already-in-use", SECOND_FACTOR_LIMIT_EXCEEDED: "maximum-second-factor-count-exceeded", BLOCKING_FUNCTION_ERROR_RESPONSE: "internal-error", RECAPTCHA_NOT_ENABLED: "recaptcha-not-enabled", MISSING_RECAPTCHA_TOKEN: "missing-recaptcha-token", INVALID_RECAPTCHA_TOKEN: "invalid-recaptcha-token", INVALID_RECAPTCHA_ACTION: "invalid-recaptcha-action", MISSING_CLIENT_TYPE: "missing-client-type", MISSING_RECAPTCHA_VERSION: "missing-recaptcha-version", INVALID_RECAPTCHA_VERSION: "invalid-recaptcha-version", INVALID_REQ_TYPE: "invalid-req-type" };/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV = new oy(3e4, 6e4); function Wn(n, e) { return n.tenantId && !e.tenantId ? Object.assign(Object.assign({}, e), { tenantId: n.tenantId }) : e } async function Yn(n, e, t, i, o = {}) { return dR(n, o, async () => { let u = {}, d = {}; i && (e === "GET" ? d = i : u = { body: JSON.stringify(i) }); const p = fm(Object.assign({ key: n.config.apiKey }, d)).slice(1), m = await n._getAdditionalHeaders(); m["Content-Type"] = "application/json", n.languageCode && (m["X-Firebase-Locale"] = n.languageCode); const y = Object.assign({ method: e, headers: m }, u); return $L() || (y.referrerPolicy = "no-referrer"), cR.fetch()(hR(n, n.config.apiHost, t, p), y) }) } async function dR(n, e, t) { n._canInitEmulator = !1; const i = Object.assign(Object.assign({}, RV), e); try { const o = new PV(n), u = await Promise.race([t(), o.promise]); o.clearNetworkTimeout(); const d = await u.json(); if ("needConfirmation" in d) throw fv(n, "account-exists-with-different-credential", d); if (u.ok && !("errorMessage" in d)) return d; { const p = u.ok ? d.errorMessage : d.error.message, [m, y] = p.split(" : "); if (m === "FEDERATED_USER_ID_ALREADY_LINKED") throw fv(n, "credential-already-in-use", d); if (m === "EMAIL_EXISTS") throw fv(n, "email-already-in-use", d); if (m === "USER_DISABLED") throw fv(n, "user-disabled", d); const w = i[m] || m.toLowerCase().replace(/[_\s]+/g, "-"); if (y) throw tE(n, w, y); Ui(n, w) } } catch (o) { if (o instanceof Ur) throw o; Ui(n, "network-request-failed", { message: String(o) }) } } async function Tu(n, e, t, i, o = {}) { const u = await Yn(n, e, t, i, o); return "mfaPendingCredential" in u && Ui(n, "multi-factor-auth-required", { _serverResponse: u }), u } function hR(n, e, t, i) { const o = `${e}${t}?${i}`; return n.config.emulator ? rE(n.config, o) : `${n.config.apiScheme}://${o}` } function kV(n) { switch (n) { case "ENFORCE": return "ENFORCE"; case "AUDIT": return "AUDIT"; case "OFF": return "OFF"; default: return "ENFORCEMENT_STATE_UNSPECIFIED" } } class PV { constructor(e) { this.auth = e, this.timer = null, this.promise = new Promise((t, i) => { this.timer = setTimeout(() => i(Ei(this.auth, "network-request-failed")), IV.get()) }) } clearNetworkTimeout() { clearTimeout(this.timer) } } function fv(n, e, t) { const i = { appName: n.name }; t.email && (i.email = t.email), t.phoneNumber && (i.phoneNumber = t.phoneNumber); const o = Ei(n, e, i); return o.customData._tokenResponse = t, o }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(n) { return n !== void 0 && n.getResponse !== void 0 } function BS(n) { return n !== void 0 && n.enterprise !== void 0 } class NV { constructor(e) { if (this.siteKey = "", this.recaptchaEnforcementState = [], e.recaptchaKey === void 0) throw new Error("recaptchaKey undefined"); this.siteKey = e.recaptchaKey.split("/")[3], this.recaptchaEnforcementState = e.recaptchaEnforcementState } getProviderEnforcementState(e) { if (!this.recaptchaEnforcementState || this.recaptchaEnforcementState.length === 0) return null; for (const t of this.recaptchaEnforcementState) if (t.provider && t.provider === e) return kV(t.enforcementState); return null } isProviderEnabled(e) { return this.getProviderEnforcementState(e) === "ENFORCE" || this.getProviderEnforcementState(e) === "AUDIT" } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MV(n) { return (await Yn(n, "GET", "/v1/recaptchaParams")).recaptchaSiteKey || "" } async function DV(n, e) { return Yn(n, "GET", "/v2/recaptchaConfig", Wn(n, e)) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OV(n, e) { return Yn(n, "POST", "/v1/accounts:delete", e) } async function LV(n, e) { return Yn(n, "POST", "/v1/accounts:update", e) } async function fR(n, e) { return Yn(n, "POST", "/v1/accounts:lookup", e) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(n) { if (n) try { const e = new Date(Number(n)); if (!isNaN(e.getTime())) return e.toUTCString() } catch { } } async function VV(n, e = !1) { const t = st(n), i = await t.getIdToken(e), o = Mb(i); Ae(o && o.exp && o.auth_time && o.iat, t.auth, "internal-error"); const u = typeof o.firebase == "object" ? o.firebase : void 0, d = u?.sign_in_provider; return { claims: o, token: i, authTime: Ev($w(o.auth_time)), issuedAtTime: Ev($w(o.iat)), expirationTime: Ev($w(o.exp)), signInProvider: d || null, signInSecondFactor: u?.sign_in_second_factor || null } } function $w(n) { return Number(n) * 1e3 } function Mb(n) { const [e, t, i] = n.split("."); if (e === void 0 || t === void 0 || i === void 0) return L0("JWT malformed, contained fewer than 3 sections"), null; try { const o = Bx(t); return o ? JSON.parse(o) : (L0("Failed to decode base64 JWT payload"), null) } catch (o) { return L0("Caught error parsing JWT payload as JSON", o?.toString()), null } } function FS(n) { const e = Mb(n); return Ae(e, "internal-error"), Ae(typeof e.exp < "u", "internal-error"), Ae(typeof e.iat < "u", "internal-error"), Number(e.exp) - Number(e.iat) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bu(n, e, t = !1) { if (t) return e; try { return await e } catch (i) { throw i instanceof Ur && jV(i) && n.auth.currentUser === n && await n.auth.signOut(), i } } function jV({ code: n }) { return n === "auth/user-disabled" || n === "auth/user-token-expired" }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV { constructor(e) { this.user = e, this.isRunning = !1, this.timerId = null, this.errorBackoff = 3e4 } _start() { this.isRunning || (this.isRunning = !0, this.schedule()) } _stop() { this.isRunning && (this.isRunning = !1, this.timerId !== null && clearTimeout(this.timerId)) } getInterval(e) { var t; if (e) { const i = this.errorBackoff; return this.errorBackoff = Math.min(this.errorBackoff * 2, 96e4), i } else { this.errorBackoff = 3e4; const o = ((t = this.user.stsTokenManager.expirationTime) !== null && t !== void 0 ? t : 0) - Date.now() - 3e5; return Math.max(0, o) } } schedule(e = !1) { if (!this.isRunning) return; const t = this.getInterval(e); this.timerId = setTimeout(async () => { await this.iteration() }, t) } async iteration() { try { await this.user.getIdToken(!0) } catch (e) { e?.code === "auth/network-request-failed" && this.schedule(!0); return } this.schedule() } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_ { constructor(e, t) { this.createdAt = e, this.lastLoginAt = t, this._initializeTime() } _initializeTime() { this.lastSignInTime = Ev(this.lastLoginAt), this.creationTime = Ev(this.createdAt) } _copy(e) { this.createdAt = e.createdAt, this.lastLoginAt = e.lastLoginAt, this._initializeTime() } toJSON() { return { createdAt: this.createdAt, lastLoginAt: this.lastLoginAt } } }/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bv(n) { var e; const t = n.auth, i = await n.getIdToken(), o = await bu(n, fR(t, { idToken: i })); Ae(o?.users.length, t, "internal-error"); const u = o.users[0]; n._notifyReloadListener(u); const d = !((e = u.providerUserInfo) === null || e === void 0) && e.length ? pR(u.providerUserInfo) : [], p = FV(n.providerData, d), m = n.isAnonymous, y = !(n.email && u.passwordHash) && !p?.length, w = m ? y : !1, E = { uid: u.localId, displayName: u.displayName || null, photoURL: u.photoUrl || null, email: u.email || null, emailVerified: u.emailVerified || !1, phoneNumber: u.phoneNumber || null, tenantId: u.tenantId || null, providerData: p, metadata: new P_(u.createdAt, u.lastLoginAt), isAnonymous: w }; Object.assign(n, E) } async function BV(n) { const e = st(n); await Bv(e), await e.auth._persistUserIfCurrent(e), e.auth._notifyListenersIfCurrent(e) } function FV(n, e) { return [...n.filter(i => !e.some(o => o.providerId === i.providerId)), ...e] } function pR(n) { return n.map(e => { var { providerId: t } = e, i = sy(e, ["providerId"]); return { providerId: t, uid: i.rawId || "", displayName: i.displayName || null, email: i.email || null, phoneNumber: i.phoneNumber || null, photoURL: i.photoUrl || null } }) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zV(n, e) { const t = await dR(n, {}, async () => { const i = fm({ grant_type: "refresh_token", refresh_token: e }).slice(1), { tokenApiHost: o, apiKey: u } = n.config, d = hR(n, o, "/v1/token", `key=${u}`), p = await n._getAdditionalHeaders(); return p["Content-Type"] = "application/x-www-form-urlencoded", cR.fetch()(d, { method: "POST", headers: p, body: i }) }); return { accessToken: t.access_token, expiresIn: t.expires_in, refreshToken: t.refresh_token } } async function HV(n, e) { return Yn(n, "POST", "/v2/accounts:revokeToken", Wn(n, e)) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp { constructor() { this.refreshToken = null, this.accessToken = null, this.expirationTime = null } get isExpired() { return !this.expirationTime || Date.now() > this.expirationTime - 3e4 } updateFromServerResponse(e) { Ae(e.idToken, "internal-error"), Ae(typeof e.idToken < "u", "internal-error"), Ae(typeof e.refreshToken < "u", "internal-error"); const t = "expiresIn" in e && typeof e.expiresIn < "u" ? Number(e.expiresIn) : FS(e.idToken); this.updateTokensAndExpiration(e.idToken, e.refreshToken, t) } updateFromIdToken(e) { Ae(e.length !== 0, "internal-error"); const t = FS(e); this.updateTokensAndExpiration(e, null, t) } async getToken(e, t = !1) { return !t && this.accessToken && !this.isExpired ? this.accessToken : (Ae(this.refreshToken, e, "user-token-expired"), this.refreshToken ? (await this.refresh(e, this.refreshToken), this.accessToken) : null) } clearRefreshToken() { this.refreshToken = null } async refresh(e, t) { const { accessToken: i, refreshToken: o, expiresIn: u } = await zV(e, t); this.updateTokensAndExpiration(i, o, Number(u)) } updateTokensAndExpiration(e, t, i) { this.refreshToken = t || null, this.accessToken = e || null, this.expirationTime = Date.now() + i * 1e3 } static fromJSON(e, t) { const { refreshToken: i, accessToken: o, expirationTime: u } = t, d = new qp; return i && (Ae(typeof i == "string", "internal-error", { appName: e }), d.refreshToken = i), o && (Ae(typeof o == "string", "internal-error", { appName: e }), d.accessToken = o), u && (Ae(typeof u == "number", "internal-error", { appName: e }), d.expirationTime = u), d } toJSON() { return { refreshToken: this.refreshToken, accessToken: this.accessToken, expirationTime: this.expirationTime } } _assign(e) { this.accessToken = e.accessToken, this.refreshToken = e.refreshToken, this.expirationTime = e.expirationTime } _clone() { return Object.assign(new qp, this.toJSON()) } _performRefresh() { return Za("not implemented") } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(n, e) { Ae(typeof n == "string" || typeof n > "u", "internal-error", { appName: e }) } class uu { constructor(e) { var { uid: t, auth: i, stsTokenManager: o } = e, u = sy(e, ["uid", "auth", "stsTokenManager"]); this.providerId = "firebase", this.proactiveRefresh = new UV(this), this.reloadUserInfo = null, this.reloadListener = null, this.uid = t, this.auth = i, this.stsTokenManager = o, this.accessToken = o.accessToken, this.displayName = u.displayName || null, this.email = u.email || null, this.emailVerified = u.emailVerified || !1, this.phoneNumber = u.phoneNumber || null, this.photoURL = u.photoURL || null, this.isAnonymous = u.isAnonymous || !1, this.tenantId = u.tenantId || null, this.providerData = u.providerData ? [...u.providerData] : [], this.metadata = new P_(u.createdAt || void 0, u.lastLoginAt || void 0) } async getIdToken(e) { const t = await bu(this, this.stsTokenManager.getToken(this.auth, e)); return Ae(t, this.auth, "internal-error"), this.accessToken !== t && (this.accessToken = t, await this.auth._persistUserIfCurrent(this), this.auth._notifyListenersIfCurrent(this)), t } getIdTokenResult(e) { return VV(this, e) } reload() { return BV(this) } _assign(e) { this !== e && (Ae(this.uid === e.uid, this.auth, "internal-error"), this.displayName = e.displayName, this.photoURL = e.photoURL, this.email = e.email, this.emailVerified = e.emailVerified, this.phoneNumber = e.phoneNumber, this.isAnonymous = e.isAnonymous, this.tenantId = e.tenantId, this.providerData = e.providerData.map(t => Object.assign({}, t)), this.metadata._copy(e.metadata), this.stsTokenManager._assign(e.stsTokenManager)) } _clone(e) { const t = new uu(Object.assign(Object.assign({}, this), { auth: e, stsTokenManager: this.stsTokenManager._clone() })); return t.metadata._copy(this.metadata), t } _onReload(e) { Ae(!this.reloadListener, this.auth, "internal-error"), this.reloadListener = e, this.reloadUserInfo && (this._notifyReloadListener(this.reloadUserInfo), this.reloadUserInfo = null) } _notifyReloadListener(e) { this.reloadListener ? this.reloadListener(e) : this.reloadUserInfo = e } _startProactiveRefresh() { this.proactiveRefresh._start() } _stopProactiveRefresh() { this.proactiveRefresh._stop() } async _updateTokensIfNecessary(e, t = !1) { let i = !1; e.idToken && e.idToken !== this.stsTokenManager.accessToken && (this.stsTokenManager.updateFromServerResponse(e), i = !0), t && await Bv(this), await this.auth._persistUserIfCurrent(this), i && this.auth._notifyListenersIfCurrent(this) } async delete() { if (Gn(this.auth.app)) return Promise.reject(ji(this.auth)); const e = await this.getIdToken(); return await bu(this, OV(this.auth, { idToken: e })), this.stsTokenManager.clearRefreshToken(), this.auth.signOut() } toJSON() { return Object.assign(Object.assign({ uid: this.uid, email: this.email || void 0, emailVerified: this.emailVerified, displayName: this.displayName || void 0, isAnonymous: this.isAnonymous, photoURL: this.photoURL || void 0, phoneNumber: this.phoneNumber || void 0, tenantId: this.tenantId || void 0, providerData: this.providerData.map(e => Object.assign({}, e)), stsTokenManager: this.stsTokenManager.toJSON(), _redirectEventId: this._redirectEventId }, this.metadata.toJSON()), { apiKey: this.auth.config.apiKey, appName: this.auth.name }) } get refreshToken() { return this.stsTokenManager.refreshToken || "" } static _fromJSON(e, t) { var i, o, u, d, p, m, y, w; const E = (i = t.displayName) !== null && i !== void 0 ? i : void 0, C = (o = t.email) !== null && o !== void 0 ? o : void 0, N = (u = t.phoneNumber) !== null && u !== void 0 ? u : void 0, U = (d = t.photoURL) !== null && d !== void 0 ? d : void 0, k = (p = t.tenantId) !== null && p !== void 0 ? p : void 0, R = (m = t._redirectEventId) !== null && m !== void 0 ? m : void 0, L = (y = t.createdAt) !== null && y !== void 0 ? y : void 0, z = (w = t.lastLoginAt) !== null && w !== void 0 ? w : void 0, { uid: $, emailVerified: J, isAnonymous: Q, providerData: re, stsTokenManager: F } = t; Ae($ && F, e, "internal-error"); const V = qp.fromJSON(this.name, F); Ae(typeof $ == "string", e, "internal-error"), Fc(E, e.name), Fc(C, e.name), Ae(typeof J == "boolean", e, "internal-error"), Ae(typeof Q == "boolean", e, "internal-error"), Fc(N, e.name), Fc(U, e.name), Fc(k, e.name), Fc(R, e.name), Fc(L, e.name), Fc(z, e.name); const O = new uu({ uid: $, auth: e, email: C, emailVerified: J, displayName: E, isAnonymous: Q, photoURL: U, phoneNumber: N, tenantId: k, stsTokenManager: V, createdAt: L, lastLoginAt: z }); return re && Array.isArray(re) && (O.providerData = re.map(q => Object.assign({}, q))), R && (O._redirectEventId = R), O } static async _fromIdTokenResponse(e, t, i = !1) { const o = new qp; o.updateFromServerResponse(t); const u = new uu({ uid: t.localId, auth: e, stsTokenManager: o, isAnonymous: i }); return await Bv(u), u } static async _fromGetAccountInfoResponse(e, t, i) { const o = t.users[0]; Ae(o.localId !== void 0, "internal-error"); const u = o.providerUserInfo !== void 0 ? pR(o.providerUserInfo) : [], d = !(o.email && o.passwordHash) && !u?.length, p = new qp; p.updateFromIdToken(i); const m = new uu({ uid: o.localId, auth: e, stsTokenManager: p, isAnonymous: d }), y = { uid: o.localId, displayName: o.displayName || null, photoURL: o.photoUrl || null, email: o.email || null, emailVerified: o.emailVerified || !1, phoneNumber: o.phoneNumber || null, tenantId: o.tenantId || null, providerData: u, metadata: new P_(o.createdAt, o.lastLoginAt), isAnonymous: !(o.email && o.passwordHash) && !u?.length }; return Object.assign(m, y), m } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS = new Map; function Ps(n) { ta(n instanceof Function, "Expected a class definition"); let e = zS.get(n); return e ? (ta(e instanceof n, "Instance stored in cache mismatched with class"), e) : (e = new n, zS.set(n, e), e) }/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR { constructor() { this.type = "NONE", this.storage = {} } async _isAvailable() { return !0 } async _set(e, t) { this.storage[e] = t } async _get(e) { const t = this.storage[e]; return t === void 0 ? null : t } async _remove(e) { delete this.storage[e] } _addListener(e, t) { } _removeListener(e, t) { } } mR.type = "NONE"; const Jp = mR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(n, e, t) { return `firebase:${n}:${e}:${t}` } class Gp { constructor(e, t, i) { this.persistence = e, this.auth = t, this.userKey = i; const { config: o, name: u } = this.auth; this.fullUserKey = Lh(this.userKey, o.apiKey, u), this.fullPersistenceKey = Lh("persistence", o.apiKey, u), this.boundEventHandler = t._onStorageEvent.bind(t), this.persistence._addListener(this.fullUserKey, this.boundEventHandler) } setCurrentUser(e) { return this.persistence._set(this.fullUserKey, e.toJSON()) } async getCurrentUser() { const e = await this.persistence._get(this.fullUserKey); return e ? uu._fromJSON(this.auth, e) : null } removeCurrentUser() { return this.persistence._remove(this.fullUserKey) } savePersistenceForRedirect() { return this.persistence._set(this.fullPersistenceKey, this.persistence.type) } async setPersistence(e) { if (this.persistence === e) return; const t = await this.getCurrentUser(); if (await this.removeCurrentUser(), this.persistence = e, t) return this.setCurrentUser(t) } delete() { this.persistence._removeListener(this.fullUserKey, this.boundEventHandler) } static async create(e, t, i = "authUser") { if (!t.length) return new Gp(Ps(Jp), e, i); const o = (await Promise.all(t.map(async y => { if (await y._isAvailable()) return y }))).filter(y => y); let u = o[0] || Ps(Jp); const d = Lh(i, e.config.apiKey, e.name); let p = null; for (const y of t) try { const w = await y._get(d); if (w) { const E = uu._fromJSON(e, w); y !== u && (p = E), u = y; break } } catch { } const m = o.filter(y => y._shouldAllowMigration); return !u._shouldAllowMigration || !m.length ? new Gp(u, e, i) : (u = m[0], p && await u._set(d, p.toJSON()), await Promise.all(t.map(async y => { if (y !== u) try { await y._remove(d) } catch { } })), new Gp(u, e, i)) } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(n) { const e = n.toLowerCase(); if (e.includes("opera/") || e.includes("opr/") || e.includes("opios/")) return "Opera"; if (bR(e)) return "IEMobile"; if (e.includes("msie") || e.includes("trident/")) return "IE"; if (e.includes("edge/")) return "Edge"; if (gR(e)) return "Firefox"; if (e.includes("silk/")) return "Silk"; if (wR(e)) return "Blackberry"; if (_R(e)) return "Webos"; if (vR(e)) return "Safari"; if ((e.includes("chrome/") || yR(e)) && !e.includes("edge/")) return "Chrome"; if (ay(e)) return "Android"; { const t = /([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/, i = n.match(t); if (i?.length === 2) return i[1] } return "Other" } function gR(n = vi()) { return /firefox\//i.test(n) } function vR(n = vi()) { const e = n.toLowerCase(); return e.includes("safari/") && !e.includes("chrome/") && !e.includes("crios/") && !e.includes("android") } function yR(n = vi()) { return /crios\//i.test(n) } function bR(n = vi()) { return /iemobile/i.test(n) } function ay(n = vi()) { return /android/i.test(n) } function wR(n = vi()) { return /blackberry/i.test(n) } function _R(n = vi()) { return /webos/i.test(n) } function ly(n = vi()) { return /iphone|ipad|ipod/i.test(n) || /macintosh/i.test(n) && /mobile/i.test(n) } function qV(n = vi()) { return /(iPad|iPhone|iPod).*OS 7_\d/i.test(n) || /(iPad|iPhone|iPod).*OS 8_\d/i.test(n) } function GV(n = vi()) { var e; return ly(n) && !!(!((e = window.navigator) === null || e === void 0) && e.standalone) } function KV() { return Wx() && document.documentMode === 10 } function ER(n = vi()) { return ly(n) || ay(n) || _R(n) || wR(n) || /windows phone/i.test(n) || bR(n) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(n, e = []) { let t; switch (n) { case "Browser": t = HS(vi()); break; case "Worker": t = `${HS(vi())}-${n}`; break; default: t = n }const i = e.length ? e.join(",") : "FirebaseCore-web"; return `${t}/JsCore/${rd}/${i}` }/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V { constructor(e) { this.auth = e, this.queue = [] } pushCallback(e, t) { const i = u => new Promise((d, p) => { try { const m = e(u); d(m) } catch (m) { p(m) } }); i.onAbort = t, this.queue.push(i); const o = this.queue.length - 1; return () => { this.queue[o] = () => Promise.resolve() } } async runMiddleware(e) { if (this.auth.currentUser === e) return; const t = []; try { for (const i of this.queue) await i(e), i.onAbort && t.push(i.onAbort) } catch (i) { t.reverse(); for (const o of t) try { o() } catch { } throw this.auth._errorFactory.create("login-blocked", { originalMessage: i?.message }) } } }/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WV(n, e = {}) { return Yn(n, "GET", "/v2/passwordPolicy", Wn(n, e)) }/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV = 6; class XV { constructor(e) { var t, i, o, u; const d = e.customStrengthOptions; this.customStrengthOptions = {}, this.customStrengthOptions.minPasswordLength = (t = d.minPasswordLength) !== null && t !== void 0 ? t : YV, d.maxPasswordLength && (this.customStrengthOptions.maxPasswordLength = d.maxPasswordLength), d.containsLowercaseCharacter !== void 0 && (this.customStrengthOptions.containsLowercaseLetter = d.containsLowercaseCharacter), d.containsUppercaseCharacter !== void 0 && (this.customStrengthOptions.containsUppercaseLetter = d.containsUppercaseCharacter), d.containsNumericCharacter !== void 0 && (this.customStrengthOptions.containsNumericCharacter = d.containsNumericCharacter), d.containsNonAlphanumericCharacter !== void 0 && (this.customStrengthOptions.containsNonAlphanumericCharacter = d.containsNonAlphanumericCharacter), this.enforcementState = e.enforcementState, this.enforcementState === "ENFORCEMENT_STATE_UNSPECIFIED" && (this.enforcementState = "OFF"), this.allowedNonAlphanumericCharacters = (o = (i = e.allowedNonAlphanumericCharacters) === null || i === void 0 ? void 0 : i.join("")) !== null && o !== void 0 ? o : "", this.forceUpgradeOnSignin = (u = e.forceUpgradeOnSignin) !== null && u !== void 0 ? u : !1, this.schemaVersion = e.schemaVersion } validatePassword(e) { var t, i, o, u, d, p; const m = { isValid: !0, passwordPolicy: this }; return this.validatePasswordLengthOptions(e, m), this.validatePasswordCharacterOptions(e, m), m.isValid && (m.isValid = (t = m.meetsMinPasswordLength) !== null && t !== void 0 ? t : !0), m.isValid && (m.isValid = (i = m.meetsMaxPasswordLength) !== null && i !== void 0 ? i : !0), m.isValid && (m.isValid = (o = m.containsLowercaseLetter) !== null && o !== void 0 ? o : !0), m.isValid && (m.isValid = (u = m.containsUppercaseLetter) !== null && u !== void 0 ? u : !0), m.isValid && (m.isValid = (d = m.containsNumericCharacter) !== null && d !== void 0 ? d : !0), m.isValid && (m.isValid = (p = m.containsNonAlphanumericCharacter) !== null && p !== void 0 ? p : !0), m } validatePasswordLengthOptions(e, t) { const i = this.customStrengthOptions.minPasswordLength, o = this.customStrengthOptions.maxPasswordLength; i && (t.meetsMinPasswordLength = e.length >= i), o && (t.meetsMaxPasswordLength = e.length <= o) } validatePasswordCharacterOptions(e, t) { this.updatePasswordCharacterOptionsStatuses(t, !1, !1, !1, !1); let i; for (let o = 0; o < e.length; o++)i = e.charAt(o), this.updatePasswordCharacterOptionsStatuses(t, i >= "a" && i <= "z", i >= "A" && i <= "Z", i >= "0" && i <= "9", this.allowedNonAlphanumericCharacters.includes(i)) } updatePasswordCharacterOptionsStatuses(e, t, i, o, u) { this.customStrengthOptions.containsLowercaseLetter && (e.containsLowercaseLetter || (e.containsLowercaseLetter = t)), this.customStrengthOptions.containsUppercaseLetter && (e.containsUppercaseLetter || (e.containsUppercaseLetter = i)), this.customStrengthOptions.containsNumericCharacter && (e.containsNumericCharacter || (e.containsNumericCharacter = o)), this.customStrengthOptions.containsNonAlphanumericCharacter && (e.containsNonAlphanumericCharacter || (e.containsNonAlphanumericCharacter = u)) } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV { constructor(e, t, i, o) { this.app = e, this.heartbeatServiceProvider = t, this.appCheckServiceProvider = i, this.config = o, this.currentUser = null, this.emulatorConfig = null, this.operations = Promise.resolve(), this.authStateSubscription = new qS(this), this.idTokenSubscription = new qS(this), this.beforeStateQueue = new $V(this), this.redirectUser = null, this.isProactiveRefreshEnabled = !1, this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION = 1, this._canInitEmulator = !0, this._isInitialized = !1, this._deleted = !1, this._initializationPromise = null, this._popupRedirectResolver = null, this._errorFactory = uR, this._agentRecaptchaConfig = null, this._tenantRecaptchaConfigs = {}, this._projectPasswordPolicy = null, this._tenantPasswordPolicies = {}, this.lastNotifiedUid = void 0, this.languageCode = null, this.tenantId = null, this.settings = { appVerificationDisabledForTesting: !1 }, this.frameworks = [], this.name = e.name, this.clientVersion = o.sdkClientVersion } _initializeWithPersistence(e, t) { return t && (this._popupRedirectResolver = Ps(t)), this._initializationPromise = this.queue(async () => { var i, o; if (!this._deleted && (this.persistenceManager = await Gp.create(this, e), !this._deleted)) { if (!((i = this._popupRedirectResolver) === null || i === void 0) && i._shouldInitProactively) try { await this._popupRedirectResolver._initialize(this) } catch { } await this.initializeCurrentUser(t), this.lastNotifiedUid = ((o = this.currentUser) === null || o === void 0 ? void 0 : o.uid) || null, !this._deleted && (this._isInitialized = !0) } }), this._initializationPromise } async _onStorageEvent() { if (this._deleted) return; const e = await this.assertedPersistence.getCurrentUser(); if (!(!this.currentUser && !e)) { if (this.currentUser && e && this.currentUser.uid === e.uid) { this._currentUser._assign(e), await this.currentUser.getIdToken(); return } await this._updateCurrentUser(e, !0) } } async initializeCurrentUserFromIdToken(e) { try { const t = await fR(this, { idToken: e }), i = await uu._fromGetAccountInfoResponse(this, t, e); await this.directlySetCurrentUser(i) } catch (t) { console.warn("FirebaseServerApp could not login user with provided authIdToken: ", t), await this.directlySetCurrentUser(null) } } async initializeCurrentUser(e) { var t; if (Gn(this.app)) { const d = this.app.settings.authIdToken; return d ? new Promise(p => { setTimeout(() => this.initializeCurrentUserFromIdToken(d).then(p, p)) }) : this.directlySetCurrentUser(null) } const i = await this.assertedPersistence.getCurrentUser(); let o = i, u = !1; if (e && this.config.authDomain) { await this.getOrInitRedirectPersistenceManager(); const d = (t = this.redirectUser) === null || t === void 0 ? void 0 : t._redirectEventId, p = o?._redirectEventId, m = await this.tryRedirectSignIn(e); (!d || d === p) && m?.user && (o = m.user, u = !0) } if (!o) return this.directlySetCurrentUser(null); if (!o._redirectEventId) { if (u) try { await this.beforeStateQueue.runMiddleware(o) } catch (d) { o = i, this._popupRedirectResolver._overrideRedirectResult(this, () => Promise.reject(d)) } return o ? this.reloadAndSetCurrentUserOrClear(o) : this.directlySetCurrentUser(null) } return Ae(this._popupRedirectResolver, this, "argument-error"), await this.getOrInitRedirectPersistenceManager(), this.redirectUser && this.redirectUser._redirectEventId === o._redirectEventId ? this.directlySetCurrentUser(o) : this.reloadAndSetCurrentUserOrClear(o) } async tryRedirectSignIn(e) { let t = null; try { t = await this._popupRedirectResolver._completeRedirectFn(this, e, !0) } catch { await this._setRedirectUser(null) } return t } async reloadAndSetCurrentUserOrClear(e) { try { await Bv(e) } catch (t) { if (t?.code !== "auth/network-request-failed") return this.directlySetCurrentUser(null) } return this.directlySetCurrentUser(e) } useDeviceLanguage() { this.languageCode = xV() } async _delete() { this._deleted = !0 } async updateCurrentUser(e) { if (Gn(this.app)) return Promise.reject(ji(this)); const t = e ? st(e) : null; return t && Ae(t.auth.config.apiKey === this.config.apiKey, this, "invalid-user-token"), this._updateCurrentUser(t && t._clone(this)) } async _updateCurrentUser(e, t = !1) { if (!this._deleted) return e && Ae(this.tenantId === e.tenantId, this, "tenant-id-mismatch"), t || await this.beforeStateQueue.runMiddleware(e), this.queue(async () => { await this.directlySetCurrentUser(e), this.notifyAuthListeners() }) } async signOut() { return Gn(this.app) ? Promise.reject(ji(this)) : (await this.beforeStateQueue.runMiddleware(null), (this.redirectPersistenceManager || this._popupRedirectResolver) && await this._setRedirectUser(null), this._updateCurrentUser(null, !0)) } setPersistence(e) { return Gn(this.app) ? Promise.reject(ji(this)) : this.queue(async () => { await this.assertedPersistence.setPersistence(Ps(e)) }) } _getRecaptchaConfig() { return this.tenantId == null ? this._agentRecaptchaConfig : this._tenantRecaptchaConfigs[this.tenantId] } async validatePassword(e) { this._getPasswordPolicyInternal() || await this._updatePasswordPolicy(); const t = this._getPasswordPolicyInternal(); return t.schemaVersion !== this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION ? Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version", {})) : t.validatePassword(e) } _getPasswordPolicyInternal() { return this.tenantId === null ? this._projectPasswordPolicy : this._tenantPasswordPolicies[this.tenantId] } async _updatePasswordPolicy() { const e = await WV(this), t = new XV(e); this.tenantId === null ? this._projectPasswordPolicy = t : this._tenantPasswordPolicies[this.tenantId] = t } _getPersistence() { return this.assertedPersistence.persistence.type } _updateErrorMap(e) { this._errorFactory = new Qh("auth", "Firebase", e()) } onAuthStateChanged(e, t, i) { return this.registerStateListener(this.authStateSubscription, e, t, i) } beforeAuthStateChanged(e, t) { return this.beforeStateQueue.pushCallback(e, t) } onIdTokenChanged(e, t, i) { return this.registerStateListener(this.idTokenSubscription, e, t, i) } authStateReady() { return new Promise((e, t) => { if (this.currentUser) e(); else { const i = this.onAuthStateChanged(() => { i(), e() }, t) } }) } async revokeAccessToken(e) { if (this.currentUser) { const t = await this.currentUser.getIdToken(), i = { providerId: "apple.com", tokenType: "ACCESS_TOKEN", token: e, idToken: t }; this.tenantId != null && (i.tenantId = this.tenantId), await HV(this, i) } } toJSON() { var e; return { apiKey: this.config.apiKey, authDomain: this.config.authDomain, appName: this.name, currentUser: (e = this._currentUser) === null || e === void 0 ? void 0 : e.toJSON() } } async _setRedirectUser(e, t) { const i = await this.getOrInitRedirectPersistenceManager(t); return e === null ? i.removeCurrentUser() : i.setCurrentUser(e) } async getOrInitRedirectPersistenceManager(e) { if (!this.redirectPersistenceManager) { const t = e && Ps(e) || this._popupRedirectResolver; Ae(t, this, "argument-error"), this.redirectPersistenceManager = await Gp.create(this, [Ps(t._redirectPersistence)], "redirectUser"), this.redirectUser = await this.redirectPersistenceManager.getCurrentUser() } return this.redirectPersistenceManager } async _redirectUserForId(e) { var t, i; return this._isInitialized && await this.queue(async () => { }), ((t = this._currentUser) === null || t === void 0 ? void 0 : t._redirectEventId) === e ? this._currentUser : ((i = this.redirectUser) === null || i === void 0 ? void 0 : i._redirectEventId) === e ? this.redirectUser : null } async _persistUserIfCurrent(e) { if (e === this.currentUser) return this.queue(async () => this.directlySetCurrentUser(e)) } _notifyListenersIfCurrent(e) { e === this.currentUser && this.notifyAuthListeners() } _key() { return `${this.config.authDomain}:${this.config.apiKey}:${this.name}` } _startProactiveRefresh() { this.isProactiveRefreshEnabled = !0, this.currentUser && this._currentUser._startProactiveRefresh() } _stopProactiveRefresh() { this.isProactiveRefreshEnabled = !1, this.currentUser && this._currentUser._stopProactiveRefresh() } get _currentUser() { return this.currentUser } notifyAuthListeners() { var e, t; if (!this._isInitialized) return; this.idTokenSubscription.next(this.currentUser); const i = (t = (e = this.currentUser) === null || e === void 0 ? void 0 : e.uid) !== null && t !== void 0 ? t : null; this.lastNotifiedUid !== i && (this.lastNotifiedUid = i, this.authStateSubscription.next(this.currentUser)) } registerStateListener(e, t, i, o) { if (this._deleted) return () => { }; const u = typeof t == "function" ? t : t.next.bind(t); let d = !1; const p = this._isInitialized ? Promise.resolve() : this._initializationPromise; if (Ae(p, this, "internal-error"), p.then(() => { d || u(this.currentUser) }), typeof t == "function") { const m = e.addObserver(t, i, o); return () => { d = !0, m() } } else { const m = e.addObserver(t); return () => { d = !0, m() } } } async directlySetCurrentUser(e) { this.currentUser && this.currentUser !== e && this._currentUser._stopProactiveRefresh(), e && this.isProactiveRefreshEnabled && e._startProactiveRefresh(), this.currentUser = e, e ? await this.assertedPersistence.setCurrentUser(e) : await this.assertedPersistence.removeCurrentUser() } queue(e) { return this.operations = this.operations.then(e, e), this.operations } get assertedPersistence() { return Ae(this.persistenceManager, this, "internal-error"), this.persistenceManager } _logFramework(e) { !e || this.frameworks.includes(e) || (this.frameworks.push(e), this.frameworks.sort(), this.clientVersion = TR(this.config.clientPlatform, this._getFrameworks())) } _getFrameworks() { return this.frameworks } async _getAdditionalHeaders() { var e; const t = { "X-Client-Version": this.clientVersion }; this.app.options.appId && (t["X-Firebase-gmpid"] = this.app.options.appId); const i = await ((e = this.heartbeatServiceProvider.getImmediate({ optional: !0 })) === null || e === void 0 ? void 0 : e.getHeartbeatsHeader()); i && (t["X-Firebase-Client"] = i); const o = await this._getAppCheckToken(); return o && (t["X-Firebase-AppCheck"] = o), t } async _getAppCheckToken() { var e; const t = await ((e = this.appCheckServiceProvider.getImmediate({ optional: !0 })) === null || e === void 0 ? void 0 : e.getToken()); return t?.error && AV(`Error while retrieving App Check token: ${t.error}`), t?.token } } function Kn(n) { return st(n) } class qS { constructor(e) { this.auth = e, this.observer = null, this.addObserver = Yx(t => this.observer = t) } get next() { return Ae(this.observer, this.auth, "internal-error"), this.observer.next.bind(this.observer) } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uy = { async loadJS() { throw new Error("Unable to load external scripts") }, recaptchaV2Script: "", recaptchaEnterpriseScript: "", gapiScript: "" }; function JV(n) { uy = n } function sE(n) { return uy.loadJS(n) } function ZV() { return uy.recaptchaV2Script } function ej() { return uy.recaptchaEnterpriseScript } function tj() { return uy.gapiScript } function SR(n) { return `__${n}${Math.floor(Math.random() * 1e6)}` } const nj = "recaptcha-enterprise", ij = "NO_RECAPTCHA"; class rj { constructor(e) { this.type = nj, this.auth = Kn(e) } async verify(e = "verify", t = !1) { async function i(u) { if (!t) { if (u.tenantId == null && u._agentRecaptchaConfig != null) return u._agentRecaptchaConfig.siteKey; if (u.tenantId != null && u._tenantRecaptchaConfigs[u.tenantId] !== void 0) return u._tenantRecaptchaConfigs[u.tenantId].siteKey } return new Promise(async (d, p) => { DV(u, { clientType: "CLIENT_TYPE_WEB", version: "RECAPTCHA_ENTERPRISE" }).then(m => { if (m.recaptchaKey === void 0) p(new Error("recaptcha Enterprise site key undefined")); else { const y = new NV(m); return u.tenantId == null ? u._agentRecaptchaConfig = y : u._tenantRecaptchaConfigs[u.tenantId] = y, d(y.siteKey) } }).catch(m => { p(m) }) }) } function o(u, d, p) { const m = window.grecaptcha; BS(m) ? m.enterprise.ready(() => { m.enterprise.execute(u, { action: e }).then(y => { d(y) }).catch(() => { d(ij) }) }) : p(Error("No reCAPTCHA enterprise script loaded.")) } return new Promise((u, d) => { i(this.auth).then(p => { if (!t && BS(window.grecaptcha)) o(p, u, d); else { if (typeof window > "u") { d(new Error("RecaptchaVerifier is only supported in browser")); return } let m = ej(); m.length !== 0 && (m += p), sE(m).then(() => { o(p, u, d) }).catch(y => { d(y) }) } }).catch(p => { d(p) }) }) } } async function GS(n, e, t, i = !1) { const o = new rj(n); let u; try { u = await o.verify(t) } catch { u = await o.verify(t, !0) } const d = Object.assign({}, e); return i ? Object.assign(d, { captchaResp: u }) : Object.assign(d, { captchaResponse: u }), Object.assign(d, { clientType: "CLIENT_TYPE_WEB" }), Object.assign(d, { recaptchaVersion: "RECAPTCHA_ENTERPRISE" }), d } async function Fv(n, e, t, i) { var o; if (!((o = n._getRecaptchaConfig()) === null || o === void 0) && o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")) { const u = await GS(n, e, t, t === "getOobCode"); return i(n, u) } else return i(n, e).catch(async u => { if (u.code === "auth/missing-recaptcha-token") { console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`); const d = await GS(n, e, t, t === "getOobCode"); return i(n, d) } else return Promise.reject(u) }) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(n, e) { const t = pm(n, "auth"); if (t.isInitialized()) { const o = t.getImmediate(), u = t.getOptions(); if (nb(u, e ?? {})) return o; Ui(o, "already-initialized") } return t.initialize({ options: e }) } function oj(n, e) { const t = e?.persistence || [], i = (Array.isArray(t) ? t : [t]).map(Ps); e?.errorMap && n._updateErrorMap(e.errorMap), n._initializeWithPersistence(i, e?.popupRedirectResolver) } function AR(n, e, t) { const i = Kn(n); Ae(i._canInitEmulator, i, "emulator-config-failed"), Ae(/^https?:\/\//.test(e), i, "invalid-emulator-scheme"); const o = !!t?.disableWarnings, u = CR(e), { host: d, port: p } = aj(e), m = p === null ? "" : `:${p}`; i.config.emulator = { url: `${u}//${d}${m}/` }, i.settings.appVerificationDisabledForTesting = !0, i.emulatorConfig = Object.freeze({ host: d, port: p, protocol: u.replace(":", ""), options: Object.freeze({ disableWarnings: o }) }), o || lj() } function CR(n) { const e = n.indexOf(":"); return e < 0 ? "" : n.substr(0, e + 1) } function aj(n) { const e = CR(n), t = /(\/\/)?([^?#/]+)/.exec(n.substr(e.length)); if (!t) return { host: "", port: null }; const i = t[2].split("@").pop() || "", o = /^(\[[^\]]+\])(:|$)/.exec(i); if (o) { const u = o[1]; return { host: u, port: KS(i.substr(u.length + 1)) } } else { const [u, d] = i.split(":"); return { host: u, port: KS(d) } } } function KS(n) { if (!n) return null; const e = Number(n); return isNaN(e) ? null : e } function lj() { function n() { const e = document.createElement("p"), t = e.style; e.innerText = "Running in emulator mode. Do not use with production credentials.", t.position = "fixed", t.width = "100%", t.backgroundColor = "#ffffff", t.border = ".1em solid #000000", t.color = "#b50000", t.bottom = "0px", t.left = "0px", t.margin = "0px", t.zIndex = "10000", t.textAlign = "center", e.classList.add("firebase-emulator-warning"), document.body.appendChild(e) } typeof console < "u" && typeof console.info == "function" && console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."), typeof window < "u" && typeof document < "u" && (document.readyState === "loading" ? window.addEventListener("DOMContentLoaded", n) : n()) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm { constructor(e, t) { this.providerId = e, this.signInMethod = t } toJSON() { return Za("not implemented") } _getIdTokenResponse(e) { return Za("not implemented") } _linkToIdToken(e, t) { return Za("not implemented") } _getReauthenticationResolver(e) { return Za("not implemented") } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(n, e) { return Yn(n, "POST", "/v1/accounts:resetPassword", Wn(n, e)) } async function uj(n, e) { return Yn(n, "POST", "/v1/accounts:update", e) } async function cj(n, e) { return Yn(n, "POST", "/v1/accounts:signUp", e) } async function dj(n, e) { return Yn(n, "POST", "/v1/accounts:update", Wn(n, e)) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hj(n, e) { return Tu(n, "POST", "/v1/accounts:signInWithPassword", Wn(n, e)) } async function Db(n, e) { return Yn(n, "POST", "/v1/accounts:sendOobCode", Wn(n, e)) } async function fj(n, e) { return Db(n, e) } async function pj(n, e) { return Db(n, e) } async function mj(n, e) { return Db(n, e) } async function gj(n, e) { return Db(n, e) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vj(n, e) { return Tu(n, "POST", "/v1/accounts:signInWithEmailLink", Wn(n, e)) } async function yj(n, e) { return Tu(n, "POST", "/v1/accounts:signInWithEmailLink", Wn(n, e)) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv extends gm { constructor(e, t, i, o = null) { super("password", i), this._email = e, this._password = t, this._tenantId = o } static _fromEmailAndPassword(e, t) { return new zv(e, t, "password") } static _fromEmailAndCode(e, t, i = null) { return new zv(e, t, "emailLink", i) } toJSON() { return { email: this._email, password: this._password, signInMethod: this.signInMethod, tenantId: this._tenantId } } static fromJSON(e) { const t = typeof e == "string" ? JSON.parse(e) : e; if (t?.email && t?.password) { if (t.signInMethod === "password") return this._fromEmailAndPassword(t.email, t.password); if (t.signInMethod === "emailLink") return this._fromEmailAndCode(t.email, t.password, t.tenantId) } return null } async _getIdTokenResponse(e) { switch (this.signInMethod) { case "password": const t = { returnSecureToken: !0, email: this._email, password: this._password, clientType: "CLIENT_TYPE_WEB" }; return Fv(e, t, "signInWithPassword", hj); case "emailLink": return vj(e, { email: this._email, oobCode: this._password }); default: Ui(e, "internal-error") } } async _linkToIdToken(e, t) { switch (this.signInMethod) { case "password": const i = { idToken: t, returnSecureToken: !0, email: this._email, password: this._password, clientType: "CLIENT_TYPE_WEB" }; return Fv(e, i, "signUpPassword", cj); case "emailLink": return yj(e, { idToken: t, email: this._email, oobCode: this._password }); default: Ui(e, "internal-error") } } _getReauthenticationResolver(e) { return this._getIdTokenResponse(e) } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(n, e) { return Tu(n, "POST", "/v1/accounts:signInWithIdp", Wn(n, e)) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj = "http://localhost"; class al extends gm { constructor() { super(...arguments), this.pendingToken = null } static _fromParams(e) { const t = new al(e.providerId, e.signInMethod); return e.idToken || e.accessToken ? (e.idToken && (t.idToken = e.idToken), e.accessToken && (t.accessToken = e.accessToken), e.nonce && !e.pendingToken && (t.nonce = e.nonce), e.pendingToken && (t.pendingToken = e.pendingToken)) : e.oauthToken && e.oauthTokenSecret ? (t.accessToken = e.oauthToken, t.secret = e.oauthTokenSecret) : Ui("argument-error"), t } toJSON() { return { idToken: this.idToken, accessToken: this.accessToken, secret: this.secret, nonce: this.nonce, pendingToken: this.pendingToken, providerId: this.providerId, signInMethod: this.signInMethod } } static fromJSON(e) { const t = typeof e == "string" ? JSON.parse(e) : e, { providerId: i, signInMethod: o } = t, u = sy(t, ["providerId", "signInMethod"]); if (!i || !o) return null; const d = new al(i, o); return d.idToken = u.idToken || void 0, d.accessToken = u.accessToken || void 0, d.secret = u.secret, d.nonce = u.nonce, d.pendingToken = u.pendingToken || null, d } _getIdTokenResponse(e) { const t = this.buildRequest(); return hu(e, t) } _linkToIdToken(e, t) { const i = this.buildRequest(); return i.idToken = t, hu(e, i) } _getReauthenticationResolver(e) { const t = this.buildRequest(); return t.autoCreate = !1, hu(e, t) } buildRequest() { const e = { requestUri: bj, returnSecureToken: !0 }; if (this.pendingToken) e.pendingToken = this.pendingToken; else { const t = {}; this.idToken && (t.id_token = this.idToken), this.accessToken && (t.access_token = this.accessToken), this.secret && (t.oauth_token_secret = this.secret), t.providerId = this.providerId, this.nonce && !this.pendingToken && (t.nonce = this.nonce), e.postBody = fm(t) } return e } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wj(n, e) { return Yn(n, "POST", "/v1/accounts:sendVerificationCode", Wn(n, e)) } async function _j(n, e) { return Tu(n, "POST", "/v1/accounts:signInWithPhoneNumber", Wn(n, e)) } async function Ej(n, e) { const t = await Tu(n, "POST", "/v1/accounts:signInWithPhoneNumber", Wn(n, e)); if (t.temporaryProof) throw fv(n, "account-exists-with-different-credential", t); return t } const Tj = { USER_NOT_FOUND: "user-not-found" }; async function Sj(n, e) { const t = Object.assign(Object.assign({}, e), { operation: "REAUTH" }); return Tu(n, "POST", "/v1/accounts:signInWithPhoneNumber", Wn(n, t), Tj) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends gm { constructor(e) { super("phone", "phone"), this.params = e } static _fromVerification(e, t) { return new Vh({ verificationId: e, verificationCode: t }) } static _fromTokenResponse(e, t) { return new Vh({ phoneNumber: e, temporaryProof: t }) } _getIdTokenResponse(e) { return _j(e, this._makeVerificationRequest()) } _linkToIdToken(e, t) { return Ej(e, Object.assign({ idToken: t }, this._makeVerificationRequest())) } _getReauthenticationResolver(e) { return Sj(e, this._makeVerificationRequest()) } _makeVerificationRequest() { const { temporaryProof: e, phoneNumber: t, verificationId: i, verificationCode: o } = this.params; return e && t ? { temporaryProof: e, phoneNumber: t } : { sessionInfo: i, code: o } } toJSON() { const e = { providerId: this.providerId }; return this.params.phoneNumber && (e.phoneNumber = this.params.phoneNumber), this.params.temporaryProof && (e.temporaryProof = this.params.temporaryProof), this.params.verificationCode && (e.verificationCode = this.params.verificationCode), this.params.verificationId && (e.verificationId = this.params.verificationId), e } static fromJSON(e) { typeof e == "string" && (e = JSON.parse(e)); const { verificationId: t, verificationCode: i, phoneNumber: o, temporaryProof: u } = e; return !i && !t && !o && !u ? null : new Vh({ verificationId: t, verificationCode: i, phoneNumber: o, temporaryProof: u }) } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aj(n) { switch (n) { case "recoverEmail": return "RECOVER_EMAIL"; case "resetPassword": return "PASSWORD_RESET"; case "signIn": return "EMAIL_SIGNIN"; case "verifyEmail": return "VERIFY_EMAIL"; case "verifyAndChangeEmail": return "VERIFY_AND_CHANGE_EMAIL"; case "revertSecondFactorAddition": return "REVERT_SECOND_FACTOR_ADDITION"; default: return null } } function Cj(n) { const e = Lp(hv(n)).link, t = e ? Lp(hv(e)).deep_link_id : null, i = Lp(hv(n)).deep_link_id; return (i ? Lp(hv(i)).link : null) || i || t || e || n } class Ob { constructor(e) { var t, i, o, u, d, p; const m = Lp(hv(e)), y = (t = m.apiKey) !== null && t !== void 0 ? t : null, w = (i = m.oobCode) !== null && i !== void 0 ? i : null, E = Aj((o = m.mode) !== null && o !== void 0 ? o : null); Ae(y && w && E, "argument-error"), this.apiKey = y, this.operation = E, this.code = w, this.continueUrl = (u = m.continueUrl) !== null && u !== void 0 ? u : null, this.languageCode = (d = m.languageCode) !== null && d !== void 0 ? d : null, this.tenantId = (p = m.tenantId) !== null && p !== void 0 ? p : null } static parseLink(e) { const t = Cj(e); try { return new Ob(t) } catch { return null } } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd { constructor() { this.providerId = sd.PROVIDER_ID } static credential(e, t) { return zv._fromEmailAndPassword(e, t) } static credentialWithLink(e, t) { const i = Ob.parseLink(t); return Ae(i, "argument-error"), zv._fromEmailAndCode(e, i.code, i.tenantId) } } sd.PROVIDER_ID = "password"; sd.EMAIL_PASSWORD_SIGN_IN_METHOD = "password"; sd.EMAIL_LINK_SIGN_IN_METHOD = "emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su { constructor(e) { this.providerId = e, this.defaultLanguageCode = null, this.customParameters = {} } setDefaultLanguage(e) { this.defaultLanguageCode = e } setCustomParameters(e) { return this.customParameters = e, this } getCustomParameters() { return this.customParameters } }/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm extends Su { constructor() { super(...arguments), this.scopes = [] } addScope(e) { return this.scopes.includes(e) || this.scopes.push(e), this } getScopes() { return [...this.scopes] } } class Kp extends vm { static credentialFromJSON(e) { const t = typeof e == "string" ? JSON.parse(e) : e; return Ae("providerId" in t && "signInMethod" in t, "argument-error"), al._fromParams(t) } credential(e) { return this._credential(Object.assign(Object.assign({}, e), { nonce: e.rawNonce })) } _credential(e) { return Ae(e.idToken || e.accessToken, "argument-error"), al._fromParams(Object.assign(Object.assign({}, e), { providerId: this.providerId, signInMethod: this.providerId })) } static credentialFromResult(e) { return Kp.oauthCredentialFromTaggedObject(e) } static credentialFromError(e) { return Kp.oauthCredentialFromTaggedObject(e.customData || {}) } static oauthCredentialFromTaggedObject({ _tokenResponse: e }) { if (!e) return null; const { oauthIdToken: t, oauthAccessToken: i, oauthTokenSecret: o, pendingToken: u, nonce: d, providerId: p } = e; if (!i && !o && !t && !u || !p) return null; try { return new Kp(p)._credential({ idToken: t, accessToken: i, nonce: d, pendingToken: u }) } catch { return null } } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends vm { constructor() { super("facebook.com") } static credential(e) { return al._fromParams({ providerId: Ya.PROVIDER_ID, signInMethod: Ya.FACEBOOK_SIGN_IN_METHOD, accessToken: e }) } static credentialFromResult(e) { return Ya.credentialFromTaggedObject(e) } static credentialFromError(e) { return Ya.credentialFromTaggedObject(e.customData || {}) } static credentialFromTaggedObject({ _tokenResponse: e }) { if (!e || !("oauthAccessToken" in e) || !e.oauthAccessToken) return null; try { return Ya.credential(e.oauthAccessToken) } catch { return null } } } Ya.FACEBOOK_SIGN_IN_METHOD = "facebook.com"; Ya.PROVIDER_ID = "facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends vm { constructor() { super("google.com"), this.addScope("profile") } static credential(e, t) { return al._fromParams({ providerId: Zo.PROVIDER_ID, signInMethod: Zo.GOOGLE_SIGN_IN_METHOD, idToken: e, accessToken: t }) } static credentialFromResult(e) { return Zo.credentialFromTaggedObject(e) } static credentialFromError(e) { return Zo.credentialFromTaggedObject(e.customData || {}) } static credentialFromTaggedObject({ _tokenResponse: e }) { if (!e) return null; const { oauthIdToken: t, oauthAccessToken: i } = e; if (!t && !i) return null; try { return Zo.credential(t, i) } catch { return null } } } Zo.GOOGLE_SIGN_IN_METHOD = "google.com"; Zo.PROVIDER_ID = "google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends vm { constructor() { super("github.com") } static credential(e) { return al._fromParams({ providerId: Xa.PROVIDER_ID, signInMethod: Xa.GITHUB_SIGN_IN_METHOD, accessToken: e }) } static credentialFromResult(e) { return Xa.credentialFromTaggedObject(e) } static credentialFromError(e) { return Xa.credentialFromTaggedObject(e.customData || {}) } static credentialFromTaggedObject({ _tokenResponse: e }) { if (!e || !("oauthAccessToken" in e) || !e.oauthAccessToken) return null; try { return Xa.credential(e.oauthAccessToken) } catch { return null } } } Xa.GITHUB_SIGN_IN_METHOD = "github.com"; Xa.PROVIDER_ID = "github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj = "http://localhost"; class Zp extends gm { constructor(e, t) { super(e, e), this.pendingToken = t } _getIdTokenResponse(e) { const t = this.buildRequest(); return hu(e, t) } _linkToIdToken(e, t) { const i = this.buildRequest(); return i.idToken = t, hu(e, i) } _getReauthenticationResolver(e) { const t = this.buildRequest(); return t.autoCreate = !1, hu(e, t) } toJSON() { return { signInMethod: this.signInMethod, providerId: this.providerId, pendingToken: this.pendingToken } } static fromJSON(e) { const t = typeof e == "string" ? JSON.parse(e) : e, { providerId: i, signInMethod: o, pendingToken: u } = t; return !i || !o || !u || i !== o ? null : new Zp(i, u) } static _create(e, t) { return new Zp(e, t) } buildRequest() { return { requestUri: xj, returnSecureToken: !0, pendingToken: this.pendingToken } } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj = "saml."; class sb extends Su { constructor(e) { Ae(e.startsWith(Rj), "argument-error"), super(e) } static credentialFromResult(e) { return sb.samlCredentialFromTaggedObject(e) } static credentialFromError(e) { return sb.samlCredentialFromTaggedObject(e.customData || {}) } static credentialFromJSON(e) { const t = Zp.fromJSON(e); return Ae(t, "argument-error"), t } static samlCredentialFromTaggedObject({ _tokenResponse: e }) { if (!e) return null; const { pendingToken: t, providerId: i } = e; if (!t || !i) return null; try { return Zp._create(i, t) } catch { return null } } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends vm { constructor() { super("twitter.com") } static credential(e, t) { return al._fromParams({ providerId: Qa.PROVIDER_ID, signInMethod: Qa.TWITTER_SIGN_IN_METHOD, oauthToken: e, oauthTokenSecret: t }) } static credentialFromResult(e) { return Qa.credentialFromTaggedObject(e) } static credentialFromError(e) { return Qa.credentialFromTaggedObject(e.customData || {}) } static credentialFromTaggedObject({ _tokenResponse: e }) { if (!e) return null; const { oauthAccessToken: t, oauthTokenSecret: i } = e; if (!t || !i) return null; try { return Qa.credential(t, i) } catch { return null } } } Qa.TWITTER_SIGN_IN_METHOD = "twitter.com"; Qa.PROVIDER_ID = "twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RR(n, e) { return Tu(n, "POST", "/v1/accounts:signUp", Wn(n, e)) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go { constructor(e) { this.user = e.user, this.providerId = e.providerId, this._tokenResponse = e._tokenResponse, this.operationType = e.operationType } static async _fromIdTokenResponse(e, t, i, o = !1) { const u = await uu._fromIdTokenResponse(e, i, o), d = $S(i); return new go({ user: u, providerId: d, _tokenResponse: i, operationType: t }) } static async _forOperation(e, t, i) { await e._updateTokensIfNecessary(i, !0); const o = $S(i); return new go({ user: e, providerId: o, _tokenResponse: i, operationType: t }) } } function $S(n) { return n.providerId ? n.providerId : "phoneNumber" in n ? "phone" : null }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ij(n) { var e; if (Gn(n.app)) return Promise.reject(ji(n)); const t = Kn(n); if (await t._initializationPromise, !((e = t.currentUser) === null || e === void 0) && e.isAnonymous) return new go({ user: t.currentUser, providerId: null, operationType: "signIn" }); const i = await RR(t, { returnSecureToken: !0 }), o = await go._fromIdTokenResponse(t, "signIn", i, !0); return await t._updateCurrentUser(o.user), o }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob extends Ur { constructor(e, t, i, o) { var u; super(t.code, t.message), this.operationType = i, this.user = o, Object.setPrototypeOf(this, ob.prototype), this.customData = { appName: e.name, tenantId: (u = e.tenantId) !== null && u !== void 0 ? u : void 0, _serverResponse: t.customData._serverResponse, operationType: i } } static _fromErrorAndOperation(e, t, i, o) { return new ob(e, t, i, o) } } function IR(n, e, t, i) { return (e === "reauthenticate" ? t._getReauthenticationResolver(n) : t._getIdTokenResponse(n)).catch(u => { throw u.code === "auth/multi-factor-auth-required" ? ob._fromErrorAndOperation(n, u, e, i) : u }) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(n) { return new Set(n.map(({ providerId: e }) => e).filter(e => !!e)) }/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kj(n, e) { const t = st(n); await Lb(!0, t, e); const { providerUserInfo: i } = await LV(t.auth, { idToken: await t.getIdToken(), deleteProvider: [e] }), o = kR(i || []); return t.providerData = t.providerData.filter(u => o.has(u.providerId)), o.has("phone") || (t.phoneNumber = null), await t.auth._persistUserIfCurrent(t), t } async function oE(n, e, t = !1) { const i = await bu(n, e._linkToIdToken(n.auth, await n.getIdToken()), t); return go._forOperation(n, "link", i) } async function Lb(n, e, t) { await Bv(e); const i = kR(e.providerData), o = n === !1 ? "provider-already-linked" : "no-such-provider"; Ae(i.has(t) === n, e.auth, o) }/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR(n, e, t = !1) { const { auth: i } = n; if (Gn(i.app)) return Promise.reject(ji(i)); const o = "reauthenticate"; try { const u = await bu(n, IR(i, o, e, n), t); Ae(u.idToken, i, "internal-error"); const d = Mb(u.idToken); Ae(d, i, "internal-error"); const { sub: p } = d; return Ae(n.uid === p, i, "user-mismatch"), go._forOperation(n, o, u) } catch (u) { throw u?.code === "auth/user-not-found" && Ui(i, "user-mismatch"), u } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NR(n, e, t = !1) { if (Gn(n.app)) return Promise.reject(ji(n)); const i = "signIn", o = await IR(n, i, e), u = await go._fromIdTokenResponse(n, i, o); return t || await n._updateCurrentUser(u.user), u } async function Vb(n, e) { return NR(Kn(n), e) } async function MR(n, e) { const t = st(n); return await Lb(!1, t, e.providerId), oE(t, e) } async function DR(n, e) { return PR(st(n), e) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pj(n, e) { return Tu(n, "POST", "/v1/accounts:signInWithCustomToken", Wn(n, e)) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nj(n, e) { if (Gn(n.app)) return Promise.reject(ji(n)); const t = Kn(n), i = await Pj(t, { token: e, returnSecureToken: !0 }), o = await go._fromIdTokenResponse(t, "signIn", i); return await t._updateCurrentUser(o.user), o }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy { constructor(e, t) { this.factorId = e, this.uid = t.mfaEnrollmentId, this.enrollmentTime = new Date(t.enrolledAt).toUTCString(), this.displayName = t.displayName } static _fromServerResponse(e, t) { return "phoneInfo" in t ? aE._fromServerResponse(e, t) : "totpInfo" in t ? lE._fromServerResponse(e, t) : Ui(e, "internal-error") } } class aE extends cy { constructor(e) { super("phone", e), this.phoneNumber = e.phoneInfo } static _fromServerResponse(e, t) { return new aE(t) } } class lE extends cy { constructor(e) { super("totp", e) } static _fromServerResponse(e, t) { return new lE(t) } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(n, e, t) { var i; Ae(((i = t.url) === null || i === void 0 ? void 0 : i.length) > 0, n, "invalid-continue-uri"), Ae(typeof t.dynamicLinkDomain > "u" || t.dynamicLinkDomain.length > 0, n, "invalid-dynamic-link-domain"), e.continueUrl = t.url, e.dynamicLinkDomain = t.dynamicLinkDomain, e.canHandleCodeInApp = t.handleCodeInApp, t.iOS && (Ae(t.iOS.bundleId.length > 0, n, "missing-ios-bundle-id"), e.iOSBundleId = t.iOS.bundleId), t.android && (Ae(t.android.packageName.length > 0, n, "missing-android-pkg-name"), e.androidInstallApp = t.android.installApp, e.androidMinimumVersionCode = t.android.minimumVersion, e.androidPackageName = t.android.packageName) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uE(n) { const e = Kn(n); e._getPasswordPolicyInternal() && await e._updatePasswordPolicy() } async function Mj(n, e, t) { const i = Kn(n), o = { requestType: "PASSWORD_RESET", email: e, clientType: "CLIENT_TYPE_WEB" }; t && jb(i, o, t), await Fv(i, o, "getOobCode", pj) } async function Dj(n, e, t) { await xR(st(n), { oobCode: e, newPassword: t }).catch(async i => { throw i.code === "auth/password-does-not-meet-requirements" && uE(n), i }) } async function Oj(n, e) { await dj(st(n), { oobCode: e }) } async function OR(n, e) { const t = st(n), i = await xR(t, { oobCode: e }), o = i.requestType; switch (Ae(o, t, "internal-error"), o) { case "EMAIL_SIGNIN": break; case "VERIFY_AND_CHANGE_EMAIL": Ae(i.newEmail, t, "internal-error"); break; case "REVERT_SECOND_FACTOR_ADDITION": Ae(i.mfaInfo, t, "internal-error"); default: Ae(i.email, t, "internal-error") }let u = null; return i.mfaInfo && (u = cy._fromServerResponse(Kn(t), i.mfaInfo)), { data: { email: (i.requestType === "VERIFY_AND_CHANGE_EMAIL" ? i.newEmail : i.email) || null, previousEmail: (i.requestType === "VERIFY_AND_CHANGE_EMAIL" ? i.email : i.newEmail) || null, multiFactorInfo: u }, operation: o } } async function Lj(n, e) { const { data: t } = await OR(st(n), e); return t.email } async function Vj(n, e, t) { if (Gn(n.app)) return Promise.reject(ji(n)); const i = Kn(n), d = await Fv(i, { returnSecureToken: !0, email: e, password: t, clientType: "CLIENT_TYPE_WEB" }, "signUpPassword", RR).catch(m => { throw m.code === "auth/password-does-not-meet-requirements" && uE(n), m }), p = await go._fromIdTokenResponse(i, "signIn", d); return await i._updateCurrentUser(p.user), p } function jj(n, e, t) { return Gn(n.app) ? Promise.reject(ji(n)) : Vb(st(n), sd.credential(e, t)).catch(async i => { throw i.code === "auth/password-does-not-meet-requirements" && uE(n), i }) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uj(n, e, t) { const i = Kn(n), o = { requestType: "EMAIL_SIGNIN", email: e, clientType: "CLIENT_TYPE_WEB" }; function u(d, p) { Ae(p.handleCodeInApp, i, "argument-error"), p && jb(i, d, p) } u(o, t), await Fv(i, o, "getOobCode", mj) } function Bj(n, e) { const t = Ob.parseLink(e); return t?.operation === "EMAIL_SIGNIN" } async function Fj(n, e, t) { if (Gn(n.app)) return Promise.reject(ji(n)); const i = st(n), o = sd.credentialWithLink(e, t || Uv()); return Ae(o._tenantId === (i.tenantId || null), i, "tenant-id-mismatch"), Vb(i, o) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zj(n, e) { return Yn(n, "POST", "/v1/accounts:createAuthUri", Wn(n, e)) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hj(n, e) { const t = iE() ? Uv() : "http://localhost", i = { identifier: e, continueUri: t }, { signinMethods: o } = await zj(st(n), i); return o || [] } async function qj(n, e) { const t = st(n), o = { requestType: "VERIFY_EMAIL", idToken: await n.getIdToken() }; e && jb(t.auth, o, e); const { email: u } = await fj(t.auth, o); u !== n.email && await n.reload() } async function Gj(n, e, t) { const i = st(n), u = { requestType: "VERIFY_AND_CHANGE_EMAIL", idToken: await n.getIdToken(), newEmail: e }; t && jb(i.auth, u, t); const { email: d } = await gj(i.auth, u); d !== n.email && await n.reload() }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kj(n, e) { return Yn(n, "POST", "/v1/accounts:update", e) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $j(n, { displayName: e, photoURL: t }) { if (e === void 0 && t === void 0) return; const i = st(n), u = { idToken: await i.getIdToken(), displayName: e, photoUrl: t, returnSecureToken: !0 }, d = await bu(i, Kj(i.auth, u)); i.displayName = d.displayName || null, i.photoURL = d.photoUrl || null; const p = i.providerData.find(({ providerId: m }) => m === "password"); p && (p.displayName = i.displayName, p.photoURL = i.photoURL), await i._updateTokensIfNecessary(d) } function Wj(n, e) { const t = st(n); return Gn(t.auth.app) ? Promise.reject(ji(t.auth)) : LR(t, e, null) } function Yj(n, e) { return LR(st(n), null, e) } async function LR(n, e, t) { const { auth: i } = n, u = { idToken: await n.getIdToken(), returnSecureToken: !0 }; e && (u.email = e), t && (u.password = t); const d = await bu(n, uj(i, u)); await n._updateTokensIfNecessary(d, !0) }/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(n) { var e, t; if (!n) return null; const { providerId: i } = n, o = n.rawUserInfo ? JSON.parse(n.rawUserInfo) : {}, u = n.isNewUser || n.kind === "identitytoolkit#SignupNewUserResponse"; if (!i && n?.idToken) { const d = (t = (e = Mb(n.idToken)) === null || e === void 0 ? void 0 : e.firebase) === null || t === void 0 ? void 0 : t.sign_in_provider; if (d) { const p = d !== "anonymous" && d !== "custom" ? d : null; return new $p(u, p) } } if (!i) return null; switch (i) { case "facebook.com": return new Qj(u, o); case "github.com": return new Jj(u, o); case "google.com": return new Zj(u, o); case "twitter.com": return new e6(u, o, n.screenName || null); case "custom": case "anonymous": return new $p(u, null); default: return new $p(u, i, o) } } class $p { constructor(e, t, i = {}) { this.isNewUser = e, this.providerId = t, this.profile = i } } class VR extends $p { constructor(e, t, i, o) { super(e, t, i), this.username = o } } class Qj extends $p { constructor(e, t) { super(e, "facebook.com", t) } } class Jj extends VR { constructor(e, t) { super(e, "github.com", t, typeof t?.login == "string" ? t?.login : null) } } class Zj extends $p { constructor(e, t) { super(e, "google.com", t) } } class e6 extends VR { constructor(e, t, i) { super(e, "twitter.com", t, i) } } function t6(n) { const { user: e, _tokenResponse: t } = n; return e.isAnonymous && !t ? { providerId: null, isNewUser: !1, profile: null } : Xj(t) } function n6(n, e, t, i) { return st(n).onIdTokenChanged(e, t, i) } function i6(n, e, t) { return st(n).beforeAuthStateChanged(e, t) } function r6(n, e, t, i) { return st(n).onAuthStateChanged(e, t, i) } function s6(n) { return st(n).signOut() }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh { constructor(e, t, i) { this.type = e, this.credential = t, this.user = i } static _fromIdtoken(e, t) { return new Mh("enroll", e, t) } static _fromMfaPendingCredential(e) { return new Mh("signin", e) } toJSON() { return { multiFactorSession: { [this.type === "enroll" ? "idToken" : "pendingCredential"]: this.credential } } } static fromJSON(e) { var t, i; if (e?.multiFactorSession) { if (!((t = e.multiFactorSession) === null || t === void 0) && t.pendingCredential) return Mh._fromMfaPendingCredential(e.multiFactorSession.pendingCredential); if (!((i = e.multiFactorSession) === null || i === void 0) && i.idToken) return Mh._fromIdtoken(e.multiFactorSession.idToken) } return null } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE { constructor(e, t, i) { this.session = e, this.hints = t, this.signInResolver = i } static _fromError(e, t) { const i = Kn(e), o = t.customData._serverResponse, u = (o.mfaInfo || []).map(p => cy._fromServerResponse(i, p)); Ae(o.mfaPendingCredential, i, "internal-error"); const d = Mh._fromMfaPendingCredential(o.mfaPendingCredential); return new cE(d, u, async p => { const m = await p._process(i, d); delete o.mfaInfo, delete o.mfaPendingCredential; const y = Object.assign(Object.assign({}, o), { idToken: m.idToken, refreshToken: m.refreshToken }); switch (t.operationType) { case "signIn": const w = await go._fromIdTokenResponse(i, t.operationType, y); return await i._updateCurrentUser(w.user), w; case "reauthenticate": return Ae(t.user, i, "internal-error"), go._forOperation(t.user, t.operationType, y); default: Ui(i, "internal-error") } }) } async resolveSignIn(e) { const t = e; return this.signInResolver(t) } } function o6(n, e) { var t; const i = st(n), o = e; return Ae(e.customData.operationType, i, "argument-error"), Ae((t = o.customData._serverResponse) === null || t === void 0 ? void 0 : t.mfaPendingCredential, i, "argument-error"), cE._fromError(i, o) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(n, e) { return Yn(n, "POST", "/v2/accounts/mfaEnrollment:start", Wn(n, e)) } function l6(n, e) { return Yn(n, "POST", "/v2/accounts/mfaEnrollment:finalize", Wn(n, e)) } function u6(n, e) { return Yn(n, "POST", "/v2/accounts/mfaEnrollment:withdraw", Wn(n, e)) } class dE { constructor(e) { this.user = e, this.enrolledFactors = [], e._onReload(t => { t.mfaInfo && (this.enrolledFactors = t.mfaInfo.map(i => cy._fromServerResponse(e.auth, i))) }) } static _fromUser(e) { return new dE(e) } async getSession() { return Mh._fromIdtoken(await this.user.getIdToken(), this.user) } async enroll(e, t) { const i = e, o = await this.getSession(), u = await bu(this.user, i._process(this.user.auth, o, t)); return await this.user._updateTokensIfNecessary(u), this.user.reload() } async unenroll(e) { const t = typeof e == "string" ? e : e.uid, i = await this.user.getIdToken(); try { const o = await bu(this.user, u6(this.user.auth, { idToken: i, mfaEnrollmentId: t })); this.enrolledFactors = this.enrolledFactors.filter(({ uid: u }) => u !== t), await this.user._updateTokensIfNecessary(o), await this.user.reload() } catch (o) { throw o } } } const Ww = new WeakMap; function c6(n) { const e = st(n); return Ww.has(e) || Ww.set(e, dE._fromUser(e)), Ww.get(e) } const ab = "__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR { constructor(e, t) { this.storageRetriever = e, this.type = t } _isAvailable() { try { return this.storage ? (this.storage.setItem(ab, "1"), this.storage.removeItem(ab), Promise.resolve(!0)) : Promise.resolve(!1) } catch { return Promise.resolve(!1) } } _set(e, t) { return this.storage.setItem(e, JSON.stringify(t)), Promise.resolve() } _get(e) { const t = this.storage.getItem(e); return Promise.resolve(t ? JSON.parse(t) : null) } _remove(e) { return this.storage.removeItem(e), Promise.resolve() } get storage() { return this.storageRetriever() } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6 = 1e3, h6 = 10; class UR extends jR { constructor() { super(() => window.localStorage, "LOCAL"), this.boundEventHandler = (e, t) => this.onStorageEvent(e, t), this.listeners = {}, this.localCache = {}, this.pollTimer = null, this.fallbackToPolling = ER(), this._shouldAllowMigration = !0 } forAllChangedKeys(e) { for (const t of Object.keys(this.listeners)) { const i = this.storage.getItem(t), o = this.localCache[t]; i !== o && e(t, o, i) } } onStorageEvent(e, t = !1) { if (!e.key) { this.forAllChangedKeys((d, p, m) => { this.notifyListeners(d, m) }); return } const i = e.key; t ? this.detachListener() : this.stopPolling(); const o = () => { const d = this.storage.getItem(i); !t && this.localCache[i] === d || this.notifyListeners(i, d) }, u = this.storage.getItem(i); KV() && u !== e.newValue && e.newValue !== e.oldValue ? setTimeout(o, h6) : o() } notifyListeners(e, t) { this.localCache[e] = t; const i = this.listeners[e]; if (i) for (const o of Array.from(i)) o(t && JSON.parse(t)) } startPolling() { this.stopPolling(), this.pollTimer = setInterval(() => { this.forAllChangedKeys((e, t, i) => { this.onStorageEvent(new StorageEvent("storage", { key: e, oldValue: t, newValue: i }), !0) }) }, d6) } stopPolling() { this.pollTimer && (clearInterval(this.pollTimer), this.pollTimer = null) } attachListener() { window.addEventListener("storage", this.boundEventHandler) } detachListener() { window.removeEventListener("storage", this.boundEventHandler) } _addListener(e, t) { Object.keys(this.listeners).length === 0 && (this.fallbackToPolling ? this.startPolling() : this.attachListener()), this.listeners[e] || (this.listeners[e] = new Set, this.localCache[e] = this.storage.getItem(e)), this.listeners[e].add(t) } _removeListener(e, t) { this.listeners[e] && (this.listeners[e].delete(t), this.listeners[e].size === 0 && delete this.listeners[e]), Object.keys(this.listeners).length === 0 && (this.detachListener(), this.stopPolling()) } async _set(e, t) { await super._set(e, t), this.localCache[e] = JSON.stringify(t) } async _get(e) { const t = await super._get(e); return this.localCache[e] = JSON.stringify(t), t } async _remove(e) { await super._remove(e), delete this.localCache[e] } } UR.type = "LOCAL"; const Ub = UR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR extends jR { constructor() { super(() => window.sessionStorage, "SESSION") } _addListener(e, t) { } _removeListener(e, t) { } } BR.type = "SESSION"; const Jc = BR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(n) { return Promise.all(n.map(async e => { try { return { fulfilled: !0, value: await e } } catch (t) { return { fulfilled: !1, reason: t } } })) }/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb { constructor(e) { this.eventTarget = e, this.handlersMap = {}, this.boundEventHandler = this.handleEvent.bind(this) } static _getInstance(e) { const t = this.receivers.find(o => o.isListeningto(e)); if (t) return t; const i = new Bb(e); return this.receivers.push(i), i } isListeningto(e) { return this.eventTarget === e } async handleEvent(e) { const t = e, { eventId: i, eventType: o, data: u } = t.data, d = this.handlersMap[o]; if (!d?.size) return; t.ports[0].postMessage({ status: "ack", eventId: i, eventType: o }); const p = Array.from(d).map(async y => y(t.origin, u)), m = await f6(p); t.ports[0].postMessage({ status: "done", eventId: i, eventType: o, response: m }) } _subscribe(e, t) { Object.keys(this.handlersMap).length === 0 && this.eventTarget.addEventListener("message", this.boundEventHandler), this.handlersMap[e] || (this.handlersMap[e] = new Set), this.handlersMap[e].add(t) } _unsubscribe(e, t) { this.handlersMap[e] && t && this.handlersMap[e].delete(t), (!t || this.handlersMap[e].size === 0) && delete this.handlersMap[e], Object.keys(this.handlersMap).length === 0 && this.eventTarget.removeEventListener("message", this.boundEventHandler) } } Bb.receivers = [];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(n = "", e = 10) { let t = ""; for (let i = 0; i < e; i++)t += Math.floor(Math.random() * 10); return n + t }/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6 { constructor(e) { this.target = e, this.handlers = new Set } removeMessageHandler(e) { e.messageChannel && (e.messageChannel.port1.removeEventListener("message", e.onMessage), e.messageChannel.port1.close()), this.handlers.delete(e) } async _send(e, t, i = 50) { const o = typeof MessageChannel < "u" ? new MessageChannel : null; if (!o) throw new Error("connection_unavailable"); let u, d; return new Promise((p, m) => { const y = dy("", 20); o.port1.start(); const w = setTimeout(() => { m(new Error("unsupported_event")) }, i); d = { messageChannel: o, onMessage(E) { const C = E; if (C.data.eventId === y) switch (C.data.status) { case "ack": clearTimeout(w), u = setTimeout(() => { m(new Error("timeout")) }, 3e3); break; case "done": clearTimeout(u), p(C.data.response); break; default: clearTimeout(w), clearTimeout(u), m(new Error("invalid_response")); break } } }, this.handlers.add(d), o.port1.addEventListener("message", d.onMessage), this.target.postMessage({ eventType: e, eventId: y, data: t }, [o.port2]) }).finally(() => { d && this.removeMessageHandler(d) }) } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi() { return window } function m6(n) { pi().location.href = n }/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE() { return typeof pi().WorkerGlobalScope < "u" && typeof pi().importScripts == "function" } async function g6() { if (!navigator?.serviceWorker) return null; try { return (await navigator.serviceWorker.ready).active } catch { return null } } function v6() { var n; return ((n = navigator?.serviceWorker) === null || n === void 0 ? void 0 : n.controller) || null } function y6() { return hE() ? self : null }/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR = "firebaseLocalStorageDb", b6 = 1, lb = "firebaseLocalStorage", zR = "fbase_key"; class hy { constructor(e) { this.request = e } toPromise() { return new Promise((e, t) => { this.request.addEventListener("success", () => { e(this.request.result) }), this.request.addEventListener("error", () => { t(this.request.error) }) }) } } function Fb(n, e) { return n.transaction([lb], e ? "readwrite" : "readonly").objectStore(lb) } function w6() { const n = indexedDB.deleteDatabase(FR); return new hy(n).toPromise() } function N_() { const n = indexedDB.open(FR, b6); return new Promise((e, t) => { n.addEventListener("error", () => { t(n.error) }), n.addEventListener("upgradeneeded", () => { const i = n.result; try { i.createObjectStore(lb, { keyPath: zR }) } catch (o) { t(o) } }), n.addEventListener("success", async () => { const i = n.result; i.objectStoreNames.contains(lb) ? e(i) : (i.close(), await w6(), e(await N_())) }) }) } async function WS(n, e, t) { const i = Fb(n, !0).put({ [zR]: e, value: t }); return new hy(i).toPromise() } async function _6(n, e) { const t = Fb(n, !1).get(e), i = await new hy(t).toPromise(); return i === void 0 ? null : i.value } function YS(n, e) { const t = Fb(n, !0).delete(e); return new hy(t).toPromise() } const E6 = 800, T6 = 3; class HR { constructor() { this.type = "LOCAL", this._shouldAllowMigration = !0, this.listeners = {}, this.localCache = {}, this.pollTimer = null, this.pendingWrites = 0, this.receiver = null, this.sender = null, this.serviceWorkerReceiverAvailable = !1, this.activeServiceWorker = null, this._workerInitializationPromise = this.initializeServiceWorkerMessaging().then(() => { }, () => { }) } async _openDb() { return this.db ? this.db : (this.db = await N_(), this.db) } async _withRetries(e) { let t = 0; for (; ;)try { const i = await this._openDb(); return await e(i) } catch (i) { if (t++ > T6) throw i; this.db && (this.db.close(), this.db = void 0) } } async initializeServiceWorkerMessaging() { return hE() ? this.initializeReceiver() : this.initializeSender() } async initializeReceiver() { this.receiver = Bb._getInstance(y6()), this.receiver._subscribe("keyChanged", async (e, t) => ({ keyProcessed: (await this._poll()).includes(t.key) })), this.receiver._subscribe("ping", async (e, t) => ["keyChanged"]) } async initializeSender() { var e, t; if (this.activeServiceWorker = await g6(), !this.activeServiceWorker) return; this.sender = new p6(this.activeServiceWorker); const i = await this.sender._send("ping", {}, 800); i && !((e = i[0]) === null || e === void 0) && e.fulfilled && !((t = i[0]) === null || t === void 0) && t.value.includes("keyChanged") && (this.serviceWorkerReceiverAvailable = !0) } async notifyServiceWorker(e) { if (!(!this.sender || !this.activeServiceWorker || v6() !== this.activeServiceWorker)) try { await this.sender._send("keyChanged", { key: e }, this.serviceWorkerReceiverAvailable ? 800 : 50) } catch { } } async _isAvailable() { try { if (!indexedDB) return !1; const e = await N_(); return await WS(e, ab, "1"), await YS(e, ab), !0 } catch { } return !1 } async _withPendingWrite(e) { this.pendingWrites++; try { await e() } finally { this.pendingWrites-- } } async _set(e, t) { return this._withPendingWrite(async () => (await this._withRetries(i => WS(i, e, t)), this.localCache[e] = t, this.notifyServiceWorker(e))) } async _get(e) { const t = await this._withRetries(i => _6(i, e)); return this.localCache[e] = t, t } async _remove(e) { return this._withPendingWrite(async () => (await this._withRetries(t => YS(t, e)), delete this.localCache[e], this.notifyServiceWorker(e))) } async _poll() { const e = await this._withRetries(o => { const u = Fb(o, !1).getAll(); return new hy(u).toPromise() }); if (!e) return []; if (this.pendingWrites !== 0) return []; const t = [], i = new Set; if (e.length !== 0) for (const { fbase_key: o, value: u } of e) i.add(o), JSON.stringify(this.localCache[o]) !== JSON.stringify(u) && (this.notifyListeners(o, u), t.push(o)); for (const o of Object.keys(this.localCache)) this.localCache[o] && !i.has(o) && (this.notifyListeners(o, null), t.push(o)); return t } notifyListeners(e, t) { this.localCache[e] = t; const i = this.listeners[e]; if (i) for (const o of Array.from(i)) o(t) } startPolling() { this.stopPolling(), this.pollTimer = setInterval(async () => this._poll(), E6) } stopPolling() { this.pollTimer && (clearInterval(this.pollTimer), this.pollTimer = null) } _addListener(e, t) { Object.keys(this.listeners).length === 0 && this.startPolling(), this.listeners[e] || (this.listeners[e] = new Set, this._get(e)), this.listeners[e].add(t) } _removeListener(e, t) { this.listeners[e] && (this.listeners[e].delete(t), this.listeners[e].size === 0 && delete this.listeners[e]), Object.keys(this.listeners).length === 0 && this.stopPolling() } } HR.type = "LOCAL"; const em = HR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(n, e) { return Yn(n, "POST", "/v2/accounts/mfaSignIn:start", Wn(n, e)) } function A6(n, e) { return Yn(n, "POST", "/v2/accounts/mfaSignIn:finalize", Wn(n, e)) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6 = 500, x6 = 6e4, T0 = 1e12; class R6 { constructor(e) { this.auth = e, this.counter = T0, this._widgets = new Map } render(e, t) { const i = this.counter; return this._widgets.set(i, new I6(e, this.auth.name, t || {})), this.counter++, i } reset(e) { var t; const i = e || T0; (t = this._widgets.get(i)) === null || t === void 0 || t.delete(), this._widgets.delete(i) } getResponse(e) { var t; const i = e || T0; return ((t = this._widgets.get(i)) === null || t === void 0 ? void 0 : t.getResponse()) || "" } async execute(e) { var t; const i = e || T0; return (t = this._widgets.get(i)) === null || t === void 0 || t.execute(), "" } } class I6 { constructor(e, t, i) { this.params = i, this.timerId = null, this.deleted = !1, this.responseToken = null, this.clickHandler = () => { this.execute() }; const o = typeof e == "string" ? document.getElementById(e) : e; Ae(o, "argument-error", { appName: t }), this.container = o, this.isVisible = this.params.size !== "invisible", this.isVisible ? this.execute() : this.container.addEventListener("click", this.clickHandler) } getResponse() { return this.checkIfDeleted(), this.responseToken } delete() { this.checkIfDeleted(), this.deleted = !0, this.timerId && (clearTimeout(this.timerId), this.timerId = null), this.container.removeEventListener("click", this.clickHandler) } execute() { this.checkIfDeleted(), !this.timerId && (this.timerId = window.setTimeout(() => { this.responseToken = k6(50); const { callback: e, "expired-callback": t } = this.params; if (e) try { e(this.responseToken) } catch { } this.timerId = window.setTimeout(() => { if (this.timerId = null, this.responseToken = null, t) try { t() } catch { } this.isVisible && this.execute() }, x6) }, C6)) } checkIfDeleted() { if (this.deleted) throw new Error("reCAPTCHA mock was already deleted!") } } function k6(n) { const e = [], t = "1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"; for (let i = 0; i < n; i++)e.push(t.charAt(Math.floor(Math.random() * t.length))); return e.join("") }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw = SR("rcb"), P6 = new oy(3e4, 6e4); class N6 { constructor() { var e; this.hostLanguage = "", this.counter = 0, this.librarySeparatelyLoaded = !!(!((e = pi().grecaptcha) === null || e === void 0) && e.render) } load(e, t = "") { return Ae(M6(t), e, "argument-error"), this.shouldResolveImmediately(t) && US(pi().grecaptcha) ? Promise.resolve(pi().grecaptcha) : new Promise((i, o) => { const u = pi().setTimeout(() => { o(Ei(e, "network-request-failed")) }, P6.get()); pi()[Yw] = () => { pi().clearTimeout(u), delete pi()[Yw]; const p = pi().grecaptcha; if (!p || !US(p)) { o(Ei(e, "internal-error")); return } const m = p.render; p.render = (y, w) => { const E = m(y, w); return this.counter++, E }, this.hostLanguage = t, i(p) }; const d = `${ZV()}?${fm({ onload: Yw, render: "explicit", hl: t })}`; sE(d).catch(() => { clearTimeout(u), o(Ei(e, "internal-error")) }) }) } clearedOneInstance() { this.counter-- } shouldResolveImmediately(e) { var t; return !!(!((t = pi().grecaptcha) === null || t === void 0) && t.render) && (e === this.hostLanguage || this.counter > 0 || this.librarySeparatelyLoaded) } } function M6(n) { return n.length <= 6 && /^\s*[a-zA-Z0-9\-]*\s*$/.test(n) } class D6 { async load(e) { return new R6(e) } clearedOneInstance() { } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR = "recaptcha", O6 = { theme: "light", type: "image" }; let L6 = class { constructor(e, t, i = Object.assign({}, O6)) { this.parameters = i, this.type = qR, this.destroyed = !1, this.widgetId = null, this.tokenChangeListeners = new Set, this.renderPromise = null, this.recaptcha = null, this.auth = Kn(e), this.isInvisible = this.parameters.size === "invisible", Ae(typeof document < "u", this.auth, "operation-not-supported-in-this-environment"); const o = typeof t == "string" ? document.getElementById(t) : t; Ae(o, this.auth, "argument-error"), this.container = o, this.parameters.callback = this.makeTokenCallback(this.parameters.callback), this._recaptchaLoader = this.auth.settings.appVerificationDisabledForTesting ? new D6 : new N6, this.validateStartingState() } async verify() { this.assertNotDestroyed(); const e = await this.render(), t = this.getAssertedRecaptcha(), i = t.getResponse(e); return i || new Promise(o => { const u = d => { d && (this.tokenChangeListeners.delete(u), o(d)) }; this.tokenChangeListeners.add(u), this.isInvisible && t.execute(e) }) } render() { try { this.assertNotDestroyed() } catch (e) { return Promise.reject(e) } return this.renderPromise ? this.renderPromise : (this.renderPromise = this.makeRenderPromise().catch(e => { throw this.renderPromise = null, e }), this.renderPromise) } _reset() { this.assertNotDestroyed(), this.widgetId !== null && this.getAssertedRecaptcha().reset(this.widgetId) } clear() { this.assertNotDestroyed(), this.destroyed = !0, this._recaptchaLoader.clearedOneInstance(), this.isInvisible || this.container.childNodes.forEach(e => { this.container.removeChild(e) }) } validateStartingState() { Ae(!this.parameters.sitekey, this.auth, "argument-error"), Ae(this.isInvisible || !this.container.hasChildNodes(), this.auth, "argument-error"), Ae(typeof document < "u", this.auth, "operation-not-supported-in-this-environment") } makeTokenCallback(e) { return t => { if (this.tokenChangeListeners.forEach(i => i(t)), typeof e == "function") e(t); else if (typeof e == "string") { const i = pi()[e]; typeof i == "function" && i(t) } } } assertNotDestroyed() { Ae(!this.destroyed, this.auth, "internal-error") } async makeRenderPromise() { if (await this.init(), !this.widgetId) { let e = this.container; if (!this.isInvisible) { const t = document.createElement("div"); e.appendChild(t), e = t } this.widgetId = this.getAssertedRecaptcha().render(e, this.parameters) } return this.widgetId } async init() { Ae(iE() && !hE(), this.auth, "internal-error"), await V6(), this.recaptcha = await this._recaptchaLoader.load(this.auth, this.auth.languageCode || void 0); const e = await MV(this.auth); Ae(e, this.auth, "internal-error"), this.parameters.sitekey = e } getAssertedRecaptcha() { return Ae(this.recaptcha, this.auth, "internal-error"), this.recaptcha } }; function V6() { let n = null; return new Promise(e => { if (document.readyState === "complete") { e(); return } n = () => e(), window.addEventListener("load", n) }).catch(e => { throw n && window.removeEventListener("load", n), e }) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE { constructor(e, t) { this.verificationId = e, this.onConfirmation = t } confirm(e) { const t = Vh._fromVerification(this.verificationId, e); return this.onConfirmation(t) } } async function j6(n, e, t) { if (Gn(n.app)) return Promise.reject(ji(n)); const i = Kn(n), o = await zb(i, e, st(t)); return new fE(o, u => Vb(i, u)) } async function U6(n, e, t) { const i = st(n); await Lb(!1, i, "phone"); const o = await zb(i.auth, e, st(t)); return new fE(o, u => MR(i, u)) } async function B6(n, e, t) { const i = st(n); if (Gn(i.auth.app)) return Promise.reject(ji(i.auth)); const o = await zb(i.auth, e, st(t)); return new fE(o, u => DR(i, u)) } async function zb(n, e, t) { var i; const o = await t.verify(); try { Ae(typeof o == "string", n, "argument-error"), Ae(t.type === qR, n, "argument-error"); let u; if (typeof e == "string" ? u = { phoneNumber: e } : u = e, "session" in u) { const d = u.session; if ("phoneNumber" in u) return Ae(d.type === "enroll", n, "internal-error"), (await a6(n, { idToken: d.credential, phoneEnrollmentInfo: { phoneNumber: u.phoneNumber, recaptchaToken: o } })).phoneSessionInfo.sessionInfo; { Ae(d.type === "signin", n, "internal-error"); const p = ((i = u.multiFactorHint) === null || i === void 0 ? void 0 : i.uid) || u.multiFactorUid; return Ae(p, n, "missing-multi-factor-info"), (await S6(n, { mfaPendingCredential: d.credential, mfaEnrollmentId: p, phoneSignInInfo: { recaptchaToken: o } })).phoneResponseInfo.sessionInfo } } else { const { sessionInfo: d } = await wj(n, { phoneNumber: u.phoneNumber, recaptchaToken: o }); return d } } finally { t._reset() } } async function F6(n, e) { const t = st(n); if (Gn(t.auth.app)) return Promise.reject(ji(t.auth)); await oE(t, e) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh = class V0 { constructor(e) { this.providerId = V0.PROVIDER_ID, this.auth = Kn(e) } verifyPhoneNumber(e, t) { return zb(this.auth, e, st(t)) } static credential(e, t) { return Vh._fromVerification(e, t) } static credentialFromResult(e) { const t = e; return V0.credentialFromTaggedObject(t) } static credentialFromError(e) { return V0.credentialFromTaggedObject(e.customData || {}) } static credentialFromTaggedObject({ _tokenResponse: e }) { if (!e) return null; const { phoneNumber: t, temporaryProof: i } = e; return t && i ? Vh._fromTokenResponse(t, i) : null } }; zh.PROVIDER_ID = "phone"; zh.PHONE_SIGN_IN_METHOD = "phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(n, e) { return e ? Ps(e) : (Ae(n._popupRedirectResolver, n, "argument-error"), n._popupRedirectResolver) }/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE extends gm { constructor(e) { super("custom", "custom"), this.params = e } _getIdTokenResponse(e) { return hu(e, this._buildIdpRequest()) } _linkToIdToken(e, t) { return hu(e, this._buildIdpRequest(t)) } _getReauthenticationResolver(e) { return hu(e, this._buildIdpRequest()) } _buildIdpRequest(e) { const t = { requestUri: this.params.requestUri, sessionId: this.params.sessionId, postBody: this.params.postBody, tenantId: this.params.tenantId, pendingToken: this.params.pendingToken, returnSecureToken: !0, returnIdpCredential: !0 }; return e && (t.idToken = e), t } } function z6(n) { return NR(n.auth, new pE(n), n.bypassAuthState) } function H6(n) { const { auth: e, user: t } = n; return Ae(t, e, "internal-error"), PR(t, new pE(n), n.bypassAuthState) } async function q6(n) { const { auth: e, user: t } = n; return Ae(t, e, "internal-error"), oE(t, new pE(n), n.bypassAuthState) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR { constructor(e, t, i, o, u = !1) { this.auth = e, this.resolver = i, this.user = o, this.bypassAuthState = u, this.pendingPromise = null, this.eventManager = null, this.filter = Array.isArray(t) ? t : [t] } execute() { return new Promise(async (e, t) => { this.pendingPromise = { resolve: e, reject: t }; try { this.eventManager = await this.resolver._initialize(this.auth), await this.onExecution(), this.eventManager.registerConsumer(this) } catch (i) { this.reject(i) } }) } async onAuthEvent(e) { const { urlResponse: t, sessionId: i, postBody: o, tenantId: u, error: d, type: p } = e; if (d) { this.reject(d); return } const m = { auth: this.auth, requestUri: t, sessionId: i, tenantId: u || void 0, postBody: o || void 0, user: this.user, bypassAuthState: this.bypassAuthState }; try { this.resolve(await this.getIdpTask(p)(m)) } catch (y) { this.reject(y) } } onError(e) { this.reject(e) } getIdpTask(e) { switch (e) { case "signInViaPopup": case "signInViaRedirect": return z6; case "linkViaPopup": case "linkViaRedirect": return q6; case "reauthViaPopup": case "reauthViaRedirect": return H6; default: Ui(this.auth, "internal-error") } } resolve(e) { ta(this.pendingPromise, "Pending promise was never set"), this.pendingPromise.resolve(e), this.unregisterAndCleanUp() } reject(e) { ta(this.pendingPromise, "Pending promise was never set"), this.pendingPromise.reject(e), this.unregisterAndCleanUp() } unregisterAndCleanUp() { this.eventManager && this.eventManager.unregisterConsumer(this), this.pendingPromise = null, this.cleanUp() } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6 = new oy(2e3, 1e4); async function K6(n, e, t) { if (Gn(n.app)) return Promise.reject(Ei(n, "operation-not-supported-in-this-environment")); const i = Kn(n); mm(n, e, Su); const o = Jh(i, t); return new cu(i, "signInViaPopup", e, o).executeNotNull() } async function $6(n, e, t) { const i = st(n); if (Gn(i.auth.app)) return Promise.reject(Ei(i.auth, "operation-not-supported-in-this-environment")); mm(i.auth, e, Su); const o = Jh(i.auth, t); return new cu(i.auth, "reauthViaPopup", e, o, i).executeNotNull() } async function W6(n, e, t) { const i = st(n); mm(i.auth, e, Su); const o = Jh(i.auth, t); return new cu(i.auth, "linkViaPopup", e, o, i).executeNotNull() } class cu extends GR { constructor(e, t, i, o, u) { super(e, t, o, u), this.provider = i, this.authWindow = null, this.pollId = null, cu.currentPopupAction && cu.currentPopupAction.cancel(), cu.currentPopupAction = this } async executeNotNull() { const e = await this.execute(); return Ae(e, this.auth, "internal-error"), e } async onExecution() { ta(this.filter.length === 1, "Popup operations only handle one event"); const e = dy(); this.authWindow = await this.resolver._openPopup(this.auth, this.provider, this.filter[0], e), this.authWindow.associatedEvent = e, this.resolver._originValidation(this.auth).catch(t => { this.reject(t) }), this.resolver._isIframeWebStorageSupported(this.auth, t => { t || this.reject(Ei(this.auth, "web-storage-unsupported")) }), this.pollUserCancellation() } get eventId() { var e; return ((e = this.authWindow) === null || e === void 0 ? void 0 : e.associatedEvent) || null } cancel() { this.reject(Ei(this.auth, "cancelled-popup-request")) } cleanUp() { this.authWindow && this.authWindow.close(), this.pollId && window.clearTimeout(this.pollId), this.authWindow = null, this.pollId = null, cu.currentPopupAction = null } pollUserCancellation() { const e = () => { var t, i; if (!((i = (t = this.authWindow) === null || t === void 0 ? void 0 : t.window) === null || i === void 0) && i.closed) { this.pollId = window.setTimeout(() => { this.pollId = null, this.reject(Ei(this.auth, "popup-closed-by-user")) }, 8e3); return } this.pollId = window.setTimeout(e, G6.get()) }; e() } } cu.currentPopupAction = null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6 = "pendingRedirect", Tv = new Map; class X6 extends GR { constructor(e, t, i = !1) { super(e, ["signInViaRedirect", "linkViaRedirect", "reauthViaRedirect", "unknown"], t, void 0, i), this.eventId = null } async execute() { let e = Tv.get(this.auth._key()); if (!e) { try { const i = await Q6(this.resolver, this.auth) ? await super.execute() : null; e = () => Promise.resolve(i) } catch (t) { e = () => Promise.reject(t) } Tv.set(this.auth._key(), e) } return this.bypassAuthState || Tv.set(this.auth._key(), () => Promise.resolve(null)), e() } async onAuthEvent(e) { if (e.type === "signInViaRedirect") return super.onAuthEvent(e); if (e.type === "unknown") { this.resolve(null); return } if (e.eventId) { const t = await this.auth._redirectUserForId(e.eventId); if (t) return this.user = t, super.onAuthEvent(e); this.resolve(null) } } async onExecution() { } cleanUp() { } } async function Q6(n, e) { const t = $R(e), i = KR(n); if (!await i._isAvailable()) return !1; const o = await i._get(t) === "true"; return await i._remove(t), o } async function mE(n, e) { return KR(n)._set($R(e), "true") } function J6() { Tv.clear() } function gE(n, e) { Tv.set(n._key(), e) } function KR(n) { return Ps(n._redirectPersistence) } function $R(n) { return Lh(Y6, n.config.apiKey, n.name) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(n, e, t) { return e5(n, e, t) } async function e5(n, e, t) { if (Gn(n.app)) return Promise.reject(ji(n)); const i = Kn(n); mm(n, e, Su), await i._initializationPromise; const o = Jh(i, t); return await mE(o, i), o._openRedirect(i, e, "signInViaRedirect") } function t5(n, e, t) { return n5(n, e, t) } async function n5(n, e, t) { const i = st(n); if (mm(i.auth, e, Su), Gn(i.auth.app)) return Promise.reject(ji(i.auth)); await i.auth._initializationPromise; const o = Jh(i.auth, t); await mE(o, i.auth); const u = await WR(i); return o._openRedirect(i.auth, e, "reauthViaRedirect", u) } function i5(n, e, t) { return r5(n, e, t) } async function r5(n, e, t) { const i = st(n); mm(i.auth, e, Su), await i.auth._initializationPromise; const o = Jh(i.auth, t); await Lb(!1, i, e.providerId), await mE(o, i.auth); const u = await WR(i); return o._openRedirect(i.auth, e, "linkViaRedirect", u) } async function s5(n, e) { return await Kn(n)._initializationPromise, Hb(n, e, !1) } async function Hb(n, e, t = !1) { if (Gn(n.app)) return Promise.reject(ji(n)); const i = Kn(n), o = Jh(i, e), d = await new X6(i, o, t).execute(); return d && !t && (delete d.user._redirectEventId, await i._persistUserIfCurrent(d.user), await i._setRedirectUser(null, e)), d } async function WR(n) { const e = dy(`${n.uid}:::`); return n._redirectEventId = e, await n.auth._setRedirectUser(n), await n.auth._persistUserIfCurrent(n), e }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5 = 600 * 1e3; class YR { constructor(e) { this.auth = e, this.cachedEventUids = new Set, this.consumers = new Set, this.queuedRedirectEvent = null, this.hasHandledPotentialRedirect = !1, this.lastProcessedEventTime = Date.now() } registerConsumer(e) { this.consumers.add(e), this.queuedRedirectEvent && this.isEventForConsumer(this.queuedRedirectEvent, e) && (this.sendToConsumer(this.queuedRedirectEvent, e), this.saveEventToCache(this.queuedRedirectEvent), this.queuedRedirectEvent = null) } unregisterConsumer(e) { this.consumers.delete(e) } onEvent(e) { if (this.hasEventBeenHandled(e)) return !1; let t = !1; return this.consumers.forEach(i => { this.isEventForConsumer(e, i) && (t = !0, this.sendToConsumer(e, i), this.saveEventToCache(e)) }), this.hasHandledPotentialRedirect || !a5(e) || (this.hasHandledPotentialRedirect = !0, t || (this.queuedRedirectEvent = e, t = !0)), t } sendToConsumer(e, t) { var i; if (e.error && !XR(e)) { const o = ((i = e.error.code) === null || i === void 0 ? void 0 : i.split("auth/")[1]) || "internal-error"; t.onError(Ei(this.auth, o)) } else t.onAuthEvent(e) } isEventForConsumer(e, t) { const i = t.eventId === null || !!e.eventId && e.eventId === t.eventId; return t.filter.includes(e.type) && i } hasEventBeenHandled(e) { return Date.now() - this.lastProcessedEventTime >= o5 && this.cachedEventUids.clear(), this.cachedEventUids.has(XS(e)) } saveEventToCache(e) { this.cachedEventUids.add(XS(e)), this.lastProcessedEventTime = Date.now() } } function XS(n) { return [n.type, n.eventId, n.sessionId, n.tenantId].filter(e => e).join("-") } function XR({ type: n, error: e }) { return n === "unknown" && e?.code === "auth/no-auth-event" } function a5(n) { switch (n.type) { case "signInViaRedirect": case "linkViaRedirect": case "reauthViaRedirect": return !0; case "unknown": return XR(n); default: return !1 } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(n, e = {}) { return Yn(n, "GET", "/v1/projects", e) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5 = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/, u5 = /^https?/; async function c5(n) { if (n.config.emulator) return; const { authorizedDomains: e } = await QR(n); for (const t of e) try { if (d5(t)) return } catch { } Ui(n, "unauthorized-domain") } function d5(n) { const e = Uv(), { protocol: t, hostname: i } = new URL(e); if (n.startsWith("chrome-extension://")) { const d = new URL(n); return d.hostname === "" && i === "" ? t === "chrome-extension:" && n.replace("chrome-extension://", "") === e.replace("chrome-extension://", "") : t === "chrome-extension:" && d.hostname === i } if (!u5.test(t)) return !1; if (l5.test(n)) return i === n; const o = n.replace(/\./g, "\\."); return new RegExp("^(.+\\." + o + "|" + o + ")$", "i").test(i) }/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5 = new oy(3e4, 6e4); function QS() { const n = pi().___jsl; if (n?.H) { for (const e of Object.keys(n.H)) if (n.H[e].r = n.H[e].r || [], n.H[e].L = n.H[e].L || [], n.H[e].r = [...n.H[e].L], n.CP) for (let t = 0; t < n.CP.length; t++)n.CP[t] = null } } function f5(n) { return new Promise((e, t) => { var i, o, u; function d() { QS(), gapi.load("gapi.iframes", { callback: () => { e(gapi.iframes.getContext()) }, ontimeout: () => { QS(), t(Ei(n, "network-request-failed")) }, timeout: h5.get() }) } if (!((o = (i = pi().gapi) === null || i === void 0 ? void 0 : i.iframes) === null || o === void 0) && o.Iframe) e(gapi.iframes.getContext()); else if (!((u = pi().gapi) === null || u === void 0) && u.load) d(); else { const p = SR("iframefcb"); return pi()[p] = () => { gapi.load ? d() : t(Ei(n, "network-request-failed")) }, sE(`${tj()}?onload=${p}`).catch(m => t(m)) } }).catch(e => { throw j0 = null, e }) } let j0 = null; function p5(n) { return j0 = j0 || f5(n), j0 }/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5 = new oy(5e3, 15e3), g5 = "__/auth/iframe", v5 = "emulator/auth/iframe", y5 = { style: { position: "absolute", top: "-100px", width: "1px", height: "1px" }, "aria-hidden": "true", tabindex: "-1" }, b5 = new Map([["identitytoolkit.googleapis.com", "p"], ["staging-identitytoolkit.sandbox.googleapis.com", "s"], ["test-identitytoolkit.sandbox.googleapis.com", "t"]]); function w5(n) { const e = n.config; Ae(e.authDomain, n, "auth-domain-config-required"); const t = e.emulator ? rE(e, v5) : `https://${n.config.authDomain}/${g5}`, i = { apiKey: e.apiKey, appName: n.name, v: rd }, o = b5.get(n.config.apiHost); o && (i.eid = o); const u = n._getFrameworks(); return u.length && (i.fw = u.join(",")), `${t}?${fm(i).slice(1)}` } async function _5(n) { const e = await p5(n), t = pi().gapi; return Ae(t, n, "internal-error"), e.open({ where: document.body, url: w5(n), messageHandlersFilter: t.iframes.CROSS_ORIGIN_IFRAMES_FILTER, attributes: y5, dontclear: !0 }, i => new Promise(async (o, u) => { await i.restyle({ setHideOnLeave: !1 }); const d = Ei(n, "network-request-failed"), p = pi().setTimeout(() => { u(d) }, m5.get()); function m() { pi().clearTimeout(p), o(i) } i.ping(m).then(m, () => { u(d) }) })) }/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5 = { location: "yes", resizable: "yes", statusbar: "yes", toolbar: "no" }, T5 = 500, S5 = 600, A5 = "_blank", C5 = "http://localhost"; class JS { constructor(e) { this.window = e, this.associatedEvent = null } close() { if (this.window) try { this.window.close() } catch { } } } function x5(n, e, t, i = T5, o = S5) { const u = Math.max((window.screen.availHeight - o) / 2, 0).toString(), d = Math.max((window.screen.availWidth - i) / 2, 0).toString(); let p = ""; const m = Object.assign(Object.assign({}, E5), { width: i.toString(), height: o.toString(), top: u, left: d }), y = vi().toLowerCase(); t && (p = yR(y) ? A5 : t), gR(y) && (e = e || C5, m.scrollbars = "yes"); const w = Object.entries(m).reduce((C, [N, U]) => `${C}${N}=${U},`, ""); if (GV(y) && p !== "_self") return R5(e || "", p), new JS(null); const E = window.open(e || "", p, w); Ae(E, n, "popup-blocked"); try { E.focus() } catch { } return new JS(E) } function R5(n, e) { const t = document.createElement("a"); t.href = n, t.target = e; const i = document.createEvent("MouseEvent"); i.initMouseEvent("click", !0, !0, window, 1, 0, 0, 0, 0, !1, !1, !1, !1, 1, null), t.dispatchEvent(i) }/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5 = "__/auth/handler", k5 = "emulator/auth/handler", P5 = encodeURIComponent("fac"); async function M_(n, e, t, i, o, u) { Ae(n.config.authDomain, n, "auth-domain-config-required"), Ae(n.config.apiKey, n, "invalid-api-key"); const d = { apiKey: n.config.apiKey, appName: n.name, authType: t, redirectUrl: i, v: rd, eventId: o }; if (e instanceof Su) { e.setDefaultLanguage(n.languageCode), d.providerId = e.providerId || "", ZL(e.getCustomParameters()) || (d.customParameters = JSON.stringify(e.getCustomParameters())); for (const [w, E] of Object.entries(u || {})) d[w] = E } if (e instanceof vm) { const w = e.getScopes().filter(E => E !== ""); w.length > 0 && (d.scopes = w.join(",")) } n.tenantId && (d.tid = n.tenantId); const p = d; for (const w of Object.keys(p)) p[w] === void 0 && delete p[w]; const m = await n._getAppCheckToken(), y = m ? `#${P5}=${encodeURIComponent(m)}` : ""; return `${N5(n)}?${fm(p).slice(1)}${y}` } function N5({ config: n }) { return n.emulator ? rE(n, k5) : `https://${n.authDomain}/${I5}` }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw = "webStorageSupport"; class M5 { constructor() { this.eventManagers = {}, this.iframes = {}, this.originValidationPromises = {}, this._redirectPersistence = Jc, this._completeRedirectFn = Hb, this._overrideRedirectResult = gE } async _openPopup(e, t, i, o) { var u; ta((u = this.eventManagers[e._key()]) === null || u === void 0 ? void 0 : u.manager, "_initialize() not called before _openPopup()"); const d = await M_(e, t, i, Uv(), o); return x5(e, d, dy()) } async _openRedirect(e, t, i, o) { await this._originValidation(e); const u = await M_(e, t, i, Uv(), o); return m6(u), new Promise(() => { }) } _initialize(e) { const t = e._key(); if (this.eventManagers[t]) { const { manager: o, promise: u } = this.eventManagers[t]; return o ? Promise.resolve(o) : (ta(u, "If manager is not set, promise should be"), u) } const i = this.initAndGetManager(e); return this.eventManagers[t] = { promise: i }, i.catch(() => { delete this.eventManagers[t] }), i } async initAndGetManager(e) { const t = await _5(e), i = new YR(e); return t.register("authEvent", o => (Ae(o?.authEvent, e, "invalid-auth-event"), { status: i.onEvent(o.authEvent) ? "ACK" : "ERROR" }), gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER), this.eventManagers[e._key()] = { manager: i }, this.iframes[e._key()] = t, i } _isIframeWebStorageSupported(e, t) { this.iframes[e._key()].send(Xw, { type: Xw }, o => { var u; const d = (u = o?.[0]) === null || u === void 0 ? void 0 : u[Xw]; d !== void 0 && t(!!d), Ui(e, "internal-error") }, gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER) } _originValidation(e) { const t = e._key(); return this.originValidationPromises[t] || (this.originValidationPromises[t] = c5(e)), this.originValidationPromises[t] } get _shouldInitProactively() { return ER() || vR() || ly() } } const JR = M5; class D5 { constructor(e) { this.factorId = e } _process(e, t, i) { switch (t.type) { case "enroll": return this._finalizeEnroll(e, t.credential, i); case "signin": return this._finalizeSignIn(e, t.credential); default: return Za("unexpected MultiFactorSessionType") } } } class vE extends D5 { constructor(e) { super("phone"), this.credential = e } static _fromCredential(e) { return new vE(e) } _finalizeEnroll(e, t, i) { return l6(e, { idToken: t, displayName: i, phoneVerificationInfo: this.credential._makeVerificationRequest() }) } _finalizeSignIn(e, t) { return A6(e, { mfaPendingCredential: t, phoneVerificationInfo: this.credential._makeVerificationRequest() }) } } class ZR { constructor() { } static assertion(e) { return vE._fromCredential(e) } } ZR.FACTOR_ID = "phone"; var ZS = "@firebase/auth", eA = "1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5 { constructor(e) { this.auth = e, this.internalListeners = new Map } getUid() { var e; return this.assertAuthConfigured(), ((e = this.auth.currentUser) === null || e === void 0 ? void 0 : e.uid) || null } async getToken(e) { return this.assertAuthConfigured(), await this.auth._initializationPromise, this.auth.currentUser ? { accessToken: await this.auth.currentUser.getIdToken(e) } : null } addAuthTokenListener(e) { if (this.assertAuthConfigured(), this.internalListeners.has(e)) return; const t = this.auth.onIdTokenChanged(i => { e(i?.stsTokenManager.accessToken || null) }); this.internalListeners.set(e, t), this.updateProactiveRefresh() } removeAuthTokenListener(e) { this.assertAuthConfigured(); const t = this.internalListeners.get(e); t && (this.internalListeners.delete(e), t(), this.updateProactiveRefresh()) } assertAuthConfigured() { Ae(this.auth._initializationPromise, "dependent-sdk-initialized-before-auth") } updateProactiveRefresh() { this.internalListeners.size > 0 ? this.auth._startProactiveRefresh() : this.auth._stopProactiveRefresh() } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(n) { switch (n) { case "Node": return "node"; case "ReactNative": return "rn"; case "Worker": return "webworker"; case "Cordova": return "cordova"; case "WebExtension": return "web-extension"; default: return } } function V5(n) { yu(new ol("auth", (e, { options: t }) => { const i = e.getProvider("app").getImmediate(), o = e.getProvider("heartbeat"), u = e.getProvider("app-check-internal"), { apiKey: d, authDomain: p } = i.options; Ae(d && !d.includes(":"), "invalid-api-key", { appName: i.name }); const m = { apiKey: d, authDomain: p, clientPlatform: n, apiHost: "identitytoolkit.googleapis.com", tokenApiHost: "securetoken.googleapis.com", apiScheme: "https", sdkClientVersion: TR(n) }, y = new QV(i, o, u, m); return oj(y, t), y }, "PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e, t, i) => { e.getProvider("auth-internal").initialize() })), yu(new ol("auth-internal", e => { const t = Kn(e.getProvider("auth").getImmediate()); return (i => new O5(i))(t) }, "PRIVATE").setInstantiationMode("EXPLICIT")), rs(ZS, eA, L5(n)), rs(ZS, eA, "esm2017") }/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5 = 300, U5 = Gx("authIdTokenMaxAge") || j5; let tA = null; const B5 = n => async e => { const t = e && await e.getIdTokenResult(), i = t && (new Date().getTime() - Date.parse(t.issuedAtTime)) / 1e3; if (i && i > U5) return; const o = t?.token; tA !== o && (tA = o, await fetch(n, { method: o ? "POST" : "DELETE", headers: o ? { Authorization: `Bearer ${o}` } : {} })) }; function F5(n = Nb()) { const e = pm(n, "auth"); if (e.isInitialized()) return e.getImmediate(); const t = sj(n, { popupRedirectResolver: JR, persistence: [em, Ub, Jc] }), i = Gx("authTokenSyncURL"); if (i && typeof isSecureContext == "boolean" && isSecureContext) { const u = new URL(i, location.origin); if (location.origin === u.origin) { const d = B5(u.toString()); i6(t, d, () => d(t.currentUser)), n6(t, p => d(p)) } } const o = zx("auth"); return o && AR(t, `http://${o}`), t } function z5() { var n, e; return (e = (n = document.getElementsByTagName("head")) === null || n === void 0 ? void 0 : n[0]) !== null && e !== void 0 ? e : document } JV({ loadJS(n) { return new Promise((e, t) => { const i = document.createElement("script"); i.setAttribute("src", n), i.onload = e, i.onerror = o => { const u = Ei("internal-error"); u.customData = o, t(u) }, i.type = "text/javascript", i.charset = "UTF-8", z5().appendChild(i) }) }, gapiScript: "https://apis.google.com/js/api.js", recaptchaV2Script: "https://www.google.com/recaptcha/api.js", recaptchaEnterpriseScript: "https://www.google.com/recaptcha/enterprise.js?render=" }); V5("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh() { return window }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5 = 2e3; async function q5(n, e, t) { var i; const { BuildInfo: o } = Hh(); ta(e.sessionId, "AuthEvent did not contain a session ID"); const u = await Y5(e.sessionId), d = {}; return ly() ? d.ibi = o.packageName : ay() ? d.apn = o.packageName : Ui(n, "operation-not-supported-in-this-environment"), o.displayName && (d.appDisplayName = o.displayName), d.sessionId = u, M_(n, t, e.type, void 0, (i = e.eventId) !== null && i !== void 0 ? i : void 0, d) } async function G5(n) { const { BuildInfo: e } = Hh(), t = {}; ly() ? t.iosBundleId = e.packageName : ay() ? t.androidPackageName = e.packageName : Ui(n, "operation-not-supported-in-this-environment"), await QR(n, t) } function K5(n) { const { cordova: e } = Hh(); return new Promise(t => { e.plugins.browsertab.isAvailable(i => { let o = null; i ? e.plugins.browsertab.openUrl(n) : o = e.InAppBrowser.open(n, qV() ? "_blank" : "_system", "location=yes"), t(o) }) }) } async function $5(n, e, t) { const { cordova: i } = Hh(); let o = () => { }; try { await new Promise((u, d) => { let p = null; function m() { var E; u(); const C = (E = i.plugins.browsertab) === null || E === void 0 ? void 0 : E.close; typeof C == "function" && C(), typeof t?.close == "function" && t.close() } function y() { p || (p = window.setTimeout(() => { d(Ei(n, "redirect-cancelled-by-user")) }, H5)) } function w() { document?.visibilityState === "visible" && y() } e.addPassiveListener(m), document.addEventListener("resume", y, !1), ay() && document.addEventListener("visibilitychange", w, !1), o = () => { e.removePassiveListener(m), document.removeEventListener("resume", y, !1), document.removeEventListener("visibilitychange", w, !1), p && window.clearTimeout(p) } }) } finally { o() } } function W5(n) { var e, t, i, o, u, d, p, m, y, w; const E = Hh(); Ae(typeof ((e = E?.universalLinks) === null || e === void 0 ? void 0 : e.subscribe) == "function", n, "invalid-cordova-configuration", { missingPlugin: "cordova-universal-links-plugin-fix" }), Ae(typeof ((t = E?.BuildInfo) === null || t === void 0 ? void 0 : t.packageName) < "u", n, "invalid-cordova-configuration", { missingPlugin: "cordova-plugin-buildInfo" }), Ae(typeof ((u = (o = (i = E?.cordova) === null || i === void 0 ? void 0 : i.plugins) === null || o === void 0 ? void 0 : o.browsertab) === null || u === void 0 ? void 0 : u.openUrl) == "function", n, "invalid-cordova-configuration", { missingPlugin: "cordova-plugin-browsertab" }), Ae(typeof ((m = (p = (d = E?.cordova) === null || d === void 0 ? void 0 : d.plugins) === null || p === void 0 ? void 0 : p.browsertab) === null || m === void 0 ? void 0 : m.isAvailable) == "function", n, "invalid-cordova-configuration", { missingPlugin: "cordova-plugin-browsertab" }), Ae(typeof ((w = (y = E?.cordova) === null || y === void 0 ? void 0 : y.InAppBrowser) === null || w === void 0 ? void 0 : w.open) == "function", n, "invalid-cordova-configuration", { missingPlugin: "cordova-plugin-inappbrowser" }) } async function Y5(n) { const e = X5(n), t = await crypto.subtle.digest("SHA-256", e); return Array.from(new Uint8Array(t)).map(o => o.toString(16).padStart(2, "0")).join("") } function X5(n) { if (ta(/[0-9a-zA-Z]+/.test(n), "Can only convert alpha-numeric strings"), typeof TextEncoder < "u") return new TextEncoder().encode(n); const e = new ArrayBuffer(n.length), t = new Uint8Array(e); for (let i = 0; i < n.length; i++)t[i] = n.charCodeAt(i); return t }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5 = 20; class J5 extends YR { constructor() { super(...arguments), this.passiveListeners = new Set, this.initPromise = new Promise(e => { this.resolveInitialized = e }) } addPassiveListener(e) { this.passiveListeners.add(e) } removePassiveListener(e) { this.passiveListeners.delete(e) } resetRedirect() { this.queuedRedirectEvent = null, this.hasHandledPotentialRedirect = !1 } onEvent(e) { return this.resolveInitialized(), this.passiveListeners.forEach(t => t(e)), super.onEvent(e) } async initialized() { await this.initPromise } } function Z5(n, e, t = null) { return { type: e, eventId: t, urlResponse: null, sessionId: nU(), postBody: null, tenantId: n.tenantId, error: Ei(n, "no-auth-event") } } function eU(n, e) { return D_()._set(O_(n), e) } async function nA(n) { const e = await D_()._get(O_(n)); return e && await D_()._remove(O_(n)), e } function tU(n, e) { var t, i; const o = rU(e); if (o.includes("/__/auth/callback")) { const u = U0(o), d = u.firebaseError ? iU(decodeURIComponent(u.firebaseError)) : null, p = (i = (t = d?.code) === null || t === void 0 ? void 0 : t.split("auth/")) === null || i === void 0 ? void 0 : i[1], m = p ? Ei(p) : null; return m ? { type: n.type, eventId: n.eventId, tenantId: n.tenantId, error: m, urlResponse: null, sessionId: null, postBody: null } : { type: n.type, eventId: n.eventId, tenantId: n.tenantId, sessionId: n.sessionId, urlResponse: o, postBody: null } } return null } function nU() { const n = [], e = "1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"; for (let t = 0; t < Q5; t++) { const i = Math.floor(Math.random() * e.length); n.push(e.charAt(i)) } return n.join("") } function D_() { return Ps(Ub) } function O_(n) { return Lh("authEvent", n.config.apiKey, n.name) } function iU(n) { try { return JSON.parse(n) } catch { return null } } function rU(n) { const e = U0(n), t = e.link ? decodeURIComponent(e.link) : void 0, i = U0(t).link, o = e.deep_link_id ? decodeURIComponent(e.deep_link_id) : void 0; return U0(o).link || o || i || t || n } function U0(n) { if (!n?.includes("?")) return {}; const [e, ...t] = n.split("?"); return Lp(t.join("?")) }/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU = 500; class oU { constructor() { this._redirectPersistence = Jc, this._shouldInitProactively = !0, this.eventManagers = new Map, this.originValidationPromises = {}, this._completeRedirectFn = Hb, this._overrideRedirectResult = gE } async _initialize(e) { const t = e._key(); let i = this.eventManagers.get(t); return i || (i = new J5(e), this.eventManagers.set(t, i), this.attachCallbackListeners(e, i)), i } _openPopup(e) { Ui(e, "operation-not-supported-in-this-environment") } async _openRedirect(e, t, i, o) { W5(e); const u = await this._initialize(e); await u.initialized(), u.resetRedirect(), J6(), await this._originValidation(e); const d = Z5(e, i, o); await eU(e, d); const p = await q5(e, d, t), m = await K5(p); return $5(e, u, m) } _isIframeWebStorageSupported(e, t) { throw new Error("Method not implemented.") } _originValidation(e) { const t = e._key(); return this.originValidationPromises[t] || (this.originValidationPromises[t] = G5(e)), this.originValidationPromises[t] } attachCallbackListeners(e, t) { const { universalLinks: i, handleOpenURL: o, BuildInfo: u } = Hh(), d = setTimeout(async () => { await nA(e), t.onEvent(iA()) }, sU), p = async w => { clearTimeout(d); const E = await nA(e); let C = null; E && w?.url && (C = tU(E, w.url)), t.onEvent(C || iA()) }; typeof i < "u" && typeof i.subscribe == "function" && i.subscribe(null, p); const m = o, y = `${u.packageName.toLowerCase()}://`; Hh().handleOpenURL = async w => { if (w.toLowerCase().startsWith(y) && p({ url: w }), typeof m == "function") try { m(w) } catch (E) { console.error(E) } } } } const aU = oU; function iA() { return { type: "unknown", eventId: null, sessionId: null, urlResponse: null, postBody: null, tenantId: null, error: Ei("no-auth-event") } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(n, e) { Kn(n)._logFramework(e) } var uU = "@firebase/auth-compat", cU = "0.5.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU = 1e3; function Sv() { var n; return ((n = self?.location) === null || n === void 0 ? void 0 : n.protocol) || null } function hU() { return Sv() === "http:" || Sv() === "https:" } function eI(n = vi()) { return !!((Sv() === "file:" || Sv() === "ionic:" || Sv() === "capacitor:") && n.toLowerCase().match(/iphone|ipad|ipod|android/)) } function fU() { return Q1() || X1() } function pU() { return Wx() && document?.documentMode === 11 } function mU(n = vi()) { return /Edge\/\d+/.test(n) } function gU(n = vi()) { return pU() || mU(n) } function tI() { try { const n = self.localStorage, e = dy(); if (n) return n.setItem(e, "1"), n.removeItem(e), gU() ? tb() : !0 } catch { return yE() && tb() } return !1 } function yE() { return typeof global < "u" && "WorkerGlobalScope" in global && "importScripts" in global } function Qw() { return (hU() || $x() || eI()) && !fU() && tI() && !yE() } function nI() { return eI() && typeof document < "u" } async function vU() { return nI() ? new Promise(n => { const e = setTimeout(() => { n(!1) }, dU); document.addEventListener("deviceready", () => { clearTimeout(e), n(!0) }) }) : !1 } function yU() { return typeof window < "u" ? window : null }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks = { LOCAL: "local", NONE: "none", SESSION: "session" }, av = Ae, iI = "persistence"; function bU(n, e) { if (av(Object.values(ks).includes(e), n, "invalid-persistence-type"), Q1()) { av(e !== ks.SESSION, n, "unsupported-persistence-type"); return } if (X1()) { av(e === ks.NONE, n, "unsupported-persistence-type"); return } if (yE()) { av(e === ks.NONE || e === ks.LOCAL && tb(), n, "unsupported-persistence-type"); return } av(e === ks.NONE || tI(), n, "unsupported-persistence-type") } async function L_(n) { await n._initializationPromise; const e = rI(), t = Lh(iI, n.config.apiKey, n.name); e && e.setItem(t, n._getPersistence()) } function wU(n, e) { const t = rI(); if (!t) return []; const i = Lh(iI, n, e); switch (t.getItem(i)) { case ks.NONE: return [Jp]; case ks.LOCAL: return [em, Jc]; case ks.SESSION: return [Jc]; default: return [] } } function rI() { var n; try { return ((n = yU()) === null || n === void 0 ? void 0 : n.sessionStorage) || null } catch { return null } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U = Ae; class Gc { constructor() { this.browserResolver = Ps(JR), this.cordovaResolver = Ps(aU), this.underlyingResolver = null, this._redirectPersistence = Jc, this._completeRedirectFn = Hb, this._overrideRedirectResult = gE } async _initialize(e) { return await this.selectUnderlyingResolver(), this.assertedUnderlyingResolver._initialize(e) } async _openPopup(e, t, i, o) { return await this.selectUnderlyingResolver(), this.assertedUnderlyingResolver._openPopup(e, t, i, o) } async _openRedirect(e, t, i, o) { return await this.selectUnderlyingResolver(), this.assertedUnderlyingResolver._openRedirect(e, t, i, o) } _isIframeWebStorageSupported(e, t) { this.assertedUnderlyingResolver._isIframeWebStorageSupported(e, t) } _originValidation(e) { return this.assertedUnderlyingResolver._originValidation(e) } get _shouldInitProactively() { return nI() || this.browserResolver._shouldInitProactively } get assertedUnderlyingResolver() { return _U(this.underlyingResolver, "internal-error"), this.underlyingResolver } async selectUnderlyingResolver() { if (this.underlyingResolver) return; const e = await vU(); this.underlyingResolver = e ? this.cordovaResolver : this.browserResolver } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(n) { return n.unwrap() } function EU(n) { return n.wrapped() }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(n) { return oI(n) } function SU(n, e) { var t; const i = (t = e.customData) === null || t === void 0 ? void 0 : t._tokenResponse; if (e?.code === "auth/multi-factor-auth-required") { const o = e; o.resolver = new AU(n, o6(n, e)) } else if (i) { const o = oI(e), u = e; o && (u.credential = o, u.tenantId = i.tenantId || void 0, u.email = i.email || void 0, u.phoneNumber = i.phoneNumber || void 0) } } function oI(n) { const { _tokenResponse: e } = n instanceof Ur ? n.customData : n; if (!e) return null; if (!(n instanceof Ur) && "temporaryProof" in e && "phoneNumber" in e) return zh.credentialFromResult(n); const t = e.providerId; if (!t || t === ov.PASSWORD) return null; let i; switch (t) { case ov.GOOGLE: i = Zo; break; case ov.FACEBOOK: i = Ya; break; case ov.GITHUB: i = Xa; break; case ov.TWITTER: i = Qa; break; default: const { oauthIdToken: o, oauthAccessToken: u, oauthTokenSecret: d, pendingToken: p, nonce: m } = e; return !u && !d && !o && !p ? null : p ? t.startsWith("saml.") ? Zp._create(t, p) : al._fromParams({ providerId: t, signInMethod: t, pendingToken: p, idToken: o, accessToken: u }) : new Kp(t).credential({ idToken: o, accessToken: u, rawNonce: m }) }return n instanceof Ur ? i.credentialFromError(n) : i.credentialFromResult(n) } function ns(n, e) { return e.catch(t => { throw t instanceof Ur && SU(n, t), t }).then(t => { const i = t.operationType, o = t.user; return { operationType: i, credential: TU(t), additionalUserInfo: t6(t), user: qb.getOrCreate(o) } }) } async function V_(n, e) { const t = await e; return { verificationId: t.verificationId, confirm: i => ns(n, t.confirm(i)) } } class AU { constructor(e, t) { this.resolver = t, this.auth = EU(e) } get session() { return this.resolver.session } get hints() { return this.resolver.hints } resolveSignIn(e) { return ns(sI(this.auth), this.resolver.resolveSignIn(e)) } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qb = class pv { constructor(e) { this._delegate = e, this.multiFactor = c6(e) } static getOrCreate(e) { return pv.USER_MAP.has(e) || pv.USER_MAP.set(e, new pv(e)), pv.USER_MAP.get(e) } delete() { return this._delegate.delete() } reload() { return this._delegate.reload() } toJSON() { return this._delegate.toJSON() } getIdTokenResult(e) { return this._delegate.getIdTokenResult(e) } getIdToken(e) { return this._delegate.getIdToken(e) } linkAndRetrieveDataWithCredential(e) { return this.linkWithCredential(e) } async linkWithCredential(e) { return ns(this.auth, MR(this._delegate, e)) } async linkWithPhoneNumber(e, t) { return V_(this.auth, U6(this._delegate, e, t)) } async linkWithPopup(e) { return ns(this.auth, W6(this._delegate, e, Gc)) } async linkWithRedirect(e) { return await L_(Kn(this.auth)), i5(this._delegate, e, Gc) } reauthenticateAndRetrieveDataWithCredential(e) { return this.reauthenticateWithCredential(e) } async reauthenticateWithCredential(e) { return ns(this.auth, DR(this._delegate, e)) } reauthenticateWithPhoneNumber(e, t) { return V_(this.auth, B6(this._delegate, e, t)) } reauthenticateWithPopup(e) { return ns(this.auth, $6(this._delegate, e, Gc)) } async reauthenticateWithRedirect(e) { return await L_(Kn(this.auth)), t5(this._delegate, e, Gc) } sendEmailVerification(e) { return qj(this._delegate, e) } async unlink(e) { return await kj(this._delegate, e), this } updateEmail(e) { return Wj(this._delegate, e) } updatePassword(e) { return Yj(this._delegate, e) } updatePhoneNumber(e) { return F6(this._delegate, e) } updateProfile(e) { return $j(this._delegate, e) } verifyBeforeUpdateEmail(e, t) { return Gj(this._delegate, e, t) } get emailVerified() { return this._delegate.emailVerified } get isAnonymous() { return this._delegate.isAnonymous } get metadata() { return this._delegate.metadata } get phoneNumber() { return this._delegate.phoneNumber } get providerData() { return this._delegate.providerData } get refreshToken() { return this._delegate.refreshToken } get tenantId() { return this._delegate.tenantId } get displayName() { return this._delegate.displayName } get email() { return this._delegate.email } get photoURL() { return this._delegate.photoURL } get providerId() { return this._delegate.providerId } get uid() { return this._delegate.uid } get auth() { return this._delegate.auth } }; qb.USER_MAP = new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv = Ae; class j_ { constructor(e, t) { if (this.app = e, t.isInitialized()) { this._delegate = t.getImmediate(), this.linkUnderlyingAuth(); return } const { apiKey: i } = e.options; lv(i, "invalid-api-key", { appName: e.name }), lv(i, "invalid-api-key", { appName: e.name }); const o = typeof window < "u" ? Gc : void 0; this._delegate = t.initialize({ options: { persistence: CU(i, e.name), popupRedirectResolver: o } }), this._delegate._updateErrorMap(TV), this.linkUnderlyingAuth() } get emulatorConfig() { return this._delegate.emulatorConfig } get currentUser() { return this._delegate.currentUser ? qb.getOrCreate(this._delegate.currentUser) : null } get languageCode() { return this._delegate.languageCode } set languageCode(e) { this._delegate.languageCode = e } get settings() { return this._delegate.settings } get tenantId() { return this._delegate.tenantId } set tenantId(e) { this._delegate.tenantId = e } useDeviceLanguage() { this._delegate.useDeviceLanguage() } signOut() { return this._delegate.signOut() } useEmulator(e, t) { AR(this._delegate, e, t) } applyActionCode(e) { return Oj(this._delegate, e) } checkActionCode(e) { return OR(this._delegate, e) } confirmPasswordReset(e, t) { return Dj(this._delegate, e, t) } async createUserWithEmailAndPassword(e, t) { return ns(this._delegate, Vj(this._delegate, e, t)) } fetchProvidersForEmail(e) { return this.fetchSignInMethodsForEmail(e) } fetchSignInMethodsForEmail(e) { return Hj(this._delegate, e) } isSignInWithEmailLink(e) { return Bj(this._delegate, e) } async getRedirectResult() { lv(Qw(), this._delegate, "operation-not-supported-in-this-environment"); const e = await s5(this._delegate, Gc); return e ? ns(this._delegate, Promise.resolve(e)) : { credential: null, user: null } } addFrameworkForLogging(e) { lU(this._delegate, e) } onAuthStateChanged(e, t, i) { const { next: o, error: u, complete: d } = rA(e, t, i); return this._delegate.onAuthStateChanged(o, u, d) } onIdTokenChanged(e, t, i) { const { next: o, error: u, complete: d } = rA(e, t, i); return this._delegate.onIdTokenChanged(o, u, d) } sendSignInLinkToEmail(e, t) { return Uj(this._delegate, e, t) } sendPasswordResetEmail(e, t) { return Mj(this._delegate, e, t || void 0) } async setPersistence(e) { bU(this._delegate, e); let t; switch (e) { case ks.SESSION: t = Jc; break; case ks.LOCAL: t = await Ps(em)._isAvailable() ? em : Ub; break; case ks.NONE: t = Jp; break; default: return Ui("argument-error", { appName: this._delegate.name }) }return this._delegate.setPersistence(t) } signInAndRetrieveDataWithCredential(e) { return this.signInWithCredential(e) } signInAnonymously() { return ns(this._delegate, Ij(this._delegate)) } signInWithCredential(e) { return ns(this._delegate, Vb(this._delegate, e)) } signInWithCustomToken(e) { return ns(this._delegate, Nj(this._delegate, e)) } signInWithEmailAndPassword(e, t) { return ns(this._delegate, jj(this._delegate, e, t)) } signInWithEmailLink(e, t) { return ns(this._delegate, Fj(this._delegate, e, t)) } signInWithPhoneNumber(e, t) { return V_(this._delegate, j6(this._delegate, e, t)) } async signInWithPopup(e) { return lv(Qw(), this._delegate, "operation-not-supported-in-this-environment"), ns(this._delegate, K6(this._delegate, e, Gc)) } async signInWithRedirect(e) { return lv(Qw(), this._delegate, "operation-not-supported-in-this-environment"), await L_(this._delegate), Z6(this._delegate, e, Gc) } updateCurrentUser(e) { return this._delegate.updateCurrentUser(e) } verifyPasswordResetCode(e) { return Lj(this._delegate, e) } unwrap() { return this._delegate } _delete() { return this._delegate._delete() } linkUnderlyingAuth() { this._delegate.wrapped = () => this } } j_.Persistence = ks; function rA(n, e, t) { let i = n; typeof n != "function" && ({ next: i, error: e, complete: t } = n); const o = i; return { next: d => o(d && qb.getOrCreate(d)), error: e, complete: t } } function CU(n, e) { const t = wU(n, e); if (typeof self < "u" && !t.includes(em) && t.push(em), typeof window < "u") for (const i of [Ub, Jc]) t.includes(i) || t.push(i); return t.includes(Jp) || t.push(Jp), t }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE { constructor() { this.providerId = "phone", this._delegate = new zh(sI(He.auth())) } static credential(e, t) { return zh.credential(e, t) } verifyPhoneNumber(e, t) { return this._delegate.verifyPhoneNumber(e, t) } unwrap() { return this._delegate } } bE.PHONE_SIGN_IN_METHOD = zh.PHONE_SIGN_IN_METHOD; bE.PROVIDER_ID = zh.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU = Ae; class RU { constructor(e, t, i = He.app()) { var o; xU((o = i.options) === null || o === void 0 ? void 0 : o.apiKey, "invalid-api-key", { appName: i.name }), this._delegate = new L6(i.auth(), e, t), this.type = this._delegate.type } clear() { this._delegate.clear() } render() { return this._delegate.render() } verify() { return this._delegate.verify() } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU = "auth-compat"; function kU(n) { n.INTERNAL.registerComponent(new ol(IU, e => { const t = e.getProvider("app-compat").getImmediate(), i = e.getProvider("auth"); return new j_(t, i) }, "PUBLIC").setServiceProps({ ActionCodeInfo: { Operation: { EMAIL_SIGNIN: Pp.EMAIL_SIGNIN, PASSWORD_RESET: Pp.PASSWORD_RESET, RECOVER_EMAIL: Pp.RECOVER_EMAIL, REVERT_SECOND_FACTOR_ADDITION: Pp.REVERT_SECOND_FACTOR_ADDITION, VERIFY_AND_CHANGE_EMAIL: Pp.VERIFY_AND_CHANGE_EMAIL, VERIFY_EMAIL: Pp.VERIFY_EMAIL } }, EmailAuthProvider: sd, FacebookAuthProvider: Ya, GithubAuthProvider: Xa, GoogleAuthProvider: Zo, OAuthProvider: Kp, SAMLAuthProvider: sb, PhoneAuthProvider: bE, PhoneMultiFactorGenerator: ZR, RecaptchaVerifier: RU, TwitterAuthProvider: Qa, Auth: j_, AuthCredential: gm, Error: Ur }).setInstantiationMode("LAZY").setMultipleInstances(!1)), n.registerVersion(uU, cU) } kU(He); var Jw = { exports: {} }, sA; function PU() { return sA || (sA = 1, function (n) { (function () { var e = window.CustomEvent; (!e || typeof e == "object") && (e = function (R, L) { L = L || {}; var z = document.createEvent("CustomEvent"); return z.initCustomEvent(R, !!L.bubbles, !!L.cancelable, L.detail || null), z }, e.prototype = window.Event.prototype); function t(k) { for (; k && k !== document.body;) { var R = window.getComputedStyle(k), L = function (z, $) { return !(R[z] === void 0 || R[z] === $) }; if (R.opacity < 1 || L("zIndex", "auto") || L("transform", "none") || L("mixBlendMode", "normal") || L("filter", "none") || L("perspective", "none") || R.isolation === "isolate" || R.position === "fixed" || R.webkitOverflowScrolling === "touch") return !0; k = k.parentElement } return !1 } function i(k) { for (; k;) { if (k.localName === "dialog") return k; k = k.parentElement } return null } function o(k) { k && k.blur && k !== document.body && k.blur() } function u(k, R) { for (var L = 0; L < k.length; ++L)if (k[L] === R) return !0; return !1 } function d(k) { return !k || !k.hasAttribute("method") ? !1 : k.getAttribute("method").toLowerCase() === "dialog" } function p(k) { if (this.dialog_ = k, this.replacedStyleTop_ = !1, this.openAsModal_ = !1, k.hasAttribute("role") || k.setAttribute("role", "dialog"), k.show = this.show.bind(this), k.showModal = this.showModal.bind(this), k.close = this.close.bind(this), "returnValue" in k || (k.returnValue = ""), "MutationObserver" in window) { var R = new MutationObserver(this.maybeHideModal.bind(this)); R.observe(k, { attributes: !0, attributeFilter: ["open"] }) } else { var L = !1, z = (function () { L ? this.downgradeModal() : this.maybeHideModal(), L = !1 }).bind(this), $, J = function (Q) { if (Q.target === k) { var re = "DOMNodeRemoved"; L |= Q.type.substr(0, re.length) === re, window.clearTimeout($), $ = window.setTimeout(z, 0) } };["DOMAttrModified", "DOMNodeRemoved", "DOMNodeRemovedFromDocument"].forEach(function (Q) { k.addEventListener(Q, J) }) } Object.defineProperty(k, "open", { set: this.setOpen.bind(this), get: k.hasAttribute.bind(k, "open") }), this.backdrop_ = document.createElement("div"), this.backdrop_.className = "backdrop", this.backdrop_.addEventListener("click", this.backdropClick_.bind(this)) } p.prototype = { get dialog() { return this.dialog_ }, maybeHideModal: function () { this.dialog_.hasAttribute("open") && document.body.contains(this.dialog_) || this.downgradeModal() }, downgradeModal: function () { this.openAsModal_ && (this.openAsModal_ = !1, this.dialog_.style.zIndex = "", this.replacedStyleTop_ && (this.dialog_.style.top = "", this.replacedStyleTop_ = !1), this.backdrop_.parentNode && this.backdrop_.parentNode.removeChild(this.backdrop_), m.dm.removeDialog(this)) }, setOpen: function (k) { k ? this.dialog_.hasAttribute("open") || this.dialog_.setAttribute("open", "") : (this.dialog_.removeAttribute("open"), this.maybeHideModal()) }, backdropClick_: function (k) { if (this.dialog_.hasAttribute("tabindex")) this.dialog_.focus(); else { var R = document.createElement("div"); this.dialog_.insertBefore(R, this.dialog_.firstChild), R.tabIndex = -1, R.focus(), this.dialog_.removeChild(R) } var L = document.createEvent("MouseEvents"); L.initMouseEvent(k.type, k.bubbles, k.cancelable, window, k.detail, k.screenX, k.screenY, k.clientX, k.clientY, k.ctrlKey, k.altKey, k.shiftKey, k.metaKey, k.button, k.relatedTarget), this.dialog_.dispatchEvent(L), k.stopPropagation() }, focus_: function () { var k = this.dialog_.querySelector("[autofocus]:not([disabled])"); if (!k && this.dialog_.tabIndex >= 0 && (k = this.dialog_), !k) { var R = ["button", "input", "keygen", "select", "textarea"], L = R.map(function (z) { return z + ":not([disabled])" }); L.push('[tabindex]:not([disabled]):not([tabindex=""])'), k = this.dialog_.querySelector(L.join(", ")) } o(document.activeElement), k && k.focus() }, updateZIndex: function (k, R) { if (k < R) throw new Error("dialogZ should never be < backdropZ"); this.dialog_.style.zIndex = k, this.backdrop_.style.zIndex = R }, show: function () { this.dialog_.open || (this.setOpen(!0), this.focus_()) }, showModal: function () { if (this.dialog_.hasAttribute("open")) throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally."); if (!document.body.contains(this.dialog_)) throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document."); if (!m.dm.pushDialog(this)) throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs."); t(this.dialog_.parentElement) && console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"), this.setOpen(!0), this.openAsModal_ = !0, m.needsCentering(this.dialog_) ? (m.reposition(this.dialog_), this.replacedStyleTop_ = !0) : this.replacedStyleTop_ = !1, this.dialog_.parentNode.insertBefore(this.backdrop_, this.dialog_.nextSibling), this.focus_() }, close: function (k) { if (!this.dialog_.hasAttribute("open")) throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed."); this.setOpen(!1), k !== void 0 && (this.dialog_.returnValue = k); var R = new e("close", { bubbles: !1, cancelable: !1 }); this.dialog_.dispatchEvent(R) } }; var m = {}; if (m.reposition = function (k) { var R = document.body.scrollTop || document.documentElement.scrollTop, L = R + (window.innerHeight - k.offsetHeight) / 2; k.style.top = Math.max(R, L) + "px" }, m.isInlinePositionSetByStylesheet = function (k) { for (var R = 0; R < document.styleSheets.length; ++R) { var L = document.styleSheets[R], z = null; try { z = L.cssRules } catch { } if (z) for (var $ = 0; $ < z.length; ++$) { var J = z[$], Q = null; try { Q = document.querySelectorAll(J.selectorText) } catch { } if (!(!Q || !u(Q, k))) { var re = J.style.getPropertyValue("top"), F = J.style.getPropertyValue("bottom"); if (re && re !== "auto" || F && F !== "auto") return !0 } } } return !1 }, m.needsCentering = function (k) { var R = window.getComputedStyle(k); return R.position !== "absolute" || k.style.top !== "auto" && k.style.top !== "" || k.style.bottom !== "auto" && k.style.bottom !== "" ? !1 : !m.isInlinePositionSetByStylesheet(k) }, m.forceRegisterDialog = function (k) { if ((window.HTMLDialogElement || k.showModal) && console.warn("This browser already supports <dialog>, the polyfill may not work correctly", k), k.localName !== "dialog") throw new Error("Failed to register dialog: The element is not a dialog."); new p(k) }, m.registerDialog = function (k) { k.showModal || m.forceRegisterDialog(k) }, m.DialogManager = function () { this.pendingDialogStack = []; var k = this.checkDOM_.bind(this); this.overlay = document.createElement("div"), this.overlay.className = "_dialog_overlay", this.overlay.addEventListener("click", (function (R) { this.forwardTab_ = void 0, R.stopPropagation(), k([]) }).bind(this)), this.handleKey_ = this.handleKey_.bind(this), this.handleFocus_ = this.handleFocus_.bind(this), this.zIndexLow_ = 1e5, this.zIndexHigh_ = 100150, this.forwardTab_ = void 0, "MutationObserver" in window && (this.mo_ = new MutationObserver(function (R) { var L = []; R.forEach(function (z) { for (var $ = 0, J; J = z.removedNodes[$]; ++$) { if (J instanceof Element) J.localName === "dialog" && L.push(J); else continue; L = L.concat(J.querySelectorAll("dialog")) } }), L.length && k(L) })) }, m.DialogManager.prototype.blockDocument = function () { document.documentElement.addEventListener("focus", this.handleFocus_, !0), document.addEventListener("keydown", this.handleKey_), this.mo_ && this.mo_.observe(document, { childList: !0, subtree: !0 }) }, m.DialogManager.prototype.unblockDocument = function () { document.documentElement.removeEventListener("focus", this.handleFocus_, !0), document.removeEventListener("keydown", this.handleKey_), this.mo_ && this.mo_.disconnect() }, m.DialogManager.prototype.updateStacking = function () { for (var k = this.zIndexHigh_, R = 0, L; L = this.pendingDialogStack[R]; ++R)L.updateZIndex(--k, --k), R === 0 && (this.overlay.style.zIndex = --k); var z = this.pendingDialogStack[0]; if (z) { var $ = z.dialog.parentNode || document.body; $.appendChild(this.overlay) } else this.overlay.parentNode && this.overlay.parentNode.removeChild(this.overlay) }, m.DialogManager.prototype.containedByTopDialog_ = function (k) { for (; k = i(k);) { for (var R = 0, L; L = this.pendingDialogStack[R]; ++R)if (L.dialog === k) return R === 0; k = k.parentElement } return !1 }, m.DialogManager.prototype.handleFocus_ = function (k) { if (!this.containedByTopDialog_(k.target) && (k.preventDefault(), k.stopPropagation(), o(k.target), this.forwardTab_ !== void 0)) { var R = this.pendingDialogStack[0], L = R.dialog, z = L.compareDocumentPosition(k.target); return z & Node.DOCUMENT_POSITION_PRECEDING && (this.forwardTab_ ? R.focus_() : document.documentElement.focus()), !1 } }, m.DialogManager.prototype.handleKey_ = function (k) { if (this.forwardTab_ = void 0, k.keyCode === 27) { k.preventDefault(), k.stopPropagation(); var R = new e("cancel", { bubbles: !1, cancelable: !0 }), L = this.pendingDialogStack[0]; L && L.dialog.dispatchEvent(R) && L.dialog.close() } else k.keyCode === 9 && (this.forwardTab_ = !k.shiftKey) }, m.DialogManager.prototype.checkDOM_ = function (k) { var R = this.pendingDialogStack.slice(); R.forEach(function (L) { k.indexOf(L.dialog) !== -1 ? L.downgradeModal() : L.maybeHideModal() }) }, m.DialogManager.prototype.pushDialog = function (k) { var R = (this.zIndexHigh_ - this.zIndexLow_) / 2 - 1; return this.pendingDialogStack.length >= R ? !1 : (this.pendingDialogStack.unshift(k) === 1 && this.blockDocument(), this.updateStacking(), !0) }, m.DialogManager.prototype.removeDialog = function (k) { var R = this.pendingDialogStack.indexOf(k); R !== -1 && (this.pendingDialogStack.splice(R, 1), this.pendingDialogStack.length === 0 && this.unblockDocument(), this.updateStacking()) }, m.dm = new m.DialogManager, m.formSubmitter = null, m.useValue = null, window.HTMLDialogElement === void 0) { var y = document.createElement("form"); if (y.setAttribute("method", "dialog"), y.method !== "dialog") { var w = Object.getOwnPropertyDescriptor(HTMLFormElement.prototype, "method"); if (w) { var E = w.get; w.get = function () { return d(this) ? "dialog" : E.call(this) }; var C = w.set; w.set = function (k) { return typeof k == "string" && k.toLowerCase() === "dialog" ? this.setAttribute("method", k) : C.call(this, k) }, Object.defineProperty(HTMLFormElement.prototype, "method", w) } } document.addEventListener("click", function (k) { if (m.formSubmitter = null, m.useValue = null, !k.defaultPrevented) { var R = k.target; if (!(!R || !d(R.form))) { var L = R.type === "submit" && ["button", "input"].indexOf(R.localName) > -1; if (!L) { if (!(R.localName === "input" && R.type === "image")) return; m.useValue = k.offsetX + "," + k.offsetY } var z = i(R); z && (m.formSubmitter = R) } } }, !1); var N = HTMLFormElement.prototype.submit, U = function () { if (!d(this)) return N.call(this); var k = i(this); k && k.close() }; HTMLFormElement.prototype.submit = U, document.addEventListener("submit", function (k) { var R = k.target; if (d(R)) { k.preventDefault(); var L = i(R); if (L) { var z = m.formSubmitter; z && z.form === R ? L.close(m.useValue || z.value) : L.close(), m.formSubmitter = null } } }, !0) } m.forceRegisterDialog = m.forceRegisterDialog, m.registerDialog = m.registerDialog, typeof n.exports == "object" ? n.exports = m : window.dialogPolyfill = m })() }(Jw)), Jw.exports } var NU = PU(); const MU = I1(NU); var oA = {};/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aA; function DU() { if (aA) return oA; aA = 1; var n = { upgradeDom: function (e, t) { }, upgradeElement: function (e, t) { }, upgradeElements: function (e) { }, upgradeAllRegistered: function () { }, registerUpgradedCallback: function (e, t) { }, register: function (e) { }, downgradeElements: function (e) { } }; return n = function () { var e = [], t = [], i = "mdlComponentConfigInternal_"; function o(R, L) { for (var z = 0; z < e.length; z++)if (e[z].className === R) return typeof L < "u" && (e[z] = L), e[z]; return !1 } function u(R) { var L = R.getAttribute("data-upgraded"); return L === null ? [""] : L.split(",") } function d(R, L) { var z = u(R); return z.indexOf(L) !== -1 } function p(R, L, z) { if ("CustomEvent" in window && typeof window.CustomEvent == "function") return new CustomEvent(R, { bubbles: L, cancelable: z }); var $ = document.createEvent("Events"); return $.initEvent(R, L, z), $ } function m(R, L) { if (typeof R > "u" && typeof L > "u") for (var z = 0; z < e.length; z++)m(e[z].className, e[z].cssClass); else { var $ = R; if (typeof L > "u") { var J = o($); J && (L = J.cssClass) } for (var Q = document.querySelectorAll("." + L), re = 0; re < Q.length; re++)y(Q[re], $) } } function y(R, L) { if (!(typeof R == "object" && R instanceof Element)) throw new Error("Invalid argument provided to upgrade MDL element."); var z = p("mdl-componentupgrading", !0, !0); if (R.dispatchEvent(z), !z.defaultPrevented) { var $ = u(R), J = []; if (L) d(R, L) || J.push(o(L)); else { var Q = R.classList; e.forEach(function (H) { Q.contains(H.cssClass) && J.indexOf(H) === -1 && !d(R, H.className) && J.push(H) }) } for (var re = 0, F = J.length, V; re < F; re++) { if (V = J[re], V) { $.push(V.className), R.setAttribute("data-upgraded", $.join(",")); var O = new V.classConstructor(R); O[i] = V, t.push(O); for (var q = 0, G = V.callbacks.length; q < G; q++)V.callbacks[q](R); V.widget && (R[V.className] = O) } else throw new Error("Unable to find a registered component for the given class."); var K = p("mdl-componentupgraded", !0, !1); R.dispatchEvent(K) } } } function w(R) { Array.isArray(R) || (R instanceof Element ? R = [R] : R = Array.prototype.slice.call(R)); for (var L = 0, z = R.length, $; L < z; L++)$ = R[L], $ instanceof HTMLElement && (y($), $.children.length > 0 && w($.children)) } function E(R) { var L = typeof R.widget > "u" && typeof R.widget > "u", z = !0; L || (z = R.widget || R.widget); var $ = { classConstructor: R.constructor || R.constructor, className: R.classAsString || R.classAsString, cssClass: R.cssClass || R.cssClass, widget: z, callbacks: [] }; if (e.forEach(function (Q) { if (Q.cssClass === $.cssClass) throw new Error("The provided cssClass has already been registered: " + Q.cssClass); if (Q.className === $.className) throw new Error("The provided className has already been registered") }), R.constructor.prototype.hasOwnProperty(i)) throw new Error("MDL component classes must not have " + i + " defined as a property."); var J = o(R.classAsString, $); J || e.push($) } function C(R, L) { var z = o(R); z && z.callbacks.push(L) } function N() { for (var R = 0; R < e.length; R++)m(e[R].className) } function U(R) { if (R) { var L = t.indexOf(R); t.splice(L, 1); var z = R.element_.getAttribute("data-upgraded").split(","), $ = z.indexOf(R[i].classAsString); z.splice($, 1), R.element_.setAttribute("data-upgraded", z.join(",")); var J = p("mdl-componentdowngraded", !0, !1); R.element_.dispatchEvent(J) } } function k(R) { var L = function ($) { t.filter(function (J) { return J.element_ === $ }).forEach(U) }; if (R instanceof Array || R instanceof NodeList) for (var z = 0; z < R.length; z++)L(R[z]); else if (R instanceof Node) L(R); else throw new Error("Invalid argument provided to downgrade MDL nodes.") } return { upgradeDom: m, upgradeElement: y, upgradeElements: w, upgradeAllRegistered: N, registerUpgradedCallback: C, register: E, downgradeElements: k } }(), n.ComponentConfigPublic, n.ComponentConfig, n.Component, n.upgradeDom = n.upgradeDom, n.upgradeElement = n.upgradeElement, n.upgradeElements = n.upgradeElements, n.upgradeAllRegistered = n.upgradeAllRegistered, n.registerUpgradedCallback = n.registerUpgradedCallback, n.register = n.register, n.downgradeElements = n.downgradeElements, window.componentHandler = n, window.componentHandler = n, window.addEventListener("load", function () { "classList" in document.createElement("div") && "querySelector" in document && "addEventListener" in window && Array.prototype.forEach ? (document.documentElement.classList.add("mdl-js"), n.upgradeAllRegistered()) : (n.upgradeElement = function () { }, n.register = function () { }) }), oA } DU(); var lA = {};/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uA; function OU() { return uA || (uA = 1, function () { var n = function (t) { this.element_ = t, this.init() }; window.MaterialButton = n, n.prototype.Constant_ = {}, n.prototype.CssClasses_ = { RIPPLE_EFFECT: "mdl-js-ripple-effect", RIPPLE_CONTAINER: "mdl-button__ripple-container", RIPPLE: "mdl-ripple" }, n.prototype.blurHandler_ = function (e) { e && this.element_.blur() }, n.prototype.disable = function () { this.element_.disabled = !0 }, n.prototype.disable = n.prototype.disable, n.prototype.enable = function () { this.element_.disabled = !1 }, n.prototype.enable = n.prototype.enable, n.prototype.init = function () { if (this.element_) { if (this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)) { var e = document.createElement("span"); e.classList.add(this.CssClasses_.RIPPLE_CONTAINER), this.rippleElement_ = document.createElement("span"), this.rippleElement_.classList.add(this.CssClasses_.RIPPLE), e.appendChild(this.rippleElement_), this.boundRippleBlurHandler = this.blurHandler_.bind(this), this.rippleElement_.addEventListener("mouseup", this.boundRippleBlurHandler), this.element_.appendChild(e) } this.boundButtonBlurHandler = this.blurHandler_.bind(this), this.element_.addEventListener("mouseup", this.boundButtonBlurHandler), this.element_.addEventListener("mouseleave", this.boundButtonBlurHandler) } }, componentHandler.register({ constructor: n, classAsString: "MaterialButton", cssClass: "mdl-js-button", widget: !0 }) }()), lA } OU(); var cA = {};/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dA; function LU() { return dA || (dA = 1, function () { var n = function (t) { this.element_ = t, this.init() }; window.MaterialProgress = n, n.prototype.Constant_ = {}, n.prototype.CssClasses_ = { INDETERMINATE_CLASS: "mdl-progress__indeterminate" }, n.prototype.setProgress = function (e) { this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS) || (this.progressbar_.style.width = e + "%") }, n.prototype.setProgress = n.prototype.setProgress, n.prototype.setBuffer = function (e) { this.bufferbar_.style.width = e + "%", this.auxbar_.style.width = 100 - e + "%" }, n.prototype.setBuffer = n.prototype.setBuffer, n.prototype.init = function () { if (this.element_) { var e = document.createElement("div"); e.className = "progressbar bar bar1", this.element_.appendChild(e), this.progressbar_ = e, e = document.createElement("div"), e.className = "bufferbar bar bar2", this.element_.appendChild(e), this.bufferbar_ = e, e = document.createElement("div"), e.className = "auxbar bar bar3", this.element_.appendChild(e), this.auxbar_ = e, this.progressbar_.style.width = "0%", this.bufferbar_.style.width = "100%", this.auxbar_.style.width = "0%", this.element_.classList.add("is-upgraded") } }, componentHandler.register({ constructor: n, classAsString: "MaterialProgress", cssClass: "mdl-js-progress", widget: !0 }) }()), cA } LU(); var hA = {};/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fA; function VU() { return fA || (fA = 1, function () { var n = function (t) { this.element_ = t, this.init() }; window.MaterialSpinner = n, n.prototype.Constant_ = { MDL_SPINNER_LAYER_COUNT: 4 }, n.prototype.CssClasses_ = { MDL_SPINNER_LAYER: "mdl-spinner__layer", MDL_SPINNER_CIRCLE_CLIPPER: "mdl-spinner__circle-clipper", MDL_SPINNER_CIRCLE: "mdl-spinner__circle", MDL_SPINNER_GAP_PATCH: "mdl-spinner__gap-patch", MDL_SPINNER_LEFT: "mdl-spinner__left", MDL_SPINNER_RIGHT: "mdl-spinner__right" }, n.prototype.createLayer = function (e) { var t = document.createElement("div"); t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER), t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER + "-" + e); var i = document.createElement("div"); i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER), i.classList.add(this.CssClasses_.MDL_SPINNER_LEFT); var o = document.createElement("div"); o.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH); var u = document.createElement("div"); u.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER), u.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT); for (var d = [i, o, u], p = 0; p < d.length; p++) { var m = document.createElement("div"); m.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE), d[p].appendChild(m) } t.appendChild(i), t.appendChild(o), t.appendChild(u), this.element_.appendChild(t) }, n.prototype.createLayer = n.prototype.createLayer, n.prototype.stop = function () { this.element_.classList.remove("is-active") }, n.prototype.stop = n.prototype.stop, n.prototype.start = function () { this.element_.classList.add("is-active") }, n.prototype.start = n.prototype.start, n.prototype.init = function () { if (this.element_) { for (var e = 1; e <= this.Constant_.MDL_SPINNER_LAYER_COUNT; e++)this.createLayer(e); this.element_.classList.add("is-upgraded") } }, componentHandler.register({ constructor: n, classAsString: "MaterialSpinner", cssClass: "mdl-js-spinner", widget: !0 }) }()), hA } VU(); var pA = {};/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mA; function jU() {
  return mA || (mA = 1, function () {
    var n = function (t) { this.element_ = t, this.maxRows = this.Constant_.NO_MAX_ROWS, this.init() }; window.MaterialTextfield = n, n.prototype.Constant_ = { NO_MAX_ROWS: -1, MAX_ROWS_ATTRIBUTE: "maxrows" }, n.prototype.CssClasses_ = { LABEL: "mdl-textfield__label", INPUT: "mdl-textfield__input", IS_DIRTY: "is-dirty", IS_FOCUSED: "is-focused", IS_DISABLED: "is-disabled", IS_INVALID: "is-invalid", IS_UPGRADED: "is-upgraded", HAS_PLACEHOLDER: "has-placeholder" }, n.prototype.onKeyDown_ = function (e) {
      var t = e.target.value.split(`
`).length; e.keyCode === 13 && t >= this.maxRows && e.preventDefault()
    }, n.prototype.onFocus_ = function (e) { this.element_.classList.add(this.CssClasses_.IS_FOCUSED) }, n.prototype.onBlur_ = function (e) { this.element_.classList.remove(this.CssClasses_.IS_FOCUSED) }, n.prototype.onReset_ = function (e) { this.updateClasses_() }, n.prototype.updateClasses_ = function () { this.checkDisabled(), this.checkValidity(), this.checkDirty(), this.checkFocus() }, n.prototype.checkDisabled = function () { this.input_.disabled ? this.element_.classList.add(this.CssClasses_.IS_DISABLED) : this.element_.classList.remove(this.CssClasses_.IS_DISABLED) }, n.prototype.checkDisabled = n.prototype.checkDisabled, n.prototype.checkFocus = function () { this.element_.querySelector(":focus") ? this.element_.classList.add(this.CssClasses_.IS_FOCUSED) : this.element_.classList.remove(this.CssClasses_.IS_FOCUSED) }, n.prototype.checkFocus = n.prototype.checkFocus, n.prototype.checkValidity = function () { this.input_.validity && (this.input_.validity.valid ? this.element_.classList.remove(this.CssClasses_.IS_INVALID) : this.element_.classList.add(this.CssClasses_.IS_INVALID)) }, n.prototype.checkValidity = n.prototype.checkValidity, n.prototype.checkDirty = function () { this.input_.value && this.input_.value.length > 0 ? this.element_.classList.add(this.CssClasses_.IS_DIRTY) : this.element_.classList.remove(this.CssClasses_.IS_DIRTY) }, n.prototype.checkDirty = n.prototype.checkDirty, n.prototype.disable = function () { this.input_.disabled = !0, this.updateClasses_() }, n.prototype.disable = n.prototype.disable, n.prototype.enable = function () { this.input_.disabled = !1, this.updateClasses_() }, n.prototype.enable = n.prototype.enable, n.prototype.change = function (e) { this.input_.value = e || "", this.updateClasses_() }, n.prototype.change = n.prototype.change, n.prototype.init = function () { if (this.element_ && (this.label_ = this.element_.querySelector("." + this.CssClasses_.LABEL), this.input_ = this.element_.querySelector("." + this.CssClasses_.INPUT), this.input_)) { this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE) && (this.maxRows = parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE), 10), isNaN(this.maxRows) && (this.maxRows = this.Constant_.NO_MAX_ROWS)), this.input_.hasAttribute("placeholder") && this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER), this.boundUpdateClassesHandler = this.updateClasses_.bind(this), this.boundFocusHandler = this.onFocus_.bind(this), this.boundBlurHandler = this.onBlur_.bind(this), this.boundResetHandler = this.onReset_.bind(this), this.input_.addEventListener("input", this.boundUpdateClassesHandler), this.input_.addEventListener("focus", this.boundFocusHandler), this.input_.addEventListener("blur", this.boundBlurHandler), this.input_.addEventListener("reset", this.boundResetHandler), this.maxRows !== this.Constant_.NO_MAX_ROWS && (this.boundKeyDownHandler = this.onKeyDown_.bind(this), this.input_.addEventListener("keydown", this.boundKeyDownHandler)); var e = this.element_.classList.contains(this.CssClasses_.IS_INVALID); this.updateClasses_(), this.element_.classList.add(this.CssClasses_.IS_UPGRADED), e && this.element_.classList.add(this.CssClasses_.IS_INVALID), this.input_.hasAttribute("autofocus") && (this.element_.focus(), this.checkFocus()) } }, componentHandler.register({ constructor: n, classAsString: "MaterialTextfield", cssClass: "mdl-js-textfield", widget: !0 })
  }()), pA
} jU(); (function () {
  (function () {
    var n, e = typeof Object.create == "function" ? Object.create : function (r) { function l() { } return l.prototype = r, new l }, t; if (typeof Object.setPrototypeOf == "function") t = Object.setPrototypeOf; else { var i; e: { var o = { xb: !0 }, u = {}; try { u.__proto__ = o, i = u.xb; break e } catch { } i = !1 } t = i ? function (r, l) { if (r.__proto__ = l, r.__proto__ !== l) throw new TypeError(r + " is not extensible"); return r } : null } var d = t; function p(r, l) { if (r.prototype = e(l.prototype), r.prototype.constructor = r, d) d(r, l); else for (var h in l) if (h != "prototype") if (Object.defineProperties) { var v = Object.getOwnPropertyDescriptor(l, h); v && Object.defineProperty(r, h, v) } else r[h] = l[h]; r.K = l.prototype } var m = typeof Object.defineProperties == "function" ? Object.defineProperty : function (r, l, h) { r != Array.prototype && r != Object.prototype && (r[l] = h.value) }, y = typeof window < "u" && window === this ? this : typeof global < "u" && global != null ? global : this; function w(r, l) { if (l) { var h = y; r = r.split("."); for (var v = 0; v < r.length - 1; v++) { var T = r[v]; T in h || (h[T] = {}), h = h[T] } r = r[r.length - 1], v = h[r], l = l(v), l != v && l != null && m(h, r, { configurable: !0, writable: !0, value: l }) } } w("Object.is", function (r) { return r || function (l, h) { return l === h ? l !== 0 || 1 / l === 1 / h : l !== l && h !== h } }), w("Array.prototype.includes", function (r) { return r || function (l, h) { var v = this; v instanceof String && (v = String(v)); var T = v.length; for (h = h || 0, 0 > h && (h = Math.max(h + T, 0)); h < T; h++) { var S = v[h]; if (S === l || Object.is(S, l)) return !0 } return !1 } }); var E = this; function C(r) { return r !== void 0 } function N(r) { return typeof r == "string" } var U = /^[\w+/_-]+[=]{0,2}$/, k = null; function R() { } function L(r) { r.W = void 0, r.Xa = function () { return r.W ? r.W : r.W = new r } } function z(r) { var l = typeof r; if (l == "object") if (r) { if (r instanceof Array) return "array"; if (r instanceof Object) return l; var h = Object.prototype.toString.call(r); if (h == "[object Window]") return "object"; if (h == "[object Array]" || typeof r.length == "number" && typeof r.splice < "u" && typeof r.propertyIsEnumerable < "u" && !r.propertyIsEnumerable("splice")) return "array"; if (h == "[object Function]" || typeof r.call < "u" && typeof r.propertyIsEnumerable < "u" && !r.propertyIsEnumerable("call")) return "function" } else return "null"; else if (l == "function" && typeof r.call > "u") return "object"; return l } function $(r) { return z(r) == "array" } function J(r) { var l = z(r); return l == "array" || l == "object" && typeof r.length == "number" } function Q(r) { return z(r) == "function" } function re(r) { var l = typeof r; return l == "object" && r != null || l == "function" } function F(r, l, h) { return r.call.apply(r.bind, arguments) } function V(r, l, h) { if (!r) throw Error(); if (2 < arguments.length) { var v = Array.prototype.slice.call(arguments, 2); return function () { var T = Array.prototype.slice.call(arguments); return Array.prototype.unshift.apply(T, v), r.apply(l, T) } } return function () { return r.apply(l, arguments) } } function O(r, l, h) { return Function.prototype.bind && Function.prototype.bind.toString().indexOf("native code") != -1 ? O = F : O = V, O.apply(null, arguments) } function q(r, l) { var h = Array.prototype.slice.call(arguments, 1); return function () { var v = h.slice(); return v.push.apply(v, arguments), r.apply(this, v) } } function G(r, l) { for (var h in l) r[h] = l[h] } var K = Date.now || function () { return +new Date }; function H(r, l) { r = r.split("."); var h = E; r[0] in h || typeof h.execScript > "u" || h.execScript("var " + r[0]); for (var v; r.length && (v = r.shift());)!r.length && C(l) ? h[v] = l : h[v] && h[v] !== Object.prototype[v] ? h = h[v] : h = h[v] = {} } function ce(r, l) { function h() { } h.prototype = l.prototype, r.K = l.prototype, r.prototype = new h, r.prototype.constructor = r, r.vc = function (v, T, S) { for (var D = Array(arguments.length - 2), W = 2; W < arguments.length; W++)D[W - 2] = arguments[W]; return l.prototype[T].apply(v, D) } } function xe(r) { if (Error.captureStackTrace) Error.captureStackTrace(this, xe); else { var l = Error().stack; l && (this.stack = l) } r && (this.message = String(r)) } ce(xe, Error), xe.prototype.name = "CustomError"; var se; function fe(r, l) { r = r.split("%s"); for (var h = "", v = r.length - 1, T = 0; T < v; T++)h += r[T] + (T < l.length ? l[T] : "%s"); xe.call(this, h + r[v]) } ce(fe, xe), fe.prototype.name = "AssertionError"; function _e(r, l) { throw new fe("Failure" + (r ? ": " + r : ""), Array.prototype.slice.call(arguments, 1)) } var Ie = Array.prototype.indexOf ? function (r, l) { return Array.prototype.indexOf.call(r, l, void 0) } : function (r, l) { if (N(r)) return N(l) && l.length == 1 ? r.indexOf(l, 0) : -1; for (var h = 0; h < r.length; h++)if (h in r && r[h] === l) return h; return -1 }, X = Array.prototype.forEach ? function (r, l, h) { Array.prototype.forEach.call(r, l, h) } : function (r, l, h) { for (var v = r.length, T = N(r) ? r.split("") : r, S = 0; S < v; S++)S in T && l.call(h, T[S], S, r) }; function de(r, l) { for (var h = N(r) ? r.split("") : r, v = r.length - 1; 0 <= v; --v)v in h && l.call(void 0, h[v], v, r) } var we = Array.prototype.filter ? function (r, l) { return Array.prototype.filter.call(r, l, void 0) } : function (r, l) { for (var h = r.length, v = [], T = 0, S = N(r) ? r.split("") : r, D = 0; D < h; D++)if (D in S) { var W = S[D]; l.call(void 0, W, D, r) && (v[T++] = W) } return v }, Ee = Array.prototype.map ? function (r, l) { return Array.prototype.map.call(r, l, void 0) } : function (r, l) { for (var h = r.length, v = Array(h), T = N(r) ? r.split("") : r, S = 0; S < h; S++)S in T && (v[S] = l.call(void 0, T[S], S, r)); return v }, Oe = Array.prototype.some ? function (r, l) { return Array.prototype.some.call(r, l, void 0) } : function (r, l) { for (var h = r.length, v = N(r) ? r.split("") : r, T = 0; T < h; T++)if (T in v && l.call(void 0, v[T], T, r)) return !0; return !1 }; function ze(r, l) { return 0 <= Ie(r, l) } function Ve(r, l) { l = Ie(r, l); var h; return (h = 0 <= l) && Zt(r, l), h } function Zt(r, l) { return Array.prototype.splice.call(r, l, 1).length == 1 } function At(r, l) { e: { for (var h = r.length, v = N(r) ? r.split("") : r, T = 0; T < h; T++)if (T in v && l.call(void 0, v[T], T, r)) { l = T; break e } l = -1 } 0 <= l && Zt(r, l) } function Si(r, l) { var h = 0; de(r, function (v, T) { l.call(void 0, v, T, r) && Zt(r, T) && h++ }) } function Bi(r) { return Array.prototype.concat.apply([], arguments) } function Ai(r) { var l = r.length; if (0 < l) { for (var h = Array(l), v = 0; v < l; v++)h[v] = r[v]; return h } return [] } function Sr(r, l, h) { return 2 >= arguments.length ? Array.prototype.slice.call(r, l) : Array.prototype.slice.call(r, l, h) } var It = String.prototype.trim ? function (r) { return r.trim() } : function (r) { return /^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1] }, ke = /&/g, tt = /</g, An = />/g, Kt = /"/g, Ci = /'/g, Pe = /\x00/g, me = /[\x00&<>"']/; function nt(r, l) { return r < l ? -1 : r > l ? 1 : 0 } function qe(r) { return me.test(r) && (r.indexOf("&") != -1 && (r = r.replace(ke, "&amp;")), r.indexOf("<") != -1 && (r = r.replace(tt, "&lt;")), r.indexOf(">") != -1 && (r = r.replace(An, "&gt;")), r.indexOf('"') != -1 && (r = r.replace(Kt, "&quot;")), r.indexOf("'") != -1 && (r = r.replace(Ci, "&#39;")), r.indexOf("\0") != -1 && (r = r.replace(Pe, "&#0;"))), r } function Qe(r, l, h) { for (var v in r) l.call(h, r[v], v, r) } function zt(r) { var l = {}, h; for (h in r) l[h] = r[h]; return l } var Xt = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "); function je(r, l) { for (var h, v, T = 1; T < arguments.length; T++) { v = arguments[T]; for (h in v) r[h] = v[h]; for (var S = 0; S < Xt.length; S++)h = Xt[S], Object.prototype.hasOwnProperty.call(v, h) && (r[h] = v[h]) } } var Be = "StopIteration" in E ? E.StopIteration : { message: "StopIteration", stack: "" }; function Dt() { } Dt.prototype.next = function () { throw Be }, Dt.prototype.ha = function () { return this }; function $t(r) { if (r instanceof Dt) return r; if (typeof r.ha == "function") return r.ha(!1); if (J(r)) { var l = 0, h = new Dt; return h.next = function () { for (; ;) { if (l >= r.length) throw Be; if (l in r) return r[l++]; l++ } }, h } throw Error("Not implemented") } function os(r, l) { if (J(r)) try { X(r, l, void 0) } catch (h) { if (h !== Be) throw h } else { r = $t(r); try { for (; ;)l.call(void 0, r.next(), void 0, r) } catch (h) { if (h !== Be) throw h } } } function ul(r) { if (J(r)) return Ai(r); r = $t(r); var l = []; return os(r, function (h) { l.push(h) }), l } function Br(r, l) { this.g = {}, this.a = [], this.j = this.h = 0; var h = arguments.length; if (1 < h) { if (h % 2) throw Error("Uneven number of arguments"); for (var v = 0; v < h; v += 2)this.set(arguments[v], arguments[v + 1]) } else if (r) if (r instanceof Br) for (h = r.ja(), v = 0; v < h.length; v++)this.set(h[v], r.get(h[v])); else for (v in r) this.set(v, r[v]) } n = Br.prototype, n.la = function () { ir(this); for (var r = [], l = 0; l < this.a.length; l++)r.push(this.g[this.a[l]]); return r }, n.ja = function () { return ir(this), this.a.concat() }, n.clear = function () { this.g = {}, this.j = this.h = this.a.length = 0 }; function ir(r) { if (r.h != r.a.length) { for (var l = 0, h = 0; l < r.a.length;) { var v = r.a[l]; Fi(r.g, v) && (r.a[h++] = v), l++ } r.a.length = h } if (r.h != r.a.length) { var T = {}; for (h = l = 0; l < r.a.length;)v = r.a[l], Fi(T, v) || (r.a[h++] = v, T[v] = 1), l++; r.a.length = h } } n.get = function (r, l) { return Fi(this.g, r) ? this.g[r] : l }, n.set = function (r, l) { Fi(this.g, r) || (this.h++, this.a.push(r), this.j++), this.g[r] = l }, n.forEach = function (r, l) { for (var h = this.ja(), v = 0; v < h.length; v++) { var T = h[v], S = this.get(T); r.call(l, S, T, this) } }, n.ha = function (r) { ir(this); var l = 0, h = this.j, v = this, T = new Dt; return T.next = function () { if (h != v.j) throw Error("The map has changed since the iterator was created"); if (l >= v.a.length) throw Be; var S = v.a[l++]; return r ? S : v.g[S] }, T }; function Fi(r, l) { return Object.prototype.hasOwnProperty.call(r, l) } var Fr = /^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/; function ra(r, l) { if (r) { r = r.split("&"); for (var h = 0; h < r.length; h++) { var v = r[h].indexOf("="), T = null; if (0 <= v) { var S = r[h].substring(0, v); T = r[h].substring(v + 1) } else S = r[h]; l(S, T ? decodeURIComponent(T.replace(/\+/g, " ")) : "") } } } function sa(r, l, h, v) { for (var T = h.length; 0 <= (l = r.indexOf(h, l)) && l < v;) { var S = r.charCodeAt(l - 1); if ((S == 38 || S == 63) && (S = r.charCodeAt(l + T), !S || S == 61 || S == 38 || S == 35)) return l; l += T + 1 } return -1 } var Au = /#|$/; function oa(r, l) { var h = r.search(Au), v = sa(r, 0, l, h); if (0 > v) return null; var T = r.indexOf("&", v); return (0 > T || T > h) && (T = h), v += l.length + 1, decodeURIComponent(r.substr(v, T - v).replace(/\+/g, " ")) } var ad = /[?&]($|#)/; function xi(r, l) { this.h = this.A = this.j = "", this.C = null, this.s = this.g = "", this.i = !1; var h; r instanceof xi ? (this.i = C(l) ? l : r.i, as(this, r.j), this.A = r.A, this.h = r.h, cl(this, r.C), this.g = r.g, zr(this, la(r.a)), this.s = r.s) : r && (h = String(r).match(Fr)) ? (this.i = !!l, as(this, h[1] || "", !0), this.A = Hr(h[2] || ""), this.h = Hr(h[3] || "", !0), cl(this, h[4]), this.g = Hr(h[5] || "", !0), zr(this, h[6] || "", !0), this.s = Hr(h[7] || "")) : (this.i = !!l, this.a = new vo(null, this.i)) } xi.prototype.toString = function () { var r = [], l = this.j; l && r.push(Os(l, ld, !0), ":"); var h = this.h; return (h || l == "file") && (r.push("//"), (l = this.A) && r.push(Os(l, ld, !0), "@"), r.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g, "%$1")), h = this.C, h != null && r.push(":", String(h))), (h = this.g) && (this.h && h.charAt(0) != "/" && r.push("/"), r.push(Os(h, h.charAt(0) == "/" ? Xn : fn, !0))), (h = this.a.toString()) && r.push("?", h), (h = this.s) && r.push("#", Os(h, qr)), r.join("") }; function as(r, l, h) { r.j = h ? Hr(l, !0) : l, r.j && (r.j = r.j.replace(/:$/, "")) } function cl(r, l) { if (l) { if (l = Number(l), isNaN(l) || 0 > l) throw Error("Bad port number " + l); r.C = l } else r.C = null } function zr(r, l, h) { l instanceof vo ? (r.a = l, yo(r.a, r.i)) : (h || (l = Os(l, Bn)), r.a = new vo(l, r.i)) } function dl(r) { return r instanceof xi ? new xi(r) : new xi(r, void 0) } function Hr(r, l) { return r ? l ? decodeURI(r.replace(/%25/g, "%2525")) : decodeURIComponent(r) : "" } function Os(r, l, h) { return N(r) ? (r = encodeURI(r).replace(l, aa), h && (r = r.replace(/%25([0-9a-fA-F]{2})/g, "%$1")), r) : null } function aa(r) { return r = r.charCodeAt(0), "%" + (r >> 4 & 15).toString(16) + (r & 15).toString(16) } var ld = /[#\/\?@]/g, fn = /[#\?:]/g, Xn = /[#\?]/g, Bn = /[#\?@]/g, qr = /#/g; function vo(r, l) { this.g = this.a = null, this.h = r || null, this.j = !!l } function Ls(r) { r.a || (r.a = new Br, r.g = 0, r.h && ra(r.h, function (l, h) { r.add(decodeURIComponent(l.replace(/\+/g, " ")), h) })) } n = vo.prototype, n.add = function (r, l) { Ls(this), this.h = null, r = Ar(this, r); var h = this.a.get(r); return h || this.a.set(r, h = []), h.push(l), this.g += 1, this }; function rr(r, l) { Ls(r), l = Ar(r, l), Fi(r.a.g, l) && (r.h = null, r.g -= r.a.get(l).length, r = r.a, Fi(r.g, l) && (delete r.g[l], r.h--, r.j++, r.a.length > 2 * r.h && ir(r))) } n.clear = function () { this.a = this.h = null, this.g = 0 }; function ud(r, l) { return Ls(r), l = Ar(r, l), Fi(r.a.g, l) } n.forEach = function (r, l) { Ls(this), this.a.forEach(function (h, v) { X(h, function (T) { r.call(l, T, v, this) }, this) }, this) }, n.ja = function () { Ls(this); for (var r = this.a.la(), l = this.a.ja(), h = [], v = 0; v < l.length; v++)for (var T = r[v], S = 0; S < T.length; S++)h.push(l[v]); return h }, n.la = function (r) { Ls(this); var l = []; if (N(r)) ud(this, r) && (l = Bi(l, this.a.get(Ar(this, r)))); else { r = this.a.la(); for (var h = 0; h < r.length; h++)l = Bi(l, r[h]) } return l }, n.set = function (r, l) { return Ls(this), this.h = null, r = Ar(this, r), ud(this, r) && (this.g -= this.a.get(r).length), this.a.set(r, [l]), this.g += 1, this }, n.get = function (r, l) { return r ? (r = this.la(r), 0 < r.length ? String(r[0]) : l) : l }, n.toString = function () { if (this.h) return this.h; if (!this.a) return ""; for (var r = [], l = this.a.ja(), h = 0; h < l.length; h++) { var v = l[h], T = encodeURIComponent(String(v)); v = this.la(v); for (var S = 0; S < v.length; S++) { var D = T; v[S] !== "" && (D += "=" + encodeURIComponent(String(v[S]))), r.push(D) } } return this.h = r.join("&") }; function la(r) { var l = new vo; return l.h = r.h, r.a && (l.a = new Br(r.a), l.g = r.g), l } function Ar(r, l) { return l = String(l), r.j && (l = l.toLowerCase()), l } function yo(r, l) { l && !r.j && (Ls(r), r.h = null, r.a.forEach(function (h, v) { var T = v.toLowerCase(); v != T && (rr(this, v), rr(this, T), 0 < h.length && (this.h = null, this.a.set(Ar(this, T), Ai(h)), this.g += h.length)) }, r)), r.j = l } function Ri(r) { this.a = dl(r) } function Vs(r, l) { l ? r.a.a.set(an.Sa, l) : rr(r.a.a, an.Sa) } function zi(r, l) { l !== null ? r.a.a.set(an.Qa, l ? "1" : "0") : rr(r.a.a, an.Qa) } function Cn(r) { return r.a.a.get(an.Pa) || null } function Cu(r, l) { l ? r.a.a.set(an.PROVIDER_ID, l) : rr(r.a.a, an.PROVIDER_ID) } Ri.prototype.toString = function () { return this.a.toString() }; var an = { Pa: "ui_auid", lc: "apiKey", Qa: "ui_sd", ub: "mode", $a: "oobCode", PROVIDER_ID: "ui_pid", Sa: "ui_sid", vb: "tenantId" }, Ii; e: { var js = E.navigator; if (js) { var cd = js.userAgent; if (cd) { Ii = cd; break e } } Ii = "" } function lt(r) { return Ii.indexOf(r) != -1 } function ua() { return (lt("Chrome") || lt("CriOS")) && !lt("Edge") } function xu(r) { return xu[" "](r), r } xu[" "] = R; function ca(r, l) { var h = hd; return Object.prototype.hasOwnProperty.call(h, r) ? h[r] : h[r] = l(r) } var ls = lt("Opera"), pt = lt("Trident") || lt("MSIE"), sr = lt("Edge"), rf = sr || pt, Qn = lt("Gecko") && !(Ii.toLowerCase().indexOf("webkit") != -1 && !lt("Edge")) && !(lt("Trident") || lt("MSIE")) && !lt("Edge"), Fn = Ii.toLowerCase().indexOf("webkit") != -1 && !lt("Edge"), Ru = Fn && lt("Mobile"), Gr = lt("Macintosh"); function hl() { var r = E.document; return r ? r.documentMode : void 0 } var oi; e: { var fl = "", dd = function () { var r = Ii; if (Qn) return /rv:([^\);]+)(\)|;)/.exec(r); if (sr) return /Edge\/([\d\.]+)/.exec(r); if (pt) return /\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r); if (Fn) return /WebKit\/(\S+)/.exec(r); if (ls) return /(?:Version)[ \/]?(\S+)/.exec(r) }(); if (dd && (fl = dd ? dd[1] : ""), pt) { var da = hl(); if (da != null && da > parseFloat(fl)) { oi = String(da); break e } } oi = fl } var hd = {}; function Cr(r) { return ca(r, function () { for (var l = 0, h = It(String(oi)).split("."), v = It(String(r)).split("."), T = Math.max(h.length, v.length), S = 0; l == 0 && S < T; S++) { var D = h[S] || "", W = v[S] || ""; do { if (D = /(\d*)(\D*)(.*)/.exec(D) || ["", "", "", ""], W = /(\d*)(\D*)(.*)/.exec(W) || ["", "", "", ""], D[0].length == 0 && W[0].length == 0) break; l = nt(D[1].length == 0 ? 0 : parseInt(D[1], 10), W[1].length == 0 ? 0 : parseInt(W[1], 10)) || nt(D[2].length == 0, W[2].length == 0) || nt(D[2], W[2]), D = D[3], W = W[3] } while (l == 0) } return 0 <= l }) } var pl, kn = E.document; pl = kn && pt ? hl() || (kn.compatMode == "CSS1Compat" ? parseInt(oi, 10) : 5) : void 0; function ai(r, l) { this.a = r === bo && l || "", this.g = ha } ai.prototype.ma = !0, ai.prototype.ka = function () { return this.a }, ai.prototype.toString = function () { return "Const{" + this.a + "}" }; var ha = {}, bo = {}; function Hi() { this.a = "", this.h = xr } Hi.prototype.ma = !0, Hi.prototype.ka = function () { return this.a.toString() }, Hi.prototype.g = function () { return 1 }, Hi.prototype.toString = function () { return "TrustedResourceUrl{" + this.a + "}" }; function Ht(r) { return r instanceof Hi && r.constructor === Hi && r.h === xr ? r.a : (_e("expected object of type TrustedResourceUrl, got '" + r + "' of type " + z(r)), "type_error:TrustedResourceUrl") } function ml() { var r = My; r instanceof ai && r.constructor === ai && r.g === ha ? r = r.a : (_e("expected object of type Const, got '" + r + "'"), r = "type_error:Const"); var l = new Hi; return l.a = r, l } var xr = {}; function Jn() { this.a = "", this.h = of } Jn.prototype.ma = !0, Jn.prototype.ka = function () { return this.a.toString() }, Jn.prototype.g = function () { return 1 }, Jn.prototype.toString = function () { return "SafeUrl{" + this.a + "}" }; function us(r) { return r instanceof Jn && r.constructor === Jn && r.h === of ? r.a : (_e("expected object of type SafeUrl, got '" + r + "' of type " + z(r)), "type_error:SafeUrl") } var Iu = /^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i; function fa(r) { return r instanceof Jn ? r : (r = typeof r == "object" && r.ma ? r.ka() : String(r), Iu.test(r) || (r = "about:invalid#zClosurez"), pa(r)) } function sf(r) { return r instanceof Jn ? r : (r = typeof r == "object" && r.ma ? r.ka() : String(r), Iu.test(r) || (r = "about:invalid#zClosurez"), pa(r)) } var of = {}; function pa(r) { var l = new Jn; return l.a = r, l } pa("about:blank"); function or() { this.a = "", this.g = Rr } or.prototype.ma = !0; var Rr = {}; or.prototype.ka = function () { return this.a }, or.prototype.toString = function () { return "SafeStyle{" + this.a + "}" }; function ki() { this.a = "", this.j = ku, this.h = null } ki.prototype.g = function () { return this.h }, ki.prototype.ma = !0, ki.prototype.ka = function () { return this.a.toString() }, ki.prototype.toString = function () { return "SafeHtml{" + this.a + "}" }; function Kr(r) { return r instanceof ki && r.constructor === ki && r.j === ku ? r.a : (_e("expected object of type SafeHtml, got '" + r + "' of type " + z(r)), "type_error:SafeHtml") } var ku = {}; function ar(r, l) { var h = new ki; return h.a = r, h.h = l, h } ar("<!DOCTYPE html>", 0); var af = ar("", 0); ar("<br>", 0); var gl = function (r) { var l = !1, h; return function () { return l || (h = r(), l = !0), h } }(function () { if (typeof document > "u") return !1; var r = document.createElement("div"), l = document.createElement("div"); return l.appendChild(document.createElement("div")), r.appendChild(l), r.firstChild ? (l = r.firstChild.firstChild, r.innerHTML = Kr(af), !l.parentElement) : !1 }); function cs(r, l) { if (r.src = Ht(l), k === null) e: { if (l = E.document, (l = l.querySelector && l.querySelector("script[nonce]")) && (l = l.nonce || l.getAttribute("nonce")) && U.test(l)) { k = l; break e } k = "" } l = k, l && r.setAttribute("nonce", l) } function yi(r, l) { l = l instanceof Jn ? l : sf(l), r.assign(us(l)) } function lr(r, l) { this.a = C(r) ? r : 0, this.g = C(l) ? l : 0 } lr.prototype.toString = function () { return "(" + this.a + ", " + this.g + ")" }, lr.prototype.ceil = function () { return this.a = Math.ceil(this.a), this.g = Math.ceil(this.g), this }, lr.prototype.floor = function () { return this.a = Math.floor(this.a), this.g = Math.floor(this.g), this }, lr.prototype.round = function () { return this.a = Math.round(this.a), this.g = Math.round(this.g), this }; function $r(r, l) { this.width = r, this.height = l } n = $r.prototype, n.toString = function () { return "(" + this.width + " x " + this.height + ")" }, n.aspectRatio = function () { return this.width / this.height }, n.ceil = function () { return this.width = Math.ceil(this.width), this.height = Math.ceil(this.height), this }, n.floor = function () { return this.width = Math.floor(this.width), this.height = Math.floor(this.height), this }, n.round = function () { return this.width = Math.round(this.width), this.height = Math.round(this.height), this }; function ds(r) { return r ? new ma(Bs(r)) : se || (se = new ma) } function hs(r, l) { var h = l || document; return h.querySelectorAll && h.querySelector ? h.querySelectorAll("." + r) : fs(document, r, l) } function vl(r, l) { var h = l || document; if (h.getElementsByClassName) r = h.getElementsByClassName(r)[0]; else { h = document; var v = l || h; r = v.querySelectorAll && v.querySelector && r ? v.querySelector(r ? "." + r : "") : fs(h, r, l)[0] || null } return r || null } function fs(r, l, h) { var v; if (r = h || r, r.querySelectorAll && r.querySelector && l) return r.querySelectorAll(l ? "." + l : ""); if (l && r.getElementsByClassName) { var T = r.getElementsByClassName(l); return T } if (T = r.getElementsByTagName("*"), l) { var S = {}; for (h = v = 0; r = T[h]; h++) { var D = r.className; typeof D.split == "function" && ze(D.split(/\s+/), l) && (S[v++] = r) } return S.length = v, S } return T } function Us(r, l) { Qe(l, function (h, v) { h && typeof h == "object" && h.ma && (h = h.ka()), v == "style" ? r.style.cssText = h : v == "class" ? r.className = h : v == "for" ? r.htmlFor = h : Pu.hasOwnProperty(v) ? r.setAttribute(Pu[v], h) : v.lastIndexOf("aria-", 0) == 0 || v.lastIndexOf("data-", 0) == 0 ? r.setAttribute(v, h) : r[v] = h }) } var Pu = { cellpadding: "cellPadding", cellspacing: "cellSpacing", colspan: "colSpan", frameborder: "frameBorder", height: "height", maxlength: "maxLength", nonce: "nonce", role: "role", rowspan: "rowSpan", type: "type", usemap: "useMap", valign: "vAlign", width: "width" }; function Pn(r) { return r.scrollingElement ? r.scrollingElement : (Fn || r.compatMode != "CSS1Compat") && r.body || r.documentElement } function yt(r) { r && r.parentNode && r.parentNode.removeChild(r) } function Bs(r) { return r.nodeType == 9 ? r : r.ownerDocument || r.document } function wo(r, l) { if ("textContent" in r) r.textContent = l; else if (r.nodeType == 3) r.data = String(l); else if (r.firstChild && r.firstChild.nodeType == 3) { for (; r.lastChild != r.firstChild;)r.removeChild(r.lastChild); r.firstChild.data = String(l) } else { for (var h; h = r.firstChild;)r.removeChild(h); r.appendChild(Bs(r).createTextNode(String(l))) } } function fd(r, l) { return l ? Nu(r, function (h) { return !l || N(h.className) && ze(h.className.split(/\s+/), l) }) : null } function Nu(r, l) { for (var h = 0; r;) { if (l(r)) return r; r = r.parentNode, h++ } return null } function ma(r) { this.a = r || E.document || document } ma.prototype.N = function () { return N(void 0) ? this.a.getElementById(void 0) : void 0 }; var Ir = { Fc: !0 }, ga = { Hc: !0 }, Wr = {}, pd = { Gc: !0 }; function Fs() { throw Error("Do not instantiate directly") } Fs.prototype.va = null, Fs.prototype.toString = function () { return this.content }; function ps(r, l, h, v) { if (r = r(l || Du, void 0, h), v = (v || ds()).a.createElement("DIV"), r = Mu(r), r.match(md), r = ar(r, null), gl()) for (; v.lastChild;)v.removeChild(v.lastChild); return v.innerHTML = Kr(r), v.childNodes.length == 1 && (r = v.firstChild, r.nodeType == 1 && (v = r)), v } function Mu(r) { if (!re(r)) return qe(String(r)); if (r instanceof Fs) { if (r.fa === Ir) return r.content; if (r.fa === pd) return qe(r.content) } return _e("Soy template output is unsafe for use as HTML: " + r), "zSoyz" } var md = /^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i, Du = {}; function lf(r) { if (r != null) switch (r.va) { case 1: return 1; case -1: return -1; case 0: return 0 }return null } function _o() { Fs.call(this) } ce(_o, Fs), _o.prototype.fa = Ir; function $e(r) { return r != null && r.fa === Ir ? r : r instanceof ki ? Re(Kr(r).toString(), r.g()) : Re(qe(String(String(r))), lf(r)) } function va() { Fs.call(this) } ce(va, Fs), va.prototype.fa = ga, va.prototype.va = 1; function zs(r, l) { this.content = String(r), this.va = l ?? null } ce(zs, Fs), zs.prototype.fa = pd; function bt(r) { return new zs(r, void 0) } var Re = function (r) { function l(h) { this.content = h } return l.prototype = r.prototype, function (h, v) { return h = new l(String(h)), v !== void 0 && (h.va = v), h } }(_o), gd = function (r) { function l(h) { this.content = h } return l.prototype = r.prototype, function (h) { return new l(String(h)) } }(va); function yl(r) { function l() { } var h = { label: ln("New password") }; l.prototype = r, r = new l; for (var v in h) r[v] = h[v]; return r } function ln(r) { return (r = String(r)) ? new zs(r, void 0) : "" } var bl = function (r) { function l(h) { this.content = h } return l.prototype = r.prototype, function (h, v) { return h = String(h), h ? (h = new l(h), v !== void 0 && (h.va = v), h) : "" } }(_o); function li(r) { return r != null && r.fa === Ir ? String(String(r.content).replace(qs, "").replace(g, "&lt;")).replace(Lu, cf) : qe(String(r)) } function ms(r) { return r != null && r.fa === ga ? r = String(r).replace(bi, Ou) : r instanceof Jn ? r = String(us(r).toString()).replace(bi, Ou) : (r = String(r), ff.test(r) ? r = r.replace(bi, Ou) : (_e("Bad value `%s` for |filterNormalizeUri", [r]), r = "#zSoyz")), r } function Hs(r) { return r != null && r.fa === Wr ? r = r.content : r == null ? r = "" : r instanceof or ? r instanceof or && r.constructor === or && r.g === Rr ? r = r.a : (_e("expected object of type SafeStyle, got '" + r + "' of type " + z(r)), r = "type_error:SafeStyle") : (r = String(r), hf.test(r) || (_e("Bad value `%s` for |filterCssValue", [r]), r = "zSoyz")), r } var uf = { "\0": "&#0;", "	": "&#9;", "\n": "&#10;", "\v": "&#11;", "\f": "&#12;", "\r": "&#13;", " ": "&#32;", '"': "&quot;", "&": "&amp;", "'": "&#39;", "-": "&#45;", "/": "&#47;", "<": "&lt;", "=": "&#61;", ">": "&gt;", "`": "&#96;", "": "&#133;", " ": "&#160;", "\u2028": "&#8232;", "\u2029": "&#8233;" }; function cf(r) { return uf[r] } var df = { "\0": "%00", "": "%01", "": "%02", "": "%03", "": "%04", "": "%05", "": "%06", "\x07": "%07", "\b": "%08", "	": "%09", "\n": "%0A", "\v": "%0B", "\f": "%0C", "\r": "%0D", "": "%0E", "": "%0F", "": "%10", "": "%11", "": "%12", "": "%13", "": "%14", "": "%15", "": "%16", "": "%17", "": "%18", "": "%19", "": "%1A", "\x1B": "%1B", "": "%1C", "": "%1D", "": "%1E", "": "%1F", " ": "%20", '"': "%22", "'": "%27", "(": "%28", ")": "%29", "<": "%3C", ">": "%3E", "\\": "%5C", "{": "%7B", "}": "%7D", "": "%7F", "": "%C2%85", " ": "%C2%A0", "\u2028": "%E2%80%A8", "\u2029": "%E2%80%A9", "！": "%EF%BC%81", "＃": "%EF%BC%83", "＄": "%EF%BC%84", "＆": "%EF%BC%86", "＇": "%EF%BC%87", "（": "%EF%BC%88", "）": "%EF%BC%89", "＊": "%EF%BC%8A", "＋": "%EF%BC%8B", "，": "%EF%BC%8C", "／": "%EF%BC%8F", "：": "%EF%BC%9A", "；": "%EF%BC%9B", "＝": "%EF%BC%9D", "？": "%EF%BC%9F", "＠": "%EF%BC%A0", "［": "%EF%BC%BB", "］": "%EF%BC%BD" }; function Ou(r) { return df[r] } var Lu = /[\x00\x22\x27\x3c\x3e]/g, bi = /[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g, hf = /^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i, ff = /^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i, qs = /<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g, g = /</g; function A() { return bt("Enter a valid phone number") } function P() { return bt("Unable to send password reset code to specified email") } function B() { return bt("Something went wrong. Please try again.") } function te() { return bt("This email already exists without any means of sign-in. Please reset the password to recover.") } function ue(r) { r = r || {}; var l = ""; switch (r.code) { case "invalid-argument": l += "Client specified an invalid argument."; break; case "invalid-configuration": l += "Client specified an invalid project configuration."; break; case "failed-precondition": l += "Request can not be executed in the current system state."; break; case "out-of-range": l += "Client specified an invalid range."; break; case "unauthenticated": l += "Request not authenticated due to missing, invalid, or expired OAuth token."; break; case "permission-denied": l += "Client does not have sufficient permission."; break; case "not-found": l += "Specified resource is not found."; break; case "aborted": l += "Concurrency conflict, such as read-modify-write conflict."; break; case "already-exists": l += "The resource that a client tried to create already exists."; break; case "resource-exhausted": l += "Either out of resource quota or reaching rate limiting."; break; case "cancelled": l += "Request cancelled by the client."; break; case "data-loss": l += "Unrecoverable data loss or data corruption."; break; case "unknown": l += "Unknown server error."; break; case "internal": l += "Internal server error."; break; case "not-implemented": l += "API method not implemented by the server."; break; case "unavailable": l += "Service unavailable."; break; case "deadline-exceeded": l += "Request deadline exceeded."; break; case "auth/user-disabled": l += "The user account has been disabled by an administrator."; break; case "auth/timeout": l += "The operation has timed out."; break; case "auth/too-many-requests": l += "We have blocked all requests from this device due to unusual activity. Try again later."; break; case "auth/quota-exceeded": l += "The quota for this operation has been exceeded. Try again later."; break; case "auth/network-request-failed": l += "A network error has occurred. Try again later."; break; case "restart-process": l += "An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process."; break; case "no-matching-tenant-for-email": l += "No sign-in provider is available for the given email, please try with a different email." }return bt(l) } function Ce() { return bt("Please login again to perform this operation") } function mt(r, l, h) { var v = Error.call(this); if (this.message = v.message, "stack" in v && (this.stack = v.stack), this.code = Zn + r, !(r = l)) { switch (r = "", this.code) { case "firebaseui/merge-conflict": r += "The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account."; break; default: r += B() }r = bt(r).toString() } this.message = r || "", this.credential = h || null } p(mt, Error), mt.prototype.toJSON = function () { return { code: this.code, message: this.message } }; var Zn = "firebaseui/"; function ut() { this.T = this.T, this.C = this.C } var ui = 0; ut.prototype.T = !1, ut.prototype.m = function () { !this.T && (this.T = !0, this.o(), ui != 0) }; function yn(r, l) { r.T ? C(void 0) ? l.call(void 0) : l() : (r.C || (r.C = []), r.C.push(C(void 0) ? O(l, void 0) : l)) } ut.prototype.o = function () { if (this.C) for (; this.C.length;)this.C.shift()() }; function kr(r) { r && typeof r.m == "function" && r.m() } var wi = Object.freeze || function (r) { return r }, gs = !pt || 9 <= Number(pl), vd = pt && !Cr("9"), pf = function () { if (!E.addEventListener || !Object.defineProperty) return !1; var r = !1, l = Object.defineProperty({}, "passive", { get: function () { r = !0 } }); try { E.addEventListener("test", R, l), E.removeEventListener("test", R, l) } catch { } return r }(); function Gs(r, l) { this.type = r, this.g = this.target = l, this.h = !1, this.qb = !0 } Gs.prototype.stopPropagation = function () { this.h = !0 }, Gs.prototype.preventDefault = function () { this.qb = !1 }; function Pi(r, l) { if (Gs.call(this, r ? r.type : ""), this.relatedTarget = this.g = this.target = null, this.button = this.screenY = this.screenX = this.clientY = this.clientX = 0, this.key = "", this.j = this.keyCode = 0, this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1, this.pointerId = 0, this.pointerType = "", this.a = null, r) { var h = this.type = r.type, v = r.changedTouches && r.changedTouches.length ? r.changedTouches[0] : null; if (this.target = r.target || r.srcElement, this.g = l, l = r.relatedTarget) { if (Qn) { e: { try { xu(l.nodeName); var T = !0; break e } catch { } T = !1 } T || (l = null) } } else h == "mouseover" ? l = r.fromElement : h == "mouseout" && (l = r.toElement); this.relatedTarget = l, v ? (this.clientX = v.clientX !== void 0 ? v.clientX : v.pageX, this.clientY = v.clientY !== void 0 ? v.clientY : v.pageY, this.screenX = v.screenX || 0, this.screenY = v.screenY || 0) : (this.clientX = r.clientX !== void 0 ? r.clientX : r.pageX, this.clientY = r.clientY !== void 0 ? r.clientY : r.pageY, this.screenX = r.screenX || 0, this.screenY = r.screenY || 0), this.button = r.button, this.keyCode = r.keyCode || 0, this.key = r.key || "", this.j = r.charCode || (h == "keypress" ? r.keyCode : 0), this.ctrlKey = r.ctrlKey, this.altKey = r.altKey, this.shiftKey = r.shiftKey, this.metaKey = r.metaKey, this.pointerId = r.pointerId || 0, this.pointerType = N(r.pointerType) ? r.pointerType : Cm[r.pointerType] || "", this.a = r, r.defaultPrevented && this.preventDefault() } } ce(Pi, Gs); var Cm = wi({ 2: "touch", 3: "pen", 4: "mouse" }); Pi.prototype.stopPropagation = function () { Pi.K.stopPropagation.call(this), this.a.stopPropagation ? this.a.stopPropagation() : this.a.cancelBubble = !0 }, Pi.prototype.preventDefault = function () { Pi.K.preventDefault.call(this); var r = this.a; if (r.preventDefault) r.preventDefault(); else if (r.returnValue = !1, vd) try { (r.ctrlKey || 112 <= r.keyCode && 123 >= r.keyCode) && (r.keyCode = -1) } catch { } }; var wl = "closure_listenable_" + (1e6 * Math.random() | 0), xy = 0; function Ry(r, l, h, v, T) { this.listener = r, this.proxy = null, this.src = l, this.type = h, this.capture = !!v, this.La = T, this.key = ++xy, this.sa = this.Ia = !1 } function yd(r) { r.sa = !0, r.listener = null, r.proxy = null, r.src = null, r.La = null } function mf(r) { this.src = r, this.a = {}, this.g = 0 } mf.prototype.add = function (r, l, h, v, T) { var S = r.toString(); r = this.a[S], r || (r = this.a[S] = [], this.g++); var D = Rm(r, l, v, T); return -1 < D ? (l = r[D], h || (l.Ia = !1)) : (l = new Ry(l, this.src, S, !!v, T), l.Ia = h, r.push(l)), l }; function xm(r, l) { var h = l.type; h in r.a && Ve(r.a[h], l) && (yd(l), r.a[h].length == 0 && (delete r.a[h], r.g--)) } function Rm(r, l, h, v) { for (var T = 0; T < r.length; ++T) { var S = r[T]; if (!S.sa && S.listener == l && S.capture == !!h && S.La == v) return T } return -1 } var Im = "closure_lm_" + (1e6 * Math.random() | 0), km = {}; function bn(r, l, h, v, T) { if (v && v.once) return ju(r, l, h, v, T); if ($(l)) { for (var S = 0; S < l.length; S++)bn(r, l[S], h, v, T); return null } return h = vf(h), r && r[wl] ? r.J.add(String(l), h, !1, re(v) ? !!v.capture : !!v, T) : Vu(r, l, h, !1, v, T) } function Vu(r, l, h, v, T, S) { if (!l) throw Error("Invalid event type"); var D = re(T) ? !!T.capture : !!T, W = ba(r); if (W || (r[Im] = W = new mf(r)), h = W.add(l, h, v, D, S), h.proxy) return h; if (v = Iy(), h.proxy = v, v.src = r, v.listener = h, r.addEventListener) pf || (T = D), T === void 0 && (T = !1), r.addEventListener(l.toString(), v, T); else if (r.attachEvent) r.attachEvent(gf(l.toString()), v); else if (r.addListener && r.removeListener) r.addListener(v); else throw Error("addEventListener and attachEvent are unavailable."); return h } function Iy() { var r = Pm, l = gs ? function (h) { return r.call(l.src, l.listener, h) } : function (h) { if (h = r.call(l.src, l.listener, h), !h) return h }; return l } function ju(r, l, h, v, T) { if ($(l)) { for (var S = 0; S < l.length; S++)ju(r, l[S], h, v, T); return null } return h = vf(h), r && r[wl] ? r.J.add(String(l), h, !0, re(v) ? !!v.capture : !!v, T) : Vu(r, l, h, !0, v, T) } function ya(r, l, h, v, T) { if ($(l)) for (var S = 0; S < l.length; S++)ya(r, l[S], h, v, T); else v = re(v) ? !!v.capture : !!v, h = vf(h), r && r[wl] ? (r = r.J, l = String(l).toString(), l in r.a && (S = r.a[l], h = Rm(S, h, v, T), -1 < h && (yd(S[h]), Zt(S, h), S.length == 0 && (delete r.a[l], r.g--)))) : r && (r = ba(r)) && (l = r.a[l.toString()], r = -1, l && (r = Rm(l, h, v, T)), (h = -1 < r ? l[r] : null) && Eo(h)) } function Eo(r) { if (typeof r != "number" && r && !r.sa) { var l = r.src; if (l && l[wl]) xm(l.J, r); else { var h = r.type, v = r.proxy; l.removeEventListener ? l.removeEventListener(h, v, r.capture) : l.detachEvent ? l.detachEvent(gf(h), v) : l.addListener && l.removeListener && l.removeListener(v), (h = ba(l)) ? (xm(h, r), h.g == 0 && (h.src = null, l[Im] = null)) : yd(r) } } } function gf(r) { return r in km ? km[r] : km[r] = "on" + r } function ky(r, l, h, v) { var T = !0; if ((r = ba(r)) && (l = r.a[l.toString()])) for (l = l.concat(), r = 0; r < l.length; r++) { var S = l[r]; S && S.capture == h && !S.sa && (S = _l(S, v), T = T && S !== !1) } return T } function _l(r, l) { var h = r.listener, v = r.La || r.src; return r.Ia && Eo(r), h.call(v, l) } function Pm(r, l) { if (r.sa) return !0; if (!gs) { if (!l) e: { l = ["window", "event"]; for (var h = E, v = 0; v < l.length; v++)if (h = h[l[v]], h == null) { l = null; break e } l = h } if (v = l, l = new Pi(v, this), h = !0, !(0 > v.keyCode || v.returnValue != null)) { e: { var T = !1; if (v.keyCode == 0) try { v.keyCode = -1; break e } catch { T = !0 } (T || v.returnValue == null) && (v.returnValue = !0) } for (v = [], T = l.g; T; T = T.parentNode)v.push(T); for (r = r.type, T = v.length - 1; !l.h && 0 <= T; T--) { l.g = v[T]; var S = ky(v[T], r, !0, l); h = h && S } for (T = 0; !l.h && T < v.length; T++)l.g = v[T], S = ky(v[T], r, !1, l), h = h && S } return h } return _l(r, new Pi(l, this)) } function ba(r) { return r = r[Im], r instanceof mf ? r : null } var bd = "__closure_events_fn_" + (1e9 * Math.random() >>> 0); function vf(r) { return Q(r) ? r : (r[bd] || (r[bd] = function (l) { return r.handleEvent(l) }), r[bd]) } function en() { ut.call(this), this.J = new mf(this), this.wb = this, this.Ha = null } ce(en, ut), en.prototype[wl] = !0, en.prototype.Za = function (r) { this.Ha = r }, en.prototype.removeEventListener = function (r, l, h, v) { ya(this, r, l, h, v) }; function Pr(r, l) { var h, v = r.Ha; if (v) for (h = []; v; v = v.Ha)h.push(v); if (r = r.wb, v = l.type || l, N(l)) l = new Gs(l, r); else if (l instanceof Gs) l.target = l.target || r; else { var T = l; l = new Gs(v, r), je(l, T) } if (T = !0, h) for (var S = h.length - 1; !l.h && 0 <= S; S--) { var D = l.g = h[S]; T = Uu(D, v, !0, l) && T } if (l.h || (D = l.g = r, T = Uu(D, v, !0, l) && T, l.h || (T = Uu(D, v, !1, l) && T)), h) for (S = 0; !l.h && S < h.length; S++)D = l.g = h[S], T = Uu(D, v, !1, l) && T; return T } en.prototype.o = function () { if (en.K.o.call(this), this.J) { var r = this.J, l; for (l in r.a) { for (var h = r.a[l], v = 0; v < h.length; v++)yd(h[v]); delete r.a[l], r.g-- } } this.Ha = null }; function Uu(r, l, h, v) { if (l = r.J.a[String(l)], !l) return !0; l = l.concat(); for (var T = !0, S = 0; S < l.length; ++S) { var D = l[S]; if (D && !D.sa && D.capture == h) { var W = D.listener, le = D.La || D.src; D.Ia && xm(r.J, D), T = W.call(le, v) !== !1 && T } } return T && v.qb != 0 } var ur = {}, wa = 0; function Nm(r, l) { if (!r) throw Error("Event target element must be provided!"); if (r = yf(r), ur[r] && ur[r].length) for (var h = 0; h < ur[r].length; h++)Pr(ur[r][h], l) } function Py(r) { var l = yf(r.N()); ur[l] && ur[l].length && (At(ur[l], function (h) { return h == r }), ur[l].length || delete ur[l]) } function yf(r) { return typeof r.a > "u" && (r.a = wa, wa++), r.a } function bf(r) { if (!r) throw Error("Event target element must be provided!"); en.call(this), this.a = r } p(bf, en), bf.prototype.N = function () { return this.a }, bf.prototype.register = function () { var r = yf(this.N()); ur[r] ? ze(ur[r], this) || ur[r].push(this) : ur[r] = [this] }; function Ny(r) { if (!r) return !1; try { return !!r.$goog_Thenable } catch { return !1 } } function Mm(r, l) { this.h = r, this.j = l, this.g = 0, this.a = null } Mm.prototype.get = function () { if (0 < this.g) { this.g--; var r = this.a; this.a = r.next, r.next = null } else r = this.h(); return r }; function Dm(r, l) { r.j(l), 100 > r.g && (r.g++, l.next = r.a, r.a = l) } function Om() { this.g = this.a = null } var wf = new Mm(function () { return new _f }, function (r) { r.reset() }); Om.prototype.add = function (r, l) { var h = wf.get(); h.set(r, l), this.g ? this.g.next = h : this.a = h, this.g = h }; function vs() { var r = Tl, l = null; return r.a && (l = r.a, r.a = r.a.next, r.a || (r.g = null), l.next = null), l } function _f() { this.next = this.g = this.a = null } _f.prototype.set = function (r, l) { this.a = r, this.g = l, this.next = null }, _f.prototype.reset = function () { this.next = this.g = this.a = null }; function Nr(r) { E.setTimeout(function () { throw r }, 0) } var cr; function Bu() { var r = E.MessageChannel; if (typeof r > "u" && typeof window < "u" && window.postMessage && window.addEventListener && !lt("Presto") && (r = function () { var T = document.createElement("IFRAME"); T.style.display = "none", T.src = "", document.documentElement.appendChild(T); var S = T.contentWindow; T = S.document, T.open(), T.write(""), T.close(); var D = "callImmediate" + Math.random(), W = S.location.protocol == "file:" ? "*" : S.location.protocol + "//" + S.location.host; T = O(function (le) { (W == "*" || le.origin == W) && le.data == D && this.port1.onmessage() }, this), S.addEventListener("message", T, !1), this.port1 = {}, this.port2 = { postMessage: function () { S.postMessage(D, W) } } }), typeof r < "u" && !lt("Trident") && !lt("MSIE")) { var l = new r, h = {}, v = h; return l.port1.onmessage = function () { if (C(h.next)) { h = h.next; var T = h.gb; h.gb = null, T() } }, function (T) { v.next = { gb: T }, v = v.next, l.port2.postMessage(0) } } return typeof document < "u" && "onreadystatechange" in document.createElement("SCRIPT") ? function (T) { var S = document.createElement("SCRIPT"); S.onreadystatechange = function () { S.onreadystatechange = null, S.parentNode.removeChild(S), S = null, T(), T = null }, document.documentElement.appendChild(S) } : function (T) { E.setTimeout(T, 0) } } function wd(r, l) { El || Ef(), _d || (El(), _d = !0), Tl.add(r, l) } var El; function Ef() { if (E.Promise && E.Promise.resolve) { var r = E.Promise.resolve(void 0); El = function () { r.then(Lm) } } else El = function () { var l = Lm; !Q(E.setImmediate) || E.Window && E.Window.prototype && !lt("Edge") && E.Window.prototype.setImmediate == E.setImmediate ? (cr || (cr = Bu()), cr(l)) : E.setImmediate(l) } } var _d = !1, Tl = new Om; function Lm() { for (var r; r = vs();) { try { r.a.call(r.g) } catch (l) { Nr(l) } Dm(wf, r) } _d = !1 } function wn(r) { if (this.a = Yr, this.A = void 0, this.j = this.g = this.h = null, this.s = this.i = !1, r != R) try { var l = this; r.call(void 0, function (h) { Qr(l, Ed, h) }, function (h) { if (!(h instanceof Jr)) try { throw h instanceof Error ? h : Error("Promise rejected.") } catch { } Qr(l, Nn, h) }) } catch (h) { Qr(this, Nn, h) } } var Yr = 0, Ed = 2, Nn = 3; function Tf() { this.next = this.j = this.g = this.s = this.a = null, this.h = !1 } Tf.prototype.reset = function () { this.j = this.g = this.s = this.a = null, this.h = !1 }; var Ks = new Mm(function () { return new Tf }, function (r) { r.reset() }); function Sf(r, l, h) { var v = Ks.get(); return v.s = r, v.g = l, v.j = h, v } function un(r) { if (r instanceof wn) return r; var l = new wn(R); return Qr(l, Ed, r), l } function Xr(r) { return new wn(function (l, h) { h(r) }) } wn.prototype.then = function (r, l, h) { return Sl(this, Q(r) ? r : null, Q(l) ? l : null, h) }, wn.prototype.$goog_Thenable = !0, n = wn.prototype, n.fc = function (r, l) { return r = Sf(r, r, l), r.h = !0, Td(this, r), this }, n.Ca = function (r, l) { return Sl(this, null, r, l) }, n.cancel = function (r) { this.a == Yr && wd(function () { var l = new Jr(r); Af(this, l) }, this) }; function Af(r, l) { if (r.a == Yr) if (r.h) { var h = r.h; if (h.g) { for (var v = 0, T = null, S = null, D = h.g; D && (D.h || (v++, D.a == r && (T = D), !(T && 1 < v))); D = D.next)T || (S = D); T && (h.a == Yr && v == 1 ? Af(h, l) : (S ? (v = S, v.next == h.j && (h.j = v), v.next = v.next.next) : Mr(h), Dr(h, T, Nn, l))) } r.h = null } else Qr(r, Nn, l) } function Td(r, l) { r.g || r.a != Ed && r.a != Nn || Sd(r), r.j ? r.j.next = l : r.g = l, r.j = l } function Sl(r, l, h, v) { var T = Sf(null, null, null); return T.a = new wn(function (S, D) { T.s = l ? function (W) { try { var le = l.call(v, W); S(le) } catch (Se) { D(Se) } } : S, T.g = h ? function (W) { try { var le = h.call(v, W); !C(le) && W instanceof Jr ? D(W) : S(le) } catch (Se) { D(Se) } } : D }), T.a.h = r, Td(r, T), T.a } n.hc = function (r) { this.a = Yr, Qr(this, Ed, r) }, n.ic = function (r) { this.a = Yr, Qr(this, Nn, r) }; function Qr(r, l, h) { if (r.a == Yr) { r === h && (l = Nn, h = new TypeError("Promise cannot resolve to itself")), r.a = 1; e: { var v = h, T = r.hc, S = r.ic; if (v instanceof wn) { Td(v, Sf(T || R, S || null, r)); var D = !0 } else if (Ny(v)) v.then(T, S, r), D = !0; else { if (re(v)) try { var W = v.then; if (Q(W)) { Cf(v, W, T, S, r), D = !0; break e } } catch (le) { S.call(r, le), D = !0; break e } D = !1 } } D || (r.A = h, r.a = l, r.h = null, Sd(r), l != Nn || h instanceof Jr || To(r, h)) } } function Cf(r, l, h, v, T) { function S(le) { W || (W = !0, v.call(T, le)) } function D(le) { W || (W = !0, h.call(T, le)) } var W = !1; try { l.call(r, D, S) } catch (le) { S(le) } } function Sd(r) { r.i || (r.i = !0, wd(r.Hb, r)) } function Mr(r) { var l = null; return r.g && (l = r.g, r.g = l.next, l.next = null), r.g || (r.j = null), l } n.Hb = function () { for (var r; r = Mr(this);)Dr(this, r, this.a, this.A); this.i = !1 }; function Dr(r, l, h, v) { if (h == Nn && l.g && !l.h) for (; r && r.s; r = r.h)r.s = !1; if (l.a) l.a.h = null, _a(l, h, v); else try { l.h ? l.s.call(l.j) : _a(l, h, v) } catch (T) { $s.call(null, T) } Dm(Ks, l) } function _a(r, l, h) { l == Ed ? r.s.call(r.j, h) : r.g && r.g.call(r.j, h) } function To(r, l) { r.s = !0, wd(function () { r.s && $s.call(null, l) }) } var $s = Nr; function Jr(r) { xe.call(this, r) } ce(Jr, xe), Jr.prototype.name = "cancel"; function Vm(r, l, h) { l || (l = {}), h = h || window; var v = r instanceof Jn ? r : fa(typeof r.href < "u" ? r.href : String(r)); r = l.target || r.target; var T = []; for (S in l) switch (S) { case "width": case "height": case "top": case "left": T.push(S + "=" + l[S]); break; case "target": case "noopener": case "noreferrer": break; default: T.push(S + "=" + (l[S] ? 1 : 0)) }var S = T.join(","); return (lt("iPhone") && !lt("iPod") && !lt("iPad") || lt("iPad") || lt("iPod")) && h.navigator && h.navigator.standalone && r && r != "_self" ? (S = h.document.createElement("A"), v = v instanceof Jn ? v : sf(v), S.href = us(v), S.setAttribute("target", r), l.noreferrer && S.setAttribute("rel", "noreferrer"), l = document.createEvent("MouseEvent"), l.initMouseEvent("click", !0, !0, h, 1), S.dispatchEvent(l), h = {}) : l.noreferrer ? (h = h.open("", r, S), l = us(v).toString(), h && (rf && l.indexOf(";") != -1 && (l = "'" + l.replace(/'/g, "%27") + "'"), h.opener = null, l = ar('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url=' + qe(l) + '">', null), h.document.write(Kr(l)), h.document.close())) : (h = h.open(us(v).toString(), r, S)) && l.noopener && (h.opener = null), h } function xf() { try { return !(!window.opener || !window.opener.location || window.opener.location.hostname !== window.location.hostname || window.opener.location.protocol !== window.location.protocol) } catch { } return !1 } function Ea(r) { Vm(r, { target: window.cordova && window.cordova.InAppBrowser ? "_system" : "_blank" }, void 0) } function ci(r, l) { if (r = re(r) && r.nodeType == 1 ? r : document.querySelector(String(r)), r == null) throw Error(l || "Cannot find element."); return r } function jt() { return window.location.href } function Ot() { var r = null; return new wn(function (l) { E.document.readyState == "complete" ? l() : (r = function () { l() }, ju(window, "load", r)) }).Ca(function (l) { throw ya(window, "load", r), l }) } function Al() { for (var r = 32, l = []; 0 < r;)l.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62 * Math.random()))), r--; return l.join("") } function Ws(r, l, h) { return h = h === void 0 ? {} : h, Object.keys(r).filter(function (v) { return l.includes(v) }).reduce(function (v, T) { return v[T] = r[T], v }, h) } function Ys(r) { var l = Co; this.s = [], this.T = l, this.O = r || null, this.j = this.a = !1, this.h = void 0, this.J = this.l = this.A = !1, this.i = 0, this.g = null, this.C = 0 } Ys.prototype.cancel = function (r) { if (this.a) this.h instanceof Ys && this.h.cancel(); else { if (this.g) { var l = this.g; delete this.g, r ? l.cancel(r) : (l.C--, 0 >= l.C && l.cancel()) } this.T ? this.T.call(this.O, this) : this.J = !0, this.a || (r = new So, Ad(this), ys(this, !1, r)) } }, Ys.prototype.L = function (r, l) { this.A = !1, ys(this, r, l) }; function ys(r, l, h) { r.a = !0, r.h = h, r.j = !l, zu(r) } function Ad(r) { if (r.a) { if (!r.J) throw new Cd; r.J = !1 } } Ys.prototype.callback = function (r) { Ad(this), ys(this, !0, r) }; function jm(r, l, h) { r.s.push([l, h, void 0]), r.a && zu(r) } Ys.prototype.then = function (r, l, h) { var v, T, S = new wn(function (D, W) { v = D, T = W }); return jm(this, v, function (D) { D instanceof So ? S.cancel() : T(D) }), S.then(r, l, h) }, Ys.prototype.$goog_Thenable = !0; function Fu(r) { return Oe(r.s, function (l) { return Q(l[1]) }) } function zu(r) { if (r.i && r.a && Fu(r)) { var l = r.i, h = Xs[l]; h && (E.clearTimeout(h.a), delete Xs[l]), r.i = 0 } r.g && (r.g.C--, delete r.g), l = r.h; for (var v = h = !1; r.s.length && !r.A;) { var T = r.s.shift(), S = T[0], D = T[1]; if (T = T[2], S = r.j ? D : S) try { var W = S.call(T || r.O, l); C(W) && (r.j = r.j && (W == l || W instanceof Error), r.h = l = W), (Ny(l) || typeof E.Promise == "function" && l instanceof E.Promise) && (v = !0, r.A = !0) } catch (le) { l = le, r.j = !0, Fu(r) || (h = !0) } } r.h = l, v && (W = O(r.L, r, !0), v = O(r.L, r, !1), l instanceof Ys ? (jm(l, W, v), l.l = !0) : l.then(W, v)), h && (l = new Rf(l), Xs[l.a] = l, r.i = l.a) } function Cd() { xe.call(this) } ce(Cd, xe), Cd.prototype.message = "Deferred has already fired", Cd.prototype.name = "AlreadyCalledError"; function So() { xe.call(this) } ce(So, xe), So.prototype.message = "Deferred was canceled", So.prototype.name = "CanceledError"; function Rf(r) { this.a = E.setTimeout(O(this.h, this), 0), this.g = r } Rf.prototype.h = function () { throw delete Xs[this.a], this.g }; var Xs = {}; function Ao(r) { var l = {}, h = l.document || document, v = Ht(r).toString(), T = document.createElement("SCRIPT"), S = { rb: T, sb: void 0 }, D = new Ys(S), W = null, le = l.timeout != null ? l.timeout : 5e3; return 0 < le && (W = window.setTimeout(function () { Hu(T, !0); var Se = new qu(xd, "Timeout reached for loading script " + v); Ad(D), ys(D, !1, Se) }, le), S.sb = W), T.onload = T.onreadystatechange = function () { T.readyState && T.readyState != "loaded" && T.readyState != "complete" || (Hu(T, l.xc || !1, W), D.callback(null)) }, T.onerror = function () { Hu(T, !0, W); var Se = new qu(Um, "Error while loading script " + v); Ad(D), ys(D, !1, Se) }, S = l.attributes || {}, je(S, { type: "text/javascript", charset: "UTF-8" }), Us(T, S), cs(T, r), Ta(h).appendChild(T), D } function Ta(r) { var l = (r || document).getElementsByTagName("HEAD"); return l && l.length != 0 ? l[0] : r.documentElement } function Co() { if (this && this.rb) { var r = this.rb; r && r.tagName == "SCRIPT" && Hu(r, !0, this.sb) } } function Hu(r, l, h) { h != null && E.clearTimeout(h), r.onload = R, r.onerror = R, r.onreadystatechange = R, l && window.setTimeout(function () { yt(r) }, 0) } var Um = 0, xd = 1; function qu(r, l) { var h = "Jsloader error (code #" + r + ")"; l && (h += ": " + l), xe.call(this, h), this.code = r } ce(qu, xe); function bs() { return E.google && E.google.accounts && E.google.accounts.id || null } function di(r) { this.a = r || bs(), this.h = !1, this.g = null } di.prototype.cancel = function () { this.a && this.h && (this.g && this.g(null), this.a.cancel()) }; function Rd(r, l, h) { if (r.a && l) return function () { return r.h = !0, new wn(function (T) { r.g = T, r.a.initialize({ client_id: l, callback: T, auto_select: !h }), r.a.prompt() }) }(); if (l) { var v = Bm.Xa().load().then(function () { return r.a = bs(), Rd(r, l, h) }).Ca(function () { return null }); return un(v) } return un(null) } L(di); var My = new ai(bo, "https://accounts.google.com/gsi/client"); function Bm() { this.a = null } Bm.prototype.load = function () { var r = this; if (this.a) return this.a; var l = ml(); return bs() ? un() : this.a = Ot().then(function () { if (!bs()) return new wn(function (h, v) { var T = setTimeout(function () { r.a = null, v(Error("Network error!")) }, 1e4); E.onGoogleLibraryLoad = function () { clearTimeout(T), h() }, un(Ao(l)).then(function () { bs() && h() }).Ca(function (S) { clearTimeout(T), r.a = null, v(S) }) }) }) }, L(Bm); function Fm(r, l) { this.a = r, this.g = l || function (h) { throw h } } Fm.prototype.confirm = function (r) { return un(this.a.confirm(r)).Ca(this.g) }; function zm(r, l, h) { this.reset(r, l, h, void 0, void 0) } zm.prototype.a = null, zm.prototype.reset = function (r, l, h, v, T) { this.h = v || K(), this.j = r, this.s = l, this.g = h, delete this.a }; function Mn(r) { this.s = r, this.a = this.h = this.j = this.g = null } function Gu(r, l) { this.name = r, this.value = l } Gu.prototype.toString = function () { return this.name }; var Ku = new Gu("SEVERE", 1e3), $u = new Gu("WARNING", 900), If = new Gu("CONFIG", 700); function Cl(r) { return r.j ? r.j : r.g ? Cl(r.g) : (_e("Root logger has no level set."), null) } Mn.prototype.log = function (r, l, h) { if (r.value >= Cl(this).value) for (Q(l) && (l = l()), r = new zm(r, String(l), this.s), h && (r.a = h), h = this; h;) { var v = h, T = r; if (v.a) for (var S = 0; l = v.a[S]; S++)l(T); h = h.g } }; var Sa = {}, Id = null; function Hm() { Id || (Id = new Mn(""), Sa[""] = Id, Id.j = If) } function Dy(r) { Hm(); var l; if (!(l = Sa[r])) { l = new Mn(r); var h = r.lastIndexOf("."), v = r.substr(h + 1); h = Dy(r.substr(0, h)), h.h || (h.h = {}), h.h[v] = l, l.g = h, Sa[r] = l } return l } function kd() { this.a = K() } var xo = null; kd.prototype.set = function (r) { this.a = r }, kd.prototype.reset = function () { this.set(K()) }, kd.prototype.get = function () { return this.a }; function xl(r) { this.j = r || "", xo || (xo = new kd), this.s = xo } xl.prototype.a = !0, xl.prototype.g = !0, xl.prototype.h = !1; function Qs(r) { return 10 > r ? "0" + r : String(r) } function Oy(r, l) { r = (r.h - l) / 1e3, l = r.toFixed(3); var h = 0; if (1 > r) h = 2; else for (; 100 > r;)h++, r *= 10; for (; 0 < h--;)l = " " + l; return l } function Wu(r) { xl.call(this, r) } ce(Wu, xl); function Ly(r, l) {
      var h = []; if (h.push(r.j, " "), r.g) { var v = new Date(l.h); h.push("[", Qs(v.getFullYear() - 2e3) + Qs(v.getMonth() + 1) + Qs(v.getDate()) + " " + Qs(v.getHours()) + ":" + Qs(v.getMinutes()) + ":" + Qs(v.getSeconds()) + "." + Qs(Math.floor(v.getMilliseconds() / 10)), "] ") } return h.push("[", Oy(l, r.s.get()), "s] "), h.push("[", l.g, "] "), h.push(l.s), r.h && (l = l.a) && h.push(`
`, l instanceof Error ? l.message : l.toString()), r.a && h.push(`
`), h.join("")
    } function Pd() { this.s = O(this.h, this), this.a = new Wu, this.a.g = !1, this.a.h = !1, this.g = this.a.a = !1, this.j = {} } Pd.prototype.h = function (r) { function l(S) { if (S) { if (S.value >= Ku.value) return "error"; if (S.value >= $u.value) return "warn"; if (S.value >= If.value) return "log" } return "debug" } if (!this.j[r.g]) { var h = Ly(this.a, r), v = qm; if (v) { var T = l(r.j); Vy(v, T, h, r.a) } } }; var qm = E.console; function Vy(r, l, h, v) { r[l] ? r[l](h, v || "") : r.log(h, v || "") } function Ni(r, l) { var h = kf; h && h.log(Ku, r, l) } var kf; kf = Dy("firebaseui"); var Rl = new Pd; if (Rl.g != 1) { var Nd; Hm(), Nd = Id; var jy = Rl.s; Nd.a || (Nd.a = []), Nd.a.push(jy), Rl.g = !0 } function qi(r) { var l = kf; l && l.log($u, r, void 0) } function Pf() { this.a = (typeof document > "u" ? null : document) || { cookie: "" } } n = Pf.prototype, n.set = function (r, l, h, v, T, S) { if (/[;=\s]/.test(r)) throw Error('Invalid cookie name "' + r + '"'); if (/[;\r\n]/.test(l)) throw Error('Invalid cookie value "' + l + '"'); C(h) || (h = -1), T = T ? ";domain=" + T : "", v = v ? ";path=" + v : "", S = S ? ";secure" : "", h = 0 > h ? "" : h == 0 ? ";expires=" + new Date(1970, 1, 1).toUTCString() : ";expires=" + new Date(K() + 1e3 * h).toUTCString(), this.a.cookie = r + "=" + l + T + v + h + S }, n.get = function (r, l) { for (var h = r + "=", v = (this.a.cookie || "").split(";"), T = 0, S; T < v.length; T++) { if (S = It(v[T]), S.lastIndexOf(h, 0) == 0) return S.substr(h.length); if (S == r) return "" } return l }, n.ja = function () { return Md(this).keys }, n.la = function () { return Md(this).values }, n.clear = function () { for (var r = Md(this).keys, l = r.length - 1; 0 <= l; l--) { var h = r[l]; this.get(h), this.set(h, "", 0, void 0, void 0) } }; function Md(r) { r = (r.a.cookie || "").split(";"); for (var l = [], h = [], v, T, S = 0; S < r.length; S++)T = It(r[S]), v = T.indexOf("="), v == -1 ? (l.push(""), h.push(T)) : (l.push(T.substring(0, v)), h.push(T.substring(v + 1))); return { keys: l, values: h } } var ws = new Pf; function Ro() { } function Js(r, l, h, v) { this.h = typeof r < "u" && r !== null ? r : -1, this.g = l || null, this.a = h || null, this.j = !!v } p(Js, Ro), Js.prototype.set = function (r, l) { ws.set(r, l, this.h, this.g, this.a, this.j) }, Js.prototype.get = function (r) { return ws.get(r) || null }, Js.prototype.ra = function (r) { var l = this.g, h = this.a; ws.get(r), ws.set(r, "", 0, l, h) }; function Dd(r, l) { this.g = r, this.a = l || null } function Nf(r) { return { email: r.g, credential: r.a && r.a.toJSON() } } function Yu(r) { if (r && r.email) { var l = r.credential && He.auth.AuthCredential.fromJSON(r.credential); return new Dd(r.email, l) } return null } function Xu(r) { this.a = r || null } function Gm(r) { for (var l = [], h = 0, v = 0; v < r.length; v++) { var T = r.charCodeAt(v); 255 < T && (l[h++] = T & 255, T >>= 8), l[h++] = T } return l } function Uy(r) { return Ee(r, function (l) { return l = l.toString(16), 1 < l.length ? l : "0" + l }).join("") } function Io(r) { for (this.i = r, this.g = this.i.length / 4, this.j = this.g + 6, this.h = [[], [], [], []], this.s = [[], [], [], []], this.a = Array(ko * (this.j + 1)), r = 0; r < this.g; r++)this.a[r] = [this.i[4 * r], this.i[4 * r + 1], this.i[4 * r + 2], this.i[4 * r + 3]]; var l = Array(4); for (r = this.g; r < ko * (this.j + 1); r++) { if (l[0] = this.a[r - 1][0], l[1] = this.a[r - 1][1], l[2] = this.a[r - 1][2], l[3] = this.a[r - 1][3], r % this.g == 0) { var h = l, v = h[0]; h[0] = h[1], h[1] = h[2], h[2] = h[3], h[3] = v, Dn(l), l[0] ^= Zs[r / this.g][0], l[1] ^= Zs[r / this.g][1], l[2] ^= Zs[r / this.g][2], l[3] ^= Zs[r / this.g][3] } else 6 < this.g && r % this.g == 4 && Dn(l); this.a[r] = Array(4), this.a[r][0] = this.a[r - this.g][0] ^ l[0], this.a[r][1] = this.a[r - this.g][1] ^ l[1], this.a[r][2] = this.a[r - this.g][2] ^ l[2], this.a[r][3] = this.a[r - this.g][3] ^ l[3] } } Io.prototype.A = 16; var ko = Io.prototype.A / 4; function Km(r, l) { for (var h, v = 0; v < ko; v++)for (var T = 0; 4 > T; T++)h = 4 * T + v, h = l[h], r.h[v][T] = h } function Mf(r) { for (var l = [], h = 0; h < ko; h++)for (var v = 0; 4 > v; v++)l[4 * v + h] = r.h[h][v]; return l } function Aa(r, l) { for (var h = 0; 4 > h; h++)for (var v = 0; 4 > v; v++)r.h[h][v] ^= r.a[4 * l + v][h] } function _s(r, l) { for (var h = 0; 4 > h; h++)for (var v = 0; 4 > v; v++)r.h[h][v] = l[r.h[h][v]] } function ct(r) { for (var l = 1; 4 > l; l++)for (var h = 0; 4 > h; h++)r.s[l][h] = r.h[l][h]; for (l = 1; 4 > l; l++)for (h = 0; 4 > h; h++)r.h[l][h] = r.s[l][(h + l) % ko] } function qt(r) { for (var l = 1; 4 > l; l++)for (var h = 0; 4 > h; h++)r.s[l][(h + l) % ko] = r.h[l][h]; for (l = 1; 4 > l; l++)for (h = 0; 4 > h; h++)r.h[l][h] = r.s[l][h] } function Dn(r) { r[0] = Po[r[0]], r[1] = Po[r[1]], r[2] = Po[r[2]], r[3] = Po[r[3]] } var Po = [99, 124, 119, 123, 242, 107, 111, 197, 48, 1, 103, 43, 254, 215, 171, 118, 202, 130, 201, 125, 250, 89, 71, 240, 173, 212, 162, 175, 156, 164, 114, 192, 183, 253, 147, 38, 54, 63, 247, 204, 52, 165, 229, 241, 113, 216, 49, 21, 4, 199, 35, 195, 24, 150, 5, 154, 7, 18, 128, 226, 235, 39, 178, 117, 9, 131, 44, 26, 27, 110, 90, 160, 82, 59, 214, 179, 41, 227, 47, 132, 83, 209, 0, 237, 32, 252, 177, 91, 106, 203, 190, 57, 74, 76, 88, 207, 208, 239, 170, 251, 67, 77, 51, 133, 69, 249, 2, 127, 80, 60, 159, 168, 81, 163, 64, 143, 146, 157, 56, 245, 188, 182, 218, 33, 16, 255, 243, 210, 205, 12, 19, 236, 95, 151, 68, 23, 196, 167, 126, 61, 100, 93, 25, 115, 96, 129, 79, 220, 34, 42, 144, 136, 70, 238, 184, 20, 222, 94, 11, 219, 224, 50, 58, 10, 73, 6, 36, 92, 194, 211, 172, 98, 145, 149, 228, 121, 231, 200, 55, 109, 141, 213, 78, 169, 108, 86, 244, 234, 101, 122, 174, 8, 186, 120, 37, 46, 28, 166, 180, 198, 232, 221, 116, 31, 75, 189, 139, 138, 112, 62, 181, 102, 72, 3, 246, 14, 97, 53, 87, 185, 134, 193, 29, 158, 225, 248, 152, 17, 105, 217, 142, 148, 155, 30, 135, 233, 206, 85, 40, 223, 140, 161, 137, 13, 191, 230, 66, 104, 65, 153, 45, 15, 176, 84, 187, 22], Il = [82, 9, 106, 213, 48, 54, 165, 56, 191, 64, 163, 158, 129, 243, 215, 251, 124, 227, 57, 130, 155, 47, 255, 135, 52, 142, 67, 68, 196, 222, 233, 203, 84, 123, 148, 50, 166, 194, 35, 61, 238, 76, 149, 11, 66, 250, 195, 78, 8, 46, 161, 102, 40, 217, 36, 178, 118, 91, 162, 73, 109, 139, 209, 37, 114, 248, 246, 100, 134, 104, 152, 22, 212, 164, 92, 204, 93, 101, 182, 146, 108, 112, 72, 80, 253, 237, 185, 218, 94, 21, 70, 87, 167, 141, 157, 132, 144, 216, 171, 0, 140, 188, 211, 10, 247, 228, 88, 5, 184, 179, 69, 6, 208, 44, 30, 143, 202, 63, 15, 2, 193, 175, 189, 3, 1, 19, 138, 107, 58, 145, 17, 65, 79, 103, 220, 234, 151, 242, 207, 206, 240, 180, 230, 115, 150, 172, 116, 34, 231, 173, 53, 133, 226, 249, 55, 232, 28, 117, 223, 110, 71, 241, 26, 113, 29, 41, 197, 137, 111, 183, 98, 14, 170, 24, 190, 27, 252, 86, 62, 75, 198, 210, 121, 32, 154, 219, 192, 254, 120, 205, 90, 244, 31, 221, 168, 51, 136, 7, 199, 49, 177, 18, 16, 89, 39, 128, 236, 95, 96, 81, 127, 169, 25, 181, 74, 13, 45, 229, 122, 159, 147, 201, 156, 239, 160, 224, 59, 77, 174, 42, 245, 176, 200, 235, 187, 60, 131, 83, 153, 97, 23, 43, 4, 126, 186, 119, 214, 38, 225, 105, 20, 99, 85, 33, 12, 125], Zs = [[0, 0, 0, 0], [1, 0, 0, 0], [2, 0, 0, 0], [4, 0, 0, 0], [8, 0, 0, 0], [16, 0, 0, 0], [32, 0, 0, 0], [64, 0, 0, 0], [128, 0, 0, 0], [27, 0, 0, 0], [54, 0, 0, 0]], kl = [0, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 30, 32, 34, 36, 38, 40, 42, 44, 46, 48, 50, 52, 54, 56, 58, 60, 62, 64, 66, 68, 70, 72, 74, 76, 78, 80, 82, 84, 86, 88, 90, 92, 94, 96, 98, 100, 102, 104, 106, 108, 110, 112, 114, 116, 118, 120, 122, 124, 126, 128, 130, 132, 134, 136, 138, 140, 142, 144, 146, 148, 150, 152, 154, 156, 158, 160, 162, 164, 166, 168, 170, 172, 174, 176, 178, 180, 182, 184, 186, 188, 190, 192, 194, 196, 198, 200, 202, 204, 206, 208, 210, 212, 214, 216, 218, 220, 222, 224, 226, 228, 230, 232, 234, 236, 238, 240, 242, 244, 246, 248, 250, 252, 254, 27, 25, 31, 29, 19, 17, 23, 21, 11, 9, 15, 13, 3, 1, 7, 5, 59, 57, 63, 61, 51, 49, 55, 53, 43, 41, 47, 45, 35, 33, 39, 37, 91, 89, 95, 93, 83, 81, 87, 85, 75, 73, 79, 77, 67, 65, 71, 69, 123, 121, 127, 125, 115, 113, 119, 117, 107, 105, 111, 109, 99, 97, 103, 101, 155, 153, 159, 157, 147, 145, 151, 149, 139, 137, 143, 141, 131, 129, 135, 133, 187, 185, 191, 189, 179, 177, 183, 181, 171, 169, 175, 173, 163, 161, 167, 165, 219, 217, 223, 221, 211, 209, 215, 213, 203, 201, 207, 205, 195, 193, 199, 197, 251, 249, 255, 253, 243, 241, 247, 245, 235, 233, 239, 237, 227, 225, 231, 229], Ca = [0, 3, 6, 5, 12, 15, 10, 9, 24, 27, 30, 29, 20, 23, 18, 17, 48, 51, 54, 53, 60, 63, 58, 57, 40, 43, 46, 45, 36, 39, 34, 33, 96, 99, 102, 101, 108, 111, 106, 105, 120, 123, 126, 125, 116, 119, 114, 113, 80, 83, 86, 85, 92, 95, 90, 89, 72, 75, 78, 77, 68, 71, 66, 65, 192, 195, 198, 197, 204, 207, 202, 201, 216, 219, 222, 221, 212, 215, 210, 209, 240, 243, 246, 245, 252, 255, 250, 249, 232, 235, 238, 237, 228, 231, 226, 225, 160, 163, 166, 165, 172, 175, 170, 169, 184, 187, 190, 189, 180, 183, 178, 177, 144, 147, 150, 149, 156, 159, 154, 153, 136, 139, 142, 141, 132, 135, 130, 129, 155, 152, 157, 158, 151, 148, 145, 146, 131, 128, 133, 134, 143, 140, 137, 138, 171, 168, 173, 174, 167, 164, 161, 162, 179, 176, 181, 182, 191, 188, 185, 186, 251, 248, 253, 254, 247, 244, 241, 242, 227, 224, 229, 230, 239, 236, 233, 234, 203, 200, 205, 206, 199, 196, 193, 194, 211, 208, 213, 214, 223, 220, 217, 218, 91, 88, 93, 94, 87, 84, 81, 82, 67, 64, 69, 70, 79, 76, 73, 74, 107, 104, 109, 110, 103, 100, 97, 98, 115, 112, 117, 118, 127, 124, 121, 122, 59, 56, 61, 62, 55, 52, 49, 50, 35, 32, 37, 38, 47, 44, 41, 42, 11, 8, 13, 14, 7, 4, 1, 2, 19, 16, 21, 22, 31, 28, 25, 26], No = [0, 9, 18, 27, 36, 45, 54, 63, 72, 65, 90, 83, 108, 101, 126, 119, 144, 153, 130, 139, 180, 189, 166, 175, 216, 209, 202, 195, 252, 245, 238, 231, 59, 50, 41, 32, 31, 22, 13, 4, 115, 122, 97, 104, 87, 94, 69, 76, 171, 162, 185, 176, 143, 134, 157, 148, 227, 234, 241, 248, 199, 206, 213, 220, 118, 127, 100, 109, 82, 91, 64, 73, 62, 55, 44, 37, 26, 19, 8, 1, 230, 239, 244, 253, 194, 203, 208, 217, 174, 167, 188, 181, 138, 131, 152, 145, 77, 68, 95, 86, 105, 96, 123, 114, 5, 12, 23, 30, 33, 40, 51, 58, 221, 212, 207, 198, 249, 240, 235, 226, 149, 156, 135, 142, 177, 184, 163, 170, 236, 229, 254, 247, 200, 193, 218, 211, 164, 173, 182, 191, 128, 137, 146, 155, 124, 117, 110, 103, 88, 81, 74, 67, 52, 61, 38, 47, 16, 25, 2, 11, 215, 222, 197, 204, 243, 250, 225, 232, 159, 150, 141, 132, 187, 178, 169, 160, 71, 78, 85, 92, 99, 106, 113, 120, 15, 6, 29, 20, 43, 34, 57, 48, 154, 147, 136, 129, 190, 183, 172, 165, 210, 219, 192, 201, 246, 255, 228, 237, 10, 3, 24, 17, 46, 39, 60, 53, 66, 75, 80, 89, 102, 111, 116, 125, 161, 168, 179, 186, 133, 140, 151, 158, 233, 224, 251, 242, 205, 196, 223, 214, 49, 56, 35, 42, 21, 28, 7, 14, 121, 112, 107, 98, 93, 84, 79, 70], Df = [0, 11, 22, 29, 44, 39, 58, 49, 88, 83, 78, 69, 116, 127, 98, 105, 176, 187, 166, 173, 156, 151, 138, 129, 232, 227, 254, 245, 196, 207, 210, 217, 123, 112, 109, 102, 87, 92, 65, 74, 35, 40, 53, 62, 15, 4, 25, 18, 203, 192, 221, 214, 231, 236, 241, 250, 147, 152, 133, 142, 191, 180, 169, 162, 246, 253, 224, 235, 218, 209, 204, 199, 174, 165, 184, 179, 130, 137, 148, 159, 70, 77, 80, 91, 106, 97, 124, 119, 30, 21, 8, 3, 50, 57, 36, 47, 141, 134, 155, 144, 161, 170, 183, 188, 213, 222, 195, 200, 249, 242, 239, 228, 61, 54, 43, 32, 17, 26, 7, 12, 101, 110, 115, 120, 73, 66, 95, 84, 247, 252, 225, 234, 219, 208, 205, 198, 175, 164, 185, 178, 131, 136, 149, 158, 71, 76, 81, 90, 107, 96, 125, 118, 31, 20, 9, 2, 51, 56, 37, 46, 140, 135, 154, 145, 160, 171, 182, 189, 212, 223, 194, 201, 248, 243, 238, 229, 60, 55, 42, 33, 16, 27, 6, 13, 100, 111, 114, 121, 72, 67, 94, 85, 1, 10, 23, 28, 45, 38, 59, 48, 89, 82, 79, 68, 117, 126, 99, 104, 177, 186, 167, 172, 157, 150, 139, 128, 233, 226, 255, 244, 197, 206, 211, 216, 122, 113, 108, 103, 86, 93, 64, 75, 34, 41, 52, 63, 14, 5, 24, 19, 202, 193, 220, 215, 230, 237, 240, 251, 146, 153, 132, 143, 190, 181, 168, 163], pn = [0, 13, 26, 23, 52, 57, 46, 35, 104, 101, 114, 127, 92, 81, 70, 75, 208, 221, 202, 199, 228, 233, 254, 243, 184, 181, 162, 175, 140, 129, 150, 155, 187, 182, 161, 172, 143, 130, 149, 152, 211, 222, 201, 196, 231, 234, 253, 240, 107, 102, 113, 124, 95, 82, 69, 72, 3, 14, 25, 20, 55, 58, 45, 32, 109, 96, 119, 122, 89, 84, 67, 78, 5, 8, 31, 18, 49, 60, 43, 38, 189, 176, 167, 170, 137, 132, 147, 158, 213, 216, 207, 194, 225, 236, 251, 246, 214, 219, 204, 193, 226, 239, 248, 245, 190, 179, 164, 169, 138, 135, 144, 157, 6, 11, 28, 17, 50, 63, 40, 37, 110, 99, 116, 121, 90, 87, 64, 77, 218, 215, 192, 205, 238, 227, 244, 249, 178, 191, 168, 165, 134, 139, 156, 145, 10, 7, 16, 29, 62, 51, 36, 41, 98, 111, 120, 117, 86, 91, 76, 65, 97, 108, 123, 118, 85, 88, 79, 66, 9, 4, 19, 30, 61, 48, 39, 42, 177, 188, 171, 166, 133, 136, 159, 146, 217, 212, 195, 206, 237, 224, 247, 250, 183, 186, 173, 160, 131, 142, 153, 148, 223, 210, 197, 200, 235, 230, 241, 252, 103, 106, 125, 112, 83, 94, 73, 68, 15, 2, 21, 24, 59, 54, 33, 44, 12, 1, 22, 27, 56, 53, 34, 47, 100, 105, 126, 115, 80, 93, 74, 71, 220, 209, 198, 203, 232, 229, 242, 255, 180, 185, 174, 163, 128, 141, 154, 151], Qu = [0, 14, 28, 18, 56, 54, 36, 42, 112, 126, 108, 98, 72, 70, 84, 90, 224, 238, 252, 242, 216, 214, 196, 202, 144, 158, 140, 130, 168, 166, 180, 186, 219, 213, 199, 201, 227, 237, 255, 241, 171, 165, 183, 185, 147, 157, 143, 129, 59, 53, 39, 41, 3, 13, 31, 17, 75, 69, 87, 89, 115, 125, 111, 97, 173, 163, 177, 191, 149, 155, 137, 135, 221, 211, 193, 207, 229, 235, 249, 247, 77, 67, 81, 95, 117, 123, 105, 103, 61, 51, 33, 47, 5, 11, 25, 23, 118, 120, 106, 100, 78, 64, 82, 92, 6, 8, 26, 20, 62, 48, 34, 44, 150, 152, 138, 132, 174, 160, 178, 188, 230, 232, 250, 244, 222, 208, 194, 204, 65, 79, 93, 83, 121, 119, 101, 107, 49, 63, 45, 35, 9, 7, 21, 27, 161, 175, 189, 179, 153, 151, 133, 139, 209, 223, 205, 195, 233, 231, 245, 251, 154, 148, 134, 136, 162, 172, 190, 176, 234, 228, 246, 248, 210, 220, 206, 192, 122, 116, 102, 104, 66, 76, 94, 80, 10, 4, 22, 24, 50, 60, 46, 32, 236, 226, 240, 254, 212, 218, 200, 198, 156, 146, 128, 142, 164, 170, 184, 182, 12, 2, 16, 30, 52, 58, 40, 38, 124, 114, 96, 110, 68, 74, 88, 86, 55, 57, 43, 37, 15, 1, 19, 29, 71, 73, 91, 85, 127, 113, 99, 109, 215, 217, 203, 197, 239, 225, 243, 253, 167, 169, 187, 181, 159, 145, 131, 141]; function Of(r, l) { r = new Io(Wm(r)), l = Gm(l); for (var h = l.splice(0, 16), v = "", T; h.length;) { T = 16 - h.length; for (var S = 0; S < T; S++)h.push(0); for (T = r, Km(T, h), Aa(T, 0), h = 1; h < T.j; ++h) { _s(T, Po), ct(T), S = T.h; for (var D = T.s[0], W = 0; 4 > W; W++)D[0] = S[0][W], D[1] = S[1][W], D[2] = S[2][W], D[3] = S[3][W], S[0][W] = kl[D[0]] ^ Ca[D[1]] ^ D[2] ^ D[3], S[1][W] = D[0] ^ kl[D[1]] ^ Ca[D[2]] ^ D[3], S[2][W] = D[0] ^ D[1] ^ kl[D[2]] ^ Ca[D[3]], S[3][W] = Ca[D[0]] ^ D[1] ^ D[2] ^ kl[D[3]]; Aa(T, h) } _s(T, Po), ct(T), Aa(T, T.j), v += Uy(Mf(T)), h = l.splice(0, 16) } return v } function $m(r, l) { r = new Io(Wm(r)); for (var h = [], v = 0; v < l.length; v += 2)h.push(parseInt(l.substring(v, v + 2), 16)); var T = h.splice(0, 16); for (l = ""; T.length;) { for (v = r, Km(v, T), Aa(v, v.j), T = 1; T < v.j; ++T) { qt(v), _s(v, Il), Aa(v, v.j - T); for (var S = v.h, D = v.s[0], W = 0; 4 > W; W++)D[0] = S[0][W], D[1] = S[1][W], D[2] = S[2][W], D[3] = S[3][W], S[0][W] = Qu[D[0]] ^ Df[D[1]] ^ pn[D[2]] ^ No[D[3]], S[1][W] = No[D[0]] ^ Qu[D[1]] ^ Df[D[2]] ^ pn[D[3]], S[2][W] = pn[D[0]] ^ No[D[1]] ^ Qu[D[2]] ^ Df[D[3]], S[3][W] = Df[D[0]] ^ pn[D[1]] ^ No[D[2]] ^ Qu[D[3]] } if (qt(v), _s(v, Il), Aa(v, 0), v = Mf(v), 8192 >= v.length) v = String.fromCharCode.apply(null, v); else { for (T = "", S = 0; S < v.length; S += 8192)T += String.fromCharCode.apply(null, Sr(v, S, S + 8192)); v = T } l += v, T = h.splice(0, 16) } return l.replace(/(\x00)+$/, "") } function Wm(r) { r = Gm(r.substring(0, 32)); for (var l = 32 - r.length, h = 0; h < l; h++)r.push(0); return r } function By(r) { var l = []; return Od(new Ym, r, l), l.join("") } function Ym() { } function Od(r, l, h) { if (l == null) h.push("null"); else { if (typeof l == "object") { if ($(l)) { var v = l; l = v.length, h.push("["); for (var T = "", S = 0; S < l; S++)h.push(T), Od(r, v[S], h), T = ","; h.push("]"); return } if (l instanceof String || l instanceof Number || l instanceof Boolean) l = l.valueOf(); else { h.push("{"), T = ""; for (v in l) Object.prototype.hasOwnProperty.call(l, v) && (S = l[v], typeof S != "function" && (h.push(T), On(v, h), h.push(":"), Od(r, S, h), T = ",")); h.push("}"); return } } switch (typeof l) { case "string": On(l, h); break; case "number": h.push(isFinite(l) && !isNaN(l) ? String(l) : "null"); break; case "boolean": h.push(String(l)); break; case "function": h.push("null"); break; default: throw Error("Unknown type: " + typeof l) } } } var Lf = { '"': '\\"', "\\": "\\\\", "/": "\\/", "\b": "\\b", "\f": "\\f", "\n": "\\n", "\r": "\\r", "	": "\\t", "\v": "\\u000b" }, dr = /\uffff/.test("￿") ? /[\\"\x00-\x1f\x7f-\uffff]/g : /[\\"\x00-\x1f\x7f-\xff]/g; function On(r, l) { l.push('"', r.replace(dr, function (h) { var v = Lf[h]; return v || (v = "\\u" + (h.charCodeAt(0) | 65536).toString(16).substr(1), Lf[h] = v), v }), '"') } function Pl(r) { this.a = r } Pl.prototype.set = function (r, l) { C(l) ? this.a.set(r, By(l)) : this.a.ra(r) }, Pl.prototype.get = function (r) { try { var l = this.a.get(r) } catch { return } if (l !== null) try { return JSON.parse(l) } catch { throw "Storage: Invalid value was encountered" } }; function xa() { } ce(xa, Ro), xa.prototype.clear = function () { var r = ul(this.ha(!0)), l = this; X(r, function (h) { l.ra(h) }) }; function Nl(r) { this.a = r } ce(Nl, xa); function Ju(r) { if (!r.a) return !1; try { return r.a.setItem("__sak", "1"), r.a.removeItem("__sak"), !0 } catch { return !1 } } n = Nl.prototype, n.set = function (r, l) { try { this.a.setItem(r, l) } catch { throw this.a.length == 0 ? "Storage mechanism: Storage disabled" : "Storage mechanism: Quota exceeded" } }, n.get = function (r) { if (r = this.a.getItem(r), !N(r) && r !== null) throw "Storage mechanism: Invalid value was encountered"; return r }, n.ra = function (r) { this.a.removeItem(r) }, n.ha = function (r) { var l = 0, h = this.a, v = new Dt; return v.next = function () { if (l >= h.length) throw Be; var T = h.key(l++); if (r) return T; if (T = h.getItem(T), !N(T)) throw "Storage mechanism: Invalid value was encountered"; return T }, v }, n.clear = function () { this.a.clear() }, n.key = function (r) { return this.a.key(r) }; function Es() { var r = null; try { r = window.localStorage || null } catch { } this.a = r } ce(Es, Nl); function Zu() { var r = null; try { r = window.sessionStorage || null } catch { } this.a = r } ce(Zu, Nl); function Ra(r, l) { this.g = r, this.a = l + "::" } ce(Ra, xa), Ra.prototype.set = function (r, l) { this.g.set(this.a + r, l) }, Ra.prototype.get = function (r) { return this.g.get(this.a + r) }, Ra.prototype.ra = function (r) { this.g.ra(this.a + r) }, Ra.prototype.ha = function (r) { var l = this.g.ha(!0), h = this, v = new Dt; return v.next = function () { for (var T = l.next(); T.substr(0, h.a.length) != h.a;)T = l.next(); return r ? T.substr(h.a.length) : h.g.get(T) }, v }, Ju(new Es); var Vf, Xm = new Zu; Vf = Ju(Xm) ? new Ra(Xm, "firebaseui") : null; var jf = new Pl(Vf), Uf = { name: "pendingEmailCredential", storage: jf }, Ia = { name: "redirectStatus", storage: jf }, ec = { name: "redirectUrl", storage: jf }, Ml = { name: "emailForSignIn", storage: new Pl(new Js(3600, "/")) }, Dl = { name: "pendingEncryptedCredential", storage: new Pl(new Js(3600, "/")) }; function Ol(r, l) { return r.storage.get(l ? r.name + ":" + l : r.name) } function hr(r, l) { r.storage.a.ra(l ? r.name + ":" + l : r.name) } function Ll(r, l, h) { r.storage.set(h ? r.name + ":" + h : r.name, l) } function Qm(r) { return Ol(ec, r) || null } function Ts(r) { return r = Ol(Uf, r) || null, Yu(r) } function Zr(r) { hr(Uf, r) } function Jm(r, l) { Ll(Uf, Nf(r), l) } function Bf(r) { return (r = Ol(Ia, r) || null) && typeof r.tenantId < "u" ? new Xu(r.tenantId) : null } function Fy(r, l) { Ll(Ia, { tenantId: r.a }, l) } function zy(r, l) { l = Ol(Ml, l); var h = null; if (l) try { var v = $m(r, l), T = JSON.parse(v); h = T && T.email || null } catch { } return h } function Hy(r, l) { l = Ol(Dl, l); var h = null; if (l) try { var v = $m(r, l); h = JSON.parse(v) } catch { } return Yu(h || null) } function fw(r, l, h) { Ll(Dl, Of(r, JSON.stringify(Nf(l))), h) } function Ff() { this.W = {} } function tn(r, l, h) { if (l.toLowerCase() in r.W) throw Error("Configuration " + l + " has already been defined."); r.W[l.toLowerCase()] = h } function tc(r, l, h) { if (!(l.toLowerCase() in r.W)) throw Error("Configuration " + l + " is not defined."); r.W[l.toLowerCase()] = h } Ff.prototype.get = function (r) { if (!(r.toLowerCase() in this.W)) throw Error("Configuration " + r + " is not defined."); return this.W[r.toLowerCase()] }; function zf(r, l) { if (r = r.get(l), !r) throw Error("Configuration " + l + " is required."); return r } function nc() { this.g = void 0, this.a = {} } n = nc.prototype, n.set = function (r, l) { ic(this, r, l, !1) }, n.add = function (r, l) { ic(this, r, l, !0) }; function ic(r, l, h, v) { for (var T = 0; T < l.length; T++) { var S = l.charAt(T); r.a[S] || (r.a[S] = new nc), r = r.a[S] } if (v && r.g !== void 0) throw Error('The collection already contains the key "' + l + '"'); r.g = h } n.get = function (r) { e: { for (var l = this, h = 0; h < r.length; h++)if (l = l.a[r.charAt(h)], !l) { r = void 0; break e } r = l } return r ? r.g : void 0 }, n.la = function () { var r = []; return Zm(this, r), r }; function Zm(r, l) { r.g !== void 0 && l.push(r.g); for (var h in r.a) Zm(r.a[h], l) } n.ja = function () { var r = []; return eg(this, "", r), r }; function eg(r, l, h) { r.g !== void 0 && h.push(l); for (var v in r.a) eg(r.a[v], l + v, h) } n.clear = function () { this.a = {}, this.g = void 0 }; function tg(r) { for (this.a = r, this.g = new nc, r = 0; r < this.a.length; r++) { var l = this.g.get("+" + this.a[r].b); l ? l.push(this.a[r]) : this.g.add("+" + this.a[r].b, [this.a[r]]) } } function Ld(r, l) { r = r.g; var h = {}, v = 0; for (r.g !== void 0 && (h[v] = r.g); v < l.length; v++) { var T = l.charAt(v); if (!(T in r.a)) break; r = r.a[T], r.g !== void 0 && (h[v] = r.g) } for (var S in h) if (h.hasOwnProperty(S)) return h[S]; return [] } function ka(r) { for (var l = 0; l < Mi.length; l++)if (Mi[l].c === r) return Mi[l]; return null } function ng(r) { r = r.toUpperCase(); for (var l = [], h = 0; h < Mi.length; h++)Mi[h].f === r && l.push(Mi[h]); return l } function Hf(r) { if (0 < r.length && r.charAt(0) == "+") { r = r.substring(1); for (var l = [], h = 0; h < Mi.length; h++)Mi[h].b == r && l.push(Mi[h]); r = l } else r = ng(r); return r } function ig(r) { r.sort(function (l, h) { return l.name.localeCompare(h.name, "en") }) } var Mi = [{ name: "Afghanistan", c: "93-AF-0", b: "93", f: "AF" }, { name: "Åland Islands", c: "358-AX-0", b: "358", f: "AX" }, { name: "Albania", c: "355-AL-0", b: "355", f: "AL" }, { name: "Algeria", c: "213-DZ-0", b: "213", f: "DZ" }, { name: "American Samoa", c: "1-AS-0", b: "1", f: "AS" }, { name: "Andorra", c: "376-AD-0", b: "376", f: "AD" }, { name: "Angola", c: "244-AO-0", b: "244", f: "AO" }, { name: "Anguilla", c: "1-AI-0", b: "1", f: "AI" }, { name: "Antigua and Barbuda", c: "1-AG-0", b: "1", f: "AG" }, { name: "Argentina", c: "54-AR-0", b: "54", f: "AR" }, { name: "Armenia", c: "374-AM-0", b: "374", f: "AM" }, { name: "Aruba", c: "297-AW-0", b: "297", f: "AW" }, { name: "Ascension Island", c: "247-AC-0", b: "247", f: "AC" }, { name: "Australia", c: "61-AU-0", b: "61", f: "AU" }, { name: "Austria", c: "43-AT-0", b: "43", f: "AT" }, { name: "Azerbaijan", c: "994-AZ-0", b: "994", f: "AZ" }, { name: "Bahamas", c: "1-BS-0", b: "1", f: "BS" }, { name: "Bahrain", c: "973-BH-0", b: "973", f: "BH" }, { name: "Bangladesh", c: "880-BD-0", b: "880", f: "BD" }, { name: "Barbados", c: "1-BB-0", b: "1", f: "BB" }, { name: "Belarus", c: "375-BY-0", b: "375", f: "BY" }, { name: "Belgium", c: "32-BE-0", b: "32", f: "BE" }, { name: "Belize", c: "501-BZ-0", b: "501", f: "BZ" }, { name: "Benin", c: "229-BJ-0", b: "229", f: "BJ" }, { name: "Bermuda", c: "1-BM-0", b: "1", f: "BM" }, { name: "Bhutan", c: "975-BT-0", b: "975", f: "BT" }, { name: "Bolivia", c: "591-BO-0", b: "591", f: "BO" }, { name: "Bosnia and Herzegovina", c: "387-BA-0", b: "387", f: "BA" }, { name: "Botswana", c: "267-BW-0", b: "267", f: "BW" }, { name: "Brazil", c: "55-BR-0", b: "55", f: "BR" }, { name: "British Indian Ocean Territory", c: "246-IO-0", b: "246", f: "IO" }, { name: "British Virgin Islands", c: "1-VG-0", b: "1", f: "VG" }, { name: "Brunei", c: "673-BN-0", b: "673", f: "BN" }, { name: "Bulgaria", c: "359-BG-0", b: "359", f: "BG" }, { name: "Burkina Faso", c: "226-BF-0", b: "226", f: "BF" }, { name: "Burundi", c: "257-BI-0", b: "257", f: "BI" }, { name: "Cambodia", c: "855-KH-0", b: "855", f: "KH" }, { name: "Cameroon", c: "237-CM-0", b: "237", f: "CM" }, { name: "Canada", c: "1-CA-0", b: "1", f: "CA" }, { name: "Cape Verde", c: "238-CV-0", b: "238", f: "CV" }, { name: "Caribbean Netherlands", c: "599-BQ-0", b: "599", f: "BQ" }, { name: "Cayman Islands", c: "1-KY-0", b: "1", f: "KY" }, { name: "Central African Republic", c: "236-CF-0", b: "236", f: "CF" }, { name: "Chad", c: "235-TD-0", b: "235", f: "TD" }, { name: "Chile", c: "56-CL-0", b: "56", f: "CL" }, { name: "China", c: "86-CN-0", b: "86", f: "CN" }, { name: "Christmas Island", c: "61-CX-0", b: "61", f: "CX" }, { name: "Cocos [Keeling] Islands", c: "61-CC-0", b: "61", f: "CC" }, { name: "Colombia", c: "57-CO-0", b: "57", f: "CO" }, { name: "Comoros", c: "269-KM-0", b: "269", f: "KM" }, { name: "Democratic Republic Congo", c: "243-CD-0", b: "243", f: "CD" }, { name: "Republic of Congo", c: "242-CG-0", b: "242", f: "CG" }, { name: "Cook Islands", c: "682-CK-0", b: "682", f: "CK" }, { name: "Costa Rica", c: "506-CR-0", b: "506", f: "CR" }, { name: "Côte d'Ivoire", c: "225-CI-0", b: "225", f: "CI" }, { name: "Croatia", c: "385-HR-0", b: "385", f: "HR" }, { name: "Cuba", c: "53-CU-0", b: "53", f: "CU" }, { name: "Curaçao", c: "599-CW-0", b: "599", f: "CW" }, { name: "Cyprus", c: "357-CY-0", b: "357", f: "CY" }, { name: "Czech Republic", c: "420-CZ-0", b: "420", f: "CZ" }, { name: "Denmark", c: "45-DK-0", b: "45", f: "DK" }, { name: "Djibouti", c: "253-DJ-0", b: "253", f: "DJ" }, { name: "Dominica", c: "1-DM-0", b: "1", f: "DM" }, { name: "Dominican Republic", c: "1-DO-0", b: "1", f: "DO" }, { name: "East Timor", c: "670-TL-0", b: "670", f: "TL" }, { name: "Ecuador", c: "593-EC-0", b: "593", f: "EC" }, { name: "Egypt", c: "20-EG-0", b: "20", f: "EG" }, { name: "El Salvador", c: "503-SV-0", b: "503", f: "SV" }, { name: "Equatorial Guinea", c: "240-GQ-0", b: "240", f: "GQ" }, { name: "Eritrea", c: "291-ER-0", b: "291", f: "ER" }, { name: "Estonia", c: "372-EE-0", b: "372", f: "EE" }, { name: "Ethiopia", c: "251-ET-0", b: "251", f: "ET" }, { name: "Falkland Islands [Islas Malvinas]", c: "500-FK-0", b: "500", f: "FK" }, { name: "Faroe Islands", c: "298-FO-0", b: "298", f: "FO" }, { name: "Fiji", c: "679-FJ-0", b: "679", f: "FJ" }, { name: "Finland", c: "358-FI-0", b: "358", f: "FI" }, { name: "France", c: "33-FR-0", b: "33", f: "FR" }, { name: "French Guiana", c: "594-GF-0", b: "594", f: "GF" }, { name: "French Polynesia", c: "689-PF-0", b: "689", f: "PF" }, { name: "Gabon", c: "241-GA-0", b: "241", f: "GA" }, { name: "Gambia", c: "220-GM-0", b: "220", f: "GM" }, { name: "Georgia", c: "995-GE-0", b: "995", f: "GE" }, { name: "Germany", c: "49-DE-0", b: "49", f: "DE" }, { name: "Ghana", c: "233-GH-0", b: "233", f: "GH" }, { name: "Gibraltar", c: "350-GI-0", b: "350", f: "GI" }, { name: "Greece", c: "30-GR-0", b: "30", f: "GR" }, { name: "Greenland", c: "299-GL-0", b: "299", f: "GL" }, { name: "Grenada", c: "1-GD-0", b: "1", f: "GD" }, { name: "Guadeloupe", c: "590-GP-0", b: "590", f: "GP" }, { name: "Guam", c: "1-GU-0", b: "1", f: "GU" }, { name: "Guatemala", c: "502-GT-0", b: "502", f: "GT" }, { name: "Guernsey", c: "44-GG-0", b: "44", f: "GG" }, { name: "Guinea Conakry", c: "224-GN-0", b: "224", f: "GN" }, { name: "Guinea-Bissau", c: "245-GW-0", b: "245", f: "GW" }, { name: "Guyana", c: "592-GY-0", b: "592", f: "GY" }, { name: "Haiti", c: "509-HT-0", b: "509", f: "HT" }, { name: "Heard Island and McDonald Islands", c: "672-HM-0", b: "672", f: "HM" }, { name: "Honduras", c: "504-HN-0", b: "504", f: "HN" }, { name: "Hong Kong", c: "852-HK-0", b: "852", f: "HK" }, { name: "Hungary", c: "36-HU-0", b: "36", f: "HU" }, { name: "Iceland", c: "354-IS-0", b: "354", f: "IS" }, { name: "India", c: "91-IN-0", b: "91", f: "IN" }, { name: "Indonesia", c: "62-ID-0", b: "62", f: "ID" }, { name: "Iran", c: "98-IR-0", b: "98", f: "IR" }, { name: "Iraq", c: "964-IQ-0", b: "964", f: "IQ" }, { name: "Ireland", c: "353-IE-0", b: "353", f: "IE" }, { name: "Isle of Man", c: "44-IM-0", b: "44", f: "IM" }, { name: "Israel", c: "972-IL-0", b: "972", f: "IL" }, { name: "Italy", c: "39-IT-0", b: "39", f: "IT" }, { name: "Jamaica", c: "1-JM-0", b: "1", f: "JM" }, { name: "Japan", c: "81-JP-0", b: "81", f: "JP" }, { name: "Jersey", c: "44-JE-0", b: "44", f: "JE" }, { name: "Jordan", c: "962-JO-0", b: "962", f: "JO" }, { name: "Kazakhstan", c: "7-KZ-0", b: "7", f: "KZ" }, { name: "Kenya", c: "254-KE-0", b: "254", f: "KE" }, { name: "Kiribati", c: "686-KI-0", b: "686", f: "KI" }, { name: "Kosovo", c: "377-XK-0", b: "377", f: "XK" }, { name: "Kosovo", c: "381-XK-0", b: "381", f: "XK" }, { name: "Kosovo", c: "386-XK-0", b: "386", f: "XK" }, { name: "Kuwait", c: "965-KW-0", b: "965", f: "KW" }, { name: "Kyrgyzstan", c: "996-KG-0", b: "996", f: "KG" }, { name: "Laos", c: "856-LA-0", b: "856", f: "LA" }, { name: "Latvia", c: "371-LV-0", b: "371", f: "LV" }, { name: "Lebanon", c: "961-LB-0", b: "961", f: "LB" }, { name: "Lesotho", c: "266-LS-0", b: "266", f: "LS" }, { name: "Liberia", c: "231-LR-0", b: "231", f: "LR" }, { name: "Libya", c: "218-LY-0", b: "218", f: "LY" }, { name: "Liechtenstein", c: "423-LI-0", b: "423", f: "LI" }, { name: "Lithuania", c: "370-LT-0", b: "370", f: "LT" }, { name: "Luxembourg", c: "352-LU-0", b: "352", f: "LU" }, { name: "Macau", c: "853-MO-0", b: "853", f: "MO" }, { name: "Macedonia", c: "389-MK-0", b: "389", f: "MK" }, { name: "Madagascar", c: "261-MG-0", b: "261", f: "MG" }, { name: "Malawi", c: "265-MW-0", b: "265", f: "MW" }, { name: "Malaysia", c: "60-MY-0", b: "60", f: "MY" }, { name: "Maldives", c: "960-MV-0", b: "960", f: "MV" }, { name: "Mali", c: "223-ML-0", b: "223", f: "ML" }, { name: "Malta", c: "356-MT-0", b: "356", f: "MT" }, { name: "Marshall Islands", c: "692-MH-0", b: "692", f: "MH" }, { name: "Martinique", c: "596-MQ-0", b: "596", f: "MQ" }, { name: "Mauritania", c: "222-MR-0", b: "222", f: "MR" }, { name: "Mauritius", c: "230-MU-0", b: "230", f: "MU" }, { name: "Mayotte", c: "262-YT-0", b: "262", f: "YT" }, { name: "Mexico", c: "52-MX-0", b: "52", f: "MX" }, { name: "Micronesia", c: "691-FM-0", b: "691", f: "FM" }, { name: "Moldova", c: "373-MD-0", b: "373", f: "MD" }, { name: "Monaco", c: "377-MC-0", b: "377", f: "MC" }, { name: "Mongolia", c: "976-MN-0", b: "976", f: "MN" }, { name: "Montenegro", c: "382-ME-0", b: "382", f: "ME" }, { name: "Montserrat", c: "1-MS-0", b: "1", f: "MS" }, { name: "Morocco", c: "212-MA-0", b: "212", f: "MA" }, { name: "Mozambique", c: "258-MZ-0", b: "258", f: "MZ" }, { name: "Myanmar [Burma]", c: "95-MM-0", b: "95", f: "MM" }, { name: "Namibia", c: "264-NA-0", b: "264", f: "NA" }, { name: "Nauru", c: "674-NR-0", b: "674", f: "NR" }, { name: "Nepal", c: "977-NP-0", b: "977", f: "NP" }, { name: "Netherlands", c: "31-NL-0", b: "31", f: "NL" }, { name: "New Caledonia", c: "687-NC-0", b: "687", f: "NC" }, { name: "New Zealand", c: "64-NZ-0", b: "64", f: "NZ" }, { name: "Nicaragua", c: "505-NI-0", b: "505", f: "NI" }, { name: "Niger", c: "227-NE-0", b: "227", f: "NE" }, { name: "Nigeria", c: "234-NG-0", b: "234", f: "NG" }, { name: "Niue", c: "683-NU-0", b: "683", f: "NU" }, { name: "Norfolk Island", c: "672-NF-0", b: "672", f: "NF" }, { name: "North Korea", c: "850-KP-0", b: "850", f: "KP" }, { name: "Northern Mariana Islands", c: "1-MP-0", b: "1", f: "MP" }, { name: "Norway", c: "47-NO-0", b: "47", f: "NO" }, { name: "Oman", c: "968-OM-0", b: "968", f: "OM" }, { name: "Pakistan", c: "92-PK-0", b: "92", f: "PK" }, { name: "Palau", c: "680-PW-0", b: "680", f: "PW" }, { name: "Palestinian Territories", c: "970-PS-0", b: "970", f: "PS" }, { name: "Panama", c: "507-PA-0", b: "507", f: "PA" }, { name: "Papua New Guinea", c: "675-PG-0", b: "675", f: "PG" }, { name: "Paraguay", c: "595-PY-0", b: "595", f: "PY" }, { name: "Peru", c: "51-PE-0", b: "51", f: "PE" }, { name: "Philippines", c: "63-PH-0", b: "63", f: "PH" }, { name: "Poland", c: "48-PL-0", b: "48", f: "PL" }, { name: "Portugal", c: "351-PT-0", b: "351", f: "PT" }, { name: "Puerto Rico", c: "1-PR-0", b: "1", f: "PR" }, { name: "Qatar", c: "974-QA-0", b: "974", f: "QA" }, { name: "Réunion", c: "262-RE-0", b: "262", f: "RE" }, { name: "Romania", c: "40-RO-0", b: "40", f: "RO" }, { name: "Russia", c: "7-RU-0", b: "7", f: "RU" }, { name: "Rwanda", c: "250-RW-0", b: "250", f: "RW" }, { name: "Saint Barthélemy", c: "590-BL-0", b: "590", f: "BL" }, { name: "Saint Helena", c: "290-SH-0", b: "290", f: "SH" }, { name: "St. Kitts", c: "1-KN-0", b: "1", f: "KN" }, { name: "St. Lucia", c: "1-LC-0", b: "1", f: "LC" }, { name: "Saint Martin", c: "590-MF-0", b: "590", f: "MF" }, { name: "Saint Pierre and Miquelon", c: "508-PM-0", b: "508", f: "PM" }, { name: "St. Vincent", c: "1-VC-0", b: "1", f: "VC" }, { name: "Samoa", c: "685-WS-0", b: "685", f: "WS" }, { name: "San Marino", c: "378-SM-0", b: "378", f: "SM" }, { name: "São Tomé and Príncipe", c: "239-ST-0", b: "239", f: "ST" }, { name: "Saudi Arabia", c: "966-SA-0", b: "966", f: "SA" }, { name: "Senegal", c: "221-SN-0", b: "221", f: "SN" }, { name: "Serbia", c: "381-RS-0", b: "381", f: "RS" }, { name: "Seychelles", c: "248-SC-0", b: "248", f: "SC" }, { name: "Sierra Leone", c: "232-SL-0", b: "232", f: "SL" }, { name: "Singapore", c: "65-SG-0", b: "65", f: "SG" }, { name: "Sint Maarten", c: "1-SX-0", b: "1", f: "SX" }, { name: "Slovakia", c: "421-SK-0", b: "421", f: "SK" }, { name: "Slovenia", c: "386-SI-0", b: "386", f: "SI" }, { name: "Solomon Islands", c: "677-SB-0", b: "677", f: "SB" }, { name: "Somalia", c: "252-SO-0", b: "252", f: "SO" }, { name: "South Africa", c: "27-ZA-0", b: "27", f: "ZA" }, { name: "South Georgia and the South Sandwich Islands", c: "500-GS-0", b: "500", f: "GS" }, { name: "South Korea", c: "82-KR-0", b: "82", f: "KR" }, { name: "South Sudan", c: "211-SS-0", b: "211", f: "SS" }, { name: "Spain", c: "34-ES-0", b: "34", f: "ES" }, { name: "Sri Lanka", c: "94-LK-0", b: "94", f: "LK" }, { name: "Sudan", c: "249-SD-0", b: "249", f: "SD" }, { name: "Suriname", c: "597-SR-0", b: "597", f: "SR" }, { name: "Svalbard and Jan Mayen", c: "47-SJ-0", b: "47", f: "SJ" }, { name: "Swaziland", c: "268-SZ-0", b: "268", f: "SZ" }, { name: "Sweden", c: "46-SE-0", b: "46", f: "SE" }, { name: "Switzerland", c: "41-CH-0", b: "41", f: "CH" }, { name: "Syria", c: "963-SY-0", b: "963", f: "SY" }, { name: "Taiwan", c: "886-TW-0", b: "886", f: "TW" }, { name: "Tajikistan", c: "992-TJ-0", b: "992", f: "TJ" }, { name: "Tanzania", c: "255-TZ-0", b: "255", f: "TZ" }, { name: "Thailand", c: "66-TH-0", b: "66", f: "TH" }, { name: "Togo", c: "228-TG-0", b: "228", f: "TG" }, { name: "Tokelau", c: "690-TK-0", b: "690", f: "TK" }, { name: "Tonga", c: "676-TO-0", b: "676", f: "TO" }, { name: "Trinidad/Tobago", c: "1-TT-0", b: "1", f: "TT" }, { name: "Tunisia", c: "216-TN-0", b: "216", f: "TN" }, { name: "Turkey", c: "90-TR-0", b: "90", f: "TR" }, { name: "Turkmenistan", c: "993-TM-0", b: "993", f: "TM" }, { name: "Turks and Caicos Islands", c: "1-TC-0", b: "1", f: "TC" }, { name: "Tuvalu", c: "688-TV-0", b: "688", f: "TV" }, { name: "U.S. Virgin Islands", c: "1-VI-0", b: "1", f: "VI" }, { name: "Uganda", c: "256-UG-0", b: "256", f: "UG" }, { name: "Ukraine", c: "380-UA-0", b: "380", f: "UA" }, { name: "United Arab Emirates", c: "971-AE-0", b: "971", f: "AE" }, { name: "United Kingdom", c: "44-GB-0", b: "44", f: "GB" }, { name: "United States", c: "1-US-0", b: "1", f: "US" }, { name: "Uruguay", c: "598-UY-0", b: "598", f: "UY" }, { name: "Uzbekistan", c: "998-UZ-0", b: "998", f: "UZ" }, { name: "Vanuatu", c: "678-VU-0", b: "678", f: "VU" }, { name: "Vatican City", c: "379-VA-0", b: "379", f: "VA" }, { name: "Venezuela", c: "58-VE-0", b: "58", f: "VE" }, { name: "Vietnam", c: "84-VN-0", b: "84", f: "VN" }, { name: "Wallis and Futuna", c: "681-WF-0", b: "681", f: "WF" }, { name: "Western Sahara", c: "212-EH-0", b: "212", f: "EH" }, { name: "Yemen", c: "967-YE-0", b: "967", f: "YE" }, { name: "Zambia", c: "260-ZM-0", b: "260", f: "ZM" }, { name: "Zimbabwe", c: "263-ZW-0", b: "263", f: "ZW" }]; ig(Mi); var Vl = new tg(Mi); function rg(r, l) { this.a = r, this.Aa = l } function sg(r) { r = It(r); var l = Ld(Vl, r); return 0 < l.length ? new rg(l[0].b == "1" ? "1-US-0" : l[0].c, It(r.substr(l[0].b.length + 1))) : null } function og(r) { var l = ka(r.a); if (!l) throw Error("Country ID " + r.a + " not found."); return "+" + l.b + r.Aa } function qf(r, l) { for (var h = 0; h < r.length; h++)if (!ze(ag, r[h]) && (jl !== null && r[h] in jl || ze(l, r[h]))) return r[h]; return null } var ag = ["emailLink", "password", "phone"], jl = { "facebook.com": "FacebookAuthProvider", "github.com": "GithubAuthProvider", "google.com": "GoogleAuthProvider", password: "EmailAuthProvider", "twitter.com": "TwitterAuthProvider", phone: "PhoneAuthProvider" }; function lg() { this.a = new Ff, tn(this.a, "autoUpgradeAnonymousUsers"), tn(this.a, "callbacks"), tn(this.a, "credentialHelper", Hd), tn(this.a, "immediateFederatedRedirect", !1), tn(this.a, "popupMode", !1), tn(this.a, "privacyPolicyUrl"), tn(this.a, "queryParameterForSignInSuccessUrl", "signInSuccessUrl"), tn(this.a, "queryParameterForWidgetMode", "mode"), tn(this.a, "signInFlow"), tn(this.a, "signInOptions"), tn(this.a, "signInSuccessUrl"), tn(this.a, "siteName"), tn(this.a, "tosUrl"), tn(this.a, "widgetUrl"), tn(this.a, "adminRestrictedOperation") } function Vd(r) { var l = !!r.a.get("autoUpgradeAnonymousUsers"); return l && !Fd(r) && Ni('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.', void 0), l } function jd(r) { r = r.a.get("signInOptions") || []; for (var l = [], h = 0; h < r.length; h++) { var v = r[h]; v = re(v) ? v : { provider: v }, v.provider && l.push(v) } return l } function Or(r, l) { r = jd(r); for (var h = 0; h < r.length; h++)if (r[h].provider === l) return r[h]; return null } function rc(r) { return jd(r).map(function (l) { return l.provider }) } function sc(r, l) { r = oc(r); for (var h = 0; h < r.length; h++)if (r[h].providerId === l) return r[h]; return null } function oc(r) { return jd(r).map(function (l) { if (jl[l.provider] || ze($y, l.provider)) { l = { providerId: l.provider, S: l.providerName || null, V: l.fullLabel || null, ta: l.buttonColor || null, za: l.iconUrl ? us(fa(l.iconUrl)).toString() : null }; for (var h in l) l[h] === null && delete l[h]; return l } return { providerId: l.provider, S: l.providerName || null, V: l.fullLabel || null, ta: l.buttonColor || null, za: l.iconUrl ? us(fa(l.iconUrl)).toString() : null, Ob: l.loginHintKey || null } }) } function Gf(r) { var l = Or(r, He.auth.GoogleAuthProvider.PROVIDER_ID), h; if (h = l && l.clientId) { e: { if ((window.location && window.location.protocol) === "http:" || (window.location && window.location.protocol) === "https:") { for (v in r = r.a.get("credentialHelper"), Yf) if (Yf[v] === r) { var v = Yf[v]; break e } } v = Hd } h = v === zd } return h && l.clientId || null } function Ud(r) { return r = Or(r, He.auth.EmailAuthProvider.PROVIDER_ID), !!(r && r.disableSignUp && r.disableSignUp.status) } function Pa(r) { return r = r.a.get("adminRestrictedOperation") || null, !(!r || !r.status) } function qy(r) { var l = null; if (jd(r).forEach(function (v) { v.provider == He.auth.PhoneAuthProvider.PROVIDER_ID && re(v.recaptchaParameters) && !Array.isArray(v.recaptchaParameters) && (l = zt(v.recaptchaParameters)) }), l) { var h = []; Wy.forEach(function (v) { typeof l[v] < "u" && (h.push(v), delete l[v]) }), h.length && qi('The following provided "recaptchaParameters" keys are not allowed: ' + h.join(", ")) } return l } function Kf(r) { return (r = r.a.get("adminRestrictedOperation")) && r.adminEmail ? r.adminEmail : null } function Gy(r) { if (r = r.a.get("adminRestrictedOperation") || null) { var l = r.helpLink || null; if (l && typeof l == "string") return function () { Ea(l) } } return null } function Ky(r) { return (r = Or(r, He.auth.EmailAuthProvider.PROVIDER_ID)) && r.disableSignUp && r.disableSignUp.adminEmail || null } function pw(r) { if ((r = Or(r, He.auth.EmailAuthProvider.PROVIDER_ID)) && r.disableSignUp) { var l = r.disableSignUp.helpLink || null; if (l && typeof l == "string") return function () { Ea(l) } } return null } function Ul(r, l) { return r = (r = Or(r, l)) && r.scopes, Array.isArray(r) ? r : [] } function ac(r, l) { return r = (r = Or(r, l)) && r.customParameters, re(r) ? (r = zt(r), l === He.auth.GoogleAuthProvider.PROVIDER_ID && delete r.login_hint, l === He.auth.GithubAuthProvider.PROVIDER_ID && delete r.login, r) : null } function $f(r) { r = Or(r, He.auth.PhoneAuthProvider.PROVIDER_ID); var l = null; return r && typeof r.loginHint == "string" && (l = sg(r.loginHint)), r && r.defaultNationalNumber || l && l.Aa || null } function Bd(r) { var l = (r = Or(r, He.auth.PhoneAuthProvider.PROVIDER_ID)) && r.defaultCountry || null; l = l && ng(l); var h = null; return r && typeof r.loginHint == "string" && (h = sg(r.loginHint)), l && l[0] || h && ka(h.a) || null } function lc(r) { if (r = Or(r, He.auth.PhoneAuthProvider.PROVIDER_ID), !r) return null; var l = r.whitelistedCountries, h = r.blacklistedCountries; if (typeof l < "u" && (!Array.isArray(l) || l.length == 0)) throw Error("WhitelistedCountries must be a non-empty array."); if (typeof h < "u" && !Array.isArray(h)) throw Error("BlacklistedCountries must be an array."); if (l && h) throw Error("Both whitelistedCountries and blacklistedCountries are provided."); if (!l && !h) return Mi; if (r = [], l) { h = {}; for (var v = 0; v < l.length; v++)for (var T = Hf(l[v]), S = 0; S < T.length; S++)h[T[S].c] = T[S]; for (var D in h) h.hasOwnProperty(D) && r.push(h[D]) } else { for (D = {}, l = 0; l < h.length; l++)for (T = Hf(h[l]), v = 0; v < T.length; v++)D[T[v].c] = T[v]; for (T = 0; T < Mi.length; T++)D !== null && Mi[T].c in D || r.push(Mi[T]) } return r } function ug(r) { return zf(r.a, "queryParameterForWidgetMode") } function xn(r) { var l = r.a.get("tosUrl") || null; if (r = r.a.get("privacyPolicyUrl") || null, l && !r && qi("Privacy Policy URL is missing, the link will not be displayed."), l && r) { if (typeof l == "function") return l; if (typeof l == "string") return function () { Ea(l) } } return null } function nn(r) { var l = r.a.get("tosUrl") || null, h = r.a.get("privacyPolicyUrl") || null; if (h && !l && qi("Term of Service URL is missing, the link will not be displayed."), l && h) { if (typeof h == "function") return h; if (typeof h == "string") return function () { Ea(h) } } return null } function cg(r) { return (r = Or(r, He.auth.EmailAuthProvider.PROVIDER_ID)) && typeof r.requireDisplayName < "u" ? !!r.requireDisplayName : !0 } function _i(r) { return r = Or(r, He.auth.EmailAuthProvider.PROVIDER_ID), !(!r || r.signInMethod !== He.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD) } function eo(r) { return r = Or(r, He.auth.EmailAuthProvider.PROVIDER_ID), !(!r || !r.forceSameDevice) } function Na(r) { if (_i(r)) { var l = { url: jt(), handleCodeInApp: !0 }; (r = Or(r, He.auth.EmailAuthProvider.PROVIDER_ID)) && typeof r.emailLinkSignIn == "function" && je(l, r.emailLinkSignIn()), r = l.url; var h = jt(); h instanceof xi || (h = dl(h)), r instanceof xi || (r = dl(r)); var v = h; h = new xi(v); var T = !!r.j; T ? as(h, r.j) : T = !!r.A, T ? h.A = r.A : T = !!r.h, T ? h.h = r.h : T = r.C != null; var S = r.g; if (T) cl(h, r.C); else if (T = !!r.g) { if (S.charAt(0) != "/" && (v.h && !v.g ? S = "/" + S : (v = h.g.lastIndexOf("/"), v != -1 && (S = h.g.substr(0, v + 1) + S))), S == ".." || S == ".") S = ""; else if (S.indexOf("./") != -1 || S.indexOf("/.") != -1) { v = S.lastIndexOf("/", 0) == 0, S = S.split("/"); for (var D = [], W = 0; W < S.length;) { var le = S[W++]; le == "." ? v && W == S.length && D.push("") : le == ".." ? ((1 < D.length || D.length == 1 && D[0] != "") && D.pop(), v && W == S.length && D.push("")) : (D.push(le), v = !0) } S = D.join("/") } } return T ? h.g = S : T = r.a.toString() !== "", T ? zr(h, la(r.a)) : T = !!r.s, T && (h.s = r.s), l.url = h.toString(), l } return null } function Wf(r) { var l = !!r.a.get("immediateFederatedRedirect"), h = rc(r); return r = Mo(r), l && h.length == 1 && !ze(ag, h[0]) && r == to } function Mo(r) { r = r.a.get("signInFlow"); for (var l in uc) if (uc[l] == r) return uc[l]; return to } function Ss(r) { return Bl(r).signInSuccess || null } function zn(r) { return Bl(r).signInSuccessWithAuthResult || null } function Fd(r) { return Bl(r).signInFailure || null } function Bl(r) { return r.a.get("callbacks") || {} } var zd = "googleyolo", Hd = "none", Yf = { nc: zd, NONE: Hd }, to = "redirect", uc = { qc: "popup", rc: to }, Xf = { mc: "callback", RECOVER_EMAIL: "recoverEmail", sc: "resetPassword", REVERT_SECOND_FACTOR_ADDITION: "revertSecondFactorAddition", tc: "select", uc: "signIn", VERIFY_AND_CHANGE_EMAIL: "verifyAndChangeEmail", VERIFY_EMAIL: "verifyEmail" }, $y = ["anonymous"], Wy = ["sitekey", "tabindex", "callback", "expired-callback"], Ma, Fl, qd, dg, Pt = {}; function Me(r, l, h, v) { Pt[r].apply(null, Array.prototype.slice.call(arguments, 1)) } function hg(r) { return r.classList ? r.classList : (r = r.className, N(r) && r.match(/\S+/g) || []) } function Rn(r, l) { return r.classList ? r.classList.contains(l) : ze(hg(r), l) } function rn(r, l) { r.classList ? r.classList.add(l) : Rn(r, l) || (r.className += 0 < r.className.length ? " " + l : l) } function As(r, l) { r.classList ? r.classList.remove(l) : Rn(r, l) && (r.className = we(hg(r), function (h) { return h != l }).join(" ")) } function ei(r) { var l = r.type; switch (N(l) && l.toLowerCase()) { case "checkbox": case "radio": return r.checked ? r.value : null; case "select-one": return l = r.selectedIndex, 0 <= l ? r.options[l].value : null; case "select-multiple": l = []; for (var h, v = 0; h = r.options[v]; v++)h.selected && l.push(h.value); return l.length ? l : null; default: return r.value != null ? r.value : null } } function fg(r, l) { var h = r.type; switch (N(h) && h.toLowerCase()) { case "checkbox": case "radio": r.checked = l; break; case "select-one": if (r.selectedIndex = -1, N(l)) { for (var v = 0; h = r.options[v]; v++)if (h.value == l) { h.selected = !0; break } } break; case "select-multiple": for (N(l) && (l = [l]), v = 0; h = r.options[v]; v++)if (h.selected = !1, l) for (var T, S = 0; T = l[S]; S++)h.value == T && (h.selected = !0); break; default: r.value = l ?? "" } } function Yy(r) { if (r.altKey && !r.ctrlKey || r.metaKey || 112 <= r.keyCode && 123 >= r.keyCode) return !1; if (Da(r.keyCode)) return !0; switch (r.keyCode) { case 18: case 20: case 93: case 17: case 40: case 35: case 27: case 36: case 45: case 37: case 224: case 91: case 144: case 12: case 34: case 33: case 19: case 255: case 44: case 39: case 145: case 16: case 38: case 252: case 224: case 92: return !1; case 0: return !Qn; default: return 166 > r.keyCode || 183 < r.keyCode } } function pg(r, l, h, v, T, S) { if (Fn && !Cr("525")) return !0; if (Gr && T) return Da(r); if (T && !v) return !1; if (!Qn) { typeof l == "number" && (l = Gd(l)); var D = l == 17 || l == 18 || Gr && l == 91; if ((!h || Gr) && D || Gr && l == 16 && (v || S)) return !1 } if ((Fn || sr) && v && h) switch (r) { case 220: case 219: case 221: case 192: case 186: case 189: case 187: case 188: case 190: case 191: case 192: case 222: return !1 }if (pt && v && l == r) return !1; switch (r) { case 13: return Qn ? S || T ? !1 : !(h && v) : !0; case 27: return !(Fn || sr || Qn) }return Qn && (v || T || S) ? !1 : Da(r) } function Da(r) { if (48 <= r && 57 >= r || 96 <= r && 106 >= r || 65 <= r && 90 >= r || (Fn || sr) && r == 0) return !0; switch (r) { case 32: case 43: case 63: case 64: case 107: case 109: case 110: case 111: case 186: case 59: case 189: case 187: case 61: case 188: case 190: case 191: case 192: case 222: case 219: case 220: case 221: case 163: return !0; case 173: return Qn; default: return !1 } } function Gd(r) { if (Qn) r = Xy(r); else if (Gr && Fn) switch (r) { case 93: r = 91 }return r } function Xy(r) { switch (r) { case 61: return 187; case 59: return 186; case 173: return 189; case 224: return 91; case 0: return 224; default: return r } } function zl(r) { en.call(this), this.a = r, bn(r, "keydown", this.g, !1, this), bn(r, "click", this.h, !1, this) } ce(zl, en), zl.prototype.g = function (r) { (r.keyCode == 13 || Fn && r.keyCode == 3) && mg(this, r) }, zl.prototype.h = function (r) { mg(this, r) }; function mg(r, l) { var h = new Jf(l); if (Pr(r, h)) { h = new Qf(l); try { Pr(r, h) } finally { l.stopPropagation() } } } zl.prototype.o = function () { zl.K.o.call(this), ya(this.a, "keydown", this.g, !1, this), ya(this.a, "click", this.h, !1, this), delete this.a }; function Qf(r) { Pi.call(this, r.a), this.type = "action" } ce(Qf, Pi); function Jf(r) { Pi.call(this, r.a), this.type = "beforeaction" } ce(Jf, Pi); function Oa(r) { en.call(this), this.a = r, r = pt ? "focusout" : "blur", this.g = bn(this.a, pt ? "focusin" : "focus", this, !pt), this.h = bn(this.a, r, this, !pt) } ce(Oa, en), Oa.prototype.handleEvent = function (r) { var l = new Pi(r.a); l.type = r.type == "focusin" || r.type == "focus" ? "focusin" : "focusout", Pr(this, l) }, Oa.prototype.o = function () { Oa.K.o.call(this), Eo(this.g), Eo(this.h), delete this.a }; function Kd(r, l) { en.call(this), this.g = r || 1, this.a = l || E, this.h = O(this.gc, this), this.j = K() } ce(Kd, en), n = Kd.prototype, n.Ka = !1, n.aa = null, n.gc = function () { if (this.Ka) { var r = K() - this.j; 0 < r && r < .8 * this.g ? this.aa = this.a.setTimeout(this.h, this.g - r) : (this.aa && (this.a.clearTimeout(this.aa), this.aa = null), Pr(this, "tick"), this.Ka && (cc(this), this.start())) } }, n.start = function () { this.Ka = !0, this.aa || (this.aa = this.a.setTimeout(this.h, this.g), this.j = K()) }; function cc(r) { r.Ka = !1, r.aa && (r.a.clearTimeout(r.aa), r.aa = null) } n.o = function () { Kd.K.o.call(this), cc(this), delete this.a }; function Zf(r, l) { if (Q(r)) l && (r = O(r, l)); else if (r && typeof r.handleEvent == "function") r = O(r.handleEvent, r); else throw Error("Invalid listener argument"); return E.setTimeout(r, 0) } function La(r) { ut.call(this), this.g = r, this.a = {} } ce(La, ut); var gg = []; function Va(r, l, h, v) { $(h) || (h && (gg[0] = h.toString()), h = gg); for (var T = 0; T < h.length; T++) { var S = bn(l, h[T], v || r.handleEvent, !1, r.g || r); if (!S) break; r.a[S.key] = S } } function vg(r) { Qe(r.a, function (l, h) { this.a.hasOwnProperty(h) && Eo(l) }, r), r.a = {} } La.prototype.o = function () { La.K.o.call(this), vg(this) }, La.prototype.handleEvent = function () { throw Error("EventHandler.handleEvent not implemented") }; function Lr(r) { en.call(this), this.a = null, this.g = r, r = pt || sr || Fn && !Cr("531") && r.tagName == "TEXTAREA", this.h = new La(this), Va(this.h, this.g, r ? ["keydown", "paste", "cut", "drop", "input"] : "input", this) } ce(Lr, en), Lr.prototype.handleEvent = function (r) { if (r.type == "input") pt && Cr(10) && r.keyCode == 0 && r.j == 0 || ($d(this), Pr(this, Qy(r))); else if (r.type != "keydown" || Yy(r)) { var l = r.type == "keydown" ? this.g.value : null; pt && r.keyCode == 229 && (l = null); var h = Qy(r); $d(this), this.a = Zf(function () { this.a = null, this.g.value != l && Pr(this, h) }, this) } }; function $d(r) { r.a != null && (E.clearTimeout(r.a), r.a = null) } function Qy(r) { return r = new Pi(r.a), r.type = "input", r } Lr.prototype.o = function () { Lr.K.o.call(this), this.h.m(), $d(this), delete this.g }; function dc(r, l) { en.call(this), r && (this.Oa && mn(this), this.qa = r, this.Na = bn(this.qa, "keypress", this, l), this.Ya = bn(this.qa, "keydown", this.Jb, l, this), this.Oa = bn(this.qa, "keyup", this.Kb, l, this)) } ce(dc, en), n = dc.prototype, n.qa = null, n.Na = null, n.Ya = null, n.Oa = null, n.R = -1, n.X = -1, n.Ua = !1; var no = { 3: 13, 12: 144, 63232: 38, 63233: 40, 63234: 37, 63235: 39, 63236: 112, 63237: 113, 63238: 114, 63239: 115, 63240: 116, 63241: 117, 63242: 118, 63243: 119, 63244: 120, 63245: 121, 63246: 122, 63247: 123, 63248: 44, 63272: 46, 63273: 36, 63275: 35, 63276: 33, 63277: 34, 63289: 144, 63302: 45 }, yg = { Up: 38, Down: 40, Left: 37, Right: 39, Enter: 13, F1: 112, F2: 113, F3: 114, F4: 115, F5: 116, F6: 117, F7: 118, F8: 119, F9: 120, F10: 121, F11: 122, F12: 123, "U+007F": 46, Home: 36, End: 35, PageUp: 33, PageDown: 34, Insert: 45 }, Wd = !Fn || Cr("525"), hc = Gr && Qn; n = dc.prototype, n.Jb = function (r) { (Fn || sr) && (this.R == 17 && !r.ctrlKey || this.R == 18 && !r.altKey || Gr && this.R == 91 && !r.metaKey) && (this.X = this.R = -1), this.R == -1 && (r.ctrlKey && r.keyCode != 17 ? this.R = 17 : r.altKey && r.keyCode != 18 ? this.R = 18 : r.metaKey && r.keyCode != 91 && (this.R = 91)), Wd && !pg(r.keyCode, this.R, r.shiftKey, r.ctrlKey, r.altKey, r.metaKey) ? this.handleEvent(r) : (this.X = Gd(r.keyCode), hc && (this.Ua = r.altKey)) }, n.Kb = function (r) { this.X = this.R = -1, this.Ua = r.altKey }, n.handleEvent = function (r) { var l = r.a, h = l.altKey; if (pt && r.type == "keypress") var v = this.X, T = v != 13 && v != 27 ? l.keyCode : 0; else (Fn || sr) && r.type == "keypress" ? (v = this.X, T = 0 <= l.charCode && 63232 > l.charCode && Da(v) ? l.charCode : 0) : ls && !Fn ? (v = this.X, T = Da(v) ? l.keyCode : 0) : (r.type == "keypress" ? (hc && (h = this.Ua), l.keyCode == l.charCode ? 32 > l.keyCode ? (v = l.keyCode, T = 0) : (v = this.X, T = l.charCode) : (v = l.keyCode || this.X, T = l.charCode || 0)) : (v = l.keyCode || this.X, T = l.charCode || 0), Gr && T == 63 && v == 224 && (v = 191)); var S = v = Gd(v); v ? 63232 <= v && v in no ? S = no[v] : v == 25 && r.shiftKey && (S = 9) : l.keyIdentifier && l.keyIdentifier in yg && (S = yg[l.keyIdentifier]), Qn && Wd && r.type == "keypress" && !pg(S, this.R, r.shiftKey, r.ctrlKey, h, r.metaKey) || (r = S == this.R, this.R = S, l = new Jy(S, T, r, l), l.altKey = h, Pr(this, l)) }, n.N = function () { return this.qa }; function mn(r) { r.Na && (Eo(r.Na), Eo(r.Ya), Eo(r.Oa), r.Na = null, r.Ya = null, r.Oa = null), r.qa = null, r.R = -1, r.X = -1 } n.o = function () { dc.K.o.call(this), mn(this) }; function Jy(r, l, h, v) { Pi.call(this, v), this.type = "key", this.keyCode = r, this.j = l, this.repeat = h } ce(Jy, Pi); function fc(r, l, h, v) { this.top = r, this.right = l, this.bottom = h, this.left = v } fc.prototype.toString = function () { return "(" + this.top + "t, " + this.right + "r, " + this.bottom + "b, " + this.left + "l)" }, fc.prototype.ceil = function () { return this.top = Math.ceil(this.top), this.right = Math.ceil(this.right), this.bottom = Math.ceil(this.bottom), this.left = Math.ceil(this.left), this }, fc.prototype.floor = function () { return this.top = Math.floor(this.top), this.right = Math.floor(this.right), this.bottom = Math.floor(this.bottom), this.left = Math.floor(this.left), this }, fc.prototype.round = function () { return this.top = Math.round(this.top), this.right = Math.round(this.right), this.bottom = Math.round(this.bottom), this.left = Math.round(this.left), this }; function Yd(r, l) { var h = Bs(r); return h.defaultView && h.defaultView.getComputedStyle && (r = h.defaultView.getComputedStyle(r, null)) && (r[l] || r.getPropertyValue(l)) || "" } function pc(r) { try { var l = r.getBoundingClientRect() } catch { return { left: 0, top: 0, right: 0, bottom: 0 } } return pt && r.ownerDocument.body && (r = r.ownerDocument, l.left -= r.documentElement.clientLeft + r.body.clientLeft, l.top -= r.documentElement.clientTop + r.body.clientTop), l } function ja(r, l) { l = l || Pn(document); var h = l || Pn(document), v = bg(r), T = bg(h); if (!pt || 9 <= Number(pl)) { D = Yd(h, "borderLeftWidth"); var S = Yd(h, "borderRightWidth"); W = Yd(h, "borderTopWidth"), le = Yd(h, "borderBottomWidth"), S = new fc(parseFloat(W), parseFloat(S), parseFloat(le), parseFloat(D)) } else { var D = Ua(h, "borderLeft"); S = Ua(h, "borderRight"); var W = Ua(h, "borderTop"), le = Ua(h, "borderBottom"); S = new fc(W, S, le, D) } h == Pn(document) ? (D = v.a - h.scrollLeft, v = v.g - h.scrollTop, !pt || 10 <= Number(pl) || (D += S.left, v += S.top)) : (D = v.a - T.a - S.left, v = v.g - T.g - S.top), T = r.offsetWidth, S = r.offsetHeight, W = Fn && !T && !S, C(T) && !W || !r.getBoundingClientRect ? r = new $r(T, S) : (r = pc(r), r = new $r(r.right - r.left, r.bottom - r.top)), T = h.clientHeight - r.height, S = h.scrollLeft, W = h.scrollTop, S += Math.min(D, Math.max(D - (h.clientWidth - r.width), 0)), W += Math.min(v, Math.max(v - T, 0)), h = new lr(S, W), l.scrollLeft = h.a, l.scrollTop = h.g } function bg(r) { var l = Bs(r), h = new lr(0, 0), v = l ? Bs(l) : document; return v = !pt || 9 <= Number(pl) || ds(v).a.compatMode == "CSS1Compat" ? v.documentElement : v.body, r == v || (r = pc(r), v = ds(l).a, l = Pn(v), v = v.parentWindow || v.defaultView, l = pt && Cr("10") && v.pageYOffset != l.scrollTop ? new lr(l.scrollLeft, l.scrollTop) : new lr(v.pageXOffset || l.scrollLeft, v.pageYOffset || l.scrollTop), h.a = r.left + l.a, h.g = r.top + l.g), h } var wg = { thin: 2, medium: 4, thick: 6 }; function Ua(r, l) { if ((r.currentStyle ? r.currentStyle[l + "Style"] : null) == "none") return 0; var h = r.currentStyle ? r.currentStyle[l + "Width"] : null; if (h in wg) r = wg[h]; else if (/^\d+px?$/.test(h)) r = parseInt(h, 10); else { l = r.style.left; var v = r.runtimeStyle.left; r.runtimeStyle.left = r.currentStyle.left, r.style.left = h, h = r.style.pixelLeft, r.style.left = l, r.runtimeStyle.left = v, r = +h } return r } function es() { } L(es), es.prototype.a = 0; function Ba(r) { en.call(this), this.s = r || ds(), this.cb = null, this.na = !1, this.g = null, this.L = void 0, this.oa = this.Ea = this.Y = null } ce(Ba, en), n = Ba.prototype, n.Lb = es.Xa(), n.N = function () { return this.g }; function vt(r, l) { return r.g ? vl(l, r.g || r.s.a) : null } function mc(r) { return r.L || (r.L = new La(r)), r.L } n.Za = function (r) { if (this.Y && this.Y != r) throw Error("Method not supported"); Ba.K.Za.call(this, r) }, n.kb = function () { this.g = this.s.a.createElement("DIV") }, n.render = function (r) { if (this.na) throw Error("Component already rendered"); this.g || this.kb(), r ? r.insertBefore(this.g, null) : this.s.a.body.appendChild(this.g), this.Y && !this.Y.na || this.v() }, n.v = function () { this.na = !0, Xd(this, function (r) { !r.na && r.N() && r.v() }) }, n.ya = function () { Xd(this, function (r) { r.na && r.ya() }), this.L && vg(this.L), this.na = !1 }, n.o = function () { this.na && this.ya(), this.L && (this.L.m(), delete this.L), Xd(this, function (r) { r.m() }), this.g && yt(this.g), this.Y = this.g = this.oa = this.Ea = null, Ba.K.o.call(this) }; function Xd(r, l) { r.Ea && X(r.Ea, l, void 0) } n.removeChild = function (r, l) { if (r) { var h = N(r) ? r : r.cb || (r.cb = ":" + (r.Lb.a++).toString(36)); if (this.oa && h ? (r = this.oa, r = (r !== null && h in r ? r[h] : void 0) || null) : r = null, h && r) { var v = this.oa; if (h in v && delete v[h], Ve(this.Ea, r), l && (r.ya(), r.g && yt(r.g)), l = r, l == null) throw Error("Unable to set parent component"); l.Y = null, Ba.K.Za.call(l, null) } } if (!r) throw Error("Child is not in parent component"); return r }; function gn(r, l) { var h = fd(r, "firebaseui-textfield"); l ? (As(r, "firebaseui-input-invalid"), rn(r, "firebaseui-input"), h && As(h, "firebaseui-textfield-invalid")) : (As(r, "firebaseui-input"), rn(r, "firebaseui-input-invalid"), h && rn(h, "firebaseui-textfield-invalid")) } function Do(r, l, h) { l = new Lr(l), yn(r, q(kr, l)), Va(mc(r), l, "input", h) } function gc(r, l, h) { l = new dc(l), yn(r, q(kr, l)), Va(mc(r), l, "key", function (v) { v.keyCode == 13 && (v.stopPropagation(), v.preventDefault(), h(v)) }) } function Oo(r, l, h) { l = new Oa(l), yn(r, q(kr, l)), Va(mc(r), l, "focusin", h) } function Ln(r, l, h) { l = new Oa(l), yn(r, q(kr, l)), Va(mc(r), l, "focusout", h) } function cn(r, l, h) { l = new zl(l), yn(r, q(kr, l)), Va(mc(r), l, "action", function (v) { v.stopPropagation(), v.preventDefault(), h(v) }) } function fr(r) { rn(r, "firebaseui-hidden") } function _t(r, l) { l && wo(r, l), As(r, "firebaseui-hidden") } function vc(r) { return !Rn(r, "firebaseui-hidden") && r.style.display != "none" } function Hl(r) { r = r || {}; var l = r.email, h = r.disabled, v = '<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">'; return v = r.wc ? v + "Enter new email address" : v + "Email", v += '</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="' + li(l ?? "") + '"' + (h ? "disabled" : "") + '></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>', Re(v) } function Gi(r) { r = r || {}, r = r.label; var l = '<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">'; return l = r ? l + $e(r) : l + "Next", Re(l + "</button>") } function sn() { var r = "" + Gi({ label: ln("Sign In") }); return Re(r) } function Ki() { var r = "" + Gi({ label: ln("Save") }); return Re(r) } function ti() { var r = "" + Gi({ label: ln("Continue") }); return Re(r) } function _g(r) { r = r || {}, r = r.label; var l = '<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">'; return l = r ? l + $e(r) : l + "Choose password", Re(l + '</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>') } function Eg() { var r = {}, l = '<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">'; return l = r.current ? l + "Current password" : l + "Password", Re(l + '</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>') } function Zy() { return Re('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>') } function $i(r) { r = r || {}, r = r.label; var l = '<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">'; return l = r ? l + $e(r) : l + "Cancel", Re(l + "</button>") } function Gt(r) { var l = ""; return r.F && r.D && (l += '<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'), Re(l) } function Di(r) { var l = ""; return r.F && r.D && (l += '<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'), Re(l) } function Tg(r) { return r = '<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">' + $e(r.message) + '&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>', Re(r) } Tg.a = "firebaseui.auth.soy2.element.infoBar"; function pr(r) { var l = r.content; return r = r.Ab, Re('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog' + (r ? " " + li(r) : "") + '">' + $e(l) + "</dialog>") } function Sg(r) { var l = r.message; return Re(pr({ content: bl('<div class="firebaseui-dialog-icon-wrapper"><div class="' + li(r.Ma) + ' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">' + $e(l) + "</div>") })) } Sg.a = "firebaseui.auth.soy2.element.progressDialog"; function Lo(r) { var l = '<div class="firebaseui-list-box-actions">'; r = r.items; for (var h = r.length, v = 0; v < h; v++) { var T = r[v]; l += '<button type="button" data-listboxid="' + li(T.id) + '" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">' + (T.Ma ? '<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon ' + li(T.Ma) + '"></div></div>' : "") + '<div class="firebaseui-list-box-label-wrapper">' + $e(T.label) + "</div></button>" } return l = "" + pr({ Ab: ln("firebaseui-list-box-dialog"), content: bl(l + "</div>") }), Re(l) } Lo.a = "firebaseui.auth.soy2.element.listBoxDialog"; function io(r) { return r = r || {}, Re(r.tb ? '<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>' : '<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>') } io.a = "firebaseui.auth.soy2.element.busyIndicator"; function Wi(r, l) { return r = r || {}, r = r.ga, bt(r.S ? r.S : l.hb[r.providerId] ? "" + l.hb[r.providerId] : r.providerId && r.providerId.indexOf("saml.") == 0 || r.providerId && r.providerId.indexOf("oidc.") == 0 ? r.providerId.substring(5) : "" + r.providerId) } function Qd(r) { Ag(r, "upgradeElement") } function Jd(r) { Ag(r, "downgradeElements") } var ro = ["mdl-js-textfield", "mdl-js-progress", "mdl-js-spinner", "mdl-js-button"]; function Ag(r, l) { r && window.componentHandler && window.componentHandler[l] && ro.forEach(function (h) { Rn(r, h) && window.componentHandler[l](r), X(hs(h, r), function (v) { window.componentHandler[l](v) }) }) } function ql(r, l, h) { if (Fa.call(this), document.body.appendChild(r), r.showModal || window.dialogPolyfill.registerDialog(r), r.showModal(), Qd(r), l && cn(this, r, function (S) { var D = r.getBoundingClientRect(); (S.clientX < D.left || D.left + D.width < S.clientX || S.clientY < D.top || D.top + D.height < S.clientY) && Fa.call(this) }), !h) { var v = this.N().parentElement || this.N().parentNode; if (v) { var T = this; this.da = function () { if (r.open) { var S = r.getBoundingClientRect().height, D = v.getBoundingClientRect().height, W = v.getBoundingClientRect().top - document.body.getBoundingClientRect().top, le = v.getBoundingClientRect().left - document.body.getBoundingClientRect().left, Se = r.getBoundingClientRect().width, Le = v.getBoundingClientRect().width; r.style.top = (W + (D - S) / 2).toString() + "px", S = le + (Le - Se) / 2, r.style.left = S.toString() + "px", r.style.right = (document.body.getBoundingClientRect().width - S - Se).toString() + "px" } else window.removeEventListener("resize", T.da) }, this.da(), window.addEventListener("resize", this.da, !1) } } } function Fa() { var r = Gl.call(this); r && (Jd(r), r.open && r.close(), yt(r), this.da && window.removeEventListener("resize", this.da)) } function Gl() { return vl("firebaseui-id-dialog") } function Kl() { yt(Cg.call(this)) } function Cg() { return vt(this, "firebaseui-id-info-bar") } function xg() { return vt(this, "firebaseui-id-dismiss-info-bar") } var Zd = { xa: { "google.com": "https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg", "github.com": "https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg", "facebook.com": "https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg", "twitter.com": "https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg", password: "https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg", phone: "https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg", anonymous: "https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png", "microsoft.com": "https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg", "yahoo.com": "https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg", "apple.com": "https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png", saml: "https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg", oidc: "https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg" }, wa: { "google.com": "#ffffff", "github.com": "#333333", "facebook.com": "#3b5998", "twitter.com": "#55acee", password: "#db4437", phone: "#02bd7e", anonymous: "#f4b400", "microsoft.com": "#2F2F2F", "yahoo.com": "#720E9E", "apple.com": "#000000", saml: "#007bff", oidc: "#007bff" }, hb: { "google.com": "Google", "github.com": "GitHub", "facebook.com": "Facebook", "twitter.com": "Twitter", password: "Password", phone: "Phone", anonymous: "Guest", "microsoft.com": "Microsoft", "yahoo.com": "Yahoo", "apple.com": "Apple" } }; function ep(r, l, h) { Gs.call(this, r, l); for (var v in h) this[v] = h[v] } ce(ep, Gs); function ge(r, l, h, v, T) { Ba.call(this, h), this.fb = r, this.eb = l, this.Fa = !1, this.Ga = v || null, this.A = this.ca = null, this.Z = zt(Zd), je(this.Z, T || {}) } ce(ge, Ba), n = ge.prototype, n.kb = function () { var r = ps(this.fb, this.eb, this.Z, this.s); Qd(r), this.g = r }, n.v = function () { if (ge.K.v.call(this), Nm(vn(this), new ep("pageEnter", vn(this), { pageId: this.Ga })), this.bb() && this.Z.F) { var r = this.Z.F; cn(this, this.bb(), function () { r() }) } if (this.ab() && this.Z.D) { var l = this.Z.D; cn(this, this.ab(), function () { l() }) } }, n.ya = function () { Nm(vn(this), new ep("pageExit", vn(this), { pageId: this.Ga })), ge.K.ya.call(this) }, n.o = function () { window.clearTimeout(this.ca), this.eb = this.fb = this.ca = null, this.Fa = !1, this.A = null, Jd(this.N()), ge.K.o.call(this) }; function e0(r) { r.Fa = !0; var l = Rn(r.N(), "firebaseui-use-spinner"); r.ca = window.setTimeout(function () { r.N() && r.A === null && (r.A = ps(io, { tb: l }, null, r.s), r.N().appendChild(r.A), Qd(r.A)) }, 500) } n.I = function (r, l, h, v) { function T() { if (S.T) return null; S.Fa = !1, window.clearTimeout(S.ca), S.ca = null, S.A && (Jd(S.A), yt(S.A), S.A = null) } var S = this; return S.Fa ? null : (e0(S), r.apply(null, l).then(h, v).then(T, T)) }; function vn(r) { return r.N().parentElement || r.N().parentNode } function eh(r, l, h) { gc(r, l, function () { h.focus() }) } function Ct(r, l, h) { gc(r, l, function () { h() }) } G(ge.prototype, { a: function (r) { Kl.call(this); var l = ps(Tg, { message: r }, null, this.s); this.N().appendChild(l), cn(this, xg.call(this), function () { yt(l) }) }, yc: Kl, Ac: Cg, zc: xg, $: function (r, l) { r = ps(Sg, { Ma: r, message: l }, null, this.s), ql.call(this, r) }, h: Fa, Cb: Gl, Cc: function () { return vt(this, "firebaseui-tos") }, bb: function () { return vt(this, "firebaseui-tos-link") }, ab: function () { return vt(this, "firebaseui-pp-link") }, Dc: function () { return vt(this, "firebaseui-tos-list") } }); function Qt(r, l, h) { r = r || {}, l = r.Va; var v = r.ia; return r = '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">' + Hl(r) + '</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">' + (l ? $i(null) : "") + Gi(null) + '</div></div><div class="firebaseui-card-footer">' + (v ? Di(h) : Gt(h)) + "</div></form></div>", Re(r) } Qt.a = "firebaseui.auth.soy2.page.signIn"; function gt(r, l, h) { return r = r || {}, l = r.ia, r = '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">' + Hl(r) + Eg() + '</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">' + Zy() + '</div><div class="firebaseui-form-actions">' + sn() + '</div></div><div class="firebaseui-card-footer">' + (l ? Di(h) : Gt(h)) + "</div></form></div>", Re(r) } gt.a = "firebaseui.auth.soy2.page.passwordSignIn"; function Et(r, l, h) { r = r || {}; var v = r.Tb; l = r.Ta; var T = r.ia, S = '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">' + Hl(r); return v ? (r = r || {}, r = r.name, r = '<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="' + li(r ?? "") + '"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>', r = Re(r)) : r = "", h = S + r + _g(null) + '</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">' + (l ? $i(null) : "") + Ki() + '</div></div><div class="firebaseui-card-footer">' + (T ? Di(h) : Gt(h)) + "</div></form></div>", Re(h) } Et.a = "firebaseui.auth.soy2.page.passwordSignUp"; function Ut(r, l, h) { return r = r || {}, l = r.Ta, r = '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>' + Hl(r) + '</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">' + (l ? $i(null) : "") + Gi({ label: ln("Send") }) + '</div></div><div class="firebaseui-card-footer">' + Gt(h) + "</div></form></div>", Re(r) } Ut.a = "firebaseui.auth.soy2.page.passwordRecovery"; function mr(r, l, h) { l = r.G; var v = ""; return r = "Follow the instructions sent to <strong>" + ($e(r.email) + "</strong> to recover your password"), v += '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">' + r + '</p></div><div class="firebaseui-card-actions">', l && (v += '<div class="firebaseui-form-actions">' + Gi({ label: ln("Done") }) + "</div>"), v += '</div><div class="firebaseui-card-footer">' + Gt(h) + "</div></div>", Re(v) } mr.a = "firebaseui.auth.soy2.page.passwordRecoveryEmailSent"; function Vo(r, l, h) { return Re('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">' + io(null) + "</div></div>") } Vo.a = "firebaseui.auth.soy2.page.callback"; function $l(r, l, h) { return Re('<div class="firebaseui-container firebaseui-id-page-spinner">' + io({ tb: !0 }) + "</div>") } $l.a = "firebaseui.auth.soy2.page.spinner"; function tp() { return Re('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>') } tp.a = "firebaseui.auth.soy2.page.blank"; function so(r, l, h) { l = "", r = "A sign-in email with additional instructions was sent to <strong>" + ($e(r.email) + "</strong>. Check your email to complete sign-in."); var v = Re('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>'); return l += '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">' + r + '</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">' + v + '</div><div class="firebaseui-form-actions">' + $i({ label: ln("Back") }) + '</div></div><div class="firebaseui-card-footer">' + Gt(h) + "</div></form></div>", Re(l) } so.a = "firebaseui.auth.soy2.page.emailLinkSignInSent"; function _n(r, l, h) { return r = `<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">` + Re('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>') + '</div><div class="firebaseui-form-actions">' + $i({ label: ln("Back") }) + '</div></div><div class="firebaseui-card-footer">' + Gt(h) + "</div></form></div>", Re(r) } _n.a = "firebaseui.auth.soy2.page.emailNotReceived"; function jo(r, l, h) { return r = '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">' + Hl(r) + '</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">' + $i(null) + Gi(null) + '</div></div><div class="firebaseui-card-footer">' + Gt(h) + "</div></form></div>", Re(r) } jo.a = "firebaseui.auth.soy2.page.emailLinkSignInConfirmation"; function za() { var r = '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">' + $i({ label: ln("Dismiss") }) + "</div></div></div>"; return Re(r) } za.a = "firebaseui.auth.soy2.page.differentDeviceError"; function np() { var r = '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">' + $i({ label: ln("Dismiss") }) + "</div></div></div>"; return Re(r) } np.a = "firebaseui.auth.soy2.page.anonymousUserMismatch"; function Vr(r, l, h) { return l = "", r = "You’ve already used <strong>" + ($e(r.email) + "</strong> to sign in. Enter your password for that account."), l += '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">' + r + "</p>" + Eg() + '</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">' + Zy() + '</div><div class="firebaseui-form-actions">' + sn() + '</div></div><div class="firebaseui-card-footer">' + Gt(h) + "</div></form></div>", Re(l) } Vr.a = "firebaseui.auth.soy2.page.passwordLinking"; function Wl(r, l, h) { var v = r.email; return l = "", r = "" + Wi(r, h), r = ln(r), v = "You’ve already used <strong>" + ($e(v) + ("</strong>. You can connect your <strong>" + ($e(r) + ("</strong> account with <strong>" + ($e(v) + "</strong> by signing in with email link below."))))), r = "For this flow to successfully connect your " + ($e(r) + " account with this email, you have to open the link on the same device or browser."), l += '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">' + v + '<p class="firebaseui-text firebaseui-text-justify">' + r + '</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">' + sn() + '</div></div><div class="firebaseui-card-footer">' + Gt(h) + "</div></form></div>", Re(l) } Wl.a = "firebaseui.auth.soy2.page.emailLinkSignInLinking"; function yc(r, l, h) { l = ""; var v = "" + Wi(r, h); return v = ln(v), r = "You originally intended to connect <strong>" + ($e(v) + "</strong> to your email account but have opened the link on a different device where you are not signed in."), v = "If you still want to connect your <strong>" + ($e(v) + "</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."), l += '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">' + r + '</p><p class="firebaseui-text firebaseui-text-justify">' + v + '</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">' + ti() + '</div></div><div class="firebaseui-card-footer">' + Gt(h) + "</div></form></div>", Re(l) } yc.a = "firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice"; function Yi(r, l, h) { var v = r.email; return l = "", r = "" + Wi(r, h), r = ln(r), v = "You’ve already used <strong>" + ($e(v) + ("</strong>. Sign in with " + ($e(r) + " to continue."))), l += '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">' + v + '</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">' + Gi({ label: ln("Sign in with " + r) }) + '</div></div><div class="firebaseui-card-footer">' + Gt(h) + "</div></form></div>", Re(l) } Yi.a = "firebaseui.auth.soy2.page.federatedLinking"; function ip(r, l, h) { r = r || {}; var v = r.kc; l = r.yb, r = r.Eb; var T = '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'; return v ? (v = "<strong>" + ($e(v) + "</strong> is not authorized to view the requested page."), T += v) : T += "User is not authorized to view the requested page.", T += "</p>", l && (l = "Please contact <strong>" + ($e(l) + "</strong> for authorization."), T += '<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">' + l + "</p>"), T += '</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">', r && (T += '<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'), T += '</div><div class="firebaseui-form-actions">' + $i({ label: ln("Back") }) + '</div></div><div class="firebaseui-card-footer">' + Gt(h) + "</div></form></div>", Re(T) } ip.a = "firebaseui.auth.soy2.page.unauthorizedUser"; function rp(r, l, h) { return l = "", r = "To continue sign in with <strong>" + ($e(r.email) + "</strong> on this device, you have to recover the password."), l += '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">' + r + '</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">' + $i(null) + Gi({ label: ln("Recover password") }) + '</div></div><div class="firebaseui-card-footer">' + Gt(h) + "</div></form></div>", Re(l) } rp.a = "firebaseui.auth.soy2.page.unsupportedProvider"; function th(r) { var l = "", h = '<p class="firebaseui-text">for <strong>' + ($e(r.email) + "</strong></p>"); return l += '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">' + h + _g(yl(r)) + '</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">' + Ki() + "</div></div></form></div>", Re(l) } th.a = "firebaseui.auth.soy2.page.passwordReset"; function nh(r) { return r = r || {}, r = '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">' + (r.G ? '<div class="firebaseui-form-actions">' + ti() + "</div>" : "") + "</div></div>", Re(r) } nh.a = "firebaseui.auth.soy2.page.passwordResetSuccess"; function Uo(r) { return r = r || {}, r = '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">' + (r.G ? '<div class="firebaseui-form-actions">' + ti() + "</div>" : "") + "</div></div>", Re(r) } Uo.a = "firebaseui.auth.soy2.page.passwordResetFailure"; function hi(r) { var l = r.G, h = ""; return r = "Your sign-in email address has been changed back to <strong>" + ($e(r.email) + "</strong>."), h += '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">' + r + '</p><p class="firebaseui-text">If you didn’t ask to change your sign-in email, it’s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">' + (l ? '<div class="firebaseui-form-actions">' + ti() + "</div>" : "") + "</div></form></div>", Re(h) } hi.a = "firebaseui.auth.soy2.page.emailChangeRevokeSuccess"; function Bo(r) { return r = r || {}, r = '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can’t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">' + (r.G ? '<div class="firebaseui-form-actions">' + ti() + "</div>" : "") + "</div></div>", Re(r) } Bo.a = "firebaseui.auth.soy2.page.emailChangeRevokeFailure"; function Yl(r) { return r = r || {}, r = '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">' + (r.G ? '<div class="firebaseui-form-actions">' + ti() + "</div>" : "") + "</div></div>", Re(r) } Yl.a = "firebaseui.auth.soy2.page.emailVerificationSuccess"; function Xl(r) { return r = r || {}, r = '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">' + (r.G ? '<div class="firebaseui-form-actions">' + ti() + "</div>" : "") + "</div></div>", Re(r) } Xl.a = "firebaseui.auth.soy2.page.emailVerificationFailure"; function sp(r) { var l = r.G, h = ""; return r = "You can now sign in with your new email <strong>" + ($e(r.email) + "</strong>."), h += '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">' + r + '</p></div><div class="firebaseui-card-actions">' + (l ? '<div class="firebaseui-form-actions">' + ti() + "</div>" : "") + "</div></div>", Re(h) } sp.a = "firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess"; function op(r) { return r = r || {}, r = '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">' + (r.G ? '<div class="firebaseui-form-actions">' + ti() + "</div>" : "") + "</div></div>", Re(r) } op.a = "firebaseui.auth.soy2.page.verifyAndChangeEmailFailure"; function Rg(r) { var l = r.factorId, h = r.phoneNumber; r = r.G; var v = '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'; switch (l) { case "phone": l = "The <strong>" + ($e(l) + (" " + ($e(h) + "</strong> was removed as a second authentication step."))), v += l; break; default: v += "The device or app was removed as a second authentication step." }return v += `</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">` + (r ? '<div class="firebaseui-form-actions">' + ti() + "</div>" : "") + "</div></form></div>", Re(v) } Rg.a = "firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess"; function bc(r) { return r = r || {}, r = `<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">` + (r.G ? '<div class="firebaseui-form-actions">' + ti() + "</div>" : "") + "</div></div>", Re(r) } bc.a = "firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure"; function ap(r) { var l = r.zb; return r = '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">' + $e(r.errorMessage) + '</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">', l && (r += Gi({ label: ln("Retry") })), Re(r + "</div></div></div>") } ap.a = "firebaseui.auth.soy2.page.recoverableError"; function gr(r) { return r = '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">' + $e(r.errorMessage) + "</p></div></div>", Re(r) } gr.a = "firebaseui.auth.soy2.page.unrecoverableError"; function Ig(r, l, h) { var v = r.Qb; return l = "", r = "Continue with " + ($e(r.jc) + "?"), v = "You originally wanted to sign in with " + $e(v), l += '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">' + r + '</h2><p class="firebaseui-text">' + v + '</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">' + $i(null) + Gi({ label: ln("Continue") }) + '</div></div><div class="firebaseui-card-footer">' + Gt(h) + "</div></form></div>", Re(l) } Ig.a = "firebaseui.auth.soy2.page.emailMismatch"; function vr(r, l, h) { var v = '<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">'; r = r.Sb, l = r.length; for (var T = 0; T < l; T++) { var S = { ga: r[T] }, D = h; S = S || {}; var W = S.ga, le = S; le = le || {}; var Se = ""; switch (le.ga.providerId) { case "google.com": Se += "firebaseui-idp-google"; break; case "github.com": Se += "firebaseui-idp-github"; break; case "facebook.com": Se += "firebaseui-idp-facebook"; break; case "twitter.com": Se += "firebaseui-idp-twitter"; break; case "phone": Se += "firebaseui-idp-phone"; break; case "anonymous": Se += "firebaseui-idp-anonymous"; break; case "password": Se += "firebaseui-idp-password"; break; default: Se += "firebaseui-idp-generic" }le = '<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised ' + li(bt(Se)) + ' firebaseui-id-idp-button" data-provider-id="' + li(W.providerId) + '" style="background-color:', Se = (Se = S) || {}, Se = Se.ga, le = le + li(Hs(bt(Se.ta ? Se.ta : D.wa[Se.providerId] ? "" + D.wa[Se.providerId] : Se.providerId.indexOf("saml.") == 0 ? "" + D.wa.saml : Se.providerId.indexOf("oidc.") == 0 ? "" + D.wa.oidc : "" + D.wa.password))) + '"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'; var Le = S; Se = D, Le = Le || {}, Le = Le.ga, Se = gd(Le.za ? ms(Le.za) : Se.xa[Le.providerId] ? ms(Se.xa[Le.providerId]) : Le.providerId.indexOf("saml.") == 0 ? ms(Se.xa.saml) : Le.providerId.indexOf("oidc.") == 0 ? ms(Se.xa.oidc) : ms(Se.xa.password)), le = le + li(ms(Se)) + '"></span>', W.providerId == "password" ? (le += '<span class="firebaseui-idp-text firebaseui-idp-text-long">', W.V ? le += $e(W.V) : W.S ? (S = "Sign in with " + $e(Wi(S, D)), le += S) : le += "Sign in with email", le += '</span><span class="firebaseui-idp-text firebaseui-idp-text-short">', le = W.S ? le + $e(W.S) : le + "Email", le += "</span>") : W.providerId == "phone" ? (le += '<span class="firebaseui-idp-text firebaseui-idp-text-long">', W.V ? le += $e(W.V) : W.S ? (S = "Sign in with " + $e(Wi(S, D)), le += S) : le += "Sign in with phone", le += '</span><span class="firebaseui-idp-text firebaseui-idp-text-short">', le = W.S ? le + $e(W.S) : le + "Phone", le += "</span>") : W.providerId == "anonymous" ? (le += '<span class="firebaseui-idp-text firebaseui-idp-text-long">', W.V ? le += $e(W.V) : W.S ? (S = "Sign in with " + $e(Wi(S, D)), le += S) : le += "Continue as guest", le += '</span><span class="firebaseui-idp-text firebaseui-idp-text-short">', le = W.S ? le + $e(W.S) : le + "Guest", le += "</span>") : (le += '<span class="firebaseui-idp-text firebaseui-idp-text-long">', W.V ? le += $e(W.V) : (Se = "Sign in with " + $e(Wi(S, D)), le += Se), le += '</span><span class="firebaseui-idp-text firebaseui-idp-text-short">' + (W.S ? $e(W.S) : $e(Wi(S, D))) + "</span>"), W = Re(le + "</button>"), v += '<li class="firebaseui-list-item">' + W + "</li>" } return v += '</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">' + Di(h) + "</div></div>", Re(v) } vr.a = "firebaseui.auth.soy2.page.providerSignIn"; function kg(r, l, h) { r = r || {}; var v = r.Gb, T = r.Va; l = r.ia, r = r || {}, r = r.Aa, r = '<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="' + li(r ?? "") + '"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>', r = '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">' + Re(r); var S; return v ? S = Re('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>') : S = "", S = r + S + '</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">' + (T ? $i(null) : "") + Gi({ label: ln("Verify") }) + '</div></div><div class="firebaseui-card-footer">', l ? (l = '<p class="firebaseui-tos firebaseui-phone-tos">', l = h.F && h.D ? l + 'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.' : l + "By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.", h = Re(l + "</p>")) : h = Re('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>') + Gt(h), Re(S + h + "</div></form></div>") } kg.a = "firebaseui.auth.soy2.page.phoneSignInStart"; function Pg(r, l, h) { r = r || {}, l = r.phoneNumber; var v = ""; return r = 'Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;' + ($e(l) + "</a>"), $e(l), l = v, v = Re('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'), h = '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">' + r + "</p>" + v + '</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">' + $i(null) + Gi({ label: ln("Continue") }) + '</div></div><div class="firebaseui-card-footer">' + Gt(h) + "</div></form>", r = Re('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'), Re(l + (h + r + "</div>")) } Pg.a = "firebaseui.auth.soy2.page.phoneSignInFinish"; function t0() { return Re('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>') } t0.a = "firebaseui.auth.soy2.page.signOut"; function Fo(r, l, h) { var v = '<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">'; r = r.ec, l = r.length; for (var T = 0; T < l; T++) { var S = r[T], D = "", W = $e(S.displayName), le = S.tenantId ? S.tenantId : "top-level-project"; le = ln(le), D += '<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-' + li(le) + ' firebaseui-id-tenant-selection-button"' + (S.tenantId ? 'data-tenant-id="' + li(S.tenantId) + '"' : "") + 'style="background-color:' + li(Hs(S.ta)) + '"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="' + li(ms(S.za)) + '"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">', S.V ? D += $e(S.V) : (S = "Sign in to " + $e(S.displayName), D += S), D = Re(D + ('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">' + W + "</span></button>")), v += '<li class="firebaseui-list-item">' + D + "</li>" } return v += '</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">' + Di(h) + "</div></div>", Re(v) } Fo.a = "firebaseui.auth.soy2.page.selectTenant"; function ih(r, l, h) { return r = '<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">' + Hl(null) + '</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">' + Gi(null) + '</div></div><div class="firebaseui-card-footer">' + Di(h) + "</div></form></div>", Re(r) } ih.a = "firebaseui.auth.soy2.page.providerMatchByEmail"; function Vn() { return vt(this, "firebaseui-id-submit") } function dn() { return vt(this, "firebaseui-id-secondary-link") } function ni(r, l) { cn(this, Vn.call(this), function (v) { r(v) }); var h = dn.call(this); h && l && cn(this, h, function (v) { l(v) }) } function rh() { return vt(this, "firebaseui-id-password") } function sh() { return vt(this, "firebaseui-id-password-error") } function lp() { var r = rh.call(this), l = sh.call(this); Do(this, r, function () { vc(l) && (gn(r, !0), fr(l)) }) } function up() { var r = rh.call(this), l = sh.call(this); return ei(r) ? (gn(r, !0), fr(l), l = !0) : (gn(r, !1), _t(l, bt("Enter your password").toString()), l = !1), l ? ei(r) : null } function wc(r, l, h, v, T, S) { ge.call(this, Vr, { email: r }, S, "passwordLinking", { F: v, D: T }), this.w = l, this.H = h } p(wc, ge), wc.prototype.v = function () { this.P(), this.M(this.w, this.H), Ct(this, this.i(), this.w), this.i().focus(), ge.prototype.v.call(this) }, wc.prototype.o = function () { this.w = null, ge.prototype.o.call(this) }, wc.prototype.j = function () { return ei(vt(this, "firebaseui-id-email")) }, G(wc.prototype, { i: rh, B: sh, P: lp, u: up, ea: Vn, ba: dn, M: ni }); var mw = /^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/; function zo() { return vt(this, "firebaseui-id-email") } function Ho() { return vt(this, "firebaseui-id-email-error") } function Ql(r) { var l = zo.call(this), h = Ho.call(this); Do(this, l, function () { vc(h) && (gn(l, !0), fr(h)) }), r && gc(this, l, function () { r() }) } function Cs() { return It(ei(zo.call(this)) || "") } function qo() { var r = zo.call(this), l = Ho.call(this), h = ei(r) || ""; return h ? mw.test(h) ? (gn(r, !0), fr(l), l = !0) : (gn(r, !1), _t(l, bt("That email address isn't correct").toString()), l = !1) : (gn(r, !1), _t(l, bt("Enter your email address to continue").toString()), l = !1), l ? It(ei(r)) : null } function _c(r, l, h, v, T, S, D) { ge.call(this, gt, { email: h, ia: !!S }, D, "passwordSignIn", { F: v, D: T }), this.w = r, this.H = l } p(_c, ge), _c.prototype.v = function () { this.P(), this.ea(), this.ba(this.w, this.H), eh(this, this.l(), this.i()), Ct(this, this.i(), this.w), ei(this.l()) ? this.i().focus() : this.l().focus(), ge.prototype.v.call(this) }, _c.prototype.o = function () { this.H = this.w = null, ge.prototype.o.call(this) }, G(_c.prototype, { l: zo, U: Ho, P: Ql, M: Cs, j: qo, i: rh, B: sh, ea: lp, u: up, ua: Vn, pa: dn, ba: ni }); function Lt(r, l, h, v, T, S) { ge.call(this, r, l, v, T || "notice", S), this.i = h || null } ce(Lt, ge), Lt.prototype.v = function () { this.i && (this.u(this.i), this.l().focus()), Lt.K.v.call(this) }, Lt.prototype.o = function () { this.i = null, Lt.K.o.call(this) }, G(Lt.prototype, { l: Vn, w: dn, u: ni }); function oh(r, l, h, v, T) { Lt.call(this, mr, { email: r, G: !!l }, l, T, "passwordRecoveryEmailSent", { F: h, D: v }) } ce(oh, Lt); function Ng(r, l) { Lt.call(this, Yl, { G: !!r }, r, l, "emailVerificationSuccess") } ce(Ng, Lt); function Mg(r, l) { Lt.call(this, Xl, { G: !!r }, r, l, "emailVerificationFailure") } ce(Mg, Lt); function Dg(r, l, h) { Lt.call(this, sp, { email: r, G: !!l }, l, h, "verifyAndChangeEmailSuccess") } ce(Dg, Lt); function ah(r, l) { Lt.call(this, op, { G: !!r }, r, l, "verifyAndChangeEmailFailure") } ce(ah, Lt); function Og(r, l) { Lt.call(this, bc, { G: !!r }, r, l, "revertSecondFactorAdditionFailure") } ce(Og, Lt); function Lg(r) { Lt.call(this, t0, void 0, void 0, r, "signOut") } ce(Lg, Lt); function Wt(r, l) { Lt.call(this, nh, { G: !!r }, r, l, "passwordResetSuccess") } ce(Wt, Lt); function cp(r, l) { Lt.call(this, Uo, { G: !!r }, r, l, "passwordResetFailure") } ce(cp, Lt); function n0(r, l) { Lt.call(this, Bo, { G: !!r }, r, l, "emailChangeRevokeFailure") } ce(n0, Lt); function Vg(r, l, h) { Lt.call(this, ap, { errorMessage: r, zb: !!l }, l, h, "recoverableError") } ce(Vg, Lt); function i0(r, l) { Lt.call(this, gr, { errorMessage: r }, void 0, l, "unrecoverableError") } ce(i0, Lt); function lh(r) { if (r.code === "auth/invalid-credential" && r.message && r.message.indexOf("error=consent_required") !== -1) return { code: "auth/user-cancelled" }; if (r.message && r.message.indexOf("HTTP Cloud Function returned an error:") !== -1) { var l = JSON.parse(r.message.substring(r.message.indexOf("{"), r.message.lastIndexOf("}") + 1)); return { code: r.code, message: l && l.error && l.error.message || r.message } } return r } function Go(r, l, h, v) { function T(D) { if (!D.name || D.name != "cancel") { e: { var W = D.message; try { var le = ((JSON.parse(W).error || {}).message || "").toLowerCase().match(/invalid.+(access|id)_token/); if (le && le.length) { var Se = !0; break e } } catch { } Se = !1 } if (Se) D = vn(l), l.m(), Yt(r, D, void 0, bt("Your sign-in session has expired. Please try again.").toString()); else { if (Se = D && D.message || "", D.code) { if (D.code == "auth/email-already-in-use" || D.code == "auth/credential-already-in-use") return; Se = Vt(D) } l.a(Se) } } } if (p0(r), v) return uh(r, h), un(); if (!h.credential) throw Error("No credential found!"); if (!dt(r).currentUser && !h.user) throw Error("User not logged in."); try { var S = Zg(r, h) } catch (D) { return Ni(D.code || D.message, D), l.a(D.code || D.message), un() } return h = S.then(function (D) { uh(r, D) }, T).then(void 0, T), it(r, S), un(h) } function uh(r, l) { if (!l.user) throw Error("No user found"); var h = zn(ye(r)); if (Ss(ye(r)) && h && qi("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."), h) { h = zn(ye(r)); var v = Qm(Ke(r)) || void 0; hr(ec, Ke(r)); var T = !1; xf() ? ((!h || h(l, v)) && (T = !0, yi(window.opener.location, Ko(r, v))), h || window.close()) : (!h || h(l, v)) && (T = !0, yi(window.location, Ko(r, v))), T || r.reset() } else { h = l.user, l = l.credential, v = Ss(ye(r)), T = Qm(Ke(r)) || void 0, hr(ec, Ke(r)); var S = !1; xf() ? ((!v || v(h, l, T)) && (S = !0, yi(window.opener.location, Ko(r, T))), v || window.close()) : (!v || v(h, l, T)) && (S = !0, yi(window.location, Ko(r, T))), S || r.reset() } } function Ko(r, l) { if (r = l || ye(r).a.get("signInSuccessUrl"), !r) throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback."); return r } function Vt(r) { var l = { code: r.code }; l = l || {}; var h = ""; switch (l.code) { case "auth/email-already-in-use": h += "The email address is already used by another account"; break; case "auth/requires-recent-login": h += Ce(); break; case "auth/too-many-requests": h += "You have entered an incorrect password too many times. Please try again in a few minutes."; break; case "auth/user-cancelled": h += "Please authorize the required permissions to sign in to the application"; break; case "auth/user-not-found": h += "That email address doesn't match an existing account"; break; case "auth/user-token-expired": h += Ce(); break; case "auth/weak-password": h += "Strong passwords have at least 6 characters and a mix of letters and numbers"; break; case "auth/wrong-password": h += "The email and password you entered don't match"; break; case "auth/network-request-failed": h += "A network error has occurred"; break; case "auth/invalid-phone-number": h += A(); break; case "auth/invalid-verification-code": h += bt("Wrong code. Try again."); break; case "auth/code-expired": h += "This code is no longer valid"; break; case "auth/expired-action-code": h += "This code has expired."; break; case "auth/invalid-action-code": h += "The action code is invalid. This can happen if the code is malformed, expired, or has already been used." }if (l = bt(h).toString()) return l; try { return JSON.parse(r.message), Ni("Internal error: " + r.message, void 0), B().toString() } catch { return r.message } } function dp(r, l, h) { var v = jl[l] && He.auth[jl[l]] ? new He.auth[jl[l]] : l.indexOf("saml.") == 0 ? new He.auth.SAMLAuthProvider(l) : new He.auth.OAuthProvider(l); if (!v) throw Error("Invalid Firebase Auth provider!"); var T = Ul(ye(r), l); if (v.addScope) for (var S = 0; S < T.length; S++)v.addScope(T[S]); return T = ac(ye(r), l) || {}, h && (l == He.auth.GoogleAuthProvider.PROVIDER_ID ? r = "login_hint" : l == He.auth.GithubAuthProvider.PROVIDER_ID ? r = "login" : r = (r = sc(ye(r), l)) && r.Ob, r && (T[r] = h)), v.setCustomParameters && v.setCustomParameters(T), v } function Jl(r, l, h, v) { function T() { Fy(new Xu(r.h.tenantId || null), Ke(r)), it(r, l.I(O(r.dc, r), [le], function () { if ((window.location && window.location.protocol) === "file:") return it(r, ou(r).then(function (Se) { l.m(), hr(Ia, Ke(r)), Me("callback", r, W, un(Se)) }, S)) }, D)) } function S(Se) { if (hr(Ia, Ke(r)), !Se.name || Se.name != "cancel") switch (Se = lh(Se), Se.code) { case "auth/popup-blocked": T(); break; case "auth/popup-closed-by-user": case "auth/cancelled-popup-request": break; case "auth/credential-already-in-use": break; case "auth/network-request-failed": case "auth/too-many-requests": case "auth/user-cancelled": l.a(Vt(Se)); break; case "auth/admin-restricted-operation": l.m(), Pa(ye(r)) ? Me("handleUnauthorizedUser", r, W, null, h) : Me("callback", r, W, Xr(Se)); break; default: l.m(), Me("callback", r, W, Xr(Se)) } } function D(Se) { hr(Ia, Ke(r)), Se.name && Se.name == "cancel" || (Ni("signInWithRedirect: " + Se.code, void 0), Se = Vt(Se), l.Ga == "blank" && Wf(ye(r)) ? (l.m(), Me("providerSignIn", r, W, Se)) : l.a(Se)) } var W = vn(l), le = dp(r, h, v); Mo(ye(r)) == to ? T() : it(r, v0(r, le).then(function (Se) { l.m(), Me("callback", r, W, un(Se)) }, S)) } function Zl(r, l) { it(r, l.I(O(r.$b, r), [], function (h) { return l.m(), Go(r, l, h, !0) }, function (h) { h.name && h.name == "cancel" || (Ni("ContinueAsGuest: " + h.code, void 0), h = Vt(h), l.a(h)) })) } function oo(r, l, h) { function v(S) { var D = !1; return S = l.I(O(r.ac, r), [S], function (W) { var le = vn(l); l.m(), Me("callback", r, le, un(W)), D = !0 }, function (W) { if ((!W.name || W.name != "cancel") && (!W || W.code != "auth/credential-already-in-use")) if (W && W.code == "auth/email-already-in-use" && W.email && W.credential) { var le = vn(l); l.m(), Me("callback", r, le, Xr(W)) } else W && W.code == "auth/admin-restricted-operation" && Pa(ye(r)) ? (W = vn(l), l.m(), Me("handleUnauthorizedUser", r, W, null, He.auth.GoogleAuthProvider.PROVIDER_ID)) : (W = Vt(W), l.a(W)) }), it(r, S), S.then(function () { return D }, function () { return !1 }) } if (h && h.credential && h.clientId === Gf(ye(r))) { if (Ul(ye(r), He.auth.GoogleAuthProvider.PROVIDER_ID).length) { try { var T = JSON.parse(atob(h.credential.split(".")[1])).email } catch { } return Jl(r, l, He.auth.GoogleAuthProvider.PROVIDER_ID, T), un(!0) } return v(He.auth.GoogleAuthProvider.credential(h.credential)) } return h && l.a(bt("The selected credential for the authentication provider is not supported!").toString()), un(!1) } function ch(r, l) { var h = l.j(), v = l.u(); if (h) if (v) { var T = He.auth.EmailAuthProvider.credential(h, v); it(r, l.I(O(r.bc, r), [h, v], function (S) { return Go(r, l, { user: S.user, credential: T, operationType: S.operationType, additionalUserInfo: S.additionalUserInfo }) }, function (S) { if (!S.name || S.name != "cancel") switch (S.code) { case "auth/email-already-in-use": break; case "auth/email-exists": gn(l.l(), !1), _t(l.U(), Vt(S)); break; case "auth/too-many-requests": case "auth/wrong-password": gn(l.i(), !1), _t(l.B(), Vt(S)); break; default: Ni("verifyPassword: " + S.message, void 0), l.a(Vt(S)) } })) } else l.i().focus(); else l.l().focus() } function hp(r) { return r = rc(ye(r)), r.length == 1 && r[0] == He.auth.EmailAuthProvider.PROVIDER_ID } function jg(r) { return r = rc(ye(r)), r.length == 1 && r[0] == He.auth.PhoneAuthProvider.PROVIDER_ID } function Yt(r, l, h, v) { hp(r) ? v ? Me("signIn", r, l, h, v) : dh(r, l, h) : r && jg(r) && !v ? Me("phoneSignInStart", r, l) : r && Wf(ye(r)) && !v ? Me("federatedRedirect", r, l, h) : Me("providerSignIn", r, l, v, h) } function Ug(r, l, h, v) { var T = vn(l); it(r, l.I(O(dt(r).fetchSignInMethodsForEmail, dt(r)), [h], function (S) { l.m(), Bg(r, T, S, h, v) }, function (S) { S = Vt(S), l.a(S) })) } function Bg(r, l, h, v, T, S) { h.length || _i(ye(r)) && !_i(ye(r)) ? ze(h, He.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD) ? Me("passwordSignIn", r, l, v, S) : h.length == 1 && h[0] === He.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD ? _i(ye(r)) ? Me("sendEmailLinkForSignIn", r, l, v, function () { Me("signIn", r, l) }) : Me("unsupportedProvider", r, l, v) : (h = qf(h, rc(ye(r)))) ? (Jm(new Dd(v), Ke(r)), Me("federatedSignIn", r, l, v, h, T)) : Me("unsupportedProvider", r, l, v) : Ud(ye(r)) ? Me("handleUnauthorizedUser", r, l, v, He.auth.EmailAuthProvider.PROVIDER_ID) : _i(ye(r)) ? Me("sendEmailLinkForSignIn", r, l, v, function () { Me("signIn", r, l) }) : Me("passwordSignUp", r, l, v, void 0, void 0, S) } function Fg(r, l, h, v, T, S) { var D = vn(l); it(r, l.I(O(r.Ib, r), [h, S], function () { l.m(), Me("emailLinkSignInSent", r, D, h, v, S) }, T)) } function dh(r, l, h) { h ? Me("prefilledEmailSignIn", r, l, h) : Me("signIn", r, l) } function Ec() { return oa(jt(), "oobCode") } function fp() { var r = oa(jt(), "continueUrl"); return r ? function () { yi(window.location, r) } : null } function hh(r, l) { ge.call(this, np, void 0, l, "anonymousUserMismatch"), this.i = r } p(hh, ge), hh.prototype.v = function () { var r = this; cn(this, this.l(), function () { r.i() }), this.l().focus(), ge.prototype.v.call(this) }, hh.prototype.o = function () { this.i = null, ge.prototype.o.call(this) }, G(hh.prototype, { l: dn }), Pt.anonymousUserMismatch = function (r, l) { var h = new hh(function () { h.m(), Yt(r, l) }); h.render(l), Ze(r, h) }; function Tc(r) { ge.call(this, Vo, void 0, r, "callback") } p(Tc, ge), Tc.prototype.I = function (r, l, h, v) { return r.apply(null, l).then(h, v) }; function pp(r, l, h) { if (h.user) { var v = { user: h.user, credential: h.credential, operationType: h.operationType, additionalUserInfo: h.additionalUserInfo }, T = Ts(Ke(r)), S = T && T.g; if (S && !s0(h.user, S)) gw(r, l, v); else { var D = T && T.a; D ? it(r, h.user.linkWithCredential(D).then(function (W) { v = { user: W.user, credential: D, operationType: W.operationType, additionalUserInfo: W.additionalUserInfo }, r0(r, l, v) }, function (W) { mp(r, l, W) })) : r0(r, l, v) } } else h = vn(l), l.m(), Zr(Ke(r)), Yt(r, h) } function r0(r, l, h) { Zr(Ke(r)), Go(r, l, h) } function mp(r, l, h) { var v = vn(l); Zr(Ke(r)), h = Vt(h), l.m(), Yt(r, v, void 0, h) } function Sc(r, l, h, v) { var T = vn(l); it(r, dt(r).fetchSignInMethodsForEmail(h).then(function (S) { l.m(), S.length ? ze(S, He.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD) ? Me("passwordLinking", r, T, h) : S.length == 1 && S[0] === He.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD ? Me("emailLinkSignInLinking", r, T, h) : (S = qf(S, rc(ye(r)))) ? Me("federatedLinking", r, T, h, S, v) : (Zr(Ke(r)), Me("unsupportedProvider", r, T, h)) : (Zr(Ke(r)), Me("passwordRecovery", r, T, h, !1, te().toString())) }, function (S) { mp(r, l, S) })) } function gw(r, l, h) { var v = vn(l); it(r, $o(r).then(function () { l.m(), Me("emailMismatch", r, v, h) }, function (T) { T.name && T.name == "cancel" || (T = Vt(T.code), l.a(T)) })) } function s0(r, l) { if (l == r.email) return !0; if (r.providerData) { for (var h = 0; h < r.providerData.length; h++)if (l == r.providerData[h].email) return !0 } return !1 } Pt.callback = function (r, l, h) { var v = new Tc; v.render(l), Ze(r, v), h = h || ou(r), it(r, h.then(function (T) { pp(r, v, T) }, function (T) { if ((T = lh(T)) && (T.code == "auth/account-exists-with-different-credential" || T.code == "auth/email-already-in-use") && T.email && T.credential) Jm(new Dd(T.email, T.credential), Ke(r)), Sc(r, v, T.email); else if (T && T.code == "auth/user-cancelled") { var S = Ts(Ke(r)), D = Vt(T); S && S.a ? Sc(r, v, S.g, D) : S ? Ug(r, v, S.g, D) : mp(r, v, T) } else T && T.code == "auth/credential-already-in-use" || (T && T.code == "auth/operation-not-supported-in-this-environment" && hp(r) ? pp(r, v, { user: null, credential: null }) : T && T.code == "auth/admin-restricted-operation" && Pa(ye(r)) ? (v.m(), Zr(Ke(r)), Me("handleUnauthorizedUser", r, l, null, null)) : mp(r, v, T)) })) }; function at(r, l) { ge.call(this, za, void 0, l, "differentDeviceError"), this.i = r } p(at, ge), at.prototype.v = function () { var r = this; cn(this, this.l(), function () { r.i() }), this.l().focus(), ge.prototype.v.call(this) }, at.prototype.o = function () { this.i = null, ge.prototype.o.call(this) }, G(at.prototype, { l: dn }), Pt.differentDeviceError = function (r, l) { var h = new at(function () { h.m(), Yt(r, l) }); h.render(l), Ze(r, h) }; function eu(r, l, h, v) { ge.call(this, hi, { email: r, G: !!h }, v, "emailChangeRevoke"), this.l = l, this.i = h || null } p(eu, ge), eu.prototype.v = function () { var r = this; cn(this, vt(this, "firebaseui-id-reset-password-link"), function () { r.l() }), this.i && (this.w(this.i), this.u().focus()), ge.prototype.v.call(this) }, eu.prototype.o = function () { this.l = this.i = null, ge.prototype.o.call(this) }, G(eu.prototype, { u: Vn, B: dn, w: ni }); function Ha() { return vt(this, "firebaseui-id-new-password") } function Ac() { return vt(this, "firebaseui-id-password-toggle") } function o0() { this.Ra = !this.Ra; var r = Ac.call(this), l = Ha.call(this); this.Ra ? (l.type = "text", rn(r, "firebaseui-input-toggle-off"), As(r, "firebaseui-input-toggle-on")) : (l.type = "password", rn(r, "firebaseui-input-toggle-on"), As(r, "firebaseui-input-toggle-off")), l.focus() } function Cc() { return vt(this, "firebaseui-id-new-password-error") } function xc() { this.Ra = !1; var r = Ha.call(this); r.type = "password"; var l = Cc.call(this); Do(this, r, function () { vc(l) && (gn(r, !0), fr(l)) }); var h = Ac.call(this); rn(h, "firebaseui-input-toggle-on"), As(h, "firebaseui-input-toggle-off"), Oo(this, r, function () { rn(h, "firebaseui-input-toggle-focus"), As(h, "firebaseui-input-toggle-blur") }), Ln(this, r, function () { rn(h, "firebaseui-input-toggle-blur"), As(h, "firebaseui-input-toggle-focus") }), cn(this, h, O(o0, this)) } function fh() { var r = Ha.call(this), l = Cc.call(this); return ei(r) ? (gn(r, !0), fr(l), l = !0) : (gn(r, !1), _t(l, bt("Enter your password").toString()), l = !1), l ? ei(r) : null } function ao(r, l, h) { ge.call(this, th, { email: r }, h, "passwordReset"), this.l = l } p(ao, ge), ao.prototype.v = function () { this.H(), this.B(this.l), Ct(this, this.i(), this.l), this.i().focus(), ge.prototype.v.call(this) }, ao.prototype.o = function () { this.l = null, ge.prototype.o.call(this) }, G(ao.prototype, { i: Ha, w: Cc, M: Ac, H: xc, u: fh, U: Vn, P: dn, B: ni }); function Rc(r, l, h, v, T) { ge.call(this, Rg, { factorId: r, phoneNumber: h || null, G: !!v }, T, "revertSecondFactorAdditionSuccess"), this.l = l, this.i = v || null } p(Rc, ge), Rc.prototype.v = function () { var r = this; cn(this, vt(this, "firebaseui-id-reset-password-link"), function () { r.l() }), this.i && (this.w(this.i), this.u().focus()), ge.prototype.v.call(this) }, Rc.prototype.o = function () { this.l = this.i = null, ge.prototype.o.call(this) }, G(Rc.prototype, { u: Vn, B: dn, w: ni }); function vw(r, l, h, v, T) { var S = h.u(); S && it(r, h.I(O(dt(r).confirmPasswordReset, dt(r)), [v, S], function () { h.m(); var D = new Wt(T); D.render(l), Ze(r, D) }, function (D) { a0(r, l, h, D) })) } function a0(r, l, h, v) { (v && v.code) == "auth/weak-password" ? (r = Vt(v), gn(h.i(), !1), _t(h.w(), r), h.i().focus()) : (h && h.m(), h = new cp, h.render(l), Ze(r, h)) } function l0(r, l, h) { var v = new eu(h, function () { it(r, v.I(O(dt(r).sendPasswordResetEmail, dt(r)), [h], function () { v.m(), v = new oh(h, void 0, xn(ye(r)), nn(ye(r))), v.render(l), Ze(r, v) }, function () { v.a(P().toString()) })) }); v.render(l), Ze(r, v) } function u0(r, l, h, v) { var T = new Rc(v.factorId, function () { T.I(O(dt(r).sendPasswordResetEmail, dt(r)), [h], function () { T.m(), T = new oh(h, void 0, xn(ye(r)), nn(ye(r))), T.render(l), Ze(r, T) }, function () { T.a(P().toString()) }) }, v.phoneNumber); T.render(l), Ze(r, T) } Pt.passwordReset = function (r, l, h, v) { it(r, dt(r).verifyPasswordResetCode(h).then(function (T) { var S = new ao(T, function () { vw(r, l, S, h, v) }); S.render(l), Ze(r, S) }, function () { a0(r, l) })) }, Pt.emailChangeRevocation = function (r, l, h) { var v = null; it(r, dt(r).checkActionCode(h).then(function (T) { return v = T.data.email, dt(r).applyActionCode(h) }).then(function () { l0(r, l, v) }, function () { var T = new n0; T.render(l), Ze(r, T) })) }, Pt.emailVerification = function (r, l, h, v) { it(r, dt(r).applyActionCode(h).then(function () { var T = new Ng(v); T.render(l), Ze(r, T) }, function () { var T = new Mg; T.render(l), Ze(r, T) })) }, Pt.revertSecondFactorAddition = function (r, l, h) { var v = null, T = null; it(r, dt(r).checkActionCode(h).then(function (S) { return v = S.data.email, T = S.data.multiFactorInfo, dt(r).applyActionCode(h) }).then(function () { u0(r, l, v, T) }, function () { var S = new Og; S.render(l), Ze(r, S) })) }, Pt.verifyAndChangeEmail = function (r, l, h, v) { var T = null; it(r, dt(r).checkActionCode(h).then(function (S) { return T = S.data.email, dt(r).applyActionCode(h) }).then(function () { var S = new Dg(T, v); S.render(l), Ze(r, S) }, function () { var S = new ah; S.render(l), Ze(r, S) })) }; function tu(r, l) {
      try { var h = typeof r.selectionStart == "number" } catch { h = !1 } h ? (r.selectionStart = l, r.selectionEnd = l) : pt && !Cr("9") && (r.type == "textarea" && (l = r.value.substring(0, l).replace(/(\r\n|\r|\n)/g, `
`).length), r = r.createTextRange(), r.collapse(!0), r.move("character", l), r.select())
    } function Nt(r, l, h, v, T, S) { ge.call(this, jo, { email: h }, S, "emailLinkSignInConfirmation", { F: v, D: T }), this.l = r, this.u = l } p(Nt, ge), Nt.prototype.v = function () { this.w(this.l), this.B(this.l, this.u), this.i().focus(), tu(this.i(), (this.i().value || "").length), ge.prototype.v.call(this) }, Nt.prototype.o = function () { this.u = this.l = null, ge.prototype.o.call(this) }, G(Nt.prototype, { i: zo, M: Ho, w: Ql, H: Cs, j: qo, U: Vn, P: dn, B: ni }), Pt.emailLinkConfirmation = function (r, l, h, v, T, S) { var D = new Nt(function () { var W = D.j(); W ? (D.m(), v(r, l, W, h)) : D.i().focus() }, function () { D.m(), Yt(r, l, T || void 0) }, T || void 0, xn(ye(r)), nn(ye(r))); D.render(l), Ze(r, D), S && D.a(S) }; function nu(r, l, h, v, T) { ge.call(this, yc, { ga: r }, T, "emailLinkSignInLinkingDifferentDevice", { F: h, D: v }), this.i = l } p(nu, ge), nu.prototype.v = function () { this.u(this.i), this.l().focus(), ge.prototype.v.call(this) }, nu.prototype.o = function () { this.i = null, ge.prototype.o.call(this) }, G(nu.prototype, { l: Vn, u: ni }), Pt.emailLinkNewDeviceLinking = function (r, l, h, v) { var T = new Ri(h); if (h = T.a.a.get(an.PROVIDER_ID) || null, Cu(T, null), h) { var S = new nu(sc(ye(r), h), function () { S.m(), v(r, l, T.toString()) }, xn(ye(r)), nn(ye(r))); S.render(l), Ze(r, S) } else Yt(r, l) }; function Hn(r) { ge.call(this, tp, void 0, r, "blank") } p(Hn, ge); function zg(r, l, h, v, T) { var S = new Hn, D = new Ri(h), W = D.a.a.get(an.$a) || "", le = D.a.a.get(an.Sa) || "", Se = D.a.a.get(an.Qa) === "1", Le = Cn(D), kt = D.a.a.get(an.PROVIDER_ID) || null; D = D.a.a.get(an.vb) || null, Eh(r, D); var s = !Ol(Ml, Ke(r)), a = v || zy(le, Ke(r)), c = (v = Hy(le, Ke(r))) && v.a; kt && c && c.providerId !== kt && (c = null), S.render(l), Ze(r, S), it(r, S.I(function () { var f = un(null); f = Le && s || s && Se ? Xr(Error("anonymous-user-not-found")) : Sw(r, h).then(function (_) { if (kt && !c) throw Error("pending-credential-not-found"); return _ }); var b = null; return f.then(function (_) { return b = _, T ? null : dt(r).checkActionCode(W) }).then(function () { return b }) }, [], function (f) { a ? vp(r, S, a, h, c, f) : Se ? (S.m(), Me("differentDeviceError", r, l)) : (S.m(), Me("emailLinkConfirmation", r, l, h, gp)) }, function (f) { var b = void 0; if (!f || !f.name || f.name != "cancel") switch (S.m(), f && f.message) { case "anonymous-user-not-found": Me("differentDeviceError", r, l); break; case "anonymous-user-mismatch": Me("anonymousUserMismatch", r, l); break; case "pending-credential-not-found": Me("emailLinkNewDeviceLinking", r, l, h, Hg); break; default: f && (b = Vt(f)), Yt(r, l, void 0, b) } })) } function gp(r, l, h, v) { zg(r, l, v, h, !0) } function Hg(r, l, h) { zg(r, l, h) } function vp(r, l, h, v, T, S) { var D = vn(l); l.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon", bt("Signing in...").toString()); var W = null; T = (S ? m0(r, S, h, v, T) : g0(r, h, v, T)).then(function (le) { hr(Dl, Ke(r)), hr(Ml, Ke(r)), l.h(), l.$("firebaseui-icon-done", bt("Signed in!").toString()), W = setTimeout(function () { l.h(), Go(r, l, le, !0) }, 1e3), it(r, function () { l && (l.h(), l.m()), clearTimeout(W) }) }, function (le) { if (l.h(), l.m(), !le.name || le.name != "cancel") { le = lh(le); var Se = Vt(le); le.code == "auth/email-already-in-use" || le.code == "auth/credential-already-in-use" ? (hr(Dl, Ke(r)), hr(Ml, Ke(r))) : le.code == "auth/invalid-email" ? (Se = bt("The email provided does not match the current sign-in session.").toString(), Me("emailLinkConfirmation", r, D, v, gp, null, Se)) : Yt(r, D, h, Se) } }), it(r, T) } Pt.emailLinkSignInCallback = zg; function Ic(r, l, h, v, T, S) { ge.call(this, Wl, { email: r, ga: l }, S, "emailLinkSignInLinking", { F: v, D: T }), this.i = h } p(Ic, ge), Ic.prototype.v = function () { this.u(this.i), this.l().focus(), ge.prototype.v.call(this) }, Ic.prototype.o = function () { this.i = null, ge.prototype.o.call(this) }, G(Ic.prototype, { l: Vn, u: ni }); function c0(r, l, h, v) { var T = vn(l); Fg(r, l, h, function () { Yt(r, T, h) }, function (S) { if (!S.name || S.name != "cancel") { var D = Vt(S); S && S.code == "auth/network-request-failed" ? l.a(D) : (l.m(), Yt(r, T, h, D)) } }, v) } Pt.emailLinkSignInLinking = function (r, l, h) { var v = Ts(Ke(r)); if (Zr(Ke(r)), v) { var T = v.a.providerId, S = new Ic(h, sc(ye(r), T), function () { c0(r, S, h, v) }, xn(ye(r)), nn(ye(r))); S.render(l), Ze(r, S) } else Yt(r, l) }; function iu(r, l, h, v, T, S) { ge.call(this, so, { email: r }, S, "emailLinkSignInSent", { F: v, D: T }), this.u = l, this.i = h } p(iu, ge), iu.prototype.v = function () { var r = this; cn(this, this.l(), function () { r.i() }), cn(this, vt(this, "firebaseui-id-trouble-getting-email-link"), function () { r.u() }), this.l().focus(), ge.prototype.v.call(this) }, iu.prototype.o = function () { this.i = this.u = null, ge.prototype.o.call(this) }, G(iu.prototype, { l: dn }), Pt.emailLinkSignInSent = function (r, l, h, v, T) { var S = new iu(h, function () { S.m(), Me("emailNotReceived", r, l, h, v, T) }, function () { S.m(), v() }, xn(ye(r)), nn(ye(r))); S.render(l), Ze(r, S) }; function ru(r, l, h, v, T, S, D) { ge.call(this, Ig, { jc: r, Qb: l }, D, "emailMismatch", { F: T, D: S }), this.l = h, this.i = v } p(ru, ge), ru.prototype.v = function () { this.w(this.l, this.i), this.u().focus(), ge.prototype.v.call(this) }, ru.prototype.o = function () { this.i = null, ge.prototype.o.call(this) }, G(ru.prototype, { u: Vn, B: dn, w: ni }), Pt.emailMismatch = function (r, l, h) { var v = Ts(Ke(r)); if (v) { var T = new ru(h.user.email, v.g, function () { var S = T; Zr(Ke(r)), Go(r, S, h) }, function () { var S = h.credential.providerId, D = vn(T); T.m(), v.a ? Me("federatedLinking", r, D, v.g, S) : Me("federatedSignIn", r, D, v.g, S) }, xn(ye(r)), nn(ye(r))); T.render(l), Ze(r, T) } else Yt(r, l) }; function kc(r, l, h, v, T) { ge.call(this, _n, void 0, T, "emailNotReceived", { F: h, D: v }), this.l = r, this.i = l } p(kc, ge), kc.prototype.v = function () { var r = this; cn(this, this.u(), function () { r.i() }), cn(this, this.Da(), function () { r.l() }), this.u().focus(), ge.prototype.v.call(this) }, kc.prototype.Da = function () { return vt(this, "firebaseui-id-resend-email-link") }, kc.prototype.o = function () { this.i = this.l = null, ge.prototype.o.call(this) }, G(kc.prototype, { u: dn }), Pt.emailNotReceived = function (r, l, h, v, T) { var S = new kc(function () { Fg(r, S, h, v, function (D) { D = Vt(D), S.a(D) }, T) }, function () { S.m(), Yt(r, l, h) }, xn(ye(r)), nn(ye(r))); S.render(l), Ze(r, S) }; function su(r, l, h, v, T, S) { ge.call(this, Yi, { email: r, ga: l }, S, "federatedLinking", { F: v, D: T }), this.i = h } p(su, ge), su.prototype.v = function () { this.u(this.i), this.l().focus(), ge.prototype.v.call(this) }, su.prototype.o = function () { this.i = null, ge.prototype.o.call(this) }, G(su.prototype, { l: Vn, u: ni }), Pt.federatedLinking = function (r, l, h, v, T) { var S = Ts(Ke(r)); if (S && S.a) { var D = new su(h, sc(ye(r), v), function () { Jl(r, D, v, h) }, xn(ye(r)), nn(ye(r))); D.render(l), Ze(r, D), T && D.a(T) } else Yt(r, l) }, Pt.federatedRedirect = function (r, l, h) { var v = new Hn; v.render(l), Ze(r, v), l = rc(ye(r))[0], Jl(r, v, l, h) }, Pt.federatedSignIn = function (r, l, h, v, T) { var S = new su(h, sc(ye(r), v), function () { Jl(r, S, v, h) }, xn(ye(r)), nn(ye(r))); S.render(l), Ze(r, S), T && S.a(T) }; function yw(r, l, h, v) { var T = l.u(); T ? it(r, l.I(O(r.Xb, r), [h, T], function (S) { return S = S.user.linkWithCredential(v).then(function (D) { return Go(r, l, { user: D.user, credential: v, operationType: D.operationType, additionalUserInfo: D.additionalUserInfo }) }), it(r, S), S }, function (S) { if (!S.name || S.name != "cancel") switch (S.code) { case "auth/wrong-password": gn(l.i(), !1), _t(l.B(), Vt(S)); break; case "auth/too-many-requests": l.a(Vt(S)); break; default: Ni("signInWithEmailAndPassword: " + S.message, void 0), l.a(Vt(S)) } })) : l.i().focus() } Pt.passwordLinking = function (r, l, h) { var v = Ts(Ke(r)); Zr(Ke(r)); var T = v && v.a; if (T) { var S = new wc(h, function () { yw(r, S, h, T) }, function () { S.m(), Me("passwordRecovery", r, l, h) }, xn(ye(r)), nn(ye(r))); S.render(l), Ze(r, S) } else Yt(r, l) }; function Pc(r, l, h, v, T, S) { ge.call(this, Ut, { email: h, Ta: !!l }, S, "passwordRecovery", { F: v, D: T }), this.l = r, this.u = l } p(Pc, ge), Pc.prototype.v = function () { this.B(), this.H(this.l, this.u), ei(this.i()) || this.i().focus(), Ct(this, this.i(), this.l), ge.prototype.v.call(this) }, Pc.prototype.o = function () { this.u = this.l = null, ge.prototype.o.call(this) }, G(Pc.prototype, { i: zo, w: Ho, B: Ql, M: Cs, j: qo, U: Vn, P: dn, H: ni }); function bw(r, l) { var h = l.j(); if (h) { var v = vn(l); it(r, l.I(O(dt(r).sendPasswordResetEmail, dt(r)), [h], function () { l.m(); var T = new oh(h, function () { T.m(), Yt(r, v) }, xn(ye(r)), nn(ye(r))); T.render(v), Ze(r, T) }, function (T) { gn(l.i(), !1), _t(l.w(), Vt(T)) })) } else l.i().focus() } Pt.passwordRecovery = function (r, l, h, v, T) { var S = new Pc(function () { bw(r, S) }, v ? void 0 : function () { S.m(), Yt(r, l) }, h, xn(ye(r)), nn(ye(r))); S.render(l), Ze(r, S), T && S.a(T) }, Pt.passwordSignIn = function (r, l, h, v) { var T = new _c(function () { ch(r, T) }, function () { var S = T.M(); T.m(), Me("passwordRecovery", r, l, S) }, h, xn(ye(r)), nn(ye(r)), v); T.render(l), Ze(r, T) }; function qg() { return vt(this, "firebaseui-id-name") } function lo() { return vt(this, "firebaseui-id-name-error") } function Nc(r, l, h, v, T, S, D, W, le) { ge.call(this, Et, { email: v, Tb: r, name: T, Ta: !!h, ia: !!W }, le, "passwordSignUp", { F: S, D }), this.w = l, this.H = h, this.B = r } p(Nc, ge), Nc.prototype.v = function () { this.ea(), this.B && this.Ja(), this.ua(), this.pa(this.w, this.H), this.B ? (eh(this, this.i(), this.u()), eh(this, this.u(), this.l())) : eh(this, this.i(), this.l()), this.w && Ct(this, this.l(), this.w), ei(this.i()) ? this.B && !ei(this.u()) ? this.u().focus() : this.l().focus() : this.i().focus(), ge.prototype.v.call(this) }, Nc.prototype.o = function () { this.H = this.w = null, ge.prototype.o.call(this) }, G(Nc.prototype, { i: zo, U: Ho, ea: Ql, jb: Cs, j: qo, u: qg, Bc: lo, Ja: function () { var r = qg.call(this), l = lo.call(this); Do(this, r, function () { vc(l) && (gn(r, !0), fr(l)) }) }, M: function () { var r = qg.call(this), l = lo.call(this), h = ei(r); return h = !/^[\s\xa0]*$/.test(h == null ? "" : String(h)), gn(r, h), h ? (fr(l), l = !0) : (_t(l, bt("Enter your account name").toString()), l = !1), l ? It(ei(r)) : null }, l: Ha, ba: Cc, lb: Ac, ua: xc, P: fh, Nb: Vn, Mb: dn, pa: ni }); function Gg(r, l) { var h = cg(ye(r)), v = l.j(), T = null; h && (T = l.M()); var S = l.P(); if (v) { if (h) if (T) T = qe(T); else { l.u().focus(); return } if (S) { var D = He.auth.EmailAuthProvider.credential(v, S); it(r, l.I(O(r.Yb, r), [v, S], function (W) { var le = { user: W.user, credential: D, operationType: W.operationType, additionalUserInfo: W.additionalUserInfo }; return h ? (W = W.user.updateProfile({ displayName: T }).then(function () { return Go(r, l, le) }), it(r, W), W) : Go(r, l, le) }, function (W) { if (!W.name || W.name != "cancel") { var le = lh(W); switch (W = Vt(le), le.code) { case "auth/email-already-in-use": return ww(r, l, v, le); case "auth/too-many-requests": W = bt("Too many account requests are coming from your IP address. Try again in a few minutes.").toString(); case "auth/operation-not-allowed": case "auth/weak-password": gn(l.l(), !1), _t(l.ba(), W); break; case "auth/admin-restricted-operation": Pa(ye(r)) ? (W = vn(l), l.m(), Me("handleUnauthorizedUser", r, W, v, He.auth.EmailAuthProvider.PROVIDER_ID)) : l.a(W); break; default: le = "setAccountInfo: " + By(le), Ni(le, void 0), l.a(W) } } })) } else l.l().focus() } else l.i().focus() } function ww(r, l, h, v) { function T() { var D = Vt(v); gn(l.i(), !1), _t(l.U(), D), l.i().focus() } var S = dt(r).fetchSignInMethodsForEmail(h).then(function (D) { D.length ? T() : (D = vn(l), l.m(), Me("passwordRecovery", r, D, h, !1, te().toString())) }, function () { T() }); return it(r, S), S } Pt.passwordSignUp = function (r, l, h, v, T, S) { function D() { W.m(), Yt(r, l) } var W = new Nc(cg(ye(r)), function () { Gg(r, W) }, T ? void 0 : D, h, v, xn(ye(r)), nn(ye(r)), S); W.render(l), Ze(r, W) }; function Kg() { return vt(this, "firebaseui-id-phone-confirmation-code") } function yp() { return vt(this, "firebaseui-id-phone-confirmation-code-error") } function d0() { return vt(this, "firebaseui-id-resend-countdown") } function Oi(r, l, h, v, T, S, D, W, le) { ge.call(this, Pg, { phoneNumber: T }, le, "phoneSignInFinish", { F: D, D: W }), this.jb = S, this.i = new Kd(1e3), this.B = S, this.P = r, this.l = l, this.H = h, this.M = v } p(Oi, ge), Oi.prototype.v = function () { var r = this; this.U(this.jb), bn(this.i, "tick", this.w, !1, this), this.i.start(), cn(this, vt(this, "firebaseui-id-change-phone-number-link"), function () { r.P() }), cn(this, this.Da(), function () { r.M() }), this.Ja(this.l), this.ea(this.l, this.H), this.u().focus(), ge.prototype.v.call(this) }, Oi.prototype.o = function () { this.M = this.H = this.l = this.P = null, cc(this.i), ya(this.i, "tick", this.w), this.i = null, ge.prototype.o.call(this) }, Oi.prototype.w = function () { --this.B, 0 < this.B ? this.U(this.B) : (cc(this.i), ya(this.i, "tick", this.w), this.ua(), this.lb()) }, G(Oi.prototype, { u: Kg, pa: yp, Ja: function (r) { var l = Kg.call(this), h = yp.call(this); Do(this, l, function () { vc(h) && (gn(l, !0), fr(h)) }), r && gc(this, l, function () { r() }) }, ba: function () { var r = It(ei(Kg.call(this)) || ""); return /^\d{6}$/.test(r) ? r : null }, Fb: d0, U: function (r) { wo(d0.call(this), bt("Resend code in " + ((9 < r ? "0:" : "0:0") + r)).toString()) }, ua: function () { fr(this.Fb()) }, Da: function () { return vt(this, "firebaseui-id-resend-link") }, lb: function () { _t(this.Da()) }, Nb: Vn, Mb: dn, ea: ni }); function $g(r, l, h, v) { function T(D) { l.u().focus(), gn(l.u(), !1), _t(l.pa(), D) } var S = l.ba(); S ? (l.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon", bt("Verifying...").toString()), it(r, l.I(O(v.confirm, v), [S], function (D) { l.h(), l.$("firebaseui-icon-done", bt("Verified!").toString()); var W = setTimeout(function () { l.h(), l.m(); var le = { user: jr(r).currentUser, credential: null, operationType: D.operationType, additionalUserInfo: D.additionalUserInfo }; Go(r, l, le, !0) }, 1e3); it(r, function () { l && l.h(), clearTimeout(W) }) }, function (D) { if (D.name && D.name == "cancel") l.h(); else { var W = lh(D); switch (D = Vt(W), W.code) { case "auth/credential-already-in-use": l.h(); break; case "auth/code-expired": W = vn(l), l.h(), l.m(), Me("phoneSignInStart", r, W, h, D); break; case "auth/missing-verification-code": case "auth/invalid-verification-code": l.h(), T(D); break; default: l.h(), l.a(D) } } }))) : T(bt("Wrong code. Try again.").toString()) } Pt.phoneSignInFinish = function (r, l, h, v, T, S) { var D = new Oi(function () { D.m(), Me("phoneSignInStart", r, l, h) }, function () { $g(r, D, h, T) }, function () { D.m(), Yt(r, l) }, function () { D.m(), Me("phoneSignInStart", r, l, h) }, og(h), v, xn(ye(r)), nn(ye(r))); D.render(l), Ze(r, D), S && D.a(S) }; var h0 = !pt && !(lt("Safari") && !(ua() || lt("Coast") || lt("Opera") || lt("Edge") || lt("Firefox") || lt("FxiOS") || lt("Silk") || lt("Android"))); function ph(r, l) { return /-[a-z]/.test(l) ? null : h0 && r.dataset ? !lt("Android") || ua() || lt("Firefox") || lt("FxiOS") || lt("Opera") || lt("Silk") || l in r.dataset ? (r = r.dataset[l], r === void 0 ? null : r) : null : r.getAttribute("data-" + String(l).replace(/([A-Z])/g, "-$1").toLowerCase()) } function mh(r, l, h) { var v = this; r = ps(Lo, { items: r }, null, this.s), ql.call(this, r, !0, !0), h && (h = ts(r, h)) && (h.focus(), ja(h, r)), cn(this, r, function (T) { (T = (T = fd(T.target, "firebaseui-id-list-box-dialog-button")) && ph(T, "listboxid")) && (Fa.call(v), l(T)) }) } function ts(r, l) { r = (r || document).getElementsByTagName("BUTTON"); for (var h = 0; h < r.length; h++)if (ph(r[h], "listboxid") === l) return r[h]; return null } function qa() { return vt(this, "firebaseui-id-phone-number") } function gh() { return vt(this, "firebaseui-id-country-selector") } function xs() { return vt(this, "firebaseui-id-phone-number-error") } function _w(r, l) { var h = r.a, v = Wg("1-US-0", h), T = null; if (l && Wg(l, h) ? T = l : v ? T = "1-US-0" : T = 0 < h.length ? h[0].c : null, !T) throw Error("No available default country"); wp.call(this, T, r) } function Wg(r, l) { return r = ka(r), !(!r || !ze(l, r)) } function Mc(r) { return r.map(function (l) { return { id: l.c, Ma: "firebaseui-flag " + bp(l), label: l.name + " " + ("‎+" + l.b) } }) } function bp(r) { return "firebaseui-flag-" + r.f } function Ew(r) { var l = this; mh.call(this, Mc(r.a), function (h) { wp.call(l, h, r, !0), l.O().focus() }, this.Ba) } function wp(r, l, h) { var v = ka(r); v && (h && (h = It(ei(qa.call(this)) || ""), l = Ld(l, h), l.length && l[0].b != v.b && (h = "+" + v.b + h.substr(l[0].b.length + 1), fg(qa.call(this), h))), l = ka(this.Ba), this.Ba = r, r = vt(this, "firebaseui-id-country-selector-flag"), l && As(r, bp(l)), rn(r, bp(v)), wo(vt(this, "firebaseui-id-country-selector-code"), "‎+" + v.b)) } function vh(r, l, h, v, T, S, D, W, le, Se) { ge.call(this, kg, { Gb: l, Aa: le || null, Va: !!h, ia: !!S }, Se, "phoneSignInStart", { F: v, D: T }), this.H = W || null, this.M = l, this.l = r, this.w = h || null, this.pa = D || null } p(vh, ge), vh.prototype.v = function () { this.ea(this.pa, this.H), this.P(this.l, this.w || void 0), this.M || eh(this, this.O(), this.i()), Ct(this, this.i(), this.l), this.O().focus(), tu(this.O(), (this.O().value || "").length), ge.prototype.v.call(this) }, vh.prototype.o = function () { this.w = this.l = null, ge.prototype.o.call(this) }, G(vh.prototype, { Cb: Gl, O: qa, B: xs, ea: function (r, l, h) { var v = this, T = qa.call(this), S = gh.call(this), D = xs.call(this), W = r || Vl, le = W.a; if (le.length == 0) throw Error("No available countries provided."); _w.call(v, W, l), cn(this, S, function () { Ew.call(v, W) }), Do(this, T, function () { vc(D) && (gn(T, !0), fr(D)); var Se = It(ei(T) || ""), Le = ka(this.Ba), kt = Ld(W, Se); Se = Wg("1-US-0", le), kt.length && kt[0].b != Le.b && (Le = kt[0], wp.call(v, Le.b == "1" && Se ? "1-US-0" : Le.c, W)) }), h && gc(this, T, function () { h() }) }, U: function (r) { var l = It(ei(qa.call(this)) || ""); r = r || Vl; var h = r.a, v = Ld(Vl, l); if (v.length && !ze(h, v[0])) throw fg(qa.call(this)), qa.call(this).focus(), _t(xs.call(this), bt("The country code provided is not supported.").toString()), Error("The country code provided is not supported."); return h = ka(this.Ba), v.length && v[0].b != h.b && wp.call(this, v[0].c, r), v.length && (l = l.substr(v[0].b.length + 1)), l ? new rg(this.Ba, l) : null }, Ja: gh, ba: function () { return vt(this, "firebaseui-recaptcha-container") }, u: function () { return vt(this, "firebaseui-id-recaptcha-error") }, i: Vn, ua: dn, P: ni }); function f0(r, l, h, v) { try { var T = l.U(qd) } catch { return } T ? Ma ? (l.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon", bt("Verifying...").toString()), it(r, l.I(O(r.cc, r), [og(T), h], function (S) { var D = vn(l); l.$("firebaseui-icon-done", bt("Code sent!").toString()); var W = setTimeout(function () { l.h(), l.m(), Me("phoneSignInFinish", r, D, T, 15, S) }, 1e3); it(r, function () { l && l.h(), clearTimeout(W) }) }, function (S) { if (l.h(), !S.name || S.name != "cancel") { grecaptcha.reset(dg), Ma = null; var D = S && S.message || ""; if (S.code) switch (S.code) { case "auth/too-many-requests": D = bt("This phone number has been used too many times").toString(); break; case "auth/invalid-phone-number": case "auth/missing-phone-number": l.O().focus(), _t(l.B(), A().toString()); return; case "auth/admin-restricted-operation": if (Pa(ye(r))) { S = vn(l), l.m(), Me("handleUnauthorizedUser", r, S, og(T), He.auth.PhoneAuthProvider.PROVIDER_ID); return } D = Vt(S); break; default: D = Vt(S) }l.a(D) } }))) : Fl ? _t(l.u(), bt("Solve the reCAPTCHA").toString()) : !Fl && v && l.i().click() : (l.O().focus(), _t(l.B(), A().toString())) } Pt.phoneSignInStart = function (r, l, h, v) { var T = qy(ye(r)) || {}; Ma = null, Fl = !(T && T.size === "invisible"); var S = jg(r), D = Bd(ye(r)), W = S ? $f(ye(r)) : null; D = h && h.a || D && D.c || null, h = h && h.Aa || W, (W = lc(ye(r))) && ig(W), qd = W ? new tg(lc(ye(r))) : Vl; var le = new vh(function (Le) { f0(r, le, Se, !(!Le || !Le.keyCode)) }, Fl, S ? null : function () { Se.clear(), le.m(), Yt(r, l) }, xn(ye(r)), nn(ye(r)), S, qd, D, h); le.render(l), Ze(r, le), v && le.a(v), T.callback = function (Le) { le.u() && fr(le.u()), Ma = Le, Fl || f0(r, le, Se) }, T["expired-callback"] = function () { Ma = null }; var Se = new He.auth.RecaptchaVerifier(Fl ? le.ba() : le.i(), T, jr(r).app); it(r, le.I(O(Se.render, Se), [], function (Le) { dg = Le }, function (Le) { Le.name && Le.name == "cancel" || (Le = Vt(Le), le.m(), Yt(r, l, void 0, Le)) })) }, Pt.prefilledEmailSignIn = function (r, l, h) { var v = new Hn; v.render(l), Ze(r, v), it(r, v.I(O(dt(r).fetchSignInMethodsForEmail, dt(r)), [h], function (T) { v.m(); var S = !(!hp(r) || !_h(r)); Bg(r, l, T, h, void 0, S) }, function (T) { T = Vt(T), v.m(), Me("signIn", r, l, h, T) })) }; function yh(r, l, h, v, T) { ge.call(this, vr, { Sb: l }, T, "providerSignIn", { F: h, D: v }), this.i = r } p(yh, ge), yh.prototype.v = function () { this.l(this.i), ge.prototype.v.call(this) }, yh.prototype.o = function () { this.i = null, ge.prototype.o.call(this) }, G(yh.prototype, { l: function (r) { function l(D) { r(D) } for (var h = this.g ? hs("firebaseui-id-idp-button", this.g || this.s.a) : [], v = 0; v < h.length; v++) { var T = h[v], S = ph(T, "providerId"); cn(this, T, q(l, S)) } } }), Pt.providerSignIn = function (r, l, h, v) { var T = new yh(function (S) { S == He.auth.EmailAuthProvider.PROVIDER_ID ? (T.m(), dh(r, l, v)) : S == He.auth.PhoneAuthProvider.PROVIDER_ID ? (T.m(), Me("phoneSignInStart", r, l)) : S == "anonymous" ? Zl(r, T) : Jl(r, T, S, v), Tt(r), r.l.cancel() }, oc(ye(r)), xn(ye(r)), nn(ye(r))); T.render(l), Ze(r, T), h && T.a(h), Th(r) }, Pt.sendEmailLinkForSignIn = function (r, l, h, v) { var T = new Tc; T.render(l), Ze(r, T), Fg(r, T, h, v, function (S) { T.m(), S && S.code == "auth/admin-restricted-operation" && Pa(ye(r)) ? Me("handleUnauthorizedUser", r, l, h, He.auth.EmailAuthProvider.PROVIDER_ID) : (S = Vt(S), Me("signIn", r, l, h, S)) }) }; function bh(r, l, h, v, T, S, D) { ge.call(this, Qt, { email: h, Va: !!l, ia: !!S }, D, "signIn", { F: v, D: T }), this.i = r, this.u = l } p(bh, ge), bh.prototype.v = function () { this.w(this.i), this.B(this.i, this.u || void 0), this.l().focus(), tu(this.l(), (this.l().value || "").length), ge.prototype.v.call(this) }, bh.prototype.o = function () { this.u = this.i = null, ge.prototype.o.call(this) }, G(bh.prototype, { l: zo, M: Ho, w: Ql, H: Cs, j: qo, U: Vn, P: dn, B: ni }), Pt.signIn = function (r, l, h, v) { var T = hp(r), S = new bh(function () { var D = S, W = D.j() || ""; W && Ug(r, D, W) }, T ? null : function () { S.m(), Yt(r, l, h) }, h, xn(ye(r)), nn(ye(r)), T); S.render(l), Ze(r, S), v && S.a(v) }; function wh(r, l, h, v, T, S, D) { ge.call(this, ip, { kc: r, yb: h, Eb: !!v }, D, "unauthorizedUser", { F: T, D: S }), this.l = l, this.i = v } p(wh, ge), wh.prototype.v = function () { var r = this, l = vt(this, "firebaseui-id-unauthorized-user-help-link"); this.i && l && cn(this, l, function () { r.i() }), cn(this, this.u(), function () { r.l() }), this.u().focus(), ge.prototype.v.call(this) }, wh.prototype.o = function () { this.i = this.l = null, ge.prototype.o.call(this) }, G(wh.prototype, { u: dn }), Pt.handleUnauthorizedUser = function (r, l, h, v) { function T() { Yt(r, l) } v === He.auth.EmailAuthProvider.PROVIDER_ID ? T = function () { dh(r, l) } : v === He.auth.PhoneAuthProvider.PROVIDER_ID && (T = function () { Me("phoneSignInStart", r, l) }); var S = null, D = null; v === He.auth.EmailAuthProvider.PROVIDER_ID && Ud(ye(r)) ? (S = Ky(ye(r)), D = pw(ye(r))) : Pa(ye(r)) && (S = Kf(ye(r)), D = Gy(ye(r))); var W = new wh(h, function () { W.m(), T() }, S, D, xn(ye(r)), nn(ye(r))); W.render(l), Ze(r, W) }; function Dc(r, l, h, v, T, S) { ge.call(this, rp, { email: r }, S, "unsupportedProvider", { F: v, D: T }), this.l = l, this.i = h } p(Dc, ge), Dc.prototype.v = function () { this.w(this.l, this.i), this.u().focus(), ge.prototype.v.call(this) }, Dc.prototype.o = function () { this.i = this.l = null, ge.prototype.o.call(this) }, G(Dc.prototype, { u: Vn, B: dn, w: ni }), Pt.unsupportedProvider = function (r, l, h) { var v = new Dc(h, function () { v.m(), Me("passwordRecovery", r, l, h) }, function () { v.m(), Yt(r, l, h) }, xn(ye(r)), nn(ye(r))); v.render(l), Ze(r, v) }; function Xi(r, l) { this.$ = !1; var h = Yg(l); if (Lc[h]) throw Error('An AuthUI instance already exists for the key "' + h + '"'); Lc[h] = this, this.a = r, this.u = null, this.Y = !1, Oc(this.a), this.h = He.initializeApp({ apiKey: r.app.options.apiKey, authDomain: r.app.options.authDomain }, r.app.name + "-firebaseui-temp").auth(), (r = r.emulatorConfig) && (h = r.port, this.h.useEmulator(r.protocol + "://" + r.host + (h === null ? "" : ":" + h), r.options)), Oc(this.h), this.h.setPersistence && this.h.setPersistence(He.auth.Auth.Persistence.SESSION), this.oa = l, this.ca = new lg, this.g = this.T = this.i = this.J = this.O = null, this.s = [], this.Z = !1, this.l = di.Xa(), this.j = this.C = null, this.da = this.A = !1 } function Oc(r) { r && r.INTERNAL && r.INTERNAL.logFramework && r.INTERNAL.logFramework("FirebaseUI-web") } var Lc = {}; function Yg(r) { return r || "[DEFAULT]" } function ou(r) { return Tt(r), r.i || (r.i = uo(r, function (l) { return l && !Ts(Ke(r)) ? un(jr(r).getRedirectResult().then(function (h) { return h }, function (h) { if (h && h.code == "auth/email-already-in-use" && h.email && h.credential) throw h; return Rs(r, h) })) : un(dt(r).getRedirectResult().then(function (h) { return Vd(ye(r)) && !h.user && r.j && !r.j.isAnonymous ? jr(r).getRedirectResult() : h })) })), r.i } function Ze(r, l) { Tt(r), r.g = l } var au = null; function dt(r) { return Tt(r), r.h } function jr(r) { return Tt(r), r.a } function Ke(r) { return Tt(r), r.oa } function _h(r) { return Tt(r), r.O ? r.O.emailHint : void 0 } n = Xi.prototype, n.nb = function () { return Tt(this), !!Bf(Ke(this)) || Xg(jt()) }; function Xg(r) { return r = new Ri(r), (r.a.a.get(an.ub) || null) === "signIn" && !!r.a.a.get(an.$a) } n.start = function (r, l) { Qg(this, r, l) }; function Qg(r, l, h, v) { Tt(r), typeof r.a.languageCode < "u" && (r.u = r.a.languageCode); var T = "en".replace(/_/g, "-"); r.a.languageCode = T, r.h.languageCode = T, r.Y = !0, typeof r.a.tenantId < "u" && (r.h.tenantId = r.a.tenantId), r.ib(h), r.O = v || null; var S = E.document; r.C ? r.C.then(function () { S.readyState == "complete" ? _p(r, l) : ju(window, "load", function () { _p(r, l) }) }) : S.readyState == "complete" ? _p(r, l) : ju(window, "load", function () { _p(r, l) }) } function _p(r, l) { var h = ci(l, "Could not find the FirebaseUI widget element on the page."); if (h.setAttribute("lang", "en".replace(/_/g, "-")), au) { var v = au; Tt(v), Ts(Ke(v)) && qi("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."), au.reset() } if (au = r, r.T = h, Ep(r, h), Ju(new Es) && Ju(new Zu)) { l = ci(l, "Could not find the FirebaseUI widget element on the page."), h = jt(), v = zf(ye(r).a, "queryParameterForSignInSuccessUrl"), h = (h = oa(h, v)) ? us(fa(h)).toString() : null; e: { v = jt(); var T = ug(ye(r)); v = oa(v, T) || ""; for (S in Xf) if (Xf[S].toLowerCase() == v.toLowerCase()) { var S = Xf[S]; break e } S = "callback" } switch (S) { case "callback": h && (S = Ke(r), Ll(ec, h, S)), r.nb() ? Me("callback", r, l) : Yt(r, l, _h(r)); break; case "resetPassword": Me("passwordReset", r, l, Ec(), fp()); break; case "recoverEmail": Me("emailChangeRevocation", r, l, Ec()); break; case "revertSecondFactorAddition": Me("revertSecondFactorAddition", r, l, Ec()); break; case "verifyEmail": Me("emailVerification", r, l, Ec(), fp()); break; case "verifyAndChangeEmail": Me("verifyAndChangeEmail", r, l, Ec(), fp()); break; case "signIn": Me("emailLinkSignInCallback", r, l, jt()), Jg(); break; case "select": h && (S = Ke(r), Ll(ec, h, S)), Yt(r, l); break; default: throw Error("Unhandled widget operation.") }l = ye(r), (l = Bl(l).uiShown || null) && l() } else l = ci(l, "Could not find the FirebaseUI widget element on the page."), S = new i0(bt("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()), S.render(l), Ze(r, S); l = r.g && r.g.Ga == "blank" && Wf(ye(r)), Bf(Ke(r)) && !l && (l = Bf(Ke(r)), Eh(r, l.a), hr(Ia, Ke(r))) } function uo(r, l) { if (r.A) return l(Vc(r)); if (it(r, function () { r.A = !1 }), Vd(ye(r))) { var h = new wn(function (v) { it(r, r.a.onAuthStateChanged(function (T) { r.j = T, r.A || (r.A = !0, v(l(Vc(r)))) })) }); return it(r, h), h } return r.A = !0, l(null) } function Vc(r) { return Tt(r), Vd(ye(r)) && r.j && r.j.isAnonymous ? r.j : null } function it(r, l) { if (Tt(r), l) { r.s.push(l); var h = function () { Si(r.s, function (v) { return v == l }) }; typeof l != "function" && l.then(h, h) } } n.Db = function () { Tt(this), this.Z = !0 }; function Tw(r) { Tt(r); var l; return (l = r.Z) || (r = ye(r), r = ac(r, He.auth.GoogleAuthProvider.PROVIDER_ID), l = !(!r || r.prompt !== "select_account")), l } function p0(r) { typeof r.a.languageCode < "u" && r.Y && (r.Y = !1, r.a.languageCode = r.u) } function Eh(r, l) { r.a.tenantId = l, r.h.tenantId = l } n.reset = function () { Tt(this); var r = this; this.T && this.T.removeAttribute("lang"), this.J && Py(this.J), p0(this), this.O = null, Jg(), hr(Ia, Ke(this)), Tt(this), this.l.cancel(), this.i = un({ user: null, credential: null }), au == this && (au = null), this.T = null; for (var l = 0; l < this.s.length; l++)typeof this.s[l] == "function" ? this.s[l]() : this.s[l].cancel && this.s[l].cancel(); this.s = [], Zr(Ke(this)), this.g && (this.g.m(), this.g = null), this.L = null, this.h && (this.C = $o(this).then(function () { r.C = null }, function () { r.C = null })) }; function Ep(r, l) { r.L = null, r.J = new bf(l), r.J.register(), bn(r.J, "pageEnter", function (h) { if (h = h && h.pageId, r.L != h) { var v = ye(r); (v = Bl(v).uiChanged || null) && v(r.L, h), r.L = h } }) } n.ib = function (r) { Tt(this); var l = this.ca, h; for (h in r) try { tc(l.a, h, r[h]) } catch { Ni('Invalid config: "' + h + '"', void 0) } Ru && tc(l.a, "popupMode", !1), lc(l), !this.da && Ss(ye(this)) && (qi("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."), this.da = !0) }; function ye(r) { return Tt(r), r.ca } n.Wb = function () { Tt(this); var r = ye(this), l = zf(r.a, "widgetUrl"); r = ug(r); for (var h = l.search(Au), v = 0, T, S = []; 0 <= (T = sa(l, v, r, h));)S.push(l.substring(v, T)), v = Math.min(l.indexOf("&", T) + 1 || h, h); S.push(l.substr(v)), l = S.join("").replace(ad, "$1"), h = "=" + encodeURIComponent("select"), (r += h) ? (h = l.indexOf("#"), 0 > h && (h = l.length), v = l.indexOf("?"), 0 > v || v > h ? (v = h, T = "") : T = l.substring(v + 1, h), l = [l.substr(0, v), T, l.substr(h)], h = l[1], l[1] = r ? h ? h + "&" + r : r : h, h = l[0] + (l[1] ? "?" + l[1] : "") + l[2]) : h = l, ye(this).a.get("popupMode") ? (r = (window.screen.availHeight - 600) / 2, l = (window.screen.availWidth - 500) / 2, h = h || "about:blank", r = { width: 500, height: 600, top: 0 < r ? r : 0, left: 0 < l ? l : 0, location: !0, resizable: !0, statusbar: !0, toolbar: !1 }, r.target = r.target || h.target || "google_popup", r.width = r.width || 690, r.height = r.height || 500, (r = Vm(h, r)) && r.focus()) : yi(window.location, h) }; function Tt(r) { if (r.$) throw Error("AuthUI instance is deleted!") } n.Wa = function () { var r = this; return Tt(this), this.h.app.delete().then(function () { var l = Yg(Ke(r)); delete Lc[l], r.reset(), r.$ = !0 }) }; function Th(r) { Tt(r); try { Rd(r.l, Gf(ye(r)), Tw(r)).then(function (l) { return r.g ? oo(r, r.g, l) : !1 }) } catch { } } n.Ib = function (r, l) { Tt(this); var h = this, v = Al(); if (!_i(ye(this))) return Xr(Error("Email link sign-in should be enabled to trigger email sending.")); var T = Na(ye(this)), S = new Ri(T.url); return Vs(S, v), l && l.a && (fw(v, l, Ke(this)), Cu(S, l.a.providerId)), zi(S, eo(ye(this))), uo(this, function (D) { return D && ((D = D.uid) ? S.a.a.set(an.Pa, D) : rr(S.a.a, an.Pa)), T.url = S.toString(), dt(h).sendSignInLinkToEmail(r, T) }).then(function () { var D = Ke(h), W = {}; W.email = r, Ll(Ml, Of(v, JSON.stringify(W)), D) }, function (D) { throw hr(Dl, Ke(h)), hr(Ml, Ke(h)), D }) }; function Sw(r, l) { var h = Cn(new Ri(l)); return h ? (l = new wn(function (v, T) { var S = jr(r).onAuthStateChanged(function (D) { S(), D && D.isAnonymous && D.uid === h ? v(D) : D && D.isAnonymous && D.uid !== h ? T(Error("anonymous-user-mismatch")) : T(Error("anonymous-user-not-found")) }); it(r, S) }), it(r, l), l) : un(null) } function m0(r, l, h, v, T) { Tt(r); var S = T || null, D = He.auth.EmailAuthProvider.credentialWithLink(h, v); return h = S ? dt(r).signInWithEmailLink(h, v).then(function (W) { return W.user.linkWithCredential(S) }).then(function () { return $o(r) }).then(function () { return Rs(r, { code: "auth/email-already-in-use" }, S) }) : dt(r).fetchSignInMethodsForEmail(h).then(function (W) { return W.length ? Rs(r, { code: "auth/email-already-in-use" }, D) : l.linkWithCredential(D) }), it(r, h), h } function g0(r, l, h, v) { Tt(r); var T = v || null, S; return l = dt(r).signInWithEmailLink(l, h).then(function (D) { if (S = { user: D.user, credential: null, operationType: D.operationType, additionalUserInfo: D.additionalUserInfo }, T) return D.user.linkWithCredential(T).then(function (W) { S = { user: W.user, credential: T, operationType: S.operationType, additionalUserInfo: W.additionalUserInfo } }) }).then(function () { $o(r) }).then(function () { return jr(r).updateCurrentUser(S.user) }).then(function () { return S.user = jr(r).currentUser, S }), it(r, l), l } function Jg() { var r = jt(); if (Xg(r)) { r = new Ri(r); for (var l in an) an.hasOwnProperty(l) && rr(r.a.a, an[l]); l = { state: "signIn", mode: "emailLink", operation: "clear" }; var h = E.document.title; E.history && E.history.replaceState && E.history.replaceState(l, h, r.toString()) } } n.bc = function (r, l) { Tt(this); var h = this; return dt(this).signInWithEmailAndPassword(r, l).then(function (v) { return uo(h, function (T) { return T ? $o(h).then(function () { return Rs(h, { code: "auth/email-already-in-use" }, He.auth.EmailAuthProvider.credential(r, l)) }) : v }) }) }, n.Yb = function (r, l) { Tt(this); var h = this; return uo(this, function (v) { if (v) { var T = He.auth.EmailAuthProvider.credential(r, l); return v.linkWithCredential(T) } return dt(h).createUserWithEmailAndPassword(r, l) }) }, n.ac = function (r) { Tt(this); var l = this; return uo(this, function (h) { return h ? h.linkWithCredential(r).then(function (v) { return v }, function (v) { if (v && v.code == "auth/email-already-in-use" && v.email && v.credential) throw v; return Rs(l, v, r) }) : dt(l).signInWithCredential(r) }) }; function v0(r, l) { return Tt(r), uo(r, function (h) { return h && !Ts(Ke(r)) ? h.linkWithPopup(l).then(function (v) { return v }, function (v) { if (v && v.code == "auth/email-already-in-use" && v.email && v.credential) throw v; return Rs(r, v) }) : dt(r).signInWithPopup(l) }) } n.dc = function (r) { Tt(this); var l = this, h = this.i; return this.i = null, uo(this, function (v) { return v && !Ts(Ke(l)) ? v.linkWithRedirect(r) : dt(l).signInWithRedirect(r) }).then(function () { }, function (v) { throw l.i = h, v }) }, n.cc = function (r, l) { Tt(this); var h = this; return uo(this, function (v) { return v ? v.linkWithPhoneNumber(r, l).then(function (T) { return new Fm(T, function (S) { if (S.code == "auth/credential-already-in-use") return Rs(h, S); throw S }) }) : jr(h).signInWithPhoneNumber(r, l).then(function (T) { return new Fm(T) }) }) }, n.$b = function () { return Tt(this), jr(this).signInAnonymously() }; function Zg(r, l) { return Tt(r), uo(r, function (h) { if (r.j && !r.j.isAnonymous && Vd(ye(r)) && !dt(r).currentUser) return $o(r).then(function () { return l.credential.providerId == "password" && (l.credential = null), l }); if (h) return $o(r).then(function () { return h.linkWithCredential(l.credential) }).then(function (v) { return l.user = v.user, l.credential = v.credential, l.operationType = v.operationType, l.additionalUserInfo = v.additionalUserInfo, l }, function (v) { if (v && v.code == "auth/email-already-in-use" && v.email && v.credential) throw v; return Rs(r, v, l.credential) }); if (!l.user) throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.'); return $o(r).then(function () { return jr(r).updateCurrentUser(l.user) }).then(function () { return l.user = jr(r).currentUser, l.operationType = "signIn", l.credential && l.credential.providerId && l.credential.providerId == "password" && (l.credential = null), l }) }) } n.Xb = function (r, l) { return Tt(this), dt(this).signInWithEmailAndPassword(r, l) }; function $o(r) { return Tt(r), dt(r).signOut() } function Rs(r, l, h) { if (Tt(r), l && l.code && (l.code == "auth/email-already-in-use" || l.code == "auth/credential-already-in-use")) { var v = Fd(ye(r)); return un().then(function () { return v(new mt("anonymous-upgrade-merge-conflict", null, h || l.credential)) }).then(function () { throw r.g && (r.g.m(), r.g = null), l }) } return Xr(l) } function Sh(r, l, h, v) { ge.call(this, ih, void 0, v, "providerMatchByEmail", { F: l, D: h }), this.i = r } p(Sh, ge), Sh.prototype.v = function () { this.u(this.i), this.w(this.i), this.l().focus(), tu(this.l(), (this.l().value || "").length), ge.prototype.v.call(this) }, Sh.prototype.o = function () { this.i = null, ge.prototype.o.call(this) }, G(Sh.prototype, { l: zo, H: Ho, u: Ql, B: Cs, j: qo, M: Vn, w: ni }); function Tp(r, l, h, v, T) { ge.call(this, Fo, { ec: l }, T, "selectTenant", { F: h, D: v }), this.i = r } p(Tp, ge), Tp.prototype.v = function () { ev(this, this.i), ge.prototype.v.call(this) }, Tp.prototype.o = function () { this.i = null, ge.prototype.o.call(this) }; function ev(r, l) { function h(W) { l(W) } for (var v = r.g ? hs("firebaseui-id-tenant-selection-button", r.g || r.s.a) : [], T = 0; T < v.length; T++) { var S = v[T], D = ph(S, "tenantId"); cn(r, S, q(h, D)) } } function Ah(r) { ge.call(this, $l, void 0, r, "spinner") } p(Ah, ge); function Sp(r) { this.a = new Ff, tn(this.a, "authDomain"), tn(this.a, "displayMode", Cp), tn(this.a, "tenants"), tn(this.a, "callbacks"), tn(this.a, "tosUrl"), tn(this.a, "privacyPolicyUrl"); for (var l in r) if (r.hasOwnProperty(l)) try { tc(this.a, l, r[l]) } catch { Ni('Invalid config: "' + l + '"', void 0) } } function tv(r) { r = r.a.get("displayMode"); for (var l in xp) if (xp[l] === r) return xp[l]; return Cp } function Ch(r) { return r.a.get("callbacks") || {} } function Ap(r) { var l = r.a.get("tosUrl") || null; if (r = r.a.get("privacyPolicyUrl") || null, l && !r && qi("Privacy Policy URL is missing, the link will not be displayed."), l && r) { if (typeof l == "function") return l; if (typeof l == "string") return function () { Ea(l) } } return null } function Wo(r) { var l = r.a.get("tosUrl") || null, h = r.a.get("privacyPolicyUrl") || null; if (h && !l && qi("Terms of Service URL is missing, the link will not be displayed."), l && h) { if (typeof h == "function") return h; if (typeof h == "string") return function () { Ea(h) } } return null } function co(r, l) { if (r = r.a.get("tenants"), !r || !r.hasOwnProperty(l) && !r.hasOwnProperty(Ka)) throw Error("Invalid tenant configuration!") } function Yo(r, l, h) { if (r = r.a.get("tenants"), !r) throw Error("Invalid tenant configuration!"); var v = []; if (r = r[l] || r[Ka], !r) return Ni("Invalid tenant configuration: " + (l + " is not configured!"), void 0), v; if (l = r.signInOptions, !l) throw Error("Invalid tenant configuration: signInOptions are invalid!"); return l.forEach(function (T) { if (typeof T == "string") v.push(T); else if (typeof T.provider == "string") { var S = T.hd; S && h ? (S instanceof RegExp ? S : new RegExp("@" + S.replace(".", "\\.") + "$")).test(h) && v.push(T.provider) : v.push(T.provider) } else T = "Invalid tenant configuration: signInOption " + (JSON.stringify(T) + " is invalid!"), Ni(T, void 0) }), v } function xh(r, l, h) { return r = Rh(r, l), (l = r.signInOptions) && h && (l = l.filter(function (v) { return typeof v == "string" ? h.includes(v) : h.includes(v.provider) }), r.signInOptions = l), r } function Rh(r, l) { var h = Ga, v = v === void 0 ? {} : v; return co(r, l), r = r.a.get("tenants"), Ws(r[l] || r[Ka], h, v) } var Ga = ["immediateFederatedRedirect", "privacyPolicyUrl", "signInFlow", "signInOptions", "tosUrl"], Cp = "optionFirst", xp = { pc: Cp, oc: "identifierFirst" }, Ka = "*"; function Is(r, l) { var h = this; this.s = ci(r), this.a = {}, Object.keys(l).forEach(function (v) { h.a[v] = new Sp(l[v]) }), this.ob = this.g = this.A = this.h = this.i = this.j = null, Object.defineProperty(this, "languageCode", { get: function () { return this.ob }, set: function (v) { this.ob = v || null }, enumerable: !1 }) } n = Is.prototype, n.Ub = function (r, l) { var h = this; Xo(this); var v = r.apiKey; return new wn(function (T, S) { if (h.a.hasOwnProperty(v)) { var D = Ch(h.a[v]).selectTenantUiHidden || null; if (tv(h.a[v]) === Cp) { var W = []; l.forEach(function (Le) { Le = Le || "_"; var kt = h.a[v].a.get("tenants"); if (!kt) throw Error("Invalid tenant configuration!"); (kt = kt[Le] || kt[Ka]) ? Le = { tenantId: Le !== "_" ? Le : null, V: kt.fullLabel || null, displayName: kt.displayName, za: kt.iconUrl, ta: kt.buttonColor } : (Ni("Invalid tenant configuration: " + (Le + " is not configured!"), void 0), Le = null), Le && W.push(Le) }); var le = function (Le) { Le = { tenantId: Le, providerIds: Yo(h.a[v], Le || "_") }, T(Le) }; if (W.length === 1) { le(W[0].tenantId); return } h.g = new Tp(function (Le) { Xo(h), D && D(), le(Le) }, W, Ap(h.a[v]), Wo(h.a[v])) } else h.g = new Sh(function () { var Le = h.g.j(); if (Le) { for (var kt = 0; kt < l.length; kt++) { var s = Yo(h.a[v], l[kt] || "_", Le); if (s.length !== 0) { Le = { tenantId: l[kt], providerIds: s, email: Le }, Xo(h), D && D(), T(Le); return } } h.g.a(ue({ code: "no-matching-tenant-for-email" }).toString()) } }, Ap(h.a[v]), Wo(h.a[v])); h.g.render(h.s), (S = Ch(h.a[v]).selectTenantUiShown || null) && S() } else { var Se = Error("Invalid project configuration: API key is invalid!"); Se.code = "invalid-configuration", h.pb(Se), S(Se) } }) }, n.Pb = function (r, l) { if (!this.a.hasOwnProperty(r)) throw Error("Invalid project configuration: API key is invalid!"); var h = l || void 0; co(this.a[r], l || "_"); try { this.i = He.app(h).auth() } catch { var v = this.a[r].a.get("authDomain"); if (!v) throw Error("Invalid project configuration: authDomain is required!"); r = He.initializeApp({ apiKey: r, authDomain: v }, h), r.auth().tenantId = l, this.i = r.auth() } return this.i }, n.Zb = function (r, l) { var h = this; return new wn(function (v, T) { function S(kt, s) { h.j = new Xi(r), Qg(h.j, h.s, kt, s) } var D = r.app.options.apiKey; h.a.hasOwnProperty(D) || T(Error("Invalid project configuration: API key is invalid!")); var W = xh(h.a[D], r.tenantId || "_", l && l.providerIds); Xo(h), T = { signInSuccessWithAuthResult: function (kt) { return v(kt), !1 } }; var le = Ch(h.a[D]).signInUiShown || null, Se = !1; T.uiChanged = function (kt, s) { kt === null && s === "callback" ? ((kt = vl("firebaseui-id-page-callback", h.s)) && fr(kt), h.h = new Ah, h.h.render(h.s)) : Se || kt === null && s === "spinner" || s === "blank" || (h.h && (h.h.m(), h.h = null), Se = !0, le && le(r.tenantId)) }, W.callbacks = T, W.credentialHelper = "none"; var Le; l && l.email && (Le = { emailHint: l.email }), h.j ? h.j.Wa().then(function () { S(W, Le) }) : S(W, Le) }) }, n.reset = function () { var r = this; return un().then(function () { r.j && r.j.Wa() }).then(function () { r.j = null, Xo(r) }) }, n.Vb = function () { var r = this; this.h || this.A || (this.A = window.setTimeout(function () { Xo(r), r.h = new Ah, r.g = r.h, r.h.render(r.s), r.A = null }, 500)) }, n.mb = function () { window.clearTimeout(this.A), this.A = null, this.h && (this.h.m(), this.h = null) }, n.Bb = function () { return Xo(this), this.g = new Lg, this.g.render(this.s), un() }; function Xo(r) { r.j && r.j.reset(), r.mb(), r.g && r.g.m() } n.pb = function (r) { var l = this, h = ue({ code: r.code }).toString() || r.message; Xo(this); var v; r.retry && typeof r.retry == "function" && (v = function () { l.reset(), r.retry() }), this.g = new Vg(h, v), this.g.render(this.s) }, n.Rb = function (r) { var l = this; return un().then(function () { var h = l.i && l.i.app.options.apiKey; if (!l.a.hasOwnProperty(h)) throw Error("Invalid project configuration: API key is invalid!"); if (co(l.a[h], r.tenantId || "_"), !l.i.currentUser || l.i.currentUser.uid !== r.uid) throw Error("The user being processed does not match the signed in user!"); return (h = Ch(l.a[h]).beforeSignInSuccess || null) ? h(r) : r }).then(function (h) { if (h.uid !== r.uid) throw Error("User with mismatching UID returned."); return h }) }, H("firebaseui.auth.FirebaseUiHandler", Is), H("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant", Is.prototype.Ub), H("firebaseui.auth.FirebaseUiHandler.prototype.getAuth", Is.prototype.Pb), H("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn", Is.prototype.Zb), H("firebaseui.auth.FirebaseUiHandler.prototype.reset", Is.prototype.reset), H("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar", Is.prototype.Vb), H("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar", Is.prototype.mb), H("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut", Is.prototype.Bb), H("firebaseui.auth.FirebaseUiHandler.prototype.handleError", Is.prototype.pb), H("firebaseui.auth.FirebaseUiHandler.prototype.processUser", Is.prototype.Rb), H("firebaseui.auth.AuthUI", Xi), H("firebaseui.auth.AuthUI.getInstance", function (r) { return r = Yg(r), Lc[r] ? Lc[r] : null }), H("firebaseui.auth.AuthUI.prototype.disableAutoSignIn", Xi.prototype.Db), H("firebaseui.auth.AuthUI.prototype.start", Xi.prototype.start), H("firebaseui.auth.AuthUI.prototype.setConfig", Xi.prototype.ib), H("firebaseui.auth.AuthUI.prototype.signIn", Xi.prototype.Wb), H("firebaseui.auth.AuthUI.prototype.reset", Xi.prototype.reset), H("firebaseui.auth.AuthUI.prototype.delete", Xi.prototype.Wa), H("firebaseui.auth.AuthUI.prototype.isPendingRedirect", Xi.prototype.nb), H("firebaseui.auth.AuthUIError", mt), H("firebaseui.auth.AuthUIError.prototype.toJSON", mt.prototype.toJSON), H("firebaseui.auth.CredentialHelper.GOOGLE_YOLO", zd), H("firebaseui.auth.CredentialHelper.NONE", Hd), H("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID", "anonymous"), wn.prototype.catch = wn.prototype.Ca, wn.prototype.finally = wn.prototype.fc
  }).apply(typeof global < "u" ? global : typeof self < "u" ? self : window)
}).apply(typeof global < "u" ? global : typeof self < "u" ? self : window); typeof window < "u" && (window.dialogPolyfill = MU); var gA = firebaseui.auth, UU = "firebase", BU = "10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rs(UU, BU, "app"); var vA = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jh, aI; (function () {
  var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(F, V) { function O() { } O.prototype = V.prototype, F.D = V.prototype, F.prototype = new O, F.prototype.constructor = F, F.C = function (q, G, K) { for (var H = Array(arguments.length - 2), ce = 2; ce < arguments.length; ce++)H[ce - 2] = arguments[ce]; return V.prototype[G].apply(q, H) } } function t() { this.blockSize = -1 } function i() { this.blockSize = -1, this.blockSize = 64, this.g = Array(4), this.B = Array(this.blockSize), this.o = this.h = 0, this.s() } e(i, t), i.prototype.s = function () { this.g[0] = 1732584193, this.g[1] = 4023233417, this.g[2] = 2562383102, this.g[3] = 271733878, this.o = this.h = 0 }; function o(F, V, O) { O || (O = 0); var q = Array(16); if (typeof V == "string") for (var G = 0; 16 > G; ++G)q[G] = V.charCodeAt(O++) | V.charCodeAt(O++) << 8 | V.charCodeAt(O++) << 16 | V.charCodeAt(O++) << 24; else for (G = 0; 16 > G; ++G)q[G] = V[O++] | V[O++] << 8 | V[O++] << 16 | V[O++] << 24; V = F.g[0], O = F.g[1], G = F.g[2]; var K = F.g[3], H = V + (K ^ O & (G ^ K)) + q[0] + 3614090360 & 4294967295; V = O + (H << 7 & 4294967295 | H >>> 25), H = K + (G ^ V & (O ^ G)) + q[1] + 3905402710 & 4294967295, K = V + (H << 12 & 4294967295 | H >>> 20), H = G + (O ^ K & (V ^ O)) + q[2] + 606105819 & 4294967295, G = K + (H << 17 & 4294967295 | H >>> 15), H = O + (V ^ G & (K ^ V)) + q[3] + 3250441966 & 4294967295, O = G + (H << 22 & 4294967295 | H >>> 10), H = V + (K ^ O & (G ^ K)) + q[4] + 4118548399 & 4294967295, V = O + (H << 7 & 4294967295 | H >>> 25), H = K + (G ^ V & (O ^ G)) + q[5] + 1200080426 & 4294967295, K = V + (H << 12 & 4294967295 | H >>> 20), H = G + (O ^ K & (V ^ O)) + q[6] + 2821735955 & 4294967295, G = K + (H << 17 & 4294967295 | H >>> 15), H = O + (V ^ G & (K ^ V)) + q[7] + 4249261313 & 4294967295, O = G + (H << 22 & 4294967295 | H >>> 10), H = V + (K ^ O & (G ^ K)) + q[8] + 1770035416 & 4294967295, V = O + (H << 7 & 4294967295 | H >>> 25), H = K + (G ^ V & (O ^ G)) + q[9] + 2336552879 & 4294967295, K = V + (H << 12 & 4294967295 | H >>> 20), H = G + (O ^ K & (V ^ O)) + q[10] + 4294925233 & 4294967295, G = K + (H << 17 & 4294967295 | H >>> 15), H = O + (V ^ G & (K ^ V)) + q[11] + 2304563134 & 4294967295, O = G + (H << 22 & 4294967295 | H >>> 10), H = V + (K ^ O & (G ^ K)) + q[12] + 1804603682 & 4294967295, V = O + (H << 7 & 4294967295 | H >>> 25), H = K + (G ^ V & (O ^ G)) + q[13] + 4254626195 & 4294967295, K = V + (H << 12 & 4294967295 | H >>> 20), H = G + (O ^ K & (V ^ O)) + q[14] + 2792965006 & 4294967295, G = K + (H << 17 & 4294967295 | H >>> 15), H = O + (V ^ G & (K ^ V)) + q[15] + 1236535329 & 4294967295, O = G + (H << 22 & 4294967295 | H >>> 10), H = V + (G ^ K & (O ^ G)) + q[1] + 4129170786 & 4294967295, V = O + (H << 5 & 4294967295 | H >>> 27), H = K + (O ^ G & (V ^ O)) + q[6] + 3225465664 & 4294967295, K = V + (H << 9 & 4294967295 | H >>> 23), H = G + (V ^ O & (K ^ V)) + q[11] + 643717713 & 4294967295, G = K + (H << 14 & 4294967295 | H >>> 18), H = O + (K ^ V & (G ^ K)) + q[0] + 3921069994 & 4294967295, O = G + (H << 20 & 4294967295 | H >>> 12), H = V + (G ^ K & (O ^ G)) + q[5] + 3593408605 & 4294967295, V = O + (H << 5 & 4294967295 | H >>> 27), H = K + (O ^ G & (V ^ O)) + q[10] + 38016083 & 4294967295, K = V + (H << 9 & 4294967295 | H >>> 23), H = G + (V ^ O & (K ^ V)) + q[15] + 3634488961 & 4294967295, G = K + (H << 14 & 4294967295 | H >>> 18), H = O + (K ^ V & (G ^ K)) + q[4] + 3889429448 & 4294967295, O = G + (H << 20 & 4294967295 | H >>> 12), H = V + (G ^ K & (O ^ G)) + q[9] + 568446438 & 4294967295, V = O + (H << 5 & 4294967295 | H >>> 27), H = K + (O ^ G & (V ^ O)) + q[14] + 3275163606 & 4294967295, K = V + (H << 9 & 4294967295 | H >>> 23), H = G + (V ^ O & (K ^ V)) + q[3] + 4107603335 & 4294967295, G = K + (H << 14 & 4294967295 | H >>> 18), H = O + (K ^ V & (G ^ K)) + q[8] + 1163531501 & 4294967295, O = G + (H << 20 & 4294967295 | H >>> 12), H = V + (G ^ K & (O ^ G)) + q[13] + 2850285829 & 4294967295, V = O + (H << 5 & 4294967295 | H >>> 27), H = K + (O ^ G & (V ^ O)) + q[2] + 4243563512 & 4294967295, K = V + (H << 9 & 4294967295 | H >>> 23), H = G + (V ^ O & (K ^ V)) + q[7] + 1735328473 & 4294967295, G = K + (H << 14 & 4294967295 | H >>> 18), H = O + (K ^ V & (G ^ K)) + q[12] + 2368359562 & 4294967295, O = G + (H << 20 & 4294967295 | H >>> 12), H = V + (O ^ G ^ K) + q[5] + 4294588738 & 4294967295, V = O + (H << 4 & 4294967295 | H >>> 28), H = K + (V ^ O ^ G) + q[8] + 2272392833 & 4294967295, K = V + (H << 11 & 4294967295 | H >>> 21), H = G + (K ^ V ^ O) + q[11] + 1839030562 & 4294967295, G = K + (H << 16 & 4294967295 | H >>> 16), H = O + (G ^ K ^ V) + q[14] + 4259657740 & 4294967295, O = G + (H << 23 & 4294967295 | H >>> 9), H = V + (O ^ G ^ K) + q[1] + 2763975236 & 4294967295, V = O + (H << 4 & 4294967295 | H >>> 28), H = K + (V ^ O ^ G) + q[4] + 1272893353 & 4294967295, K = V + (H << 11 & 4294967295 | H >>> 21), H = G + (K ^ V ^ O) + q[7] + 4139469664 & 4294967295, G = K + (H << 16 & 4294967295 | H >>> 16), H = O + (G ^ K ^ V) + q[10] + 3200236656 & 4294967295, O = G + (H << 23 & 4294967295 | H >>> 9), H = V + (O ^ G ^ K) + q[13] + 681279174 & 4294967295, V = O + (H << 4 & 4294967295 | H >>> 28), H = K + (V ^ O ^ G) + q[0] + 3936430074 & 4294967295, K = V + (H << 11 & 4294967295 | H >>> 21), H = G + (K ^ V ^ O) + q[3] + 3572445317 & 4294967295, G = K + (H << 16 & 4294967295 | H >>> 16), H = O + (G ^ K ^ V) + q[6] + 76029189 & 4294967295, O = G + (H << 23 & 4294967295 | H >>> 9), H = V + (O ^ G ^ K) + q[9] + 3654602809 & 4294967295, V = O + (H << 4 & 4294967295 | H >>> 28), H = K + (V ^ O ^ G) + q[12] + 3873151461 & 4294967295, K = V + (H << 11 & 4294967295 | H >>> 21), H = G + (K ^ V ^ O) + q[15] + 530742520 & 4294967295, G = K + (H << 16 & 4294967295 | H >>> 16), H = O + (G ^ K ^ V) + q[2] + 3299628645 & 4294967295, O = G + (H << 23 & 4294967295 | H >>> 9), H = V + (G ^ (O | ~K)) + q[0] + 4096336452 & 4294967295, V = O + (H << 6 & 4294967295 | H >>> 26), H = K + (O ^ (V | ~G)) + q[7] + 1126891415 & 4294967295, K = V + (H << 10 & 4294967295 | H >>> 22), H = G + (V ^ (K | ~O)) + q[14] + 2878612391 & 4294967295, G = K + (H << 15 & 4294967295 | H >>> 17), H = O + (K ^ (G | ~V)) + q[5] + 4237533241 & 4294967295, O = G + (H << 21 & 4294967295 | H >>> 11), H = V + (G ^ (O | ~K)) + q[12] + 1700485571 & 4294967295, V = O + (H << 6 & 4294967295 | H >>> 26), H = K + (O ^ (V | ~G)) + q[3] + 2399980690 & 4294967295, K = V + (H << 10 & 4294967295 | H >>> 22), H = G + (V ^ (K | ~O)) + q[10] + 4293915773 & 4294967295, G = K + (H << 15 & 4294967295 | H >>> 17), H = O + (K ^ (G | ~V)) + q[1] + 2240044497 & 4294967295, O = G + (H << 21 & 4294967295 | H >>> 11), H = V + (G ^ (O | ~K)) + q[8] + 1873313359 & 4294967295, V = O + (H << 6 & 4294967295 | H >>> 26), H = K + (O ^ (V | ~G)) + q[15] + 4264355552 & 4294967295, K = V + (H << 10 & 4294967295 | H >>> 22), H = G + (V ^ (K | ~O)) + q[6] + 2734768916 & 4294967295, G = K + (H << 15 & 4294967295 | H >>> 17), H = O + (K ^ (G | ~V)) + q[13] + 1309151649 & 4294967295, O = G + (H << 21 & 4294967295 | H >>> 11), H = V + (G ^ (O | ~K)) + q[4] + 4149444226 & 4294967295, V = O + (H << 6 & 4294967295 | H >>> 26), H = K + (O ^ (V | ~G)) + q[11] + 3174756917 & 4294967295, K = V + (H << 10 & 4294967295 | H >>> 22), H = G + (V ^ (K | ~O)) + q[2] + 718787259 & 4294967295, G = K + (H << 15 & 4294967295 | H >>> 17), H = O + (K ^ (G | ~V)) + q[9] + 3951481745 & 4294967295, F.g[0] = F.g[0] + V & 4294967295, F.g[1] = F.g[1] + (G + (H << 21 & 4294967295 | H >>> 11)) & 4294967295, F.g[2] = F.g[2] + G & 4294967295, F.g[3] = F.g[3] + K & 4294967295 } i.prototype.u = function (F, V) { V === void 0 && (V = F.length); for (var O = V - this.blockSize, q = this.B, G = this.h, K = 0; K < V;) { if (G == 0) for (; K <= O;)o(this, F, K), K += this.blockSize; if (typeof F == "string") { for (; K < V;)if (q[G++] = F.charCodeAt(K++), G == this.blockSize) { o(this, q), G = 0; break } } else for (; K < V;)if (q[G++] = F[K++], G == this.blockSize) { o(this, q), G = 0; break } } this.h = G, this.o += V }, i.prototype.v = function () { var F = Array((56 > this.h ? this.blockSize : 2 * this.blockSize) - this.h); F[0] = 128; for (var V = 1; V < F.length - 8; ++V)F[V] = 0; var O = 8 * this.o; for (V = F.length - 8; V < F.length; ++V)F[V] = O & 255, O /= 256; for (this.u(F), F = Array(16), V = O = 0; 4 > V; ++V)for (var q = 0; 32 > q; q += 8)F[O++] = this.g[V] >>> q & 255; return F }; function u(F, V) { var O = p; return Object.prototype.hasOwnProperty.call(O, F) ? O[F] : O[F] = V(F) } function d(F, V) { this.h = V; for (var O = [], q = !0, G = F.length - 1; 0 <= G; G--) { var K = F[G] | 0; q && K == V || (O[G] = K, q = !1) } this.g = O } var p = {}; function m(F) { return -128 <= F && 128 > F ? u(F, function (V) { return new d([V | 0], 0 > V ? -1 : 0) }) : new d([F | 0], 0 > F ? -1 : 0) } function y(F) { if (isNaN(F) || !isFinite(F)) return E; if (0 > F) return R(y(-F)); for (var V = [], O = 1, q = 0; F >= O; q++)V[q] = F / O | 0, O *= 4294967296; return new d(V, 0) } function w(F, V) { if (F.length == 0) throw Error("number format error: empty string"); if (V = V || 10, 2 > V || 36 < V) throw Error("radix out of range: " + V); if (F.charAt(0) == "-") return R(w(F.substring(1), V)); if (0 <= F.indexOf("-")) throw Error('number format error: interior "-" character'); for (var O = y(Math.pow(V, 8)), q = E, G = 0; G < F.length; G += 8) { var K = Math.min(8, F.length - G), H = parseInt(F.substring(G, G + K), V); 8 > K ? (K = y(Math.pow(V, K)), q = q.j(K).add(y(H))) : (q = q.j(O), q = q.add(y(H))) } return q } var E = m(0), C = m(1), N = m(16777216); n = d.prototype, n.m = function () { if (k(this)) return -R(this).m(); for (var F = 0, V = 1, O = 0; O < this.g.length; O++) { var q = this.i(O); F += (0 <= q ? q : 4294967296 + q) * V, V *= 4294967296 } return F }, n.toString = function (F) { if (F = F || 10, 2 > F || 36 < F) throw Error("radix out of range: " + F); if (U(this)) return "0"; if (k(this)) return "-" + R(this).toString(F); for (var V = y(Math.pow(F, 6)), O = this, q = ""; ;) { var G = J(O, V).g; O = L(O, G.j(V)); var K = ((0 < O.g.length ? O.g[0] : O.h) >>> 0).toString(F); if (O = G, U(O)) return K + q; for (; 6 > K.length;)K = "0" + K; q = K + q } }, n.i = function (F) { return 0 > F ? 0 : F < this.g.length ? this.g[F] : this.h }; function U(F) { if (F.h != 0) return !1; for (var V = 0; V < F.g.length; V++)if (F.g[V] != 0) return !1; return !0 } function k(F) { return F.h == -1 } n.l = function (F) { return F = L(this, F), k(F) ? -1 : U(F) ? 0 : 1 }; function R(F) { for (var V = F.g.length, O = [], q = 0; q < V; q++)O[q] = ~F.g[q]; return new d(O, ~F.h).add(C) } n.abs = function () { return k(this) ? R(this) : this }, n.add = function (F) { for (var V = Math.max(this.g.length, F.g.length), O = [], q = 0, G = 0; G <= V; G++) { var K = q + (this.i(G) & 65535) + (F.i(G) & 65535), H = (K >>> 16) + (this.i(G) >>> 16) + (F.i(G) >>> 16); q = H >>> 16, K &= 65535, H &= 65535, O[G] = H << 16 | K } return new d(O, O[O.length - 1] & -2147483648 ? -1 : 0) }; function L(F, V) { return F.add(R(V)) } n.j = function (F) { if (U(this) || U(F)) return E; if (k(this)) return k(F) ? R(this).j(R(F)) : R(R(this).j(F)); if (k(F)) return R(this.j(R(F))); if (0 > this.l(N) && 0 > F.l(N)) return y(this.m() * F.m()); for (var V = this.g.length + F.g.length, O = [], q = 0; q < 2 * V; q++)O[q] = 0; for (q = 0; q < this.g.length; q++)for (var G = 0; G < F.g.length; G++) { var K = this.i(q) >>> 16, H = this.i(q) & 65535, ce = F.i(G) >>> 16, xe = F.i(G) & 65535; O[2 * q + 2 * G] += H * xe, z(O, 2 * q + 2 * G), O[2 * q + 2 * G + 1] += K * xe, z(O, 2 * q + 2 * G + 1), O[2 * q + 2 * G + 1] += H * ce, z(O, 2 * q + 2 * G + 1), O[2 * q + 2 * G + 2] += K * ce, z(O, 2 * q + 2 * G + 2) } for (q = 0; q < V; q++)O[q] = O[2 * q + 1] << 16 | O[2 * q]; for (q = V; q < 2 * V; q++)O[q] = 0; return new d(O, 0) }; function z(F, V) { for (; (F[V] & 65535) != F[V];)F[V + 1] += F[V] >>> 16, F[V] &= 65535, V++ } function $(F, V) { this.g = F, this.h = V } function J(F, V) { if (U(V)) throw Error("division by zero"); if (U(F)) return new $(E, E); if (k(F)) return V = J(R(F), V), new $(R(V.g), R(V.h)); if (k(V)) return V = J(F, R(V)), new $(R(V.g), V.h); if (30 < F.g.length) { if (k(F) || k(V)) throw Error("slowDivide_ only works with positive integers."); for (var O = C, q = V; 0 >= q.l(F);)O = Q(O), q = Q(q); var G = re(O, 1), K = re(q, 1); for (q = re(q, 2), O = re(O, 2); !U(q);) { var H = K.add(q); 0 >= H.l(F) && (G = G.add(O), K = H), q = re(q, 1), O = re(O, 1) } return V = L(F, G.j(V)), new $(G, V) } for (G = E; 0 <= F.l(V);) { for (O = Math.max(1, Math.floor(F.m() / V.m())), q = Math.ceil(Math.log(O) / Math.LN2), q = 48 >= q ? 1 : Math.pow(2, q - 48), K = y(O), H = K.j(V); k(H) || 0 < H.l(F);)O -= q, K = y(O), H = K.j(V); U(K) && (K = C), G = G.add(K), F = L(F, H) } return new $(G, F) } n.A = function (F) { return J(this, F).h }, n.and = function (F) { for (var V = Math.max(this.g.length, F.g.length), O = [], q = 0; q < V; q++)O[q] = this.i(q) & F.i(q); return new d(O, this.h & F.h) }, n.or = function (F) { for (var V = Math.max(this.g.length, F.g.length), O = [], q = 0; q < V; q++)O[q] = this.i(q) | F.i(q); return new d(O, this.h | F.h) }, n.xor = function (F) { for (var V = Math.max(this.g.length, F.g.length), O = [], q = 0; q < V; q++)O[q] = this.i(q) ^ F.i(q); return new d(O, this.h ^ F.h) }; function Q(F) { for (var V = F.g.length + 1, O = [], q = 0; q < V; q++)O[q] = F.i(q) << 1 | F.i(q - 1) >>> 31; return new d(O, F.h) } function re(F, V) { var O = V >> 5; V %= 32; for (var q = F.g.length - O, G = [], K = 0; K < q; K++)G[K] = 0 < V ? F.i(K + O) >>> V | F.i(K + O + 1) << 32 - V : F.i(K + O); return new d(G, F.h) } i.prototype.digest = i.prototype.v, i.prototype.reset = i.prototype.s, i.prototype.update = i.prototype.u, aI = i, d.prototype.add = d.prototype.add, d.prototype.multiply = d.prototype.j, d.prototype.modulo = d.prototype.A, d.prototype.compare = d.prototype.l, d.prototype.toNumber = d.prototype.m, d.prototype.toString = d.prototype.toString, d.prototype.getBits = d.prototype.i, d.fromNumber = y, d.fromString = w, jh = d
}).apply(typeof vA < "u" ? vA : typeof self < "u" ? self : typeof window < "u" ? window : {}); var S0 = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lI, mv, uI, B0, U_, cI, dI, hI; (function () {
  var n, e = typeof Object.defineProperties == "function" ? Object.defineProperty : function (g, A, P) { return g == Array.prototype || g == Object.prototype || (g[A] = P.value), g }; function t(g) { g = [typeof globalThis == "object" && globalThis, g, typeof window == "object" && window, typeof self == "object" && self, typeof S0 == "object" && S0]; for (var A = 0; A < g.length; ++A) { var P = g[A]; if (P && P.Math == Math) return P } throw Error("Cannot find global object") } var i = t(this); function o(g, A) { if (A) e: { var P = i; g = g.split("."); for (var B = 0; B < g.length - 1; B++) { var te = g[B]; if (!(te in P)) break e; P = P[te] } g = g[g.length - 1], B = P[g], A = A(B), A != B && A != null && e(P, g, { configurable: !0, writable: !0, value: A }) } } function u(g, A) { g instanceof String && (g += ""); var P = 0, B = !1, te = { next: function () { if (!B && P < g.length) { var ue = P++; return { value: A(ue, g[ue]), done: !1 } } return B = !0, { done: !0, value: void 0 } } }; return te[Symbol.iterator] = function () { return te }, te } o("Array.prototype.values", function (g) { return g || function () { return u(this, function (A, P) { return P }) } });/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d = d || {}, p = this || self; function m(g) { var A = typeof g; return A = A != "object" ? A : g ? Array.isArray(g) ? "array" : A : "null", A == "array" || A == "object" && typeof g.length == "number" } function y(g) { var A = typeof g; return A == "object" && g != null || A == "function" } function w(g, A, P) { return g.call.apply(g.bind, arguments) } function E(g, A, P) { if (!g) throw Error(); if (2 < arguments.length) { var B = Array.prototype.slice.call(arguments, 2); return function () { var te = Array.prototype.slice.call(arguments); return Array.prototype.unshift.apply(te, B), g.apply(A, te) } } return function () { return g.apply(A, arguments) } } function C(g, A, P) { return C = Function.prototype.bind && Function.prototype.bind.toString().indexOf("native code") != -1 ? w : E, C.apply(null, arguments) } function N(g, A) { var P = Array.prototype.slice.call(arguments, 1); return function () { var B = P.slice(); return B.push.apply(B, arguments), g.apply(this, B) } } function U(g, A) { function P() { } P.prototype = A.prototype, g.aa = A.prototype, g.prototype = new P, g.prototype.constructor = g, g.Qb = function (B, te, ue) { for (var Ce = Array(arguments.length - 2), mt = 2; mt < arguments.length; mt++)Ce[mt - 2] = arguments[mt]; return A.prototype[te].apply(B, Ce) } } function k(g) { const A = g.length; if (0 < A) { const P = Array(A); for (let B = 0; B < A; B++)P[B] = g[B]; return P } return [] } function R(g, A) { for (let P = 1; P < arguments.length; P++) { const B = arguments[P]; if (m(B)) { const te = g.length || 0, ue = B.length || 0; g.length = te + ue; for (let Ce = 0; Ce < ue; Ce++)g[te + Ce] = B[Ce] } else g.push(B) } } class L { constructor(A, P) { this.i = A, this.j = P, this.h = 0, this.g = null } get() { let A; return 0 < this.h ? (this.h--, A = this.g, this.g = A.next, A.next = null) : A = this.i(), A } } function z(g) { return /^[\s\xa0]*$/.test(g) } function $() { var g = p.navigator; return g && (g = g.userAgent) ? g : "" } function J(g) { return J[" "](g), g } J[" "] = function () { }; var Q = $().indexOf("Gecko") != -1 && !($().toLowerCase().indexOf("webkit") != -1 && $().indexOf("Edge") == -1) && !($().indexOf("Trident") != -1 || $().indexOf("MSIE") != -1) && $().indexOf("Edge") == -1; function re(g, A, P) { for (const B in g) A.call(P, g[B], B, g) } function F(g, A) { for (const P in g) A.call(void 0, g[P], P, g) } function V(g) { const A = {}; for (const P in g) A[P] = g[P]; return A } const O = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "); function q(g, A) { let P, B; for (let te = 1; te < arguments.length; te++) { B = arguments[te]; for (P in B) g[P] = B[P]; for (let ue = 0; ue < O.length; ue++)P = O[ue], Object.prototype.hasOwnProperty.call(B, P) && (g[P] = B[P]) } } function G(g) { var A = 1; g = g.split(":"); const P = []; for (; 0 < A && g.length;)P.push(g.shift()), A--; return g.length && P.push(g.join(":")), P } function K(g) { p.setTimeout(() => { throw g }, 0) } function H() { var g = Ie; let A = null; return g.g && (A = g.g, g.g = g.g.next, g.g || (g.h = null), A.next = null), A } class ce { constructor() { this.h = this.g = null } add(A, P) { const B = xe.get(); B.set(A, P), this.h ? this.h.next = B : this.g = B, this.h = B } } var xe = new L(() => new se, g => g.reset()); class se { constructor() { this.next = this.g = this.h = null } set(A, P) { this.h = A, this.g = P, this.next = null } reset() { this.next = this.g = this.h = null } } let fe, _e = !1, Ie = new ce, X = () => { const g = p.Promise.resolve(void 0); fe = () => { g.then(de) } }; var de = () => { for (var g; g = H();) { try { g.h.call(g.g) } catch (P) { K(P) } var A = xe; A.j(g), 100 > A.h && (A.h++, g.next = A.g, A.g = g) } _e = !1 }; function we() { this.s = this.s, this.C = this.C } we.prototype.s = !1, we.prototype.ma = function () { this.s || (this.s = !0, this.N()) }, we.prototype.N = function () { if (this.C) for (; this.C.length;)this.C.shift()() }; function Ee(g, A) { this.type = g, this.g = this.target = A, this.defaultPrevented = !1 } Ee.prototype.h = function () { this.defaultPrevented = !0 }; var Oe = function () { if (!p.addEventListener || !Object.defineProperty) return !1; var g = !1, A = Object.defineProperty({}, "passive", { get: function () { g = !0 } }); try { const P = () => { }; p.addEventListener("test", P, A), p.removeEventListener("test", P, A) } catch { } return g }(); function ze(g, A) { if (Ee.call(this, g ? g.type : ""), this.relatedTarget = this.g = this.target = null, this.button = this.screenY = this.screenX = this.clientY = this.clientX = 0, this.key = "", this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1, this.state = null, this.pointerId = 0, this.pointerType = "", this.i = null, g) { var P = this.type = g.type, B = g.changedTouches && g.changedTouches.length ? g.changedTouches[0] : null; if (this.target = g.target || g.srcElement, this.g = A, A = g.relatedTarget) { if (Q) { e: { try { J(A.nodeName); var te = !0; break e } catch { } te = !1 } te || (A = null) } } else P == "mouseover" ? A = g.fromElement : P == "mouseout" && (A = g.toElement); this.relatedTarget = A, B ? (this.clientX = B.clientX !== void 0 ? B.clientX : B.pageX, this.clientY = B.clientY !== void 0 ? B.clientY : B.pageY, this.screenX = B.screenX || 0, this.screenY = B.screenY || 0) : (this.clientX = g.clientX !== void 0 ? g.clientX : g.pageX, this.clientY = g.clientY !== void 0 ? g.clientY : g.pageY, this.screenX = g.screenX || 0, this.screenY = g.screenY || 0), this.button = g.button, this.key = g.key || "", this.ctrlKey = g.ctrlKey, this.altKey = g.altKey, this.shiftKey = g.shiftKey, this.metaKey = g.metaKey, this.pointerId = g.pointerId || 0, this.pointerType = typeof g.pointerType == "string" ? g.pointerType : Ve[g.pointerType] || "", this.state = g.state, this.i = g, g.defaultPrevented && ze.aa.h.call(this) } } U(ze, Ee); var Ve = { 2: "touch", 3: "pen", 4: "mouse" }; ze.prototype.h = function () { ze.aa.h.call(this); var g = this.i; g.preventDefault ? g.preventDefault() : g.returnValue = !1 }; var Zt = "closure_listenable_" + (1e6 * Math.random() | 0), At = 0; function Si(g, A, P, B, te) { this.listener = g, this.proxy = null, this.src = A, this.type = P, this.capture = !!B, this.ha = te, this.key = ++At, this.da = this.fa = !1 } function Bi(g) { g.da = !0, g.listener = null, g.proxy = null, g.src = null, g.ha = null } function Ai(g) { this.src = g, this.g = {}, this.h = 0 } Ai.prototype.add = function (g, A, P, B, te) { var ue = g.toString(); g = this.g[ue], g || (g = this.g[ue] = [], this.h++); var Ce = It(g, A, B, te); return -1 < Ce ? (A = g[Ce], P || (A.fa = !1)) : (A = new Si(A, this.src, ue, !!B, te), A.fa = P, g.push(A)), A }; function Sr(g, A) { var P = A.type; if (P in g.g) { var B = g.g[P], te = Array.prototype.indexOf.call(B, A, void 0), ue; (ue = 0 <= te) && Array.prototype.splice.call(B, te, 1), ue && (Bi(A), g.g[P].length == 0 && (delete g.g[P], g.h--)) } } function It(g, A, P, B) { for (var te = 0; te < g.length; ++te) { var ue = g[te]; if (!ue.da && ue.listener == A && ue.capture == !!P && ue.ha == B) return te } return -1 } var ke = "closure_lm_" + (1e6 * Math.random() | 0), tt = {}; function An(g, A, P, B, te) { if (Array.isArray(A)) { for (var ue = 0; ue < A.length; ue++)An(g, A[ue], P, B, te); return null } return P = Xt(P), g && g[Zt] ? g.K(A, P, y(B) ? !!B.capture : !1, te) : Kt(g, A, P, !1, B, te) } function Kt(g, A, P, B, te, ue) { if (!A) throw Error("Invalid event type"); var Ce = y(te) ? !!te.capture : !!te, mt = Qe(g); if (mt || (g[ke] = mt = new Ai(g)), P = mt.add(A, P, B, Ce, ue), P.proxy) return P; if (B = Ci(), P.proxy = B, B.src = g, B.listener = P, g.addEventListener) Oe || (te = Ce), te === void 0 && (te = !1), g.addEventListener(A.toString(), B, te); else if (g.attachEvent) g.attachEvent(nt(A.toString()), B); else if (g.addListener && g.removeListener) g.addListener(B); else throw Error("addEventListener and attachEvent are unavailable."); return P } function Ci() { function g(P) { return A.call(g.src, g.listener, P) } const A = qe; return g } function Pe(g, A, P, B, te) { if (Array.isArray(A)) for (var ue = 0; ue < A.length; ue++)Pe(g, A[ue], P, B, te); else B = y(B) ? !!B.capture : !!B, P = Xt(P), g && g[Zt] ? (g = g.i, A = String(A).toString(), A in g.g && (ue = g.g[A], P = It(ue, P, B, te), -1 < P && (Bi(ue[P]), Array.prototype.splice.call(ue, P, 1), ue.length == 0 && (delete g.g[A], g.h--)))) : g && (g = Qe(g)) && (A = g.g[A.toString()], g = -1, A && (g = It(A, P, B, te)), (P = -1 < g ? A[g] : null) && me(P)) } function me(g) { if (typeof g != "number" && g && !g.da) { var A = g.src; if (A && A[Zt]) Sr(A.i, g); else { var P = g.type, B = g.proxy; A.removeEventListener ? A.removeEventListener(P, B, g.capture) : A.detachEvent ? A.detachEvent(nt(P), B) : A.addListener && A.removeListener && A.removeListener(B), (P = Qe(A)) ? (Sr(P, g), P.h == 0 && (P.src = null, A[ke] = null)) : Bi(g) } } } function nt(g) { return g in tt ? tt[g] : tt[g] = "on" + g } function qe(g, A) { if (g.da) g = !0; else { A = new ze(A, this); var P = g.listener, B = g.ha || g.src; g.fa && me(g), g = P.call(B, A) } return g } function Qe(g) { return g = g[ke], g instanceof Ai ? g : null } var zt = "__closure_events_fn_" + (1e9 * Math.random() >>> 0); function Xt(g) { return typeof g == "function" ? g : (g[zt] || (g[zt] = function (A) { return g.handleEvent(A) }), g[zt]) } function je() { we.call(this), this.i = new Ai(this), this.M = this, this.F = null } U(je, we), je.prototype[Zt] = !0, je.prototype.removeEventListener = function (g, A, P, B) { Pe(this, g, A, P, B) }; function Be(g, A) { var P, B = g.F; if (B) for (P = []; B; B = B.F)P.push(B); if (g = g.M, B = A.type || A, typeof A == "string") A = new Ee(A, g); else if (A instanceof Ee) A.target = A.target || g; else { var te = A; A = new Ee(B, g), q(A, te) } if (te = !0, P) for (var ue = P.length - 1; 0 <= ue; ue--) { var Ce = A.g = P[ue]; te = Dt(Ce, B, !0, A) && te } if (Ce = A.g = g, te = Dt(Ce, B, !0, A) && te, te = Dt(Ce, B, !1, A) && te, P) for (ue = 0; ue < P.length; ue++)Ce = A.g = P[ue], te = Dt(Ce, B, !1, A) && te } je.prototype.N = function () { if (je.aa.N.call(this), this.i) { var g = this.i, A; for (A in g.g) { for (var P = g.g[A], B = 0; B < P.length; B++)Bi(P[B]); delete g.g[A], g.h-- } } this.F = null }, je.prototype.K = function (g, A, P, B) { return this.i.add(String(g), A, !1, P, B) }, je.prototype.L = function (g, A, P, B) { return this.i.add(String(g), A, !0, P, B) }; function Dt(g, A, P, B) { if (A = g.i.g[String(A)], !A) return !0; A = A.concat(); for (var te = !0, ue = 0; ue < A.length; ++ue) { var Ce = A[ue]; if (Ce && !Ce.da && Ce.capture == P) { var mt = Ce.listener, Zn = Ce.ha || Ce.src; Ce.fa && Sr(g.i, Ce), te = mt.call(Zn, B) !== !1 && te } } return te && !B.defaultPrevented } function $t(g, A, P) { if (typeof g == "function") P && (g = C(g, P)); else if (g && typeof g.handleEvent == "function") g = C(g.handleEvent, g); else throw Error("Invalid listener argument"); return 2147483647 < Number(A) ? -1 : p.setTimeout(g, A || 0) } function os(g) { g.g = $t(() => { g.g = null, g.i && (g.i = !1, os(g)) }, g.l); const A = g.h; g.h = null, g.m.apply(null, A) } class ul extends we { constructor(A, P) { super(), this.m = A, this.l = P, this.h = null, this.i = !1, this.g = null } j(A) { this.h = arguments, this.g ? this.i = !0 : os(this) } N() { super.N(), this.g && (p.clearTimeout(this.g), this.g = null, this.i = !1, this.h = null) } } function Br(g) { we.call(this), this.h = g, this.g = {} } U(Br, we); var ir = []; function Fi(g) { re(g.g, function (A, P) { this.g.hasOwnProperty(P) && me(A) }, g), g.g = {} } Br.prototype.N = function () { Br.aa.N.call(this), Fi(this) }, Br.prototype.handleEvent = function () { throw Error("EventHandler.handleEvent not implemented") }; var Fr = p.JSON.stringify, ra = p.JSON.parse, sa = class { stringify(g) { return p.JSON.stringify(g, void 0) } parse(g) { return p.JSON.parse(g, void 0) } }; function Au() { } Au.prototype.h = null; function oa(g) { return g.h || (g.h = g.i()) } function ad() { } var xi = { OPEN: "a", kb: "b", Ja: "c", wb: "d" }; function as() { Ee.call(this, "d") } U(as, Ee); function cl() { Ee.call(this, "c") } U(cl, Ee); var zr = {}, dl = null; function Hr() { return dl = dl || new je } zr.La = "serverreachability"; function Os(g) { Ee.call(this, zr.La, g) } U(Os, Ee); function aa(g) { const A = Hr(); Be(A, new Os(A)) } zr.STAT_EVENT = "statevent"; function ld(g, A) { Ee.call(this, zr.STAT_EVENT, g), this.stat = A } U(ld, Ee); function fn(g) { const A = Hr(); Be(A, new ld(A, g)) } zr.Ma = "timingevent"; function Xn(g, A) { Ee.call(this, zr.Ma, g), this.size = A } U(Xn, Ee); function Bn(g, A) { if (typeof g != "function") throw Error("Fn must not be null and must be a function"); return p.setTimeout(function () { g() }, A) } function qr() { this.g = !0 } qr.prototype.xa = function () { this.g = !1 }; function vo(g, A, P, B, te, ue) {
    g.info(function () {
      if (g.g) if (ue) for (var Ce = "", mt = ue.split("&"), Zn = 0; Zn < mt.length; Zn++) { var ut = mt[Zn].split("="); if (1 < ut.length) { var ui = ut[0]; ut = ut[1]; var yn = ui.split("_"); Ce = 2 <= yn.length && yn[1] == "type" ? Ce + (ui + "=" + ut + "&") : Ce + (ui + "=redacted&") } } else Ce = null; else Ce = ue; return "XMLHTTP REQ (" + B + ") [attempt " + te + "]: " + A + `
`+ P + `
`+ Ce
    })
  } function Ls(g, A, P, B, te, ue, Ce) {
    g.info(function () {
      return "XMLHTTP RESP (" + B + ") [ attempt " + te + "]: " + A + `
`+ P + `
`+ ue + " " + Ce
    })
  } function rr(g, A, P, B) { g.info(function () { return "XMLHTTP TEXT (" + A + "): " + la(g, P) + (B ? " " + B : "") }) } function ud(g, A) { g.info(function () { return "TIMEOUT: " + A }) } qr.prototype.info = function () { }; function la(g, A) { if (!g.g) return A; if (!A) return null; try { var P = JSON.parse(A); if (P) { for (g = 0; g < P.length; g++)if (Array.isArray(P[g])) { var B = P[g]; if (!(2 > B.length)) { var te = B[1]; if (Array.isArray(te) && !(1 > te.length)) { var ue = te[0]; if (ue != "noop" && ue != "stop" && ue != "close") for (var Ce = 1; Ce < te.length; Ce++)te[Ce] = "" } } } } return Fr(P) } catch { return A } } var Ar = { NO_ERROR: 0, gb: 1, tb: 2, sb: 3, nb: 4, rb: 5, ub: 6, Ia: 7, TIMEOUT: 8, xb: 9 }, yo = { lb: "complete", Hb: "success", Ja: "error", Ia: "abort", zb: "ready", Ab: "readystatechange", TIMEOUT: "timeout", vb: "incrementaldata", yb: "progress", ob: "downloadprogress", Pb: "uploadprogress" }, Ri; function Vs() { } U(Vs, Au), Vs.prototype.g = function () { return new XMLHttpRequest }, Vs.prototype.i = function () { return {} }, Ri = new Vs; function zi(g, A, P, B) { this.j = g, this.i = A, this.l = P, this.R = B || 1, this.U = new Br(this), this.I = 45e3, this.H = null, this.o = !1, this.m = this.A = this.v = this.L = this.F = this.S = this.B = null, this.D = [], this.g = null, this.C = 0, this.s = this.u = null, this.X = -1, this.J = !1, this.O = 0, this.M = null, this.W = this.K = this.T = this.P = !1, this.h = new Cn } function Cn() { this.i = null, this.g = "", this.h = !1 } var Cu = {}, an = {}; function Ii(g, A, P) { g.L = 1, g.v = ml(ai(A)), g.m = P, g.P = !0, js(g, null) } function js(g, A) { g.F = Date.now(), ua(g), g.A = ai(g.v); var P = g.A, B = g.R; Array.isArray(B) || (B = [String(B)]), ku(P.i, "t", B), g.C = 0, P = g.j.J, g.h = new Cn, g.g = df(g.j, P ? A : null, !g.m), 0 < g.O && (g.M = new ul(C(g.Y, g, g.g), g.O)), A = g.U, P = g.g, B = g.ca; var te = "readystatechange"; Array.isArray(te) || (te && (ir[0] = te.toString()), te = ir); for (var ue = 0; ue < te.length; ue++) { var Ce = An(P, te[ue], B || A.handleEvent, !1, A.h || A); if (!Ce) break; A.g[Ce.key] = Ce } A = g.H ? V(g.H) : {}, g.m ? (g.u || (g.u = "POST"), A["Content-Type"] = "application/x-www-form-urlencoded", g.g.ea(g.A, g.u, g.m, A)) : (g.u = "GET", g.g.ea(g.A, g.u, null, A)), aa(), vo(g.i, g.u, g.A, g.l, g.R, g.m) } zi.prototype.ca = function (g) { g = g.target; const A = this.M; A && Wr(g) == 3 ? A.j() : this.Y(g) }, zi.prototype.Y = function (g) { try { if (g == this.g) e: { const yn = Wr(this.g); var A = this.g.Ba(); const kr = this.g.Z(); if (!(3 > yn) && (yn != 3 || this.g && (this.h.h || this.g.oa() || pd(this.g)))) { this.J || yn != 4 || A == 7 || (A == 8 || 0 >= kr ? aa(3) : aa(2)), ca(this); var P = this.g.Z(); this.X = P; t: if (cd(this)) { var B = pd(this.g); g = ""; var te = B.length, ue = Wr(this.g) == 4; if (!this.h.i) { if (typeof TextDecoder > "u") { pt(this), ls(this); var Ce = ""; break t } this.h.i = new p.TextDecoder } for (A = 0; A < te; A++)this.h.h = !0, g += this.h.i.decode(B[A], { stream: !(ue && A == te - 1) }); B.length = 0, this.h.g += g, this.C = 0, Ce = this.h.g } else Ce = this.g.oa(); if (this.o = P == 200, Ls(this.i, this.u, this.A, this.l, this.R, yn, P), this.o) { if (this.T && !this.K) { t: { if (this.g) { var mt, Zn = this.g; if ((mt = Zn.g ? Zn.g.getResponseHeader("X-HTTP-Initial-Response") : null) && !z(mt)) { var ut = mt; break t } } ut = null } if (P = ut) rr(this.i, this.l, P, "Initial handshake response via X-HTTP-Initial-Response"), this.K = !0, sr(this, P); else { this.o = !1, this.s = 3, fn(12), pt(this), ls(this); break e } } if (this.P) { P = !0; let wi; for (; !this.J && this.C < Ce.length;)if (wi = lt(this, Ce), wi == an) { yn == 4 && (this.s = 4, fn(14), P = !1), rr(this.i, this.l, null, "[Incomplete Response]"); break } else if (wi == Cu) { this.s = 4, fn(15), rr(this.i, this.l, Ce, "[Invalid Chunk]"), P = !1; break } else rr(this.i, this.l, wi, null), sr(this, wi); if (cd(this) && this.C != 0 && (this.h.g = this.h.g.slice(this.C), this.C = 0), yn != 4 || Ce.length != 0 || this.h.h || (this.s = 1, fn(16), P = !1), this.o = this.o && P, !P) rr(this.i, this.l, Ce, "[Invalid Chunked Response]"), pt(this), ls(this); else if (0 < Ce.length && !this.W) { this.W = !0; var ui = this.j; ui.g == this && ui.ba && !ui.M && (ui.j.info("Great, no buffering proxy detected. Bytes received: " + Ce.length), yl(ui), ui.M = !0, fn(11)) } } else rr(this.i, this.l, Ce, null), sr(this, Ce); yn == 4 && pt(this), this.o && !this.J && (yn == 4 ? li(this.j, this) : (this.o = !1, ua(this))) } else Fs(this.g), P == 400 && 0 < Ce.indexOf("Unknown SID") ? (this.s = 3, fn(12)) : (this.s = 0, fn(13)), pt(this), ls(this) } } } catch { } finally { } }; function cd(g) { return g.g ? g.u == "GET" && g.L != 2 && g.j.Ca : !1 } function lt(g, A) {
    var P = g.C, B = A.indexOf(`
`, P); return B == -1 ? an : (P = Number(A.substring(P, B)), isNaN(P) ? Cu : (B += 1, B + P > A.length ? an : (A = A.slice(B, B + P), g.C = B + P, A)))
  } zi.prototype.cancel = function () { this.J = !0, pt(this) }; function ua(g) { g.S = Date.now() + g.I, xu(g, g.I) } function xu(g, A) { if (g.B != null) throw Error("WatchDog timer not null"); g.B = Bn(C(g.ba, g), A) } function ca(g) { g.B && (p.clearTimeout(g.B), g.B = null) } zi.prototype.ba = function () { this.B = null; const g = Date.now(); 0 <= g - this.S ? (ud(this.i, this.A), this.L != 2 && (aa(), fn(17)), pt(this), this.s = 2, ls(this)) : xu(this, this.S - g) }; function ls(g) { g.j.G == 0 || g.J || li(g.j, g) } function pt(g) { ca(g); var A = g.M; A && typeof A.ma == "function" && A.ma(), g.M = null, Fi(g.U), g.g && (A = g.g, g.g = null, A.abort(), A.ma()) } function sr(g, A) { try { var P = g.j; if (P.G != 0 && (P.g == g || Gr(P.h, g))) { if (!g.K && Gr(P.h, g) && P.G == 3) { try { var B = P.Da.g.parse(A) } catch { B = null } if (Array.isArray(B) && B.length == 3) { var te = B; if (te[0] == 0) { e: if (!P.u) { if (P.g) if (P.g.F + 3e3 < g.F) bl(P), Du(P); else break e; gd(P), fn(18) } } else P.za = te[1], 0 < P.za - P.T && 37500 > te[2] && P.F && P.v == 0 && !P.C && (P.C = Bn(C(P.Za, P), 6e3)); if (1 >= Ru(P.h) && P.ca) { try { P.ca() } catch { } P.ca = void 0 } } else Hs(P, 11) } else if ((g.K || P.g == g) && bl(P), !z(A)) for (te = P.Da.g.parse(A), A = 0; A < te.length; A++) { let ut = te[A]; if (P.T = ut[0], ut = ut[1], P.G == 2) if (ut[0] == "c") { P.K = ut[1], P.ia = ut[2]; const ui = ut[3]; ui != null && (P.la = ui, P.j.info("VER=" + P.la)); const yn = ut[4]; yn != null && (P.Aa = yn, P.j.info("SVER=" + P.Aa)); const kr = ut[5]; kr != null && typeof kr == "number" && 0 < kr && (B = 1.5 * kr, P.L = B, P.j.info("backChannelRequestTimeoutMs_=" + B)), B = P; const wi = g.g; if (wi) { const gs = wi.g ? wi.g.getResponseHeader("X-Client-Wire-Protocol") : null; if (gs) { var ue = B.h; ue.g || gs.indexOf("spdy") == -1 && gs.indexOf("quic") == -1 && gs.indexOf("h2") == -1 || (ue.j = ue.l, ue.g = new Set, ue.h && (hl(ue, ue.h), ue.h = null)) } if (B.D) { const vd = wi.g ? wi.g.getResponseHeader("X-HTTP-Session-Id") : null; vd && (B.ya = vd, Ht(B.I, B.D, vd)) } } P.G = 3, P.l && P.l.ua(), P.ba && (P.R = Date.now() - g.F, P.j.info("Handshake RTT: " + P.R + "ms")), B = P; var Ce = g; if (B.qa = cf(B, B.J ? B.ia : null, B.W), Ce.K) { oi(B.h, Ce); var mt = Ce, Zn = B.L; Zn && (mt.I = Zn), mt.B && (ca(mt), ua(mt)), B.g = Ce } else Re(B); 0 < P.i.length && _o(P) } else ut[0] != "stop" && ut[0] != "close" || Hs(P, 7); else P.G == 3 && (ut[0] == "stop" || ut[0] == "close" ? ut[0] == "stop" ? Hs(P, 7) : md(P) : ut[0] != "noop" && P.l && P.l.ta(ut), P.v = 0) } } aa(4) } catch { } } var rf = class { constructor(g, A) { this.g = g, this.map = A } }; function Qn(g) { this.l = g || 10, p.PerformanceNavigationTiming ? (g = p.performance.getEntriesByType("navigation"), g = 0 < g.length && (g[0].nextHopProtocol == "hq" || g[0].nextHopProtocol == "h2")) : g = !!(p.chrome && p.chrome.loadTimes && p.chrome.loadTimes() && p.chrome.loadTimes().wasFetchedViaSpdy), this.j = g ? this.l : 1, this.g = null, 1 < this.j && (this.g = new Set), this.h = null, this.i = [] } function Fn(g) { return g.h ? !0 : g.g ? g.g.size >= g.j : !1 } function Ru(g) { return g.h ? 1 : g.g ? g.g.size : 0 } function Gr(g, A) { return g.h ? g.h == A : g.g ? g.g.has(A) : !1 } function hl(g, A) { g.g ? g.g.add(A) : g.h = A } function oi(g, A) { g.h && g.h == A ? g.h = null : g.g && g.g.has(A) && g.g.delete(A) } Qn.prototype.cancel = function () { if (this.i = fl(this), this.h) this.h.cancel(), this.h = null; else if (this.g && this.g.size !== 0) { for (const g of this.g.values()) g.cancel(); this.g.clear() } }; function fl(g) { if (g.h != null) return g.i.concat(g.h.D); if (g.g != null && g.g.size !== 0) { let A = g.i; for (const P of g.g.values()) A = A.concat(P.D); return A } return k(g.i) } function dd(g) { if (g.V && typeof g.V == "function") return g.V(); if (typeof Map < "u" && g instanceof Map || typeof Set < "u" && g instanceof Set) return Array.from(g.values()); if (typeof g == "string") return g.split(""); if (m(g)) { for (var A = [], P = g.length, B = 0; B < P; B++)A.push(g[B]); return A } A = [], P = 0; for (B in g) A[P++] = g[B]; return A } function da(g) { if (g.na && typeof g.na == "function") return g.na(); if (!g.V || typeof g.V != "function") { if (typeof Map < "u" && g instanceof Map) return Array.from(g.keys()); if (!(typeof Set < "u" && g instanceof Set)) { if (m(g) || typeof g == "string") { var A = []; g = g.length; for (var P = 0; P < g; P++)A.push(P); return A } A = [], P = 0; for (const B in g) A[P++] = B; return A } } } function hd(g, A) { if (g.forEach && typeof g.forEach == "function") g.forEach(A, void 0); else if (m(g) || typeof g == "string") Array.prototype.forEach.call(g, A, void 0); else for (var P = da(g), B = dd(g), te = B.length, ue = 0; ue < te; ue++)A.call(void 0, B[ue], P && P[ue], g) } var Cr = RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$"); function pl(g, A) { if (g) { g = g.split("&"); for (var P = 0; P < g.length; P++) { var B = g[P].indexOf("="), te = null; if (0 <= B) { var ue = g[P].substring(0, B); te = g[P].substring(B + 1) } else ue = g[P]; A(ue, te ? decodeURIComponent(te.replace(/\+/g, " ")) : "") } } } function kn(g) { if (this.g = this.o = this.j = "", this.s = null, this.m = this.l = "", this.h = !1, g instanceof kn) { this.h = g.h, ha(this, g.j), this.o = g.o, this.g = g.g, bo(this, g.s), this.l = g.l; var A = g.i, P = new or; P.i = A.i, A.g && (P.g = new Map(A.g), P.h = A.h), Hi(this, P), this.m = g.m } else g && (A = String(g).match(Cr)) ? (this.h = !1, ha(this, A[1] || "", !0), this.o = xr(A[2] || ""), this.g = xr(A[3] || "", !0), bo(this, A[4]), this.l = xr(A[5] || "", !0), Hi(this, A[6] || "", !0), this.m = xr(A[7] || "")) : (this.h = !1, this.i = new or(null, this.h)) } kn.prototype.toString = function () { var g = [], A = this.j; A && g.push(Jn(A, Iu, !0), ":"); var P = this.g; return (P || A == "file") && (g.push("//"), (A = this.o) && g.push(Jn(A, Iu, !0), "@"), g.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g, "%$1")), P = this.s, P != null && g.push(":", String(P))), (P = this.l) && (this.g && P.charAt(0) != "/" && g.push("/"), g.push(Jn(P, P.charAt(0) == "/" ? sf : fa, !0))), (P = this.i.toString()) && g.push("?", P), (P = this.m) && g.push("#", Jn(P, pa)), g.join("") }; function ai(g) { return new kn(g) } function ha(g, A, P) { g.j = P ? xr(A, !0) : A, g.j && (g.j = g.j.replace(/:$/, "")) } function bo(g, A) { if (A) { if (A = Number(A), isNaN(A) || 0 > A) throw Error("Bad port number " + A); g.s = A } else g.s = null } function Hi(g, A, P) { A instanceof or ? (g.i = A, af(g.i, g.h)) : (P || (A = Jn(A, of)), g.i = new or(A, g.h)) } function Ht(g, A, P) { g.i.set(A, P) } function ml(g) { return Ht(g, "zx", Math.floor(2147483648 * Math.random()).toString(36) + Math.abs(Math.floor(2147483648 * Math.random()) ^ Date.now()).toString(36)), g } function xr(g, A) { return g ? A ? decodeURI(g.replace(/%25/g, "%2525")) : decodeURIComponent(g) : "" } function Jn(g, A, P) { return typeof g == "string" ? (g = encodeURI(g).replace(A, us), P && (g = g.replace(/%25([0-9a-fA-F]{2})/g, "%$1")), g) : null } function us(g) { return g = g.charCodeAt(0), "%" + (g >> 4 & 15).toString(16) + (g & 15).toString(16) } var Iu = /[#\/\?@]/g, fa = /[#\?:]/g, sf = /[#\?]/g, of = /[#\?@]/g, pa = /#/g; function or(g, A) { this.h = this.g = null, this.i = g || null, this.j = !!A } function Rr(g) { g.g || (g.g = new Map, g.h = 0, g.i && pl(g.i, function (A, P) { g.add(decodeURIComponent(A.replace(/\+/g, " ")), P) })) } n = or.prototype, n.add = function (g, A) { Rr(this), this.i = null, g = ar(this, g); var P = this.g.get(g); return P || this.g.set(g, P = []), P.push(A), this.h += 1, this }; function ki(g, A) { Rr(g), A = ar(g, A), g.g.has(A) && (g.i = null, g.h -= g.g.get(A).length, g.g.delete(A)) } function Kr(g, A) { return Rr(g), A = ar(g, A), g.g.has(A) } n.forEach = function (g, A) { Rr(this), this.g.forEach(function (P, B) { P.forEach(function (te) { g.call(A, te, B, this) }, this) }, this) }, n.na = function () { Rr(this); const g = Array.from(this.g.values()), A = Array.from(this.g.keys()), P = []; for (let B = 0; B < A.length; B++) { const te = g[B]; for (let ue = 0; ue < te.length; ue++)P.push(A[B]) } return P }, n.V = function (g) { Rr(this); let A = []; if (typeof g == "string") Kr(this, g) && (A = A.concat(this.g.get(ar(this, g)))); else { g = Array.from(this.g.values()); for (let P = 0; P < g.length; P++)A = A.concat(g[P]) } return A }, n.set = function (g, A) { return Rr(this), this.i = null, g = ar(this, g), Kr(this, g) && (this.h -= this.g.get(g).length), this.g.set(g, [A]), this.h += 1, this }, n.get = function (g, A) { return g ? (g = this.V(g), 0 < g.length ? String(g[0]) : A) : A }; function ku(g, A, P) { ki(g, A), 0 < P.length && (g.i = null, g.g.set(ar(g, A), k(P)), g.h += P.length) } n.toString = function () { if (this.i) return this.i; if (!this.g) return ""; const g = [], A = Array.from(this.g.keys()); for (var P = 0; P < A.length; P++) { var B = A[P]; const ue = encodeURIComponent(String(B)), Ce = this.V(B); for (B = 0; B < Ce.length; B++) { var te = ue; Ce[B] !== "" && (te += "=" + encodeURIComponent(String(Ce[B]))), g.push(te) } } return this.i = g.join("&") }; function ar(g, A) { return A = String(A), g.j && (A = A.toLowerCase()), A } function af(g, A) { A && !g.j && (Rr(g), g.i = null, g.g.forEach(function (P, B) { var te = B.toLowerCase(); B != te && (ki(this, B), ku(this, te, P)) }, g)), g.j = A } function gl(g, A) { const P = new qr; if (p.Image) { const B = new Image; B.onload = N(yi, P, "TestLoadImage: loaded", !0, A, B), B.onerror = N(yi, P, "TestLoadImage: error", !1, A, B), B.onabort = N(yi, P, "TestLoadImage: abort", !1, A, B), B.ontimeout = N(yi, P, "TestLoadImage: timeout", !1, A, B), p.setTimeout(function () { B.ontimeout && B.ontimeout() }, 1e4), B.src = g } else A(!1) } function cs(g, A) { const P = new qr, B = new AbortController, te = setTimeout(() => { B.abort(), yi(P, "TestPingServer: timeout", !1, A) }, 1e4); fetch(g, { signal: B.signal }).then(ue => { clearTimeout(te), ue.ok ? yi(P, "TestPingServer: ok", !0, A) : yi(P, "TestPingServer: server error", !1, A) }).catch(() => { clearTimeout(te), yi(P, "TestPingServer: error", !1, A) }) } function yi(g, A, P, B, te) { try { te && (te.onload = null, te.onerror = null, te.onabort = null, te.ontimeout = null), B(P) } catch { } } function lr() { this.g = new sa } function $r(g, A, P) { const B = P || ""; try { hd(g, function (te, ue) { let Ce = te; y(te) && (Ce = Fr(te)), A.push(B + ue + "=" + encodeURIComponent(Ce)) }) } catch (te) { throw A.push(B + "type=" + encodeURIComponent("_badmap")), te } } function ds(g) { this.l = g.Ub || null, this.j = g.eb || !1 } U(ds, Au), ds.prototype.g = function () { return new hs(this.l, this.j) }, ds.prototype.i = function (g) { return function () { return g } }({}); function hs(g, A) { je.call(this), this.D = g, this.o = A, this.m = void 0, this.status = this.readyState = 0, this.responseType = this.responseText = this.response = this.statusText = "", this.onreadystatechange = null, this.u = new Headers, this.h = null, this.B = "GET", this.A = "", this.g = !1, this.v = this.j = this.l = null } U(hs, je), n = hs.prototype, n.open = function (g, A) { if (this.readyState != 0) throw this.abort(), Error("Error reopening a connection"); this.B = g, this.A = A, this.readyState = 1, Us(this) }, n.send = function (g) { if (this.readyState != 1) throw this.abort(), Error("need to call open() first. "); this.g = !0; const A = { headers: this.u, method: this.B, credentials: this.m, cache: void 0 }; g && (A.body = g), (this.D || p).fetch(new Request(this.A, A)).then(this.Sa.bind(this), this.ga.bind(this)) }, n.abort = function () { this.response = this.responseText = "", this.u = new Headers, this.status = 0, this.j && this.j.cancel("Request was aborted.").catch(() => { }), 1 <= this.readyState && this.g && this.readyState != 4 && (this.g = !1, fs(this)), this.readyState = 0 }, n.Sa = function (g) { if (this.g && (this.l = g, this.h || (this.status = this.l.status, this.statusText = this.l.statusText, this.h = g.headers, this.readyState = 2, Us(this)), this.g && (this.readyState = 3, Us(this), this.g))) if (this.responseType === "arraybuffer") g.arrayBuffer().then(this.Qa.bind(this), this.ga.bind(this)); else if (typeof p.ReadableStream < "u" && "body" in g) { if (this.j = g.body.getReader(), this.o) { if (this.responseType) throw Error('responseType must be empty for "streamBinaryChunks" mode responses.'); this.response = [] } else this.response = this.responseText = "", this.v = new TextDecoder; vl(this) } else g.text().then(this.Ra.bind(this), this.ga.bind(this)) }; function vl(g) { g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g)) } n.Pa = function (g) { if (this.g) { if (this.o && g.value) this.response.push(g.value); else if (!this.o) { var A = g.value ? g.value : new Uint8Array(0); (A = this.v.decode(A, { stream: !g.done })) && (this.response = this.responseText += A) } g.done ? fs(this) : Us(this), this.readyState == 3 && vl(this) } }, n.Ra = function (g) { this.g && (this.response = this.responseText = g, fs(this)) }, n.Qa = function (g) { this.g && (this.response = g, fs(this)) }, n.ga = function () { this.g && fs(this) }; function fs(g) { g.readyState = 4, g.l = null, g.j = null, g.v = null, Us(g) } n.setRequestHeader = function (g, A) { this.u.append(g, A) }, n.getResponseHeader = function (g) { return this.h && this.h.get(g.toLowerCase()) || "" }, n.getAllResponseHeaders = function () {
    if (!this.h) return ""; const g = [], A = this.h.entries(); for (var P = A.next(); !P.done;)P = P.value, g.push(P[0] + ": " + P[1]), P = A.next(); return g.join(`\r
`)
  }; function Us(g) { g.onreadystatechange && g.onreadystatechange.call(g) } Object.defineProperty(hs.prototype, "withCredentials", { get: function () { return this.m === "include" }, set: function (g) { this.m = g ? "include" : "same-origin" } }); function Pu(g) {
    let A = ""; return re(g, function (P, B) {
      A += B, A += ":", A += P, A += `\r
`}), A
  } function Pn(g, A, P) { e: { for (B in P) { var B = !1; break e } B = !0 } B || (P = Pu(P), typeof g == "string" ? P != null && encodeURIComponent(String(P)) : Ht(g, A, P)) } function yt(g) { je.call(this), this.headers = new Map, this.o = g || null, this.h = !1, this.v = this.g = null, this.D = "", this.m = 0, this.l = "", this.j = this.B = this.u = this.A = !1, this.I = null, this.H = "", this.J = !1 } U(yt, je); var Bs = /^https?$/i, wo = ["POST", "PUT"]; n = yt.prototype, n.Ha = function (g) { this.J = g }, n.ea = function (g, A, P, B) { if (this.g) throw Error("[goog.net.XhrIo] Object is active with another request=" + this.D + "; newUri=" + g); A = A ? A.toUpperCase() : "GET", this.D = g, this.l = "", this.m = 0, this.A = !1, this.h = !0, this.g = this.o ? this.o.g() : Ri.g(), this.v = this.o ? oa(this.o) : oa(Ri), this.g.onreadystatechange = C(this.Ea, this); try { this.B = !0, this.g.open(A, String(g), !0), this.B = !1 } catch (ue) { fd(this, ue); return } if (g = P || "", P = new Map(this.headers), B) if (Object.getPrototypeOf(B) === Object.prototype) for (var te in B) P.set(te, B[te]); else if (typeof B.keys == "function" && typeof B.get == "function") for (const ue of B.keys()) P.set(ue, B.get(ue)); else throw Error("Unknown input type for opt_headers: " + String(B)); B = Array.from(P.keys()).find(ue => ue.toLowerCase() == "content-type"), te = p.FormData && g instanceof p.FormData, !(0 <= Array.prototype.indexOf.call(wo, A, void 0)) || B || te || P.set("Content-Type", "application/x-www-form-urlencoded;charset=utf-8"); for (const [ue, Ce] of P) this.g.setRequestHeader(ue, Ce); this.H && (this.g.responseType = this.H), "withCredentials" in this.g && this.g.withCredentials !== this.J && (this.g.withCredentials = this.J); try { ga(this), this.u = !0, this.g.send(g), this.u = !1 } catch (ue) { fd(this, ue) } }; function fd(g, A) { g.h = !1, g.g && (g.j = !0, g.g.abort(), g.j = !1), g.l = A, g.m = 5, Nu(g), Ir(g) } function Nu(g) { g.A || (g.A = !0, Be(g, "complete"), Be(g, "error")) } n.abort = function (g) { this.g && this.h && (this.h = !1, this.j = !0, this.g.abort(), this.j = !1, this.m = g || 7, Be(this, "complete"), Be(this, "abort"), Ir(this)) }, n.N = function () { this.g && (this.h && (this.h = !1, this.j = !0, this.g.abort(), this.j = !1), Ir(this, !0)), yt.aa.N.call(this) }, n.Ea = function () { this.s || (this.B || this.u || this.j ? ma(this) : this.bb()) }, n.bb = function () { ma(this) }; function ma(g) { if (g.h && typeof d < "u" && (!g.v[1] || Wr(g) != 4 || g.Z() != 2)) { if (g.u && Wr(g) == 4) $t(g.Ea, 0, g); else if (Be(g, "readystatechange"), Wr(g) == 4) { g.h = !1; try { const Ce = g.Z(); e: switch (Ce) { case 200: case 201: case 202: case 204: case 206: case 304: case 1223: var A = !0; break e; default: A = !1 }var P; if (!(P = A)) { var B; if (B = Ce === 0) { var te = String(g.D).match(Cr)[1] || null; !te && p.self && p.self.location && (te = p.self.location.protocol.slice(0, -1)), B = !Bs.test(te ? te.toLowerCase() : "") } P = B } if (P) Be(g, "complete"), Be(g, "success"); else { g.m = 6; try { var ue = 2 < Wr(g) ? g.g.statusText : "" } catch { ue = "" } g.l = ue + " [" + g.Z() + "]", Nu(g) } } finally { Ir(g) } } } } function Ir(g, A) { if (g.g) { ga(g); const P = g.g, B = g.v[0] ? () => { } : null; g.g = null, g.v = null, A || Be(g, "ready"); try { P.onreadystatechange = B } catch { } } } function ga(g) { g.I && (p.clearTimeout(g.I), g.I = null) } n.isActive = function () { return !!this.g }; function Wr(g) { return g.g ? g.g.readyState : 0 } n.Z = function () { try { return 2 < Wr(this) ? this.g.status : -1 } catch { return -1 } }, n.oa = function () { try { return this.g ? this.g.responseText : "" } catch { return "" } }, n.Oa = function (g) { if (this.g) { var A = this.g.responseText; return g && A.indexOf(g) == 0 && (A = A.substring(g.length)), ra(A) } }; function pd(g) { try { if (!g.g) return null; if ("response" in g.g) return g.g.response; switch (g.H) { case "": case "text": return g.g.responseText; case "arraybuffer": if ("mozResponseArrayBuffer" in g.g) return g.g.mozResponseArrayBuffer }return null } catch { return null } } function Fs(g) {
    const A = {}; g = (g.g && 2 <= Wr(g) && g.g.getAllResponseHeaders() || "").split(`\r
`); for (let B = 0; B < g.length; B++) { if (z(g[B])) continue; var P = G(g[B]); const te = P[0]; if (P = P[1], typeof P != "string") continue; P = P.trim(); const ue = A[te] || []; A[te] = ue, ue.push(P) } F(A, function (B) { return B.join(", ") })
  } n.Ba = function () { return this.m }, n.Ka = function () { return typeof this.l == "string" ? this.l : String(this.l) }; function ps(g, A, P) { return P && P.internalChannelParams && P.internalChannelParams[g] || A } function Mu(g) { this.Aa = 0, this.i = [], this.j = new qr, this.ia = this.qa = this.I = this.W = this.g = this.ya = this.D = this.H = this.m = this.S = this.o = null, this.Ya = this.U = 0, this.Va = ps("failFast", !1, g), this.F = this.C = this.u = this.s = this.l = null, this.X = !0, this.za = this.T = -1, this.Y = this.v = this.B = 0, this.Ta = ps("baseRetryDelayMs", 5e3, g), this.cb = ps("retryDelaySeedMs", 1e4, g), this.Wa = ps("forwardChannelMaxRetries", 2, g), this.wa = ps("forwardChannelRequestTimeoutMs", 2e4, g), this.pa = g && g.xmlHttpFactory || void 0, this.Xa = g && g.Tb || void 0, this.Ca = g && g.useFetchStreams || !1, this.L = void 0, this.J = g && g.supportsCrossDomainXhr || !1, this.K = "", this.h = new Qn(g && g.concurrentRequestLimit), this.Da = new lr, this.P = g && g.fastHandshake || !1, this.O = g && g.encodeInitMessageHeaders || !1, this.P && this.O && (this.O = !1), this.Ua = g && g.Rb || !1, g && g.xa && this.j.xa(), g && g.forceLongPolling && (this.X = !1), this.ba = !this.P && this.X && g && g.detectBufferingProxy || !1, this.ja = void 0, g && g.longPollingTimeout && 0 < g.longPollingTimeout && (this.ja = g.longPollingTimeout), this.ca = void 0, this.R = 0, this.M = !1, this.ka = this.A = null } n = Mu.prototype, n.la = 8, n.G = 1, n.connect = function (g, A, P, B) { fn(0), this.W = g, this.H = A || {}, P && B !== void 0 && (this.H.OSID = P, this.H.OAID = B), this.F = this.X, this.I = cf(this, null, this.W), _o(this) }; function md(g) { if (lf(g), g.G == 3) { var A = g.U++, P = ai(g.I); if (Ht(P, "SID", g.K), Ht(P, "RID", A), Ht(P, "TYPE", "terminate"), zs(g, P), A = new zi(g, g.j, A), A.L = 2, A.v = ml(ai(P)), P = !1, p.navigator && p.navigator.sendBeacon) try { P = p.navigator.sendBeacon(A.v.toString(), "") } catch { } !P && p.Image && (new Image().src = A.v, P = !0), P || (A.g = df(A.j, null), A.g.ea(A.v)), A.F = Date.now(), ua(A) } uf(g) } function Du(g) { g.g && (yl(g), g.g.cancel(), g.g = null) } function lf(g) { Du(g), g.u && (p.clearTimeout(g.u), g.u = null), bl(g), g.h.cancel(), g.s && (typeof g.s == "number" && p.clearTimeout(g.s), g.s = null) } function _o(g) { if (!Fn(g.h) && !g.s) { g.s = !0; var A = g.Ga; fe || X(), _e || (fe(), _e = !0), Ie.add(A, g), g.B = 0 } } function $e(g, A) { return Ru(g.h) >= g.h.j - (g.s ? 1 : 0) ? !1 : g.s ? (g.i = A.D.concat(g.i), !0) : g.G == 1 || g.G == 2 || g.B >= (g.Va ? 0 : g.Wa) ? !1 : (g.s = Bn(C(g.Ga, g, A), ms(g, g.B)), g.B++, !0) } n.Ga = function (g) { if (this.s) if (this.s = null, this.G == 1) { if (!g) { this.U = Math.floor(1e5 * Math.random()), g = this.U++; const te = new zi(this, this.j, g); let ue = this.o; if (this.S && (ue ? (ue = V(ue), q(ue, this.S)) : ue = this.S), this.m !== null || this.O || (te.H = ue, ue = null), this.P) e: { for (var A = 0, P = 0; P < this.i.length; P++) { t: { var B = this.i[P]; if ("__data__" in B.map && (B = B.map.__data__, typeof B == "string")) { B = B.length; break t } B = void 0 } if (B === void 0) break; if (A += B, 4096 < A) { A = P; break e } if (A === 4096 || P === this.i.length - 1) { A = P + 1; break e } } A = 1e3 } else A = 1e3; A = bt(this, te, A), P = ai(this.I), Ht(P, "RID", g), Ht(P, "CVER", 22), this.D && Ht(P, "X-HTTP-Session-Id", this.D), zs(this, P), ue && (this.O ? A = "headers=" + encodeURIComponent(String(Pu(ue))) + "&" + A : this.m && Pn(P, this.m, ue)), hl(this.h, te), this.Ua && Ht(P, "TYPE", "init"), this.P ? (Ht(P, "$req", A), Ht(P, "SID", "null"), te.T = !0, Ii(te, P, null)) : Ii(te, P, A), this.G = 2 } } else this.G == 3 && (g ? va(this, g) : this.i.length == 0 || Fn(this.h) || va(this)) }; function va(g, A) { var P; A ? P = A.l : P = g.U++; const B = ai(g.I); Ht(B, "SID", g.K), Ht(B, "RID", P), Ht(B, "AID", g.T), zs(g, B), g.m && g.o && Pn(B, g.m, g.o), P = new zi(g, g.j, P, g.B + 1), g.m === null && (P.H = g.o), A && (g.i = A.D.concat(g.i)), A = bt(g, P, 1e3), P.I = Math.round(.5 * g.wa) + Math.round(.5 * g.wa * Math.random()), hl(g.h, P), Ii(P, B, A) } function zs(g, A) { g.H && re(g.H, function (P, B) { Ht(A, B, P) }), g.l && hd({}, function (P, B) { Ht(A, B, P) }) } function bt(g, A, P) { P = Math.min(g.i.length, P); var B = g.l ? C(g.l.Na, g.l, g) : null; e: { var te = g.i; let ue = -1; for (; ;) { const Ce = ["count=" + P]; ue == -1 ? 0 < P ? (ue = te[0].g, Ce.push("ofs=" + ue)) : ue = 0 : Ce.push("ofs=" + ue); let mt = !0; for (let Zn = 0; Zn < P; Zn++) { let ut = te[Zn].g; const ui = te[Zn].map; if (ut -= ue, 0 > ut) ue = Math.max(0, te[Zn].g - 100), mt = !1; else try { $r(ui, Ce, "req" + ut + "_") } catch { B && B(ui) } } if (mt) { B = Ce.join("&"); break e } } } return g = g.i.splice(0, P), A.D = g, B } function Re(g) { if (!g.g && !g.u) { g.Y = 1; var A = g.Fa; fe || X(), _e || (fe(), _e = !0), Ie.add(A, g), g.v = 0 } } function gd(g) { return g.g || g.u || 3 <= g.v ? !1 : (g.Y++, g.u = Bn(C(g.Fa, g), ms(g, g.v)), g.v++, !0) } n.Fa = function () { if (this.u = null, ln(this), this.ba && !(this.M || this.g == null || 0 >= this.R)) { var g = 2 * this.R; this.j.info("BP detection timer enabled: " + g), this.A = Bn(C(this.ab, this), g) } }, n.ab = function () { this.A && (this.A = null, this.j.info("BP detection timeout reached."), this.j.info("Buffering proxy detected and switch to long-polling!"), this.F = !1, this.M = !0, fn(10), Du(this), ln(this)) }; function yl(g) { g.A != null && (p.clearTimeout(g.A), g.A = null) } function ln(g) { g.g = new zi(g, g.j, "rpc", g.Y), g.m === null && (g.g.H = g.o), g.g.O = 0; var A = ai(g.qa); Ht(A, "RID", "rpc"), Ht(A, "SID", g.K), Ht(A, "AID", g.T), Ht(A, "CI", g.F ? "0" : "1"), !g.F && g.ja && Ht(A, "TO", g.ja), Ht(A, "TYPE", "xmlhttp"), zs(g, A), g.m && g.o && Pn(A, g.m, g.o), g.L && (g.g.I = g.L); var P = g.g; g = g.ia, P.L = 1, P.v = ml(ai(A)), P.m = null, P.P = !0, js(P, g) } n.Za = function () { this.C != null && (this.C = null, Du(this), gd(this), fn(19)) }; function bl(g) { g.C != null && (p.clearTimeout(g.C), g.C = null) } function li(g, A) { var P = null; if (g.g == A) { bl(g), yl(g), g.g = null; var B = 2 } else if (Gr(g.h, A)) P = A.D, oi(g.h, A), B = 1; else return; if (g.G != 0) { if (A.o) if (B == 1) { P = A.m ? A.m.length : 0, A = Date.now() - A.F; var te = g.B; B = Hr(), Be(B, new Xn(B, P)), _o(g) } else Re(g); else if (te = A.s, te == 3 || te == 0 && 0 < A.X || !(B == 1 && $e(g, A) || B == 2 && gd(g))) switch (P && 0 < P.length && (A = g.h, A.i = A.i.concat(P)), te) { case 1: Hs(g, 5); break; case 4: Hs(g, 10); break; case 3: Hs(g, 6); break; default: Hs(g, 2) } } } function ms(g, A) { let P = g.Ta + Math.floor(Math.random() * g.cb); return g.isActive() || (P *= 2), P * A } function Hs(g, A) { if (g.j.info("Error code " + A), A == 2) { var P = C(g.fb, g), B = g.Xa; const te = !B; B = new kn(B || "//www.google.com/images/cleardot.gif"), p.location && p.location.protocol == "http" || ha(B, "https"), ml(B), te ? gl(B.toString(), P) : cs(B.toString(), P) } else fn(2); g.G = 0, g.l && g.l.sa(A), uf(g), lf(g) } n.fb = function (g) { g ? (this.j.info("Successfully pinged google.com"), fn(2)) : (this.j.info("Failed to ping google.com"), fn(1)) }; function uf(g) { if (g.G = 0, g.ka = [], g.l) { const A = fl(g.h); (A.length != 0 || g.i.length != 0) && (R(g.ka, A), R(g.ka, g.i), g.h.i.length = 0, k(g.i), g.i.length = 0), g.l.ra() } } function cf(g, A, P) { var B = P instanceof kn ? ai(P) : new kn(P); if (B.g != "") A && (B.g = A + "." + B.g), bo(B, B.s); else { var te = p.location; B = te.protocol, A = A ? A + "." + te.hostname : te.hostname, te = +te.port; var ue = new kn(null); B && ha(ue, B), A && (ue.g = A), te && bo(ue, te), P && (ue.l = P), B = ue } return P = g.D, A = g.ya, P && A && Ht(B, P, A), Ht(B, "VER", g.la), zs(g, B), B } function df(g, A, P) { if (A && !g.J) throw Error("Can't create secondary domain capable XhrIo object."); return A = g.Ca && !g.pa ? new yt(new ds({ eb: P })) : new yt(g.pa), A.Ha(g.J), A } n.isActive = function () { return !!this.l && this.l.isActive(this) }; function Ou() { } n = Ou.prototype, n.ua = function () { }, n.ta = function () { }, n.sa = function () { }, n.ra = function () { }, n.isActive = function () { return !0 }, n.Na = function () { }; function Lu() { } Lu.prototype.g = function (g, A) { return new bi(g, A) }; function bi(g, A) { je.call(this), this.g = new Mu(A), this.l = g, this.h = A && A.messageUrlParams || null, g = A && A.messageHeaders || null, A && A.clientProtocolHeaderRequired && (g ? g["X-Client-Protocol"] = "webchannel" : g = { "X-Client-Protocol": "webchannel" }), this.g.o = g, g = A && A.initMessageHeaders || null, A && A.messageContentType && (g ? g["X-WebChannel-Content-Type"] = A.messageContentType : g = { "X-WebChannel-Content-Type": A.messageContentType }), A && A.va && (g ? g["X-WebChannel-Client-Profile"] = A.va : g = { "X-WebChannel-Client-Profile": A.va }), this.g.S = g, (g = A && A.Sb) && !z(g) && (this.g.m = g), this.v = A && A.supportsCrossDomainXhr || !1, this.u = A && A.sendRawJson || !1, (A = A && A.httpSessionIdParam) && !z(A) && (this.g.D = A, g = this.h, g !== null && A in g && (g = this.h, A in g && delete g[A])), this.j = new qs(this) } U(bi, je), bi.prototype.m = function () { this.g.l = this.j, this.v && (this.g.J = !0), this.g.connect(this.l, this.h || void 0) }, bi.prototype.close = function () { md(this.g) }, bi.prototype.o = function (g) { var A = this.g; if (typeof g == "string") { var P = {}; P.__data__ = g, g = P } else this.u && (P = {}, P.__data__ = Fr(g), g = P); A.i.push(new rf(A.Ya++, g)), A.G == 3 && _o(A) }, bi.prototype.N = function () { this.g.l = null, delete this.j, md(this.g), delete this.g, bi.aa.N.call(this) }; function hf(g) { as.call(this), g.__headers__ && (this.headers = g.__headers__, this.statusCode = g.__status__, delete g.__headers__, delete g.__status__); var A = g.__sm__; if (A) { e: { for (const P in A) { g = P; break e } g = void 0 } (this.i = g) && (g = this.i, A = A !== null && g in A ? A[g] : void 0), this.data = A } else this.data = g } U(hf, as); function ff() { cl.call(this), this.status = 1 } U(ff, cl); function qs(g) { this.g = g } U(qs, Ou), qs.prototype.ua = function () { Be(this.g, "a") }, qs.prototype.ta = function (g) { Be(this.g, new hf(g)) }, qs.prototype.sa = function (g) { Be(this.g, new ff) }, qs.prototype.ra = function () { Be(this.g, "b") }, Lu.prototype.createWebChannel = Lu.prototype.g, bi.prototype.send = bi.prototype.o, bi.prototype.open = bi.prototype.m, bi.prototype.close = bi.prototype.close, hI = function () { return new Lu }, dI = function () { return Hr() }, cI = zr, U_ = { mb: 0, pb: 1, qb: 2, Jb: 3, Ob: 4, Lb: 5, Mb: 6, Kb: 7, Ib: 8, Nb: 9, PROXY: 10, NOPROXY: 11, Gb: 12, Cb: 13, Db: 14, Bb: 15, Eb: 16, Fb: 17, ib: 18, hb: 19, jb: 20 }, Ar.NO_ERROR = 0, Ar.TIMEOUT = 8, Ar.HTTP_ERROR = 6, B0 = Ar, yo.COMPLETE = "complete", uI = yo, ad.EventType = xi, xi.OPEN = "a", xi.CLOSE = "b", xi.ERROR = "c", xi.MESSAGE = "d", je.prototype.listen = je.prototype.K, mv = ad, yt.prototype.listenOnce = yt.prototype.L, yt.prototype.getLastError = yt.prototype.Ka, yt.prototype.getLastErrorCode = yt.prototype.Ba, yt.prototype.getStatus = yt.prototype.Z, yt.prototype.getResponseJson = yt.prototype.Oa, yt.prototype.getResponseText = yt.prototype.oa, yt.prototype.send = yt.prototype.ea, yt.prototype.setWithCredentials = yt.prototype.Ha, lI = yt
}).apply(typeof S0 < "u" ? S0 : typeof self < "u" ? self : typeof window < "u" ? window : {}); const yA = "@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r { constructor(e) { this.uid = e } isAuthenticated() { return this.uid != null } toKey() { return this.isAuthenticated() ? "uid:" + this.uid : "anonymous-user" } isEqual(e) { return e.uid === this.uid } } _r.UNAUTHENTICATED = new _r(null), _r.GOOGLE_CREDENTIALS = new _r("google-credentials-uid"), _r.FIRST_PARTY = new _r("first-party-uid"), _r.MOCK_USER = new _r("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ym = "10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh = new kb("@firebase/firestore"); function uv() { return qh.logLevel } function Ue(n, ...e) { if (qh.logLevel <= xt.DEBUG) { const t = e.map(wE); qh.debug(`Firestore (${ym}): ${n}`, ...t) } } function wu(n, ...e) { if (qh.logLevel <= xt.ERROR) { const t = e.map(wE); qh.error(`Firestore (${ym}): ${n}`, ...t) } } function tm(n, ...e) { if (qh.logLevel <= xt.WARN) { const t = e.map(wE); qh.warn(`Firestore (${ym}): ${n}`, ...t) } } function wE(n) {
  if (typeof n == "string") return n; try {/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function (t) { return JSON.stringify(t) }(n)
  } catch { return n }
}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(n = "Unexpected state") { const e = `FIRESTORE (${ym}) INTERNAL ASSERTION FAILED: ` + n; throw wu(e), new Error(e) } function Jt(n, e) { n || et() } function ot(n, e) { return n }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be = { OK: "ok", CANCELLED: "cancelled", UNKNOWN: "unknown", INVALID_ARGUMENT: "invalid-argument", DEADLINE_EXCEEDED: "deadline-exceeded", NOT_FOUND: "not-found", ALREADY_EXISTS: "already-exists", PERMISSION_DENIED: "permission-denied", UNAUTHENTICATED: "unauthenticated", RESOURCE_EXHAUSTED: "resource-exhausted", FAILED_PRECONDITION: "failed-precondition", ABORTED: "aborted", OUT_OF_RANGE: "out-of-range", UNIMPLEMENTED: "unimplemented", INTERNAL: "internal", UNAVAILABLE: "unavailable", DATA_LOSS: "data-loss" }; class Ne extends Ur { constructor(e, t) { super(e, t), this.code = e, this.message = t, this.toString = () => `${this.name}: [code=${this.code}]: ${this.message}` } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu { constructor() { this.promise = new Promise((e, t) => { this.resolve = e, this.reject = t }) } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI { constructor(e, t) { this.user = t, this.type = "OAuth", this.headers = new Map, this.headers.set("Authorization", `Bearer ${e}`) } } class FU { getToken() { return Promise.resolve(null) } invalidateToken() { } start(e, t) { e.enqueueRetryable(() => t(_r.UNAUTHENTICATED)) } shutdown() { } } class zU { constructor(e) { this.token = e, this.changeListener = null } getToken() { return Promise.resolve(this.token) } invalidateToken() { } start(e, t) { this.changeListener = t, e.enqueueRetryable(() => t(this.token.user)) } shutdown() { this.changeListener = null } } class HU { constructor(e) { this.t = e, this.currentUser = _r.UNAUTHENTICATED, this.i = 0, this.forceRefresh = !1, this.auth = null } start(e, t) { Jt(this.o === void 0); let i = this.i; const o = m => this.i !== i ? (i = this.i, t(m)) : Promise.resolve(); let u = new fu; this.o = () => { this.i++, this.currentUser = this.u(), u.resolve(), u = new fu, e.enqueueRetryable(() => o(this.currentUser)) }; const d = () => { const m = u; e.enqueueRetryable(async () => { await m.promise, await o(this.currentUser) }) }, p = m => { Ue("FirebaseAuthCredentialsProvider", "Auth detected"), this.auth = m, this.o && (this.auth.addAuthTokenListener(this.o), d()) }; this.t.onInit(m => p(m)), setTimeout(() => { if (!this.auth) { const m = this.t.getImmediate({ optional: !0 }); m ? p(m) : (Ue("FirebaseAuthCredentialsProvider", "Auth not yet detected"), u.resolve(), u = new fu) } }, 0), d() } getToken() { const e = this.i, t = this.forceRefresh; return this.forceRefresh = !1, this.auth ? this.auth.getToken(t).then(i => this.i !== e ? (Ue("FirebaseAuthCredentialsProvider", "getToken aborted due to token change."), this.getToken()) : i ? (Jt(typeof i.accessToken == "string"), new fI(i.accessToken, this.currentUser)) : null) : Promise.resolve(null) } invalidateToken() { this.forceRefresh = !0 } shutdown() { this.auth && this.o && this.auth.removeAuthTokenListener(this.o), this.o = void 0 } u() { const e = this.auth && this.auth.getUid(); return Jt(e === null || typeof e == "string"), new _r(e) } } class qU { constructor(e, t, i) { this.l = e, this.h = t, this.P = i, this.type = "FirstParty", this.user = _r.FIRST_PARTY, this.I = new Map } T() { return this.P ? this.P() : null } get headers() { this.I.set("X-Goog-AuthUser", this.l); const e = this.T(); return e && this.I.set("Authorization", e), this.h && this.I.set("X-Goog-Iam-Authorization-Token", this.h), this.I } } class GU { constructor(e, t, i) { this.l = e, this.h = t, this.P = i } getToken() { return Promise.resolve(new qU(this.l, this.h, this.P)) } start(e, t) { e.enqueueRetryable(() => t(_r.FIRST_PARTY)) } shutdown() { } invalidateToken() { } } class KU { constructor(e) { this.value = e, this.type = "AppCheck", this.headers = new Map, e && e.length > 0 && this.headers.set("x-firebase-appcheck", this.value) } } class $U { constructor(e) { this.A = e, this.forceRefresh = !1, this.appCheck = null, this.R = null } start(e, t) { Jt(this.o === void 0); const i = u => { u.error != null && Ue("FirebaseAppCheckTokenProvider", `Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`); const d = u.token !== this.R; return this.R = u.token, Ue("FirebaseAppCheckTokenProvider", `Received ${d ? "new" : "existing"} token.`), d ? t(u.token) : Promise.resolve() }; this.o = u => { e.enqueueRetryable(() => i(u)) }; const o = u => { Ue("FirebaseAppCheckTokenProvider", "AppCheck detected"), this.appCheck = u, this.o && this.appCheck.addTokenListener(this.o) }; this.A.onInit(u => o(u)), setTimeout(() => { if (!this.appCheck) { const u = this.A.getImmediate({ optional: !0 }); u ? o(u) : Ue("FirebaseAppCheckTokenProvider", "AppCheck not yet detected") } }, 0) } getToken() { const e = this.forceRefresh; return this.forceRefresh = !1, this.appCheck ? this.appCheck.getToken(e).then(t => t ? (Jt(typeof t.token == "string"), this.R = t.token, new KU(t.token)) : null) : Promise.resolve(null) } invalidateToken() { this.forceRefresh = !0 } shutdown() { this.appCheck && this.o && this.appCheck.removeTokenListener(this.o), this.o = void 0 } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(n) { const e = typeof self < "u" && (self.crypto || self.msCrypto), t = new Uint8Array(n); if (e && typeof e.getRandomValues == "function") e.getRandomValues(t); else for (let i = 0; i < n; i++)t[i] = Math.floor(256 * Math.random()); return t }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI { static newId() { const e = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", t = Math.floor(256 / e.length) * e.length; let i = ""; for (; i.length < 20;) { const o = WU(40); for (let u = 0; u < o.length; ++u)i.length < 20 && o[u] < t && (i += e.charAt(o[u] % e.length)) } return i } } function Ft(n, e) { return n < e ? -1 : n > e ? 1 : 0 } function nm(n, e, t) { return n.length === e.length && n.every((i, o) => t(i, e[o])) }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti { constructor(e, t) { if (this.seconds = e, this.nanoseconds = t, t < 0) throw new Ne(be.INVALID_ARGUMENT, "Timestamp nanoseconds out of range: " + t); if (t >= 1e9) throw new Ne(be.INVALID_ARGUMENT, "Timestamp nanoseconds out of range: " + t); if (e < -62135596800) throw new Ne(be.INVALID_ARGUMENT, "Timestamp seconds out of range: " + e); if (e >= 253402300800) throw new Ne(be.INVALID_ARGUMENT, "Timestamp seconds out of range: " + e) } static now() { return Ti.fromMillis(Date.now()) } static fromDate(e) { return Ti.fromMillis(e.getTime()) } static fromMillis(e) { const t = Math.floor(e / 1e3), i = Math.floor(1e6 * (e - 1e3 * t)); return new Ti(t, i) } toDate() { return new Date(this.toMillis()) } toMillis() { return 1e3 * this.seconds + this.nanoseconds / 1e6 } _compareTo(e) { return this.seconds === e.seconds ? Ft(this.nanoseconds, e.nanoseconds) : Ft(this.seconds, e.seconds) } isEqual(e) { return e.seconds === this.seconds && e.nanoseconds === this.nanoseconds } toString() { return "Timestamp(seconds=" + this.seconds + ", nanoseconds=" + this.nanoseconds + ")" } toJSON() { return { seconds: this.seconds, nanoseconds: this.nanoseconds } } valueOf() { const e = this.seconds - -62135596800; return String(e).padStart(12, "0") + "." + String(this.nanoseconds).padStart(9, "0") } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt { constructor(e) { this.timestamp = e } static fromTimestamp(e) { return new rt(e) } static min() { return new rt(new Ti(0, 0)) } static max() { return new rt(new Ti(253402300799, 999999999)) } compareTo(e) { return this.timestamp._compareTo(e.timestamp) } isEqual(e) { return this.timestamp.isEqual(e.timestamp) } toMicroseconds() { return 1e6 * this.timestamp.seconds + this.timestamp.nanoseconds / 1e3 } toString() { return "SnapshotVersion(" + this.timestamp.toString() + ")" } toTimestamp() { return this.timestamp } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv { constructor(e, t, i) { t === void 0 ? t = 0 : t > e.length && et(), i === void 0 ? i = e.length - t : i > e.length - t && et(), this.segments = e, this.offset = t, this.len = i } get length() { return this.len } isEqual(e) { return Hv.comparator(this, e) === 0 } child(e) { const t = this.segments.slice(this.offset, this.limit()); return e instanceof Hv ? e.forEach(i => { t.push(i) }) : t.push(e), this.construct(t) } limit() { return this.offset + this.length } popFirst(e) { return e = e === void 0 ? 1 : e, this.construct(this.segments, this.offset + e, this.length - e) } popLast() { return this.construct(this.segments, this.offset, this.length - 1) } firstSegment() { return this.segments[this.offset] } lastSegment() { return this.get(this.length - 1) } get(e) { return this.segments[this.offset + e] } isEmpty() { return this.length === 0 } isPrefixOf(e) { if (e.length < this.length) return !1; for (let t = 0; t < this.length; t++)if (this.get(t) !== e.get(t)) return !1; return !0 } isImmediateParentOf(e) { if (this.length + 1 !== e.length) return !1; for (let t = 0; t < this.length; t++)if (this.get(t) !== e.get(t)) return !1; return !0 } forEach(e) { for (let t = this.offset, i = this.limit(); t < i; t++)e(this.segments[t]) } toArray() { return this.segments.slice(this.offset, this.limit()) } static comparator(e, t) { const i = Math.min(e.length, t.length); for (let o = 0; o < i; o++) { const u = e.get(o), d = t.get(o); if (u < d) return -1; if (u > d) return 1 } return e.length < t.length ? -1 : e.length > t.length ? 1 : 0 } } class Tn extends Hv { construct(e, t, i) { return new Tn(e, t, i) } canonicalString() { return this.toArray().join("/") } toString() { return this.canonicalString() } toUriEncodedString() { return this.toArray().map(encodeURIComponent).join("/") } static fromString(...e) { const t = []; for (const i of e) { if (i.indexOf("//") >= 0) throw new Ne(be.INVALID_ARGUMENT, `Invalid segment (${i}). Paths must not contain // in them.`); t.push(...i.split("/").filter(o => o.length > 0)) } return new Tn(t) } static emptyPath() { return new Tn([]) } } const YU = /^[_a-zA-Z][_a-zA-Z0-9]*$/; class Zi extends Hv { construct(e, t, i) { return new Zi(e, t, i) } static isValidIdentifier(e) { return YU.test(e) } canonicalString() { return this.toArray().map(e => (e = e.replace(/\\/g, "\\\\").replace(/`/g, "\\`"), Zi.isValidIdentifier(e) || (e = "`" + e + "`"), e)).join(".") } toString() { return this.canonicalString() } isKeyField() { return this.length === 1 && this.get(0) === "__name__" } static keyField() { return new Zi(["__name__"]) } static fromServerFormat(e) { const t = []; let i = "", o = 0; const u = () => { if (i.length === 0) throw new Ne(be.INVALID_ARGUMENT, `Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`); t.push(i), i = "" }; let d = !1; for (; o < e.length;) { const p = e[o]; if (p === "\\") { if (o + 1 === e.length) throw new Ne(be.INVALID_ARGUMENT, "Path has trailing escape character: " + e); const m = e[o + 1]; if (m !== "\\" && m !== "." && m !== "`") throw new Ne(be.INVALID_ARGUMENT, "Path has invalid escape sequence: " + e); i += m, o += 2 } else p === "`" ? (d = !d, o++) : p !== "." || d ? (i += p, o++) : (u(), o++) } if (u(), d) throw new Ne(be.INVALID_ARGUMENT, "Unterminated ` in path: " + e); return new Zi(t) } static emptyPath() { return new Zi([]) } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge { constructor(e) { this.path = e } static fromPath(e) { return new Ge(Tn.fromString(e)) } static fromName(e) { return new Ge(Tn.fromString(e).popFirst(5)) } static empty() { return new Ge(Tn.emptyPath()) } get collectionGroup() { return this.path.popLast().lastSegment() } hasCollectionId(e) { return this.path.length >= 2 && this.path.get(this.path.length - 2) === e } getCollectionGroup() { return this.path.get(this.path.length - 2) } getCollectionPath() { return this.path.popLast() } isEqual(e) { return e !== null && Tn.comparator(this.path, e.path) === 0 } toString() { return this.path.toString() } static comparator(e, t) { return Tn.comparator(e.path, t.path) } static isDocumentKey(e) { return e.length % 2 == 0 } static fromSegments(e) { return new Ge(new Tn(e.slice())) } } function XU(n, e) { const t = n.toTimestamp().seconds, i = n.toTimestamp().nanoseconds + 1, o = rt.fromTimestamp(i === 1e9 ? new Ti(t + 1, 0) : new Ti(t, i)); return new Zc(o, Ge.empty(), e) } function QU(n) { return new Zc(n.readTime, n.key, -1) } class Zc { constructor(e, t, i) { this.readTime = e, this.documentKey = t, this.largestBatchId = i } static min() { return new Zc(rt.min(), Ge.empty(), -1) } static max() { return new Zc(rt.max(), Ge.empty(), -1) } } function JU(n, e) { let t = n.readTime.compareTo(e.readTime); return t !== 0 ? t : (t = Ge.comparator(n.documentKey, e.documentKey), t !== 0 ? t : Ft(n.largestBatchId, e.largestBatchId)) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU = "The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."; class e9 { constructor() { this.onCommittedListeners = [] } addOnCommittedListener(e) { this.onCommittedListeners.push(e) } raiseOnCommittedEvent() { this.onCommittedListeners.forEach(e => e()) } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fy(n) { if (n.code !== be.FAILED_PRECONDITION || n.message !== ZU) throw n; Ue("LocalStore", "Unexpectedly lost primary lease") }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te { constructor(e) { this.nextCallback = null, this.catchCallback = null, this.result = void 0, this.error = void 0, this.isDone = !1, this.callbackAttached = !1, e(t => { this.isDone = !0, this.result = t, this.nextCallback && this.nextCallback(t) }, t => { this.isDone = !0, this.error = t, this.catchCallback && this.catchCallback(t) }) } catch(e) { return this.next(void 0, e) } next(e, t) { return this.callbackAttached && et(), this.callbackAttached = !0, this.isDone ? this.error ? this.wrapFailure(t, this.error) : this.wrapSuccess(e, this.result) : new Te((i, o) => { this.nextCallback = u => { this.wrapSuccess(e, u).next(i, o) }, this.catchCallback = u => { this.wrapFailure(t, u).next(i, o) } }) } toPromise() { return new Promise((e, t) => { this.next(e, t) }) } wrapUserFunction(e) { try { const t = e(); return t instanceof Te ? t : Te.resolve(t) } catch (t) { return Te.reject(t) } } wrapSuccess(e, t) { return e ? this.wrapUserFunction(() => e(t)) : Te.resolve(t) } wrapFailure(e, t) { return e ? this.wrapUserFunction(() => e(t)) : Te.reject(t) } static resolve(e) { return new Te((t, i) => { t(e) }) } static reject(e) { return new Te((t, i) => { i(e) }) } static waitFor(e) { return new Te((t, i) => { let o = 0, u = 0, d = !1; e.forEach(p => { ++o, p.next(() => { ++u, d && u === o && t() }, m => i(m)) }), d = !0, u === o && t() }) } static or(e) { let t = Te.resolve(!1); for (const i of e) t = t.next(o => o ? Te.resolve(o) : i()); return t } static forEach(e, t) { const i = []; return e.forEach((o, u) => { i.push(t.call(this, o, u)) }), this.waitFor(i) } static mapArray(e, t) { return new Te((i, o) => { const u = e.length, d = new Array(u); let p = 0; for (let m = 0; m < u; m++) { const y = m; t(e[y]).next(w => { d[y] = w, ++p, p === u && i(d) }, w => o(w)) } }) } static doWhile(e, t) { return new Te((i, o) => { const u = () => { e() === !0 ? t().next(() => { u() }, o) : i() }; u() }) } } function t9(n) { const e = n.match(/Android ([\d.]+)/i), t = e ? e[1].split(".").slice(0, 2).join(".") : "-1"; return Number(t) } function py(n) { return n.name === "IndexedDbTransactionError" }/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E { constructor(e, t) { this.previousValue = e, t && (t.sequenceNumberHandler = i => this.ie(i), this.se = i => t.writeSequenceNumber(i)) } ie(e) { return this.previousValue = Math.max(e, this.previousValue), this.previousValue } next() { const e = ++this.previousValue; return this.se && this.se(e), e } } _E.oe = -1; function Gb(n) { return n == null } function ub(n) { return n === 0 && 1 / n == -1 / 0 } function n9(n) { return typeof n == "number" && Number.isInteger(n) && !ub(n) && n <= Number.MAX_SAFE_INTEGER && n >= Number.MIN_SAFE_INTEGER }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(n) { let e = 0; for (const t in n) Object.prototype.hasOwnProperty.call(n, t) && e++; return e } function bm(n, e) { for (const t in n) Object.prototype.hasOwnProperty.call(n, t) && e(t, n[t]) } function mI(n) { for (const e in n) if (Object.prototype.hasOwnProperty.call(n, e)) return !1; return !0 }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un { constructor(e, t) { this.comparator = e, this.root = t || Ji.EMPTY } insert(e, t) { return new Un(this.comparator, this.root.insert(e, t, this.comparator).copy(null, null, Ji.BLACK, null, null)) } remove(e) { return new Un(this.comparator, this.root.remove(e, this.comparator).copy(null, null, Ji.BLACK, null, null)) } get(e) { let t = this.root; for (; !t.isEmpty();) { const i = this.comparator(e, t.key); if (i === 0) return t.value; i < 0 ? t = t.left : i > 0 && (t = t.right) } return null } indexOf(e) { let t = 0, i = this.root; for (; !i.isEmpty();) { const o = this.comparator(e, i.key); if (o === 0) return t + i.left.size; o < 0 ? i = i.left : (t += i.left.size + 1, i = i.right) } return -1 } isEmpty() { return this.root.isEmpty() } get size() { return this.root.size } minKey() { return this.root.minKey() } maxKey() { return this.root.maxKey() } inorderTraversal(e) { return this.root.inorderTraversal(e) } forEach(e) { this.inorderTraversal((t, i) => (e(t, i), !1)) } toString() { const e = []; return this.inorderTraversal((t, i) => (e.push(`${t}:${i}`), !1)), `{${e.join(", ")}}` } reverseTraversal(e) { return this.root.reverseTraversal(e) } getIterator() { return new A0(this.root, null, this.comparator, !1) } getIteratorFrom(e) { return new A0(this.root, e, this.comparator, !1) } getReverseIterator() { return new A0(this.root, null, this.comparator, !0) } getReverseIteratorFrom(e) { return new A0(this.root, e, this.comparator, !0) } } class A0 { constructor(e, t, i, o) { this.isReverse = o, this.nodeStack = []; let u = 1; for (; !e.isEmpty();)if (u = t ? i(e.key, t) : 1, t && o && (u *= -1), u < 0) e = this.isReverse ? e.left : e.right; else { if (u === 0) { this.nodeStack.push(e); break } this.nodeStack.push(e), e = this.isReverse ? e.right : e.left } } getNext() { let e = this.nodeStack.pop(); const t = { key: e.key, value: e.value }; if (this.isReverse) for (e = e.left; !e.isEmpty();)this.nodeStack.push(e), e = e.right; else for (e = e.right; !e.isEmpty();)this.nodeStack.push(e), e = e.left; return t } hasNext() { return this.nodeStack.length > 0 } peek() { if (this.nodeStack.length === 0) return null; const e = this.nodeStack[this.nodeStack.length - 1]; return { key: e.key, value: e.value } } } class Ji { constructor(e, t, i, o, u) { this.key = e, this.value = t, this.color = i ?? Ji.RED, this.left = o ?? Ji.EMPTY, this.right = u ?? Ji.EMPTY, this.size = this.left.size + 1 + this.right.size } copy(e, t, i, o, u) { return new Ji(e ?? this.key, t ?? this.value, i ?? this.color, o ?? this.left, u ?? this.right) } isEmpty() { return !1 } inorderTraversal(e) { return this.left.inorderTraversal(e) || e(this.key, this.value) || this.right.inorderTraversal(e) } reverseTraversal(e) { return this.right.reverseTraversal(e) || e(this.key, this.value) || this.left.reverseTraversal(e) } min() { return this.left.isEmpty() ? this : this.left.min() } minKey() { return this.min().key } maxKey() { return this.right.isEmpty() ? this.key : this.right.maxKey() } insert(e, t, i) { let o = this; const u = i(e, o.key); return o = u < 0 ? o.copy(null, null, null, o.left.insert(e, t, i), null) : u === 0 ? o.copy(null, t, null, null, null) : o.copy(null, null, null, null, o.right.insert(e, t, i)), o.fixUp() } removeMin() { if (this.left.isEmpty()) return Ji.EMPTY; let e = this; return e.left.isRed() || e.left.left.isRed() || (e = e.moveRedLeft()), e = e.copy(null, null, null, e.left.removeMin(), null), e.fixUp() } remove(e, t) { let i, o = this; if (t(e, o.key) < 0) o.left.isEmpty() || o.left.isRed() || o.left.left.isRed() || (o = o.moveRedLeft()), o = o.copy(null, null, null, o.left.remove(e, t), null); else { if (o.left.isRed() && (o = o.rotateRight()), o.right.isEmpty() || o.right.isRed() || o.right.left.isRed() || (o = o.moveRedRight()), t(e, o.key) === 0) { if (o.right.isEmpty()) return Ji.EMPTY; i = o.right.min(), o = o.copy(i.key, i.value, null, null, o.right.removeMin()) } o = o.copy(null, null, null, null, o.right.remove(e, t)) } return o.fixUp() } isRed() { return this.color } fixUp() { let e = this; return e.right.isRed() && !e.left.isRed() && (e = e.rotateLeft()), e.left.isRed() && e.left.left.isRed() && (e = e.rotateRight()), e.left.isRed() && e.right.isRed() && (e = e.colorFlip()), e } moveRedLeft() { let e = this.colorFlip(); return e.right.left.isRed() && (e = e.copy(null, null, null, null, e.right.rotateRight()), e = e.rotateLeft(), e = e.colorFlip()), e } moveRedRight() { let e = this.colorFlip(); return e.left.left.isRed() && (e = e.rotateRight(), e = e.colorFlip()), e } rotateLeft() { const e = this.copy(null, null, Ji.RED, null, this.right.left); return this.right.copy(null, null, this.color, e, null) } rotateRight() { const e = this.copy(null, null, Ji.RED, this.left.right, null); return this.left.copy(null, null, this.color, null, e) } colorFlip() { const e = this.left.copy(null, null, !this.left.color, null, null), t = this.right.copy(null, null, !this.right.color, null, null); return this.copy(null, null, !this.color, e, t) } checkMaxDepth() { const e = this.check(); return Math.pow(2, e) <= this.size + 1 } check() { if (this.isRed() && this.left.isRed() || this.right.isRed()) throw et(); const e = this.left.check(); if (e !== this.right.check()) throw et(); return e + (this.isRed() ? 0 : 1) } } Ji.EMPTY = null, Ji.RED = !0, Ji.BLACK = !1; Ji.EMPTY = new class { constructor() { this.size = 0 } get key() { throw et() } get value() { throw et() } get color() { throw et() } get left() { throw et() } get right() { throw et() } copy(e, t, i, o, u) { return this } insert(e, t, i) { return new Ji(e, t) } remove(e, t) { return this } isEmpty() { return !0 } inorderTraversal(e) { return !1 } reverseTraversal(e) { return !1 } minKey() { return null } maxKey() { return null } isRed() { return !1 } checkMaxDepth() { return !0 } check() { return 0 } };/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er { constructor(e) { this.comparator = e, this.data = new Un(this.comparator) } has(e) { return this.data.get(e) !== null } first() { return this.data.minKey() } last() { return this.data.maxKey() } get size() { return this.data.size } indexOf(e) { return this.data.indexOf(e) } forEach(e) { this.data.inorderTraversal((t, i) => (e(t), !1)) } forEachInRange(e, t) { const i = this.data.getIteratorFrom(e[0]); for (; i.hasNext();) { const o = i.getNext(); if (this.comparator(o.key, e[1]) >= 0) return; t(o.key) } } forEachWhile(e, t) { let i; for (i = t !== void 0 ? this.data.getIteratorFrom(t) : this.data.getIterator(); i.hasNext();)if (!e(i.getNext().key)) return } firstAfterOrEqual(e) { const t = this.data.getIteratorFrom(e); return t.hasNext() ? t.getNext().key : null } getIterator() { return new wA(this.data.getIterator()) } getIteratorFrom(e) { return new wA(this.data.getIteratorFrom(e)) } add(e) { return this.copy(this.data.remove(e).insert(e, !0)) } delete(e) { return this.has(e) ? this.copy(this.data.remove(e)) : this } isEmpty() { return this.data.isEmpty() } unionWith(e) { let t = this; return t.size < e.size && (t = e, e = this), e.forEach(i => { t = t.add(i) }), t } isEqual(e) { if (!(e instanceof er) || this.size !== e.size) return !1; const t = this.data.getIterator(), i = e.data.getIterator(); for (; t.hasNext();) { const o = t.getNext().key, u = i.getNext().key; if (this.comparator(o, u) !== 0) return !1 } return !0 } toArray() { const e = []; return this.forEach(t => { e.push(t) }), e } toString() { const e = []; return this.forEach(t => e.push(t)), "SortedSet(" + e.toString() + ")" } copy(e) { const t = new er(this.comparator); return t.data = e, t } } class wA { constructor(e) { this.iter = e } getNext() { return this.iter.getNext().key } hasNext() { return this.iter.hasNext() } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea { constructor(e) { this.fields = e, e.sort(Zi.comparator) } static empty() { return new ea([]) } unionWith(e) { let t = new er(Zi.comparator); for (const i of this.fields) t = t.add(i); for (const i of e) t = t.add(i); return new ea(t.toArray()) } covers(e) { for (const t of this.fields) if (t.isPrefixOf(e)) return !0; return !1 } isEqual(e) { return nm(this.fields, e.fields, (t, i) => t.isEqual(i)) } }/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI extends Error { constructor() { super(...arguments), this.name = "Base64DecodeError" } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr { constructor(e) { this.binaryString = e } static fromBase64String(e) { const t = function (o) { try { return atob(o) } catch (u) { throw typeof DOMException < "u" && u instanceof DOMException ? new gI("Invalid base64 string: " + u) : u } }(e); return new nr(t) } static fromUint8Array(e) { const t = function (o) { let u = ""; for (let d = 0; d < o.length; ++d)u += String.fromCharCode(o[d]); return u }(e); return new nr(t) } [Symbol.iterator]() { let e = 0; return { next: () => e < this.binaryString.length ? { value: this.binaryString.charCodeAt(e++), done: !1 } : { value: void 0, done: !0 } } } toBase64() { return function (t) { return btoa(t) }(this.binaryString) } toUint8Array() { return function (t) { const i = new Uint8Array(t.length); for (let o = 0; o < t.length; o++)i[o] = t.charCodeAt(o); return i }(this.binaryString) } approximateByteSize() { return 2 * this.binaryString.length } compareTo(e) { return Ft(this.binaryString, e.binaryString) } isEqual(e) { return this.binaryString === e.binaryString } } nr.EMPTY_BYTE_STRING = new nr(""); const i9 = new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/); function ed(n) { if (Jt(!!n), typeof n == "string") { let e = 0; const t = i9.exec(n); if (Jt(!!t), t[1]) { let o = t[1]; o = (o + "000000000").substr(0, 9), e = Number(o) } const i = new Date(n); return { seconds: Math.floor(i.getTime() / 1e3), nanos: e } } return { seconds: ri(n.seconds), nanos: ri(n.nanos) } } function ri(n) { return typeof n == "number" ? n : typeof n == "string" ? Number(n) : 0 } function Gh(n) { return typeof n == "string" ? nr.fromBase64String(n) : nr.fromUint8Array(n) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(n) { var e, t; return ((t = (((e = n?.mapValue) === null || e === void 0 ? void 0 : e.fields) || {}).__type__) === null || t === void 0 ? void 0 : t.stringValue) === "server_timestamp" } function TE(n) { const e = n.mapValue.fields.__previous_value__; return EE(e) ? TE(e) : e } function qv(n) { const e = ed(n.mapValue.fields.__local_write_time__.timestampValue); return new Ti(e.seconds, e.nanos) }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9 { constructor(e, t, i, o, u, d, p, m, y) { this.databaseId = e, this.appId = t, this.persistenceKey = i, this.host = o, this.ssl = u, this.forceLongPolling = d, this.autoDetectLongPolling = p, this.longPollingOptions = m, this.useFetchStreams = y } } class Gv { constructor(e, t) { this.projectId = e, this.database = t || "(default)" } static empty() { return new Gv("", "") } get isDefaultDatabase() { return this.database === "(default)" } isEqual(e) { return e instanceof Gv && e.projectId === this.projectId && e.database === this.database } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0 = { mapValue: {} }; function Kh(n) { return "nullValue" in n ? 0 : "booleanValue" in n ? 1 : "integerValue" in n || "doubleValue" in n ? 2 : "timestampValue" in n ? 3 : "stringValue" in n ? 5 : "bytesValue" in n ? 6 : "referenceValue" in n ? 7 : "geoPointValue" in n ? 8 : "arrayValue" in n ? 9 : "mapValue" in n ? EE(n) ? 4 : o9(n) ? 9007199254740991 : s9(n) ? 10 : 11 : et() } function ll(n, e) { if (n === e) return !0; const t = Kh(n); if (t !== Kh(e)) return !1; switch (t) { case 0: case 9007199254740991: return !0; case 1: return n.booleanValue === e.booleanValue; case 4: return qv(n).isEqual(qv(e)); case 3: return function (o, u) { if (typeof o.timestampValue == "string" && typeof u.timestampValue == "string" && o.timestampValue.length === u.timestampValue.length) return o.timestampValue === u.timestampValue; const d = ed(o.timestampValue), p = ed(u.timestampValue); return d.seconds === p.seconds && d.nanos === p.nanos }(n, e); case 5: return n.stringValue === e.stringValue; case 6: return function (o, u) { return Gh(o.bytesValue).isEqual(Gh(u.bytesValue)) }(n, e); case 7: return n.referenceValue === e.referenceValue; case 8: return function (o, u) { return ri(o.geoPointValue.latitude) === ri(u.geoPointValue.latitude) && ri(o.geoPointValue.longitude) === ri(u.geoPointValue.longitude) }(n, e); case 2: return function (o, u) { if ("integerValue" in o && "integerValue" in u) return ri(o.integerValue) === ri(u.integerValue); if ("doubleValue" in o && "doubleValue" in u) { const d = ri(o.doubleValue), p = ri(u.doubleValue); return d === p ? ub(d) === ub(p) : isNaN(d) && isNaN(p) } return !1 }(n, e); case 9: return nm(n.arrayValue.values || [], e.arrayValue.values || [], ll); case 10: case 11: return function (o, u) { const d = o.mapValue.fields || {}, p = u.mapValue.fields || {}; if (bA(d) !== bA(p)) return !1; for (const m in d) if (d.hasOwnProperty(m) && (p[m] === void 0 || !ll(d[m], p[m]))) return !1; return !0 }(n, e); default: return et() } } function Kv(n, e) { return (n.values || []).find(t => ll(t, e)) !== void 0 } function im(n, e) { if (n === e) return 0; const t = Kh(n), i = Kh(e); if (t !== i) return Ft(t, i); switch (t) { case 0: case 9007199254740991: return 0; case 1: return Ft(n.booleanValue, e.booleanValue); case 2: return function (u, d) { const p = ri(u.integerValue || u.doubleValue), m = ri(d.integerValue || d.doubleValue); return p < m ? -1 : p > m ? 1 : p === m ? 0 : isNaN(p) ? isNaN(m) ? 0 : -1 : 1 }(n, e); case 3: return _A(n.timestampValue, e.timestampValue); case 4: return _A(qv(n), qv(e)); case 5: return Ft(n.stringValue, e.stringValue); case 6: return function (u, d) { const p = Gh(u), m = Gh(d); return p.compareTo(m) }(n.bytesValue, e.bytesValue); case 7: return function (u, d) { const p = u.split("/"), m = d.split("/"); for (let y = 0; y < p.length && y < m.length; y++) { const w = Ft(p[y], m[y]); if (w !== 0) return w } return Ft(p.length, m.length) }(n.referenceValue, e.referenceValue); case 8: return function (u, d) { const p = Ft(ri(u.latitude), ri(d.latitude)); return p !== 0 ? p : Ft(ri(u.longitude), ri(d.longitude)) }(n.geoPointValue, e.geoPointValue); case 9: return EA(n.arrayValue, e.arrayValue); case 10: return function (u, d) { var p, m, y, w; const E = u.fields || {}, C = d.fields || {}, N = (p = E.value) === null || p === void 0 ? void 0 : p.arrayValue, U = (m = C.value) === null || m === void 0 ? void 0 : m.arrayValue, k = Ft(((y = N?.values) === null || y === void 0 ? void 0 : y.length) || 0, ((w = U?.values) === null || w === void 0 ? void 0 : w.length) || 0); return k !== 0 ? k : EA(N, U) }(n.mapValue, e.mapValue); case 11: return function (u, d) { if (u === C0.mapValue && d === C0.mapValue) return 0; if (u === C0.mapValue) return 1; if (d === C0.mapValue) return -1; const p = u.fields || {}, m = Object.keys(p), y = d.fields || {}, w = Object.keys(y); m.sort(), w.sort(); for (let E = 0; E < m.length && E < w.length; ++E) { const C = Ft(m[E], w[E]); if (C !== 0) return C; const N = im(p[m[E]], y[w[E]]); if (N !== 0) return N } return Ft(m.length, w.length) }(n.mapValue, e.mapValue); default: throw et() } } function _A(n, e) { if (typeof n == "string" && typeof e == "string" && n.length === e.length) return Ft(n, e); const t = ed(n), i = ed(e), o = Ft(t.seconds, i.seconds); return o !== 0 ? o : Ft(t.nanos, i.nanos) } function EA(n, e) { const t = n.values || [], i = e.values || []; for (let o = 0; o < t.length && o < i.length; ++o) { const u = im(t[o], i[o]); if (u) return u } return Ft(t.length, i.length) } function rm(n) { return B_(n) } function B_(n) { return "nullValue" in n ? "null" : "booleanValue" in n ? "" + n.booleanValue : "integerValue" in n ? "" + n.integerValue : "doubleValue" in n ? "" + n.doubleValue : "timestampValue" in n ? function (t) { const i = ed(t); return `time(${i.seconds},${i.nanos})` }(n.timestampValue) : "stringValue" in n ? n.stringValue : "bytesValue" in n ? function (t) { return Gh(t).toBase64() }(n.bytesValue) : "referenceValue" in n ? function (t) { return Ge.fromName(t).toString() }(n.referenceValue) : "geoPointValue" in n ? function (t) { return `geo(${t.latitude},${t.longitude})` }(n.geoPointValue) : "arrayValue" in n ? function (t) { let i = "[", o = !0; for (const u of t.values || []) o ? o = !1 : i += ",", i += B_(u); return i + "]" }(n.arrayValue) : "mapValue" in n ? function (t) { const i = Object.keys(t.fields || {}).sort(); let o = "{", u = !0; for (const d of i) u ? u = !1 : o += ",", o += `${d}:${B_(t.fields[d])}`; return o + "}" }(n.mapValue) : et() } function TA(n, e) { return { referenceValue: `projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}` } } function F_(n) { return !!n && "integerValue" in n } function SE(n) { return !!n && "arrayValue" in n } function SA(n) { return !!n && "nullValue" in n } function AA(n) { return !!n && "doubleValue" in n && isNaN(Number(n.doubleValue)) } function F0(n) { return !!n && "mapValue" in n } function s9(n) { var e, t; return ((t = (((e = n?.mapValue) === null || e === void 0 ? void 0 : e.fields) || {}).__type__) === null || t === void 0 ? void 0 : t.stringValue) === "__vector__" } function Av(n) { if (n.geoPointValue) return { geoPointValue: Object.assign({}, n.geoPointValue) }; if (n.timestampValue && typeof n.timestampValue == "object") return { timestampValue: Object.assign({}, n.timestampValue) }; if (n.mapValue) { const e = { mapValue: { fields: {} } }; return bm(n.mapValue.fields, (t, i) => e.mapValue.fields[t] = Av(i)), e } if (n.arrayValue) { const e = { arrayValue: { values: [] } }; for (let t = 0; t < (n.arrayValue.values || []).length; ++t)e.arrayValue.values[t] = Av(n.arrayValue.values[t]); return e } return Object.assign({}, n) } function o9(n) { return (((n.mapValue || {}).fields || {}).__type__ || {}).stringValue === "__max__" }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po { constructor(e) { this.value = e } static empty() { return new po({ mapValue: {} }) } field(e) { if (e.isEmpty()) return this.value; { let t = this.value; for (let i = 0; i < e.length - 1; ++i)if (t = (t.mapValue.fields || {})[e.get(i)], !F0(t)) return null; return t = (t.mapValue.fields || {})[e.lastSegment()], t || null } } set(e, t) { this.getFieldsMap(e.popLast())[e.lastSegment()] = Av(t) } setAll(e) { let t = Zi.emptyPath(), i = {}, o = []; e.forEach((d, p) => { if (!t.isImmediateParentOf(p)) { const m = this.getFieldsMap(t); this.applyChanges(m, i, o), i = {}, o = [], t = p.popLast() } d ? i[p.lastSegment()] = Av(d) : o.push(p.lastSegment()) }); const u = this.getFieldsMap(t); this.applyChanges(u, i, o) } delete(e) { const t = this.field(e.popLast()); F0(t) && t.mapValue.fields && delete t.mapValue.fields[e.lastSegment()] } isEqual(e) { return ll(this.value, e.value) } getFieldsMap(e) { let t = this.value; t.mapValue.fields || (t.mapValue = { fields: {} }); for (let i = 0; i < e.length; ++i) { let o = t.mapValue.fields[e.get(i)]; F0(o) && o.mapValue.fields || (o = { mapValue: { fields: {} } }, t.mapValue.fields[e.get(i)] = o), t = o } return t.mapValue.fields } applyChanges(e, t, i) { bm(t, (o, u) => e[o] = u); for (const o of i) delete e[o] } clone() { return new po(Av(this.value)) } } function vI(n) { const e = []; return bm(n.fields, (t, i) => { const o = new Zi([t]); if (F0(i)) { const u = vI(i.mapValue).fields; if (u.length === 0) e.push(o); else for (const d of u) e.push(o.child(d)) } else e.push(o) }), new ea(e) }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er { constructor(e, t, i, o, u, d, p) { this.key = e, this.documentType = t, this.version = i, this.readTime = o, this.createTime = u, this.data = d, this.documentState = p } static newInvalidDocument(e) { return new Er(e, 0, rt.min(), rt.min(), rt.min(), po.empty(), 0) } static newFoundDocument(e, t, i, o) { return new Er(e, 1, t, rt.min(), i, o, 0) } static newNoDocument(e, t) { return new Er(e, 2, t, rt.min(), rt.min(), po.empty(), 0) } static newUnknownDocument(e, t) { return new Er(e, 3, t, rt.min(), rt.min(), po.empty(), 2) } convertToFoundDocument(e, t) { return !this.createTime.isEqual(rt.min()) || this.documentType !== 2 && this.documentType !== 0 || (this.createTime = e), this.version = e, this.documentType = 1, this.data = t, this.documentState = 0, this } convertToNoDocument(e) { return this.version = e, this.documentType = 2, this.data = po.empty(), this.documentState = 0, this } convertToUnknownDocument(e) { return this.version = e, this.documentType = 3, this.data = po.empty(), this.documentState = 2, this } setHasCommittedMutations() { return this.documentState = 2, this } setHasLocalMutations() { return this.documentState = 1, this.version = rt.min(), this } setReadTime(e) { return this.readTime = e, this } get hasLocalMutations() { return this.documentState === 1 } get hasCommittedMutations() { return this.documentState === 2 } get hasPendingWrites() { return this.hasLocalMutations || this.hasCommittedMutations } isValidDocument() { return this.documentType !== 0 } isFoundDocument() { return this.documentType === 1 } isNoDocument() { return this.documentType === 2 } isUnknownDocument() { return this.documentType === 3 } isEqual(e) { return e instanceof Er && this.key.isEqual(e.key) && this.version.isEqual(e.version) && this.documentType === e.documentType && this.documentState === e.documentState && this.data.isEqual(e.data) } mutableCopy() { return new Er(this.key, this.documentType, this.version, this.readTime, this.createTime, this.data.clone(), this.documentState) } toString() { return `Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})` } }/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb { constructor(e, t) { this.position = e, this.inclusive = t } } function CA(n, e, t) { let i = 0; for (let o = 0; o < n.position.length; o++) { const u = e[o], d = n.position[o]; if (u.field.isKeyField() ? i = Ge.comparator(Ge.fromName(d.referenceValue), t.key) : i = im(d, t.data.field(u.field)), u.dir === "desc" && (i *= -1), i !== 0) break } return i } function xA(n, e) { if (n === null) return e === null; if (e === null || n.inclusive !== e.inclusive || n.position.length !== e.position.length) return !1; for (let t = 0; t < n.position.length; t++)if (!ll(n.position[t], e.position[t])) return !1; return !0 }/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v { constructor(e, t = "asc") { this.field = e, this.dir = t } } function a9(n, e) { return n.dir === e.dir && n.field.isEqual(e.field) }/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI { } class mi extends yI { constructor(e, t, i) { super(), this.field = e, this.op = t, this.value = i } static create(e, t, i) { return e.isKeyField() ? t === "in" || t === "not-in" ? this.createKeyFieldInFilter(e, t, i) : new u9(e, t, i) : t === "array-contains" ? new h9(e, i) : t === "in" ? new f9(e, i) : t === "not-in" ? new p9(e, i) : t === "array-contains-any" ? new m9(e, i) : new mi(e, t, i) } static createKeyFieldInFilter(e, t, i) { return t === "in" ? new c9(e, i) : new d9(e, i) } matches(e) { const t = e.data.field(this.field); return this.op === "!=" ? t !== null && this.matchesComparison(im(t, this.value)) : t !== null && Kh(this.value) === Kh(t) && this.matchesComparison(im(t, this.value)) } matchesComparison(e) { switch (this.op) { case "<": return e < 0; case "<=": return e <= 0; case "==": return e === 0; case "!=": return e !== 0; case ">": return e > 0; case ">=": return e >= 0; default: return et() } } isInequality() { return ["<", "<=", ">", ">=", "!=", "not-in"].indexOf(this.op) >= 0 } getFlattenedFilters() { return [this] } getFilters() { return [this] } } class na extends yI { constructor(e, t) { super(), this.filters = e, this.op = t, this.ae = null } static create(e, t) { return new na(e, t) } matches(e) { return bI(this) ? this.filters.find(t => !t.matches(e)) === void 0 : this.filters.find(t => t.matches(e)) !== void 0 } getFlattenedFilters() { return this.ae !== null || (this.ae = this.filters.reduce((e, t) => e.concat(t.getFlattenedFilters()), [])), this.ae } getFilters() { return Object.assign([], this.filters) } } function bI(n) { return n.op === "and" } function wI(n) { return l9(n) && bI(n) } function l9(n) { for (const e of n.filters) if (e instanceof na) return !1; return !0 } function z_(n) { if (n instanceof mi) return n.field.canonicalString() + n.op.toString() + rm(n.value); if (wI(n)) return n.filters.map(e => z_(e)).join(","); { const e = n.filters.map(t => z_(t)).join(","); return `${n.op}(${e})` } } function _I(n, e) { return n instanceof mi ? function (i, o) { return o instanceof mi && i.op === o.op && i.field.isEqual(o.field) && ll(i.value, o.value) }(n, e) : n instanceof na ? function (i, o) { return o instanceof na && i.op === o.op && i.filters.length === o.filters.length ? i.filters.reduce((u, d, p) => u && _I(d, o.filters[p]), !0) : !1 }(n, e) : void et() } function EI(n) { return n instanceof mi ? function (t) { return `${t.field.canonicalString()} ${t.op} ${rm(t.value)}` }(n) : n instanceof na ? function (t) { return t.op.toString() + " {" + t.getFilters().map(EI).join(" ,") + "}" }(n) : "Filter" } class u9 extends mi { constructor(e, t, i) { super(e, t, i), this.key = Ge.fromName(i.referenceValue) } matches(e) { const t = Ge.comparator(e.key, this.key); return this.matchesComparison(t) } } class c9 extends mi { constructor(e, t) { super(e, "in", t), this.keys = TI("in", t) } matches(e) { return this.keys.some(t => t.isEqual(e.key)) } } class d9 extends mi { constructor(e, t) { super(e, "not-in", t), this.keys = TI("not-in", t) } matches(e) { return !this.keys.some(t => t.isEqual(e.key)) } } function TI(n, e) { var t; return (((t = e.arrayValue) === null || t === void 0 ? void 0 : t.values) || []).map(i => Ge.fromName(i.referenceValue)) } class h9 extends mi { constructor(e, t) { super(e, "array-contains", t) } matches(e) { const t = e.data.field(this.field); return SE(t) && Kv(t.arrayValue, this.value) } } class f9 extends mi { constructor(e, t) { super(e, "in", t) } matches(e) { const t = e.data.field(this.field); return t !== null && Kv(this.value.arrayValue, t) } } class p9 extends mi { constructor(e, t) { super(e, "not-in", t) } matches(e) { if (Kv(this.value.arrayValue, { nullValue: "NULL_VALUE" })) return !1; const t = e.data.field(this.field); return t !== null && !Kv(this.value.arrayValue, t) } } class m9 extends mi { constructor(e, t) { super(e, "array-contains-any", t) } matches(e) { const t = e.data.field(this.field); return !(!SE(t) || !t.arrayValue.values) && t.arrayValue.values.some(i => Kv(this.value.arrayValue, i)) } }/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9 { constructor(e, t = null, i = [], o = [], u = null, d = null, p = null) { this.path = e, this.collectionGroup = t, this.orderBy = i, this.filters = o, this.limit = u, this.startAt = d, this.endAt = p, this.ue = null } } function RA(n, e = null, t = [], i = [], o = null, u = null, d = null) { return new g9(n, e, t, i, o, u, d) } function AE(n) { const e = ot(n); if (e.ue === null) { let t = e.path.canonicalString(); e.collectionGroup !== null && (t += "|cg:" + e.collectionGroup), t += "|f:", t += e.filters.map(i => z_(i)).join(","), t += "|ob:", t += e.orderBy.map(i => function (u) { return u.field.canonicalString() + u.dir }(i)).join(","), Gb(e.limit) || (t += "|l:", t += e.limit), e.startAt && (t += "|lb:", t += e.startAt.inclusive ? "b:" : "a:", t += e.startAt.position.map(i => rm(i)).join(",")), e.endAt && (t += "|ub:", t += e.endAt.inclusive ? "a:" : "b:", t += e.endAt.position.map(i => rm(i)).join(",")), e.ue = t } return e.ue } function CE(n, e) { if (n.limit !== e.limit || n.orderBy.length !== e.orderBy.length) return !1; for (let t = 0; t < n.orderBy.length; t++)if (!a9(n.orderBy[t], e.orderBy[t])) return !1; if (n.filters.length !== e.filters.length) return !1; for (let t = 0; t < n.filters.length; t++)if (!_I(n.filters[t], e.filters[t])) return !1; return n.collectionGroup === e.collectionGroup && !!n.path.isEqual(e.path) && !!xA(n.startAt, e.startAt) && xA(n.endAt, e.endAt) } function H_(n) { return Ge.isDocumentKey(n.path) && n.collectionGroup === null && n.filters.length === 0 }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm { constructor(e, t = null, i = [], o = [], u = null, d = "F", p = null, m = null) { this.path = e, this.collectionGroup = t, this.explicitOrderBy = i, this.filters = o, this.limit = u, this.limitType = d, this.startAt = p, this.endAt = m, this.ce = null, this.le = null, this.he = null, this.startAt, this.endAt } } function v9(n, e, t, i, o, u, d, p) { return new wm(n, e, t, i, o, u, d, p) } function xE(n) { return new wm(n) } function IA(n) { return n.filters.length === 0 && n.limit === null && n.startAt == null && n.endAt == null && (n.explicitOrderBy.length === 0 || n.explicitOrderBy.length === 1 && n.explicitOrderBy[0].field.isKeyField()) } function SI(n) { return n.collectionGroup !== null } function Cv(n) { const e = ot(n); if (e.ce === null) { e.ce = []; const t = new Set; for (const u of e.explicitOrderBy) e.ce.push(u), t.add(u.field.canonicalString()); const i = e.explicitOrderBy.length > 0 ? e.explicitOrderBy[e.explicitOrderBy.length - 1].dir : "asc"; (function (d) { let p = new er(Zi.comparator); return d.filters.forEach(m => { m.getFlattenedFilters().forEach(y => { y.isInequality() && (p = p.add(y.field)) }) }), p })(e).forEach(u => { t.has(u.canonicalString()) || u.isKeyField() || e.ce.push(new $v(u, i)) }), t.has(Zi.keyField().canonicalString()) || e.ce.push(new $v(Zi.keyField(), i)) } return e.ce } function tl(n) { const e = ot(n); return e.le || (e.le = y9(e, Cv(n))), e.le } function y9(n, e) { if (n.limitType === "F") return RA(n.path, n.collectionGroup, e, n.filters, n.limit, n.startAt, n.endAt); { e = e.map(o => { const u = o.dir === "desc" ? "asc" : "desc"; return new $v(o.field, u) }); const t = n.endAt ? new cb(n.endAt.position, n.endAt.inclusive) : null, i = n.startAt ? new cb(n.startAt.position, n.startAt.inclusive) : null; return RA(n.path, n.collectionGroup, e, n.filters, n.limit, t, i) } } function q_(n, e) { const t = n.filters.concat([e]); return new wm(n.path, n.collectionGroup, n.explicitOrderBy.slice(), t, n.limit, n.limitType, n.startAt, n.endAt) } function G_(n, e, t) { return new wm(n.path, n.collectionGroup, n.explicitOrderBy.slice(), n.filters.slice(), e, t, n.startAt, n.endAt) } function Kb(n, e) { return CE(tl(n), tl(e)) && n.limitType === e.limitType } function AI(n) { return `${AE(tl(n))}|lt:${n.limitType}` } function Np(n) { return `Query(target=${function (t) { let i = t.path.canonicalString(); return t.collectionGroup !== null && (i += " collectionGroup=" + t.collectionGroup), t.filters.length > 0 && (i += `, filters: [${t.filters.map(o => EI(o)).join(", ")}]`), Gb(t.limit) || (i += ", limit: " + t.limit), t.orderBy.length > 0 && (i += `, orderBy: [${t.orderBy.map(o => function (d) { return `${d.field.canonicalString()} (${d.dir})` }(o)).join(", ")}]`), t.startAt && (i += ", startAt: ", i += t.startAt.inclusive ? "b:" : "a:", i += t.startAt.position.map(o => rm(o)).join(",")), t.endAt && (i += ", endAt: ", i += t.endAt.inclusive ? "a:" : "b:", i += t.endAt.position.map(o => rm(o)).join(",")), `Target(${i})` }(tl(n))}; limitType=${n.limitType})` } function $b(n, e) { return e.isFoundDocument() && function (i, o) { const u = o.key.path; return i.collectionGroup !== null ? o.key.hasCollectionId(i.collectionGroup) && i.path.isPrefixOf(u) : Ge.isDocumentKey(i.path) ? i.path.isEqual(u) : i.path.isImmediateParentOf(u) }(n, e) && function (i, o) { for (const u of Cv(i)) if (!u.field.isKeyField() && o.data.field(u.field) === null) return !1; return !0 }(n, e) && function (i, o) { for (const u of i.filters) if (!u.matches(o)) return !1; return !0 }(n, e) && function (i, o) { return !(i.startAt && !function (d, p, m) { const y = CA(d, p, m); return d.inclusive ? y <= 0 : y < 0 }(i.startAt, Cv(i), o) || i.endAt && !function (d, p, m) { const y = CA(d, p, m); return d.inclusive ? y >= 0 : y > 0 }(i.endAt, Cv(i), o)) }(n, e) } function b9(n) { return n.collectionGroup || (n.path.length % 2 == 1 ? n.path.lastSegment() : n.path.get(n.path.length - 2)) } function CI(n) { return (e, t) => { let i = !1; for (const o of Cv(n)) { const u = w9(o, e, t); if (u !== 0) return u; i = i || o.field.isKeyField() } return 0 } } function w9(n, e, t) { const i = n.field.isKeyField() ? Ge.comparator(e.key, t.key) : function (u, d, p) { const m = d.data.field(u), y = p.data.field(u); return m !== null && y !== null ? im(m, y) : et() }(n.field, e, t); switch (n.dir) { case "asc": return i; case "desc": return -1 * i; default: return et() } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m { constructor(e, t) { this.mapKeyFn = e, this.equalsFn = t, this.inner = {}, this.innerSize = 0 } get(e) { const t = this.mapKeyFn(e), i = this.inner[t]; if (i !== void 0) { for (const [o, u] of i) if (this.equalsFn(o, e)) return u } } has(e) { return this.get(e) !== void 0 } set(e, t) { const i = this.mapKeyFn(e), o = this.inner[i]; if (o === void 0) return this.inner[i] = [[e, t]], void this.innerSize++; for (let u = 0; u < o.length; u++)if (this.equalsFn(o[u][0], e)) return void (o[u] = [e, t]); o.push([e, t]), this.innerSize++ } delete(e) { const t = this.mapKeyFn(e), i = this.inner[t]; if (i === void 0) return !1; for (let o = 0; o < i.length; o++)if (this.equalsFn(i[o][0], e)) return i.length === 1 ? delete this.inner[t] : i.splice(o, 1), this.innerSize--, !0; return !1 } forEach(e) { bm(this.inner, (t, i) => { for (const [o, u] of i) e(o, u) }) } isEmpty() { return mI(this.inner) } size() { return this.innerSize } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9 = new Un(Ge.comparator); function _u() { return _9 } const xI = new Un(Ge.comparator); function gv(...n) { let e = xI; for (const t of n) e = e.insert(t.key, t); return e } function RI(n) { let e = xI; return n.forEach((t, i) => e = e.insert(t, i.overlayedDocument)), e } function Dh() { return xv() } function II() { return xv() } function xv() { return new _m(n => n.toString(), (n, e) => n.isEqual(e)) } const E9 = new Un(Ge.comparator), T9 = new er(Ge.comparator); function Rt(...n) { let e = T9; for (const t of n) e = e.add(t); return e } const S9 = new er(Ft); function A9() { return S9 }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(n, e) { if (n.useProto3Json) { if (isNaN(e)) return { doubleValue: "NaN" }; if (e === 1 / 0) return { doubleValue: "Infinity" }; if (e === -1 / 0) return { doubleValue: "-Infinity" } } return { doubleValue: ub(e) ? "-0" : e } } function kI(n) { return { integerValue: "" + n } } function C9(n, e) { return n9(e) ? kI(e) : RE(n, e) }/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb { constructor() { this._ = void 0 } } function x9(n, e, t) { return n instanceof db ? function (o, u) { const d = { fields: { __type__: { stringValue: "server_timestamp" }, __local_write_time__: { timestampValue: { seconds: o.seconds, nanos: o.nanoseconds } } } }; return u && EE(u) && (u = TE(u)), u && (d.fields.__previous_value__ = u), { mapValue: d } }(t, e) : n instanceof Wv ? NI(n, e) : n instanceof Yv ? MI(n, e) : function (o, u) { const d = PI(o, u), p = kA(d) + kA(o.Pe); return F_(d) && F_(o.Pe) ? kI(p) : RE(o.serializer, p) }(n, e) } function R9(n, e, t) { return n instanceof Wv ? NI(n, e) : n instanceof Yv ? MI(n, e) : t } function PI(n, e) { return n instanceof hb ? function (i) { return F_(i) || function (u) { return !!u && "doubleValue" in u }(i) }(e) ? e : { integerValue: 0 } : null } class db extends Wb { } class Wv extends Wb { constructor(e) { super(), this.elements = e } } function NI(n, e) { const t = DI(e); for (const i of n.elements) t.some(o => ll(o, i)) || t.push(i); return { arrayValue: { values: t } } } class Yv extends Wb { constructor(e) { super(), this.elements = e } } function MI(n, e) { let t = DI(e); for (const i of n.elements) t = t.filter(o => !ll(o, i)); return { arrayValue: { values: t } } } class hb extends Wb { constructor(e, t) { super(), this.serializer = e, this.Pe = t } } function kA(n) { return ri(n.integerValue || n.doubleValue) } function DI(n) { return SE(n) && n.arrayValue.values ? n.arrayValue.values.slice() : [] } function I9(n, e) { return n.field.isEqual(e.field) && function (i, o) { return i instanceof Wv && o instanceof Wv || i instanceof Yv && o instanceof Yv ? nm(i.elements, o.elements, ll) : i instanceof hb && o instanceof hb ? ll(i.Pe, o.Pe) : i instanceof db && o instanceof db }(n.transform, e.transform) } class k9 { constructor(e, t) { this.version = e, this.transformResults = t } } class nl { constructor(e, t) { this.updateTime = e, this.exists = t } static none() { return new nl } static exists(e) { return new nl(void 0, e) } static updateTime(e) { return new nl(e) } get isNone() { return this.updateTime === void 0 && this.exists === void 0 } isEqual(e) { return this.exists === e.exists && (this.updateTime ? !!e.updateTime && this.updateTime.isEqual(e.updateTime) : !e.updateTime) } } function z0(n, e) { return n.updateTime !== void 0 ? e.isFoundDocument() && e.version.isEqual(n.updateTime) : n.exists === void 0 || n.exists === e.isFoundDocument() } class Yb { } function OI(n, e) { if (!n.hasLocalMutations || e && e.fields.length === 0) return null; if (e === null) return n.isNoDocument() ? new IE(n.key, nl.none()) : new my(n.key, n.data, nl.none()); { const t = n.data, i = po.empty(); let o = new er(Zi.comparator); for (let u of e.fields) if (!o.has(u)) { let d = t.field(u); d === null && u.length > 1 && (u = u.popLast(), d = t.field(u)), d === null ? i.delete(u) : i.set(u, d), o = o.add(u) } return new Zh(n.key, i, new ea(o.toArray()), nl.none()) } } function P9(n, e, t) { n instanceof my ? function (o, u, d) { const p = o.value.clone(), m = NA(o.fieldTransforms, u, d.transformResults); p.setAll(m), u.convertToFoundDocument(d.version, p).setHasCommittedMutations() }(n, e, t) : n instanceof Zh ? function (o, u, d) { if (!z0(o.precondition, u)) return void u.convertToUnknownDocument(d.version); const p = NA(o.fieldTransforms, u, d.transformResults), m = u.data; m.setAll(LI(o)), m.setAll(p), u.convertToFoundDocument(d.version, m).setHasCommittedMutations() }(n, e, t) : function (o, u, d) { u.convertToNoDocument(d.version).setHasCommittedMutations() }(0, e, t) } function Rv(n, e, t, i) { return n instanceof my ? function (u, d, p, m) { if (!z0(u.precondition, d)) return p; const y = u.value.clone(), w = MA(u.fieldTransforms, m, d); return y.setAll(w), d.convertToFoundDocument(d.version, y).setHasLocalMutations(), null }(n, e, t, i) : n instanceof Zh ? function (u, d, p, m) { if (!z0(u.precondition, d)) return p; const y = MA(u.fieldTransforms, m, d), w = d.data; return w.setAll(LI(u)), w.setAll(y), d.convertToFoundDocument(d.version, w).setHasLocalMutations(), p === null ? null : p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(E => E.field)) }(n, e, t, i) : function (u, d, p) { return z0(u.precondition, d) ? (d.convertToNoDocument(d.version).setHasLocalMutations(), null) : p }(n, e, t) } function N9(n, e) { let t = null; for (const i of n.fieldTransforms) { const o = e.data.field(i.field), u = PI(i.transform, o || null); u != null && (t === null && (t = po.empty()), t.set(i.field, u)) } return t || null } function PA(n, e) { return n.type === e.type && !!n.key.isEqual(e.key) && !!n.precondition.isEqual(e.precondition) && !!function (i, o) { return i === void 0 && o === void 0 || !(!i || !o) && nm(i, o, (u, d) => I9(u, d)) }(n.fieldTransforms, e.fieldTransforms) && (n.type === 0 ? n.value.isEqual(e.value) : n.type !== 1 || n.data.isEqual(e.data) && n.fieldMask.isEqual(e.fieldMask)) } class my extends Yb { constructor(e, t, i, o = []) { super(), this.key = e, this.value = t, this.precondition = i, this.fieldTransforms = o, this.type = 0 } getFieldMask() { return null } } class Zh extends Yb { constructor(e, t, i, o, u = []) { super(), this.key = e, this.data = t, this.fieldMask = i, this.precondition = o, this.fieldTransforms = u, this.type = 1 } getFieldMask() { return this.fieldMask } } function LI(n) { const e = new Map; return n.fieldMask.fields.forEach(t => { if (!t.isEmpty()) { const i = n.data.field(t); e.set(t, i) } }), e } function NA(n, e, t) { const i = new Map; Jt(n.length === t.length); for (let o = 0; o < t.length; o++) { const u = n[o], d = u.transform, p = e.data.field(u.field); i.set(u.field, R9(d, p, t[o])) } return i } function MA(n, e, t) { const i = new Map; for (const o of n) { const u = o.transform, d = t.data.field(o.field); i.set(o.field, x9(u, d, e)) } return i } class IE extends Yb { constructor(e, t) { super(), this.key = e, this.precondition = t, this.type = 2, this.fieldTransforms = [] } getFieldMask() { return null } } class M9 extends Yb { constructor(e, t) { super(), this.key = e, this.precondition = t, this.type = 3, this.fieldTransforms = [] } getFieldMask() { return null } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9 { constructor(e, t, i, o) { this.batchId = e, this.localWriteTime = t, this.baseMutations = i, this.mutations = o } applyToRemoteDocument(e, t) { const i = t.mutationResults; for (let o = 0; o < this.mutations.length; o++) { const u = this.mutations[o]; u.key.isEqual(e.key) && P9(u, e, i[o]) } } applyToLocalView(e, t) { for (const i of this.baseMutations) i.key.isEqual(e.key) && (t = Rv(i, e, t, this.localWriteTime)); for (const i of this.mutations) i.key.isEqual(e.key) && (t = Rv(i, e, t, this.localWriteTime)); return t } applyToLocalDocumentSet(e, t) { const i = II(); return this.mutations.forEach(o => { const u = e.get(o.key), d = u.overlayedDocument; let p = this.applyToLocalView(d, u.mutatedFields); p = t.has(o.key) ? null : p; const m = OI(d, p); m !== null && i.set(o.key, m), d.isValidDocument() || d.convertToNoDocument(rt.min()) }), i } keys() { return this.mutations.reduce((e, t) => e.add(t.key), Rt()) } isEqual(e) { return this.batchId === e.batchId && nm(this.mutations, e.mutations, (t, i) => PA(t, i)) && nm(this.baseMutations, e.baseMutations, (t, i) => PA(t, i)) } } class kE { constructor(e, t, i, o) { this.batch = e, this.commitVersion = t, this.mutationResults = i, this.docVersions = o } static from(e, t, i) { Jt(e.mutations.length === i.length); let o = function () { return E9 }(); const u = e.mutations; for (let d = 0; d < u.length; d++)o = o.insert(u[d].key, i[d].version); return new kE(e, t, i, o) } }/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9 {
  constructor(e, t) { this.largestBatchId = e, this.mutation = t } getKey() { return this.mutation.key } isEqual(e) { return e !== null && this.mutation === e.mutation } toString() {
    return `Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}
}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9 { constructor(e, t) { this.count = e, this.unchangedNames = t } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fi, Mt; function V9(n) { switch (n) { default: return et(); case be.CANCELLED: case be.UNKNOWN: case be.DEADLINE_EXCEEDED: case be.RESOURCE_EXHAUSTED: case be.INTERNAL: case be.UNAVAILABLE: case be.UNAUTHENTICATED: return !1; case be.INVALID_ARGUMENT: case be.NOT_FOUND: case be.ALREADY_EXISTS: case be.PERMISSION_DENIED: case be.FAILED_PRECONDITION: case be.ABORTED: case be.OUT_OF_RANGE: case be.UNIMPLEMENTED: case be.DATA_LOSS: return !0 } } function VI(n) { if (n === void 0) return wu("GRPC error has no .code"), be.UNKNOWN; switch (n) { case fi.OK: return be.OK; case fi.CANCELLED: return be.CANCELLED; case fi.UNKNOWN: return be.UNKNOWN; case fi.DEADLINE_EXCEEDED: return be.DEADLINE_EXCEEDED; case fi.RESOURCE_EXHAUSTED: return be.RESOURCE_EXHAUSTED; case fi.INTERNAL: return be.INTERNAL; case fi.UNAVAILABLE: return be.UNAVAILABLE; case fi.UNAUTHENTICATED: return be.UNAUTHENTICATED; case fi.INVALID_ARGUMENT: return be.INVALID_ARGUMENT; case fi.NOT_FOUND: return be.NOT_FOUND; case fi.ALREADY_EXISTS: return be.ALREADY_EXISTS; case fi.PERMISSION_DENIED: return be.PERMISSION_DENIED; case fi.FAILED_PRECONDITION: return be.FAILED_PRECONDITION; case fi.ABORTED: return be.ABORTED; case fi.OUT_OF_RANGE: return be.OUT_OF_RANGE; case fi.UNIMPLEMENTED: return be.UNIMPLEMENTED; case fi.DATA_LOSS: return be.DATA_LOSS; default: return et() } } (Mt = fi || (fi = {}))[Mt.OK = 0] = "OK", Mt[Mt.CANCELLED = 1] = "CANCELLED", Mt[Mt.UNKNOWN = 2] = "UNKNOWN", Mt[Mt.INVALID_ARGUMENT = 3] = "INVALID_ARGUMENT", Mt[Mt.DEADLINE_EXCEEDED = 4] = "DEADLINE_EXCEEDED", Mt[Mt.NOT_FOUND = 5] = "NOT_FOUND", Mt[Mt.ALREADY_EXISTS = 6] = "ALREADY_EXISTS", Mt[Mt.PERMISSION_DENIED = 7] = "PERMISSION_DENIED", Mt[Mt.UNAUTHENTICATED = 16] = "UNAUTHENTICATED", Mt[Mt.RESOURCE_EXHAUSTED = 8] = "RESOURCE_EXHAUSTED", Mt[Mt.FAILED_PRECONDITION = 9] = "FAILED_PRECONDITION", Mt[Mt.ABORTED = 10] = "ABORTED", Mt[Mt.OUT_OF_RANGE = 11] = "OUT_OF_RANGE", Mt[Mt.UNIMPLEMENTED = 12] = "UNIMPLEMENTED", Mt[Mt.INTERNAL = 13] = "INTERNAL", Mt[Mt.UNAVAILABLE = 14] = "UNAVAILABLE", Mt[Mt.DATA_LOSS = 15] = "DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9() { return new TextEncoder }/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9 = new jh([4294967295, 4294967295], 0); function DA(n) { const e = j9().encode(n), t = new aI; return t.update(e), new Uint8Array(t.digest()) } function OA(n) { const e = new DataView(n.buffer), t = e.getUint32(0, !0), i = e.getUint32(4, !0), o = e.getUint32(8, !0), u = e.getUint32(12, !0); return [new jh([t, i], 0), new jh([o, u], 0)] } class PE { constructor(e, t, i) { if (this.bitmap = e, this.padding = t, this.hashCount = i, t < 0 || t >= 8) throw new vv(`Invalid padding: ${t}`); if (i < 0) throw new vv(`Invalid hash count: ${i}`); if (e.length > 0 && this.hashCount === 0) throw new vv(`Invalid hash count: ${i}`); if (e.length === 0 && t !== 0) throw new vv(`Invalid padding when bitmap length is 0: ${t}`); this.Ie = 8 * e.length - t, this.Te = jh.fromNumber(this.Ie) } Ee(e, t, i) { let o = e.add(t.multiply(jh.fromNumber(i))); return o.compare(U9) === 1 && (o = new jh([o.getBits(0), o.getBits(1)], 0)), o.modulo(this.Te).toNumber() } de(e) { return (this.bitmap[Math.floor(e / 8)] & 1 << e % 8) != 0 } mightContain(e) { if (this.Ie === 0) return !1; const t = DA(e), [i, o] = OA(t); for (let u = 0; u < this.hashCount; u++) { const d = this.Ee(i, o, u); if (!this.de(d)) return !1 } return !0 } static create(e, t, i) { const o = e % 8 == 0 ? 0 : 8 - e % 8, u = new Uint8Array(Math.ceil(e / 8)), d = new PE(u, o, t); return i.forEach(p => d.insert(p)), d } insert(e) { if (this.Ie === 0) return; const t = DA(e), [i, o] = OA(t); for (let u = 0; u < this.hashCount; u++) { const d = this.Ee(i, o, u); this.Ae(d) } } Ae(e) { const t = Math.floor(e / 8), i = e % 8; this.bitmap[t] |= 1 << i } } class vv extends Error { constructor() { super(...arguments), this.name = "BloomFilterError" } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb { constructor(e, t, i, o, u) { this.snapshotVersion = e, this.targetChanges = t, this.targetMismatches = i, this.documentUpdates = o, this.resolvedLimboDocuments = u } static createSynthesizedRemoteEventForCurrentChange(e, t, i) { const o = new Map; return o.set(e, gy.createSynthesizedTargetChangeForCurrentChange(e, t, i)), new Xb(rt.min(), o, new Un(Ft), _u(), Rt()) } } class gy { constructor(e, t, i, o, u) { this.resumeToken = e, this.current = t, this.addedDocuments = i, this.modifiedDocuments = o, this.removedDocuments = u } static createSynthesizedTargetChangeForCurrentChange(e, t, i) { return new gy(i, t, Rt(), Rt(), Rt()) } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0 { constructor(e, t, i, o) { this.Re = e, this.removedTargetIds = t, this.key = i, this.Ve = o } } class jI { constructor(e, t) { this.targetId = e, this.me = t } } class UI { constructor(e, t, i = nr.EMPTY_BYTE_STRING, o = null) { this.state = e, this.targetIds = t, this.resumeToken = i, this.cause = o } } class LA { constructor() { this.fe = 0, this.ge = jA(), this.pe = nr.EMPTY_BYTE_STRING, this.ye = !1, this.we = !0 } get current() { return this.ye } get resumeToken() { return this.pe } get Se() { return this.fe !== 0 } get be() { return this.we } De(e) { e.approximateByteSize() > 0 && (this.we = !0, this.pe = e) } ve() { let e = Rt(), t = Rt(), i = Rt(); return this.ge.forEach((o, u) => { switch (u) { case 0: e = e.add(o); break; case 2: t = t.add(o); break; case 1: i = i.add(o); break; default: et() } }), new gy(this.pe, this.ye, e, t, i) } Ce() { this.we = !1, this.ge = jA() } Fe(e, t) { this.we = !0, this.ge = this.ge.insert(e, t) } Me(e) { this.we = !0, this.ge = this.ge.remove(e) } xe() { this.fe += 1 } Oe() { this.fe -= 1, Jt(this.fe >= 0) } Ne() { this.we = !0, this.ye = !0 } } class B9 { constructor(e) { this.Le = e, this.Be = new Map, this.ke = _u(), this.qe = VA(), this.Qe = new Un(Ft) } Ke(e) { for (const t of e.Re) e.Ve && e.Ve.isFoundDocument() ? this.$e(t, e.Ve) : this.Ue(t, e.key, e.Ve); for (const t of e.removedTargetIds) this.Ue(t, e.key, e.Ve) } We(e) { this.forEachTarget(e, t => { const i = this.Ge(t); switch (e.state) { case 0: this.ze(t) && i.De(e.resumeToken); break; case 1: i.Oe(), i.Se || i.Ce(), i.De(e.resumeToken); break; case 2: i.Oe(), i.Se || this.removeTarget(t); break; case 3: this.ze(t) && (i.Ne(), i.De(e.resumeToken)); break; case 4: this.ze(t) && (this.je(t), i.De(e.resumeToken)); break; default: et() } }) } forEachTarget(e, t) { e.targetIds.length > 0 ? e.targetIds.forEach(t) : this.Be.forEach((i, o) => { this.ze(o) && t(o) }) } He(e) { const t = e.targetId, i = e.me.count, o = this.Je(t); if (o) { const u = o.target; if (H_(u)) if (i === 0) { const d = new Ge(u.path); this.Ue(t, d, Er.newNoDocument(d, rt.min())) } else Jt(i === 1); else { const d = this.Ye(t); if (d !== i) { const p = this.Ze(e), m = p ? this.Xe(p, e, d) : 1; if (m !== 0) { this.je(t); const y = m === 2 ? "TargetPurposeExistenceFilterMismatchBloom" : "TargetPurposeExistenceFilterMismatch"; this.Qe = this.Qe.insert(t, y) } } } } } Ze(e) { const t = e.me.unchangedNames; if (!t || !t.bits) return null; const { bits: { bitmap: i = "", padding: o = 0 }, hashCount: u = 0 } = t; let d, p; try { d = Gh(i).toUint8Array() } catch (m) { if (m instanceof gI) return tm("Decoding the base64 bloom filter in existence filter failed (" + m.message + "); ignoring the bloom filter and falling back to full re-query."), null; throw m } try { p = new PE(d, o, u) } catch (m) { return tm(m instanceof vv ? "BloomFilter error: " : "Applying bloom filter failed: ", m), null } return p.Ie === 0 ? null : p } Xe(e, t, i) { return t.me.count === i - this.nt(e, t.targetId) ? 0 : 2 } nt(e, t) { const i = this.Le.getRemoteKeysForTarget(t); let o = 0; return i.forEach(u => { const d = this.Le.tt(), p = `projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`; e.mightContain(p) || (this.Ue(t, u, null), o++) }), o } rt(e) { const t = new Map; this.Be.forEach((u, d) => { const p = this.Je(d); if (p) { if (u.current && H_(p.target)) { const m = new Ge(p.target.path); this.ke.get(m) !== null || this.it(d, m) || this.Ue(d, m, Er.newNoDocument(m, e)) } u.be && (t.set(d, u.ve()), u.Ce()) } }); let i = Rt(); this.qe.forEach((u, d) => { let p = !0; d.forEachWhile(m => { const y = this.Je(m); return !y || y.purpose === "TargetPurposeLimboResolution" || (p = !1, !1) }), p && (i = i.add(u)) }), this.ke.forEach((u, d) => d.setReadTime(e)); const o = new Xb(e, t, this.Qe, this.ke, i); return this.ke = _u(), this.qe = VA(), this.Qe = new Un(Ft), o } $e(e, t) { if (!this.ze(e)) return; const i = this.it(e, t.key) ? 2 : 0; this.Ge(e).Fe(t.key, i), this.ke = this.ke.insert(t.key, t), this.qe = this.qe.insert(t.key, this.st(t.key).add(e)) } Ue(e, t, i) { if (!this.ze(e)) return; const o = this.Ge(e); this.it(e, t) ? o.Fe(t, 1) : o.Me(t), this.qe = this.qe.insert(t, this.st(t).delete(e)), i && (this.ke = this.ke.insert(t, i)) } removeTarget(e) { this.Be.delete(e) } Ye(e) { const t = this.Ge(e).ve(); return this.Le.getRemoteKeysForTarget(e).size + t.addedDocuments.size - t.removedDocuments.size } xe(e) { this.Ge(e).xe() } Ge(e) { let t = this.Be.get(e); return t || (t = new LA, this.Be.set(e, t)), t } st(e) { let t = this.qe.get(e); return t || (t = new er(Ft), this.qe = this.qe.insert(e, t)), t } ze(e) { const t = this.Je(e) !== null; return t || Ue("WatchChangeAggregator", "Detected inactive target", e), t } Je(e) { const t = this.Be.get(e); return t && t.Se ? null : this.Le.ot(e) } je(e) { this.Be.set(e, new LA), this.Le.getRemoteKeysForTarget(e).forEach(t => { this.Ue(e, t, null) }) } it(e, t) { return this.Le.getRemoteKeysForTarget(e).has(t) } } function VA() { return new Un(Ge.comparator) } function jA() { return new Un(Ge.comparator) } const F9 = { asc: "ASCENDING", desc: "DESCENDING" }, z9 = { "<": "LESS_THAN", "<=": "LESS_THAN_OR_EQUAL", ">": "GREATER_THAN", ">=": "GREATER_THAN_OR_EQUAL", "==": "EQUAL", "!=": "NOT_EQUAL", "array-contains": "ARRAY_CONTAINS", in: "IN", "not-in": "NOT_IN", "array-contains-any": "ARRAY_CONTAINS_ANY" }, H9 = { and: "AND", or: "OR" }; class q9 { constructor(e, t) { this.databaseId = e, this.useProto3Json = t } } function K_(n, e) { return n.useProto3Json || Gb(e) ? e : { value: e } } function fb(n, e) { return n.useProto3Json ? `${new Date(1e3 * e.seconds).toISOString().replace(/\.\d*/, "").replace("Z", "")}.${("000000000" + e.nanoseconds).slice(-9)}Z` : { seconds: "" + e.seconds, nanos: e.nanoseconds } } function BI(n, e) { return n.useProto3Json ? e.toBase64() : e.toUint8Array() } function G9(n, e) { return fb(n, e.toTimestamp()) } function il(n) { return Jt(!!n), rt.fromTimestamp(function (t) { const i = ed(t); return new Ti(i.seconds, i.nanos) }(n)) } function NE(n, e) { return $_(n, e).canonicalString() } function $_(n, e) { const t = function (o) { return new Tn(["projects", o.projectId, "databases", o.database]) }(n).child("documents"); return e === void 0 ? t : t.child(e) } function FI(n) { const e = Tn.fromString(n); return Jt(KI(e)), e } function W_(n, e) { return NE(n.databaseId, e.path) } function Zw(n, e) { const t = FI(e); if (t.get(1) !== n.databaseId.projectId) throw new Ne(be.INVALID_ARGUMENT, "Tried to deserialize key from different project: " + t.get(1) + " vs " + n.databaseId.projectId); if (t.get(3) !== n.databaseId.database) throw new Ne(be.INVALID_ARGUMENT, "Tried to deserialize key from different database: " + t.get(3) + " vs " + n.databaseId.database); return new Ge(HI(t)) } function zI(n, e) { return NE(n.databaseId, e) } function K9(n) { const e = FI(n); return e.length === 4 ? Tn.emptyPath() : HI(e) } function Y_(n) { return new Tn(["projects", n.databaseId.projectId, "databases", n.databaseId.database]).canonicalString() } function HI(n) { return Jt(n.length > 4 && n.get(4) === "documents"), n.popFirst(5) } function UA(n, e, t) { return { name: W_(n, e), fields: t.value.mapValue.fields } } function $9(n, e) { let t; if ("targetChange" in e) { e.targetChange; const i = function (y) { return y === "NO_CHANGE" ? 0 : y === "ADD" ? 1 : y === "REMOVE" ? 2 : y === "CURRENT" ? 3 : y === "RESET" ? 4 : et() }(e.targetChange.targetChangeType || "NO_CHANGE"), o = e.targetChange.targetIds || [], u = function (y, w) { return y.useProto3Json ? (Jt(w === void 0 || typeof w == "string"), nr.fromBase64String(w || "")) : (Jt(w === void 0 || w instanceof Buffer || w instanceof Uint8Array), nr.fromUint8Array(w || new Uint8Array)) }(n, e.targetChange.resumeToken), d = e.targetChange.cause, p = d && function (y) { const w = y.code === void 0 ? be.UNKNOWN : VI(y.code); return new Ne(w, y.message || "") }(d); t = new UI(i, o, u, p || null) } else if ("documentChange" in e) { e.documentChange; const i = e.documentChange; i.document, i.document.name, i.document.updateTime; const o = Zw(n, i.document.name), u = il(i.document.updateTime), d = i.document.createTime ? il(i.document.createTime) : rt.min(), p = new po({ mapValue: { fields: i.document.fields } }), m = Er.newFoundDocument(o, u, d, p), y = i.targetIds || [], w = i.removedTargetIds || []; t = new H0(y, w, m.key, m) } else if ("documentDelete" in e) { e.documentDelete; const i = e.documentDelete; i.document; const o = Zw(n, i.document), u = i.readTime ? il(i.readTime) : rt.min(), d = Er.newNoDocument(o, u), p = i.removedTargetIds || []; t = new H0([], p, d.key, d) } else if ("documentRemove" in e) { e.documentRemove; const i = e.documentRemove; i.document; const o = Zw(n, i.document), u = i.removedTargetIds || []; t = new H0([], u, o, null) } else { if (!("filter" in e)) return et(); { e.filter; const i = e.filter; i.targetId; const { count: o = 0, unchangedNames: u } = i, d = new L9(o, u), p = i.targetId; t = new jI(p, d) } } return t } function W9(n, e) { let t; if (e instanceof my) t = { update: UA(n, e.key, e.value) }; else if (e instanceof IE) t = { delete: W_(n, e.key) }; else if (e instanceof Zh) t = { update: UA(n, e.key, e.data), updateMask: iB(e.fieldMask) }; else { if (!(e instanceof M9)) return et(); t = { verify: W_(n, e.key) } } return e.fieldTransforms.length > 0 && (t.updateTransforms = e.fieldTransforms.map(i => function (u, d) { const p = d.transform; if (p instanceof db) return { fieldPath: d.field.canonicalString(), setToServerValue: "REQUEST_TIME" }; if (p instanceof Wv) return { fieldPath: d.field.canonicalString(), appendMissingElements: { values: p.elements } }; if (p instanceof Yv) return { fieldPath: d.field.canonicalString(), removeAllFromArray: { values: p.elements } }; if (p instanceof hb) return { fieldPath: d.field.canonicalString(), increment: p.Pe }; throw et() }(0, i))), e.precondition.isNone || (t.currentDocument = function (o, u) { return u.updateTime !== void 0 ? { updateTime: G9(o, u.updateTime) } : u.exists !== void 0 ? { exists: u.exists } : et() }(n, e.precondition)), t } function Y9(n, e) { return n && n.length > 0 ? (Jt(e !== void 0), n.map(t => function (o, u) { let d = o.updateTime ? il(o.updateTime) : il(u); return d.isEqual(rt.min()) && (d = il(u)), new k9(d, o.transformResults || []) }(t, e))) : [] } function X9(n, e) { return { documents: [zI(n, e.path)] } } function Q9(n, e) { const t = { structuredQuery: {} }, i = e.path; let o; e.collectionGroup !== null ? (o = i, t.structuredQuery.from = [{ collectionId: e.collectionGroup, allDescendants: !0 }]) : (o = i.popLast(), t.structuredQuery.from = [{ collectionId: i.lastSegment() }]), t.parent = zI(n, o); const u = function (y) { if (y.length !== 0) return GI(na.create(y, "and")) }(e.filters); u && (t.structuredQuery.where = u); const d = function (y) { if (y.length !== 0) return y.map(w => function (C) { return { field: Mp(C.field), direction: eB(C.dir) } }(w)) }(e.orderBy); d && (t.structuredQuery.orderBy = d); const p = K_(n, e.limit); return p !== null && (t.structuredQuery.limit = p), e.startAt && (t.structuredQuery.startAt = function (y) { return { before: y.inclusive, values: y.position } }(e.startAt)), e.endAt && (t.structuredQuery.endAt = function (y) { return { before: !y.inclusive, values: y.position } }(e.endAt)), { _t: t, parent: o } } function J9(n) { let e = K9(n.parent); const t = n.structuredQuery, i = t.from ? t.from.length : 0; let o = null; if (i > 0) { Jt(i === 1); const w = t.from[0]; w.allDescendants ? o = w.collectionId : e = e.child(w.collectionId) } let u = []; t.where && (u = function (E) { const C = qI(E); return C instanceof na && wI(C) ? C.getFilters() : [C] }(t.where)); let d = []; t.orderBy && (d = function (E) { return E.map(C => function (U) { return new $v(Dp(U.field), function (R) { switch (R) { case "ASCENDING": return "asc"; case "DESCENDING": return "desc"; default: return } }(U.direction)) }(C)) }(t.orderBy)); let p = null; t.limit && (p = function (E) { let C; return C = typeof E == "object" ? E.value : E, Gb(C) ? null : C }(t.limit)); let m = null; t.startAt && (m = function (E) { const C = !!E.before, N = E.values || []; return new cb(N, C) }(t.startAt)); let y = null; return t.endAt && (y = function (E) { const C = !E.before, N = E.values || []; return new cb(N, C) }(t.endAt)), v9(e, o, d, u, p, "F", m, y) } function Z9(n, e) { const t = function (o) { switch (o) { case "TargetPurposeListen": return null; case "TargetPurposeExistenceFilterMismatch": return "existence-filter-mismatch"; case "TargetPurposeExistenceFilterMismatchBloom": return "existence-filter-mismatch-bloom"; case "TargetPurposeLimboResolution": return "limbo-document"; default: return et() } }(e.purpose); return t == null ? null : { "goog-listen-tags": t } } function qI(n) { return n.unaryFilter !== void 0 ? function (t) { switch (t.unaryFilter.op) { case "IS_NAN": const i = Dp(t.unaryFilter.field); return mi.create(i, "==", { doubleValue: NaN }); case "IS_NULL": const o = Dp(t.unaryFilter.field); return mi.create(o, "==", { nullValue: "NULL_VALUE" }); case "IS_NOT_NAN": const u = Dp(t.unaryFilter.field); return mi.create(u, "!=", { doubleValue: NaN }); case "IS_NOT_NULL": const d = Dp(t.unaryFilter.field); return mi.create(d, "!=", { nullValue: "NULL_VALUE" }); default: return et() } }(n) : n.fieldFilter !== void 0 ? function (t) { return mi.create(Dp(t.fieldFilter.field), function (o) { switch (o) { case "EQUAL": return "=="; case "NOT_EQUAL": return "!="; case "GREATER_THAN": return ">"; case "GREATER_THAN_OR_EQUAL": return ">="; case "LESS_THAN": return "<"; case "LESS_THAN_OR_EQUAL": return "<="; case "ARRAY_CONTAINS": return "array-contains"; case "IN": return "in"; case "NOT_IN": return "not-in"; case "ARRAY_CONTAINS_ANY": return "array-contains-any"; default: return et() } }(t.fieldFilter.op), t.fieldFilter.value) }(n) : n.compositeFilter !== void 0 ? function (t) { return na.create(t.compositeFilter.filters.map(i => qI(i)), function (o) { switch (o) { case "AND": return "and"; case "OR": return "or"; default: return et() } }(t.compositeFilter.op)) }(n) : et() } function eB(n) { return F9[n] } function tB(n) { return z9[n] } function nB(n) { return H9[n] } function Mp(n) { return { fieldPath: n.canonicalString() } } function Dp(n) { return Zi.fromServerFormat(n.fieldPath) } function GI(n) { return n instanceof mi ? function (t) { if (t.op === "==") { if (AA(t.value)) return { unaryFilter: { field: Mp(t.field), op: "IS_NAN" } }; if (SA(t.value)) return { unaryFilter: { field: Mp(t.field), op: "IS_NULL" } } } else if (t.op === "!=") { if (AA(t.value)) return { unaryFilter: { field: Mp(t.field), op: "IS_NOT_NAN" } }; if (SA(t.value)) return { unaryFilter: { field: Mp(t.field), op: "IS_NOT_NULL" } } } return { fieldFilter: { field: Mp(t.field), op: tB(t.op), value: t.value } } }(n) : n instanceof na ? function (t) { const i = t.getFilters().map(o => GI(o)); return i.length === 1 ? i[0] : { compositeFilter: { op: nB(t.op), filters: i } } }(n) : et() } function iB(n) { const e = []; return n.fields.forEach(t => e.push(t.canonicalString())), { fieldPaths: e } } function KI(n) { return n.length >= 4 && n.get(0) === "projects" && n.get(2) === "databases" }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc { constructor(e, t, i, o, u = rt.min(), d = rt.min(), p = nr.EMPTY_BYTE_STRING, m = null) { this.target = e, this.targetId = t, this.purpose = i, this.sequenceNumber = o, this.snapshotVersion = u, this.lastLimboFreeSnapshotVersion = d, this.resumeToken = p, this.expectedCount = m } withSequenceNumber(e) { return new Kc(this.target, this.targetId, this.purpose, e, this.snapshotVersion, this.lastLimboFreeSnapshotVersion, this.resumeToken, this.expectedCount) } withResumeToken(e, t) { return new Kc(this.target, this.targetId, this.purpose, this.sequenceNumber, t, this.lastLimboFreeSnapshotVersion, e, null) } withExpectedCount(e) { return new Kc(this.target, this.targetId, this.purpose, this.sequenceNumber, this.snapshotVersion, this.lastLimboFreeSnapshotVersion, this.resumeToken, e) } withLastLimboFreeSnapshotVersion(e) { return new Kc(this.target, this.targetId, this.purpose, this.sequenceNumber, this.snapshotVersion, e, this.resumeToken, this.expectedCount) } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB { constructor(e) { this.ct = e } } function sB(n) { const e = J9({ parent: n.parent, structuredQuery: n.structuredQuery }); return n.limitType === "LAST" ? G_(e, e.limit, "L") : e }/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB { constructor() { this.un = new aB } addToCollectionParentIndex(e, t) { return this.un.add(t), Te.resolve() } getCollectionParents(e, t) { return Te.resolve(this.un.getEntries(t)) } addFieldIndex(e, t) { return Te.resolve() } deleteFieldIndex(e, t) { return Te.resolve() } deleteAllFieldIndexes(e) { return Te.resolve() } createTargetIndexes(e, t) { return Te.resolve() } getDocumentsMatchingTarget(e, t) { return Te.resolve(null) } getIndexType(e, t) { return Te.resolve(0) } getFieldIndexes(e, t) { return Te.resolve([]) } getNextCollectionGroupToUpdate(e) { return Te.resolve(null) } getMinOffset(e, t) { return Te.resolve(Zc.min()) } getMinOffsetFromCollectionGroup(e, t) { return Te.resolve(Zc.min()) } updateCollectionGroup(e, t, i) { return Te.resolve() } updateIndexEntries(e, t) { return Te.resolve() } } class aB { constructor() { this.index = {} } add(e) { const t = e.lastSegment(), i = e.popLast(), o = this.index[t] || new er(Tn.comparator), u = !o.has(i); return this.index[t] = o.add(i), u } has(e) { const t = e.lastSegment(), i = e.popLast(), o = this.index[t]; return o && o.has(i) } getEntries(e) { return (this.index[e] || new er(Tn.comparator)).toArray() } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm { constructor(e) { this.Ln = e } next() { return this.Ln += 2, this.Ln } static Bn() { return new sm(0) } static kn() { return new sm(-1) } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB { constructor() { this.changes = new _m(e => e.toString(), (e, t) => e.isEqual(t)), this.changesApplied = !1 } addEntry(e) { this.assertNotApplied(), this.changes.set(e.key, e) } removeEntry(e, t) { this.assertNotApplied(), this.changes.set(e, Er.newInvalidDocument(e).setReadTime(t)) } getEntry(e, t) { this.assertNotApplied(); const i = this.changes.get(t); return i !== void 0 ? Te.resolve(i) : this.getFromCache(e, t) } getEntries(e, t) { return this.getAllFromCache(e, t) } apply(e) { return this.assertNotApplied(), this.changesApplied = !0, this.applyChanges(e) } assertNotApplied() { } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB { constructor(e, t) { this.overlayedDocument = e, this.mutatedFields = t } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB { constructor(e, t, i, o) { this.remoteDocumentCache = e, this.mutationQueue = t, this.documentOverlayCache = i, this.indexManager = o } getDocument(e, t) { let i = null; return this.documentOverlayCache.getOverlay(e, t).next(o => (i = o, this.remoteDocumentCache.getEntry(e, t))).next(o => (i !== null && Rv(i.mutation, o, ea.empty(), Ti.now()), o)) } getDocuments(e, t) { return this.remoteDocumentCache.getEntries(e, t).next(i => this.getLocalViewOfDocuments(e, i, Rt()).next(() => i)) } getLocalViewOfDocuments(e, t, i = Rt()) { const o = Dh(); return this.populateOverlays(e, o, t).next(() => this.computeViews(e, t, o, i).next(u => { let d = gv(); return u.forEach((p, m) => { d = d.insert(p, m.overlayedDocument) }), d })) } getOverlayedDocuments(e, t) { const i = Dh(); return this.populateOverlays(e, i, t).next(() => this.computeViews(e, t, i, Rt())) } populateOverlays(e, t, i) { const o = []; return i.forEach(u => { t.has(u) || o.push(u) }), this.documentOverlayCache.getOverlays(e, o).next(u => { u.forEach((d, p) => { t.set(d, p) }) }) } computeViews(e, t, i, o) { let u = _u(); const d = xv(), p = function () { return xv() }(); return t.forEach((m, y) => { const w = i.get(y.key); o.has(y.key) && (w === void 0 || w.mutation instanceof Zh) ? u = u.insert(y.key, y) : w !== void 0 ? (d.set(y.key, w.mutation.getFieldMask()), Rv(w.mutation, y, w.mutation.getFieldMask(), Ti.now())) : d.set(y.key, ea.empty()) }), this.recalculateAndSaveOverlays(e, u).next(m => (m.forEach((y, w) => d.set(y, w)), t.forEach((y, w) => { var E; return p.set(y, new uB(w, (E = d.get(y)) !== null && E !== void 0 ? E : null)) }), p)) } recalculateAndSaveOverlays(e, t) { const i = xv(); let o = new Un((d, p) => d - p), u = Rt(); return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e, t).next(d => { for (const p of d) p.keys().forEach(m => { const y = t.get(m); if (y === null) return; let w = i.get(m) || ea.empty(); w = p.applyToLocalView(y, w), i.set(m, w); const E = (o.get(p.batchId) || Rt()).add(m); o = o.insert(p.batchId, E) }) }).next(() => { const d = [], p = o.getReverseIterator(); for (; p.hasNext();) { const m = p.getNext(), y = m.key, w = m.value, E = II(); w.forEach(C => { if (!u.has(C)) { const N = OI(t.get(C), i.get(C)); N !== null && E.set(C, N), u = u.add(C) } }), d.push(this.documentOverlayCache.saveOverlays(e, y, E)) } return Te.waitFor(d) }).next(() => i) } recalculateAndSaveOverlaysForDocumentKeys(e, t) { return this.remoteDocumentCache.getEntries(e, t).next(i => this.recalculateAndSaveOverlays(e, i)) } getDocumentsMatchingQuery(e, t, i, o) { return function (d) { return Ge.isDocumentKey(d.path) && d.collectionGroup === null && d.filters.length === 0 }(t) ? this.getDocumentsMatchingDocumentQuery(e, t.path) : SI(t) ? this.getDocumentsMatchingCollectionGroupQuery(e, t, i, o) : this.getDocumentsMatchingCollectionQuery(e, t, i, o) } getNextDocuments(e, t, i, o) { return this.remoteDocumentCache.getAllFromCollectionGroup(e, t, i, o).next(u => { const d = o - u.size > 0 ? this.documentOverlayCache.getOverlaysForCollectionGroup(e, t, i.largestBatchId, o - u.size) : Te.resolve(Dh()); let p = -1, m = u; return d.next(y => Te.forEach(y, (w, E) => (p < E.largestBatchId && (p = E.largestBatchId), u.get(w) ? Te.resolve() : this.remoteDocumentCache.getEntry(e, w).next(C => { m = m.insert(w, C) }))).next(() => this.populateOverlays(e, y, u)).next(() => this.computeViews(e, m, y, Rt())).next(w => ({ batchId: p, changes: RI(w) }))) }) } getDocumentsMatchingDocumentQuery(e, t) { return this.getDocument(e, new Ge(t)).next(i => { let o = gv(); return i.isFoundDocument() && (o = o.insert(i.key, i)), o }) } getDocumentsMatchingCollectionGroupQuery(e, t, i, o) { const u = t.collectionGroup; let d = gv(); return this.indexManager.getCollectionParents(e, u).next(p => Te.forEach(p, m => { const y = function (E, C) { return new wm(C, null, E.explicitOrderBy.slice(), E.filters.slice(), E.limit, E.limitType, E.startAt, E.endAt) }(t, m.child(u)); return this.getDocumentsMatchingCollectionQuery(e, y, i, o).next(w => { w.forEach((E, C) => { d = d.insert(E, C) }) }) }).next(() => d)) } getDocumentsMatchingCollectionQuery(e, t, i, o) { let u; return this.documentOverlayCache.getOverlaysForCollection(e, t.path, i.largestBatchId).next(d => (u = d, this.remoteDocumentCache.getDocumentsMatchingQuery(e, t, i, u, o))).next(d => { u.forEach((m, y) => { const w = y.getKey(); d.get(w) === null && (d = d.insert(w, Er.newInvalidDocument(w))) }); let p = gv(); return d.forEach((m, y) => { const w = u.get(m); w !== void 0 && Rv(w.mutation, y, ea.empty(), Ti.now()), $b(t, y) && (p = p.insert(m, y)) }), p }) } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB { constructor(e) { this.serializer = e, this.hr = new Map, this.Pr = new Map } getBundleMetadata(e, t) { return Te.resolve(this.hr.get(t)) } saveBundleMetadata(e, t) { return this.hr.set(t.id, function (o) { return { id: o.id, version: o.version, createTime: il(o.createTime) } }(t)), Te.resolve() } getNamedQuery(e, t) { return Te.resolve(this.Pr.get(t)) } saveNamedQuery(e, t) { return this.Pr.set(t.name, function (o) { return { name: o.name, query: sB(o.bundledQuery), readTime: il(o.readTime) } }(t)), Te.resolve() } }/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB { constructor() { this.overlays = new Un(Ge.comparator), this.Ir = new Map } getOverlay(e, t) { return Te.resolve(this.overlays.get(t)) } getOverlays(e, t) { const i = Dh(); return Te.forEach(t, o => this.getOverlay(e, o).next(u => { u !== null && i.set(o, u) })).next(() => i) } saveOverlays(e, t, i) { return i.forEach((o, u) => { this.ht(e, t, u) }), Te.resolve() } removeOverlaysForBatchId(e, t, i) { const o = this.Ir.get(i); return o !== void 0 && (o.forEach(u => this.overlays = this.overlays.remove(u)), this.Ir.delete(i)), Te.resolve() } getOverlaysForCollection(e, t, i) { const o = Dh(), u = t.length + 1, d = new Ge(t.child("")), p = this.overlays.getIteratorFrom(d); for (; p.hasNext();) { const m = p.getNext().value, y = m.getKey(); if (!t.isPrefixOf(y.path)) break; y.path.length === u && m.largestBatchId > i && o.set(m.getKey(), m) } return Te.resolve(o) } getOverlaysForCollectionGroup(e, t, i, o) { let u = new Un((y, w) => y - w); const d = this.overlays.getIterator(); for (; d.hasNext();) { const y = d.getNext().value; if (y.getKey().getCollectionGroup() === t && y.largestBatchId > i) { let w = u.get(y.largestBatchId); w === null && (w = Dh(), u = u.insert(y.largestBatchId, w)), w.set(y.getKey(), y) } } const p = Dh(), m = u.getIterator(); for (; m.hasNext() && (m.getNext().value.forEach((y, w) => p.set(y, w)), !(p.size() >= o));); return Te.resolve(p) } ht(e, t, i) { const o = this.overlays.get(i.key); if (o !== null) { const d = this.Ir.get(o.largestBatchId).delete(i.key); this.Ir.set(o.largestBatchId, d) } this.overlays = this.overlays.insert(i.key, new O9(t, i)); let u = this.Ir.get(t); u === void 0 && (u = Rt(), this.Ir.set(t, u)), this.Ir.set(t, u.add(i.key)) } }/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB { constructor() { this.sessionToken = nr.EMPTY_BYTE_STRING } getSessionToken(e) { return Te.resolve(this.sessionToken) } setSessionToken(e, t) { return this.sessionToken = t, Te.resolve() } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME { constructor() { this.Tr = new er(Vi.Er), this.dr = new er(Vi.Ar) } isEmpty() { return this.Tr.isEmpty() } addReference(e, t) { const i = new Vi(e, t); this.Tr = this.Tr.add(i), this.dr = this.dr.add(i) } Rr(e, t) { e.forEach(i => this.addReference(i, t)) } removeReference(e, t) { this.Vr(new Vi(e, t)) } mr(e, t) { e.forEach(i => this.removeReference(i, t)) } gr(e) { const t = new Ge(new Tn([])), i = new Vi(t, e), o = new Vi(t, e + 1), u = []; return this.dr.forEachInRange([i, o], d => { this.Vr(d), u.push(d.key) }), u } pr() { this.Tr.forEach(e => this.Vr(e)) } Vr(e) { this.Tr = this.Tr.delete(e), this.dr = this.dr.delete(e) } yr(e) { const t = new Ge(new Tn([])), i = new Vi(t, e), o = new Vi(t, e + 1); let u = Rt(); return this.dr.forEachInRange([i, o], d => { u = u.add(d.key) }), u } containsKey(e) { const t = new Vi(e, 0), i = this.Tr.firstAfterOrEqual(t); return i !== null && e.isEqual(i.key) } } class Vi { constructor(e, t) { this.key = e, this.wr = t } static Er(e, t) { return Ge.comparator(e.key, t.key) || Ft(e.wr, t.wr) } static Ar(e, t) { return Ft(e.wr, t.wr) || Ge.comparator(e.key, t.key) } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB { constructor(e, t) { this.indexManager = e, this.referenceDelegate = t, this.mutationQueue = [], this.Sr = 1, this.br = new er(Vi.Er) } checkEmpty(e) { return Te.resolve(this.mutationQueue.length === 0) } addMutationBatch(e, t, i, o) { const u = this.Sr; this.Sr++, this.mutationQueue.length > 0 && this.mutationQueue[this.mutationQueue.length - 1]; const d = new D9(u, t, i, o); this.mutationQueue.push(d); for (const p of o) this.br = this.br.add(new Vi(p.key, u)), this.indexManager.addToCollectionParentIndex(e, p.key.path.popLast()); return Te.resolve(d) } lookupMutationBatch(e, t) { return Te.resolve(this.Dr(t)) } getNextMutationBatchAfterBatchId(e, t) { const i = t + 1, o = this.vr(i), u = o < 0 ? 0 : o; return Te.resolve(this.mutationQueue.length > u ? this.mutationQueue[u] : null) } getHighestUnacknowledgedBatchId() { return Te.resolve(this.mutationQueue.length === 0 ? -1 : this.Sr - 1) } getAllMutationBatches(e) { return Te.resolve(this.mutationQueue.slice()) } getAllMutationBatchesAffectingDocumentKey(e, t) { const i = new Vi(t, 0), o = new Vi(t, Number.POSITIVE_INFINITY), u = []; return this.br.forEachInRange([i, o], d => { const p = this.Dr(d.wr); u.push(p) }), Te.resolve(u) } getAllMutationBatchesAffectingDocumentKeys(e, t) { let i = new er(Ft); return t.forEach(o => { const u = new Vi(o, 0), d = new Vi(o, Number.POSITIVE_INFINITY); this.br.forEachInRange([u, d], p => { i = i.add(p.wr) }) }), Te.resolve(this.Cr(i)) } getAllMutationBatchesAffectingQuery(e, t) { const i = t.path, o = i.length + 1; let u = i; Ge.isDocumentKey(u) || (u = u.child("")); const d = new Vi(new Ge(u), 0); let p = new er(Ft); return this.br.forEachWhile(m => { const y = m.key.path; return !!i.isPrefixOf(y) && (y.length === o && (p = p.add(m.wr)), !0) }, d), Te.resolve(this.Cr(p)) } Cr(e) { const t = []; return e.forEach(i => { const o = this.Dr(i); o !== null && t.push(o) }), t } removeMutationBatch(e, t) { Jt(this.Fr(t.batchId, "removed") === 0), this.mutationQueue.shift(); let i = this.br; return Te.forEach(t.mutations, o => { const u = new Vi(o.key, t.batchId); return i = i.delete(u), this.referenceDelegate.markPotentiallyOrphaned(e, o.key) }).next(() => { this.br = i }) } On(e) { } containsKey(e, t) { const i = new Vi(t, 0), o = this.br.firstAfterOrEqual(i); return Te.resolve(t.isEqual(o && o.key)) } performConsistencyCheck(e) { return this.mutationQueue.length, Te.resolve() } Fr(e, t) { return this.vr(e) } vr(e) { return this.mutationQueue.length === 0 ? 0 : e - this.mutationQueue[0].batchId } Dr(e) { const t = this.vr(e); return t < 0 || t >= this.mutationQueue.length ? null : this.mutationQueue[t] } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB { constructor(e) { this.Mr = e, this.docs = function () { return new Un(Ge.comparator) }(), this.size = 0 } setIndexManager(e) { this.indexManager = e } addEntry(e, t) { const i = t.key, o = this.docs.get(i), u = o ? o.size : 0, d = this.Mr(t); return this.docs = this.docs.insert(i, { document: t.mutableCopy(), size: d }), this.size += d - u, this.indexManager.addToCollectionParentIndex(e, i.path.popLast()) } removeEntry(e) { const t = this.docs.get(e); t && (this.docs = this.docs.remove(e), this.size -= t.size) } getEntry(e, t) { const i = this.docs.get(t); return Te.resolve(i ? i.document.mutableCopy() : Er.newInvalidDocument(t)) } getEntries(e, t) { let i = _u(); return t.forEach(o => { const u = this.docs.get(o); i = i.insert(o, u ? u.document.mutableCopy() : Er.newInvalidDocument(o)) }), Te.resolve(i) } getDocumentsMatchingQuery(e, t, i, o) { let u = _u(); const d = t.path, p = new Ge(d.child("")), m = this.docs.getIteratorFrom(p); for (; m.hasNext();) { const { key: y, value: { document: w } } = m.getNext(); if (!d.isPrefixOf(y.path)) break; y.path.length > d.length + 1 || JU(QU(w), i) <= 0 || (o.has(w.key) || $b(t, w)) && (u = u.insert(w.key, w.mutableCopy())) } return Te.resolve(u) } getAllFromCollectionGroup(e, t, i, o) { et() } Or(e, t) { return Te.forEach(this.docs, i => t(i)) } newChangeBuffer(e) { return new gB(this) } getSize(e) { return Te.resolve(this.size) } } class gB extends lB { constructor(e) { super(), this.cr = e } applyChanges(e) { const t = []; return this.changes.forEach((i, o) => { o.isValidDocument() ? t.push(this.cr.addEntry(e, o)) : this.cr.removeEntry(i) }), Te.waitFor(t) } getFromCache(e, t) { return this.cr.getEntry(e, t) } getAllFromCache(e, t) { return this.cr.getEntries(e, t) } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB { constructor(e) { this.persistence = e, this.Nr = new _m(t => AE(t), CE), this.lastRemoteSnapshotVersion = rt.min(), this.highestTargetId = 0, this.Lr = 0, this.Br = new ME, this.targetCount = 0, this.kr = sm.Bn() } forEachTarget(e, t) { return this.Nr.forEach((i, o) => t(o)), Te.resolve() } getLastRemoteSnapshotVersion(e) { return Te.resolve(this.lastRemoteSnapshotVersion) } getHighestSequenceNumber(e) { return Te.resolve(this.Lr) } allocateTargetId(e) { return this.highestTargetId = this.kr.next(), Te.resolve(this.highestTargetId) } setTargetsMetadata(e, t, i) { return i && (this.lastRemoteSnapshotVersion = i), t > this.Lr && (this.Lr = t), Te.resolve() } Kn(e) { this.Nr.set(e.target, e); const t = e.targetId; t > this.highestTargetId && (this.kr = new sm(t), this.highestTargetId = t), e.sequenceNumber > this.Lr && (this.Lr = e.sequenceNumber) } addTargetData(e, t) { return this.Kn(t), this.targetCount += 1, Te.resolve() } updateTargetData(e, t) { return this.Kn(t), Te.resolve() } removeTargetData(e, t) { return this.Nr.delete(t.target), this.Br.gr(t.targetId), this.targetCount -= 1, Te.resolve() } removeTargets(e, t, i) { let o = 0; const u = []; return this.Nr.forEach((d, p) => { p.sequenceNumber <= t && i.get(p.targetId) === null && (this.Nr.delete(d), u.push(this.removeMatchingKeysForTargetId(e, p.targetId)), o++) }), Te.waitFor(u).next(() => o) } getTargetCount(e) { return Te.resolve(this.targetCount) } getTargetData(e, t) { const i = this.Nr.get(t) || null; return Te.resolve(i) } addMatchingKeys(e, t, i) { return this.Br.Rr(t, i), Te.resolve() } removeMatchingKeys(e, t, i) { this.Br.mr(t, i); const o = this.persistence.referenceDelegate, u = []; return o && t.forEach(d => { u.push(o.markPotentiallyOrphaned(e, d)) }), Te.waitFor(u) } removeMatchingKeysForTargetId(e, t) { return this.Br.gr(t), Te.resolve() } getMatchingKeysForTargetId(e, t) { const i = this.Br.yr(t); return Te.resolve(i) } containsKey(e, t) { return Te.resolve(this.Br.containsKey(t)) } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB { constructor(e, t) { this.qr = {}, this.overlays = {}, this.Qr = new _E(0), this.Kr = !1, this.Kr = !0, this.$r = new fB, this.referenceDelegate = e(this), this.Ur = new vB(this), this.indexManager = new oB, this.remoteDocumentCache = function (o) { return new mB(o) }(i => this.referenceDelegate.Wr(i)), this.serializer = new rB(t), this.Gr = new dB(this.serializer) } start() { return Promise.resolve() } shutdown() { return this.Kr = !1, Promise.resolve() } get started() { return this.Kr } setDatabaseDeletedListener() { } setNetworkEnabled() { } getIndexManager(e) { return this.indexManager } getDocumentOverlayCache(e) { let t = this.overlays[e.toKey()]; return t || (t = new hB, this.overlays[e.toKey()] = t), t } getMutationQueue(e, t) { let i = this.qr[e.toKey()]; return i || (i = new pB(t, this.referenceDelegate), this.qr[e.toKey()] = i), i } getGlobalsCache() { return this.$r } getTargetCache() { return this.Ur } getRemoteDocumentCache() { return this.remoteDocumentCache } getBundleCache() { return this.Gr } runTransaction(e, t, i) { Ue("MemoryPersistence", "Starting transaction:", e); const o = new bB(this.Qr.next()); return this.referenceDelegate.zr(), i(o).next(u => this.referenceDelegate.jr(o).next(() => u)).toPromise().then(u => (o.raiseOnCommittedEvent(), u)) } Hr(e, t) { return Te.or(Object.values(this.qr).map(i => () => i.containsKey(e, t))) } } class bB extends e9 { constructor(e) { super(), this.currentSequenceNumber = e } } class DE { constructor(e) { this.persistence = e, this.Jr = new ME, this.Yr = null } static Zr(e) { return new DE(e) } get Xr() { if (this.Yr) return this.Yr; throw et() } addReference(e, t, i) { return this.Jr.addReference(i, t), this.Xr.delete(i.toString()), Te.resolve() } removeReference(e, t, i) { return this.Jr.removeReference(i, t), this.Xr.add(i.toString()), Te.resolve() } markPotentiallyOrphaned(e, t) { return this.Xr.add(t.toString()), Te.resolve() } removeTarget(e, t) { this.Jr.gr(t.targetId).forEach(o => this.Xr.add(o.toString())); const i = this.persistence.getTargetCache(); return i.getMatchingKeysForTargetId(e, t.targetId).next(o => { o.forEach(u => this.Xr.add(u.toString())) }).next(() => i.removeTargetData(e, t)) } zr() { this.Yr = new Set } jr(e) { const t = this.persistence.getRemoteDocumentCache().newChangeBuffer(); return Te.forEach(this.Xr, i => { const o = Ge.fromPath(i); return this.ei(e, o).next(u => { u || t.removeEntry(o, rt.min()) }) }).next(() => (this.Yr = null, t.apply(e))) } updateLimboDocument(e, t) { return this.ei(e, t).next(i => { i ? this.Xr.delete(t.toString()) : this.Xr.add(t.toString()) }) } Wr(e) { return 0 } ei(e, t) { return Te.or([() => Te.resolve(this.Jr.containsKey(t)), () => this.persistence.getTargetCache().containsKey(e, t), () => this.persistence.Hr(e, t)]) } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE { constructor(e, t, i, o) { this.targetId = e, this.fromCache = t, this.$i = i, this.Ui = o } static Wi(e, t) { let i = Rt(), o = Rt(); for (const u of t.docChanges) switch (u.type) { case 0: i = i.add(u.doc.key); break; case 1: o = o.add(u.doc.key) }return new OE(e, t.fromCache, i, o) } }/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB { constructor() { this._documentReadCount = 0 } get documentReadCount() { return this._documentReadCount } incrementDocumentReadCount(e) { this._documentReadCount += e } }/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B { constructor() { this.Gi = !1, this.zi = !1, this.ji = 100, this.Hi = function () { return WL() ? 8 : t9(vi()) > 0 ? 6 : 4 }() } initialize(e, t) { this.Ji = e, this.indexManager = t, this.Gi = !0 } getDocumentsMatchingQuery(e, t, i, o) { const u = { result: null }; return this.Yi(e, t).next(d => { u.result = d }).next(() => { if (!u.result) return this.Zi(e, t, o, i).next(d => { u.result = d }) }).next(() => { if (u.result) return; const d = new wB; return this.Xi(e, t, d).next(p => { if (u.result = p, this.zi) return this.es(e, t, d, p.size) }) }).next(() => u.result) } es(e, t, i, o) { return i.documentReadCount < this.ji ? (uv() <= xt.DEBUG && Ue("QueryEngine", "SDK will not create cache indexes for query:", Np(t), "since it only creates cache indexes for collection contains", "more than or equal to", this.ji, "documents"), Te.resolve()) : (uv() <= xt.DEBUG && Ue("QueryEngine", "Query:", Np(t), "scans", i.documentReadCount, "local documents and returns", o, "documents as results."), i.documentReadCount > this.Hi * o ? (uv() <= xt.DEBUG && Ue("QueryEngine", "The SDK decides to create cache indexes for query:", Np(t), "as using cache indexes may help improve performance."), this.indexManager.createTargetIndexes(e, tl(t))) : Te.resolve()) } Yi(e, t) { if (IA(t)) return Te.resolve(null); let i = tl(t); return this.indexManager.getIndexType(e, i).next(o => o === 0 ? null : (t.limit !== null && o === 1 && (t = G_(t, null, "F"), i = tl(t)), this.indexManager.getDocumentsMatchingTarget(e, i).next(u => { const d = Rt(...u); return this.Ji.getDocuments(e, d).next(p => this.indexManager.getMinOffset(e, i).next(m => { const y = this.ts(t, p); return this.ns(t, y, d, m.readTime) ? this.Yi(e, G_(t, null, "F")) : this.rs(e, y, t, m) })) }))) } Zi(e, t, i, o) { return IA(t) || o.isEqual(rt.min()) ? Te.resolve(null) : this.Ji.getDocuments(e, i).next(u => { const d = this.ts(t, u); return this.ns(t, d, i, o) ? Te.resolve(null) : (uv() <= xt.DEBUG && Ue("QueryEngine", "Re-using previous result from %s to execute query: %s", o.toString(), Np(t)), this.rs(e, d, t, XU(o, -1)).next(p => p)) }) } ts(e, t) { let i = new er(CI(e)); return t.forEach((o, u) => { $b(e, u) && (i = i.add(u)) }), i } ns(e, t, i, o) { if (e.limit === null) return !1; if (i.size !== t.size) return !0; const u = e.limitType === "F" ? t.last() : t.first(); return !!u && (u.hasPendingWrites || u.version.compareTo(o) > 0) } Xi(e, t, i) { return uv() <= xt.DEBUG && Ue("QueryEngine", "Using full collection scan to execute query:", Np(t)), this.Ji.getDocumentsMatchingQuery(e, t, Zc.min(), i) } rs(e, t, i, o) { return this.Ji.getDocumentsMatchingQuery(e, i, o).next(u => (t.forEach(d => { u = u.insert(d.key, d) }), u)) } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB { constructor(e, t, i, o) { this.persistence = e, this.ss = t, this.serializer = o, this.os = new Un(Ft), this._s = new _m(u => AE(u), CE), this.us = new Map, this.cs = e.getRemoteDocumentCache(), this.Ur = e.getTargetCache(), this.Gr = e.getBundleCache(), this.ls(i) } ls(e) { this.documentOverlayCache = this.persistence.getDocumentOverlayCache(e), this.indexManager = this.persistence.getIndexManager(e), this.mutationQueue = this.persistence.getMutationQueue(e, this.indexManager), this.localDocuments = new cB(this.cs, this.mutationQueue, this.documentOverlayCache, this.indexManager), this.cs.setIndexManager(this.indexManager), this.ss.initialize(this.localDocuments, this.indexManager) } collectGarbage(e) { return this.persistence.runTransaction("Collect garbage", "readwrite-primary", t => e.collect(t, this.os)) } } function TB(n, e, t, i) { return new EB(n, e, t, i) } async function $I(n, e) { const t = ot(n); return await t.persistence.runTransaction("Handle user change", "readonly", i => { let o; return t.mutationQueue.getAllMutationBatches(i).next(u => (o = u, t.ls(e), t.mutationQueue.getAllMutationBatches(i))).next(u => { const d = [], p = []; let m = Rt(); for (const y of o) { d.push(y.batchId); for (const w of y.mutations) m = m.add(w.key) } for (const y of u) { p.push(y.batchId); for (const w of y.mutations) m = m.add(w.key) } return t.localDocuments.getDocuments(i, m).next(y => ({ hs: y, removedBatchIds: d, addedBatchIds: p })) }) }) } function SB(n, e) { const t = ot(n); return t.persistence.runTransaction("Acknowledge batch", "readwrite-primary", i => { const o = e.batch.keys(), u = t.cs.newChangeBuffer({ trackRemovals: !0 }); return function (p, m, y, w) { const E = y.batch, C = E.keys(); let N = Te.resolve(); return C.forEach(U => { N = N.next(() => w.getEntry(m, U)).next(k => { const R = y.docVersions.get(U); Jt(R !== null), k.version.compareTo(R) < 0 && (E.applyToRemoteDocument(k, y), k.isValidDocument() && (k.setReadTime(y.commitVersion), w.addEntry(k))) }) }), N.next(() => p.mutationQueue.removeMutationBatch(m, E)) }(t, i, e, u).next(() => u.apply(i)).next(() => t.mutationQueue.performConsistencyCheck(i)).next(() => t.documentOverlayCache.removeOverlaysForBatchId(i, o, e.batch.batchId)).next(() => t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i, function (p) { let m = Rt(); for (let y = 0; y < p.mutationResults.length; ++y)p.mutationResults[y].transformResults.length > 0 && (m = m.add(p.batch.mutations[y].key)); return m }(e))).next(() => t.localDocuments.getDocuments(i, o)) }) } function WI(n) { const e = ot(n); return e.persistence.runTransaction("Get last remote snapshot version", "readonly", t => e.Ur.getLastRemoteSnapshotVersion(t)) } function AB(n, e) { const t = ot(n), i = e.snapshotVersion; let o = t.os; return t.persistence.runTransaction("Apply remote event", "readwrite-primary", u => { const d = t.cs.newChangeBuffer({ trackRemovals: !0 }); o = t.os; const p = []; e.targetChanges.forEach((w, E) => { const C = o.get(E); if (!C) return; p.push(t.Ur.removeMatchingKeys(u, w.removedDocuments, E).next(() => t.Ur.addMatchingKeys(u, w.addedDocuments, E))); let N = C.withSequenceNumber(u.currentSequenceNumber); e.targetMismatches.get(E) !== null ? N = N.withResumeToken(nr.EMPTY_BYTE_STRING, rt.min()).withLastLimboFreeSnapshotVersion(rt.min()) : w.resumeToken.approximateByteSize() > 0 && (N = N.withResumeToken(w.resumeToken, i)), o = o.insert(E, N), function (k, R, L) { return k.resumeToken.approximateByteSize() === 0 || R.snapshotVersion.toMicroseconds() - k.snapshotVersion.toMicroseconds() >= 3e8 ? !0 : L.addedDocuments.size + L.modifiedDocuments.size + L.removedDocuments.size > 0 }(C, N, w) && p.push(t.Ur.updateTargetData(u, N)) }); let m = _u(), y = Rt(); if (e.documentUpdates.forEach(w => { e.resolvedLimboDocuments.has(w) && p.push(t.persistence.referenceDelegate.updateLimboDocument(u, w)) }), p.push(CB(u, d, e.documentUpdates).next(w => { m = w.Ps, y = w.Is })), !i.isEqual(rt.min())) { const w = t.Ur.getLastRemoteSnapshotVersion(u).next(E => t.Ur.setTargetsMetadata(u, u.currentSequenceNumber, i)); p.push(w) } return Te.waitFor(p).next(() => d.apply(u)).next(() => t.localDocuments.getLocalViewOfDocuments(u, m, y)).next(() => m) }).then(u => (t.os = o, u)) } function CB(n, e, t) { let i = Rt(), o = Rt(); return t.forEach(u => i = i.add(u)), e.getEntries(n, i).next(u => { let d = _u(); return t.forEach((p, m) => { const y = u.get(p); m.isFoundDocument() !== y.isFoundDocument() && (o = o.add(p)), m.isNoDocument() && m.version.isEqual(rt.min()) ? (e.removeEntry(p, m.readTime), d = d.insert(p, m)) : !y.isValidDocument() || m.version.compareTo(y.version) > 0 || m.version.compareTo(y.version) === 0 && y.hasPendingWrites ? (e.addEntry(m), d = d.insert(p, m)) : Ue("LocalStore", "Ignoring outdated watch update for ", p, ". Current version:", y.version, " Watch version:", m.version) }), { Ps: d, Is: o } }) } function xB(n, e) { const t = ot(n); return t.persistence.runTransaction("Get next mutation batch", "readonly", i => (e === void 0 && (e = -1), t.mutationQueue.getNextMutationBatchAfterBatchId(i, e))) } function RB(n, e) { const t = ot(n); return t.persistence.runTransaction("Allocate target", "readwrite", i => { let o; return t.Ur.getTargetData(i, e).next(u => u ? (o = u, Te.resolve(o)) : t.Ur.allocateTargetId(i).next(d => (o = new Kc(e, d, "TargetPurposeListen", i.currentSequenceNumber), t.Ur.addTargetData(i, o).next(() => o)))) }).then(i => { const o = t.os.get(i.targetId); return (o === null || i.snapshotVersion.compareTo(o.snapshotVersion) > 0) && (t.os = t.os.insert(i.targetId, i), t._s.set(e, i.targetId)), i }) } async function X_(n, e, t) { const i = ot(n), o = i.os.get(e), u = t ? "readwrite" : "readwrite-primary"; try { t || await i.persistence.runTransaction("Release target", u, d => i.persistence.referenceDelegate.removeTarget(d, o)) } catch (d) { if (!py(d)) throw d; Ue("LocalStore", `Failed to update sequence numbers for target ${e}: ${d}`) } i.os = i.os.remove(e), i._s.delete(o.target) } function BA(n, e, t) { const i = ot(n); let o = rt.min(), u = Rt(); return i.persistence.runTransaction("Execute query", "readwrite", d => function (m, y, w) { const E = ot(m), C = E._s.get(w); return C !== void 0 ? Te.resolve(E.os.get(C)) : E.Ur.getTargetData(y, w) }(i, d, tl(e)).next(p => { if (p) return o = p.lastLimboFreeSnapshotVersion, i.Ur.getMatchingKeysForTargetId(d, p.targetId).next(m => { u = m }) }).next(() => i.ss.getDocumentsMatchingQuery(d, e, t ? o : rt.min(), t ? u : Rt())).next(p => (IB(i, b9(e), p), { documents: p, Ts: u }))) } function IB(n, e, t) { let i = n.us.get(e) || rt.min(); t.forEach((o, u) => { u.readTime.compareTo(i) > 0 && (i = u.readTime) }), n.us.set(e, i) } class FA { constructor() { this.activeTargetIds = A9() } fs(e) { this.activeTargetIds = this.activeTargetIds.add(e) } gs(e) { this.activeTargetIds = this.activeTargetIds.delete(e) } Vs() { const e = { activeTargetIds: this.activeTargetIds.toArray(), updateTimeMs: Date.now() }; return JSON.stringify(e) } } class kB { constructor() { this.so = new FA, this.oo = {}, this.onlineStateHandler = null, this.sequenceNumberHandler = null } addPendingMutation(e) { } updateMutationState(e, t, i) { } addLocalQueryTarget(e, t = !0) { return t && this.so.fs(e), this.oo[e] || "not-current" } updateQueryState(e, t, i) { this.oo[e] = t } removeLocalQueryTarget(e) { this.so.gs(e) } isLocalQueryTarget(e) { return this.so.activeTargetIds.has(e) } clearQueryState(e) { delete this.oo[e] } getAllActiveQueryTargets() { return this.so.activeTargetIds } isActiveQueryTarget(e) { return this.so.activeTargetIds.has(e) } start() { return this.so = new FA, Promise.resolve() } handleUserChange(e, t, i) { } setOnlineState(e) { } shutdown() { } writeSequenceNumber(e) { } notifyBundleLoaded(e) { } }/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB { _o(e) { } shutdown() { } }/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA { constructor() { this.ao = () => this.uo(), this.co = () => this.lo(), this.ho = [], this.Po() } _o(e) { this.ho.push(e) } shutdown() { window.removeEventListener("online", this.ao), window.removeEventListener("offline", this.co) } Po() { window.addEventListener("online", this.ao), window.addEventListener("offline", this.co) } uo() { Ue("ConnectivityMonitor", "Network connectivity changed: AVAILABLE"); for (const e of this.ho) e(0) } lo() { Ue("ConnectivityMonitor", "Network connectivity changed: UNAVAILABLE"); for (const e of this.ho) e(1) } static D() { return typeof window < "u" && window.addEventListener !== void 0 && window.removeEventListener !== void 0 } }/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x0 = null; function e_() { return x0 === null ? x0 = function () { return 268435456 + Math.round(2147483648 * Math.random()) }() : x0++, "0x" + x0.toString(16) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB = { BatchGetDocuments: "batchGet", Commit: "commit", RunQuery: "runQuery", RunAggregationQuery: "runAggregationQuery" };/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB { constructor(e) { this.Io = e.Io, this.To = e.To } Eo(e) { this.Ao = e } Ro(e) { this.Vo = e } mo(e) { this.fo = e } onMessage(e) { this.po = e } close() { this.To() } send(e) { this.Io(e) } yo() { this.Ao() } wo() { this.Vo() } So(e) { this.fo(e) } bo(e) { this.po(e) } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br = "WebChannelConnection"; class DB extends class { constructor(t) { this.databaseInfo = t, this.databaseId = t.databaseId; const i = t.ssl ? "https" : "http", o = encodeURIComponent(this.databaseId.projectId), u = encodeURIComponent(this.databaseId.database); this.Do = i + "://" + t.host, this.vo = `projects/${o}/databases/${u}`, this.Co = this.databaseId.database === "(default)" ? `project_id=${o}` : `project_id=${o}&database_id=${u}` } get Fo() { return !1 } Mo(t, i, o, u, d) { const p = e_(), m = this.xo(t, i.toUriEncodedString()); Ue("RestConnection", `Sending RPC '${t}' ${p}:`, m, o); const y = { "google-cloud-resource-prefix": this.vo, "x-goog-request-params": this.Co }; return this.Oo(y, u, d), this.No(t, m, y, o).then(w => (Ue("RestConnection", `Received RPC '${t}' ${p}: `, w), w), w => { throw tm("RestConnection", `RPC '${t}' ${p} failed with error: `, w, "url: ", m, "request:", o), w }) } Lo(t, i, o, u, d, p) { return this.Mo(t, i, o, u, d) } Oo(t, i, o) { t["X-Goog-Api-Client"] = function () { return "gl-js/ fire/" + ym }(), t["Content-Type"] = "text/plain", this.databaseInfo.appId && (t["X-Firebase-GMPID"] = this.databaseInfo.appId), i && i.headers.forEach((u, d) => t[d] = u), o && o.headers.forEach((u, d) => t[d] = u) } xo(t, i) { const o = NB[t]; return `${this.Do}/v1/${i}:${o}` } terminate() { } }{ constructor(e) { super(e), this.forceLongPolling = e.forceLongPolling, this.autoDetectLongPolling = e.autoDetectLongPolling, this.useFetchStreams = e.useFetchStreams, this.longPollingOptions = e.longPollingOptions } No(e, t, i, o) { const u = e_(); return new Promise((d, p) => { const m = new lI; m.setWithCredentials(!0), m.listenOnce(uI.COMPLETE, () => { try { switch (m.getLastErrorCode()) { case B0.NO_ERROR: const w = m.getResponseJson(); Ue(br, `XHR for RPC '${e}' ${u} received:`, JSON.stringify(w)), d(w); break; case B0.TIMEOUT: Ue(br, `RPC '${e}' ${u} timed out`), p(new Ne(be.DEADLINE_EXCEEDED, "Request time out")); break; case B0.HTTP_ERROR: const E = m.getStatus(); if (Ue(br, `RPC '${e}' ${u} failed with status:`, E, "response text:", m.getResponseText()), E > 0) { let C = m.getResponseJson(); Array.isArray(C) && (C = C[0]); const N = C?.error; if (N && N.status && N.message) { const U = function (R) { const L = R.toLowerCase().replace(/_/g, "-"); return Object.values(be).indexOf(L) >= 0 ? L : be.UNKNOWN }(N.status); p(new Ne(U, N.message)) } else p(new Ne(be.UNKNOWN, "Server responded with status " + m.getStatus())) } else p(new Ne(be.UNAVAILABLE, "Connection failed.")); break; default: et() } } finally { Ue(br, `RPC '${e}' ${u} completed.`) } }); const y = JSON.stringify(o); Ue(br, `RPC '${e}' ${u} sending request:`, o), m.send(t, "POST", y, i, 15) }) } Bo(e, t, i) { const o = e_(), u = [this.Do, "/", "google.firestore.v1.Firestore", "/", e, "/channel"], d = hI(), p = dI(), m = { httpSessionIdParam: "gsessionid", initMessageHeaders: {}, messageUrlParams: { database: `projects/${this.databaseId.projectId}/databases/${this.databaseId.database}` }, sendRawJson: !0, supportsCrossDomainXhr: !0, internalChannelParams: { forwardChannelRequestTimeoutMs: 6e5 }, forceLongPolling: this.forceLongPolling, detectBufferingProxy: this.autoDetectLongPolling }, y = this.longPollingOptions.timeoutSeconds; y !== void 0 && (m.longPollingTimeout = Math.round(1e3 * y)), this.useFetchStreams && (m.useFetchStreams = !0), this.Oo(m.initMessageHeaders, t, i), m.encodeInitMessageHeaders = !0; const w = u.join(""); Ue(br, `Creating RPC '${e}' stream ${o}: ${w}`, m); const E = d.createWebChannel(w, m); let C = !1, N = !1; const U = new MB({ Io: R => { N ? Ue(br, `Not sending because RPC '${e}' stream ${o} is closed:`, R) : (C || (Ue(br, `Opening RPC '${e}' stream ${o} transport.`), E.open(), C = !0), Ue(br, `RPC '${e}' stream ${o} sending:`, R), E.send(R)) }, To: () => E.close() }), k = (R, L, z) => { R.listen(L, $ => { try { z($) } catch (J) { setTimeout(() => { throw J }, 0) } }) }; return k(E, mv.EventType.OPEN, () => { N || (Ue(br, `RPC '${e}' stream ${o} transport opened.`), U.yo()) }), k(E, mv.EventType.CLOSE, () => { N || (N = !0, Ue(br, `RPC '${e}' stream ${o} transport closed`), U.So()) }), k(E, mv.EventType.ERROR, R => { N || (N = !0, tm(br, `RPC '${e}' stream ${o} transport errored:`, R), U.So(new Ne(be.UNAVAILABLE, "The operation could not be completed"))) }), k(E, mv.EventType.MESSAGE, R => { var L; if (!N) { const z = R.data[0]; Jt(!!z); const $ = z, J = $.error || ((L = $[0]) === null || L === void 0 ? void 0 : L.error); if (J) { Ue(br, `RPC '${e}' stream ${o} received error:`, J); const Q = J.status; let re = function (O) { const q = fi[O]; if (q !== void 0) return VI(q) }(Q), F = J.message; re === void 0 && (re = be.INTERNAL, F = "Unknown error status: " + Q + " with message " + J.message), N = !0, U.So(new Ne(re, F)), E.close() } else Ue(br, `RPC '${e}' stream ${o} received:`, z), U.bo(z) } }), k(p, cI.STAT_EVENT, R => { R.stat === U_.PROXY ? Ue(br, `RPC '${e}' stream ${o} detected buffering proxy`) : R.stat === U_.NOPROXY && Ue(br, `RPC '${e}' stream ${o} detected no buffering proxy`) }), setTimeout(() => { U.wo() }, 0), U } } function t_() { return typeof document < "u" ? document : null }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(n) { return new q9(n, !0) }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI { constructor(e, t, i = 1e3, o = 1.5, u = 6e4) { this.ui = e, this.timerId = t, this.ko = i, this.qo = o, this.Qo = u, this.Ko = 0, this.$o = null, this.Uo = Date.now(), this.reset() } reset() { this.Ko = 0 } Wo() { this.Ko = this.Qo } Go(e) { this.cancel(); const t = Math.floor(this.Ko + this.zo()), i = Math.max(0, Date.now() - this.Uo), o = Math.max(0, t - i); o > 0 && Ue("ExponentialBackoff", `Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`), this.$o = this.ui.enqueueAfterDelay(this.timerId, o, () => (this.Uo = Date.now(), e())), this.Ko *= this.qo, this.Ko < this.ko && (this.Ko = this.ko), this.Ko > this.Qo && (this.Ko = this.Qo) } jo() { this.$o !== null && (this.$o.skipDelay(), this.$o = null) } cancel() { this.$o !== null && (this.$o.cancel(), this.$o = null) } zo() { return (Math.random() - .5) * this.Ko } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI { constructor(e, t, i, o, u, d, p, m) { this.ui = e, this.Ho = i, this.Jo = o, this.connection = u, this.authCredentialsProvider = d, this.appCheckCredentialsProvider = p, this.listener = m, this.state = 0, this.Yo = 0, this.Zo = null, this.Xo = null, this.stream = null, this.e_ = 0, this.t_ = new YI(e, t) } n_() { return this.state === 1 || this.state === 5 || this.r_() } r_() { return this.state === 2 || this.state === 3 } start() { this.e_ = 0, this.state !== 4 ? this.auth() : this.i_() } async stop() { this.n_() && await this.close(0) } s_() { this.state = 0, this.t_.reset() } o_() { this.r_() && this.Zo === null && (this.Zo = this.ui.enqueueAfterDelay(this.Ho, 6e4, () => this.__())) } a_(e) { this.u_(), this.stream.send(e) } async __() { if (this.r_()) return this.close(0) } u_() { this.Zo && (this.Zo.cancel(), this.Zo = null) } c_() { this.Xo && (this.Xo.cancel(), this.Xo = null) } async close(e, t) { this.u_(), this.c_(), this.t_.cancel(), this.Yo++, e !== 4 ? this.t_.reset() : t && t.code === be.RESOURCE_EXHAUSTED ? (wu(t.toString()), wu("Using maximum backoff delay to prevent overloading the backend."), this.t_.Wo()) : t && t.code === be.UNAUTHENTICATED && this.state !== 3 && (this.authCredentialsProvider.invalidateToken(), this.appCheckCredentialsProvider.invalidateToken()), this.stream !== null && (this.l_(), this.stream.close(), this.stream = null), this.state = e, await this.listener.mo(t) } l_() { } auth() { this.state = 1; const e = this.h_(this.Yo), t = this.Yo; Promise.all([this.authCredentialsProvider.getToken(), this.appCheckCredentialsProvider.getToken()]).then(([i, o]) => { this.Yo === t && this.P_(i, o) }, i => { e(() => { const o = new Ne(be.UNKNOWN, "Fetching auth token failed: " + i.message); return this.I_(o) }) }) } P_(e, t) { const i = this.h_(this.Yo); this.stream = this.T_(e, t), this.stream.Eo(() => { i(() => this.listener.Eo()) }), this.stream.Ro(() => { i(() => (this.state = 2, this.Xo = this.ui.enqueueAfterDelay(this.Jo, 1e4, () => (this.r_() && (this.state = 3), Promise.resolve())), this.listener.Ro())) }), this.stream.mo(o => { i(() => this.I_(o)) }), this.stream.onMessage(o => { i(() => ++this.e_ == 1 ? this.E_(o) : this.onNext(o)) }) } i_() { this.state = 5, this.t_.Go(async () => { this.state = 0, this.start() }) } I_(e) { return Ue("PersistentStream", `close with error: ${e}`), this.stream = null, this.close(4, e) } h_(e) { return t => { this.ui.enqueueAndForget(() => this.Yo === e ? t() : (Ue("PersistentStream", "stream callback skipped by getCloseGuardedDispatcher."), Promise.resolve())) } } } class OB extends XI { constructor(e, t, i, o, u, d) { super(e, "listen_stream_connection_backoff", "listen_stream_idle", "health_check_timeout", t, i, o, d), this.serializer = u } T_(e, t) { return this.connection.Bo("Listen", e, t) } E_(e) { return this.onNext(e) } onNext(e) { this.t_.reset(); const t = $9(this.serializer, e), i = function (u) { if (!("targetChange" in u)) return rt.min(); const d = u.targetChange; return d.targetIds && d.targetIds.length ? rt.min() : d.readTime ? il(d.readTime) : rt.min() }(e); return this.listener.d_(t, i) } A_(e) { const t = {}; t.database = Y_(this.serializer), t.addTarget = function (u, d) { let p; const m = d.target; if (p = H_(m) ? { documents: X9(u, m) } : { query: Q9(u, m)._t }, p.targetId = d.targetId, d.resumeToken.approximateByteSize() > 0) { p.resumeToken = BI(u, d.resumeToken); const y = K_(u, d.expectedCount); y !== null && (p.expectedCount = y) } else if (d.snapshotVersion.compareTo(rt.min()) > 0) { p.readTime = fb(u, d.snapshotVersion.toTimestamp()); const y = K_(u, d.expectedCount); y !== null && (p.expectedCount = y) } return p }(this.serializer, e); const i = Z9(this.serializer, e); i && (t.labels = i), this.a_(t) } R_(e) { const t = {}; t.database = Y_(this.serializer), t.removeTarget = e, this.a_(t) } } class LB extends XI { constructor(e, t, i, o, u, d) { super(e, "write_stream_connection_backoff", "write_stream_idle", "health_check_timeout", t, i, o, d), this.serializer = u } get V_() { return this.e_ > 0 } start() { this.lastStreamToken = void 0, super.start() } l_() { this.V_ && this.m_([]) } T_(e, t) { return this.connection.Bo("Write", e, t) } E_(e) { return Jt(!!e.streamToken), this.lastStreamToken = e.streamToken, Jt(!e.writeResults || e.writeResults.length === 0), this.listener.f_() } onNext(e) { Jt(!!e.streamToken), this.lastStreamToken = e.streamToken, this.t_.reset(); const t = Y9(e.writeResults, e.commitTime), i = il(e.commitTime); return this.listener.g_(i, t) } p_() { const e = {}; e.database = Y_(this.serializer), this.a_(e) } m_(e) { const t = { streamToken: this.lastStreamToken, writes: e.map(i => W9(this.serializer, i)) }; this.a_(t) } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB extends class { }{ constructor(e, t, i, o) { super(), this.authCredentials = e, this.appCheckCredentials = t, this.connection = i, this.serializer = o, this.y_ = !1 } w_() { if (this.y_) throw new Ne(be.FAILED_PRECONDITION, "The client has already been terminated.") } Mo(e, t, i, o) { return this.w_(), Promise.all([this.authCredentials.getToken(), this.appCheckCredentials.getToken()]).then(([u, d]) => this.connection.Mo(e, $_(t, i), o, u, d)).catch(u => { throw u.name === "FirebaseError" ? (u.code === be.UNAUTHENTICATED && (this.authCredentials.invalidateToken(), this.appCheckCredentials.invalidateToken()), u) : new Ne(be.UNKNOWN, u.toString()) }) } Lo(e, t, i, o, u) { return this.w_(), Promise.all([this.authCredentials.getToken(), this.appCheckCredentials.getToken()]).then(([d, p]) => this.connection.Lo(e, $_(t, i), o, d, p, u)).catch(d => { throw d.name === "FirebaseError" ? (d.code === be.UNAUTHENTICATED && (this.authCredentials.invalidateToken(), this.appCheckCredentials.invalidateToken()), d) : new Ne(be.UNKNOWN, d.toString()) }) } terminate() { this.y_ = !0, this.connection.terminate() } } class jB {
  constructor(e, t) { this.asyncQueue = e, this.onlineStateHandler = t, this.state = "Unknown", this.S_ = 0, this.b_ = null, this.D_ = !0 } v_() { this.S_ === 0 && (this.C_("Unknown"), this.b_ = this.asyncQueue.enqueueAfterDelay("online_state_timeout", 1e4, () => (this.b_ = null, this.F_("Backend didn't respond within 10 seconds."), this.C_("Offline"), Promise.resolve()))) } M_(e) { this.state === "Online" ? this.C_("Unknown") : (this.S_++, this.S_ >= 1 && (this.x_(), this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`), this.C_("Offline"))) } set(e) { this.x_(), this.S_ = 0, e === "Online" && (this.D_ = !1), this.C_(e) } C_(e) { e !== this.state && (this.state = e, this.onlineStateHandler(e)) } F_(e) {
    const t = `Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`; this.D_ ? (wu(t), this.D_ = !1) : Ue("OnlineStateTracker", t)
  } x_() { this.b_ !== null && (this.b_.cancel(), this.b_ = null) }
}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB { constructor(e, t, i, o, u) { this.localStore = e, this.datastore = t, this.asyncQueue = i, this.remoteSyncer = {}, this.O_ = [], this.N_ = new Map, this.L_ = new Set, this.B_ = [], this.k_ = u, this.k_._o(d => { i.enqueueAndForget(async () => { ef(this) && (Ue("RemoteStore", "Restarting streams for network reachability change."), await async function (m) { const y = ot(m); y.L_.add(4), await vy(y), y.q_.set("Unknown"), y.L_.delete(4), await Jb(y) }(this)) }) }), this.q_ = new jB(i, o) } } async function Jb(n) { if (ef(n)) for (const e of n.B_) await e(!0) } async function vy(n) { for (const e of n.B_) await e(!1) } function QI(n, e) { const t = ot(n); t.N_.has(e.targetId) || (t.N_.set(e.targetId, e), UE(t) ? jE(t) : Em(t).r_() && VE(t, e)) } function LE(n, e) { const t = ot(n), i = Em(t); t.N_.delete(e), i.r_() && JI(t, e), t.N_.size === 0 && (i.r_() ? i.o_() : ef(t) && t.q_.set("Unknown")) } function VE(n, e) { if (n.Q_.xe(e.targetId), e.resumeToken.approximateByteSize() > 0 || e.snapshotVersion.compareTo(rt.min()) > 0) { const t = n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size; e = e.withExpectedCount(t) } Em(n).A_(e) } function JI(n, e) { n.Q_.xe(e), Em(n).R_(e) } function jE(n) { n.Q_ = new B9({ getRemoteKeysForTarget: e => n.remoteSyncer.getRemoteKeysForTarget(e), ot: e => n.N_.get(e) || null, tt: () => n.datastore.serializer.databaseId }), Em(n).start(), n.q_.v_() } function UE(n) { return ef(n) && !Em(n).n_() && n.N_.size > 0 } function ef(n) { return ot(n).L_.size === 0 } function ZI(n) { n.Q_ = void 0 } async function BB(n) { n.q_.set("Online") } async function FB(n) { n.N_.forEach((e, t) => { VE(n, e) }) } async function zB(n, e) { ZI(n), UE(n) ? (n.q_.M_(e), jE(n)) : n.q_.set("Unknown") } async function HB(n, e, t) { if (n.q_.set("Online"), e instanceof UI && e.state === 2 && e.cause) try { await async function (o, u) { const d = u.cause; for (const p of u.targetIds) o.N_.has(p) && (await o.remoteSyncer.rejectListen(p, d), o.N_.delete(p), o.Q_.removeTarget(p)) }(n, e) } catch (i) { Ue("RemoteStore", "Failed to remove targets %s: %s ", e.targetIds.join(","), i), await pb(n, i) } else if (e instanceof H0 ? n.Q_.Ke(e) : e instanceof jI ? n.Q_.He(e) : n.Q_.We(e), !t.isEqual(rt.min())) try { const i = await WI(n.localStore); t.compareTo(i) >= 0 && await function (u, d) { const p = u.Q_.rt(d); return p.targetChanges.forEach((m, y) => { if (m.resumeToken.approximateByteSize() > 0) { const w = u.N_.get(y); w && u.N_.set(y, w.withResumeToken(m.resumeToken, d)) } }), p.targetMismatches.forEach((m, y) => { const w = u.N_.get(m); if (!w) return; u.N_.set(m, w.withResumeToken(nr.EMPTY_BYTE_STRING, w.snapshotVersion)), JI(u, m); const E = new Kc(w.target, m, y, w.sequenceNumber); VE(u, E) }), u.remoteSyncer.applyRemoteEvent(p) }(n, t) } catch (i) { Ue("RemoteStore", "Failed to raise snapshot:", i), await pb(n, i) } } async function pb(n, e, t) { if (!py(e)) throw e; n.L_.add(1), await vy(n), n.q_.set("Offline"), t || (t = () => WI(n.localStore)), n.asyncQueue.enqueueRetryable(async () => { Ue("RemoteStore", "Retrying IndexedDB access"), await t(), n.L_.delete(1), await Jb(n) }) } function ek(n, e) { return e().catch(t => pb(n, t, e)) } async function Zb(n) { const e = ot(n), t = td(e); let i = e.O_.length > 0 ? e.O_[e.O_.length - 1].batchId : -1; for (; qB(e);)try { const o = await xB(e.localStore, i); if (o === null) { e.O_.length === 0 && t.o_(); break } i = o.batchId, GB(e, o) } catch (o) { await pb(e, o) } tk(e) && nk(e) } function qB(n) { return ef(n) && n.O_.length < 10 } function GB(n, e) { n.O_.push(e); const t = td(n); t.r_() && t.V_ && t.m_(e.mutations) } function tk(n) { return ef(n) && !td(n).n_() && n.O_.length > 0 } function nk(n) { td(n).start() } async function KB(n) { td(n).p_() } async function $B(n) { const e = td(n); for (const t of n.O_) e.m_(t.mutations) } async function WB(n, e, t) { const i = n.O_.shift(), o = kE.from(i, e, t); await ek(n, () => n.remoteSyncer.applySuccessfulWrite(o)), await Zb(n) } async function YB(n, e) { e && td(n).V_ && await async function (i, o) { if (function (d) { return V9(d) && d !== be.ABORTED }(o.code)) { const u = i.O_.shift(); td(i).s_(), await ek(i, () => i.remoteSyncer.rejectFailedWrite(u.batchId, o)), await Zb(i) } }(n, e), tk(n) && nk(n) } async function HA(n, e) { const t = ot(n); t.asyncQueue.verifyOperationInProgress(), Ue("RemoteStore", "RemoteStore received new credentials"); const i = ef(t); t.L_.add(3), await vy(t), i && t.q_.set("Unknown"), await t.remoteSyncer.handleCredentialChange(e), t.L_.delete(3), await Jb(t) } async function XB(n, e) { const t = ot(n); e ? (t.L_.delete(2), await Jb(t)) : e || (t.L_.add(2), await vy(t), t.q_.set("Unknown")) } function Em(n) { return n.K_ || (n.K_ = function (t, i, o) { const u = ot(t); return u.w_(), new OB(i, u.connection, u.authCredentials, u.appCheckCredentials, u.serializer, o) }(n.datastore, n.asyncQueue, { Eo: BB.bind(null, n), Ro: FB.bind(null, n), mo: zB.bind(null, n), d_: HB.bind(null, n) }), n.B_.push(async e => { e ? (n.K_.s_(), UE(n) ? jE(n) : n.q_.set("Unknown")) : (await n.K_.stop(), ZI(n)) })), n.K_ } function td(n) { return n.U_ || (n.U_ = function (t, i, o) { const u = ot(t); return u.w_(), new LB(i, u.connection, u.authCredentials, u.appCheckCredentials, u.serializer, o) }(n.datastore, n.asyncQueue, { Eo: () => Promise.resolve(), Ro: KB.bind(null, n), mo: YB.bind(null, n), f_: $B.bind(null, n), g_: WB.bind(null, n) }), n.B_.push(async e => { e ? (n.U_.s_(), await Zb(n)) : (await n.U_.stop(), n.O_.length > 0 && (Ue("RemoteStore", `Stopping write stream with ${n.O_.length} pending writes`), n.O_ = [])) })), n.U_ }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE { constructor(e, t, i, o, u) { this.asyncQueue = e, this.timerId = t, this.targetTimeMs = i, this.op = o, this.removalCallback = u, this.deferred = new fu, this.then = this.deferred.promise.then.bind(this.deferred.promise), this.deferred.promise.catch(d => { }) } get promise() { return this.deferred.promise } static createAndSchedule(e, t, i, o, u) { const d = Date.now() + i, p = new BE(e, t, d, o, u); return p.start(i), p } start(e) { this.timerHandle = setTimeout(() => this.handleDelayElapsed(), e) } skipDelay() { return this.handleDelayElapsed() } cancel(e) { this.timerHandle !== null && (this.clearTimeout(), this.deferred.reject(new Ne(be.CANCELLED, "Operation cancelled" + (e ? ": " + e : "")))) } handleDelayElapsed() { this.asyncQueue.enqueueAndForget(() => this.timerHandle !== null ? (this.clearTimeout(), this.op().then(e => this.deferred.resolve(e))) : Promise.resolve()) } clearTimeout() { this.timerHandle !== null && (this.removalCallback(this), clearTimeout(this.timerHandle), this.timerHandle = null) } } function FE(n, e) { if (wu("AsyncQueue", `${e}: ${n}`), py(n)) return new Ne(be.UNAVAILABLE, `${e}: ${n}`); throw n }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp {
  constructor(e) { this.comparator = e ? (t, i) => e(t, i) || Ge.comparator(t.key, i.key) : (t, i) => Ge.comparator(t.key, i.key), this.keyedMap = gv(), this.sortedSet = new Un(this.comparator) } static emptySet(e) { return new Wp(e.comparator) } has(e) { return this.keyedMap.get(e) != null } get(e) { return this.keyedMap.get(e) } first() { return this.sortedSet.minKey() } last() { return this.sortedSet.maxKey() } isEmpty() { return this.sortedSet.isEmpty() } indexOf(e) { const t = this.keyedMap.get(e); return t ? this.sortedSet.indexOf(t) : -1 } get size() { return this.sortedSet.size } forEach(e) { this.sortedSet.inorderTraversal((t, i) => (e(t), !1)) } add(e) { const t = this.delete(e.key); return t.copy(t.keyedMap.insert(e.key, e), t.sortedSet.insert(e, null)) } delete(e) { const t = this.get(e); return t ? this.copy(this.keyedMap.remove(e), this.sortedSet.remove(t)) : this } isEqual(e) { if (!(e instanceof Wp) || this.size !== e.size) return !1; const t = this.sortedSet.getIterator(), i = e.sortedSet.getIterator(); for (; t.hasNext();) { const o = t.getNext().key, u = i.getNext().key; if (!o.isEqual(u)) return !1 } return !0 } toString() {
    const e = []; return this.forEach(t => { e.push(t.toString()) }), e.length === 0 ? "DocumentSet ()" : `DocumentSet (
  `+ e.join(`  
`) + `
)`} copy(e, t) { const i = new Wp; return i.comparator = this.comparator, i.keyedMap = e, i.sortedSet = t, i }
}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA { constructor() { this.W_ = new Un(Ge.comparator) } track(e) { const t = e.doc.key, i = this.W_.get(t); i ? e.type !== 0 && i.type === 3 ? this.W_ = this.W_.insert(t, e) : e.type === 3 && i.type !== 1 ? this.W_ = this.W_.insert(t, { type: i.type, doc: e.doc }) : e.type === 2 && i.type === 2 ? this.W_ = this.W_.insert(t, { type: 2, doc: e.doc }) : e.type === 2 && i.type === 0 ? this.W_ = this.W_.insert(t, { type: 0, doc: e.doc }) : e.type === 1 && i.type === 0 ? this.W_ = this.W_.remove(t) : e.type === 1 && i.type === 2 ? this.W_ = this.W_.insert(t, { type: 1, doc: i.doc }) : e.type === 0 && i.type === 1 ? this.W_ = this.W_.insert(t, { type: 2, doc: e.doc }) : et() : this.W_ = this.W_.insert(t, e) } G_() { const e = []; return this.W_.inorderTraversal((t, i) => { e.push(i) }), e } } class om { constructor(e, t, i, o, u, d, p, m, y) { this.query = e, this.docs = t, this.oldDocs = i, this.docChanges = o, this.mutatedKeys = u, this.fromCache = d, this.syncStateChanged = p, this.excludesMetadataChanges = m, this.hasCachedResults = y } static fromInitialDocuments(e, t, i, o, u) { const d = []; return t.forEach(p => { d.push({ type: 0, doc: p }) }), new om(e, t, Wp.emptySet(t), d, i, o, !0, !1, u) } get hasPendingWrites() { return !this.mutatedKeys.isEmpty() } isEqual(e) { if (!(this.fromCache === e.fromCache && this.hasCachedResults === e.hasCachedResults && this.syncStateChanged === e.syncStateChanged && this.mutatedKeys.isEqual(e.mutatedKeys) && Kb(this.query, e.query) && this.docs.isEqual(e.docs) && this.oldDocs.isEqual(e.oldDocs))) return !1; const t = this.docChanges, i = e.docChanges; if (t.length !== i.length) return !1; for (let o = 0; o < t.length; o++)if (t[o].type !== i[o].type || !t[o].doc.isEqual(i[o].doc)) return !1; return !0 } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB { constructor() { this.z_ = void 0, this.j_ = [] } H_() { return this.j_.some(e => e.J_()) } } class JB { constructor() { this.queries = GA(), this.onlineState = "Unknown", this.Y_ = new Set } terminate() { (function (t, i) { const o = ot(t), u = o.queries; o.queries = GA(), u.forEach((d, p) => { for (const m of p.j_) m.onError(i) }) })(this, new Ne(be.ABORTED, "Firestore shutting down")) } } function GA() { return new _m(n => AI(n), Kb) } async function ik(n, e) { const t = ot(n); let i = 3; const o = e.query; let u = t.queries.get(o); u ? !u.H_() && e.J_() && (i = 2) : (u = new QB, i = e.J_() ? 0 : 1); try { switch (i) { case 0: u.z_ = await t.onListen(o, !0); break; case 1: u.z_ = await t.onListen(o, !1); break; case 2: await t.onFirstRemoteStoreListen(o) } } catch (d) { const p = FE(d, `Initialization of query '${Np(e.query)}' failed`); return void e.onError(p) } t.queries.set(o, u), u.j_.push(e), e.Z_(t.onlineState), u.z_ && e.X_(u.z_) && zE(t) } async function rk(n, e) { const t = ot(n), i = e.query; let o = 3; const u = t.queries.get(i); if (u) { const d = u.j_.indexOf(e); d >= 0 && (u.j_.splice(d, 1), u.j_.length === 0 ? o = e.J_() ? 0 : 1 : !u.H_() && e.J_() && (o = 2)) } switch (o) { case 0: return t.queries.delete(i), t.onUnlisten(i, !0); case 1: return t.queries.delete(i), t.onUnlisten(i, !1); case 2: return t.onLastRemoteStoreUnlisten(i); default: return } } function ZB(n, e) { const t = ot(n); let i = !1; for (const o of e) { const u = o.query, d = t.queries.get(u); if (d) { for (const p of d.j_) p.X_(o) && (i = !0); d.z_ = o } } i && zE(t) } function eF(n, e, t) { const i = ot(n), o = i.queries.get(e); if (o) for (const u of o.j_) u.onError(t); i.queries.delete(e) } function zE(n) { n.Y_.forEach(e => { e.next() }) } var Q_, KA; (KA = Q_ || (Q_ = {})).ea = "default", KA.Cache = "cache"; class sk { constructor(e, t, i) { this.query = e, this.ta = t, this.na = !1, this.ra = null, this.onlineState = "Unknown", this.options = i || {} } X_(e) { if (!this.options.includeMetadataChanges) { const i = []; for (const o of e.docChanges) o.type !== 3 && i.push(o); e = new om(e.query, e.docs, e.oldDocs, i, e.mutatedKeys, e.fromCache, e.syncStateChanged, !0, e.hasCachedResults) } let t = !1; return this.na ? this.ia(e) && (this.ta.next(e), t = !0) : this.sa(e, this.onlineState) && (this.oa(e), t = !0), this.ra = e, t } onError(e) { this.ta.error(e) } Z_(e) { this.onlineState = e; let t = !1; return this.ra && !this.na && this.sa(this.ra, e) && (this.oa(this.ra), t = !0), t } sa(e, t) { if (!e.fromCache || !this.J_()) return !0; const i = t !== "Offline"; return (!this.options._a || !i) && (!e.docs.isEmpty() || e.hasCachedResults || t === "Offline") } ia(e) { if (e.docChanges.length > 0) return !0; const t = this.ra && this.ra.hasPendingWrites !== e.hasPendingWrites; return !(!e.syncStateChanged && !t) && this.options.includeMetadataChanges === !0 } oa(e) { e = om.fromInitialDocuments(e.query, e.docs, e.mutatedKeys, e.fromCache, e.hasCachedResults), this.na = !0, this.ta.next(e) } J_() { return this.options.source !== Q_.Cache } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok { constructor(e) { this.key = e } } class ak { constructor(e) { this.key = e } } class tF { constructor(e, t) { this.query = e, this.Ta = t, this.Ea = null, this.hasCachedResults = !1, this.current = !1, this.da = Rt(), this.mutatedKeys = Rt(), this.Aa = CI(e), this.Ra = new Wp(this.Aa) } get Va() { return this.Ta } ma(e, t) { const i = t ? t.fa : new qA, o = t ? t.Ra : this.Ra; let u = t ? t.mutatedKeys : this.mutatedKeys, d = o, p = !1; const m = this.query.limitType === "F" && o.size === this.query.limit ? o.last() : null, y = this.query.limitType === "L" && o.size === this.query.limit ? o.first() : null; if (e.inorderTraversal((w, E) => { const C = o.get(w), N = $b(this.query, E) ? E : null, U = !!C && this.mutatedKeys.has(C.key), k = !!N && (N.hasLocalMutations || this.mutatedKeys.has(N.key) && N.hasCommittedMutations); let R = !1; C && N ? C.data.isEqual(N.data) ? U !== k && (i.track({ type: 3, doc: N }), R = !0) : this.ga(C, N) || (i.track({ type: 2, doc: N }), R = !0, (m && this.Aa(N, m) > 0 || y && this.Aa(N, y) < 0) && (p = !0)) : !C && N ? (i.track({ type: 0, doc: N }), R = !0) : C && !N && (i.track({ type: 1, doc: C }), R = !0, (m || y) && (p = !0)), R && (N ? (d = d.add(N), u = k ? u.add(w) : u.delete(w)) : (d = d.delete(w), u = u.delete(w))) }), this.query.limit !== null) for (; d.size > this.query.limit;) { const w = this.query.limitType === "F" ? d.last() : d.first(); d = d.delete(w.key), u = u.delete(w.key), i.track({ type: 1, doc: w }) } return { Ra: d, fa: i, ns: p, mutatedKeys: u } } ga(e, t) { return e.hasLocalMutations && t.hasCommittedMutations && !t.hasLocalMutations } applyChanges(e, t, i, o) { const u = this.Ra; this.Ra = e.Ra, this.mutatedKeys = e.mutatedKeys; const d = e.fa.G_(); d.sort((w, E) => function (N, U) { const k = R => { switch (R) { case 0: return 1; case 2: case 3: return 2; case 1: return 0; default: return et() } }; return k(N) - k(U) }(w.type, E.type) || this.Aa(w.doc, E.doc)), this.pa(i), o = o != null && o; const p = t && !o ? this.ya() : [], m = this.da.size === 0 && this.current && !o ? 1 : 0, y = m !== this.Ea; return this.Ea = m, d.length !== 0 || y ? { snapshot: new om(this.query, e.Ra, u, d, e.mutatedKeys, m === 0, y, !1, !!i && i.resumeToken.approximateByteSize() > 0), wa: p } : { wa: p } } Z_(e) { return this.current && e === "Offline" ? (this.current = !1, this.applyChanges({ Ra: this.Ra, fa: new qA, mutatedKeys: this.mutatedKeys, ns: !1 }, !1)) : { wa: [] } } Sa(e) { return !this.Ta.has(e) && !!this.Ra.has(e) && !this.Ra.get(e).hasLocalMutations } pa(e) { e && (e.addedDocuments.forEach(t => this.Ta = this.Ta.add(t)), e.modifiedDocuments.forEach(t => { }), e.removedDocuments.forEach(t => this.Ta = this.Ta.delete(t)), this.current = e.current) } ya() { if (!this.current) return []; const e = this.da; this.da = Rt(), this.Ra.forEach(i => { this.Sa(i.key) && (this.da = this.da.add(i.key)) }); const t = []; return e.forEach(i => { this.da.has(i) || t.push(new ak(i)) }), this.da.forEach(i => { e.has(i) || t.push(new ok(i)) }), t } ba(e) { this.Ta = e.Ts, this.da = Rt(); const t = this.ma(e.documents); return this.applyChanges(t, !0) } Da() { return om.fromInitialDocuments(this.query, this.Ra, this.mutatedKeys, this.Ea === 0, this.hasCachedResults) } } class nF { constructor(e, t, i) { this.query = e, this.targetId = t, this.view = i } } class iF { constructor(e) { this.key = e, this.va = !1 } } class rF { constructor(e, t, i, o, u, d) { this.localStore = e, this.remoteStore = t, this.eventManager = i, this.sharedClientState = o, this.currentUser = u, this.maxConcurrentLimboResolutions = d, this.Ca = {}, this.Fa = new _m(p => AI(p), Kb), this.Ma = new Map, this.xa = new Set, this.Oa = new Un(Ge.comparator), this.Na = new Map, this.La = new ME, this.Ba = {}, this.ka = new Map, this.qa = sm.kn(), this.onlineState = "Unknown", this.Qa = void 0 } get isPrimaryClient() { return this.Qa === !0 } } async function sF(n, e, t = !0) { const i = fk(n); let o; const u = i.Fa.get(e); return u ? (i.sharedClientState.addLocalQueryTarget(u.targetId), o = u.view.Da()) : o = await lk(i, e, t, !0), o } async function oF(n, e) { const t = fk(n); await lk(t, e, !0, !1) } async function lk(n, e, t, i) { const o = await RB(n.localStore, tl(e)), u = o.targetId, d = n.sharedClientState.addLocalQueryTarget(u, t); let p; return i && (p = await aF(n, e, u, d === "current", o.resumeToken)), n.isPrimaryClient && t && QI(n.remoteStore, o), p } async function aF(n, e, t, i, o) { n.Ka = (E, C, N) => async function (k, R, L, z) { let $ = R.view.ma(L); $.ns && ($ = await BA(k.localStore, R.query, !1).then(({ documents: F }) => R.view.ma(F, $))); const J = z && z.targetChanges.get(R.targetId), Q = z && z.targetMismatches.get(R.targetId) != null, re = R.view.applyChanges($, k.isPrimaryClient, J, Q); return WA(k, R.targetId, re.wa), re.snapshot }(n, E, C, N); const u = await BA(n.localStore, e, !0), d = new tF(e, u.Ts), p = d.ma(u.documents), m = gy.createSynthesizedTargetChangeForCurrentChange(t, i && n.onlineState !== "Offline", o), y = d.applyChanges(p, n.isPrimaryClient, m); WA(n, t, y.wa); const w = new nF(e, t, d); return n.Fa.set(e, w), n.Ma.has(t) ? n.Ma.get(t).push(e) : n.Ma.set(t, [e]), y.snapshot } async function lF(n, e, t) { const i = ot(n), o = i.Fa.get(e), u = i.Ma.get(o.targetId); if (u.length > 1) return i.Ma.set(o.targetId, u.filter(d => !Kb(d, e))), void i.Fa.delete(e); i.isPrimaryClient ? (i.sharedClientState.removeLocalQueryTarget(o.targetId), i.sharedClientState.isActiveQueryTarget(o.targetId) || await X_(i.localStore, o.targetId, !1).then(() => { i.sharedClientState.clearQueryState(o.targetId), t && LE(i.remoteStore, o.targetId), J_(i, o.targetId) }).catch(fy)) : (J_(i, o.targetId), await X_(i.localStore, o.targetId, !0)) } async function uF(n, e) { const t = ot(n), i = t.Fa.get(e), o = t.Ma.get(i.targetId); t.isPrimaryClient && o.length === 1 && (t.sharedClientState.removeLocalQueryTarget(i.targetId), LE(t.remoteStore, i.targetId)) } async function cF(n, e, t) { const i = vF(n); try { const o = await function (d, p) { const m = ot(d), y = Ti.now(), w = p.reduce((N, U) => N.add(U.key), Rt()); let E, C; return m.persistence.runTransaction("Locally write mutations", "readwrite", N => { let U = _u(), k = Rt(); return m.cs.getEntries(N, w).next(R => { U = R, U.forEach((L, z) => { z.isValidDocument() || (k = k.add(L)) }) }).next(() => m.localDocuments.getOverlayedDocuments(N, U)).next(R => { E = R; const L = []; for (const z of p) { const $ = N9(z, E.get(z.key).overlayedDocument); $ != null && L.push(new Zh(z.key, $, vI($.value.mapValue), nl.exists(!0))) } return m.mutationQueue.addMutationBatch(N, y, L, p) }).next(R => { C = R; const L = R.applyToLocalDocumentSet(E, k); return m.documentOverlayCache.saveOverlays(N, R.batchId, L) }) }).then(() => ({ batchId: C.batchId, changes: RI(E) })) }(i.localStore, e); i.sharedClientState.addPendingMutation(o.batchId), function (d, p, m) { let y = d.Ba[d.currentUser.toKey()]; y || (y = new Un(Ft)), y = y.insert(p, m), d.Ba[d.currentUser.toKey()] = y }(i, o.batchId, t), await yy(i, o.changes), await Zb(i.remoteStore) } catch (o) { const u = FE(o, "Failed to persist write"); t.reject(u) } } async function uk(n, e) { const t = ot(n); try { const i = await AB(t.localStore, e); e.targetChanges.forEach((o, u) => { const d = t.Na.get(u); d && (Jt(o.addedDocuments.size + o.modifiedDocuments.size + o.removedDocuments.size <= 1), o.addedDocuments.size > 0 ? d.va = !0 : o.modifiedDocuments.size > 0 ? Jt(d.va) : o.removedDocuments.size > 0 && (Jt(d.va), d.va = !1)) }), await yy(t, i, e) } catch (i) { await fy(i) } } function $A(n, e, t) { const i = ot(n); if (i.isPrimaryClient && t === 0 || !i.isPrimaryClient && t === 1) { const o = []; i.Fa.forEach((u, d) => { const p = d.view.Z_(e); p.snapshot && o.push(p.snapshot) }), function (d, p) { const m = ot(d); m.onlineState = p; let y = !1; m.queries.forEach((w, E) => { for (const C of E.j_) C.Z_(p) && (y = !0) }), y && zE(m) }(i.eventManager, e), o.length && i.Ca.d_(o), i.onlineState = e, i.isPrimaryClient && i.sharedClientState.setOnlineState(e) } } async function dF(n, e, t) { const i = ot(n); i.sharedClientState.updateQueryState(e, "rejected", t); const o = i.Na.get(e), u = o && o.key; if (u) { let d = new Un(Ge.comparator); d = d.insert(u, Er.newNoDocument(u, rt.min())); const p = Rt().add(u), m = new Xb(rt.min(), new Map, new Un(Ft), d, p); await uk(i, m), i.Oa = i.Oa.remove(u), i.Na.delete(e), HE(i) } else await X_(i.localStore, e, !1).then(() => J_(i, e, t)).catch(fy) } async function hF(n, e) { const t = ot(n), i = e.batch.batchId; try { const o = await SB(t.localStore, e); dk(t, i, null), ck(t, i), t.sharedClientState.updateMutationState(i, "acknowledged"), await yy(t, o) } catch (o) { await fy(o) } } async function fF(n, e, t) { const i = ot(n); try { const o = await function (d, p) { const m = ot(d); return m.persistence.runTransaction("Reject batch", "readwrite-primary", y => { let w; return m.mutationQueue.lookupMutationBatch(y, p).next(E => (Jt(E !== null), w = E.keys(), m.mutationQueue.removeMutationBatch(y, E))).next(() => m.mutationQueue.performConsistencyCheck(y)).next(() => m.documentOverlayCache.removeOverlaysForBatchId(y, w, p)).next(() => m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y, w)).next(() => m.localDocuments.getDocuments(y, w)) }) }(i.localStore, e); dk(i, e, t), ck(i, e), i.sharedClientState.updateMutationState(e, "rejected", t), await yy(i, o) } catch (o) { await fy(o) } } function ck(n, e) { (n.ka.get(e) || []).forEach(t => { t.resolve() }), n.ka.delete(e) } function dk(n, e, t) { const i = ot(n); let o = i.Ba[i.currentUser.toKey()]; if (o) { const u = o.get(e); u && (t ? u.reject(t) : u.resolve(), o = o.remove(e)), i.Ba[i.currentUser.toKey()] = o } } function J_(n, e, t = null) { n.sharedClientState.removeLocalQueryTarget(e); for (const i of n.Ma.get(e)) n.Fa.delete(i), t && n.Ca.$a(i, t); n.Ma.delete(e), n.isPrimaryClient && n.La.gr(e).forEach(i => { n.La.containsKey(i) || hk(n, i) }) } function hk(n, e) { n.xa.delete(e.path.canonicalString()); const t = n.Oa.get(e); t !== null && (LE(n.remoteStore, t), n.Oa = n.Oa.remove(e), n.Na.delete(t), HE(n)) } function WA(n, e, t) { for (const i of t) i instanceof ok ? (n.La.addReference(i.key, e), pF(n, i)) : i instanceof ak ? (Ue("SyncEngine", "Document no longer in limbo: " + i.key), n.La.removeReference(i.key, e), n.La.containsKey(i.key) || hk(n, i.key)) : et() } function pF(n, e) { const t = e.key, i = t.path.canonicalString(); n.Oa.get(t) || n.xa.has(i) || (Ue("SyncEngine", "New document in limbo: " + t), n.xa.add(i), HE(n)) } function HE(n) { for (; n.xa.size > 0 && n.Oa.size < n.maxConcurrentLimboResolutions;) { const e = n.xa.values().next().value; n.xa.delete(e); const t = new Ge(Tn.fromString(e)), i = n.qa.next(); n.Na.set(i, new iF(t)), n.Oa = n.Oa.insert(t, i), QI(n.remoteStore, new Kc(tl(xE(t.path)), i, "TargetPurposeLimboResolution", _E.oe)) } } async function yy(n, e, t) { const i = ot(n), o = [], u = [], d = []; i.Fa.isEmpty() || (i.Fa.forEach((p, m) => { d.push(i.Ka(m, e, t).then(y => { var w; if ((y || t) && i.isPrimaryClient) { const E = y ? !y.fromCache : (w = t?.targetChanges.get(m.targetId)) === null || w === void 0 ? void 0 : w.current; i.sharedClientState.updateQueryState(m.targetId, E ? "current" : "not-current") } if (y) { o.push(y); const E = OE.Wi(m.targetId, y); u.push(E) } })) }), await Promise.all(d), i.Ca.d_(o), await async function (m, y) { const w = ot(m); try { await w.persistence.runTransaction("notifyLocalViewChanges", "readwrite", E => Te.forEach(y, C => Te.forEach(C.$i, N => w.persistence.referenceDelegate.addReference(E, C.targetId, N)).next(() => Te.forEach(C.Ui, N => w.persistence.referenceDelegate.removeReference(E, C.targetId, N))))) } catch (E) { if (!py(E)) throw E; Ue("LocalStore", "Failed to update sequence numbers: " + E) } for (const E of y) { const C = E.targetId; if (!E.fromCache) { const N = w.os.get(C), U = N.snapshotVersion, k = N.withLastLimboFreeSnapshotVersion(U); w.os = w.os.insert(C, k) } } }(i.localStore, u)) } async function mF(n, e) { const t = ot(n); if (!t.currentUser.isEqual(e)) { Ue("SyncEngine", "User change. New user:", e.toKey()); const i = await $I(t.localStore, e); t.currentUser = e, function (u, d) { u.ka.forEach(p => { p.forEach(m => { m.reject(new Ne(be.CANCELLED, d)) }) }), u.ka.clear() }(t, "'waitForPendingWrites' promise is rejected due to a user change."), t.sharedClientState.handleUserChange(e, i.removedBatchIds, i.addedBatchIds), await yy(t, i.hs) } } function gF(n, e) { const t = ot(n), i = t.Na.get(e); if (i && i.va) return Rt().add(i.key); { let o = Rt(); const u = t.Ma.get(e); if (!u) return o; for (const d of u) { const p = t.Fa.get(d); o = o.unionWith(p.view.Va) } return o } } function fk(n) { const e = ot(n); return e.remoteStore.remoteSyncer.applyRemoteEvent = uk.bind(null, e), e.remoteStore.remoteSyncer.getRemoteKeysForTarget = gF.bind(null, e), e.remoteStore.remoteSyncer.rejectListen = dF.bind(null, e), e.Ca.d_ = ZB.bind(null, e.eventManager), e.Ca.$a = eF.bind(null, e.eventManager), e } function vF(n) { const e = ot(n); return e.remoteStore.remoteSyncer.applySuccessfulWrite = hF.bind(null, e), e.remoteStore.remoteSyncer.rejectFailedWrite = fF.bind(null, e), e } class mb { constructor() { this.kind = "memory", this.synchronizeTabs = !1 } async initialize(e) { this.serializer = Qb(e.databaseInfo.databaseId), this.sharedClientState = this.Wa(e), this.persistence = this.Ga(e), await this.persistence.start(), this.localStore = this.za(e), this.gcScheduler = this.ja(e, this.localStore), this.indexBackfillerScheduler = this.Ha(e, this.localStore) } ja(e, t) { return null } Ha(e, t) { return null } za(e) { return TB(this.persistence, new _B, e.initialUser, this.serializer) } Ga(e) { return new yB(DE.Zr, this.serializer) } Wa(e) { return new kB } async terminate() { var e, t; (e = this.gcScheduler) === null || e === void 0 || e.stop(), (t = this.indexBackfillerScheduler) === null || t === void 0 || t.stop(), this.sharedClientState.shutdown(), await this.persistence.shutdown() } } mb.provider = { build: () => new mb }; class Z_ { async initialize(e, t) { this.localStore || (this.localStore = e.localStore, this.sharedClientState = e.sharedClientState, this.datastore = this.createDatastore(t), this.remoteStore = this.createRemoteStore(t), this.eventManager = this.createEventManager(t), this.syncEngine = this.createSyncEngine(t, !e.synchronizeTabs), this.sharedClientState.onlineStateHandler = i => $A(this.syncEngine, i, 1), this.remoteStore.remoteSyncer.handleCredentialChange = mF.bind(null, this.syncEngine), await XB(this.remoteStore, this.syncEngine.isPrimaryClient)) } createEventManager(e) { return function () { return new JB }() } createDatastore(e) { const t = Qb(e.databaseInfo.databaseId), i = function (u) { return new DB(u) }(e.databaseInfo); return function (u, d, p, m) { return new VB(u, d, p, m) }(e.authCredentials, e.appCheckCredentials, i, t) } createRemoteStore(e) { return function (i, o, u, d, p) { return new UB(i, o, u, d, p) }(this.localStore, this.datastore, e.asyncQueue, t => $A(this.syncEngine, t, 0), function () { return zA.D() ? new zA : new PB }()) } createSyncEngine(e, t) { return function (o, u, d, p, m, y, w) { const E = new rF(o, u, d, p, m, y); return w && (E.Qa = !0), E }(this.localStore, this.remoteStore, this.eventManager, this.sharedClientState, e.initialUser, e.maxConcurrentLimboResolutions, t) } async terminate() { var e, t; await async function (o) { const u = ot(o); Ue("RemoteStore", "RemoteStore shutting down."), u.L_.add(5), await vy(u), u.k_.shutdown(), u.q_.set("Unknown") }(this.remoteStore), (e = this.datastore) === null || e === void 0 || e.terminate(), (t = this.eventManager) === null || t === void 0 || t.terminate() } } Z_.provider = { build: () => new Z_ };/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk { constructor(e) { this.observer = e, this.muted = !1 } next(e) { this.muted || this.observer.next && this.Ya(this.observer.next, e) } error(e) { this.muted || (this.observer.error ? this.Ya(this.observer.error, e) : wu("Uncaught Error in snapshot listener:", e.toString())) } Za() { this.muted = !0 } Ya(e, t) { setTimeout(() => { this.muted || e(t) }, 0) } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF { constructor(e, t, i, o, u) { this.authCredentials = e, this.appCheckCredentials = t, this.asyncQueue = i, this.databaseInfo = o, this.user = _r.UNAUTHENTICATED, this.clientId = pI.newId(), this.authCredentialListener = () => Promise.resolve(), this.appCheckCredentialListener = () => Promise.resolve(), this._uninitializedComponentsProvider = u, this.authCredentials.start(i, async d => { Ue("FirestoreClient", "Received user=", d.uid), await this.authCredentialListener(d), this.user = d }), this.appCheckCredentials.start(i, d => (Ue("FirestoreClient", "Received new app check token=", d), this.appCheckCredentialListener(d, this.user))) } get configuration() { return { asyncQueue: this.asyncQueue, databaseInfo: this.databaseInfo, clientId: this.clientId, authCredentials: this.authCredentials, appCheckCredentials: this.appCheckCredentials, initialUser: this.user, maxConcurrentLimboResolutions: 100 } } setCredentialChangeListener(e) { this.authCredentialListener = e } setAppCheckTokenChangeListener(e) { this.appCheckCredentialListener = e } terminate() { this.asyncQueue.enterRestrictedMode(); const e = new fu; return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async () => { try { this._onlineComponents && await this._onlineComponents.terminate(), this._offlineComponents && await this._offlineComponents.terminate(), this.authCredentials.shutdown(), this.appCheckCredentials.shutdown(), e.resolve() } catch (t) { const i = FE(t, "Failed to shutdown persistence"); e.reject(i) } }), e.promise } } async function n_(n, e) { n.asyncQueue.verifyOperationInProgress(), Ue("FirestoreClient", "Initializing OfflineComponentProvider"); const t = n.configuration; await e.initialize(t); let i = t.initialUser; n.setCredentialChangeListener(async o => { i.isEqual(o) || (await $I(e.localStore, o), i = o) }), e.persistence.setDatabaseDeletedListener(() => n.terminate()), n._offlineComponents = e } async function YA(n, e) { n.asyncQueue.verifyOperationInProgress(); const t = await bF(n); Ue("FirestoreClient", "Initializing OnlineComponentProvider"), await e.initialize(t, n.configuration), n.setCredentialChangeListener(i => HA(e.remoteStore, i)), n.setAppCheckTokenChangeListener((i, o) => HA(e.remoteStore, o)), n._onlineComponents = e } async function bF(n) { if (!n._offlineComponents) if (n._uninitializedComponentsProvider) { Ue("FirestoreClient", "Using user provided OfflineComponentProvider"); try { await n_(n, n._uninitializedComponentsProvider._offline) } catch (e) { const t = e; if (!function (o) { return o.name === "FirebaseError" ? o.code === be.FAILED_PRECONDITION || o.code === be.UNIMPLEMENTED : !(typeof DOMException < "u" && o instanceof DOMException) || o.code === 22 || o.code === 20 || o.code === 11 }(t)) throw t; tm("Error using user provided cache. Falling back to memory cache: " + t), await n_(n, new mb) } } else Ue("FirestoreClient", "Using default OfflineComponentProvider"), await n_(n, new mb); return n._offlineComponents } async function mk(n) { return n._onlineComponents || (n._uninitializedComponentsProvider ? (Ue("FirestoreClient", "Using user provided OnlineComponentProvider"), await YA(n, n._uninitializedComponentsProvider._online)) : (Ue("FirestoreClient", "Using default OnlineComponentProvider"), await YA(n, new Z_))), n._onlineComponents } function wF(n) { return mk(n).then(e => e.syncEngine) } async function gk(n) { const e = await mk(n), t = e.eventManager; return t.onListen = sF.bind(null, e.syncEngine), t.onUnlisten = lF.bind(null, e.syncEngine), t.onFirstRemoteStoreListen = oF.bind(null, e.syncEngine), t.onLastRemoteStoreUnlisten = uF.bind(null, e.syncEngine), t } function _F(n, e, t = {}) { const i = new fu; return n.asyncQueue.enqueueAndForget(async () => function (u, d, p, m, y) { const w = new pk({ next: C => { w.Za(), d.enqueueAndForget(() => rk(u, E)); const N = C.docs.has(p); !N && C.fromCache ? y.reject(new Ne(be.UNAVAILABLE, "Failed to get document because the client is offline.")) : N && C.fromCache && m && m.source === "server" ? y.reject(new Ne(be.UNAVAILABLE, 'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')) : y.resolve(C) }, error: C => y.reject(C) }), E = new sk(xE(p.path), w, { includeMetadataChanges: !0, _a: !0 }); return ik(u, E) }(await gk(n), n.asyncQueue, e, t, i)), i.promise } function EF(n, e, t = {}) { const i = new fu; return n.asyncQueue.enqueueAndForget(async () => function (u, d, p, m, y) { const w = new pk({ next: C => { w.Za(), d.enqueueAndForget(() => rk(u, E)), C.fromCache && m.source === "server" ? y.reject(new Ne(be.UNAVAILABLE, 'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')) : y.resolve(C) }, error: C => y.reject(C) }), E = new sk(p, w, { includeMetadataChanges: !0, _a: !0 }); return ik(u, E) }(await gk(n), n.asyncQueue, e, t, i)), i.promise }/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(n) { const e = {}; return n.timeoutSeconds !== void 0 && (e.timeoutSeconds = n.timeoutSeconds), e }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA = new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(n, e, t) { if (!t) throw new Ne(be.INVALID_ARGUMENT, `Function ${n}() cannot be called with an empty ${e}.`) } function TF(n, e, t, i) { if (e === !0 && i === !0) throw new Ne(be.INVALID_ARGUMENT, `${n} and ${t} cannot be used together.`) } function QA(n) { if (!Ge.isDocumentKey(n)) throw new Ne(be.INVALID_ARGUMENT, `Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`) } function JA(n) { if (Ge.isDocumentKey(n)) throw new Ne(be.INVALID_ARGUMENT, `Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`) } function ew(n) { if (n === void 0) return "undefined"; if (n === null) return "null"; if (typeof n == "string") return n.length > 20 && (n = `${n.substring(0, 20)}...`), JSON.stringify(n); if (typeof n == "number" || typeof n == "boolean") return "" + n; if (typeof n == "object") { if (n instanceof Array) return "an array"; { const e = function (i) { return i.constructor ? i.constructor.name : null }(n); return e ? `a custom ${e} object` : "an object" } } return typeof n == "function" ? "a function" : et() } function $h(n, e) { if ("_delegate" in n && (n = n._delegate), !(n instanceof e)) { if (e.name === n.constructor.name) throw new Ne(be.INVALID_ARGUMENT, "Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?"); { const t = ew(n); throw new Ne(be.INVALID_ARGUMENT, `Expected type '${e.name}', but it was: ${t}`) } } return n }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA { constructor(e) { var t, i; if (e.host === void 0) { if (e.ssl !== void 0) throw new Ne(be.INVALID_ARGUMENT, "Can't provide ssl option if host option is not set"); this.host = "firestore.googleapis.com", this.ssl = !0 } else this.host = e.host, this.ssl = (t = e.ssl) === null || t === void 0 || t; if (this.credentials = e.credentials, this.ignoreUndefinedProperties = !!e.ignoreUndefinedProperties, this.localCache = e.localCache, e.cacheSizeBytes === void 0) this.cacheSizeBytes = 41943040; else { if (e.cacheSizeBytes !== -1 && e.cacheSizeBytes < 1048576) throw new Ne(be.INVALID_ARGUMENT, "cacheSizeBytes must be at least 1048576"); this.cacheSizeBytes = e.cacheSizeBytes } TF("experimentalForceLongPolling", e.experimentalForceLongPolling, "experimentalAutoDetectLongPolling", e.experimentalAutoDetectLongPolling), this.experimentalForceLongPolling = !!e.experimentalForceLongPolling, this.experimentalForceLongPolling ? this.experimentalAutoDetectLongPolling = !1 : e.experimentalAutoDetectLongPolling === void 0 ? this.experimentalAutoDetectLongPolling = !0 : this.experimentalAutoDetectLongPolling = !!e.experimentalAutoDetectLongPolling, this.experimentalLongPollingOptions = vk((i = e.experimentalLongPollingOptions) !== null && i !== void 0 ? i : {}), function (u) { if (u.timeoutSeconds !== void 0) { if (isNaN(u.timeoutSeconds)) throw new Ne(be.INVALID_ARGUMENT, `invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`); if (u.timeoutSeconds < 5) throw new Ne(be.INVALID_ARGUMENT, `invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`); if (u.timeoutSeconds > 30) throw new Ne(be.INVALID_ARGUMENT, `invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`) } }(this.experimentalLongPollingOptions), this.useFetchStreams = !!e.useFetchStreams } isEqual(e) { return this.host === e.host && this.ssl === e.ssl && this.credentials === e.credentials && this.cacheSizeBytes === e.cacheSizeBytes && this.experimentalForceLongPolling === e.experimentalForceLongPolling && this.experimentalAutoDetectLongPolling === e.experimentalAutoDetectLongPolling && function (i, o) { return i.timeoutSeconds === o.timeoutSeconds }(this.experimentalLongPollingOptions, e.experimentalLongPollingOptions) && this.ignoreUndefinedProperties === e.ignoreUndefinedProperties && this.useFetchStreams === e.useFetchStreams } } class tw { constructor(e, t, i, o) { this._authCredentials = e, this._appCheckCredentials = t, this._databaseId = i, this._app = o, this.type = "firestore-lite", this._persistenceKey = "(lite)", this._settings = new ZA({}), this._settingsFrozen = !1, this._terminateTask = "notTerminated" } get app() { if (!this._app) throw new Ne(be.FAILED_PRECONDITION, "Firestore was not initialized using the Firebase SDK. 'app' is not available"); return this._app } get _initialized() { return this._settingsFrozen } get _terminated() { return this._terminateTask !== "notTerminated" } _setSettings(e) { if (this._settingsFrozen) throw new Ne(be.FAILED_PRECONDITION, "Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object."); this._settings = new ZA(e), e.credentials !== void 0 && (this._authCredentials = function (i) { if (!i) return new FU; switch (i.type) { case "firstParty": return new GU(i.sessionIndex || "0", i.iamToken || null, i.authTokenFactory || null); case "provider": return i.client; default: throw new Ne(be.INVALID_ARGUMENT, "makeAuthCredentialsProvider failed due to invalid credential type") } }(e.credentials)) } _getSettings() { return this._settings } _freezeSettings() { return this._settingsFrozen = !0, this._settings } _delete() { return this._terminateTask === "notTerminated" && (this._terminateTask = this._terminate()), this._terminateTask } async _restart() { this._terminateTask === "notTerminated" ? await this._terminate() : this._terminateTask = "notTerminated" } toJSON() { return { app: this._app, databaseId: this._databaseId, settings: this._settings } } _terminate() { return function (t) { const i = XA.get(t); i && (Ue("ComponentProvider", "Removing Datastore"), XA.delete(t), i.terminate()) }(this), Promise.resolve() } } function SF(n, e, t, i = {}) { var o; const u = (n = $h(n, tw))._getSettings(), d = `${e}:${t}`; if (u.host !== "firestore.googleapis.com" && u.host !== d && tm("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."), n._setSettings(Object.assign(Object.assign({}, u), { host: d, ssl: !1 })), i.mockUserToken) { let p, m; if (typeof i.mockUserToken == "string") p = i.mockUserToken, m = _r.MOCK_USER; else { p = qL(i.mockUserToken, (o = n._app) === null || o === void 0 ? void 0 : o.options.projectId); const y = i.mockUserToken.sub || i.mockUserToken.user_id; if (!y) throw new Ne(be.INVALID_ARGUMENT, "mockUserToken must contain 'sub' or 'user_id' field!"); m = new _r(y) } n._authCredentials = new zU(new fI(p, m)) } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf { constructor(e, t, i) { this.converter = t, this._query = i, this.type = "query", this.firestore = e } withConverter(e) { return new tf(this.firestore, e, this._query) } } class Ns { constructor(e, t, i) { this.converter = t, this._key = i, this.type = "document", this.firestore = e } get _path() { return this._key.path } get id() { return this._key.path.lastSegment() } get path() { return this._key.path.canonicalString() } get parent() { return new Yc(this.firestore, this.converter, this._key.path.popLast()) } withConverter(e) { return new Ns(this.firestore, e, this._key) } } class Yc extends tf { constructor(e, t, i) { super(e, t, xE(i)), this._path = i, this.type = "collection" } get id() { return this._query.path.lastSegment() } get path() { return this._query.path.canonicalString() } get parent() { const e = this._path.popLast(); return e.isEmpty() ? null : new Ns(this.firestore, null, new Ge(e)) } withConverter(e) { return new Yc(this.firestore, e, this._path) } } function AF(n, e, ...t) { if (n = st(n), yk("collection", "path", e), n instanceof tw) { const i = Tn.fromString(e, ...t); return JA(i), new Yc(n, null, i) } { if (!(n instanceof Ns || n instanceof Yc)) throw new Ne(be.INVALID_ARGUMENT, "Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore"); const i = n._path.child(Tn.fromString(e, ...t)); return JA(i), new Yc(n.firestore, null, i) } } function e1(n, e, ...t) { if (n = st(n), arguments.length === 1 && (e = pI.newId()), yk("doc", "path", e), n instanceof tw) { const i = Tn.fromString(e, ...t); return QA(i), new Ns(n, null, new Ge(i)) } { if (!(n instanceof Ns || n instanceof Yc)) throw new Ne(be.INVALID_ARGUMENT, "Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore"); const i = n._path.child(Tn.fromString(e, ...t)); return QA(i), new Ns(n.firestore, n instanceof Yc ? n.converter : null, new Ge(i)) } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2 {
  constructor(e = Promise.resolve()) { this.Pu = [], this.Iu = !1, this.Tu = [], this.Eu = null, this.du = !1, this.Au = !1, this.Ru = [], this.t_ = new YI(this, "async_queue_retry"), this.Vu = () => { const i = t_(); i && Ue("AsyncQueue", "Visibility state changed to " + i.visibilityState), this.t_.jo() }, this.mu = e; const t = t_(); t && typeof t.addEventListener == "function" && t.addEventListener("visibilitychange", this.Vu) } get isShuttingDown() { return this.Iu } enqueueAndForget(e) { this.enqueue(e) } enqueueAndForgetEvenWhileRestricted(e) { this.fu(), this.gu(e) } enterRestrictedMode(e) { if (!this.Iu) { this.Iu = !0, this.Au = e || !1; const t = t_(); t && typeof t.removeEventListener == "function" && t.removeEventListener("visibilitychange", this.Vu) } } enqueue(e) { if (this.fu(), this.Iu) return new Promise(() => { }); const t = new fu; return this.gu(() => this.Iu && this.Au ? Promise.resolve() : (e().then(t.resolve, t.reject), t.promise)).then(() => t.promise) } enqueueRetryable(e) { this.enqueueAndForget(() => (this.Pu.push(e), this.pu())) } async pu() { if (this.Pu.length !== 0) { try { await this.Pu[0](), this.Pu.shift(), this.t_.reset() } catch (e) { if (!py(e)) throw e; Ue("AsyncQueue", "Operation failed with retryable error: " + e) } this.Pu.length > 0 && this.t_.Go(() => this.pu()) } } gu(e) {
    const t = this.mu.then(() => (this.du = !0, e().catch(i => {
      this.Eu = i, this.du = !1; const o = function (d) {
        let p = d.message || ""; return d.stack && (p = d.stack.includes(d.message) ? d.stack : d.message + `
`+ d.stack), p
      }(i); throw wu("INTERNAL UNHANDLED ERROR: ", o), i
    }).then(i => (this.du = !1, i)))); return this.mu = t, t
  } enqueueAfterDelay(e, t, i) { this.fu(), this.Ru.indexOf(e) > -1 && (t = 0); const o = BE.createAndSchedule(this, e, t, i, u => this.yu(u)); return this.Tu.push(o), o } fu() { this.Eu && et() } verifyOperationInProgress() { } async wu() { let e; do e = this.mu, await e; while (e !== this.mu) } Su(e) { for (const t of this.Tu) if (t.timerId === e) return !0; return !1 } bu(e) { return this.wu().then(() => { this.Tu.sort((t, i) => t.targetTimeMs - i.targetTimeMs); for (const t of this.Tu) if (t.skipDelay(), e !== "all" && t.timerId === e) break; return this.wu() }) } Du(e) { this.Ru.push(e) } yu(e) { const t = this.Tu.indexOf(e); this.Tu.splice(t, 1) }
} class by extends tw { constructor(e, t, i, o) { super(e, t, i, o), this.type = "firestore", this._queue = new e2, this._persistenceKey = o?.name || "[DEFAULT]" } async _terminate() { if (this._firestoreClient) { const e = this._firestoreClient.terminate(); this._queue = new e2(e), this._firestoreClient = void 0, await e } } } function CF(n, e) { const t = typeof n == "object" ? n : Nb(), i = typeof n == "string" ? n : "(default)", o = pm(t, "firestore").getImmediate({ identifier: i }); if (!o._initialized) { const u = Hx("firestore"); u && SF(o, ...u) } return o } function qE(n) { if (n._terminated) throw new Ne(be.FAILED_PRECONDITION, "The client has already been terminated."); return n._firestoreClient || xF(n), n._firestoreClient } function xF(n) { var e, t, i; const o = n._freezeSettings(), u = function (p, m, y, w) { return new r9(p, m, y, w.host, w.ssl, w.experimentalForceLongPolling, w.experimentalAutoDetectLongPolling, vk(w.experimentalLongPollingOptions), w.useFetchStreams) }(n._databaseId, ((e = n._app) === null || e === void 0 ? void 0 : e.options.appId) || "", n._persistenceKey, o); n._componentsProvider || !((t = o.localCache) === null || t === void 0) && t._offlineComponentProvider && (!((i = o.localCache) === null || i === void 0) && i._onlineComponentProvider) && (n._componentsProvider = { _offline: o.localCache._offlineComponentProvider, _online: o.localCache._onlineComponentProvider }), n._firestoreClient = new yF(n._authCredentials, n._appCheckCredentials, n._queue, u, n._componentsProvider && function (p) { const m = p?._online.build(); return { _offline: p?._offline.build(m), _online: m } }(n._componentsProvider)) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am { constructor(e) { this._byteString = e } static fromBase64String(e) { try { return new am(nr.fromBase64String(e)) } catch (t) { throw new Ne(be.INVALID_ARGUMENT, "Failed to construct data from Base64 string: " + t) } } static fromUint8Array(e) { return new am(nr.fromUint8Array(e)) } toBase64() { return this._byteString.toBase64() } toUint8Array() { return this._byteString.toUint8Array() } toString() { return "Bytes(base64: " + this.toBase64() + ")" } isEqual(e) { return this._byteString.isEqual(e._byteString) } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE { constructor(...e) { for (let t = 0; t < e.length; ++t)if (e[t].length === 0) throw new Ne(be.INVALID_ARGUMENT, "Invalid field name at argument $(i + 1). Field names must not be empty."); this._internalPath = new Zi(e) } isEqual(e) { return this._internalPath.isEqual(e._internalPath) } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk { constructor(e) { this._methodName = e } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE { constructor(e, t) { if (!isFinite(e) || e < -90 || e > 90) throw new Ne(be.INVALID_ARGUMENT, "Latitude must be a number between -90 and 90, but was: " + e); if (!isFinite(t) || t < -180 || t > 180) throw new Ne(be.INVALID_ARGUMENT, "Longitude must be a number between -180 and 180, but was: " + t); this._lat = e, this._long = t } get latitude() { return this._lat } get longitude() { return this._long } isEqual(e) { return this._lat === e._lat && this._long === e._long } toJSON() { return { latitude: this._lat, longitude: this._long } } _compareTo(e) { return Ft(this._lat, e._lat) || Ft(this._long, e._long) } }/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E { constructor(e) { this._values = (e || []).map(t => t) } toArray() { return this._values.map(e => e) } isEqual(e) { return function (i, o) { if (i.length !== o.length) return !1; for (let u = 0; u < i.length; ++u)if (i[u] !== o[u]) return !1; return !0 }(this._values, e._values) } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF = /^__.*__$/; class IF { constructor(e, t, i) { this.data = e, this.fieldMask = t, this.fieldTransforms = i } toMutation(e, t) { return this.fieldMask !== null ? new Zh(e, this.data, this.fieldMask, t, this.fieldTransforms) : new my(e, this.data, t, this.fieldTransforms) } } function wk(n) { switch (n) { case 0: case 2: case 1: return !0; case 3: case 4: return !1; default: throw et() } } class WE { constructor(e, t, i, o, u, d) { this.settings = e, this.databaseId = t, this.serializer = i, this.ignoreUndefinedProperties = o, u === void 0 && this.vu(), this.fieldTransforms = u || [], this.fieldMask = d || [] } get path() { return this.settings.path } get Cu() { return this.settings.Cu } Fu(e) { return new WE(Object.assign(Object.assign({}, this.settings), e), this.databaseId, this.serializer, this.ignoreUndefinedProperties, this.fieldTransforms, this.fieldMask) } Mu(e) { var t; const i = (t = this.path) === null || t === void 0 ? void 0 : t.child(e), o = this.Fu({ path: i, xu: !1 }); return o.Ou(e), o } Nu(e) { var t; const i = (t = this.path) === null || t === void 0 ? void 0 : t.child(e), o = this.Fu({ path: i, xu: !1 }); return o.vu(), o } Lu(e) { return this.Fu({ path: void 0, xu: !0 }) } Bu(e) { return gb(e, this.settings.methodName, this.settings.ku || !1, this.path, this.settings.qu) } contains(e) { return this.fieldMask.find(t => e.isPrefixOf(t)) !== void 0 || this.fieldTransforms.find(t => e.isPrefixOf(t.field)) !== void 0 } vu() { if (this.path) for (let e = 0; e < this.path.length; e++)this.Ou(this.path.get(e)) } Ou(e) { if (e.length === 0) throw this.Bu("Document fields must not be empty"); if (wk(this.Cu) && RF.test(e)) throw this.Bu('Document fields cannot begin and end with "__"') } } class kF { constructor(e, t, i) { this.databaseId = e, this.ignoreUndefinedProperties = t, this.serializer = i || Qb(e) } Qu(e, t, i, o = !1) { return new WE({ Cu: e, methodName: t, qu: i, path: Zi.emptyPath(), xu: !1, ku: o }, this.databaseId, this.serializer, this.ignoreUndefinedProperties) } } function _k(n) { const e = n._freezeSettings(), t = Qb(n._databaseId); return new kF(n._databaseId, !!e.ignoreUndefinedProperties, t) } function PF(n, e, t, i, o, u = {}) { const d = n.Qu(u.merge || u.mergeFields ? 2 : 0, e, t, o); Sk("Data must be an object, but it was:", d, i); const p = Ek(i, d); let m, y; if (u.merge) m = new ea(d.fieldMask), y = d.fieldTransforms; else if (u.mergeFields) { const w = []; for (const E of u.mergeFields) { const C = MF(e, E, t); if (!d.contains(C)) throw new Ne(be.INVALID_ARGUMENT, `Field '${C}' is specified in your field mask but missing from your input data.`); OF(w, C) || w.push(C) } m = new ea(w), y = d.fieldTransforms.filter(E => m.covers(E.field)) } else m = null, y = d.fieldTransforms; return new IF(new po(p), m, y) } function NF(n, e, t, i = !1) { return YE(t, n.Qu(i ? 4 : 3, e)) } function YE(n, e) { if (Tk(n = st(n))) return Sk("Unsupported field value:", e, n), Ek(n, e); if (n instanceof bk) return function (i, o) { if (!wk(o.Cu)) throw o.Bu(`${i._methodName}() can only be used with update() and set()`); if (!o.path) throw o.Bu(`${i._methodName}() is not currently supported inside arrays`); const u = i._toFieldTransform(o); u && o.fieldTransforms.push(u) }(n, e), null; if (n === void 0 && e.ignoreUndefinedProperties) return null; if (e.path && e.fieldMask.push(e.path), n instanceof Array) { if (e.settings.xu && e.Cu !== 4) throw e.Bu("Nested arrays are not supported"); return function (i, o) { const u = []; let d = 0; for (const p of i) { let m = YE(p, o.Lu(d)); m == null && (m = { nullValue: "NULL_VALUE" }), u.push(m), d++ } return { arrayValue: { values: u } } }(n, e) } return function (i, o) { if ((i = st(i)) === null) return { nullValue: "NULL_VALUE" }; if (typeof i == "number") return C9(o.serializer, i); if (typeof i == "boolean") return { booleanValue: i }; if (typeof i == "string") return { stringValue: i }; if (i instanceof Date) { const u = Ti.fromDate(i); return { timestampValue: fb(o.serializer, u) } } if (i instanceof Ti) { const u = new Ti(i.seconds, 1e3 * Math.floor(i.nanoseconds / 1e3)); return { timestampValue: fb(o.serializer, u) } } if (i instanceof KE) return { geoPointValue: { latitude: i.latitude, longitude: i.longitude } }; if (i instanceof am) return { bytesValue: BI(o.serializer, i._byteString) }; if (i instanceof Ns) { const u = o.databaseId, d = i.firestore._databaseId; if (!d.isEqual(u)) throw o.Bu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`); return { referenceValue: NE(i.firestore._databaseId || o.databaseId, i._key.path) } } if (i instanceof $E) return function (d, p) { return { mapValue: { fields: { __type__: { stringValue: "__vector__" }, value: { arrayValue: { values: d.toArray().map(m => { if (typeof m != "number") throw p.Bu("VectorValues must only contain numeric values."); return RE(p.serializer, m) }) } } } } } }(i, o); throw o.Bu(`Unsupported field value: ${ew(i)}`) }(n, e) } function Ek(n, e) { const t = {}; return mI(n) ? e.path && e.path.length > 0 && e.fieldMask.push(e.path) : bm(n, (i, o) => { const u = YE(o, e.Mu(i)); u != null && (t[i] = u) }), { mapValue: { fields: t } } } function Tk(n) { return !(typeof n != "object" || n === null || n instanceof Array || n instanceof Date || n instanceof Ti || n instanceof KE || n instanceof am || n instanceof Ns || n instanceof bk || n instanceof $E) } function Sk(n, e, t) { if (!Tk(t) || !function (o) { return typeof o == "object" && o !== null && (Object.getPrototypeOf(o) === Object.prototype || Object.getPrototypeOf(o) === null) }(t)) { const i = ew(t); throw i === "an object" ? e.Bu(n + " a custom object") : e.Bu(n + " " + i) } } function MF(n, e, t) { if ((e = st(e)) instanceof GE) return e._internalPath; if (typeof e == "string") return Ak(n, e); throw gb("Field path arguments must be of type string or ", n, !1, void 0, t) } const DF = new RegExp("[~\\*/\\[\\]]"); function Ak(n, e, t) { if (e.search(DF) >= 0) throw gb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`, n, !1, void 0, t); try { return new GE(...e.split("."))._internalPath } catch { throw gb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`, n, !1, void 0, t) } } function gb(n, e, t, i, o) { const u = i && !i.isEmpty(), d = o !== void 0; let p = `Function ${e}() called with invalid data`; t && (p += " (via `toFirestore()`)"), p += ". "; let m = ""; return (u || d) && (m += " (found", u && (m += ` in field ${i}`), d && (m += ` in document ${o}`), m += ")"), new Ne(be.INVALID_ARGUMENT, p + n + m) } function OF(n, e) { return n.some(t => t.isEqual(e)) }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck { constructor(e, t, i, o, u) { this._firestore = e, this._userDataWriter = t, this._key = i, this._document = o, this._converter = u } get id() { return this._key.path.lastSegment() } get ref() { return new Ns(this._firestore, this._converter, this._key) } exists() { return this._document !== null } data() { if (this._document) { if (this._converter) { const e = new LF(this._firestore, this._userDataWriter, this._key, this._document, null); return this._converter.fromFirestore(e) } return this._userDataWriter.convertValue(this._document.data.value) } } get(e) { if (this._document) { const t = this._document.data.field(nw("DocumentSnapshot.get", e)); if (t !== null) return this._userDataWriter.convertValue(t) } } } class LF extends Ck { data() { return super.data() } } function nw(n, e) { return typeof e == "string" ? Ak(n, e) : e instanceof GE ? e._internalPath : e._delegate._internalPath }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(n) { if (n.limitType === "L" && n.explicitOrderBy.length === 0) throw new Ne(be.UNIMPLEMENTED, "limitToLast() queries require specifying at least one orderBy() clause") } class XE { } class xk extends XE { } function jF(n, e, ...t) { let i = []; e instanceof XE && i.push(e), i = i.concat(t), function (u) { const d = u.filter(m => m instanceof QE).length, p = u.filter(m => m instanceof iw).length; if (d > 1 || d > 0 && p > 0) throw new Ne(be.INVALID_ARGUMENT, "InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.") }(i); for (const o of i) n = o._apply(n); return n } class iw extends xk { constructor(e, t, i) { super(), this._field = e, this._op = t, this._value = i, this.type = "where" } static _create(e, t, i) { return new iw(e, t, i) } _apply(e) { const t = this._parse(e); return Rk(e._query, t), new tf(e.firestore, e.converter, q_(e._query, t)) } _parse(e) { const t = _k(e.firestore); return function (u, d, p, m, y, w, E) { let C; if (y.isKeyField()) { if (w === "array-contains" || w === "array-contains-any") throw new Ne(be.INVALID_ARGUMENT, `Invalid Query. You can't perform '${w}' queries on documentId().`); if (w === "in" || w === "not-in") { n2(E, w); const N = []; for (const U of E) N.push(t2(m, u, U)); C = { arrayValue: { values: N } } } else C = t2(m, u, E) } else w !== "in" && w !== "not-in" && w !== "array-contains-any" || n2(E, w), C = NF(p, d, E, w === "in" || w === "not-in"); return mi.create(y, w, C) }(e._query, "where", t, e.firestore._databaseId, this._field, this._op, this._value) } } function UF(n, e, t) { const i = e, o = nw("where", n); return iw._create(o, i, t) } class QE extends XE { constructor(e, t) { super(), this.type = e, this._queryConstraints = t } static _create(e, t) { return new QE(e, t) } _parse(e) { const t = this._queryConstraints.map(i => i._parse(e)).filter(i => i.getFilters().length > 0); return t.length === 1 ? t[0] : na.create(t, this._getOperator()) } _apply(e) { const t = this._parse(e); return t.getFilters().length === 0 ? e : (function (o, u) { let d = o; const p = u.getFlattenedFilters(); for (const m of p) Rk(d, m), d = q_(d, m) }(e._query, t), new tf(e.firestore, e.converter, q_(e._query, t))) } _getQueryConstraints() { return this._queryConstraints } _getOperator() { return this.type === "and" ? "and" : "or" } } class JE extends xk { constructor(e, t) { super(), this._field = e, this._direction = t, this.type = "orderBy" } static _create(e, t) { return new JE(e, t) } _apply(e) { const t = function (o, u, d) { if (o.startAt !== null) throw new Ne(be.INVALID_ARGUMENT, "Invalid query. You must not call startAt() or startAfter() before calling orderBy()."); if (o.endAt !== null) throw new Ne(be.INVALID_ARGUMENT, "Invalid query. You must not call endAt() or endBefore() before calling orderBy()."); return new $v(u, d) }(e._query, this._field, this._direction); return new tf(e.firestore, e.converter, function (o, u) { const d = o.explicitOrderBy.concat([u]); return new wm(o.path, o.collectionGroup, d, o.filters.slice(), o.limit, o.limitType, o.startAt, o.endAt) }(e._query, t)) } } function BF(n, e = "asc") { const t = e, i = nw("orderBy", n); return JE._create(i, t) } function t2(n, e, t) { if (typeof (t = st(t)) == "string") { if (t === "") throw new Ne(be.INVALID_ARGUMENT, "Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string."); if (!SI(e) && t.indexOf("/") !== -1) throw new Ne(be.INVALID_ARGUMENT, `Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`); const i = e.path.child(Tn.fromString(t)); if (!Ge.isDocumentKey(i)) throw new Ne(be.INVALID_ARGUMENT, `Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`); return TA(n, new Ge(i)) } if (t instanceof Ns) return TA(n, t._key); throw new Ne(be.INVALID_ARGUMENT, `Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ew(t)}.`) } function n2(n, e) { if (!Array.isArray(n) || n.length === 0) throw new Ne(be.INVALID_ARGUMENT, `Invalid Query. A non-empty array is required for '${e.toString()}' filters.`) } function Rk(n, e) { const t = function (o, u) { for (const d of o) for (const p of d.getFlattenedFilters()) if (u.indexOf(p.op) >= 0) return p.op; return null }(n.filters, function (o) { switch (o) { case "!=": return ["!=", "not-in"]; case "array-contains-any": case "in": return ["not-in"]; case "not-in": return ["array-contains-any", "in", "not-in", "!="]; default: return [] } }(e.op)); if (t !== null) throw t === e.op ? new Ne(be.INVALID_ARGUMENT, `Invalid query. You cannot use more than one '${e.op.toString()}' filter.`) : new Ne(be.INVALID_ARGUMENT, `Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`) } class FF { convertValue(e, t = "none") { switch (Kh(e)) { case 0: return null; case 1: return e.booleanValue; case 2: return ri(e.integerValue || e.doubleValue); case 3: return this.convertTimestamp(e.timestampValue); case 4: return this.convertServerTimestamp(e, t); case 5: return e.stringValue; case 6: return this.convertBytes(Gh(e.bytesValue)); case 7: return this.convertReference(e.referenceValue); case 8: return this.convertGeoPoint(e.geoPointValue); case 9: return this.convertArray(e.arrayValue, t); case 11: return this.convertObject(e.mapValue, t); case 10: return this.convertVectorValue(e.mapValue); default: throw et() } } convertObject(e, t) { return this.convertObjectMap(e.fields, t) } convertObjectMap(e, t = "none") { const i = {}; return bm(e, (o, u) => { i[o] = this.convertValue(u, t) }), i } convertVectorValue(e) { var t, i, o; const u = (o = (i = (t = e.fields) === null || t === void 0 ? void 0 : t.value.arrayValue) === null || i === void 0 ? void 0 : i.values) === null || o === void 0 ? void 0 : o.map(d => ri(d.doubleValue)); return new $E(u) } convertGeoPoint(e) { return new KE(ri(e.latitude), ri(e.longitude)) } convertArray(e, t) { return (e.values || []).map(i => this.convertValue(i, t)) } convertServerTimestamp(e, t) { switch (t) { case "previous": const i = TE(e); return i == null ? null : this.convertValue(i, t); case "estimate": return this.convertTimestamp(qv(e)); default: return null } } convertTimestamp(e) { const t = ed(e); return new Ti(t.seconds, t.nanos) } convertDocumentKey(e, t) { const i = Tn.fromString(e); Jt(KI(i)); const o = new Gv(i.get(1), i.get(3)), u = new Ge(i.popFirst(5)); return o.isEqual(t) || wu(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`), u } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(n, e, t) { let i; return i = n ? n.toFirestore(e) : e, i }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv { constructor(e, t) { this.hasPendingWrites = e, this.fromCache = t } isEqual(e) { return this.hasPendingWrites === e.hasPendingWrites && this.fromCache === e.fromCache } } class Ik extends Ck { constructor(e, t, i, o, u, d) { super(e, t, i, o, d), this._firestore = e, this._firestoreImpl = e, this.metadata = u } exists() { return super.exists() } data(e = {}) { if (this._document) { if (this._converter) { const t = new q0(this._firestore, this._userDataWriter, this._key, this._document, this.metadata, null); return this._converter.fromFirestore(t, e) } return this._userDataWriter.convertValue(this._document.data.value, e.serverTimestamps) } } get(e, t = {}) { if (this._document) { const i = this._document.data.field(nw("DocumentSnapshot.get", e)); if (i !== null) return this._userDataWriter.convertValue(i, t.serverTimestamps) } } } class q0 extends Ik { data(e = {}) { return super.data(e) } } class HF { constructor(e, t, i, o) { this._firestore = e, this._userDataWriter = t, this._snapshot = o, this.metadata = new yv(o.hasPendingWrites, o.fromCache), this.query = i } get docs() { const e = []; return this.forEach(t => e.push(t)), e } get size() { return this._snapshot.docs.size } get empty() { return this.size === 0 } forEach(e, t) { this._snapshot.docs.forEach(i => { e.call(t, new q0(this._firestore, this._userDataWriter, i.key, i, new yv(this._snapshot.mutatedKeys.has(i.key), this._snapshot.fromCache), this.query.converter)) }) } docChanges(e = {}) { const t = !!e.includeMetadataChanges; if (t && this._snapshot.excludesMetadataChanges) throw new Ne(be.INVALID_ARGUMENT, "To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot()."); return this._cachedChanges && this._cachedChangesIncludeMetadataChanges === t || (this._cachedChanges = function (o, u) { if (o._snapshot.oldDocs.isEmpty()) { let d = 0; return o._snapshot.docChanges.map(p => { const m = new q0(o._firestore, o._userDataWriter, p.doc.key, p.doc, new yv(o._snapshot.mutatedKeys.has(p.doc.key), o._snapshot.fromCache), o.query.converter); return p.doc, { type: "added", doc: m, oldIndex: -1, newIndex: d++ } }) } { let d = o._snapshot.oldDocs; return o._snapshot.docChanges.filter(p => u || p.type !== 3).map(p => { const m = new q0(o._firestore, o._userDataWriter, p.doc.key, p.doc, new yv(o._snapshot.mutatedKeys.has(p.doc.key), o._snapshot.fromCache), o.query.converter); let y = -1, w = -1; return p.type !== 0 && (y = d.indexOf(p.doc.key), d = d.delete(p.doc.key)), p.type !== 1 && (d = d.add(p.doc), w = d.indexOf(p.doc.key)), { type: qF(p.type), doc: m, oldIndex: y, newIndex: w } }) } }(this, t), this._cachedChangesIncludeMetadataChanges = t), this._cachedChanges } } function qF(n) { switch (n) { case 0: return "added"; case 2: case 3: return "modified"; case 1: return "removed"; default: return et() } }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GF(n) { n = $h(n, Ns); const e = $h(n.firestore, by); return _F(qE(e), n._key).then(t => YF(e, n, t)) } class kk extends FF { constructor(e) { super(), this.firestore = e } convertBytes(e) { return new am(e) } convertReference(e) { const t = this.convertDocumentKey(e, this.firestore._databaseId); return new Ns(this.firestore, null, t) } } function KF(n) { n = $h(n, tf); const e = $h(n.firestore, by), t = qE(e), i = new kk(e); return VF(n._query), EF(t, n._query).then(o => new HF(e, i, n, o)) } function $F(n) { return Pk($h(n.firestore, by), [new IE(n._key, nl.none())]) } function WF(n, e) { const t = $h(n.firestore, by), i = e1(n), o = zF(n.converter, e); return Pk(t, [PF(_k(n.firestore), "addDoc", i._key, o, n.converter !== null, {}).toMutation(i._key, nl.exists(!1))]).then(() => i) } function Pk(n, e) { return function (i, o) { const u = new fu; return i.asyncQueue.enqueueAndForget(async () => cF(await wF(i), o, u)), u.promise }(qE(n), e) } function YF(n, e, t) { const i = t.docs.get(e._key), o = new kk(n); return new Ik(n, o, e._key, i, new yv(t.hasPendingWrites, t.fromCache), e.converter) } (function (e, t = !0) { (function (o) { ym = o })(rd), yu(new ol("firestore", (i, { instanceIdentifier: o, options: u }) => { const d = i.getProvider("app").getImmediate(), p = new by(new HU(i.getProvider("auth-internal")), new $U(i.getProvider("app-check-internal")), function (y, w) { if (!Object.prototype.hasOwnProperty.apply(y.options, ["projectId"])) throw new Ne(be.INVALID_ARGUMENT, '"projectId" not provided in firebase.initializeApp.'); return new Gv(y.options.projectId, w) }(d, o), d); return u = Object.assign({ useFetchStreams: t }, u), p._setSettings(u), p }, "PUBLIC").setMultipleInstances(!0)), rs(yA, "4.7.3", e), rs(yA, "4.7.3", "esm2017") })();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk = "functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF { constructor(e, t, i) { this.auth = null, this.messaging = null, this.appCheck = null, this.auth = e.getImmediate({ optional: !0 }), this.messaging = t.getImmediate({ optional: !0 }), this.auth || e.get().then(o => this.auth = o, () => { }), this.messaging || t.get().then(o => this.messaging = o, () => { }), this.appCheck || i.get().then(o => this.appCheck = o, () => { }) } async getAuthToken() { if (this.auth) try { const e = await this.auth.getToken(); return e?.accessToken } catch { return } } async getMessagingToken() { if (!(!this.messaging || !("Notification" in self) || Notification.permission !== "granted")) try { return await this.messaging.getToken() } catch { return } } async getAppCheckToken(e) { if (this.appCheck) { const t = e ? await this.appCheck.getLimitedUseToken() : await this.appCheck.getToken(); return t.error ? null : t.token } return null } async getContext(e) { const t = await this.getAuthToken(), i = await this.getMessagingToken(), o = await this.getAppCheckToken(e); return { authToken: t, messagingToken: i, appCheckToken: o } } }/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1 = "us-central1"; class QF { constructor(e, t, i, o, u = t1, d) { this.app = e, this.fetchImpl = d, this.emulatorOrigin = null, this.contextProvider = new XF(t, i, o), this.cancelAllRequests = new Promise(p => { this.deleteService = () => Promise.resolve(p()) }); try { const p = new URL(u); this.customDomain = p.origin + (p.pathname === "/" ? "" : p.pathname), this.region = t1 } catch { this.customDomain = null, this.region = u } } _delete() { return this.deleteService() } _url(e) { const t = this.app.options.projectId; return this.emulatorOrigin !== null ? `${this.emulatorOrigin}/${t}/${this.region}/${e}` : this.customDomain !== null ? `${this.customDomain}/${e}` : `https://${this.region}-${t}.cloudfunctions.net/${e}` } } function JF(n, e, t) { n.emulatorOrigin = `http://${e}:${t}` } const i2 = "@firebase/functions", r2 = "0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF = "auth-internal", e8 = "app-check-internal", t8 = "messaging-internal"; function n8(n, e) { const t = (i, { instanceIdentifier: o }) => { const u = i.getProvider("app").getImmediate(), d = i.getProvider(ZF), p = i.getProvider(t8), m = i.getProvider(e8); return new QF(u, d, p, m, o, n) }; yu(new ol(Nk, t, "PUBLIC").setMultipleInstances(!0)), rs(i2, r2, e), rs(i2, r2, "esm2017") }/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i8(n = Nb(), e = t1) { const i = pm(st(n), Nk).getImmediate({ identifier: e }), o = Hx("functions"); return o && r8(i, ...o), i } function r8(n, e, t) { JF(st(n), e, t) } n8(fetch.bind(self)); const s8 = { apiKey: "AIzaSyDBLjHyR3kiZNsoz63ZGpRcHfMoARgnRAA", authDomain: "chop-stop.firebaseapp.com", projectId: "chop-stop", storageBucket: "chop-stop.firebasestorage.app", messagingSenderId: "285885896798", appId: "1:285885896798:web:05ffbca2d4ead63140bccf" }, ZE = Pb(s8), n1 = CF(ZE), Yp = F5(ZE); i8(ZE); const o8 = ({ onSuccess: n }) => { const e = I.useRef(null); return I.useEffect(() => { e.current && (gA.AuthUI.getInstance() || new gA.AuthUI(Yp)).start(e.current, { signInFlow: "popup", signInOptions: [Zo.PROVIDER_ID], callbacks: { signInSuccessWithAuthResult: (i, o) => (n?.(i.user), !1) } }) }, [n]), x.jsx("div", { ref: e, id: "firebaseui-auth-container" }) }; function Mk({ isOpen: n, onOpenChange: e }) { return x.jsx(Ox, { open: n, onOpenChange: e, children: x.jsxs(K1, { className: "sm:max-w-[425px]", children: [x.jsxs($1, { children: [x.jsx(W1, { children: "Sign In / Sign Up" }), x.jsx(Y1, { children: "Access your saved sessions and personalize your experience." })] }), x.jsx(o8, { onSuccess: () => e(!1) })] }) }) } const Dk = I.createContext(), Ok = ({ children: n }) => { const [e, t] = I.useState(null), [i, o] = I.useState(!0), u = () => { s6(Yp) }; return I.useEffect(() => { const d = r6(Yp, p => { t(p), o(!1) }); return () => d() }, []), x.jsx(Dk.Provider, { value: { user: e, logout: u, loading: i }, children: n }) }, eT = () => I.useContext(Dk), a8 = [{ name: "Chopper", href: "/", icon: zC }, { name: "My Sessions", href: "/my-sessions", icon: BC }]; function l8({ children: n }) {
  const e = iy(), [t, i] = I.useState(!1), { user: o, logout: u } = eT(); return x.jsxs("div", {
    className: "min-h-screen w-full bg-gradient-to-br from-gray-900 via-purple-900 to-blue-900 text-white font-sans", children: [x.jsxs("div", {
      className: "relative min-h-screen w-full backdrop-blur-sm", children: [x.jsx("header", {
        className: "fixed top-0 left-0 right-0 z-50 p-4", children: x.jsxs("div", {
          className: "container mx-auto flex justify-between items-center p-3 bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl shadow-lg", children: [x.jsxs(Q0, { to: "/", className: "flex items-center gap-3", children: [x.jsx(zC, { className: "w-8 h-8 text-cyan-400" }), x.jsx("h1", { className: "text-2xl font-bold tracking-tighter", children: "The Chop Shop" })] }), x.jsxs("nav", {
            className: "flex items-center gap-2 p-1 bg-white/10 rounded-full border border-white/10", children: [a8.map(d => x.jsxs(Q0, {
              to: d.href, className: `flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300
                    ${e.pathname === d.href ? "bg-cyan-400 text-black shadow-md" : "text-gray-300 hover:bg-white/10"}`, children: [x.jsx(d.icon, { className: "w-4 h-4" }), x.jsx("span", { children: d.name })]
            }, d.name)), o ? x.jsxs(hn, { onClick: u, className: "flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 bg-red-500 hover:bg-red-600 text-white", children: [x.jsx(KD, { className: "w-4 h-4" }), x.jsx("span", { children: "Logout" })] }) : x.jsxs(hn, { onClick: () => i(!0), className: "flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 bg-green-500 hover:bg-green-600 text-white", children: [x.jsx(FC, { className: "w-4 h-4" }), x.jsx("span", { children: "Sign In" })] })]
          })]
        })
      }), x.jsx("main", { className: "pt-28 pb-10", children: x.jsx("div", { className: "container mx-auto", children: n }) }), x.jsx("footer", { className: "fixed bottom-0 left-0 right-0 p-4", children: x.jsx("div", { className: "container mx-auto text-center text-xs text-white/40", children: x.jsx("p", { children: "For educational and auditioning purposes only. Please support artists by purchasing their music." }) }) })]
    }), x.jsx(Mk, { isOpen: t, onOpenChange: i })]
  })
} const tT = I.createContext({}); function nT(n) { const e = I.useRef(null); return e.current === null && (e.current = n()), e.current } const rw = I.createContext(null), iT = I.createContext({ transformPagePoint: n => n, isStatic: !1, reducedMotion: "never" }); class u8 extends I.Component { getSnapshotBeforeUpdate(e) { const t = this.props.childRef.current; if (t && e.isPresent && !this.props.isPresent) { const i = this.props.sizeRef.current; i.height = t.offsetHeight || 0, i.width = t.offsetWidth || 0, i.top = t.offsetTop, i.left = t.offsetLeft } return null } componentDidUpdate() { } render() { return this.props.children } } function c8({ children: n, isPresent: e }) {
  const t = I.useId(), i = I.useRef(null), o = I.useRef({ width: 0, height: 0, top: 0, left: 0 }), { nonce: u } = I.useContext(iT); return I.useInsertionEffect(() => {
    const { width: d, height: p, top: m, left: y } = o.current; if (e || !i.current || !d || !p) return; i.current.dataset.motionPopId = t; const w = document.createElement("style"); return u && (w.nonce = u), document.head.appendChild(w), w.sheet && w.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${p}px !important;
            top: ${m}px !important;
            left: ${y}px !important;
          }
        `), () => { document.head.removeChild(w) }
  }, [e]), x.jsx(u8, { isPresent: e, childRef: i, sizeRef: o, children: I.cloneElement(n, { ref: i }) })
} const d8 = ({ children: n, initial: e, isPresent: t, onExitComplete: i, custom: o, presenceAffectsLayout: u, mode: d }) => { const p = nT(h8), m = I.useId(), y = I.useCallback(E => { p.set(E, !0); for (const C of p.values()) if (!C) return; i && i() }, [p, i]), w = I.useMemo(() => ({ id: m, initial: e, isPresent: t, custom: o, onExitComplete: y, register: E => (p.set(E, !1), () => p.delete(E)) }), u ? [Math.random(), y] : [t, y]); return I.useMemo(() => { p.forEach((E, C) => p.set(C, !1)) }, [t]), I.useEffect(() => { !t && !p.size && i && i() }, [t]), d === "popLayout" && (n = x.jsx(c8, { isPresent: t, children: n })), x.jsx(rw.Provider, { value: w, children: n }) }; function h8() { return new Map } function Lk(n = !0) { const e = I.useContext(rw); if (e === null) return [!0, null]; const { isPresent: t, onExitComplete: i, register: o } = e, u = I.useId(); I.useEffect(() => { n && o(u) }, [n]); const d = I.useCallback(() => n && i && i(u), [u, i, n]); return !t && i ? [!1, d] : [!0] } const R0 = n => n.key || ""; function s2(n) { const e = []; return I.Children.forEach(n, t => { I.isValidElement(t) && e.push(t) }), e } const rT = typeof window < "u", Vk = rT ? I.useLayoutEffect : I.useEffect, sw = ({ children: n, custom: e, initial: t = !0, onExitComplete: i, presenceAffectsLayout: o = !0, mode: u = "sync", propagate: d = !1 }) => { const [p, m] = Lk(d), y = I.useMemo(() => s2(n), [n]), w = d && !p ? [] : y.map(R0), E = I.useRef(!0), C = I.useRef(y), N = nT(() => new Map), [U, k] = I.useState(y), [R, L] = I.useState(y); Vk(() => { E.current = !1, C.current = y; for (let J = 0; J < R.length; J++) { const Q = R0(R[J]); w.includes(Q) ? N.delete(Q) : N.get(Q) !== !0 && N.set(Q, !1) } }, [R, w.length, w.join("-")]); const z = []; if (y !== U) { let J = [...y]; for (let Q = 0; Q < R.length; Q++) { const re = R[Q], F = R0(re); w.includes(F) || (J.splice(Q, 0, re), z.push(re)) } u === "wait" && z.length && (J = z), L(s2(J)), k(y); return } const { forceRender: $ } = I.useContext(tT); return x.jsx(x.Fragment, { children: R.map(J => { const Q = R0(J), re = d && !p ? !1 : y === R || w.includes(Q), F = () => { if (N.has(Q)) N.set(Q, !0); else return; let V = !0; N.forEach(O => { O || (V = !1) }), V && ($?.(), L(C.current), d && m?.(), i && i()) }; return x.jsx(d8, { isPresent: re, initial: !E.current || t ? void 0 : !1, custom: re ? void 0 : e, presenceAffectsLayout: o, mode: u, onExitComplete: re ? void 0 : F, children: J }, Q) }) }) }, Ms = n => n; let jk = Ms; function sT(n) { let e; return () => (e === void 0 && (e = n()), e) } const lm = (n, e, t) => { const i = e - n; return i === 0 ? 1 : (t - n) / i }, pu = n => n * 1e3, mu = n => n / 1e3, f8 = { useManualTiming: !1 }; function p8(n) { let e = new Set, t = new Set, i = !1, o = !1; const u = new WeakSet; let d = { delta: 0, timestamp: 0, isProcessing: !1 }; function p(y) { u.has(y) && (m.schedule(y), n()), y(d) } const m = { schedule: (y, w = !1, E = !1) => { const N = E && i ? e : t; return w && u.add(y), N.has(y) || N.add(y), y }, cancel: y => { t.delete(y), u.delete(y) }, process: y => { if (d = y, i) { o = !0; return } i = !0, [e, t] = [t, e], e.forEach(p), e.clear(), i = !1, o && (o = !1, m.process(y)) } }; return m } const I0 = ["read", "resolveKeyframes", "update", "preRender", "render", "postRender"], m8 = 40; function Uk(n, e) { let t = !1, i = !0; const o = { delta: 0, timestamp: 0, isProcessing: !1 }, u = () => t = !0, d = I0.reduce((L, z) => (L[z] = p8(u), L), {}), { read: p, resolveKeyframes: m, update: y, preRender: w, render: E, postRender: C } = d, N = () => { const L = performance.now(); t = !1, o.delta = i ? 1e3 / 60 : Math.max(Math.min(L - o.timestamp, m8), 1), o.timestamp = L, o.isProcessing = !0, p.process(o), m.process(o), y.process(o), w.process(o), E.process(o), C.process(o), o.isProcessing = !1, t && e && (i = !1, n(N)) }, U = () => { t = !0, i = !0, o.isProcessing || n(N) }; return { schedule: I0.reduce((L, z) => { const $ = d[z]; return L[z] = (J, Q = !1, re = !1) => (t || U(), $.schedule(J, Q, re)), L }, {}), cancel: L => { for (let z = 0; z < I0.length; z++)d[I0[z]].cancel(L) }, state: o, steps: d } } const { schedule: Sn, cancel: nd, state: Qi, steps: i_ } = Uk(typeof requestAnimationFrame < "u" ? requestAnimationFrame : Ms, !0), Bk = I.createContext({ strict: !1 }), o2 = { animation: ["animate", "variants", "whileHover", "whileTap", "exit", "whileInView", "whileFocus", "whileDrag"], exit: ["exit"], drag: ["drag", "dragControls"], focus: ["whileFocus"], hover: ["whileHover", "onHoverStart", "onHoverEnd"], tap: ["whileTap", "onTap", "onTapStart", "onTapCancel"], pan: ["onPan", "onPanStart", "onPanSessionStart", "onPanEnd"], inView: ["whileInView", "onViewportEnter", "onViewportLeave"], layout: ["layout", "layoutId"] }, um = {}; for (const n in o2) um[n] = { isEnabled: e => o2[n].some(t => !!e[t]) }; function g8(n) { for (const e in n) um[e] = { ...um[e], ...n[e] } } const v8 = new Set(["animate", "exit", "variants", "initial", "style", "values", "variants", "transition", "transformTemplate", "custom", "inherit", "onBeforeLayoutMeasure", "onAnimationStart", "onAnimationComplete", "onUpdate", "onDragStart", "onDrag", "onDragEnd", "onMeasureDragConstraints", "onDirectionLock", "onDragTransitionEnd", "_dragX", "_dragY", "onHoverStart", "onHoverEnd", "onViewportEnter", "onViewportLeave", "globalTapTarget", "ignoreStrict", "viewport"]); function vb(n) { return n.startsWith("while") || n.startsWith("drag") && n !== "draggable" || n.startsWith("layout") || n.startsWith("onTap") || n.startsWith("onPan") || n.startsWith("onLayout") || v8.has(n) } let Fk = n => !vb(n); function y8(n) { n && (Fk = e => e.startsWith("on") ? !vb(e) : n(e)) } try { y8(require("@emotion/is-prop-valid").default) } catch { } function b8(n, e, t) { const i = {}; for (const o in n) o === "values" && typeof n.values == "object" || (Fk(o) || t === !0 && vb(o) || !e && !vb(o) || n.draggable && o.startsWith("onDrag")) && (i[o] = n[o]); return i } function w8(n) { if (typeof Proxy > "u") return n; const e = new Map, t = (...i) => n(...i); return new Proxy(t, { get: (i, o) => o === "create" ? n : (e.has(o) || e.set(o, n(o)), e.get(o)) }) } const ow = I.createContext({}); function Xv(n) { return typeof n == "string" || Array.isArray(n) } function aw(n) { return n !== null && typeof n == "object" && typeof n.start == "function" } const oT = ["animate", "whileInView", "whileFocus", "whileHover", "whileTap", "whileDrag", "exit"], aT = ["initial", ...oT]; function lw(n) { return aw(n.animate) || aT.some(e => Xv(n[e])) } function zk(n) { return !!(lw(n) || n.variants) } function _8(n, e) { if (lw(n)) { const { initial: t, animate: i } = n; return { initial: t === !1 || Xv(t) ? t : void 0, animate: Xv(i) ? i : void 0 } } return n.inherit !== !1 ? e : {} } function E8(n) { const { initial: e, animate: t } = _8(n, I.useContext(ow)); return I.useMemo(() => ({ initial: e, animate: t }), [a2(e), a2(t)]) } function a2(n) { return Array.isArray(n) ? n.join(" ") : n } const T8 = Symbol.for("motionComponentSymbol"); function Vp(n) { return n && typeof n == "object" && Object.prototype.hasOwnProperty.call(n, "current") } function S8(n, e, t) { return I.useCallback(i => { i && n.onMount && n.onMount(i), e && (i ? e.mount(i) : e.unmount()), t && (typeof t == "function" ? t(i) : Vp(t) && (t.current = i)) }, [e]) } const lT = n => n.replace(/([a-z])([A-Z])/gu, "$1-$2").toLowerCase(), A8 = "framerAppearId", Hk = "data-" + lT(A8), { schedule: uT } = Uk(queueMicrotask, !1), qk = I.createContext({}); function C8(n, e, t, i, o) { var u, d; const { visualElement: p } = I.useContext(ow), m = I.useContext(Bk), y = I.useContext(rw), w = I.useContext(iT).reducedMotion, E = I.useRef(null); i = i || m.renderer, !E.current && i && (E.current = i(n, { visualState: e, parent: p, props: t, presenceContext: y, blockInitialAnimation: y ? y.initial === !1 : !1, reducedMotionConfig: w })); const C = E.current, N = I.useContext(qk); C && !C.projection && o && (C.type === "html" || C.type === "svg") && x8(E.current, t, o, N); const U = I.useRef(!1); I.useInsertionEffect(() => { C && U.current && C.update(t, y) }); const k = t[Hk], R = I.useRef(!!k && !(!((u = window.MotionHandoffIsComplete) === null || u === void 0) && u.call(window, k)) && ((d = window.MotionHasOptimisedAnimation) === null || d === void 0 ? void 0 : d.call(window, k))); return Vk(() => { C && (U.current = !0, window.MotionIsMounted = !0, C.updateFeatures(), uT.render(C.render), R.current && C.animationState && C.animationState.animateChanges()) }), I.useEffect(() => { C && (!R.current && C.animationState && C.animationState.animateChanges(), R.current && (queueMicrotask(() => { var L; (L = window.MotionHandoffMarkAsComplete) === null || L === void 0 || L.call(window, k) }), R.current = !1)) }), C } function x8(n, e, t, i) { const { layoutId: o, layout: u, drag: d, dragConstraints: p, layoutScroll: m, layoutRoot: y } = e; n.projection = new t(n.latestValues, e["data-framer-portal-id"] ? void 0 : Gk(n.parent)), n.projection.setOptions({ layoutId: o, layout: u, alwaysMeasureLayout: !!d || p && Vp(p), visualElement: n, animationType: typeof u == "string" ? u : "both", initialPromotionConfig: i, layoutScroll: m, layoutRoot: y }) } function Gk(n) { if (n) return n.options.allowProjection !== !1 ? n.projection : Gk(n.parent) } function R8({ preloadedFeatures: n, createVisualElement: e, useRender: t, useVisualState: i, Component: o }) { var u, d; n && g8(n); function p(y, w) { let E; const C = { ...I.useContext(iT), ...y, layoutId: I8(y) }, { isStatic: N } = C, U = E8(y), k = i(y, N); if (!N && rT) { k8(); const R = P8(C); E = R.MeasureLayout, U.visualElement = C8(o, k, C, e, R.ProjectionNode) } return x.jsxs(ow.Provider, { value: U, children: [E && U.visualElement ? x.jsx(E, { visualElement: U.visualElement, ...C }) : null, t(o, y, S8(k, U.visualElement, w), k, N, U.visualElement)] }) } p.displayName = `motion.${typeof o == "string" ? o : `create(${(d = (u = o.displayName) !== null && u !== void 0 ? u : o.name) !== null && d !== void 0 ? d : ""})`}`; const m = I.forwardRef(p); return m[T8] = o, m } function I8({ layoutId: n }) { const e = I.useContext(tT).id; return e && n !== void 0 ? e + "-" + n : n } function k8(n, e) { I.useContext(Bk).strict } function P8(n) { const { drag: e, layout: t } = um; if (!e && !t) return {}; const i = { ...e, ...t }; return { MeasureLayout: e?.isEnabled(n) || t?.isEnabled(n) ? i.MeasureLayout : void 0, ProjectionNode: i.ProjectionNode } } const N8 = ["animate", "circle", "defs", "desc", "ellipse", "g", "image", "line", "filter", "marker", "mask", "metadata", "path", "pattern", "polygon", "polyline", "rect", "stop", "switch", "symbol", "svg", "text", "tspan", "use", "view"]; function cT(n) { return typeof n != "string" || n.includes("-") ? !1 : !!(N8.indexOf(n) > -1 || /[A-Z]/u.test(n)) } function l2(n) { const e = [{}, {}]; return n?.values.forEach((t, i) => { e[0][i] = t.get(), e[1][i] = t.getVelocity() }), e } function dT(n, e, t, i) { if (typeof e == "function") { const [o, u] = l2(i); e = e(t !== void 0 ? t : n.custom, o, u) } if (typeof e == "string" && (e = n.variants && n.variants[e]), typeof e == "function") { const [o, u] = l2(i); e = e(t !== void 0 ? t : n.custom, o, u) } return e } const i1 = n => Array.isArray(n), M8 = n => !!(n && typeof n == "object" && n.mix && n.toValue), D8 = n => i1(n) ? n[n.length - 1] || 0 : n, Tr = n => !!(n && n.getVelocity); function G0(n) { const e = Tr(n) ? n.get() : n; return M8(e) ? e.toValue() : e } function O8({ scrapeMotionValuesFromProps: n, createRenderState: e, onUpdate: t }, i, o, u) { const d = { latestValues: L8(i, o, u, n), renderState: e() }; return t && (d.onMount = p => t({ props: i, current: p, ...d }), d.onUpdate = p => t(p)), d } const Kk = n => (e, t) => { const i = I.useContext(ow), o = I.useContext(rw), u = () => O8(n, e, i, o); return t ? u() : nT(u) }; function L8(n, e, t, i) { const o = {}, u = i(n, {}); for (const C in u) o[C] = G0(u[C]); let { initial: d, animate: p } = n; const m = lw(n), y = zk(n); e && y && !m && n.inherit !== !1 && (d === void 0 && (d = e.initial), p === void 0 && (p = e.animate)); let w = t ? t.initial === !1 : !1; w = w || d === !1; const E = w ? p : d; if (E && typeof E != "boolean" && !aw(E)) { const C = Array.isArray(E) ? E : [E]; for (let N = 0; N < C.length; N++) { const U = dT(n, C[N]); if (U) { const { transitionEnd: k, transition: R, ...L } = U; for (const z in L) { let $ = L[z]; if (Array.isArray($)) { const J = w ? $.length - 1 : 0; $ = $[J] } $ !== null && (o[z] = $) } for (const z in k) o[z] = k[z] } } } return o } const Tm = ["transformPerspective", "x", "y", "z", "translateX", "translateY", "translateZ", "scale", "scaleX", "scaleY", "rotate", "rotateX", "rotateY", "rotateZ", "skew", "skewX", "skewY"], nf = new Set(Tm), $k = n => e => typeof e == "string" && e.startsWith(n), Wk = $k("--"), V8 = $k("var(--"), hT = n => V8(n) ? j8.test(n.split("/*")[0].trim()) : !1, j8 = /var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu, Yk = (n, e) => e && typeof n == "number" ? e.transform(n) : n, Eu = (n, e, t) => t > e ? e : t < n ? n : t, Sm = { test: n => typeof n == "number", parse: parseFloat, transform: n => n }, Qv = { ...Sm, transform: n => Eu(0, 1, n) }, k0 = { ...Sm, default: 1 }, wy = n => ({ test: e => typeof e == "string" && e.endsWith(n) && e.split(" ").length === 1, parse: parseFloat, transform: e => `${e}${n}` }), Hc = wy("deg"), rl = wy("%"), Xe = wy("px"), U8 = wy("vh"), B8 = wy("vw"), u2 = { ...rl, parse: n => rl.parse(n) / 100, transform: n => rl.transform(n * 100) }, F8 = { borderWidth: Xe, borderTopWidth: Xe, borderRightWidth: Xe, borderBottomWidth: Xe, borderLeftWidth: Xe, borderRadius: Xe, radius: Xe, borderTopLeftRadius: Xe, borderTopRightRadius: Xe, borderBottomRightRadius: Xe, borderBottomLeftRadius: Xe, width: Xe, maxWidth: Xe, height: Xe, maxHeight: Xe, top: Xe, right: Xe, bottom: Xe, left: Xe, padding: Xe, paddingTop: Xe, paddingRight: Xe, paddingBottom: Xe, paddingLeft: Xe, margin: Xe, marginTop: Xe, marginRight: Xe, marginBottom: Xe, marginLeft: Xe, backgroundPositionX: Xe, backgroundPositionY: Xe }, z8 = { rotate: Hc, rotateX: Hc, rotateY: Hc, rotateZ: Hc, scale: k0, scaleX: k0, scaleY: k0, scaleZ: k0, skew: Hc, skewX: Hc, skewY: Hc, distance: Xe, translateX: Xe, translateY: Xe, translateZ: Xe, x: Xe, y: Xe, z: Xe, perspective: Xe, transformPerspective: Xe, opacity: Qv, originX: u2, originY: u2, originZ: Xe }, c2 = { ...Sm, transform: Math.round }, fT = { ...F8, ...z8, zIndex: c2, size: Xe, fillOpacity: Qv, strokeOpacity: Qv, numOctaves: c2 }, H8 = { x: "translateX", y: "translateY", z: "translateZ", transformPerspective: "perspective" }, q8 = Tm.length; function G8(n, e, t) { let i = "", o = !0; for (let u = 0; u < q8; u++) { const d = Tm[u], p = n[d]; if (p === void 0) continue; let m = !0; if (typeof p == "number" ? m = p === (d.startsWith("scale") ? 1 : 0) : m = parseFloat(p) === 0, !m || t) { const y = Yk(p, fT[d]); if (!m) { o = !1; const w = H8[d] || d; i += `${w}(${y}) ` } t && (e[d] = y) } } return i = i.trim(), t ? i = t(e, o ? "" : i) : o && (i = "none"), i } function pT(n, e, t) { const { style: i, vars: o, transformOrigin: u } = n; let d = !1, p = !1; for (const m in e) { const y = e[m]; if (nf.has(m)) { d = !0; continue } else if (Wk(m)) { o[m] = y; continue } else { const w = Yk(y, fT[m]); m.startsWith("origin") ? (p = !0, u[m] = w) : i[m] = w } } if (e.transform || (d || t ? i.transform = G8(e, n.transform, t) : i.transform && (i.transform = "none")), p) { const { originX: m = "50%", originY: y = "50%", originZ: w = 0 } = u; i.transformOrigin = `${m} ${y} ${w}` } } const K8 = { offset: "stroke-dashoffset", array: "stroke-dasharray" }, $8 = { offset: "strokeDashoffset", array: "strokeDasharray" }; function W8(n, e, t = 1, i = 0, o = !0) { n.pathLength = 1; const u = o ? K8 : $8; n[u.offset] = Xe.transform(-i); const d = Xe.transform(e), p = Xe.transform(t); n[u.array] = `${d} ${p}` } function d2(n, e, t) { return typeof n == "string" ? n : Xe.transform(e + t * n) } function Y8(n, e, t) { const i = d2(e, n.x, n.width), o = d2(t, n.y, n.height); return `${i} ${o}` } function mT(n, { attrX: e, attrY: t, attrScale: i, originX: o, originY: u, pathLength: d, pathSpacing: p = 1, pathOffset: m = 0, ...y }, w, E) { if (pT(n, y, E), w) { n.style.viewBox && (n.attrs.viewBox = n.style.viewBox); return } n.attrs = n.style, n.style = {}; const { attrs: C, style: N, dimensions: U } = n; C.transform && (U && (N.transform = C.transform), delete C.transform), U && (o !== void 0 || u !== void 0 || N.transform) && (N.transformOrigin = Y8(U, o !== void 0 ? o : .5, u !== void 0 ? u : .5)), e !== void 0 && (C.x = e), t !== void 0 && (C.y = t), i !== void 0 && (C.scale = i), d !== void 0 && W8(C, d, p, m, !1) } const gT = () => ({ style: {}, transform: {}, transformOrigin: {}, vars: {} }), Xk = () => ({ ...gT(), attrs: {} }), vT = n => typeof n == "string" && n.toLowerCase() === "svg"; function Qk(n, { style: e, vars: t }, i, o) { Object.assign(n.style, e, o && o.getProjectionStyles(i)); for (const u in t) n.style.setProperty(u, t[u]) } const Jk = new Set(["baseFrequency", "diffuseConstant", "kernelMatrix", "kernelUnitLength", "keySplines", "keyTimes", "limitingConeAngle", "markerHeight", "markerWidth", "numOctaves", "targetX", "targetY", "surfaceScale", "specularConstant", "specularExponent", "stdDeviation", "tableValues", "viewBox", "gradientTransform", "pathLength", "startOffset", "textLength", "lengthAdjust"]); function Zk(n, e, t, i) { Qk(n, e, void 0, i); for (const o in e.attrs) n.setAttribute(Jk.has(o) ? o : lT(o), e.attrs[o]) } const yb = {}; function X8(n) { Object.assign(yb, n) } function eP(n, { layout: e, layoutId: t }) { return nf.has(n) || n.startsWith("origin") || (e || t !== void 0) && (!!yb[n] || n === "opacity") } function yT(n, e, t) { var i; const { style: o } = n, u = {}; for (const d in o) (Tr(o[d]) || e.style && Tr(e.style[d]) || eP(d, n) || ((i = t?.getValue(d)) === null || i === void 0 ? void 0 : i.liveStyle) !== void 0) && (u[d] = o[d]); return u } function tP(n, e, t) { const i = yT(n, e, t); for (const o in n) if (Tr(n[o]) || Tr(e[o])) { const u = Tm.indexOf(o) !== -1 ? "attr" + o.charAt(0).toUpperCase() + o.substring(1) : o; i[u] = n[o] } return i } function Q8(n, e) { try { e.dimensions = typeof n.getBBox == "function" ? n.getBBox() : n.getBoundingClientRect() } catch { e.dimensions = { x: 0, y: 0, width: 0, height: 0 } } } const h2 = ["x", "y", "width", "height", "cx", "cy", "r"], J8 = { useVisualState: Kk({ scrapeMotionValuesFromProps: tP, createRenderState: Xk, onUpdate: ({ props: n, prevProps: e, current: t, renderState: i, latestValues: o }) => { if (!t) return; let u = !!n.drag; if (!u) { for (const p in o) if (nf.has(p)) { u = !0; break } } if (!u) return; let d = !e; if (e) for (let p = 0; p < h2.length; p++) { const m = h2[p]; n[m] !== e[m] && (d = !0) } d && Sn.read(() => { Q8(t, i), Sn.render(() => { mT(i, o, vT(t.tagName), n.transformTemplate), Zk(t, i) }) }) } }) }, Z8 = { useVisualState: Kk({ scrapeMotionValuesFromProps: yT, createRenderState: gT }) }; function nP(n, e, t) { for (const i in e) !Tr(e[i]) && !eP(i, t) && (n[i] = e[i]) } function e7({ transformTemplate: n }, e) { return I.useMemo(() => { const t = gT(); return pT(t, e, n), Object.assign({}, t.vars, t.style) }, [e]) } function t7(n, e) { const t = n.style || {}, i = {}; return nP(i, t, n), Object.assign(i, e7(n, e)), i } function n7(n, e) { const t = {}, i = t7(n, e); return n.drag && n.dragListener !== !1 && (t.draggable = !1, i.userSelect = i.WebkitUserSelect = i.WebkitTouchCallout = "none", i.touchAction = n.drag === !0 ? "none" : `pan-${n.drag === "x" ? "y" : "x"}`), n.tabIndex === void 0 && (n.onTap || n.onTapStart || n.whileTap) && (t.tabIndex = 0), t.style = i, t } function i7(n, e, t, i) { const o = I.useMemo(() => { const u = Xk(); return mT(u, e, vT(i), n.transformTemplate), { ...u.attrs, style: { ...u.style } } }, [e]); if (n.style) { const u = {}; nP(u, n.style, n), o.style = { ...u, ...o.style } } return o } function r7(n = !1) { return (t, i, o, { latestValues: u }, d) => { const m = (cT(t) ? i7 : n7)(i, u, d, t), y = b8(i, typeof t == "string", n), w = t !== I.Fragment ? { ...y, ...m, ref: o } : {}, { children: E } = i, C = I.useMemo(() => Tr(E) ? E.get() : E, [E]); return I.createElement(t, { ...w, children: C }) } } function s7(n, e) { return function (i, { forwardMotionProps: o } = { forwardMotionProps: !1 }) { const d = { ...cT(i) ? J8 : Z8, preloadedFeatures: n, useRender: r7(o), createVisualElement: e, Component: i }; return R8(d) } } function iP(n, e) { if (!Array.isArray(e)) return !1; const t = e.length; if (t !== n.length) return !1; for (let i = 0; i < t; i++)if (e[i] !== n[i]) return !1; return !0 } function uw(n, e, t) { const i = n.getProps(); return dT(i, e, t !== void 0 ? t : i.custom, n) } const o7 = sT(() => window.ScrollTimeline !== void 0); class a7 { constructor(e) { this.stop = () => this.runAll("stop"), this.animations = e.filter(Boolean) } get finished() { return Promise.all(this.animations.map(e => "finished" in e ? e.finished : e)) } getAll(e) { return this.animations[0][e] } setAll(e, t) { for (let i = 0; i < this.animations.length; i++)this.animations[i][e] = t } attachTimeline(e, t) { const i = this.animations.map(o => { if (o7() && o.attachTimeline) return o.attachTimeline(e); if (typeof t == "function") return t(o) }); return () => { i.forEach((o, u) => { o && o(), this.animations[u].stop() }) } } get time() { return this.getAll("time") } set time(e) { this.setAll("time", e) } get speed() { return this.getAll("speed") } set speed(e) { this.setAll("speed", e) } get startTime() { return this.getAll("startTime") } get duration() { let e = 0; for (let t = 0; t < this.animations.length; t++)e = Math.max(e, this.animations[t].duration); return e } runAll(e) { this.animations.forEach(t => t[e]()) } flatten() { this.runAll("flatten") } play() { this.runAll("play") } pause() { this.runAll("pause") } cancel() { this.runAll("cancel") } complete() { this.runAll("complete") } } class l7 extends a7 { then(e, t) { return Promise.all(this.animations).then(e).catch(t) } } function bT(n, e) { return n ? n[e] || n.default || n : void 0 } const r1 = 2e4; function rP(n) { let e = 0; const t = 50; let i = n.next(e); for (; !i.done && e < r1;)e += t, i = n.next(e); return e >= r1 ? 1 / 0 : e } function wT(n) { return typeof n == "function" } function f2(n, e) { n.timeline = e, n.onfinish = null } const _T = n => Array.isArray(n) && typeof n[0] == "number", u7 = { linearEasing: void 0 }; function c7(n, e) { const t = sT(n); return () => { var i; return (i = u7[e]) !== null && i !== void 0 ? i : t() } } const bb = c7(() => { try { document.createElement("div").animate({ opacity: 0 }, { easing: "linear(0, 1)" }) } catch { return !1 } return !0 }, "linearEasing"), sP = (n, e, t = 10) => { let i = ""; const o = Math.max(Math.round(e / t), 2); for (let u = 0; u < o; u++)i += n(lm(0, o - 1, u)) + ", "; return `linear(${i.substring(0, i.length - 2)})` }; function oP(n) { return !!(typeof n == "function" && bb() || !n || typeof n == "string" && (n in s1 || bb()) || _T(n) || Array.isArray(n) && n.every(oP)) } const bv = ([n, e, t, i]) => `cubic-bezier(${n}, ${e}, ${t}, ${i})`, s1 = { linear: "linear", ease: "ease", easeIn: "ease-in", easeOut: "ease-out", easeInOut: "ease-in-out", circIn: bv([0, .65, .55, 1]), circOut: bv([.55, 0, 1, .45]), backIn: bv([.31, .01, .66, -.59]), backOut: bv([.33, 1.53, .69, .99]) }; function aP(n, e) { if (n) return typeof n == "function" && bb() ? sP(n, e) : _T(n) ? bv(n) : Array.isArray(n) ? n.map(t => aP(t, e) || s1.easeOut) : s1[n] } const Qo = { x: !1, y: !1 }; function lP() { return Qo.x || Qo.y } function d7(n, e, t) { var i; if (n instanceof Element) return [n]; if (typeof n == "string") { let o = document; const u = (i = void 0) !== null && i !== void 0 ? i : o.querySelectorAll(n); return u ? Array.from(u) : [] } return Array.from(n) } function uP(n, e) { const t = d7(n), i = new AbortController, o = { passive: !0, ...e, signal: i.signal }; return [t, o, () => i.abort()] } function p2(n) { return e => { e.pointerType === "touch" || lP() || n(e) } } function h7(n, e, t = {}) { const [i, o, u] = uP(n, t), d = p2(p => { const { target: m } = p, y = e(p); if (typeof y != "function" || !m) return; const w = p2(E => { y(E), m.removeEventListener("pointerleave", w) }); m.addEventListener("pointerleave", w, o) }); return i.forEach(p => { p.addEventListener("pointerenter", d, o) }), u } const cP = (n, e) => e ? n === e ? !0 : cP(n, e.parentElement) : !1, ET = n => n.pointerType === "mouse" ? typeof n.button != "number" || n.button <= 0 : n.isPrimary !== !1, f7 = new Set(["BUTTON", "INPUT", "SELECT", "TEXTAREA", "A"]); function p7(n) { return f7.has(n.tagName) || n.tabIndex !== -1 } const wv = new WeakSet; function m2(n) { return e => { e.key === "Enter" && n(e) } } function r_(n, e) { n.dispatchEvent(new PointerEvent("pointer" + e, { isPrimary: !0, bubbles: !0 })) } const m7 = (n, e) => { const t = n.currentTarget; if (!t) return; const i = m2(() => { if (wv.has(t)) return; r_(t, "down"); const o = m2(() => { r_(t, "up") }), u = () => r_(t, "cancel"); t.addEventListener("keyup", o, e), t.addEventListener("blur", u, e) }); t.addEventListener("keydown", i, e), t.addEventListener("blur", () => t.removeEventListener("keydown", i), e) }; function g2(n) { return ET(n) && !lP() } function g7(n, e, t = {}) { const [i, o, u] = uP(n, t), d = p => { const m = p.currentTarget; if (!g2(p) || wv.has(m)) return; wv.add(m); const y = e(p), w = (N, U) => { window.removeEventListener("pointerup", E), window.removeEventListener("pointercancel", C), !(!g2(N) || !wv.has(m)) && (wv.delete(m), typeof y == "function" && y(N, { success: U })) }, E = N => { w(N, t.useGlobalTarget || cP(m, N.target)) }, C = N => { w(N, !1) }; window.addEventListener("pointerup", E, o), window.addEventListener("pointercancel", C, o) }; return i.forEach(p => { !p7(p) && p.getAttribute("tabindex") === null && (p.tabIndex = 0), (t.useGlobalTarget ? window : p).addEventListener("pointerdown", d, o), p.addEventListener("focus", y => m7(y, o), o) }), u } function v7(n) { return n === "x" || n === "y" ? Qo[n] ? null : (Qo[n] = !0, () => { Qo[n] = !1 }) : Qo.x || Qo.y ? null : (Qo.x = Qo.y = !0, () => { Qo.x = Qo.y = !1 }) } const dP = new Set(["width", "height", "top", "left", "right", "bottom", ...Tm]); let K0; function y7() { K0 = void 0 } const sl = { now: () => (K0 === void 0 && sl.set(Qi.isProcessing || f8.useManualTiming ? Qi.timestamp : performance.now()), K0), set: n => { K0 = n, queueMicrotask(y7) } }; function TT(n, e) { n.indexOf(e) === -1 && n.push(e) } function ST(n, e) { const t = n.indexOf(e); t > -1 && n.splice(t, 1) } class AT { constructor() { this.subscriptions = [] } add(e) { return TT(this.subscriptions, e), () => ST(this.subscriptions, e) } notify(e, t, i) { const o = this.subscriptions.length; if (o) if (o === 1) this.subscriptions[0](e, t, i); else for (let u = 0; u < o; u++) { const d = this.subscriptions[u]; d && d(e, t, i) } } getSize() { return this.subscriptions.length } clear() { this.subscriptions.length = 0 } } function hP(n, e) { return e ? n * (1e3 / e) : 0 } const v2 = 30, b7 = n => !isNaN(parseFloat(n)); class w7 { constructor(e, t = {}) { this.version = "11.18.2", this.canTrackVelocity = null, this.events = {}, this.updateAndNotify = (i, o = !0) => { const u = sl.now(); this.updatedAt !== u && this.setPrevFrameValue(), this.prev = this.current, this.setCurrent(i), this.current !== this.prev && this.events.change && this.events.change.notify(this.current), o && this.events.renderRequest && this.events.renderRequest.notify(this.current) }, this.hasAnimated = !1, this.setCurrent(e), this.owner = t.owner } setCurrent(e) { this.current = e, this.updatedAt = sl.now(), this.canTrackVelocity === null && e !== void 0 && (this.canTrackVelocity = b7(this.current)) } setPrevFrameValue(e = this.current) { this.prevFrameValue = e, this.prevUpdatedAt = this.updatedAt } onChange(e) { return this.on("change", e) } on(e, t) { this.events[e] || (this.events[e] = new AT); const i = this.events[e].add(t); return e === "change" ? () => { i(), Sn.read(() => { this.events.change.getSize() || this.stop() }) } : i } clearListeners() { for (const e in this.events) this.events[e].clear() } attach(e, t) { this.passiveEffect = e, this.stopPassiveEffect = t } set(e, t = !0) { !t || !this.passiveEffect ? this.updateAndNotify(e, t) : this.passiveEffect(e, this.updateAndNotify) } setWithVelocity(e, t, i) { this.set(t), this.prev = void 0, this.prevFrameValue = e, this.prevUpdatedAt = this.updatedAt - i } jump(e, t = !0) { this.updateAndNotify(e), this.prev = e, this.prevUpdatedAt = this.prevFrameValue = void 0, t && this.stop(), this.stopPassiveEffect && this.stopPassiveEffect() } get() { return this.current } getPrevious() { return this.prev } getVelocity() { const e = sl.now(); if (!this.canTrackVelocity || this.prevFrameValue === void 0 || e - this.updatedAt > v2) return 0; const t = Math.min(this.updatedAt - this.prevUpdatedAt, v2); return hP(parseFloat(this.current) - parseFloat(this.prevFrameValue), t) } start(e) { return this.stop(), new Promise(t => { this.hasAnimated = !0, this.animation = e(t), this.events.animationStart && this.events.animationStart.notify() }).then(() => { this.events.animationComplete && this.events.animationComplete.notify(), this.clearAnimation() }) } stop() { this.animation && (this.animation.stop(), this.events.animationCancel && this.events.animationCancel.notify()), this.clearAnimation() } isAnimating() { return !!this.animation } clearAnimation() { delete this.animation } destroy() { this.clearListeners(), this.stop(), this.stopPassiveEffect && this.stopPassiveEffect() } } function Jv(n, e) { return new w7(n, e) } function _7(n, e, t) { n.hasValue(e) ? n.getValue(e).set(t) : n.addValue(e, Jv(t)) } function E7(n, e) { const t = uw(n, e); let { transitionEnd: i = {}, transition: o = {}, ...u } = t || {}; u = { ...u, ...i }; for (const d in u) { const p = D8(u[d]); _7(n, d, p) } } function T7(n) { return !!(Tr(n) && n.add) } function o1(n, e) { const t = n.getValue("willChange"); if (T7(t)) return t.add(e) } function fP(n) { return n.props[Hk] } const pP = (n, e, t) => (((1 - 3 * t + 3 * e) * n + (3 * t - 6 * e)) * n + 3 * e) * n, S7 = 1e-7, A7 = 12; function C7(n, e, t, i, o) { let u, d, p = 0; do d = e + (t - e) / 2, u = pP(d, i, o) - n, u > 0 ? t = d : e = d; while (Math.abs(u) > S7 && ++p < A7); return d } function _y(n, e, t, i) { if (n === e && t === i) return Ms; const o = u => C7(u, 0, 1, n, t); return u => u === 0 || u === 1 ? u : pP(o(u), e, i) } const mP = n => e => e <= .5 ? n(2 * e) / 2 : (2 - n(2 * (1 - e))) / 2, gP = n => e => 1 - n(1 - e), vP = _y(.33, 1.53, .69, .99), CT = gP(vP), yP = mP(CT), bP = n => (n *= 2) < 1 ? .5 * CT(n) : .5 * (2 - Math.pow(2, -10 * (n - 1))), xT = n => 1 - Math.sin(Math.acos(n)), wP = gP(xT), _P = mP(xT), EP = n => /^0[^.\s]+$/u.test(n); function x7(n) { return typeof n == "number" ? n === 0 : n !== null ? n === "none" || n === "0" || EP(n) : !0 } const Iv = n => Math.round(n * 1e5) / 1e5, RT = /-?(?:\d+(?:\.\d+)?|\.\d+)/gu; function R7(n) { return n == null } const I7 = /^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu, IT = (n, e) => t => !!(typeof t == "string" && I7.test(t) && t.startsWith(n) || e && !R7(t) && Object.prototype.hasOwnProperty.call(t, e)), TP = (n, e, t) => i => { if (typeof i != "string") return i; const [o, u, d, p] = i.match(RT); return { [n]: parseFloat(o), [e]: parseFloat(u), [t]: parseFloat(d), alpha: p !== void 0 ? parseFloat(p) : 1 } }, k7 = n => Eu(0, 255, n), s_ = { ...Sm, transform: n => Math.round(k7(n)) }, Oh = { test: IT("rgb", "red"), parse: TP("red", "green", "blue"), transform: ({ red: n, green: e, blue: t, alpha: i = 1 }) => "rgba(" + s_.transform(n) + ", " + s_.transform(e) + ", " + s_.transform(t) + ", " + Iv(Qv.transform(i)) + ")" }; function P7(n) { let e = "", t = "", i = "", o = ""; return n.length > 5 ? (e = n.substring(1, 3), t = n.substring(3, 5), i = n.substring(5, 7), o = n.substring(7, 9)) : (e = n.substring(1, 2), t = n.substring(2, 3), i = n.substring(3, 4), o = n.substring(4, 5), e += e, t += t, i += i, o += o), { red: parseInt(e, 16), green: parseInt(t, 16), blue: parseInt(i, 16), alpha: o ? parseInt(o, 16) / 255 : 1 } } const a1 = { test: IT("#"), parse: P7, transform: Oh.transform }, jp = { test: IT("hsl", "hue"), parse: TP("hue", "saturation", "lightness"), transform: ({ hue: n, saturation: e, lightness: t, alpha: i = 1 }) => "hsla(" + Math.round(n) + ", " + rl.transform(Iv(e)) + ", " + rl.transform(Iv(t)) + ", " + Iv(Qv.transform(i)) + ")" }, wr = { test: n => Oh.test(n) || a1.test(n) || jp.test(n), parse: n => Oh.test(n) ? Oh.parse(n) : jp.test(n) ? jp.parse(n) : a1.parse(n), transform: n => typeof n == "string" ? n : n.hasOwnProperty("red") ? Oh.transform(n) : jp.transform(n) }, N7 = /(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu; function M7(n) { var e, t; return isNaN(n) && typeof n == "string" && (((e = n.match(RT)) === null || e === void 0 ? void 0 : e.length) || 0) + (((t = n.match(N7)) === null || t === void 0 ? void 0 : t.length) || 0) > 0 } const SP = "number", AP = "color", D7 = "var", O7 = "var(", y2 = "${}", L7 = /var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu; function Zv(n) { const e = n.toString(), t = [], i = { color: [], number: [], var: [] }, o = []; let u = 0; const p = e.replace(L7, m => (wr.test(m) ? (i.color.push(u), o.push(AP), t.push(wr.parse(m))) : m.startsWith(O7) ? (i.var.push(u), o.push(D7), t.push(m)) : (i.number.push(u), o.push(SP), t.push(parseFloat(m))), ++u, y2)).split(y2); return { values: t, split: p, indexes: i, types: o } } function CP(n) { return Zv(n).values } function xP(n) { const { split: e, types: t } = Zv(n), i = e.length; return o => { let u = ""; for (let d = 0; d < i; d++)if (u += e[d], o[d] !== void 0) { const p = t[d]; p === SP ? u += Iv(o[d]) : p === AP ? u += wr.transform(o[d]) : u += o[d] } return u } } const V7 = n => typeof n == "number" ? 0 : n; function j7(n) { const e = CP(n); return xP(n)(e.map(V7)) } const id = { test: M7, parse: CP, createTransformer: xP, getAnimatableNone: j7 }, U7 = new Set(["brightness", "contrast", "saturate", "opacity"]); function B7(n) { const [e, t] = n.slice(0, -1).split("("); if (e === "drop-shadow") return n; const [i] = t.match(RT) || []; if (!i) return n; const o = t.replace(i, ""); let u = U7.has(e) ? 1 : 0; return i !== t && (u *= 100), e + "(" + u + o + ")" } const F7 = /\b([a-z-]*)\(.*?\)/gu, l1 = { ...id, getAnimatableNone: n => { const e = n.match(F7); return e ? e.map(B7).join(" ") : n } }, z7 = { ...fT, color: wr, backgroundColor: wr, outlineColor: wr, fill: wr, stroke: wr, borderColor: wr, borderTopColor: wr, borderRightColor: wr, borderBottomColor: wr, borderLeftColor: wr, filter: l1, WebkitFilter: l1 }, kT = n => z7[n]; function RP(n, e) { let t = kT(n); return t !== l1 && (t = id), t.getAnimatableNone ? t.getAnimatableNone(e) : void 0 } const H7 = new Set(["auto", "none", "0"]); function q7(n, e, t) { let i = 0, o; for (; i < n.length && !o;) { const u = n[i]; typeof u == "string" && !H7.has(u) && Zv(u).values.length && (o = n[i]), i++ } if (o && t) for (const u of e) n[u] = RP(t, o) } const b2 = n => n === Sm || n === Xe, w2 = (n, e) => parseFloat(n.split(", ")[e]), _2 = (n, e) => (t, { transform: i }) => { if (i === "none" || !i) return 0; const o = i.match(/^matrix3d\((.+)\)$/u); if (o) return w2(o[1], e); { const u = i.match(/^matrix\((.+)\)$/u); return u ? w2(u[1], n) : 0 } }, G7 = new Set(["x", "y", "z"]), K7 = Tm.filter(n => !G7.has(n)); function $7(n) { const e = []; return K7.forEach(t => { const i = n.getValue(t); i !== void 0 && (e.push([t, i.get()]), i.set(t.startsWith("scale") ? 1 : 0)) }), e } const cm = { width: ({ x: n }, { paddingLeft: e = "0", paddingRight: t = "0" }) => n.max - n.min - parseFloat(e) - parseFloat(t), height: ({ y: n }, { paddingTop: e = "0", paddingBottom: t = "0" }) => n.max - n.min - parseFloat(e) - parseFloat(t), top: (n, { top: e }) => parseFloat(e), left: (n, { left: e }) => parseFloat(e), bottom: ({ y: n }, { top: e }) => parseFloat(e) + (n.max - n.min), right: ({ x: n }, { left: e }) => parseFloat(e) + (n.max - n.min), x: _2(4, 13), y: _2(5, 14) }; cm.translateX = cm.x; cm.translateY = cm.y; const Uh = new Set; let u1 = !1, c1 = !1; function IP() { if (c1) { const n = Array.from(Uh).filter(i => i.needsMeasurement), e = new Set(n.map(i => i.element)), t = new Map; e.forEach(i => { const o = $7(i); o.length && (t.set(i, o), i.render()) }), n.forEach(i => i.measureInitialState()), e.forEach(i => { i.render(); const o = t.get(i); o && o.forEach(([u, d]) => { var p; (p = i.getValue(u)) === null || p === void 0 || p.set(d) }) }), n.forEach(i => i.measureEndState()), n.forEach(i => { i.suspendedScrollY !== void 0 && window.scrollTo(0, i.suspendedScrollY) }) } c1 = !1, u1 = !1, Uh.forEach(n => n.complete()), Uh.clear() } function kP() { Uh.forEach(n => { n.readKeyframes(), n.needsMeasurement && (c1 = !0) }) } function W7() { kP(), IP() } class PT { constructor(e, t, i, o, u, d = !1) { this.isComplete = !1, this.isAsync = !1, this.needsMeasurement = !1, this.isScheduled = !1, this.unresolvedKeyframes = [...e], this.onComplete = t, this.name = i, this.motionValue = o, this.element = u, this.isAsync = d } scheduleResolve() { this.isScheduled = !0, this.isAsync ? (Uh.add(this), u1 || (u1 = !0, Sn.read(kP), Sn.resolveKeyframes(IP))) : (this.readKeyframes(), this.complete()) } readKeyframes() { const { unresolvedKeyframes: e, name: t, element: i, motionValue: o } = this; for (let u = 0; u < e.length; u++)if (e[u] === null) if (u === 0) { const d = o?.get(), p = e[e.length - 1]; if (d !== void 0) e[0] = d; else if (i && t) { const m = i.readValue(t, p); m != null && (e[0] = m) } e[0] === void 0 && (e[0] = p), o && d === void 0 && o.set(e[0]) } else e[u] = e[u - 1] } setFinalKeyframe() { } measureInitialState() { } renderEndStyles() { } measureEndState() { } complete() { this.isComplete = !0, this.onComplete(this.unresolvedKeyframes, this.finalKeyframe), Uh.delete(this) } cancel() { this.isComplete || (this.isScheduled = !1, Uh.delete(this)) } resume() { this.isComplete || this.scheduleResolve() } } const PP = n => /^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n), Y7 = /^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u; function X7(n) { const e = Y7.exec(n); if (!e) return [,]; const [, t, i, o] = e; return [`--${t ?? i}`, o] } function NP(n, e, t = 1) { const [i, o] = X7(n); if (!i) return; const u = window.getComputedStyle(e).getPropertyValue(i); if (u) { const d = u.trim(); return PP(d) ? parseFloat(d) : d } return hT(o) ? NP(o, e, t + 1) : o } const MP = n => e => e.test(n), Q7 = { test: n => n === "auto", parse: n => n }, DP = [Sm, Xe, rl, Hc, B8, U8, Q7], E2 = n => DP.find(MP(n)); class OP extends PT { constructor(e, t, i, o, u) { super(e, t, i, o, u, !0) } readKeyframes() { const { unresolvedKeyframes: e, element: t, name: i } = this; if (!t || !t.current) return; super.readKeyframes(); for (let m = 0; m < e.length; m++) { let y = e[m]; if (typeof y == "string" && (y = y.trim(), hT(y))) { const w = NP(y, t.current); w !== void 0 && (e[m] = w), m === e.length - 1 && (this.finalKeyframe = y) } } if (this.resolveNoneKeyframes(), !dP.has(i) || e.length !== 2) return; const [o, u] = e, d = E2(o), p = E2(u); if (d !== p) if (b2(d) && b2(p)) for (let m = 0; m < e.length; m++) { const y = e[m]; typeof y == "string" && (e[m] = parseFloat(y)) } else this.needsMeasurement = !0 } resolveNoneKeyframes() { const { unresolvedKeyframes: e, name: t } = this, i = []; for (let o = 0; o < e.length; o++)x7(e[o]) && i.push(o); i.length && q7(e, i, t) } measureInitialState() { const { element: e, unresolvedKeyframes: t, name: i } = this; if (!e || !e.current) return; i === "height" && (this.suspendedScrollY = window.pageYOffset), this.measuredOrigin = cm[i](e.measureViewportBox(), window.getComputedStyle(e.current)), t[0] = this.measuredOrigin; const o = t[t.length - 1]; o !== void 0 && e.getValue(i, o).jump(o, !1) } measureEndState() { var e; const { element: t, name: i, unresolvedKeyframes: o } = this; if (!t || !t.current) return; const u = t.getValue(i); u && u.jump(this.measuredOrigin, !1); const d = o.length - 1, p = o[d]; o[d] = cm[i](t.measureViewportBox(), window.getComputedStyle(t.current)), p !== null && this.finalKeyframe === void 0 && (this.finalKeyframe = p), !((e = this.removedTransforms) === null || e === void 0) && e.length && this.removedTransforms.forEach(([m, y]) => { t.getValue(m).set(y) }), this.resolveNoneKeyframes() } } const T2 = (n, e) => e === "zIndex" ? !1 : !!(typeof n == "number" || Array.isArray(n) || typeof n == "string" && (id.test(n) || n === "0") && !n.startsWith("url(")); function J7(n) { const e = n[0]; if (n.length === 1) return !0; for (let t = 0; t < n.length; t++)if (n[t] !== e) return !0 } function Z7(n, e, t, i) { const o = n[0]; if (o === null) return !1; if (e === "display" || e === "visibility") return !0; const u = n[n.length - 1], d = T2(o, e), p = T2(u, e); return !d || !p ? !1 : J7(n) || (t === "spring" || wT(t)) && i } const ez = n => n !== null; function cw(n, { repeat: e, repeatType: t = "loop" }, i) { const o = n.filter(ez), u = e && t !== "loop" && e % 2 === 1 ? 0 : o.length - 1; return !u || i === void 0 ? o[u] : i } const tz = 40; class LP { constructor({ autoplay: e = !0, delay: t = 0, type: i = "keyframes", repeat: o = 0, repeatDelay: u = 0, repeatType: d = "loop", ...p }) { this.isStopped = !1, this.hasAttemptedResolve = !1, this.createdAt = sl.now(), this.options = { autoplay: e, delay: t, type: i, repeat: o, repeatDelay: u, repeatType: d, ...p }, this.updateFinishedPromise() } calcStartTime() { return this.resolvedAt ? this.resolvedAt - this.createdAt > tz ? this.resolvedAt : this.createdAt : this.createdAt } get resolved() { return !this._resolved && !this.hasAttemptedResolve && W7(), this._resolved } onKeyframesResolved(e, t) { this.resolvedAt = sl.now(), this.hasAttemptedResolve = !0; const { name: i, type: o, velocity: u, delay: d, onComplete: p, onUpdate: m, isGenerator: y } = this.options; if (!y && !Z7(e, i, o, u)) if (d) this.options.duration = 0; else { m && m(cw(e, this.options, t)), p && p(), this.resolveFinishedPromise(); return } const w = this.initPlayback(e, t); w !== !1 && (this._resolved = { keyframes: e, finalKeyframe: t, ...w }, this.onPostResolved()) } onPostResolved() { } then(e, t) { return this.currentFinishedPromise.then(e, t) } flatten() { this.options.type = "keyframes", this.options.ease = "linear" } updateFinishedPromise() { this.currentFinishedPromise = new Promise(e => { this.resolveFinishedPromise = e }) } } const jn = (n, e, t) => n + (e - n) * t; function o_(n, e, t) { return t < 0 && (t += 1), t > 1 && (t -= 1), t < 1 / 6 ? n + (e - n) * 6 * t : t < 1 / 2 ? e : t < 2 / 3 ? n + (e - n) * (2 / 3 - t) * 6 : n } function nz({ hue: n, saturation: e, lightness: t, alpha: i }) { n /= 360, e /= 100, t /= 100; let o = 0, u = 0, d = 0; if (!e) o = u = d = t; else { const p = t < .5 ? t * (1 + e) : t + e - t * e, m = 2 * t - p; o = o_(m, p, n + 1 / 3), u = o_(m, p, n), d = o_(m, p, n - 1 / 3) } return { red: Math.round(o * 255), green: Math.round(u * 255), blue: Math.round(d * 255), alpha: i } } function wb(n, e) { return t => t > 0 ? e : n } const a_ = (n, e, t) => { const i = n * n, o = t * (e * e - i) + i; return o < 0 ? 0 : Math.sqrt(o) }, iz = [a1, Oh, jp], rz = n => iz.find(e => e.test(n)); function S2(n) { const e = rz(n); if (!e) return !1; let t = e.parse(n); return e === jp && (t = nz(t)), t } const A2 = (n, e) => { const t = S2(n), i = S2(e); if (!t || !i) return wb(n, e); const o = { ...t }; return u => (o.red = a_(t.red, i.red, u), o.green = a_(t.green, i.green, u), o.blue = a_(t.blue, i.blue, u), o.alpha = jn(t.alpha, i.alpha, u), Oh.transform(o)) }, sz = (n, e) => t => e(n(t)), Ey = (...n) => n.reduce(sz), d1 = new Set(["none", "hidden"]); function oz(n, e) { return d1.has(n) ? t => t <= 0 ? n : e : t => t >= 1 ? e : n } function az(n, e) { return t => jn(n, e, t) } function NT(n) { return typeof n == "number" ? az : typeof n == "string" ? hT(n) ? wb : wr.test(n) ? A2 : cz : Array.isArray(n) ? VP : typeof n == "object" ? wr.test(n) ? A2 : lz : wb } function VP(n, e) { const t = [...n], i = t.length, o = n.map((u, d) => NT(u)(u, e[d])); return u => { for (let d = 0; d < i; d++)t[d] = o[d](u); return t } } function lz(n, e) { const t = { ...n, ...e }, i = {}; for (const o in t) n[o] !== void 0 && e[o] !== void 0 && (i[o] = NT(n[o])(n[o], e[o])); return o => { for (const u in i) t[u] = i[u](o); return t } } function uz(n, e) { var t; const i = [], o = { color: 0, var: 0, number: 0 }; for (let u = 0; u < e.values.length; u++) { const d = e.types[u], p = n.indexes[d][o[d]], m = (t = n.values[p]) !== null && t !== void 0 ? t : 0; i[u] = m, o[d]++ } return i } const cz = (n, e) => { const t = id.createTransformer(e), i = Zv(n), o = Zv(e); return i.indexes.var.length === o.indexes.var.length && i.indexes.color.length === o.indexes.color.length && i.indexes.number.length >= o.indexes.number.length ? d1.has(n) && !o.values.length || d1.has(e) && !i.values.length ? oz(n, e) : Ey(VP(uz(i, o), o.values), t) : wb(n, e) }; function jP(n, e, t) { return typeof n == "number" && typeof e == "number" && typeof t == "number" ? jn(n, e, t) : NT(n)(n, e) } const dz = 5; function UP(n, e, t) { const i = Math.max(e - dz, 0); return hP(t - n(i), e - i) } const qn = { stiffness: 100, damping: 10, mass: 1, velocity: 0, duration: 800, bounce: .3, visualDuration: .3, restSpeed: { granular: .01, default: 2 }, restDelta: { granular: .005, default: .5 }, minDuration: .01, maxDuration: 10, minDamping: .05, maxDamping: 1 }, l_ = .001; function hz({ duration: n = qn.duration, bounce: e = qn.bounce, velocity: t = qn.velocity, mass: i = qn.mass }) { let o, u, d = 1 - e; d = Eu(qn.minDamping, qn.maxDamping, d), n = Eu(qn.minDuration, qn.maxDuration, mu(n)), d < 1 ? (o = y => { const w = y * d, E = w * n, C = w - t, N = h1(y, d), U = Math.exp(-E); return l_ - C / N * U }, u = y => { const E = y * d * n, C = E * t + t, N = Math.pow(d, 2) * Math.pow(y, 2) * n, U = Math.exp(-E), k = h1(Math.pow(y, 2), d); return (-o(y) + l_ > 0 ? -1 : 1) * ((C - N) * U) / k }) : (o = y => { const w = Math.exp(-y * n), E = (y - t) * n + 1; return -l_ + w * E }, u = y => { const w = Math.exp(-y * n), E = (t - y) * (n * n); return w * E }); const p = 5 / n, m = pz(o, u, p); if (n = pu(n), isNaN(m)) return { stiffness: qn.stiffness, damping: qn.damping, duration: n }; { const y = Math.pow(m, 2) * i; return { stiffness: y, damping: d * 2 * Math.sqrt(i * y), duration: n } } } const fz = 12; function pz(n, e, t) { let i = t; for (let o = 1; o < fz; o++)i = i - n(i) / e(i); return i } function h1(n, e) { return n * Math.sqrt(1 - e * e) } const mz = ["duration", "bounce"], gz = ["stiffness", "damping", "mass"]; function C2(n, e) { return e.some(t => n[t] !== void 0) } function vz(n) { let e = { velocity: qn.velocity, stiffness: qn.stiffness, damping: qn.damping, mass: qn.mass, isResolvedFromDuration: !1, ...n }; if (!C2(n, gz) && C2(n, mz)) if (n.visualDuration) { const t = n.visualDuration, i = 2 * Math.PI / (t * 1.2), o = i * i, u = 2 * Eu(.05, 1, 1 - (n.bounce || 0)) * Math.sqrt(o); e = { ...e, mass: qn.mass, stiffness: o, damping: u } } else { const t = hz(n); e = { ...e, ...t, mass: qn.mass }, e.isResolvedFromDuration = !0 } return e } function BP(n = qn.visualDuration, e = qn.bounce) { const t = typeof n != "object" ? { visualDuration: n, keyframes: [0, 1], bounce: e } : n; let { restSpeed: i, restDelta: o } = t; const u = t.keyframes[0], d = t.keyframes[t.keyframes.length - 1], p = { done: !1, value: u }, { stiffness: m, damping: y, mass: w, duration: E, velocity: C, isResolvedFromDuration: N } = vz({ ...t, velocity: -mu(t.velocity || 0) }), U = C || 0, k = y / (2 * Math.sqrt(m * w)), R = d - u, L = mu(Math.sqrt(m / w)), z = Math.abs(R) < 5; i || (i = z ? qn.restSpeed.granular : qn.restSpeed.default), o || (o = z ? qn.restDelta.granular : qn.restDelta.default); let $; if (k < 1) { const Q = h1(L, k); $ = re => { const F = Math.exp(-k * L * re); return d - F * ((U + k * L * R) / Q * Math.sin(Q * re) + R * Math.cos(Q * re)) } } else if (k === 1) $ = Q => d - Math.exp(-L * Q) * (R + (U + L * R) * Q); else { const Q = L * Math.sqrt(k * k - 1); $ = re => { const F = Math.exp(-k * L * re), V = Math.min(Q * re, 300); return d - F * ((U + k * L * R) * Math.sinh(V) + Q * R * Math.cosh(V)) / Q } } const J = { calculatedDuration: N && E || null, next: Q => { const re = $(Q); if (N) p.done = Q >= E; else { let F = 0; k < 1 && (F = Q === 0 ? pu(U) : UP($, Q, re)); const V = Math.abs(F) <= i, O = Math.abs(d - re) <= o; p.done = V && O } return p.value = p.done ? d : re, p }, toString: () => { const Q = Math.min(rP(J), r1), re = sP(F => J.next(Q * F).value, Q, 30); return Q + "ms " + re } }; return J } function x2({ keyframes: n, velocity: e = 0, power: t = .8, timeConstant: i = 325, bounceDamping: o = 10, bounceStiffness: u = 500, modifyTarget: d, min: p, max: m, restDelta: y = .5, restSpeed: w }) { const E = n[0], C = { done: !1, value: E }, N = V => p !== void 0 && V < p || m !== void 0 && V > m, U = V => p === void 0 ? m : m === void 0 || Math.abs(p - V) < Math.abs(m - V) ? p : m; let k = t * e; const R = E + k, L = d === void 0 ? R : d(R); L !== R && (k = L - E); const z = V => -k * Math.exp(-V / i), $ = V => L + z(V), J = V => { const O = z(V), q = $(V); C.done = Math.abs(O) <= y, C.value = C.done ? L : q }; let Q, re; const F = V => { N(C.value) && (Q = V, re = BP({ keyframes: [C.value, U(C.value)], velocity: UP($, V, C.value), damping: o, stiffness: u, restDelta: y, restSpeed: w })) }; return F(0), { calculatedDuration: null, next: V => { let O = !1; return !re && Q === void 0 && (O = !0, J(V), F(V)), Q !== void 0 && V >= Q ? re.next(V - Q) : (!O && J(V), C) } } } const yz = _y(.42, 0, 1, 1), bz = _y(0, 0, .58, 1), FP = _y(.42, 0, .58, 1), wz = n => Array.isArray(n) && typeof n[0] != "number", _z = { linear: Ms, easeIn: yz, easeInOut: FP, easeOut: bz, circIn: xT, circInOut: _P, circOut: wP, backIn: CT, backInOut: yP, backOut: vP, anticipate: bP }, R2 = n => { if (_T(n)) { jk(n.length === 4); const [e, t, i, o] = n; return _y(e, t, i, o) } else if (typeof n == "string") return _z[n]; return n }; function Ez(n, e, t) { const i = [], o = t || jP, u = n.length - 1; for (let d = 0; d < u; d++) { let p = o(n[d], n[d + 1]); if (e) { const m = Array.isArray(e) ? e[d] || Ms : e; p = Ey(m, p) } i.push(p) } return i } function Tz(n, e, { clamp: t = !0, ease: i, mixer: o } = {}) { const u = n.length; if (jk(u === e.length), u === 1) return () => e[0]; if (u === 2 && e[0] === e[1]) return () => e[1]; const d = n[0] === n[1]; n[0] > n[u - 1] && (n = [...n].reverse(), e = [...e].reverse()); const p = Ez(e, i, o), m = p.length, y = w => { if (d && w < n[0]) return e[0]; let E = 0; if (m > 1) for (; E < n.length - 2 && !(w < n[E + 1]); E++); const C = lm(n[E], n[E + 1], w); return p[E](C) }; return t ? w => y(Eu(n[0], n[u - 1], w)) : y } function Sz(n, e) { const t = n[n.length - 1]; for (let i = 1; i <= e; i++) { const o = lm(0, e, i); n.push(jn(t, 1, o)) } } function Az(n) { const e = [0]; return Sz(e, n.length - 1), e } function Cz(n, e) { return n.map(t => t * e) } function xz(n, e) { return n.map(() => e || FP).splice(0, n.length - 1) } function _b({ duration: n = 300, keyframes: e, times: t, ease: i = "easeInOut" }) { const o = wz(i) ? i.map(R2) : R2(i), u = { done: !1, value: e[0] }, d = Cz(t && t.length === e.length ? t : Az(e), n), p = Tz(d, e, { ease: Array.isArray(o) ? o : xz(e, o) }); return { calculatedDuration: n, next: m => (u.value = p(m), u.done = m >= n, u) } } const Rz = n => { const e = ({ timestamp: t }) => n(t); return { start: () => Sn.update(e, !0), stop: () => nd(e), now: () => Qi.isProcessing ? Qi.timestamp : sl.now() } }, Iz = { decay: x2, inertia: x2, tween: _b, keyframes: _b, spring: BP }, kz = n => n / 100; class MT extends LP { constructor(e) { super(e), this.holdTime = null, this.cancelTime = null, this.currentTime = 0, this.playbackSpeed = 1, this.pendingPlayState = "running", this.startTime = null, this.state = "idle", this.stop = () => { if (this.resolver.cancel(), this.isStopped = !0, this.state === "idle") return; this.teardown(); const { onStop: m } = this.options; m && m() }; const { name: t, motionValue: i, element: o, keyframes: u } = this.options, d = o?.KeyframeResolver || PT, p = (m, y) => this.onKeyframesResolved(m, y); this.resolver = new d(u, p, t, i, o), this.resolver.scheduleResolve() } flatten() { super.flatten(), this._resolved && Object.assign(this._resolved, this.initPlayback(this._resolved.keyframes)) } initPlayback(e) { const { type: t = "keyframes", repeat: i = 0, repeatDelay: o = 0, repeatType: u, velocity: d = 0 } = this.options, p = wT(t) ? t : Iz[t] || _b; let m, y; p !== _b && typeof e[0] != "number" && (m = Ey(kz, jP(e[0], e[1])), e = [0, 100]); const w = p({ ...this.options, keyframes: e }); u === "mirror" && (y = p({ ...this.options, keyframes: [...e].reverse(), velocity: -d })), w.calculatedDuration === null && (w.calculatedDuration = rP(w)); const { calculatedDuration: E } = w, C = E + o, N = C * (i + 1) - o; return { generator: w, mirroredGenerator: y, mapPercentToKeyframes: m, calculatedDuration: E, resolvedDuration: C, totalDuration: N } } onPostResolved() { const { autoplay: e = !0 } = this.options; this.play(), this.pendingPlayState === "paused" || !e ? this.pause() : this.state = this.pendingPlayState } tick(e, t = !1) { const { resolved: i } = this; if (!i) { const { keyframes: V } = this.options; return { done: !0, value: V[V.length - 1] } } const { finalKeyframe: o, generator: u, mirroredGenerator: d, mapPercentToKeyframes: p, keyframes: m, calculatedDuration: y, totalDuration: w, resolvedDuration: E } = i; if (this.startTime === null) return u.next(0); const { delay: C, repeat: N, repeatType: U, repeatDelay: k, onUpdate: R } = this.options; this.speed > 0 ? this.startTime = Math.min(this.startTime, e) : this.speed < 0 && (this.startTime = Math.min(e - w / this.speed, this.startTime)), t ? this.currentTime = e : this.holdTime !== null ? this.currentTime = this.holdTime : this.currentTime = Math.round(e - this.startTime) * this.speed; const L = this.currentTime - C * (this.speed >= 0 ? 1 : -1), z = this.speed >= 0 ? L < 0 : L > w; this.currentTime = Math.max(L, 0), this.state === "finished" && this.holdTime === null && (this.currentTime = w); let $ = this.currentTime, J = u; if (N) { const V = Math.min(this.currentTime, w) / E; let O = Math.floor(V), q = V % 1; !q && V >= 1 && (q = 1), q === 1 && O--, O = Math.min(O, N + 1), !!(O % 2) && (U === "reverse" ? (q = 1 - q, k && (q -= k / E)) : U === "mirror" && (J = d)), $ = Eu(0, 1, q) * E } const Q = z ? { done: !1, value: m[0] } : J.next($); p && (Q.value = p(Q.value)); let { done: re } = Q; !z && y !== null && (re = this.speed >= 0 ? this.currentTime >= w : this.currentTime <= 0); const F = this.holdTime === null && (this.state === "finished" || this.state === "running" && re); return F && o !== void 0 && (Q.value = cw(m, this.options, o)), R && R(Q.value), F && this.finish(), Q } get duration() { const { resolved: e } = this; return e ? mu(e.calculatedDuration) : 0 } get time() { return mu(this.currentTime) } set time(e) { e = pu(e), this.currentTime = e, this.holdTime !== null || this.speed === 0 ? this.holdTime = e : this.driver && (this.startTime = this.driver.now() - e / this.speed) } get speed() { return this.playbackSpeed } set speed(e) { const t = this.playbackSpeed !== e; this.playbackSpeed = e, t && (this.time = mu(this.currentTime)) } play() { if (this.resolver.isScheduled || this.resolver.resume(), !this._resolved) { this.pendingPlayState = "running"; return } if (this.isStopped) return; const { driver: e = Rz, onPlay: t, startTime: i } = this.options; this.driver || (this.driver = e(u => this.tick(u))), t && t(); const o = this.driver.now(); this.holdTime !== null ? this.startTime = o - this.holdTime : this.startTime ? this.state === "finished" && (this.startTime = o) : this.startTime = i ?? this.calcStartTime(), this.state === "finished" && this.updateFinishedPromise(), this.cancelTime = this.startTime, this.holdTime = null, this.state = "running", this.driver.start() } pause() { var e; if (!this._resolved) { this.pendingPlayState = "paused"; return } this.state = "paused", this.holdTime = (e = this.currentTime) !== null && e !== void 0 ? e : 0 } complete() { this.state !== "running" && this.play(), this.pendingPlayState = this.state = "finished", this.holdTime = null } finish() { this.teardown(), this.state = "finished"; const { onComplete: e } = this.options; e && e() } cancel() { this.cancelTime !== null && this.tick(this.cancelTime), this.teardown(), this.updateFinishedPromise() } teardown() { this.state = "idle", this.stopDriver(), this.resolveFinishedPromise(), this.updateFinishedPromise(), this.startTime = this.cancelTime = null, this.resolver.cancel() } stopDriver() { this.driver && (this.driver.stop(), this.driver = void 0) } sample(e) { return this.startTime = 0, this.tick(e, !0) } } const Pz = new Set(["opacity", "clipPath", "filter", "transform"]); function Nz(n, e, t, { delay: i = 0, duration: o = 300, repeat: u = 0, repeatType: d = "loop", ease: p = "easeInOut", times: m } = {}) { const y = { [e]: t }; m && (y.offset = m); const w = aP(p, o); return Array.isArray(w) && (y.easing = w), n.animate(y, { delay: i, duration: o, easing: Array.isArray(w) ? "linear" : w, fill: "both", iterations: u + 1, direction: d === "reverse" ? "alternate" : "normal" }) } const Mz = sT(() => Object.hasOwnProperty.call(Element.prototype, "animate")), Eb = 10, Dz = 2e4; function Oz(n) { return wT(n.type) || n.type === "spring" || !oP(n.ease) } function Lz(n, e) { const t = new MT({ ...e, keyframes: n, repeat: 0, delay: 0, isGenerator: !0 }); let i = { done: !1, value: n[0] }; const o = []; let u = 0; for (; !i.done && u < Dz;)i = t.sample(u), o.push(i.value), u += Eb; return { times: void 0, keyframes: o, duration: u - Eb, ease: "linear" } } const zP = { anticipate: bP, backInOut: yP, circInOut: _P }; function Vz(n) { return n in zP } class I2 extends LP { constructor(e) { super(e); const { name: t, motionValue: i, element: o, keyframes: u } = this.options; this.resolver = new OP(u, (d, p) => this.onKeyframesResolved(d, p), t, i, o), this.resolver.scheduleResolve() } initPlayback(e, t) { let { duration: i = 300, times: o, ease: u, type: d, motionValue: p, name: m, startTime: y } = this.options; if (!p.owner || !p.owner.current) return !1; if (typeof u == "string" && bb() && Vz(u) && (u = zP[u]), Oz(this.options)) { const { onComplete: E, onUpdate: C, motionValue: N, element: U, ...k } = this.options, R = Lz(e, k); e = R.keyframes, e.length === 1 && (e[1] = e[0]), i = R.duration, o = R.times, u = R.ease, d = "keyframes" } const w = Nz(p.owner.current, m, e, { ...this.options, duration: i, times: o, ease: u }); return w.startTime = y ?? this.calcStartTime(), this.pendingTimeline ? (f2(w, this.pendingTimeline), this.pendingTimeline = void 0) : w.onfinish = () => { const { onComplete: E } = this.options; p.set(cw(e, this.options, t)), E && E(), this.cancel(), this.resolveFinishedPromise() }, { animation: w, duration: i, times: o, type: d, ease: u, keyframes: e } } get duration() { const { resolved: e } = this; if (!e) return 0; const { duration: t } = e; return mu(t) } get time() { const { resolved: e } = this; if (!e) return 0; const { animation: t } = e; return mu(t.currentTime || 0) } set time(e) { const { resolved: t } = this; if (!t) return; const { animation: i } = t; i.currentTime = pu(e) } get speed() { const { resolved: e } = this; if (!e) return 1; const { animation: t } = e; return t.playbackRate } set speed(e) { const { resolved: t } = this; if (!t) return; const { animation: i } = t; i.playbackRate = e } get state() { const { resolved: e } = this; if (!e) return "idle"; const { animation: t } = e; return t.playState } get startTime() { const { resolved: e } = this; if (!e) return null; const { animation: t } = e; return t.startTime } attachTimeline(e) { if (!this._resolved) this.pendingTimeline = e; else { const { resolved: t } = this; if (!t) return Ms; const { animation: i } = t; f2(i, e) } return Ms } play() { if (this.isStopped) return; const { resolved: e } = this; if (!e) return; const { animation: t } = e; t.playState === "finished" && this.updateFinishedPromise(), t.play() } pause() { const { resolved: e } = this; if (!e) return; const { animation: t } = e; t.pause() } stop() { if (this.resolver.cancel(), this.isStopped = !0, this.state === "idle") return; this.resolveFinishedPromise(), this.updateFinishedPromise(); const { resolved: e } = this; if (!e) return; const { animation: t, keyframes: i, duration: o, type: u, ease: d, times: p } = e; if (t.playState === "idle" || t.playState === "finished") return; if (this.time) { const { motionValue: y, onUpdate: w, onComplete: E, element: C, ...N } = this.options, U = new MT({ ...N, keyframes: i, duration: o, type: u, ease: d, times: p, isGenerator: !0 }), k = pu(this.time); y.setWithVelocity(U.sample(k - Eb).value, U.sample(k).value, Eb) } const { onStop: m } = this.options; m && m(), this.cancel() } complete() { const { resolved: e } = this; e && e.animation.finish() } cancel() { const { resolved: e } = this; e && e.animation.cancel() } static supports(e) { const { motionValue: t, name: i, repeatDelay: o, repeatType: u, damping: d, type: p } = e; if (!t || !t.owner || !(t.owner.current instanceof HTMLElement)) return !1; const { onUpdate: m, transformTemplate: y } = t.owner.getProps(); return Mz() && i && Pz.has(i) && !m && !y && !o && u !== "mirror" && d !== 0 && p !== "inertia" } } const jz = { type: "spring", stiffness: 500, damping: 25, restSpeed: 10 }, Uz = n => ({ type: "spring", stiffness: 550, damping: n === 0 ? 2 * Math.sqrt(550) : 30, restSpeed: 10 }), Bz = { type: "keyframes", duration: .8 }, Fz = { type: "keyframes", ease: [.25, .1, .35, 1], duration: .3 }, zz = (n, { keyframes: e }) => e.length > 2 ? Bz : nf.has(n) ? n.startsWith("scale") ? Uz(e[1]) : jz : Fz; function Hz({ when: n, delay: e, delayChildren: t, staggerChildren: i, staggerDirection: o, repeat: u, repeatType: d, repeatDelay: p, from: m, elapsed: y, ...w }) { return !!Object.keys(w).length } const DT = (n, e, t, i = {}, o, u) => d => { const p = bT(i, n) || {}, m = p.delay || i.delay || 0; let { elapsed: y = 0 } = i; y = y - pu(m); let w = { keyframes: Array.isArray(t) ? t : [null, t], ease: "easeOut", velocity: e.getVelocity(), ...p, delay: -y, onUpdate: C => { e.set(C), p.onUpdate && p.onUpdate(C) }, onComplete: () => { d(), p.onComplete && p.onComplete() }, name: n, motionValue: e, element: u ? void 0 : o }; Hz(p) || (w = { ...w, ...zz(n, w) }), w.duration && (w.duration = pu(w.duration)), w.repeatDelay && (w.repeatDelay = pu(w.repeatDelay)), w.from !== void 0 && (w.keyframes[0] = w.from); let E = !1; if ((w.type === !1 || w.duration === 0 && !w.repeatDelay) && (w.duration = 0, w.delay === 0 && (E = !0)), E && !u && e.get() !== void 0) { const C = cw(w.keyframes, p); if (C !== void 0) return Sn.update(() => { w.onUpdate(C), w.onComplete() }), new l7([]) } return !u && I2.supports(w) ? new I2(w) : new MT(w) }; function qz({ protectedKeys: n, needsAnimating: e }, t) { const i = n.hasOwnProperty(t) && e[t] !== !0; return e[t] = !1, i } function HP(n, e, { delay: t = 0, transitionOverride: i, type: o } = {}) { var u; let { transition: d = n.getDefaultTransition(), transitionEnd: p, ...m } = e; i && (d = i); const y = [], w = o && n.animationState && n.animationState.getState()[o]; for (const E in m) { const C = n.getValue(E, (u = n.latestValues[E]) !== null && u !== void 0 ? u : null), N = m[E]; if (N === void 0 || w && qz(w, E)) continue; const U = { delay: t, ...bT(d || {}, E) }; let k = !1; if (window.MotionHandoffAnimation) { const L = fP(n); if (L) { const z = window.MotionHandoffAnimation(L, E, Sn); z !== null && (U.startTime = z, k = !0) } } o1(n, E), C.start(DT(E, C, N, n.shouldReduceMotion && dP.has(E) ? { type: !1 } : U, n, k)); const R = C.animation; R && y.push(R) } return p && Promise.all(y).then(() => { Sn.update(() => { p && E7(n, p) }) }), y } function f1(n, e, t = {}) { var i; const o = uw(n, e, t.type === "exit" ? (i = n.presenceContext) === null || i === void 0 ? void 0 : i.custom : void 0); let { transition: u = n.getDefaultTransition() || {} } = o || {}; t.transitionOverride && (u = t.transitionOverride); const d = o ? () => Promise.all(HP(n, o, t)) : () => Promise.resolve(), p = n.variantChildren && n.variantChildren.size ? (y = 0) => { const { delayChildren: w = 0, staggerChildren: E, staggerDirection: C } = u; return Gz(n, e, w + y, E, C, t) } : () => Promise.resolve(), { when: m } = u; if (m) { const [y, w] = m === "beforeChildren" ? [d, p] : [p, d]; return y().then(() => w()) } else return Promise.all([d(), p(t.delay)]) } function Gz(n, e, t = 0, i = 0, o = 1, u) { const d = [], p = (n.variantChildren.size - 1) * i, m = o === 1 ? (y = 0) => y * i : (y = 0) => p - y * i; return Array.from(n.variantChildren).sort(Kz).forEach((y, w) => { y.notify("AnimationStart", e), d.push(f1(y, e, { ...u, delay: t + m(w) }).then(() => y.notify("AnimationComplete", e))) }), Promise.all(d) } function Kz(n, e) { return n.sortNodePosition(e) } function $z(n, e, t = {}) { n.notify("AnimationStart", e); let i; if (Array.isArray(e)) { const o = e.map(u => f1(n, u, t)); i = Promise.all(o) } else if (typeof e == "string") i = f1(n, e, t); else { const o = typeof e == "function" ? uw(n, e, t.custom) : e; i = Promise.all(HP(n, o, t)) } return i.then(() => { n.notify("AnimationComplete", e) }) } const Wz = aT.length; function qP(n) { if (!n) return; if (!n.isControllingVariants) { const t = n.parent ? qP(n.parent) || {} : {}; return n.props.initial !== void 0 && (t.initial = n.props.initial), t } const e = {}; for (let t = 0; t < Wz; t++) { const i = aT[t], o = n.props[i]; (Xv(o) || o === !1) && (e[i] = o) } return e } const Yz = [...oT].reverse(), Xz = oT.length; function Qz(n) { return e => Promise.all(e.map(({ animation: t, options: i }) => $z(n, t, i))) } function Jz(n) { let e = Qz(n), t = k2(), i = !0; const o = m => (y, w) => { var E; const C = uw(n, w, m === "exit" ? (E = n.presenceContext) === null || E === void 0 ? void 0 : E.custom : void 0); if (C) { const { transition: N, transitionEnd: U, ...k } = C; y = { ...y, ...k, ...U } } return y }; function u(m) { e = m(n) } function d(m) { const { props: y } = n, w = qP(n.parent) || {}, E = [], C = new Set; let N = {}, U = 1 / 0; for (let R = 0; R < Xz; R++) { const L = Yz[R], z = t[L], $ = y[L] !== void 0 ? y[L] : w[L], J = Xv($), Q = L === m ? z.isActive : null; Q === !1 && (U = R); let re = $ === w[L] && $ !== y[L] && J; if (re && i && n.manuallyAnimateOnMount && (re = !1), z.protectedKeys = { ...N }, !z.isActive && Q === null || !$ && !z.prevProp || aw($) || typeof $ == "boolean") continue; const F = Zz(z.prevProp, $); let V = F || L === m && z.isActive && !re && J || R > U && J, O = !1; const q = Array.isArray($) ? $ : [$]; let G = q.reduce(o(L), {}); Q === !1 && (G = {}); const { prevResolvedValues: K = {} } = z, H = { ...K, ...G }, ce = fe => { V = !0, C.has(fe) && (O = !0, C.delete(fe)), z.needsAnimating[fe] = !0; const _e = n.getValue(fe); _e && (_e.liveStyle = !1) }; for (const fe in H) { const _e = G[fe], Ie = K[fe]; if (N.hasOwnProperty(fe)) continue; let X = !1; i1(_e) && i1(Ie) ? X = !iP(_e, Ie) : X = _e !== Ie, X ? _e != null ? ce(fe) : C.add(fe) : _e !== void 0 && C.has(fe) ? ce(fe) : z.protectedKeys[fe] = !0 } z.prevProp = $, z.prevResolvedValues = G, z.isActive && (N = { ...N, ...G }), i && n.blockInitialAnimation && (V = !1), V && (!(re && F) || O) && E.push(...q.map(fe => ({ animation: fe, options: { type: L } }))) } if (C.size) { const R = {}; C.forEach(L => { const z = n.getBaseTarget(L), $ = n.getValue(L); $ && ($.liveStyle = !0), R[L] = z ?? null }), E.push({ animation: R }) } let k = !!E.length; return i && (y.initial === !1 || y.initial === y.animate) && !n.manuallyAnimateOnMount && (k = !1), i = !1, k ? e(E) : Promise.resolve() } function p(m, y) { var w; if (t[m].isActive === y) return Promise.resolve(); (w = n.variantChildren) === null || w === void 0 || w.forEach(C => { var N; return (N = C.animationState) === null || N === void 0 ? void 0 : N.setActive(m, y) }), t[m].isActive = y; const E = d(m); for (const C in t) t[C].protectedKeys = {}; return E } return { animateChanges: d, setActive: p, setAnimateFunction: u, getState: () => t, reset: () => { t = k2(), i = !0 } } } function Zz(n, e) { return typeof e == "string" ? e !== n : Array.isArray(e) ? !iP(e, n) : !1 } function Ih(n = !1) { return { isActive: n, protectedKeys: {}, needsAnimating: {}, prevResolvedValues: {} } } function k2() { return { animate: Ih(!0), whileInView: Ih(), whileHover: Ih(), whileTap: Ih(), whileDrag: Ih(), whileFocus: Ih(), exit: Ih() } } class od { constructor(e) { this.isMounted = !1, this.node = e } update() { } } class eH extends od { constructor(e) { super(e), e.animationState || (e.animationState = Jz(e)) } updateAnimationControlsSubscription() { const { animate: e } = this.node.getProps(); aw(e) && (this.unmountControls = e.subscribe(this.node)) } mount() { this.updateAnimationControlsSubscription() } update() { const { animate: e } = this.node.getProps(), { animate: t } = this.node.prevProps || {}; e !== t && this.updateAnimationControlsSubscription() } unmount() { var e; this.node.animationState.reset(), (e = this.unmountControls) === null || e === void 0 || e.call(this) } } let tH = 0; class nH extends od { constructor() { super(...arguments), this.id = tH++ } update() { if (!this.node.presenceContext) return; const { isPresent: e, onExitComplete: t } = this.node.presenceContext, { isPresent: i } = this.node.prevPresenceContext || {}; if (!this.node.animationState || e === i) return; const o = this.node.animationState.setActive("exit", !e); t && !e && o.then(() => t(this.id)) } mount() { const { register: e } = this.node.presenceContext || {}; e && (this.unmount = e(this.id)) } unmount() { } } const iH = { animation: { Feature: eH }, exit: { Feature: nH } }; function ey(n, e, t, i = { passive: !0 }) { return n.addEventListener(e, t, i), () => n.removeEventListener(e, t) } function Ty(n) { return { point: { x: n.pageX, y: n.pageY } } } const rH = n => e => ET(e) && n(e, Ty(e)); function kv(n, e, t, i) { return ey(n, e, rH(t), i) } const P2 = (n, e) => Math.abs(n - e); function sH(n, e) { const t = P2(n.x, e.x), i = P2(n.y, e.y); return Math.sqrt(t ** 2 + i ** 2) } class GP { constructor(e, t, { transformPagePoint: i, contextWindow: o, dragSnapToOrigin: u = !1 } = {}) { if (this.startEvent = null, this.lastMoveEvent = null, this.lastMoveEventInfo = null, this.handlers = {}, this.contextWindow = window, this.updatePoint = () => { if (!(this.lastMoveEvent && this.lastMoveEventInfo)) return; const E = c_(this.lastMoveEventInfo, this.history), C = this.startEvent !== null, N = sH(E.offset, { x: 0, y: 0 }) >= 3; if (!C && !N) return; const { point: U } = E, { timestamp: k } = Qi; this.history.push({ ...U, timestamp: k }); const { onStart: R, onMove: L } = this.handlers; C || (R && R(this.lastMoveEvent, E), this.startEvent = this.lastMoveEvent), L && L(this.lastMoveEvent, E) }, this.handlePointerMove = (E, C) => { this.lastMoveEvent = E, this.lastMoveEventInfo = u_(C, this.transformPagePoint), Sn.update(this.updatePoint, !0) }, this.handlePointerUp = (E, C) => { this.end(); const { onEnd: N, onSessionEnd: U, resumeAnimation: k } = this.handlers; if (this.dragSnapToOrigin && k && k(), !(this.lastMoveEvent && this.lastMoveEventInfo)) return; const R = c_(E.type === "pointercancel" ? this.lastMoveEventInfo : u_(C, this.transformPagePoint), this.history); this.startEvent && N && N(E, R), U && U(E, R) }, !ET(e)) return; this.dragSnapToOrigin = u, this.handlers = t, this.transformPagePoint = i, this.contextWindow = o || window; const d = Ty(e), p = u_(d, this.transformPagePoint), { point: m } = p, { timestamp: y } = Qi; this.history = [{ ...m, timestamp: y }]; const { onSessionStart: w } = t; w && w(e, c_(p, this.history)), this.removeListeners = Ey(kv(this.contextWindow, "pointermove", this.handlePointerMove), kv(this.contextWindow, "pointerup", this.handlePointerUp), kv(this.contextWindow, "pointercancel", this.handlePointerUp)) } updateHandlers(e) { this.handlers = e } end() { this.removeListeners && this.removeListeners(), nd(this.updatePoint) } } function u_(n, e) { return e ? { point: e(n.point) } : n } function N2(n, e) { return { x: n.x - e.x, y: n.y - e.y } } function c_({ point: n }, e) { return { point: n, delta: N2(n, KP(e)), offset: N2(n, oH(e)), velocity: aH(e, .1) } } function oH(n) { return n[0] } function KP(n) { return n[n.length - 1] } function aH(n, e) { if (n.length < 2) return { x: 0, y: 0 }; let t = n.length - 1, i = null; const o = KP(n); for (; t >= 0 && (i = n[t], !(o.timestamp - i.timestamp > pu(e)));)t--; if (!i) return { x: 0, y: 0 }; const u = mu(o.timestamp - i.timestamp); if (u === 0) return { x: 0, y: 0 }; const d = { x: (o.x - i.x) / u, y: (o.y - i.y) / u }; return d.x === 1 / 0 && (d.x = 0), d.y === 1 / 0 && (d.y = 0), d } const $P = 1e-4, lH = 1 - $P, uH = 1 + $P, WP = .01, cH = 0 - WP, dH = 0 + WP; function Ds(n) { return n.max - n.min } function hH(n, e, t) { return Math.abs(n - e) <= t } function M2(n, e, t, i = .5) { n.origin = i, n.originPoint = jn(e.min, e.max, n.origin), n.scale = Ds(t) / Ds(e), n.translate = jn(t.min, t.max, n.origin) - n.originPoint, (n.scale >= lH && n.scale <= uH || isNaN(n.scale)) && (n.scale = 1), (n.translate >= cH && n.translate <= dH || isNaN(n.translate)) && (n.translate = 0) } function Pv(n, e, t, i) { M2(n.x, e.x, t.x, i ? i.originX : void 0), M2(n.y, e.y, t.y, i ? i.originY : void 0) } function D2(n, e, t) { n.min = t.min + e.min, n.max = n.min + Ds(e) } function fH(n, e, t) { D2(n.x, e.x, t.x), D2(n.y, e.y, t.y) } function O2(n, e, t) { n.min = e.min - t.min, n.max = n.min + Ds(e) } function Nv(n, e, t) { O2(n.x, e.x, t.x), O2(n.y, e.y, t.y) } function pH(n, { min: e, max: t }, i) { return e !== void 0 && n < e ? n = i ? jn(e, n, i.min) : Math.max(n, e) : t !== void 0 && n > t && (n = i ? jn(t, n, i.max) : Math.min(n, t)), n } function L2(n, e, t) { return { min: e !== void 0 ? n.min + e : void 0, max: t !== void 0 ? n.max + t - (n.max - n.min) : void 0 } } function mH(n, { top: e, left: t, bottom: i, right: o }) { return { x: L2(n.x, t, o), y: L2(n.y, e, i) } } function V2(n, e) { let t = e.min - n.min, i = e.max - n.max; return e.max - e.min < n.max - n.min && ([t, i] = [i, t]), { min: t, max: i } } function gH(n, e) { return { x: V2(n.x, e.x), y: V2(n.y, e.y) } } function vH(n, e) { let t = .5; const i = Ds(n), o = Ds(e); return o > i ? t = lm(e.min, e.max - i, n.min) : i > o && (t = lm(n.min, n.max - o, e.min)), Eu(0, 1, t) } function yH(n, e) { const t = {}; return e.min !== void 0 && (t.min = e.min - n.min), e.max !== void 0 && (t.max = e.max - n.min), t } const p1 = .35; function bH(n = p1) { return n === !1 ? n = 0 : n === !0 && (n = p1), { x: j2(n, "left", "right"), y: j2(n, "top", "bottom") } } function j2(n, e, t) { return { min: U2(n, e), max: U2(n, t) } } function U2(n, e) { return typeof n == "number" ? n : n[e] || 0 } const B2 = () => ({ translate: 0, scale: 1, origin: 0, originPoint: 0 }), Up = () => ({ x: B2(), y: B2() }), F2 = () => ({ min: 0, max: 0 }), ii = () => ({ x: F2(), y: F2() }); function fo(n) { return [n("x"), n("y")] } function YP({ top: n, left: e, right: t, bottom: i }) { return { x: { min: e, max: t }, y: { min: n, max: i } } } function wH({ x: n, y: e }) { return { top: e.min, right: n.max, bottom: e.max, left: n.min } } function _H(n, e) { if (!e) return n; const t = e({ x: n.left, y: n.top }), i = e({ x: n.right, y: n.bottom }); return { top: t.y, left: t.x, bottom: i.y, right: i.x } } function d_(n) { return n === void 0 || n === 1 } function m1({ scale: n, scaleX: e, scaleY: t }) { return !d_(n) || !d_(e) || !d_(t) } function Ph(n) { return m1(n) || XP(n) || n.z || n.rotate || n.rotateX || n.rotateY || n.skewX || n.skewY } function XP(n) { return z2(n.x) || z2(n.y) } function z2(n) { return n && n !== "0%" } function Tb(n, e, t) { const i = n - t, o = e * i; return t + o } function H2(n, e, t, i, o) { return o !== void 0 && (n = Tb(n, o, i)), Tb(n, t, i) + e } function g1(n, e = 0, t = 1, i, o) { n.min = H2(n.min, e, t, i, o), n.max = H2(n.max, e, t, i, o) } function QP(n, { x: e, y: t }) { g1(n.x, e.translate, e.scale, e.originPoint), g1(n.y, t.translate, t.scale, t.originPoint) } const q2 = .999999999999, G2 = 1.0000000000001; function EH(n, e, t, i = !1) { const o = t.length; if (!o) return; e.x = e.y = 1; let u, d; for (let p = 0; p < o; p++) { u = t[p], d = u.projectionDelta; const { visualElement: m } = u.options; m && m.props.style && m.props.style.display === "contents" || (i && u.options.layoutScroll && u.scroll && u !== u.root && Fp(n, { x: -u.scroll.offset.x, y: -u.scroll.offset.y }), d && (e.x *= d.x.scale, e.y *= d.y.scale, QP(n, d)), i && Ph(u.latestValues) && Fp(n, u.latestValues)) } e.x < G2 && e.x > q2 && (e.x = 1), e.y < G2 && e.y > q2 && (e.y = 1) } function Bp(n, e) { n.min = n.min + e, n.max = n.max + e } function K2(n, e, t, i, o = .5) { const u = jn(n.min, n.max, o); g1(n, e, t, u, i) } function Fp(n, e) { K2(n.x, e.x, e.scaleX, e.scale, e.originX), K2(n.y, e.y, e.scaleY, e.scale, e.originY) } function JP(n, e) { return YP(_H(n.getBoundingClientRect(), e)) } function TH(n, e, t) { const i = JP(n, t), { scroll: o } = e; return o && (Bp(i.x, o.offset.x), Bp(i.y, o.offset.y)), i } const ZP = ({ current: n }) => n ? n.ownerDocument.defaultView : null, SH = new WeakMap; class AH { constructor(e) { this.openDragLock = null, this.isDragging = !1, this.currentDirection = null, this.originPoint = { x: 0, y: 0 }, this.constraints = !1, this.hasMutatedConstraints = !1, this.elastic = ii(), this.visualElement = e } start(e, { snapToCursor: t = !1 } = {}) { const { presenceContext: i } = this.visualElement; if (i && i.isPresent === !1) return; const o = w => { const { dragSnapToOrigin: E } = this.getProps(); E ? this.pauseAnimation() : this.stopAnimation(), t && this.snapToCursor(Ty(w).point) }, u = (w, E) => { const { drag: C, dragPropagation: N, onDragStart: U } = this.getProps(); if (C && !N && (this.openDragLock && this.openDragLock(), this.openDragLock = v7(C), !this.openDragLock)) return; this.isDragging = !0, this.currentDirection = null, this.resolveConstraints(), this.visualElement.projection && (this.visualElement.projection.isAnimationBlocked = !0, this.visualElement.projection.target = void 0), fo(R => { let L = this.getAxisMotionValue(R).get() || 0; if (rl.test(L)) { const { projection: z } = this.visualElement; if (z && z.layout) { const $ = z.layout.layoutBox[R]; $ && (L = Ds($) * (parseFloat(L) / 100)) } } this.originPoint[R] = L }), U && Sn.postRender(() => U(w, E)), o1(this.visualElement, "transform"); const { animationState: k } = this.visualElement; k && k.setActive("whileDrag", !0) }, d = (w, E) => { const { dragPropagation: C, dragDirectionLock: N, onDirectionLock: U, onDrag: k } = this.getProps(); if (!C && !this.openDragLock) return; const { offset: R } = E; if (N && this.currentDirection === null) { this.currentDirection = CH(R), this.currentDirection !== null && U && U(this.currentDirection); return } this.updateAxis("x", E.point, R), this.updateAxis("y", E.point, R), this.visualElement.render(), k && k(w, E) }, p = (w, E) => this.stop(w, E), m = () => fo(w => { var E; return this.getAnimationState(w) === "paused" && ((E = this.getAxisMotionValue(w).animation) === null || E === void 0 ? void 0 : E.play()) }), { dragSnapToOrigin: y } = this.getProps(); this.panSession = new GP(e, { onSessionStart: o, onStart: u, onMove: d, onSessionEnd: p, resumeAnimation: m }, { transformPagePoint: this.visualElement.getTransformPagePoint(), dragSnapToOrigin: y, contextWindow: ZP(this.visualElement) }) } stop(e, t) { const i = this.isDragging; if (this.cancel(), !i) return; const { velocity: o } = t; this.startAnimation(o); const { onDragEnd: u } = this.getProps(); u && Sn.postRender(() => u(e, t)) } cancel() { this.isDragging = !1; const { projection: e, animationState: t } = this.visualElement; e && (e.isAnimationBlocked = !1), this.panSession && this.panSession.end(), this.panSession = void 0; const { dragPropagation: i } = this.getProps(); !i && this.openDragLock && (this.openDragLock(), this.openDragLock = null), t && t.setActive("whileDrag", !1) } updateAxis(e, t, i) { const { drag: o } = this.getProps(); if (!i || !P0(e, o, this.currentDirection)) return; const u = this.getAxisMotionValue(e); let d = this.originPoint[e] + i[e]; this.constraints && this.constraints[e] && (d = pH(d, this.constraints[e], this.elastic[e])), u.set(d) } resolveConstraints() { var e; const { dragConstraints: t, dragElastic: i } = this.getProps(), o = this.visualElement.projection && !this.visualElement.projection.layout ? this.visualElement.projection.measure(!1) : (e = this.visualElement.projection) === null || e === void 0 ? void 0 : e.layout, u = this.constraints; t && Vp(t) ? this.constraints || (this.constraints = this.resolveRefConstraints()) : t && o ? this.constraints = mH(o.layoutBox, t) : this.constraints = !1, this.elastic = bH(i), u !== this.constraints && o && this.constraints && !this.hasMutatedConstraints && fo(d => { this.constraints !== !1 && this.getAxisMotionValue(d) && (this.constraints[d] = yH(o.layoutBox[d], this.constraints[d])) }) } resolveRefConstraints() { const { dragConstraints: e, onMeasureDragConstraints: t } = this.getProps(); if (!e || !Vp(e)) return !1; const i = e.current, { projection: o } = this.visualElement; if (!o || !o.layout) return !1; const u = TH(i, o.root, this.visualElement.getTransformPagePoint()); let d = gH(o.layout.layoutBox, u); if (t) { const p = t(wH(d)); this.hasMutatedConstraints = !!p, p && (d = YP(p)) } return d } startAnimation(e) { const { drag: t, dragMomentum: i, dragElastic: o, dragTransition: u, dragSnapToOrigin: d, onDragTransitionEnd: p } = this.getProps(), m = this.constraints || {}, y = fo(w => { if (!P0(w, t, this.currentDirection)) return; let E = m && m[w] || {}; d && (E = { min: 0, max: 0 }); const C = o ? 200 : 1e6, N = o ? 40 : 1e7, U = { type: "inertia", velocity: i ? e[w] : 0, bounceStiffness: C, bounceDamping: N, timeConstant: 750, restDelta: 1, restSpeed: 10, ...u, ...E }; return this.startAxisValueAnimation(w, U) }); return Promise.all(y).then(p) } startAxisValueAnimation(e, t) { const i = this.getAxisMotionValue(e); return o1(this.visualElement, e), i.start(DT(e, i, 0, t, this.visualElement, !1)) } stopAnimation() { fo(e => this.getAxisMotionValue(e).stop()) } pauseAnimation() { fo(e => { var t; return (t = this.getAxisMotionValue(e).animation) === null || t === void 0 ? void 0 : t.pause() }) } getAnimationState(e) { var t; return (t = this.getAxisMotionValue(e).animation) === null || t === void 0 ? void 0 : t.state } getAxisMotionValue(e) { const t = `_drag${e.toUpperCase()}`, i = this.visualElement.getProps(), o = i[t]; return o || this.visualElement.getValue(e, (i.initial ? i.initial[e] : void 0) || 0) } snapToCursor(e) { fo(t => { const { drag: i } = this.getProps(); if (!P0(t, i, this.currentDirection)) return; const { projection: o } = this.visualElement, u = this.getAxisMotionValue(t); if (o && o.layout) { const { min: d, max: p } = o.layout.layoutBox[t]; u.set(e[t] - jn(d, p, .5)) } }) } scalePositionWithinConstraints() { if (!this.visualElement.current) return; const { drag: e, dragConstraints: t } = this.getProps(), { projection: i } = this.visualElement; if (!Vp(t) || !i || !this.constraints) return; this.stopAnimation(); const o = { x: 0, y: 0 }; fo(d => { const p = this.getAxisMotionValue(d); if (p && this.constraints !== !1) { const m = p.get(); o[d] = vH({ min: m, max: m }, this.constraints[d]) } }); const { transformTemplate: u } = this.visualElement.getProps(); this.visualElement.current.style.transform = u ? u({}, "") : "none", i.root && i.root.updateScroll(), i.updateLayout(), this.resolveConstraints(), fo(d => { if (!P0(d, e, null)) return; const p = this.getAxisMotionValue(d), { min: m, max: y } = this.constraints[d]; p.set(jn(m, y, o[d])) }) } addListeners() { if (!this.visualElement.current) return; SH.set(this.visualElement, this); const e = this.visualElement.current, t = kv(e, "pointerdown", m => { const { drag: y, dragListener: w = !0 } = this.getProps(); y && w && this.start(m) }), i = () => { const { dragConstraints: m } = this.getProps(); Vp(m) && m.current && (this.constraints = this.resolveRefConstraints()) }, { projection: o } = this.visualElement, u = o.addEventListener("measure", i); o && !o.layout && (o.root && o.root.updateScroll(), o.updateLayout()), Sn.read(i); const d = ey(window, "resize", () => this.scalePositionWithinConstraints()), p = o.addEventListener("didUpdate", ({ delta: m, hasLayoutChanged: y }) => { this.isDragging && y && (fo(w => { const E = this.getAxisMotionValue(w); E && (this.originPoint[w] += m[w].translate, E.set(E.get() + m[w].translate)) }), this.visualElement.render()) }); return () => { d(), t(), u(), p && p() } } getProps() { const e = this.visualElement.getProps(), { drag: t = !1, dragDirectionLock: i = !1, dragPropagation: o = !1, dragConstraints: u = !1, dragElastic: d = p1, dragMomentum: p = !0 } = e; return { ...e, drag: t, dragDirectionLock: i, dragPropagation: o, dragConstraints: u, dragElastic: d, dragMomentum: p } } } function P0(n, e, t) { return (e === !0 || e === n) && (t === null || t === n) } function CH(n, e = 10) { let t = null; return Math.abs(n.y) > e ? t = "y" : Math.abs(n.x) > e && (t = "x"), t } class xH extends od { constructor(e) { super(e), this.removeGroupControls = Ms, this.removeListeners = Ms, this.controls = new AH(e) } mount() { const { dragControls: e } = this.node.getProps(); e && (this.removeGroupControls = e.subscribe(this.controls)), this.removeListeners = this.controls.addListeners() || Ms } unmount() { this.removeGroupControls(), this.removeListeners() } } const $2 = n => (e, t) => { n && Sn.postRender(() => n(e, t)) }; class RH extends od { constructor() { super(...arguments), this.removePointerDownListener = Ms } onPointerDown(e) { this.session = new GP(e, this.createPanHandlers(), { transformPagePoint: this.node.getTransformPagePoint(), contextWindow: ZP(this.node) }) } createPanHandlers() { const { onPanSessionStart: e, onPanStart: t, onPan: i, onPanEnd: o } = this.node.getProps(); return { onSessionStart: $2(e), onStart: $2(t), onMove: i, onEnd: (u, d) => { delete this.session, o && Sn.postRender(() => o(u, d)) } } } mount() { this.removePointerDownListener = kv(this.node.current, "pointerdown", e => this.onPointerDown(e)) } update() { this.session && this.session.updateHandlers(this.createPanHandlers()) } unmount() { this.removePointerDownListener(), this.session && this.session.end() } } const $0 = { hasAnimatedSinceResize: !0, hasEverUpdated: !1 }; function W2(n, e) { return e.max === e.min ? 0 : n / (e.max - e.min) * 100 } const cv = { correct: (n, e) => { if (!e.target) return n; if (typeof n == "string") if (Xe.test(n)) n = parseFloat(n); else return n; const t = W2(n, e.target.x), i = W2(n, e.target.y); return `${t}% ${i}%` } }, IH = { correct: (n, { treeScale: e, projectionDelta: t }) => { const i = n, o = id.parse(n); if (o.length > 5) return i; const u = id.createTransformer(n), d = typeof o[0] != "number" ? 1 : 0, p = t.x.scale * e.x, m = t.y.scale * e.y; o[0 + d] /= p, o[1 + d] /= m; const y = jn(p, m, .5); return typeof o[2 + d] == "number" && (o[2 + d] /= y), typeof o[3 + d] == "number" && (o[3 + d] /= y), u(o) } }; class kH extends I.Component { componentDidMount() { const { visualElement: e, layoutGroup: t, switchLayoutGroup: i, layoutId: o } = this.props, { projection: u } = e; X8(PH), u && (t.group && t.group.add(u), i && i.register && o && i.register(u), u.root.didUpdate(), u.addEventListener("animationComplete", () => { this.safeToRemove() }), u.setOptions({ ...u.options, onExitComplete: () => this.safeToRemove() })), $0.hasEverUpdated = !0 } getSnapshotBeforeUpdate(e) { const { layoutDependency: t, visualElement: i, drag: o, isPresent: u } = this.props, d = i.projection; return d && (d.isPresent = u, o || e.layoutDependency !== t || t === void 0 ? d.willUpdate() : this.safeToRemove(), e.isPresent !== u && (u ? d.promote() : d.relegate() || Sn.postRender(() => { const p = d.getStack(); (!p || !p.members.length) && this.safeToRemove() }))), null } componentDidUpdate() { const { projection: e } = this.props.visualElement; e && (e.root.didUpdate(), uT.postRender(() => { !e.currentAnimation && e.isLead() && this.safeToRemove() })) } componentWillUnmount() { const { visualElement: e, layoutGroup: t, switchLayoutGroup: i } = this.props, { projection: o } = e; o && (o.scheduleCheckAfterUnmount(), t && t.group && t.group.remove(o), i && i.deregister && i.deregister(o)) } safeToRemove() { const { safeToRemove: e } = this.props; e && e() } render() { return null } } function eN(n) { const [e, t] = Lk(), i = I.useContext(tT); return x.jsx(kH, { ...n, layoutGroup: i, switchLayoutGroup: I.useContext(qk), isPresent: e, safeToRemove: t }) } const PH = { borderRadius: { ...cv, applyTo: ["borderTopLeftRadius", "borderTopRightRadius", "borderBottomLeftRadius", "borderBottomRightRadius"] }, borderTopLeftRadius: cv, borderTopRightRadius: cv, borderBottomLeftRadius: cv, borderBottomRightRadius: cv, boxShadow: IH }; function NH(n, e, t) { const i = Tr(n) ? n : Jv(n); return i.start(DT("", i, e, t)), i.animation } function MH(n) { return n instanceof SVGElement && n.tagName !== "svg" } const DH = (n, e) => n.depth - e.depth; class OH { constructor() { this.children = [], this.isDirty = !1 } add(e) { TT(this.children, e), this.isDirty = !0 } remove(e) { ST(this.children, e), this.isDirty = !0 } forEach(e) { this.isDirty && this.children.sort(DH), this.isDirty = !1, this.children.forEach(e) } } function LH(n, e) { const t = sl.now(), i = ({ timestamp: o }) => { const u = o - t; u >= e && (nd(i), n(u - e)) }; return Sn.read(i, !0), () => nd(i) } const tN = ["TopLeft", "TopRight", "BottomLeft", "BottomRight"], VH = tN.length, Y2 = n => typeof n == "string" ? parseFloat(n) : n, X2 = n => typeof n == "number" || Xe.test(n); function jH(n, e, t, i, o, u) { o ? (n.opacity = jn(0, t.opacity !== void 0 ? t.opacity : 1, UH(i)), n.opacityExit = jn(e.opacity !== void 0 ? e.opacity : 1, 0, BH(i))) : u && (n.opacity = jn(e.opacity !== void 0 ? e.opacity : 1, t.opacity !== void 0 ? t.opacity : 1, i)); for (let d = 0; d < VH; d++) { const p = `border${tN[d]}Radius`; let m = Q2(e, p), y = Q2(t, p); if (m === void 0 && y === void 0) continue; m || (m = 0), y || (y = 0), m === 0 || y === 0 || X2(m) === X2(y) ? (n[p] = Math.max(jn(Y2(m), Y2(y), i), 0), (rl.test(y) || rl.test(m)) && (n[p] += "%")) : n[p] = y } (e.rotate || t.rotate) && (n.rotate = jn(e.rotate || 0, t.rotate || 0, i)) } function Q2(n, e) { return n[e] !== void 0 ? n[e] : n.borderRadius } const UH = nN(0, .5, wP), BH = nN(.5, .95, Ms); function nN(n, e, t) { return i => i < n ? 0 : i > e ? 1 : t(lm(n, e, i)) } function J2(n, e) { n.min = e.min, n.max = e.max } function ho(n, e) { J2(n.x, e.x), J2(n.y, e.y) } function Z2(n, e) { n.translate = e.translate, n.scale = e.scale, n.originPoint = e.originPoint, n.origin = e.origin } function eC(n, e, t, i, o) { return n -= e, n = Tb(n, 1 / t, i), o !== void 0 && (n = Tb(n, 1 / o, i)), n } function FH(n, e = 0, t = 1, i = .5, o, u = n, d = n) { if (rl.test(e) && (e = parseFloat(e), e = jn(d.min, d.max, e / 100) - d.min), typeof e != "number") return; let p = jn(u.min, u.max, i); n === u && (p -= e), n.min = eC(n.min, e, t, p, o), n.max = eC(n.max, e, t, p, o) } function tC(n, e, [t, i, o], u, d) { FH(n, e[t], e[i], e[o], e.scale, u, d) } const zH = ["x", "scaleX", "originX"], HH = ["y", "scaleY", "originY"]; function nC(n, e, t, i) { tC(n.x, e, zH, t ? t.x : void 0, i ? i.x : void 0), tC(n.y, e, HH, t ? t.y : void 0, i ? i.y : void 0) } function iC(n) { return n.translate === 0 && n.scale === 1 } function iN(n) { return iC(n.x) && iC(n.y) } function rC(n, e) { return n.min === e.min && n.max === e.max } function qH(n, e) { return rC(n.x, e.x) && rC(n.y, e.y) } function sC(n, e) { return Math.round(n.min) === Math.round(e.min) && Math.round(n.max) === Math.round(e.max) } function rN(n, e) { return sC(n.x, e.x) && sC(n.y, e.y) } function oC(n) { return Ds(n.x) / Ds(n.y) } function aC(n, e) { return n.translate === e.translate && n.scale === e.scale && n.originPoint === e.originPoint } class GH { constructor() { this.members = [] } add(e) { TT(this.members, e), e.scheduleRender() } remove(e) { if (ST(this.members, e), e === this.prevLead && (this.prevLead = void 0), e === this.lead) { const t = this.members[this.members.length - 1]; t && this.promote(t) } } relegate(e) { const t = this.members.findIndex(o => e === o); if (t === 0) return !1; let i; for (let o = t; o >= 0; o--) { const u = this.members[o]; if (u.isPresent !== !1) { i = u; break } } return i ? (this.promote(i), !0) : !1 } promote(e, t) { const i = this.lead; if (e !== i && (this.prevLead = i, this.lead = e, e.show(), i)) { i.instance && i.scheduleRender(), e.scheduleRender(), e.resumeFrom = i, t && (e.resumeFrom.preserveOpacity = !0), i.snapshot && (e.snapshot = i.snapshot, e.snapshot.latestValues = i.animationValues || i.latestValues), e.root && e.root.isUpdating && (e.isLayoutDirty = !0); const { crossfade: o } = e.options; o === !1 && i.hide() } } exitAnimationComplete() { this.members.forEach(e => { const { options: t, resumingFrom: i } = e; t.onExitComplete && t.onExitComplete(), i && i.options.onExitComplete && i.options.onExitComplete() }) } scheduleRender() { this.members.forEach(e => { e.instance && e.scheduleRender(!1) }) } removeLeadSnapshot() { this.lead && this.lead.snapshot && (this.lead.snapshot = void 0) } } function KH(n, e, t) { let i = ""; const o = n.x.translate / e.x, u = n.y.translate / e.y, d = t?.z || 0; if ((o || u || d) && (i = `translate3d(${o}px, ${u}px, ${d}px) `), (e.x !== 1 || e.y !== 1) && (i += `scale(${1 / e.x}, ${1 / e.y}) `), t) { const { transformPerspective: y, rotate: w, rotateX: E, rotateY: C, skewX: N, skewY: U } = t; y && (i = `perspective(${y}px) ${i}`), w && (i += `rotate(${w}deg) `), E && (i += `rotateX(${E}deg) `), C && (i += `rotateY(${C}deg) `), N && (i += `skewX(${N}deg) `), U && (i += `skewY(${U}deg) `) } const p = n.x.scale * e.x, m = n.y.scale * e.y; return (p !== 1 || m !== 1) && (i += `scale(${p}, ${m})`), i || "none" } const Nh = { type: "projectionFrame", totalNodes: 0, resolvedTargetDeltas: 0, recalculatedProjection: 0 }, _v = typeof window < "u" && window.MotionDebug !== void 0, h_ = ["", "X", "Y", "Z"], $H = { visibility: "hidden" }, lC = 1e3; let WH = 0; function f_(n, e, t, i) { const { latestValues: o } = e; o[n] && (t[n] = o[n], e.setStaticValue(n, 0), i && (i[n] = 0)) } function sN(n) { if (n.hasCheckedOptimisedAppear = !0, n.root === n) return; const { visualElement: e } = n.options; if (!e) return; const t = fP(e); if (window.MotionHasOptimisedAnimation(t, "transform")) { const { layout: o, layoutId: u } = n.options; window.MotionCancelOptimisedAnimation(t, "transform", Sn, !(o || u)) } const { parent: i } = n; i && !i.hasCheckedOptimisedAppear && sN(i) } function oN({ attachResizeListener: n, defaultParent: e, measureScroll: t, checkIsScrollRoot: i, resetTransform: o }) { return class { constructor(d = {}, p = e?.()) { this.id = WH++, this.animationId = 0, this.children = new Set, this.options = {}, this.isTreeAnimating = !1, this.isAnimationBlocked = !1, this.isLayoutDirty = !1, this.isProjectionDirty = !1, this.isSharedProjectionDirty = !1, this.isTransformDirty = !1, this.updateManuallyBlocked = !1, this.updateBlockedByResize = !1, this.isUpdating = !1, this.isSVG = !1, this.needsReset = !1, this.shouldResetTransform = !1, this.hasCheckedOptimisedAppear = !1, this.treeScale = { x: 1, y: 1 }, this.eventHandlers = new Map, this.hasTreeAnimated = !1, this.updateScheduled = !1, this.scheduleUpdate = () => this.update(), this.projectionUpdateScheduled = !1, this.checkUpdateFailed = () => { this.isUpdating && (this.isUpdating = !1, this.clearAllSnapshots()) }, this.updateProjection = () => { this.projectionUpdateScheduled = !1, _v && (Nh.totalNodes = Nh.resolvedTargetDeltas = Nh.recalculatedProjection = 0), this.nodes.forEach(QH), this.nodes.forEach(nq), this.nodes.forEach(iq), this.nodes.forEach(JH), _v && window.MotionDebug.record(Nh) }, this.resolvedRelativeTargetAt = 0, this.hasProjected = !1, this.isVisible = !0, this.animationProgress = 0, this.sharedNodes = new Map, this.latestValues = d, this.root = p ? p.root || p : this, this.path = p ? [...p.path, p] : [], this.parent = p, this.depth = p ? p.depth + 1 : 0; for (let m = 0; m < this.path.length; m++)this.path[m].shouldResetTransform = !0; this.root === this && (this.nodes = new OH) } addEventListener(d, p) { return this.eventHandlers.has(d) || this.eventHandlers.set(d, new AT), this.eventHandlers.get(d).add(p) } notifyListeners(d, ...p) { const m = this.eventHandlers.get(d); m && m.notify(...p) } hasListeners(d) { return this.eventHandlers.has(d) } mount(d, p = this.root.hasTreeAnimated) { if (this.instance) return; this.isSVG = MH(d), this.instance = d; const { layoutId: m, layout: y, visualElement: w } = this.options; if (w && !w.current && w.mount(d), this.root.nodes.add(this), this.parent && this.parent.children.add(this), p && (y || m) && (this.isLayoutDirty = !0), n) { let E; const C = () => this.root.updateBlockedByResize = !1; n(d, () => { this.root.updateBlockedByResize = !0, E && E(), E = LH(C, 250), $0.hasAnimatedSinceResize && ($0.hasAnimatedSinceResize = !1, this.nodes.forEach(cC)) }) } m && this.root.registerSharedNode(m, this), this.options.animate !== !1 && w && (m || y) && this.addEventListener("didUpdate", ({ delta: E, hasLayoutChanged: C, hasRelativeTargetChanged: N, layout: U }) => { if (this.isTreeAnimationBlocked()) { this.target = void 0, this.relativeTarget = void 0; return } const k = this.options.transition || w.getDefaultTransition() || lq, { onLayoutAnimationStart: R, onLayoutAnimationComplete: L } = w.getProps(), z = !this.targetLayout || !rN(this.targetLayout, U) || N, $ = !C && N; if (this.options.layoutRoot || this.resumeFrom && this.resumeFrom.instance || $ || C && (z || !this.currentAnimation)) { this.resumeFrom && (this.resumingFrom = this.resumeFrom, this.resumingFrom.resumingFrom = void 0), this.setAnimationOrigin(E, $); const J = { ...bT(k, "layout"), onPlay: R, onComplete: L }; (w.shouldReduceMotion || this.options.layoutRoot) && (J.delay = 0, J.type = !1), this.startAnimation(J) } else C || cC(this), this.isLead() && this.options.onExitComplete && this.options.onExitComplete(); this.targetLayout = U }) } unmount() { this.options.layoutId && this.willUpdate(), this.root.nodes.remove(this); const d = this.getStack(); d && d.remove(this), this.parent && this.parent.children.delete(this), this.instance = void 0, nd(this.updateProjection) } blockUpdate() { this.updateManuallyBlocked = !0 } unblockUpdate() { this.updateManuallyBlocked = !1 } isUpdateBlocked() { return this.updateManuallyBlocked || this.updateBlockedByResize } isTreeAnimationBlocked() { return this.isAnimationBlocked || this.parent && this.parent.isTreeAnimationBlocked() || !1 } startUpdate() { this.isUpdateBlocked() || (this.isUpdating = !0, this.nodes && this.nodes.forEach(rq), this.animationId++) } getTransformTemplate() { const { visualElement: d } = this.options; return d && d.getProps().transformTemplate } willUpdate(d = !0) { if (this.root.hasTreeAnimated = !0, this.root.isUpdateBlocked()) { this.options.onExitComplete && this.options.onExitComplete(); return } if (window.MotionCancelOptimisedAnimation && !this.hasCheckedOptimisedAppear && sN(this), !this.root.isUpdating && this.root.startUpdate(), this.isLayoutDirty) return; this.isLayoutDirty = !0; for (let w = 0; w < this.path.length; w++) { const E = this.path[w]; E.shouldResetTransform = !0, E.updateScroll("snapshot"), E.options.layoutRoot && E.willUpdate(!1) } const { layoutId: p, layout: m } = this.options; if (p === void 0 && !m) return; const y = this.getTransformTemplate(); this.prevTransformTemplateValue = y ? y(this.latestValues, "") : void 0, this.updateSnapshot(), d && this.notifyListeners("willUpdate") } update() { if (this.updateScheduled = !1, this.isUpdateBlocked()) { this.unblockUpdate(), this.clearAllSnapshots(), this.nodes.forEach(uC); return } this.isUpdating || this.nodes.forEach(eq), this.isUpdating = !1, this.nodes.forEach(tq), this.nodes.forEach(YH), this.nodes.forEach(XH), this.clearAllSnapshots(); const p = sl.now(); Qi.delta = Eu(0, 1e3 / 60, p - Qi.timestamp), Qi.timestamp = p, Qi.isProcessing = !0, i_.update.process(Qi), i_.preRender.process(Qi), i_.render.process(Qi), Qi.isProcessing = !1 } didUpdate() { this.updateScheduled || (this.updateScheduled = !0, uT.read(this.scheduleUpdate)) } clearAllSnapshots() { this.nodes.forEach(ZH), this.sharedNodes.forEach(sq) } scheduleUpdateProjection() { this.projectionUpdateScheduled || (this.projectionUpdateScheduled = !0, Sn.preRender(this.updateProjection, !1, !0)) } scheduleCheckAfterUnmount() { Sn.postRender(() => { this.isLayoutDirty ? this.root.didUpdate() : this.root.checkUpdateFailed() }) } updateSnapshot() { this.snapshot || !this.instance || (this.snapshot = this.measure()) } updateLayout() { if (!this.instance || (this.updateScroll(), !(this.options.alwaysMeasureLayout && this.isLead()) && !this.isLayoutDirty)) return; if (this.resumeFrom && !this.resumeFrom.instance) for (let m = 0; m < this.path.length; m++)this.path[m].updateScroll(); const d = this.layout; this.layout = this.measure(!1), this.layoutCorrected = ii(), this.isLayoutDirty = !1, this.projectionDelta = void 0, this.notifyListeners("measure", this.layout.layoutBox); const { visualElement: p } = this.options; p && p.notify("LayoutMeasure", this.layout.layoutBox, d ? d.layoutBox : void 0) } updateScroll(d = "measure") { let p = !!(this.options.layoutScroll && this.instance); if (this.scroll && this.scroll.animationId === this.root.animationId && this.scroll.phase === d && (p = !1), p) { const m = i(this.instance); this.scroll = { animationId: this.root.animationId, phase: d, isRoot: m, offset: t(this.instance), wasRoot: this.scroll ? this.scroll.isRoot : m } } } resetTransform() { if (!o) return; const d = this.isLayoutDirty || this.shouldResetTransform || this.options.alwaysMeasureLayout, p = this.projectionDelta && !iN(this.projectionDelta), m = this.getTransformTemplate(), y = m ? m(this.latestValues, "") : void 0, w = y !== this.prevTransformTemplateValue; d && (p || Ph(this.latestValues) || w) && (o(this.instance, y), this.shouldResetTransform = !1, this.scheduleRender()) } measure(d = !0) { const p = this.measurePageBox(); let m = this.removeElementScroll(p); return d && (m = this.removeTransform(m)), uq(m), { animationId: this.root.animationId, measuredBox: p, layoutBox: m, latestValues: {}, source: this.id } } measurePageBox() { var d; const { visualElement: p } = this.options; if (!p) return ii(); const m = p.measureViewportBox(); if (!(((d = this.scroll) === null || d === void 0 ? void 0 : d.wasRoot) || this.path.some(cq))) { const { scroll: w } = this.root; w && (Bp(m.x, w.offset.x), Bp(m.y, w.offset.y)) } return m } removeElementScroll(d) { var p; const m = ii(); if (ho(m, d), !((p = this.scroll) === null || p === void 0) && p.wasRoot) return m; for (let y = 0; y < this.path.length; y++) { const w = this.path[y], { scroll: E, options: C } = w; w !== this.root && E && C.layoutScroll && (E.wasRoot && ho(m, d), Bp(m.x, E.offset.x), Bp(m.y, E.offset.y)) } return m } applyTransform(d, p = !1) { const m = ii(); ho(m, d); for (let y = 0; y < this.path.length; y++) { const w = this.path[y]; !p && w.options.layoutScroll && w.scroll && w !== w.root && Fp(m, { x: -w.scroll.offset.x, y: -w.scroll.offset.y }), Ph(w.latestValues) && Fp(m, w.latestValues) } return Ph(this.latestValues) && Fp(m, this.latestValues), m } removeTransform(d) { const p = ii(); ho(p, d); for (let m = 0; m < this.path.length; m++) { const y = this.path[m]; if (!y.instance || !Ph(y.latestValues)) continue; m1(y.latestValues) && y.updateSnapshot(); const w = ii(), E = y.measurePageBox(); ho(w, E), nC(p, y.latestValues, y.snapshot ? y.snapshot.layoutBox : void 0, w) } return Ph(this.latestValues) && nC(p, this.latestValues), p } setTargetDelta(d) { this.targetDelta = d, this.root.scheduleUpdateProjection(), this.isProjectionDirty = !0 } setOptions(d) { this.options = { ...this.options, ...d, crossfade: d.crossfade !== void 0 ? d.crossfade : !0 } } clearMeasurements() { this.scroll = void 0, this.layout = void 0, this.snapshot = void 0, this.prevTransformTemplateValue = void 0, this.targetDelta = void 0, this.target = void 0, this.isLayoutDirty = !1 } forceRelativeParentToResolveTarget() { this.relativeParent && this.relativeParent.resolvedRelativeTargetAt !== Qi.timestamp && this.relativeParent.resolveTargetDelta(!0) } resolveTargetDelta(d = !1) { var p; const m = this.getLead(); this.isProjectionDirty || (this.isProjectionDirty = m.isProjectionDirty), this.isTransformDirty || (this.isTransformDirty = m.isTransformDirty), this.isSharedProjectionDirty || (this.isSharedProjectionDirty = m.isSharedProjectionDirty); const y = !!this.resumingFrom || this !== m; if (!(d || y && this.isSharedProjectionDirty || this.isProjectionDirty || !((p = this.parent) === null || p === void 0) && p.isProjectionDirty || this.attemptToResolveRelativeTarget || this.root.updateBlockedByResize)) return; const { layout: E, layoutId: C } = this.options; if (!(!this.layout || !(E || C))) { if (this.resolvedRelativeTargetAt = Qi.timestamp, !this.targetDelta && !this.relativeTarget) { const N = this.getClosestProjectingParent(); N && N.layout && this.animationProgress !== 1 ? (this.relativeParent = N, this.forceRelativeParentToResolveTarget(), this.relativeTarget = ii(), this.relativeTargetOrigin = ii(), Nv(this.relativeTargetOrigin, this.layout.layoutBox, N.layout.layoutBox), ho(this.relativeTarget, this.relativeTargetOrigin)) : this.relativeParent = this.relativeTarget = void 0 } if (!(!this.relativeTarget && !this.targetDelta)) { if (this.target || (this.target = ii(), this.targetWithTransforms = ii()), this.relativeTarget && this.relativeTargetOrigin && this.relativeParent && this.relativeParent.target ? (this.forceRelativeParentToResolveTarget(), fH(this.target, this.relativeTarget, this.relativeParent.target)) : this.targetDelta ? (this.resumingFrom ? this.target = this.applyTransform(this.layout.layoutBox) : ho(this.target, this.layout.layoutBox), QP(this.target, this.targetDelta)) : ho(this.target, this.layout.layoutBox), this.attemptToResolveRelativeTarget) { this.attemptToResolveRelativeTarget = !1; const N = this.getClosestProjectingParent(); N && !!N.resumingFrom == !!this.resumingFrom && !N.options.layoutScroll && N.target && this.animationProgress !== 1 ? (this.relativeParent = N, this.forceRelativeParentToResolveTarget(), this.relativeTarget = ii(), this.relativeTargetOrigin = ii(), Nv(this.relativeTargetOrigin, this.target, N.target), ho(this.relativeTarget, this.relativeTargetOrigin)) : this.relativeParent = this.relativeTarget = void 0 } _v && Nh.resolvedTargetDeltas++ } } } getClosestProjectingParent() { if (!(!this.parent || m1(this.parent.latestValues) || XP(this.parent.latestValues))) return this.parent.isProjecting() ? this.parent : this.parent.getClosestProjectingParent() } isProjecting() { return !!((this.relativeTarget || this.targetDelta || this.options.layoutRoot) && this.layout) } calcProjection() { var d; const p = this.getLead(), m = !!this.resumingFrom || this !== p; let y = !0; if ((this.isProjectionDirty || !((d = this.parent) === null || d === void 0) && d.isProjectionDirty) && (y = !1), m && (this.isSharedProjectionDirty || this.isTransformDirty) && (y = !1), this.resolvedRelativeTargetAt === Qi.timestamp && (y = !1), y) return; const { layout: w, layoutId: E } = this.options; if (this.isTreeAnimating = !!(this.parent && this.parent.isTreeAnimating || this.currentAnimation || this.pendingAnimation), this.isTreeAnimating || (this.targetDelta = this.relativeTarget = void 0), !this.layout || !(w || E)) return; ho(this.layoutCorrected, this.layout.layoutBox); const C = this.treeScale.x, N = this.treeScale.y; EH(this.layoutCorrected, this.treeScale, this.path, m), p.layout && !p.target && (this.treeScale.x !== 1 || this.treeScale.y !== 1) && (p.target = p.layout.layoutBox, p.targetWithTransforms = ii()); const { target: U } = p; if (!U) { this.prevProjectionDelta && (this.createProjectionDeltas(), this.scheduleRender()); return } !this.projectionDelta || !this.prevProjectionDelta ? this.createProjectionDeltas() : (Z2(this.prevProjectionDelta.x, this.projectionDelta.x), Z2(this.prevProjectionDelta.y, this.projectionDelta.y)), Pv(this.projectionDelta, this.layoutCorrected, U, this.latestValues), (this.treeScale.x !== C || this.treeScale.y !== N || !aC(this.projectionDelta.x, this.prevProjectionDelta.x) || !aC(this.projectionDelta.y, this.prevProjectionDelta.y)) && (this.hasProjected = !0, this.scheduleRender(), this.notifyListeners("projectionUpdate", U)), _v && Nh.recalculatedProjection++ } hide() { this.isVisible = !1 } show() { this.isVisible = !0 } scheduleRender(d = !0) { var p; if ((p = this.options.visualElement) === null || p === void 0 || p.scheduleRender(), d) { const m = this.getStack(); m && m.scheduleRender() } this.resumingFrom && !this.resumingFrom.instance && (this.resumingFrom = void 0) } createProjectionDeltas() { this.prevProjectionDelta = Up(), this.projectionDelta = Up(), this.projectionDeltaWithTransform = Up() } setAnimationOrigin(d, p = !1) { const m = this.snapshot, y = m ? m.latestValues : {}, w = { ...this.latestValues }, E = Up(); (!this.relativeParent || !this.relativeParent.options.layoutRoot) && (this.relativeTarget = this.relativeTargetOrigin = void 0), this.attemptToResolveRelativeTarget = !p; const C = ii(), N = m ? m.source : void 0, U = this.layout ? this.layout.source : void 0, k = N !== U, R = this.getStack(), L = !R || R.members.length <= 1, z = !!(k && !L && this.options.crossfade === !0 && !this.path.some(aq)); this.animationProgress = 0; let $; this.mixTargetDelta = J => { const Q = J / 1e3; dC(E.x, d.x, Q), dC(E.y, d.y, Q), this.setTargetDelta(E), this.relativeTarget && this.relativeTargetOrigin && this.layout && this.relativeParent && this.relativeParent.layout && (Nv(C, this.layout.layoutBox, this.relativeParent.layout.layoutBox), oq(this.relativeTarget, this.relativeTargetOrigin, C, Q), $ && qH(this.relativeTarget, $) && (this.isProjectionDirty = !1), $ || ($ = ii()), ho($, this.relativeTarget)), k && (this.animationValues = w, jH(w, y, this.latestValues, Q, z, L)), this.root.scheduleUpdateProjection(), this.scheduleRender(), this.animationProgress = Q }, this.mixTargetDelta(this.options.layoutRoot ? 1e3 : 0) } startAnimation(d) { this.notifyListeners("animationStart"), this.currentAnimation && this.currentAnimation.stop(), this.resumingFrom && this.resumingFrom.currentAnimation && this.resumingFrom.currentAnimation.stop(), this.pendingAnimation && (nd(this.pendingAnimation), this.pendingAnimation = void 0), this.pendingAnimation = Sn.update(() => { $0.hasAnimatedSinceResize = !0, this.currentAnimation = NH(0, lC, { ...d, onUpdate: p => { this.mixTargetDelta(p), d.onUpdate && d.onUpdate(p) }, onComplete: () => { d.onComplete && d.onComplete(), this.completeAnimation() } }), this.resumingFrom && (this.resumingFrom.currentAnimation = this.currentAnimation), this.pendingAnimation = void 0 }) } completeAnimation() { this.resumingFrom && (this.resumingFrom.currentAnimation = void 0, this.resumingFrom.preserveOpacity = void 0); const d = this.getStack(); d && d.exitAnimationComplete(), this.resumingFrom = this.currentAnimation = this.animationValues = void 0, this.notifyListeners("animationComplete") } finishAnimation() { this.currentAnimation && (this.mixTargetDelta && this.mixTargetDelta(lC), this.currentAnimation.stop()), this.completeAnimation() } applyTransformsToTarget() { const d = this.getLead(); let { targetWithTransforms: p, target: m, layout: y, latestValues: w } = d; if (!(!p || !m || !y)) { if (this !== d && this.layout && y && aN(this.options.animationType, this.layout.layoutBox, y.layoutBox)) { m = this.target || ii(); const E = Ds(this.layout.layoutBox.x); m.x.min = d.target.x.min, m.x.max = m.x.min + E; const C = Ds(this.layout.layoutBox.y); m.y.min = d.target.y.min, m.y.max = m.y.min + C } ho(p, m), Fp(p, w), Pv(this.projectionDeltaWithTransform, this.layoutCorrected, p, w) } } registerSharedNode(d, p) { this.sharedNodes.has(d) || this.sharedNodes.set(d, new GH), this.sharedNodes.get(d).add(p); const y = p.options.initialPromotionConfig; p.promote({ transition: y ? y.transition : void 0, preserveFollowOpacity: y && y.shouldPreserveFollowOpacity ? y.shouldPreserveFollowOpacity(p) : void 0 }) } isLead() { const d = this.getStack(); return d ? d.lead === this : !0 } getLead() { var d; const { layoutId: p } = this.options; return p ? ((d = this.getStack()) === null || d === void 0 ? void 0 : d.lead) || this : this } getPrevLead() { var d; const { layoutId: p } = this.options; return p ? (d = this.getStack()) === null || d === void 0 ? void 0 : d.prevLead : void 0 } getStack() { const { layoutId: d } = this.options; if (d) return this.root.sharedNodes.get(d) } promote({ needsReset: d, transition: p, preserveFollowOpacity: m } = {}) { const y = this.getStack(); y && y.promote(this, m), d && (this.projectionDelta = void 0, this.needsReset = !0), p && this.setOptions({ transition: p }) } relegate() { const d = this.getStack(); return d ? d.relegate(this) : !1 } resetSkewAndRotation() { const { visualElement: d } = this.options; if (!d) return; let p = !1; const { latestValues: m } = d; if ((m.z || m.rotate || m.rotateX || m.rotateY || m.rotateZ || m.skewX || m.skewY) && (p = !0), !p) return; const y = {}; m.z && f_("z", d, y, this.animationValues); for (let w = 0; w < h_.length; w++)f_(`rotate${h_[w]}`, d, y, this.animationValues), f_(`skew${h_[w]}`, d, y, this.animationValues); d.render(); for (const w in y) d.setStaticValue(w, y[w]), this.animationValues && (this.animationValues[w] = y[w]); d.scheduleRender() } getProjectionStyles(d) { var p, m; if (!this.instance || this.isSVG) return; if (!this.isVisible) return $H; const y = { visibility: "" }, w = this.getTransformTemplate(); if (this.needsReset) return this.needsReset = !1, y.opacity = "", y.pointerEvents = G0(d?.pointerEvents) || "", y.transform = w ? w(this.latestValues, "") : "none", y; const E = this.getLead(); if (!this.projectionDelta || !this.layout || !E.target) { const k = {}; return this.options.layoutId && (k.opacity = this.latestValues.opacity !== void 0 ? this.latestValues.opacity : 1, k.pointerEvents = G0(d?.pointerEvents) || ""), this.hasProjected && !Ph(this.latestValues) && (k.transform = w ? w({}, "") : "none", this.hasProjected = !1), k } const C = E.animationValues || E.latestValues; this.applyTransformsToTarget(), y.transform = KH(this.projectionDeltaWithTransform, this.treeScale, C), w && (y.transform = w(C, y.transform)); const { x: N, y: U } = this.projectionDelta; y.transformOrigin = `${N.origin * 100}% ${U.origin * 100}% 0`, E.animationValues ? y.opacity = E === this ? (m = (p = C.opacity) !== null && p !== void 0 ? p : this.latestValues.opacity) !== null && m !== void 0 ? m : 1 : this.preserveOpacity ? this.latestValues.opacity : C.opacityExit : y.opacity = E === this ? C.opacity !== void 0 ? C.opacity : "" : C.opacityExit !== void 0 ? C.opacityExit : 0; for (const k in yb) { if (C[k] === void 0) continue; const { correct: R, applyTo: L } = yb[k], z = y.transform === "none" ? C[k] : R(C[k], E); if (L) { const $ = L.length; for (let J = 0; J < $; J++)y[L[J]] = z } else y[k] = z } return this.options.layoutId && (y.pointerEvents = E === this ? G0(d?.pointerEvents) || "" : "none"), y } clearSnapshot() { this.resumeFrom = this.snapshot = void 0 } resetTree() { this.root.nodes.forEach(d => { var p; return (p = d.currentAnimation) === null || p === void 0 ? void 0 : p.stop() }), this.root.nodes.forEach(uC), this.root.sharedNodes.clear() } } } function YH(n) { n.updateLayout() } function XH(n) { var e; const t = ((e = n.resumeFrom) === null || e === void 0 ? void 0 : e.snapshot) || n.snapshot; if (n.isLead() && n.layout && t && n.hasListeners("didUpdate")) { const { layoutBox: i, measuredBox: o } = n.layout, { animationType: u } = n.options, d = t.source !== n.layout.source; u === "size" ? fo(E => { const C = d ? t.measuredBox[E] : t.layoutBox[E], N = Ds(C); C.min = i[E].min, C.max = C.min + N }) : aN(u, t.layoutBox, i) && fo(E => { const C = d ? t.measuredBox[E] : t.layoutBox[E], N = Ds(i[E]); C.max = C.min + N, n.relativeTarget && !n.currentAnimation && (n.isProjectionDirty = !0, n.relativeTarget[E].max = n.relativeTarget[E].min + N) }); const p = Up(); Pv(p, i, t.layoutBox); const m = Up(); d ? Pv(m, n.applyTransform(o, !0), t.measuredBox) : Pv(m, i, t.layoutBox); const y = !iN(p); let w = !1; if (!n.resumeFrom) { const E = n.getClosestProjectingParent(); if (E && !E.resumeFrom) { const { snapshot: C, layout: N } = E; if (C && N) { const U = ii(); Nv(U, t.layoutBox, C.layoutBox); const k = ii(); Nv(k, i, N.layoutBox), rN(U, k) || (w = !0), E.options.layoutRoot && (n.relativeTarget = k, n.relativeTargetOrigin = U, n.relativeParent = E) } } } n.notifyListeners("didUpdate", { layout: i, snapshot: t, delta: m, layoutDelta: p, hasLayoutChanged: y, hasRelativeTargetChanged: w }) } else if (n.isLead()) { const { onExitComplete: i } = n.options; i && i() } n.options.transition = void 0 } function QH(n) { _v && Nh.totalNodes++, n.parent && (n.isProjecting() || (n.isProjectionDirty = n.parent.isProjectionDirty), n.isSharedProjectionDirty || (n.isSharedProjectionDirty = !!(n.isProjectionDirty || n.parent.isProjectionDirty || n.parent.isSharedProjectionDirty)), n.isTransformDirty || (n.isTransformDirty = n.parent.isTransformDirty)) } function JH(n) { n.isProjectionDirty = n.isSharedProjectionDirty = n.isTransformDirty = !1 } function ZH(n) { n.clearSnapshot() } function uC(n) { n.clearMeasurements() } function eq(n) { n.isLayoutDirty = !1 } function tq(n) { const { visualElement: e } = n.options; e && e.getProps().onBeforeLayoutMeasure && e.notify("BeforeLayoutMeasure"), n.resetTransform() } function cC(n) { n.finishAnimation(), n.targetDelta = n.relativeTarget = n.target = void 0, n.isProjectionDirty = !0 } function nq(n) { n.resolveTargetDelta() } function iq(n) { n.calcProjection() } function rq(n) { n.resetSkewAndRotation() } function sq(n) { n.removeLeadSnapshot() } function dC(n, e, t) { n.translate = jn(e.translate, 0, t), n.scale = jn(e.scale, 1, t), n.origin = e.origin, n.originPoint = e.originPoint } function hC(n, e, t, i) { n.min = jn(e.min, t.min, i), n.max = jn(e.max, t.max, i) } function oq(n, e, t, i) { hC(n.x, e.x, t.x, i), hC(n.y, e.y, t.y, i) } function aq(n) { return n.animationValues && n.animationValues.opacityExit !== void 0 } const lq = { duration: .45, ease: [.4, 0, .1, 1] }, fC = n => typeof navigator < "u" && navigator.userAgent && navigator.userAgent.toLowerCase().includes(n), pC = fC("applewebkit/") && !fC("chrome/") ? Math.round : Ms; function mC(n) { n.min = pC(n.min), n.max = pC(n.max) } function uq(n) { mC(n.x), mC(n.y) } function aN(n, e, t) { return n === "position" || n === "preserve-aspect" && !hH(oC(e), oC(t), .2) } function cq(n) { var e; return n !== n.root && ((e = n.scroll) === null || e === void 0 ? void 0 : e.wasRoot) } const dq = oN({ attachResizeListener: (n, e) => ey(n, "resize", e), measureScroll: () => ({ x: document.documentElement.scrollLeft || document.body.scrollLeft, y: document.documentElement.scrollTop || document.body.scrollTop }), checkIsScrollRoot: () => !0 }), p_ = { current: void 0 }, lN = oN({ measureScroll: n => ({ x: n.scrollLeft, y: n.scrollTop }), defaultParent: () => { if (!p_.current) { const n = new dq({}); n.mount(window), n.setOptions({ layoutScroll: !0 }), p_.current = n } return p_.current }, resetTransform: (n, e) => { n.style.transform = e !== void 0 ? e : "none" }, checkIsScrollRoot: n => window.getComputedStyle(n).position === "fixed" }), hq = { pan: { Feature: RH }, drag: { Feature: xH, ProjectionNode: lN, MeasureLayout: eN } }; function gC(n, e, t) { const { props: i } = n; n.animationState && i.whileHover && n.animationState.setActive("whileHover", t === "Start"); const o = "onHover" + t, u = i[o]; u && Sn.postRender(() => u(e, Ty(e))) } class fq extends od { mount() { const { current: e } = this.node; e && (this.unmount = h7(e, t => (gC(this.node, t, "Start"), i => gC(this.node, i, "End")))) } unmount() { } } class pq extends od { constructor() { super(...arguments), this.isActive = !1 } onFocus() { let e = !1; try { e = this.node.current.matches(":focus-visible") } catch { e = !0 } !e || !this.node.animationState || (this.node.animationState.setActive("whileFocus", !0), this.isActive = !0) } onBlur() { !this.isActive || !this.node.animationState || (this.node.animationState.setActive("whileFocus", !1), this.isActive = !1) } mount() { this.unmount = Ey(ey(this.node.current, "focus", () => this.onFocus()), ey(this.node.current, "blur", () => this.onBlur())) } unmount() { } } function vC(n, e, t) { const { props: i } = n; n.animationState && i.whileTap && n.animationState.setActive("whileTap", t === "Start"); const o = "onTap" + (t === "End" ? "" : t), u = i[o]; u && Sn.postRender(() => u(e, Ty(e))) } class mq extends od { mount() { const { current: e } = this.node; e && (this.unmount = g7(e, t => (vC(this.node, t, "Start"), (i, { success: o }) => vC(this.node, i, o ? "End" : "Cancel")), { useGlobalTarget: this.node.props.globalTapTarget })) } unmount() { } } const v1 = new WeakMap, m_ = new WeakMap, gq = n => { const e = v1.get(n.target); e && e(n) }, vq = n => { n.forEach(gq) }; function yq({ root: n, ...e }) { const t = n || document; m_.has(t) || m_.set(t, {}); const i = m_.get(t), o = JSON.stringify(e); return i[o] || (i[o] = new IntersectionObserver(vq, { root: n, ...e })), i[o] } function bq(n, e, t) { const i = yq(e); return v1.set(n, t), i.observe(n), () => { v1.delete(n), i.unobserve(n) } } const wq = { some: 0, all: 1 }; class _q extends od { constructor() { super(...arguments), this.hasEnteredView = !1, this.isInView = !1 } startObserver() { this.unmount(); const { viewport: e = {} } = this.node.getProps(), { root: t, margin: i, amount: o = "some", once: u } = e, d = { root: t ? t.current : void 0, rootMargin: i, threshold: typeof o == "number" ? o : wq[o] }, p = m => { const { isIntersecting: y } = m; if (this.isInView === y || (this.isInView = y, u && !y && this.hasEnteredView)) return; y && (this.hasEnteredView = !0), this.node.animationState && this.node.animationState.setActive("whileInView", y); const { onViewportEnter: w, onViewportLeave: E } = this.node.getProps(), C = y ? w : E; C && C(m) }; return bq(this.node.current, d, p) } mount() { this.startObserver() } update() { if (typeof IntersectionObserver > "u") return; const { props: e, prevProps: t } = this.node;["amount", "margin", "root"].some(Eq(e, t)) && this.startObserver() } unmount() { } } function Eq({ viewport: n = {} }, { viewport: e = {} } = {}) { return t => n[t] !== e[t] } const Tq = { inView: { Feature: _q }, tap: { Feature: mq }, focus: { Feature: pq }, hover: { Feature: fq } }, Sq = { layout: { ProjectionNode: lN, MeasureLayout: eN } }, y1 = { current: null }, uN = { current: !1 }; function Aq() { if (uN.current = !0, !!rT) if (window.matchMedia) { const n = window.matchMedia("(prefers-reduced-motion)"), e = () => y1.current = n.matches; n.addListener(e), e() } else y1.current = !1 } const Cq = [...DP, wr, id], xq = n => Cq.find(MP(n)), yC = new WeakMap; function Rq(n, e, t) { for (const i in e) { const o = e[i], u = t[i]; if (Tr(o)) n.addValue(i, o); else if (Tr(u)) n.addValue(i, Jv(o, { owner: n })); else if (u !== o) if (n.hasValue(i)) { const d = n.getValue(i); d.liveStyle === !0 ? d.jump(o) : d.hasAnimated || d.set(o) } else { const d = n.getStaticValue(i); n.addValue(i, Jv(d !== void 0 ? d : o, { owner: n })) } } for (const i in t) e[i] === void 0 && n.removeValue(i); return e } const bC = ["AnimationStart", "AnimationComplete", "Update", "BeforeLayoutMeasure", "LayoutMeasure", "LayoutAnimationStart", "LayoutAnimationComplete"]; class Iq { scrapeMotionValuesFromProps(e, t, i) { return {} } constructor({ parent: e, props: t, presenceContext: i, reducedMotionConfig: o, blockInitialAnimation: u, visualState: d }, p = {}) { this.current = null, this.children = new Set, this.isVariantNode = !1, this.isControllingVariants = !1, this.shouldReduceMotion = null, this.values = new Map, this.KeyframeResolver = PT, this.features = {}, this.valueSubscriptions = new Map, this.prevMotionValues = {}, this.events = {}, this.propEventSubscriptions = {}, this.notifyUpdate = () => this.notify("Update", this.latestValues), this.render = () => { this.current && (this.triggerBuild(), this.renderInstance(this.current, this.renderState, this.props.style, this.projection)) }, this.renderScheduledAt = 0, this.scheduleRender = () => { const N = sl.now(); this.renderScheduledAt < N && (this.renderScheduledAt = N, Sn.render(this.render, !1, !0)) }; const { latestValues: m, renderState: y, onUpdate: w } = d; this.onUpdate = w, this.latestValues = m, this.baseTarget = { ...m }, this.initialValues = t.initial ? { ...m } : {}, this.renderState = y, this.parent = e, this.props = t, this.presenceContext = i, this.depth = e ? e.depth + 1 : 0, this.reducedMotionConfig = o, this.options = p, this.blockInitialAnimation = !!u, this.isControllingVariants = lw(t), this.isVariantNode = zk(t), this.isVariantNode && (this.variantChildren = new Set), this.manuallyAnimateOnMount = !!(e && e.current); const { willChange: E, ...C } = this.scrapeMotionValuesFromProps(t, {}, this); for (const N in C) { const U = C[N]; m[N] !== void 0 && Tr(U) && U.set(m[N], !1) } } mount(e) { this.current = e, yC.set(e, this), this.projection && !this.projection.instance && this.projection.mount(e), this.parent && this.isVariantNode && !this.isControllingVariants && (this.removeFromVariantTree = this.parent.addVariantChild(this)), this.values.forEach((t, i) => this.bindToMotionValue(i, t)), uN.current || Aq(), this.shouldReduceMotion = this.reducedMotionConfig === "never" ? !1 : this.reducedMotionConfig === "always" ? !0 : y1.current, this.parent && this.parent.children.add(this), this.update(this.props, this.presenceContext) } unmount() { yC.delete(this.current), this.projection && this.projection.unmount(), nd(this.notifyUpdate), nd(this.render), this.valueSubscriptions.forEach(e => e()), this.valueSubscriptions.clear(), this.removeFromVariantTree && this.removeFromVariantTree(), this.parent && this.parent.children.delete(this); for (const e in this.events) this.events[e].clear(); for (const e in this.features) { const t = this.features[e]; t && (t.unmount(), t.isMounted = !1) } this.current = null } bindToMotionValue(e, t) { this.valueSubscriptions.has(e) && this.valueSubscriptions.get(e)(); const i = nf.has(e), o = t.on("change", p => { this.latestValues[e] = p, this.props.onUpdate && Sn.preRender(this.notifyUpdate), i && this.projection && (this.projection.isTransformDirty = !0) }), u = t.on("renderRequest", this.scheduleRender); let d; window.MotionCheckAppearSync && (d = window.MotionCheckAppearSync(this, e, t)), this.valueSubscriptions.set(e, () => { o(), u(), d && d(), t.owner && t.stop() }) } sortNodePosition(e) { return !this.current || !this.sortInstanceNodePosition || this.type !== e.type ? 0 : this.sortInstanceNodePosition(this.current, e.current) } updateFeatures() { let e = "animation"; for (e in um) { const t = um[e]; if (!t) continue; const { isEnabled: i, Feature: o } = t; if (!this.features[e] && o && i(this.props) && (this.features[e] = new o(this)), this.features[e]) { const u = this.features[e]; u.isMounted ? u.update() : (u.mount(), u.isMounted = !0) } } } triggerBuild() { this.build(this.renderState, this.latestValues, this.props) } measureViewportBox() { return this.current ? this.measureInstanceViewportBox(this.current, this.props) : ii() } getStaticValue(e) { return this.latestValues[e] } setStaticValue(e, t) { this.latestValues[e] = t } update(e, t) { (e.transformTemplate || this.props.transformTemplate) && this.scheduleRender(), this.prevProps = this.props, this.props = e, this.prevPresenceContext = this.presenceContext, this.presenceContext = t; for (let i = 0; i < bC.length; i++) { const o = bC[i]; this.propEventSubscriptions[o] && (this.propEventSubscriptions[o](), delete this.propEventSubscriptions[o]); const u = "on" + o, d = e[u]; d && (this.propEventSubscriptions[o] = this.on(o, d)) } this.prevMotionValues = Rq(this, this.scrapeMotionValuesFromProps(e, this.prevProps, this), this.prevMotionValues), this.handleChildMotionValue && this.handleChildMotionValue(), this.onUpdate && this.onUpdate(this) } getProps() { return this.props } getVariant(e) { return this.props.variants ? this.props.variants[e] : void 0 } getDefaultTransition() { return this.props.transition } getTransformPagePoint() { return this.props.transformPagePoint } getClosestVariantNode() { return this.isVariantNode ? this : this.parent ? this.parent.getClosestVariantNode() : void 0 } addVariantChild(e) { const t = this.getClosestVariantNode(); if (t) return t.variantChildren && t.variantChildren.add(e), () => t.variantChildren.delete(e) } addValue(e, t) { const i = this.values.get(e); t !== i && (i && this.removeValue(e), this.bindToMotionValue(e, t), this.values.set(e, t), this.latestValues[e] = t.get()) } removeValue(e) { this.values.delete(e); const t = this.valueSubscriptions.get(e); t && (t(), this.valueSubscriptions.delete(e)), delete this.latestValues[e], this.removeValueFromRenderState(e, this.renderState) } hasValue(e) { return this.values.has(e) } getValue(e, t) { if (this.props.values && this.props.values[e]) return this.props.values[e]; let i = this.values.get(e); return i === void 0 && t !== void 0 && (i = Jv(t === null ? void 0 : t, { owner: this }), this.addValue(e, i)), i } readValue(e, t) { var i; let o = this.latestValues[e] !== void 0 || !this.current ? this.latestValues[e] : (i = this.getBaseTargetFromProps(this.props, e)) !== null && i !== void 0 ? i : this.readValueFromInstance(this.current, e, this.options); return o != null && (typeof o == "string" && (PP(o) || EP(o)) ? o = parseFloat(o) : !xq(o) && id.test(t) && (o = RP(e, t)), this.setBaseTarget(e, Tr(o) ? o.get() : o)), Tr(o) ? o.get() : o } setBaseTarget(e, t) { this.baseTarget[e] = t } getBaseTarget(e) { var t; const { initial: i } = this.props; let o; if (typeof i == "string" || typeof i == "object") { const d = dT(this.props, i, (t = this.presenceContext) === null || t === void 0 ? void 0 : t.custom); d && (o = d[e]) } if (i && o !== void 0) return o; const u = this.getBaseTargetFromProps(this.props, e); return u !== void 0 && !Tr(u) ? u : this.initialValues[e] !== void 0 && o === void 0 ? void 0 : this.baseTarget[e] } on(e, t) { return this.events[e] || (this.events[e] = new AT), this.events[e].add(t) } notify(e, ...t) { this.events[e] && this.events[e].notify(...t) } } class cN extends Iq { constructor() { super(...arguments), this.KeyframeResolver = OP } sortInstanceNodePosition(e, t) { return e.compareDocumentPosition(t) & 2 ? 1 : -1 } getBaseTargetFromProps(e, t) { return e.style ? e.style[t] : void 0 } removeValueFromRenderState(e, { vars: t, style: i }) { delete t[e], delete i[e] } handleChildMotionValue() { this.childSubscription && (this.childSubscription(), delete this.childSubscription); const { children: e } = this.props; Tr(e) && (this.childSubscription = e.on("change", t => { this.current && (this.current.textContent = `${t}`) })) } } function kq(n) { return window.getComputedStyle(n) } class Pq extends cN { constructor() { super(...arguments), this.type = "html", this.renderInstance = Qk } readValueFromInstance(e, t) { if (nf.has(t)) { const i = kT(t); return i && i.default || 0 } else { const i = kq(e), o = (Wk(t) ? i.getPropertyValue(t) : i[t]) || 0; return typeof o == "string" ? o.trim() : o } } measureInstanceViewportBox(e, { transformPagePoint: t }) { return JP(e, t) } build(e, t, i) { pT(e, t, i.transformTemplate) } scrapeMotionValuesFromProps(e, t, i) { return yT(e, t, i) } } class Nq extends cN { constructor() { super(...arguments), this.type = "svg", this.isSVGTag = !1, this.measureInstanceViewportBox = ii } getBaseTargetFromProps(e, t) { return e[t] } readValueFromInstance(e, t) { if (nf.has(t)) { const i = kT(t); return i && i.default || 0 } return t = Jk.has(t) ? t : lT(t), e.getAttribute(t) } scrapeMotionValuesFromProps(e, t, i) { return tP(e, t, i) } build(e, t, i) { mT(e, t, this.isSVGTag, i.transformTemplate) } renderInstance(e, t, i, o) { Zk(e, t, i, o) } mount(e) { this.isSVGTag = vT(e.tagName), super.mount(e) } } const Mq = (n, e) => cT(n) ? new Nq(e) : new Pq(e, { allowProjection: n !== I.Fragment }), Dq = s7({ ...iH, ...Tq, ...hq, ...Sq }, Mq), ss = w8(Dq); class Oq { constructor() { this.dbName = "YouTubeAudioSampler", this.dbVersion = 1, this.storeName = "audioCache", this.db = null, this.isInitialized = !1, this.config = { maxStorageSize: 500 * 1024 * 1024, maxEntries: 50, cleanupThreshold: .8, entryTTL: 1440 * 60 * 1e3, retryAttempts: 3, retryDelay: 1e3 }, this.init = this.init.bind(this), this.store = this.store.bind(this), this.retrieve = this.retrieve.bind(this), this.remove = this.remove.bind(this), this.cleanup = this.cleanup.bind(this), this.clear = this.clear.bind(this), this.getStorageInfo = this.getStorageInfo.bind(this) } async init() { if (!(this.isInitialized && this.db)) return new Promise((e, t) => { const i = indexedDB.open(this.dbName, this.dbVersion); i.onerror = () => { console.error("Failed to open IndexedDB:", i.error), t(new Error(`IndexedDB initialization failed: ${i.error?.message}`)) }, i.onsuccess = () => { this.db = i.result, this.isInitialized = !0, this.db.onerror = o => { console.error("IndexedDB error:", o.target.error) }, console.log("StorageManager initialized successfully"), e() }, i.onupgradeneeded = o => { const u = o.target.result; if (!u.objectStoreNames.contains(this.storeName)) { const d = u.createObjectStore(this.storeName, { keyPath: "id" }); d.createIndex("timestamp", "timestamp", { unique: !1 }), d.createIndex("size", "size", { unique: !1 }), d.createIndex("youtubeUrl", "youtubeUrl", { unique: !1 }), console.log("Created IndexedDB object store and indexes") } } }) } async store(e, t, i = null) { try { await this.ensureInitialized(); const o = this.generateId(e), u = this.serializeAudioBuffer(t), d = this.calculateSize(u, i); await this.ensureStorageSpace(d); const p = { id: o, youtubeUrl: e, audioData: u, waveformData: i, size: d, timestamp: Date.now(), format: "audiobuffer", sampleRate: t.sampleRate, numberOfChannels: t.numberOfChannels, duration: t.duration }; return await this.performStore(p), console.log(`Stored audio for ${e} (${this.formatSize(d)})`), !0 } catch (o) { if (console.error("Failed to store audio:", o), o.name === "QuotaExceededError") try { return await this.performEmergencyCleanup(), await this.performStore(entry), !0 } catch (u) { console.error("Retry after cleanup also failed:", u) } throw new Error(`Storage failed: ${o.message}`) } } async retrieve(e) { try { await this.ensureInitialized(); const t = this.generateId(e), i = await this.performRetrieve(t); if (!i) return null; if (this.isExpired(i)) return await this.remove(e), null; const o = this.deserializeAudioBuffer(i.audioData, i.sampleRate, i.numberOfChannels); return await this.updateAccessTime(t), console.log(`Retrieved audio for ${e}`), { audioBuffer: o, waveformData: i.waveformData, metadata: { duration: i.duration, sampleRate: i.sampleRate, numberOfChannels: i.numberOfChannels, size: i.size, timestamp: i.timestamp } } } catch (t) { return console.error("Failed to retrieve audio:", t), null } } async remove(e) { try { await this.ensureInitialized(); const t = this.generateId(e); return new Promise((i, o) => { const p = this.db.transaction([this.storeName], "readwrite").objectStore(this.storeName).delete(t); p.onsuccess = () => { console.log(`Removed audio for ${e}`), i(!0) }, p.onerror = () => { o(new Error(`Failed to remove entry: ${p.error?.message}`)) } }) } catch (t) { return console.error("Failed to remove audio:", t), !1 } } async has(e) { try { await this.ensureInitialized(); const t = this.generateId(e), i = await this.performRetrieve(t); return i ? this.isExpired(i) ? (await this.remove(e), !1) : !0 : !1 } catch (t) { return console.error("Failed to check storage:", t), !1 } } async cleanup() { try { await this.ensureInitialized(); const e = await this.getAllEntries(), t = Date.now(); let i = 0; e.sort((d, p) => d.timestamp - p.timestamp); const u = this.db.transaction([this.storeName], "readwrite").objectStore(this.storeName); for (const d of e) { let p = !1; this.isExpired(d) && (p = !0), e.length - i > this.config.maxEntries && (p = !0), p && (await new Promise((m, y) => { const w = u.delete(d.id); w.onsuccess = () => m(), w.onerror = () => y(w.error) }), i++) } return i > 0 && console.log(`Cleaned up ${i} expired/old audio entries`), i } catch (e) { return console.error("Cleanup failed:", e), 0 } } async clear() { try { return await this.ensureInitialized(), new Promise((e, t) => { const u = this.db.transaction([this.storeName], "readwrite").objectStore(this.storeName).clear(); u.onsuccess = () => { console.log("Cleared all audio storage"), e(!0) }, u.onerror = () => { t(new Error(`Failed to clear storage: ${u.error?.message}`)) } }) } catch (e) { return console.error("Failed to clear storage:", e), !1 } } async getStorageInfo() { try { await this.ensureInitialized(); const e = await this.getAllEntries(), t = e.reduce((d, p) => d + (p.size || 0), 0), i = e.filter(d => this.isExpired(d)).length; let o = null, u = null; if ("storage" in navigator && "estimate" in navigator.storage) try { const d = await navigator.storage.estimate(); o = d.quota, u = d.usage } catch (d) { console.warn("Could not get storage estimate:", d) } return { entryCount: e.length, expiredCount: i, totalSize: t, totalSizeMB: Math.round(t / (1024 * 1024) * 100) / 100, maxEntries: this.config.maxEntries, maxSize: this.config.maxStorageSize, maxSizeMB: Math.round(this.config.maxStorageSize / (1024 * 1024)), quota: o, usage: u, utilizationPercent: o ? Math.round(u / o * 100) : null, oldestEntry: e.length > 0 ? Math.min(...e.map(d => d.timestamp)) : null, newestEntry: e.length > 0 ? Math.max(...e.map(d => d.timestamp)) : null } } catch (e) { return console.error("Failed to get storage info:", e), { entryCount: 0, expiredCount: 0, totalSize: 0, error: e.message } } } async ensureInitialized() { this.isInitialized || await this.init() } generateId(e) { const t = e.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/); return t ? `yt_${t[1]}` : `url_${btoa(e).replace(/[^a-zA-Z0-9]/g, "")}` } serializeAudioBuffer(e) { const t = []; for (let i = 0; i < e.numberOfChannels; i++) { const o = e.getChannelData(i); t.push(Array.from(o)) } return { channels: t, sampleRate: e.sampleRate, numberOfChannels: e.numberOfChannels, duration: e.duration } } deserializeAudioBuffer(e, t, i) { const o = new (window.AudioContext || window.webkitAudioContext), u = e.channels[0].length, d = o.createBuffer(i, u, t); for (let p = 0; p < i; p++) { const m = d.getChannelData(p), y = e.channels[p]; for (let w = 0; w < u; w++)m[w] = y[w] } return d } calculateSize(e, t) { let i = 0; if (e && e.channels) for (const o of e.channels) i += o.length * 4; return t && (i += t.length * 4), i += 1024, i } async ensureStorageSpace(e) { if ((await this.getStorageInfo()).totalSize + e > this.config.maxStorageSize * this.config.cleanupThreshold && (console.log("Storage threshold reached, performing cleanup..."), await this.cleanup()), (await this.getStorageInfo()).totalSize + e > this.config.maxStorageSize) throw new Error("Insufficient storage space available") } async performEmergencyCleanup() { console.log("Performing emergency cleanup..."); const e = await this.getAllEntries(); e.sort((u, d) => u.timestamp - d.timestamp); const t = e.slice(0, Math.floor(e.length / 2)), o = this.db.transaction([this.storeName], "readwrite").objectStore(this.storeName); for (const u of t) await new Promise((d, p) => { const m = o.delete(u.id); m.onsuccess = () => d(), m.onerror = () => p(m.error) }); console.log(`Emergency cleanup removed ${t.length} entries`) } async performStore(e) { return new Promise((t, i) => { const d = this.db.transaction([this.storeName], "readwrite").objectStore(this.storeName).put(e); d.onsuccess = () => t(), d.onerror = () => i(d.error) }) } async performRetrieve(e) { return new Promise((t, i) => { const d = this.db.transaction([this.storeName], "readonly").objectStore(this.storeName).get(e); d.onsuccess = () => t(d.result), d.onerror = () => i(d.error) }) } async updateAccessTime(e) { try { const t = await this.performRetrieve(e); t && (t.lastAccessed = Date.now(), await this.performStore(t)) } catch (t) { console.warn("Failed to update access time:", t) } } async getAllEntries() { return new Promise((e, t) => { const u = this.db.transaction([this.storeName], "readonly").objectStore(this.storeName).getAll(); u.onsuccess = () => e(u.result || []), u.onerror = () => t(u.error) }) } isExpired(e) { return Date.now() - e.timestamp > this.config.entryTTL } formatSize(e) { if (e === 0) return "0 B"; const t = 1024, i = ["B", "KB", "MB", "GB"], o = Math.floor(Math.log(e) / Math.log(t)); return parseFloat((e / Math.pow(t, o)).toFixed(2)) + " " + i[o] } async close() { this.db && (this.db.close(), this.db = null, this.isInitialized = !1, console.log("StorageManager closed")) } } const ty = new Oq; ty.init().catch(n => { console.error("Failed to initialize StorageManager:", n) }); typeof window < "u" && (window.addEventListener("beforeunload", () => { ty.close() }), setInterval(() => { ty.cleanup().catch(n => { console.warn("Periodic cleanup failed:", n) }) }, 1800 * 1e3)); class Lq { constructor() { this.metrics = new Map, this.memorySnapshots = [], this.performanceObserver = null, this.isMonitoring = !1, this.config = { maxMetricsHistory: 100, memorySnapshotInterval: 5e3, maxMemorySnapshots: 50, performanceThresholds: { audioDownload: 3e4, audioProcessing: 1e4, waveformGeneration: 5e3, memoryUsage: 500 * 1024 * 1024, gcTriggerThreshold: .8 } }, this.startMonitoring = this.startMonitoring.bind(this), this.stopMonitoring = this.stopMonitoring.bind(this), this.recordMetric = this.recordMetric.bind(this), this.getMetrics = this.getMetrics.bind(this), this.cleanup = this.cleanup.bind(this) } startMonitoring() { this.isMonitoring || (this.isMonitoring = !0, this.startMemoryMonitoring(), this.initializePerformanceObserver(), console.log("PerformanceMonitor started")) } stopMonitoring() { this.isMonitoring && (this.isMonitoring = !1, this.memoryInterval && (clearInterval(this.memoryInterval), this.memoryInterval = null), this.performanceObserver && (this.performanceObserver.disconnect(), this.performanceObserver = null), console.log("PerformanceMonitor stopped")) } recordMetric(e, t, i = {}) { const o = Date.now(), u = { operation: e, duration: t, timestamp: o, metadata: { ...i } }; this.metrics.has(e) || this.metrics.set(e, []); const d = this.metrics.get(e); return d.push(u), d.length > this.config.maxMetricsHistory && d.shift(), this.checkPerformanceThresholds(e, t, i), u } startMeasurement(e) { const t = performance.now(), i = this.getCurrentMemoryUsage(); return (o = {}) => { const d = performance.now() - t, p = this.getCurrentMemoryUsage(), m = { ...o, startMemory: i, endMemory: p, memoryDelta: p.usedJSHeapSize - i.usedJSHeapSize }; return this.recordMetric(e, d, m) } } getMetrics(e = null) { if (e) { const i = this.metrics.get(e) || []; return this.calculateMetricsSummary(i, e) } const t = {}; for (const [i, o] of this.metrics) t[i] = this.calculateMetricsSummary(o, i); return { operations: t, memory: this.getMemoryMetrics(), system: this.getSystemMetrics() } } getCurrentMemoryUsage() { return "memory" in performance ? { usedJSHeapSize: performance.memory.usedJSHeapSize, totalJSHeapSize: performance.memory.totalJSHeapSize, jsHeapSizeLimit: performance.memory.jsHeapSizeLimit, timestamp: Date.now() } : { usedJSHeapSize: 0, totalJSHeapSize: 0, jsHeapSizeLimit: 0, timestamp: Date.now(), unavailable: !0 } } shouldTriggerGC() { const e = this.getCurrentMemoryUsage(); return e.unavailable ? !1 : e.usedJSHeapSize / e.jsHeapSizeLimit > this.config.performanceThresholds.gcTriggerThreshold } triggerGC() { if (window.gc && typeof window.gc == "function") try { const e = this.getCurrentMemoryUsage(); window.gc(); const t = this.getCurrentMemoryUsage(); return console.log("Manual GC triggered:", { before: this.formatBytes(e.usedJSHeapSize), after: this.formatBytes(t.usedJSHeapSize), freed: this.formatBytes(e.usedJSHeapSize - t.usedJSHeapSize) }), !0 } catch (e) { console.warn("Failed to trigger manual GC:", e) } return !1 } getMemoryOptimizationRecommendations() { const e = [], t = this.getCurrentMemoryUsage(); if (t.unavailable) return ["Memory monitoring unavailable in this environment"]; const i = t.usedJSHeapSize / t.jsHeapSizeLimit; if (i > .9 ? e.push("Critical: Memory usage above 90%. Consider clearing audio cache.") : i > .8 && e.push("Warning: Memory usage above 80%. Monitor closely."), this.memorySnapshots.length >= 10) { const u = this.memorySnapshots.slice(-10); this.calculateMemoryTrend(u) > .1 && e.push("Potential memory leak detected. Consider restarting the application.") } const o = this.metrics.get("audio_processing") || []; return o.length > 0 && o.reduce((d, p) => d + (p.metadata.memoryDelta || 0), 0) / o.length > 50 * 1024 * 1024 && e.push("Audio processing consuming significant memory. Consider optimizing buffer management."), e } getPerformanceOptimizationRecommendations() { const e = [], t = this.metrics.get("audio_download") || []; t.length > 0 && t.reduce((u, d) => u + d.duration, 0) / t.length > this.config.performanceThresholds.audioDownload && e.push("Audio downloads are slow. Check network connection or server performance."); const i = this.metrics.get("waveform_generation") || []; return i.length > 0 && i.reduce((u, d) => u + d.duration, 0) / i.length > this.config.performanceThresholds.waveformGeneration && e.push("Waveform generation is slow. Consider using Web Workers or reducing sample count."), e } startMemoryMonitoring() { this.memoryInterval = setInterval(() => { const e = this.getCurrentMemoryUsage(); this.memorySnapshots.push(e), this.memorySnapshots.length > this.config.maxMemorySnapshots && this.memorySnapshots.shift(), this.shouldTriggerGC() && this.triggerGC() }, this.config.memorySnapshotInterval) } initializePerformanceObserver() { if ("PerformanceObserver" in window) try { this.performanceObserver = new PerformanceObserver(e => { const t = e.getEntries(); for (const i of t) i.entryType === "measure" && this.recordMetric(`browser_${i.name}`, i.duration, { entryType: i.entryType, startTime: i.startTime }) }), this.performanceObserver.observe({ entryTypes: ["measure", "navigation"] }) } catch (e) { console.warn("Failed to initialize PerformanceObserver:", e) } } checkPerformanceThresholds(e, t, i) { const o = this.config.performanceThresholds[e]; o && t > o && console.warn(`Performance threshold exceeded for ${e}:`, { duration: `${t}ms`, threshold: `${o}ms`, metadata: i }) } calculateMetricsSummary(e, t) { if (e.length === 0) return { operation: t, count: 0, avgDuration: 0, minDuration: 0, maxDuration: 0, totalDuration: 0 }; const i = e.map(u => u.duration), o = i.reduce((u, d) => u + d, 0); return { operation: t, count: e.length, avgDuration: Math.round(o / e.length), minDuration: Math.min(...i), maxDuration: Math.max(...i), totalDuration: Math.round(o), recentMetrics: e.slice(-5) } } getMemoryMetrics() { if (this.memorySnapshots.length === 0) return { unavailable: !0 }; const e = this.memorySnapshots[this.memorySnapshots.length - 1], t = this.calculateMemoryTrend(this.memorySnapshots.slice(-10)); return { current: { used: this.formatBytes(e.usedJSHeapSize), total: this.formatBytes(e.totalJSHeapSize), limit: this.formatBytes(e.jsHeapSizeLimit), usagePercent: Math.round(e.usedJSHeapSize / e.jsHeapSizeLimit * 100) }, trend: { direction: t > .05 ? "increasing" : t < -.05 ? "decreasing" : "stable", percentage: Math.round(t * 100) }, snapshots: this.memorySnapshots.length } } getSystemMetrics() { const e = { timestamp: Date.now(), userAgent: navigator.userAgent, hardwareConcurrency: navigator.hardwareConcurrency || "unknown" }; return "connection" in navigator && (e.connection = { effectiveType: navigator.connection.effectiveType, downlink: navigator.connection.downlink, rtt: navigator.connection.rtt }), e } calculateMemoryTrend(e) { if (e.length < 2) return 0; const t = e[0].usedJSHeapSize; return (e[e.length - 1].usedJSHeapSize - t) / t } formatBytes(e) { if (e === 0) return "0 B"; const t = 1024, i = ["B", "KB", "MB", "GB"], o = Math.floor(Math.log(e) / Math.log(t)); return parseFloat((e / Math.pow(t, o)).toFixed(2)) + " " + i[o] } cleanup() { this.stopMonitoring(), this.metrics.clear(), this.memorySnapshots = [], console.log("PerformanceMonitor cleaned up") } } const is = new Lq; is.startMonitoring(); typeof window < "u" && window.addEventListener("beforeunload", () => { is.cleanup() }); class Vq { constructor() { this.audioBuffers = new Map, this.bufferMetadata = new Map, this.cleanupCallbacks = new Set, this.isMonitoring = !1, this.config = { maxMemoryUsage: 400 * 1024 * 1024, cleanupThreshold: .8, maxBufferAge: 1800 * 1e3, maxBufferCount: 20, gcInterval: 6e4, memoryCheckInterval: 1e4, priorityLevels: { HIGH: 3, MEDIUM: 2, LOW: 1 } }, this.registerBuffer = this.registerBuffer.bind(this), this.unregisterBuffer = this.unregisterBuffer.bind(this), this.getBuffer = this.getBuffer.bind(this), this.cleanup = this.cleanup.bind(this), this.startMonitoring = this.startMonitoring.bind(this), this.stopMonitoring = this.stopMonitoring.bind(this) } startMonitoring() { this.isMonitoring || (this.isMonitoring = !0, this.gcInterval = setInterval(() => { this.performGarbageCollection() }, this.config.gcInterval), this.memoryCheckInterval = setInterval(() => { this.checkMemoryUsage() }, this.config.memoryCheckInterval), console.log("MemoryManager monitoring started")) } stopMonitoring() { this.isMonitoring && (this.isMonitoring = !1, this.gcInterval && (clearInterval(this.gcInterval), this.gcInterval = null), this.memoryCheckInterval && (clearInterval(this.memoryCheckInterval), this.memoryCheckInterval = null), console.log("MemoryManager monitoring stopped")) } registerBuffer(e, t, i = {}) { try { if (!t || !e) throw new Error("Invalid buffer or ID provided"); const o = this.calculateBufferSize(t); this.shouldTriggerCleanup(o) && this.performEmergencyCleanup(o); const u = { id: e, size: o, createdAt: Date.now(), lastAccessed: Date.now(), accessCount: 0, priority: i.priority || this.config.priorityLevels.MEDIUM, persistent: i.persistent || !1, tags: i.tags || [], source: i.source || "unknown" }; return this.audioBuffers.set(e, t), this.bufferMetadata.set(e, u), console.log(`Registered audio buffer: ${e} (${this.formatBytes(o)})`), !0 } catch (o) { return console.error("Failed to register audio buffer:", o), !1 } } unregisterBuffer(e) { try { const t = this.bufferMetadata.get(e); if (t) { for (const i of this.cleanupCallbacks) try { i(e, t) } catch (o) { console.warn("Cleanup callback failed:", o) } console.log(`Unregistered audio buffer: ${e} (${this.formatBytes(t.size)})`) } return this.audioBuffers.delete(e), this.bufferMetadata.delete(e), !0 } catch (t) { return console.error("Failed to unregister audio buffer:", t), !1 } } getBuffer(e) { const t = this.audioBuffers.get(e); if (t) { const i = this.bufferMetadata.get(e); i && (i.lastAccessed = Date.now(), i.accessCount++) } return t || null } hasBuffer(e) { return this.audioBuffers.has(e) } getBufferMetadata(e) { return this.bufferMetadata.get(e) || null } updateBufferPriority(e, t) { const i = this.bufferMetadata.get(e); i && (i.priority = t) } addCleanupCallback(e) { this.cleanupCallbacks.add(e) } removeCleanupCallback(e) { this.cleanupCallbacks.delete(e) } getMemoryStats() { let e = 0, t = null, i = null; const o = { HIGH: 0, MEDIUM: 0, LOW: 0 }; for (const [d, p] of this.bufferMetadata) { e += p.size, (!t || p.createdAt < t.createdAt) && (t = p), (!i || p.createdAt > i.createdAt) && (i = p); const m = Object.keys(this.config.priorityLevels).find(y => this.config.priorityLevels[y] === p.priority) || "UNKNOWN"; o[m] = (o[m] || 0) + 1 } const u = is.getCurrentMemoryUsage(); return { audioBuffers: { count: this.audioBuffers.size, totalSize: e, totalSizeMB: Math.round(e / (1024 * 1024) * 100) / 100, maxSize: this.config.maxMemoryUsage, maxSizeMB: Math.round(this.config.maxMemoryUsage / (1024 * 1024)), usagePercent: Math.round(e / this.config.maxMemoryUsage * 100), oldestBuffer: t ? { id: t.id, age: Date.now() - t.createdAt, size: this.formatBytes(t.size) } : null, newestBuffer: i ? { id: i.id, age: Date.now() - i.createdAt, size: this.formatBytes(i.size) } : null, byPriority: o }, system: { jsHeapUsed: u.usedJSHeapSize, jsHeapTotal: u.totalJSHeapSize, jsHeapLimit: u.jsHeapSizeLimit, jsHeapUsedMB: Math.round(u.usedJSHeapSize / (1024 * 1024) * 100) / 100 }, recommendations: this.getMemoryRecommendations() } } listBuffers() { const e = []; for (const [t, i] of this.bufferMetadata) e.push({ id: t, size: this.formatBytes(i.size), age: Date.now() - i.createdAt, lastAccessed: Date.now() - i.lastAccessed, accessCount: i.accessCount, priority: i.priority, persistent: i.persistent, tags: i.tags, source: i.source }); return e.sort((t, i) => i.lastAccessed - t.lastAccessed) } performGarbageCollection() { const e = is.startMeasurement("memory_gc"); try { let t = 0, i = 0; const o = Date.now(), u = Array.from(this.bufferMetadata.entries()).map(([d, p]) => ({ id: d, ...p })).sort(this.getCleanupPriority.bind(this)); for (const d of u) { let p = !1; const m = o - d.createdAt; !d.persistent && m > this.config.maxBufferAge && (p = !0), this.audioBuffers.size > this.config.maxBufferCount && (p = !0), p && (i += d.size, this.unregisterBuffer(d.id), t++) } t > 0 && console.log(`GC cleaned up ${t} buffers, freed ${this.formatBytes(i)}`), e({ cleanedCount: t, freedBytes: i }) } catch (t) { console.error("Garbage collection failed:", t), e({ error: t.message }) } } performEmergencyCleanup(e = 0) { console.log("Performing emergency memory cleanup..."); const t = is.startMeasurement("emergency_cleanup"); try { let i = 0, o = 0; const u = Array.from(this.bufferMetadata.entries()).map(([d, p]) => ({ id: d, ...p })).sort(this.getCleanupPriority.bind(this)).reverse(); for (const d of u) { if (d.persistent) continue; if (i += d.size, this.unregisterBuffer(d.id), o++, e > 0 && i >= e || this.getCurrentMemoryUsage() < this.config.maxMemoryUsage * this.config.cleanupThreshold) break } console.log(`Emergency cleanup freed ${this.formatBytes(i)} from ${o} buffers`), t({ cleanedCount: o, freedBytes: i, requiredBytes: e }) } catch (i) { console.error("Emergency cleanup failed:", i), t({ error: i.message }) } } checkMemoryUsage() { const e = this.getCurrentMemoryUsage(), t = this.config.maxMemoryUsage * this.config.cleanupThreshold; e > t && (console.log(`Memory usage (${this.formatBytes(e)}) exceeds threshold, triggering cleanup...`), this.performGarbageCollection()) } calculateBufferSize(e) { return e.numberOfChannels * e.length * 4 } getCurrentMemoryUsage() { let e = 0; for (const t of this.bufferMetadata.values()) e += t.size; return e } shouldTriggerCleanup(e = 0) { const i = this.getCurrentMemoryUsage() + e, o = this.config.maxMemoryUsage * this.config.cleanupThreshold; return i > o || this.audioBuffers.size >= this.config.maxBufferCount } getCleanupPriority(e, t) { return e.priority !== t.priority ? t.priority - e.priority : e.persistent !== t.persistent ? t.persistent - e.persistent : e.lastAccessed !== t.lastAccessed ? t.lastAccessed - e.lastAccessed : e.accessCount !== t.accessCount ? t.accessCount - e.accessCount : t.createdAt - e.createdAt } getMemoryRecommendations() { const e = []; let t = 0, i = null; for (const [u, d] of this.bufferMetadata) t += d.size, (!i || d.createdAt < i.createdAt) && (i = d); const o = Math.round(t / this.config.maxMemoryUsage * 100); return o > 90 ? e.push("Critical: Audio buffer memory usage above 90%. Consider clearing unused buffers.") : o > 80 && e.push("Warning: Audio buffer memory usage above 80%. Monitor closely."), this.audioBuffers.size > this.config.maxBufferCount * .8 && e.push("High buffer count detected. Consider implementing more aggressive cleanup."), i && Date.now() - i.createdAt > this.config.maxBufferAge && e.push("Old audio buffers detected. Consider manual cleanup."), e } formatBytes(e) { if (e === 0) return "0 B"; const t = 1024, i = ["B", "KB", "MB", "GB"], o = Math.floor(Math.log(e) / Math.log(t)); return parseFloat((e / Math.pow(t, o)).toFixed(2)) + " " + i[o] } cleanup() { this.stopMonitoring(); for (const [e, t] of this.bufferMetadata) for (const i of this.cleanupCallbacks) try { i(e, t) } catch (o) { console.warn("Cleanup callback failed:", o) } this.audioBuffers.clear(), this.bufferMetadata.clear(), this.cleanupCallbacks.clear(), console.log("MemoryManager cleaned up") } } const du = new Vq; du.startMonitoring(); typeof window < "u" && window.addEventListener("beforeunload", () => { du.cleanup() }); class jq { constructor() { this.audioContext = null, this.masterGainNode = null, this.activeSources = new Map, this.audioBuffer = null, this.storageManager = ty, this.isInitialized = !1, this.masterVolume = 1, this.initializeAudioContext = this.initializeAudioContext.bind(this), this.cleanup = this.cleanup.bind(this) } async initializeAudioContext() { try { return (!this.audioContext || this.audioContext.state === "closed") && (this.audioContext = new (window.AudioContext || window.webkitAudioContext), this.masterGainNode = this.audioContext.createGain(), this.masterGainNode.connect(this.audioContext.destination), this.masterGainNode.gain.value = this.masterVolume), this.audioContext.state === "suspended" && await this.audioContext.resume(), this.isInitialized = !0, !0 } catch (e) { throw console.error("Failed to initialize AudioContext:", e), new Error(`AudioContext initialization failed: ${e.message}`) } } async loadAudioBuffer(e, t = null) { try { await this.initializeAudioContext(); let i = t; if (!i) { const o = await this.storageManager.getAudioData(e); if (!o || !o.audioBuffer) throw new Error(`No audio buffer found for ID: ${e}`); i = o.audioBuffer } return this.audioBuffer = await this.audioContext.decodeAudioData(i.slice()), this.audioBuffer } catch (i) { throw console.error("Failed to load audio buffer:", i), new Error(`Audio buffer loading failed: ${i.message}`) } } async playSample(e, t = null, i = null, o = null) { const u = is.startMeasurement("sample_playback"); try { if (!this.audioBuffer) throw new Error("No audio buffer loaded"); await this.initializeAudioContext(); const d = o || `sample_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`; if (e < 0 || e >= this.audioBuffer.duration) throw new Error(`Invalid start time: ${e}. Must be between 0 and ${this.audioBuffer.duration}`); const p = this.audioBuffer.duration - e, m = t ? Math.min(t, p) : p, y = this.audioContext.createBufferSource(); y.buffer = this.audioBuffer; const w = this.audioContext.createGain(), E = i !== null ? i : this.masterVolume; w.gain.value = E, y.connect(w), w.connect(this.masterGainNode), this.activeSources.set(d, { source: y, gainNode: w, startTime: e, duration: m, startedAt: this.audioContext.currentTime }), y.onended = () => { this.activeSources.delete(d) }; const C = this.audioContext.currentTime; y.start(C, e, m); const N = { id: d, startTime: e, duration: m, volume: E }; return u({ success: !0, sampleId: d, startTime: e, duration: m, activeSamples: this.activeSources.size }), N } catch (d) { throw u({ error: d.message, startTime: e, duration: t }), console.error("Failed to play sample:", d), new Error(`Sample playback failed: ${d.message}`) } } stopSample(e) { try { const t = this.activeSources.get(e); return t ? (t.source.stop(), this.activeSources.delete(e), !0) : !1 } catch (t) { return console.error("Failed to stop sample:", t), !1 } } stopAllSamples() { try { for (const [e, t] of this.activeSources) try { t.source.stop() } catch (i) { console.warn(`Failed to stop sample ${e}:`, i) } this.activeSources.clear() } catch (e) { console.error("Failed to stop all samples:", e) } } setMasterVolume(e) { try { this.masterVolume = Math.max(0, Math.min(1, e)), this.masterGainNode && (this.masterGainNode.gain.value = this.masterVolume) } catch (t) { console.error("Failed to set master volume:", t) } } setSampleVolume(e, t) { try { const i = this.activeSources.get(e); if (i) { const o = Math.max(0, Math.min(1, t)); return i.gainNode.gain.value = o, !0 } return !1 } catch (i) { return console.error("Failed to set sample volume:", i), !1 } } getActiveSamples() { const e = [], t = this.audioContext ? this.audioContext.currentTime : 0; for (const [i, o] of this.activeSources) { const u = t - o.startedAt, d = Math.max(0, o.duration - u); e.push({ id: i, startTime: o.startTime, duration: o.duration, elapsed: u, remaining: d, volume: o.gainNode.gain.value }) } return e } async jumpToTimestamp(e, t = !0) { const i = is.startMeasurement("timestamp_jump"); try { if (!this.audioBuffer) throw new Error("No audio buffer loaded"); if (e < 0 || e >= this.audioBuffer.duration) throw new Error(`Invalid timestamp: ${e}. Must be between 0 and ${this.audioBuffer.duration}`); const o = this.activeSources.size; this.stopAllSamples(); let u; return t ? u = await this.playSample(e) : u = { timestamp: e, playing: !1 }, i({ success: !0, newTimestamp: e, maintainPlayback: t, previousSampleCount: o, newSampleId: u.id || null }), u } catch (o) { throw i({ error: o.message, newTimestamp: e, maintainPlayback: t }), console.error("Failed to jump to timestamp:", o), new Error(`Timestamp jump failed: ${o.message}`) } } getStatus() { return { isInitialized: this.isInitialized, audioContextState: this.audioContext ? this.audioContext.state : "not-created", hasAudioBuffer: !!this.audioBuffer, audioBufferDuration: this.audioBuffer ? this.audioBuffer.duration : 0, activeSamplesCount: this.activeSources.size, masterVolume: this.masterVolume } } async cleanup() { try { this.stopAllSamples(), this.audioContext && this.audioContext.state !== "closed" && await this.audioContext.close(), this.audioContext = null, this.masterGainNode = null, this.audioBuffer = null, this.isInitialized = !1, this.activeSources.clear() } catch (e) { console.error("Failed to cleanup SamplePlaybackEngine:", e) } } } function Uq({ youtubeUrl: n, setPlayerState: e, volume: t, onPlayerReady: i, audioBuffer: o, onSyncError: u }) { const [d, p] = I.useState(""), [m, y] = I.useState(null), [w, E] = I.useState(!1), C = I.useRef(null), N = I.useRef(null), [U, k] = I.useState(!1), [R, L] = I.useState(null), z = I.useRef(0), $ = I.useRef(!1); I.useEffect(() => { const O = n.match(/(?:v=)([^&?]+)/) || n.match(/(?:youtu.be\/)([^&?]+)/), q = O ? O[1] : ""; p(q) }, [n]), I.useEffect(() => { (async () => { try { N.current || (N.current = new jq), o ? (console.log("Loading audio buffer into VideoPlayer SamplePlaybackEngine..."), await N.current.loadAudioBuffer("video-sync", o), k(!0), L(null), console.log("VideoPlayer SamplePlaybackEngine ready for synchronization")) : k(!1) } catch (q) { console.error("Failed to initialize VideoPlayer SamplePlaybackEngine:", q), L(`Engine initialization failed: ${q.message}`), k(!1), u?.(q) } })() }, [o, u]), I.useEffect(() => { if (window.YT && window.YT.Player) { E(!0); return } if (!window.onYouTubeIframeAPIReady) { const O = document.createElement("script"); O.src = "https://www.youtube.com/iframe_api"; const q = document.getElementsByTagName("script")[0]; q.parentNode.insertBefore(O, q), window.onYouTubeIframeAPIReady = () => { E(!0) } } }, []), I.useEffect(() => { if (!w || !d) return; const O = new window.YT.Player("youtube-player", { height: "100%", width: "100%", videoId: d, playerVars: { autoplay: 0, controls: 1, modestbranding: 1, rel: 0, enablejsapi: 1 }, events: { onReady: q => { y(q.target); const G = q.target.getDuration(); e(H => ({ ...H, duration: G })); const K = { ...q.target, syncToTimestamp: re, handleSampleTriggered: F, getSyncStatus: V, sampleEngine: N.current }; i?.(K) }, onStateChange: q => { const G = q.data === window.YT.PlayerState.PLAYING; e(K => ({ ...K, isPlaying: G })), G ? J() : Q() } } }); return () => { O && O.destroy && O.destroy(), Q() } }, [w, d, e, i]), I.useEffect(() => () => { N.current && N.current.cleanup().catch(O => { console.error("Failed to cleanup VideoPlayer SamplePlaybackEngine:", O) }) }, [d]); const J = () => { C.current && clearInterval(C.current), C.current = setInterval(() => { if (m && m.getCurrentTime) { const O = m.getCurrentTime(); if (e(q => ({ ...q, currentTime: O })), U && N.current) try { const q = N.current.getActiveSamples() } catch (q) { console.warn("Error checking audio sync:", q) } } }, 100) }, Q = () => { C.current && (clearInterval(C.current), C.current = null) }, re = I.useCallback(async (O, q = !0) => { try { if (!m || !U || !N.current) throw new Error("Video player or audio engine not ready for synchronization"); if ($.current) return; $.current = !0, z.current = O; const G = m.getPlayerState() === window.YT.PlayerState.PLAYING; m.seekTo(O, !0), q && G ? await N.current.jumpToTimestamp(O, !0) : await N.current.jumpToTimestamp(O, !1), e(K => ({ ...K, currentTime: O, isPlaying: q && G })), L(null), console.log(`Video-audio sync completed at timestamp: ${O}`) } catch (G) { console.error("Video-audio synchronization failed:", G), L(`Sync failed: ${G.message}`), u?.(G) } finally { $.current = !1 } }, [m, U, e, u]), F = I.useCallback(async O => { try { if (!U || !N.current) throw new Error("Audio engine not ready for sample playback"); const q = m?.getCurrentTime() || 0; Math.abs(q - O) > .5 && await re(O, !0), await N.current.playSample(O), console.log(`Sample triggered at timestamp: ${O}`) } catch (q) { console.error("Failed to handle sample trigger:", q), L(`Sample trigger failed: ${q.message}`), u?.(q) } }, [m, U, re, u]), V = I.useCallback(() => ({ isEngineReady: U, hasAudioBuffer: !!o, syncError: R, lastSeekTime: z.current, isSyncing: $.current, engineStatus: N.current?.getStatus() || null }), [U, o, R]); return I.useEffect(() => { m && m.setVolume && m.setVolume(t * 100) }, [m, t]), x.jsx(ss.div, { initial: { opacity: 0, scale: .95 }, animate: { opacity: 1, scale: 1 }, transition: { duration: .5 }, className: "aspect-video w-full bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl shadow-lg overflow-hidden relative", children: d ? x.jsxs(x.Fragment, { children: [x.jsx("div", { id: "youtube-player", className: "w-full h-full" }), o && x.jsxs("div", { className: "absolute top-2 right-2 flex items-center space-x-2", children: [x.jsx("div", { className: `w-2 h-2 rounded-full ${U ? "bg-green-400" : "bg-yellow-400"}`, title: U ? "Audio sync ready" : "Audio sync initializing" }), R && x.jsx("div", { className: "bg-red-500/80 text-white text-xs px-2 py-1 rounded", title: R, children: "Sync Error" })] })] }) : x.jsx("div", { className: "w-full h-full flex items-center justify-center", children: x.jsx("p", { className: "text-white/50", children: "Enter a YouTube URL to get started" }) }) }) } const Wh = I.forwardRef(({ className: n, type: e, ...t }, i) => x.jsx("input", { type: e, className: $n("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50", n), ref: i, ...t })); Wh.displayName = "Input"; class Bq { constructor() { this.retryAttempts = new Map, this.errorHistory = [], this.config = { maxRetries: 3, baseRetryDelay: 1e3, maxRetryDelay: 1e4, transientErrorPatterns: [/network/i, /timeout/i, /fetch/i, /connection/i, /temporary/i, /rate.?limit/i, /service.?unavailable/i, /internal.?server/i, /502|503|504/], permanentErrorPatterns: [/not.?found/i, /unauthorized/i, /forbidden/i, /invalid.?url/i, /malformed/i, /unsupported/i, /private/i, /deleted/i, /restricted/i] }, this.shouldRetry = this.shouldRetry.bind(this), this.executeWithRetry = this.executeWithRetry.bind(this), this.classifyError = this.classifyError.bind(this) } classifyError(e) { const t = e?.message || "", i = e?.stack || "", o = `${t} ${i}`.toLowerCase(); return this.config.permanentErrorPatterns.some(p => p.test(o)) ? { type: "permanent", category: this.getErrorCategory(o), retryable: !1, userActionRequired: !0, severity: "error" } : this.config.transientErrorPatterns.some(p => p.test(o)) ? { type: "transient", category: this.getErrorCategory(o), retryable: !0, userActionRequired: !1, severity: "warning" } : { type: "unknown", category: "system", retryable: !0, userActionRequired: !1, severity: "error" } } getErrorCategory(e) { return /network|connection|fetch|cors/i.test(e) ? "network" : /audio|decode|buffer|context/i.test(e) ? "audio" : /video|youtube|player|embed/i.test(e) ? "video" : /timeout|slow|delay/i.test(e) ? "timeout" : /quota|limit|rate/i.test(e) ? "quota" : /storage|cache|memory/i.test(e) ? "storage" : /permission|unauthorized|forbidden/i.test(e) ? "permission" : "system" } shouldRetry(e, t) { return this.classifyError(e).retryable ? (this.retryAttempts.get(t) || 0) < this.config.maxRetries : !1 } calculateRetryDelay(e) { const t = Math.min(this.config.baseRetryDelay * Math.pow(2, e), this.config.maxRetryDelay), i = Math.random() * .3 * t; return Math.floor(t + i) } async executeWithRetry(e, t, i = {}) { const { onProgress: o = null, onRetry: u = null, maxRetries: d = this.config.maxRetries, context: p = {} } = i; let m = null; const y = Date.now(); this.retryAttempts.set(t, 0); for (let C = 0; C <= d; C++)try { o && o({ status: C === 0 ? "starting" : "retrying", attempt: C + 1, maxAttempts: d + 1, operationId: t, context: p }); const N = await e(); return this.retryAttempts.delete(t), this.recordSuccess(t, C, Date.now() - y), N } catch (N) { m = N; const U = this.classifyError(N); if (this.recordError(t, N, C, U), C >= d || !U.retryable) break; const k = this.calculateRetryDelay(C); this.retryAttempts.set(t, C + 1), u && u({ error: N, attempt: C + 1, maxAttempts: d + 1, delay: k, classification: U, operationId: t }), o && o({ status: "waiting_retry", attempt: C + 1, maxAttempts: d + 1, delay: k, error: N.message, operationId: t, context: p }), await this.sleep(k) } this.retryAttempts.delete(t); const w = this.classifyError(m), E = new Error(m.message); throw E.originalError = m, E.classification = w, E.attempts = d + 1, E.operationId = t, E } recordError(e, t, i, o) { const u = { timestamp: Date.now(), operationId: e, error: { message: t.message, stack: t.stack, name: t.name }, attempt: i, classification: o }; this.errorHistory.push(u), this.errorHistory.length > 100 && this.errorHistory.shift(), console.warn(`Error in operation ${e} (attempt ${i + 1}):`, { error: t.message, classification: o, stack: t.stack }) } recordSuccess(e, t, i) { console.log(`Operation ${e} succeeded after ${t + 1} attempts in ${i}ms`) } getErrorStats() { const e = Date.now(), t = this.errorHistory.filter(u => e - u.timestamp < 3e5), i = {}, o = {}; return t.forEach(u => { const d = u.classification.category, p = u.classification.type; i[d] = (i[d] || 0) + 1, o[p] = (o[p] || 0) + 1 }), { totalErrors: this.errorHistory.length, recentErrors: t.length, activeRetries: this.retryAttempts.size, errorsByCategory: i, errorsByType: o, lastError: this.errorHistory[this.errorHistory.length - 1] || null } } getUserFriendlyError(e) { const t = e.classification || this.classifyError(e), i = { network: { title: "Connection Problem", message: "Unable to connect to the service. Please check your internet connection.", suggestions: ["Check your internet connection", "Try refreshing the page", "Wait a moment and try again"] }, audio: { title: "Audio Processing Error", message: "Unable to process the audio from this video.", suggestions: ["Try a different YouTube video", "Check if the video has audio", "Ensure your browser supports audio playback"] }, video: { title: "Video Player Error", message: "Unable to load or play the video.", suggestions: ["Check if the YouTube URL is valid", "Ensure the video is public", "Try refreshing the page"] }, timeout: { title: "Request Timeout", message: "The operation is taking too long to complete.", suggestions: ["Check your internet speed", "Try a shorter video", "Wait and try again later"] }, quota: { title: "Service Limit Reached", message: "The service has reached its usage limit.", suggestions: ["Wait a few minutes and try again", "Try during off-peak hours", "Contact support if this persists"] }, storage: { title: "Storage Error", message: "Unable to store or retrieve data locally.", suggestions: ["Clear your browser cache", "Free up storage space", "Try using a private/incognito window"] }, permission: { title: "Permission Error", message: "Access to the requested resource is denied.", suggestions: ["Check if the video is public", "Try a different video", "Contact the video owner if needed"] }, system: { title: "System Error", message: "An unexpected error occurred.", suggestions: ["Try refreshing the page", "Clear your browser cache", "Try a different browser if the issue persists"] } }; return { ...i[t.category] || i.system, classification: t, canRetry: t.retryable && !e.attempts, technical: null } } sleep(e) { return new Promise(t => setTimeout(t, e)) } reset() { this.errorHistory.length = 0, this.retryAttempts.clear(), console.log("ErrorRecoveryService reset") } cleanup() { this.reset() } } const Op = new Bq; class Fq {
  constructor() { this.workers = [], this.maxWorkers = Math.min(navigator.hardwareConcurrency || 4, 4), this.workerPool = [], this.activeJobs = new Map, this.cache = new Map, this.config = { defaultSamples: 400, maxSamples: 2e3, chunkSize: 1024 * 1024, useWebWorkers: !0, enableCaching: !0, progressiveRendering: !0, memoryThreshold: 100 * 1024 * 1024 }, this.generateWaveform = this.generateWaveform.bind(this), this.generateProgressiveWaveform = this.generateProgressiveWaveform.bind(this), this.cleanup = this.cleanup.bind(this) } async generateWaveform(e, t = {}) { const i = is.startMeasurement("waveform_generation"); try { const o = { samples: Math.min(t.samples || this.config.defaultSamples, this.config.maxSamples), channel: t.channel || 0, normalize: t.normalize !== !1, progressive: t.progressive || !1, onProgress: t.onProgress || null }, u = this.generateCacheKey(e, o); if (this.config.enableCaching && this.cache.has(u)) { const y = this.cache.get(u); return o.onProgress && o.onProgress({ progress: 100, status: "cached" }), i({ cached: !0, samples: o.samples }), y } const d = this.estimateAudioSize(e), p = this.config.useWebWorkers && d > this.config.memoryThreshold; let m; return p && this.supportsWebWorkers() ? m = await this.generateWithWebWorkers(e, o) : o.progressive && d > this.config.memoryThreshold ? m = await this.generateProgressiveWaveform(e, o) : m = await this.generateSynchronous(e, o), this.config.enableCaching && (this.cache.set(u, m), this.manageCacheSize()), i({ samples: o.samples, audioSize: d, useWorkers: p, progressive: o.progressive }), m } catch (o) { throw i({ error: o.message }), new Error(`Waveform generation failed: ${o.message}`) } } async generateProgressiveWaveform(e, t) { const i = e.getChannelData(t.channel), o = i.length, u = Math.floor(o / t.samples), d = Math.min(this.config.chunkSize, Math.floor(o / 10)), p = new Float32Array(t.samples); let m = 0; for (let w = 0; w < o; w += d) { const C = Math.min(w + d, o) - w; if (await this.processChunk(i, w, C, u, p, t.samples), m += C, t.onProgress) { const N = Math.round(m / o * 100); t.onProgress({ progress: N, status: "processing", processedSamples: m, totalSamples: o }) } await this.yieldControl() } let y = Array.from(p); return t.normalize && (y = this.normalizeWaveform(y)), { data: y, samples: t.samples, duration: e.duration, sampleRate: e.sampleRate, channels: e.numberOfChannels, progressive: !0 } } async generateWithWebWorkers(e, t) { return new Promise((i, o) => { const u = this.getWorker(), d = `waveform_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`; this.activeJobs.set(d, { worker: u, resolve: i, reject: o }); const p = y => { const { type: w, jobId: E, data: C, error: N } = y.data; E === d && (w === "progress" && t.onProgress ? t.onProgress(C) : w === "complete" ? (u.removeEventListener("message", p), this.releaseWorker(u), this.activeJobs.delete(d), i(C)) : w === "error" && (u.removeEventListener("message", p), this.releaseWorker(u), this.activeJobs.delete(d), o(new Error(N)))) }; u.addEventListener("message", p); const m = e.getChannelData(t.channel); u.postMessage({ type: "generateWaveform", jobId: d, audioData: m.buffer.slice(), config: { samples: t.samples, normalize: t.normalize, sampleRate: e.sampleRate, duration: e.duration, channels: e.numberOfChannels } }), setTimeout(() => { this.activeJobs.has(d) && (u.removeEventListener("message", p), this.releaseWorker(u), this.activeJobs.delete(d), o(new Error("Waveform generation timeout"))) }, 3e4) }) } async generateSynchronous(e, t) { const i = e.getChannelData(t.channel), o = Math.floor(i.length / t.samples), u = []; for (let p = 0; p < t.samples; p++) { const m = o * p, y = Math.min(m + o, i.length); let w = 0, E = 0; for (let N = m; N < y; N++) { const U = i[N]; w += U * U, E++ } const C = E > 0 ? Math.sqrt(w / E) : 0; if (u.push(C), t.onProgress && p % 50 === 0) { const N = Math.round(p / t.samples * 100); t.onProgress({ progress: N, status: "processing" }) } p % 100 === 0 && await this.yieldControl() } return { data: t.normalize ? this.normalizeWaveform(u) : u, samples: t.samples, duration: e.duration, sampleRate: e.sampleRate, channels: e.numberOfChannels, progressive: !1 } } async processChunk(e, t, i, o, u, d) { const p = Math.floor(i / e.length * d), m = Math.floor(t / e.length * d); for (let y = 0; y < p; y++) { const w = m + y; if (w >= d) break; const E = Math.floor(w / d * e.length), C = Math.min(E + o, e.length); let N = 0, U = 0; for (let R = E; R < C; R++) { const L = e[R]; N += L * L, U++ } const k = U > 0 ? Math.sqrt(N / U) : 0; u[w] = k } } normalizeWaveform(e) { const t = Math.max(...e); if (t === 0) return e; const i = 1 / t; return e.map(o => o * i) } getWorker() { if (this.workerPool.length > 0) return this.workerPool.pop(); if (this.workers.length < this.maxWorkers) { const e = this.createWorker(); return this.workers.push(e), e } return new Promise(e => { const t = () => { this.workerPool.length > 0 ? e(this.workerPool.pop()) : setTimeout(t, 100) }; t() }) } releaseWorker(e) { this.workerPool.push(e) } createWorker() {
    const e = `
      self.addEventListener('message', function(event) {
        const { type, jobId, audioData, config } = event.data;
        
        if (type === 'generateWaveform') {
          try {
            const channelData = new Float32Array(audioData);
            const blockSize = Math.floor(channelData.length / config.samples);
            const waveformData = [];
            
            for (let i = 0; i < config.samples; i++) {
              const blockStart = blockSize * i;
              const blockEnd = Math.min(blockStart + blockSize, channelData.length);
              
              let sum = 0;
              let count = 0;
              
              for (let j = blockStart; j < blockEnd; j++) {
                const sample = channelData[j];
                sum += sample * sample;
                count++;
              }
              
              const rms = count > 0 ? Math.sqrt(sum / count) : 0;
              waveformData.push(rms);
              
              // Report progress every 10%
              if (i % Math.floor(config.samples / 10) === 0) {
                self.postMessage({
                  type: 'progress',
                  jobId,
                  data: {
                    progress: Math.round((i / config.samples) * 100),
                    status: 'processing'
                  }
                });
              }
            }
            
            // Normalize if requested
            let finalData = waveformData;
            if (config.normalize) {
              const maxValue = Math.max(...waveformData);
              if (maxValue > 0) {
                const multiplier = 1 / maxValue;
                finalData = waveformData.map(value => value * multiplier);
              }
            }
            
            self.postMessage({
              type: 'complete',
              jobId,
              data: {
                data: finalData,
                samples: config.samples,
                duration: config.duration,
                sampleRate: config.sampleRate,
                channels: config.channels,
                progressive: false
              }
            });
            
          } catch (error) {
            self.postMessage({
              type: 'error',
              jobId,
              error: error.message
            });
          }
        }
      });
    `, t = new Blob([e], { type: "application/javascript" }); return new Worker(URL.createObjectURL(t))
  } supportsWebWorkers() { return typeof Worker < "u" } estimateAudioSize(e) { return e.numberOfChannels * e.length * 4 } generateCacheKey(e, t) { const i = `${e.duration}_${e.sampleRate}_${e.numberOfChannels}`, o = `${t.samples}_${t.channel}_${t.normalize}`; return `${i}_${o}` } manageCacheSize() { if (this.cache.size > 10) { const t = Array.from(this.cache.entries()), i = t.slice(0, t.length - 10); for (const [o] of i) this.cache.delete(o) } } async yieldControl() { return new Promise(e => setTimeout(e, 0)) } getStats() { return { activeWorkers: this.workers.length, availableWorkers: this.workerPool.length, activeJobs: this.activeJobs.size, cacheSize: this.cache.size, maxWorkers: this.maxWorkers, supportsWebWorkers: this.supportsWebWorkers() } } clearCache() { this.cache.clear(), console.log("Waveform cache cleared") } cleanup() { for (const e of this.workers) e.terminate(); this.workers = [], this.workerPool = [], this.activeJobs.clear(), this.cache.clear(), console.log("OptimizedWaveformGenerator cleaned up") }
} const Sb = new Fq; typeof window < "u" && window.addEventListener("beforeunload", () => { Sb.cleanup() }); class zq { constructor() { this.audioContext = null, this.supportedFormats = ["audio/mpeg", "audio/mp3", "audio/wav", "audio/wave", "audio/ogg", "audio/webm", "audio/mp4", "audio/m4a", "audio/flac"], this.processFile = this.processFile.bind(this), this.processURL = this.processURL.bind(this), this.cleanup = this.cleanup.bind(this) } async processFile(e, t = null) { const i = is.startMeasurement("audio_file_processing"); try { this.validateFile(e), t && t({ status: "reading", progress: 10 }); const o = await this.readFileAsArrayBuffer(e); t && t({ status: "decoding", progress: 30 }), this.audioContext = new (window.AudioContext || window.webkitAudioContext); const u = await this.audioContext.decodeAudioData(o); t && t({ status: "generating_waveform", progress: 70 }); const d = await Sb.generateWaveform(u, { samples: 400, normalize: !0, onProgress: y => { if (t) { const w = 70 + y.progress * .25; t({ status: "generating_waveform", progress: Math.round(w) }) } } }), p = `uploaded_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`; du.registerBuffer(p, u, { priority: du.config.priorityLevels.HIGH, tags: ["uploaded", "user_file"], source: "file_upload" }); const m = { audioBuffer: u, waveformData: d.data, metadata: { filename: e.name, size: e.size, type: e.type, duration: u.duration, sampleRate: u.sampleRate, channels: u.numberOfChannels, bufferId: p } }; return t && t({ status: "complete", progress: 100 }), i({ success: !0, filename: e.name, duration: u.duration, size: e.size }), m } catch (o) { throw i({ error: o.message, filename: e?.name }), console.error("Audio file processing failed:", o), new Error(`File processing failed: ${o.message}`) } } async processURL(e, t = null) { const i = is.startMeasurement("audio_url_processing"); try { t && t({ status: "downloading", progress: 10 }); const o = await fetch(e); if (!o.ok) throw new Error(`Failed to fetch audio: ${o.status}`); const u = await o.arrayBuffer(); t && t({ status: "decoding", progress: 50 }), this.audioContext = new (window.AudioContext || window.webkitAudioContext); const d = await this.audioContext.decodeAudioData(u); t && t({ status: "generating_waveform", progress: 80 }); const p = await Sb.generateWaveform(d, { samples: 400, normalize: !0 }), m = `url_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`; du.registerBuffer(m, d, { priority: du.config.priorityLevels.MEDIUM, tags: ["url", "remote"], source: "url_download" }); const y = { audioBuffer: d, waveformData: p.data, metadata: { url: e, duration: d.duration, sampleRate: d.sampleRate, channels: d.numberOfChannels, bufferId: m } }; return t && t({ status: "complete", progress: 100 }), i({ success: !0, url: e, duration: d.duration }), y } catch (o) { throw i({ error: o.message, url: e }), console.error("Audio URL processing failed:", o), new Error(`URL processing failed: ${o.message}`) } } validateFile(e) { if (!e) throw new Error("No file provided"); if (!this.supportedFormats.includes(e.type)) throw new Error(`Unsupported file type: ${e.type}. Supported formats: ${this.supportedFormats.join(", ")}`); const t = 100 * 1024 * 1024; if (e.size > t) throw new Error(`File too large: ${Math.round(e.size / 1024 / 1024)}MB. Maximum size: 100MB`) } readFileAsArrayBuffer(e) { return new Promise((t, i) => { const o = new FileReader; o.onload = () => t(o.result), o.onerror = () => i(new Error("Failed to read file")), o.readAsArrayBuffer(e) }) } getSupportedFormats() { return [...this.supportedFormats] } isFormatSupported(e) { return this.supportedFormats.includes(e) } cleanup() { this.audioContext && this.audioContext.state !== "closed" && (this.audioContext.close(), this.audioContext = null), console.log("AudioFileProcessor cleaned up") } } const wC = new zq; class Hq { constructor() { this.audioContext = null, this.downloadCache = new Map, this.progressCallbacks = new Map, this.abortControllers = new Map, this.config = { maxRetries: 3, baseRetryDelay: 1e3, maxRetryDelay: 1e4, downloadTimeout: 6e4, functionUrl: "https://us-central1-chop-stop.cloudfunctions.net/getAudioStream" }, this.downloadAndProcessAudio = this.downloadAndProcessAudio.bind(this), this.getAudioBuffer = this.getAudioBuffer.bind(this), this.clearCache = this.clearCache.bind(this), this.cleanup = this.cleanup.bind(this) } getAudioContext() { return (!this.audioContext || this.audioContext.state === "closed") && (this.audioContext = new (window.AudioContext || window.webkitAudioContext)), this.audioContext.state === "suspended" && this.audioContext.resume().catch(e => { console.warn("Failed to resume AudioContext:", e) }), this.audioContext } async downloadAndProcessAudio(e, t = null) { if (e instanceof File) return await this.processAudioFile(e, t); if (typeof e == "string") { if (this.isDirectAudioURL(e)) return await this.processDirectAudioURL(e, t); if (this.isYouTubeURL(e)) return await this.processYouTubeURL(e, t); throw new Error("Unsupported URL format") } else throw new Error("Invalid source type") } async processAudioFile(e, t = null) { const i = is.startMeasurement("audio_file_upload"); try { const o = await wC.processFile(e, t); return i({ success: !0, filename: e.name }), o } catch (o) { throw i({ error: o.message }), o } } async processDirectAudioURL(e, t = null) { const i = is.startMeasurement("direct_audio_url"); try { const o = await wC.processURL(e, t); return i({ success: !0, url: e }), o } catch (o) { throw i({ error: o.message }), o } } async processYouTubeURL(e, t = null) { const i = is.startMeasurement("audio_download"); if (!e) throw new Error("YouTube URL is required"); const o = this.getCacheKey(e); if (this.downloadCache.has(o)) { const d = this.downloadCache.get(o); return t && t({ status: "ready", progress: 100 }), i({ cached: !0, cacheKey: o }), d } t && this.progressCallbacks.set(o, t); const u = `audio_download_${o}`; try { const d = await Op.executeWithRetry(() => this.performDownload(e, o, t), u, { maxRetries: this.config.maxRetries, onProgress: p => { t && t({ status: p.status === "starting" ? "downloading" : p.status === "retrying" || p.status === "waiting_retry" ? "retrying" : "downloading", progress: 0, attempt: p.attempt, maxAttempts: p.maxAttempts, retryDelay: p.delay, error: p.error, operationId: p.operationId }) }, onRetry: p => { console.warn(`Audio download retry ${p.attempt}/${p.maxAttempts}:`, p.error.message) }, context: { youtubeUrl: e, cacheKey: o } }); return this.downloadCache.set(o, d), du.registerBuffer(o, d.audioBuffer, { priority: du.config.priorityLevels.HIGH, source: "audio_download", tags: ["youtube", "audio"] }), t && t({ status: "ready", progress: 100 }), i({ success: !0, cacheKey: o, audioSize: this.estimateAudioSize(d.audioBuffer), waveformSamples: d.waveformData?.length || 0 }), d } catch (d) { const p = new Error(d.message); throw p.originalError = d.originalError || d, p.classification = d.classification, p.attempts = d.attempts, p.operationId = u, p.youtubeUrl = e, t && t({ status: "error", progress: 0, error: p.message, classification: p.classification }), i({ error: p.message, classification: p.classification, attempts: p.attempts }), p } } async performDownload(e, t, i) { const o = new AbortController; this.abortControllers.set(t, o); try { const u = setTimeout(() => { o.abort() }, this.config.downloadTimeout), d = `${this.config.functionUrl}?url=${encodeURIComponent(e)}`, p = await fetch(d, { method: "GET", signal: o.signal }); if (clearTimeout(u), !p.ok) { let z = `Server responded with ${p.status}`; try { z = (await p.json()).message || z } catch { z = await p.text() || z } throw new Error(z) } const m = p.headers.get("content-length"), y = p.body.getReader(), w = []; let E = 0; for (; ;) { const { done: z, value: $ } = await y.read(); if (z) break; if (w.push($), E += $.length, m && i) { const J = Math.round(E / parseInt(m) * 70); i({ status: "downloading", progress: Math.min(J, 70), bytesReceived: E, totalBytes: parseInt(m) }) } } const C = new ArrayBuffer(E), N = new Uint8Array(C); let U = 0; for (const z of w) N.set(z, U), U += z.length; i && i({ status: "processing", progress: 75 }); const R = await this.getAudioContext().decodeAudioData(C); i && i({ status: "generating_waveform", progress: 90 }); const L = this.generateWaveformData(R); return { audioBuffer: R, waveformData: L } } finally { this.abortControllers.delete(t) } } async generateWaveformData(e, t = 400) { const i = is.startMeasurement("waveform_generation"); try { const o = await Sb.generateWaveform(e, { samples: t, normalize: !0, progressive: this.estimateAudioSize(e) > 52428800 }); return i({ samples: t, audioSize: this.estimateAudioSize(e), progressive: o.progressive }), o.data } catch (o) { return i({ error: o.message }), console.warn("Optimized waveform generation failed, using fallback:", o), this.generateSimpleWaveform(e, t) } } generateSimpleWaveform(e, t = 400) { const i = e.getChannelData(0), o = Math.floor(i.length / t), u = []; for (let m = 0; m < t; m++) { const y = o * m; let w = 0; for (let E = 0; E < o; E++)w += Math.abs(i[y + E]); u.push(w / o) } const d = Math.max(...u), p = d > 0 ? Math.pow(d, -1) : 1; return u.map(m => m * p) } getAudioBuffer(e) { const t = this.getCacheKey(e); return this.downloadCache.get(t) || null } isCached(e) { const t = this.getCacheKey(e); return this.downloadCache.has(t) } getDownloadProgress(e) { const t = this.getCacheKey(e); return this.progressCallbacks.get(t) ? { hasProgress: !0 } : null } cancelDownload(e) { const t = this.getCacheKey(e), i = this.abortControllers.get(t); i && (i.abort(), this.abortControllers.delete(t)), this.progressCallbacks.delete(t) } clearCache() { for (const [e, t] of this.abortControllers) t.abort(); for (const e of this.downloadCache.keys()) du.unregisterBuffer(e); this.downloadCache.clear(), this.progressCallbacks.clear(), this.abortControllers.clear(), console.log("AudioProcessingService cache cleared") } cleanup() { this.clearCache(), this.audioContext && this.audioContext.state !== "closed" && (this.audioContext.close().catch(e => { console.warn("Error closing AudioContext:", e) }), this.audioContext = null), console.log("AudioProcessingService cleaned up") } calculateRetryDelay(e) { const t = Math.min(this.config.baseRetryDelay * Math.pow(2, e), this.config.maxRetryDelay), i = Math.random() * .1 * t; return Math.floor(t + i) } isDirectAudioURL(e) { const t = [".mp3", ".wav", ".ogg", ".m4a", ".flac", ".webm"], i = e.toLowerCase(); return t.some(o => i.includes(o)) || e.includes("audio/") || e.includes("soundcloud.com") || e.includes("bandcamp.com") } isYouTubeURL(e) { return e.includes("youtube.com") || e.includes("youtu.be") } getCacheKey(e) { if (typeof e == "string") { const t = e.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/); return t ? t[1] : e } else if (e instanceof File) return `file_${e.name}_${e.size}_${e.lastModified}`; return e.toString() } sleep(e) { return new Promise(t => setTimeout(t, e)) } getStats() { return { cachedItems: this.downloadCache.size, activeDownloads: this.abortControllers.size, audioContextState: this.audioContext?.state || "not_initialized", memoryUsage: this.estimateMemoryUsage() } } estimateMemoryUsage() { let e = 0; for (const [, t] of this.downloadCache) t.audioBuffer && (e += this.estimateAudioSize(t.audioBuffer)); return { bytes: e, mb: Math.round(e / (1024 * 1024) * 100) / 100 } } estimateAudioSize(e) { return e.numberOfChannels * e.length * 4 } } const $a = new Hq; typeof window < "u" && window.addEventListener("beforeunload", () => { $a.cleanup() }); class qq { constructor() { this.cache = new Map, this.isGenerating = !1 } async generateWaveform(e, t, i = {}) { const o = `${e}_${t}`; if (this.cache.has(o)) return this.cache.get(o); if (this.isGenerating) return await this.waitForGeneration(), this.cache.get(o) || this.generateFallbackWaveform(t); this.isGenerating = !0; try { const u = await this.tryAudioExtraction(t); if (u) return this.cache.set(o, u), u; const d = await this.generateProceduralWaveform(e, t); if (d) return this.cache.set(o, d), d; const p = this.generateFallbackWaveform(t); return this.cache.set(o, p), p } finally { this.isGenerating = !1 } } async tryAudioExtraction(e) { try { const t = document.querySelector("video"); if (!t) return null; const i = new (window.AudioContext || window.webkitAudioContext), o = i.createMediaElementSource(t), u = i.createAnalyser(); u.fftSize = 2048, o.connect(u), u.connect(i.destination); const d = Math.min(1e3, e * 10), p = new Float32Array(d), m = new Uint8Array(u.frequencyBinCount); return new Promise(y => { let w = 0; const E = e * 1e3 / d, C = () => { if (w >= d) { y(p); return } u.getByteFrequencyData(m); let N = 0; for (let k = 0; k < m.length; k++)N += m[k]; const U = N / m.length; p[w] = U / 255 * 2 - 1, w++, setTimeout(C, E) }; C() }) } catch (t) { return console.log("Audio extraction failed:", t.message), null } } async generateProceduralWaveform(e, t) { try { const i = Math.min(2e3, t * 20), o = new Float32Array(i), u = this.hashCode(e), d = this.seededRandom(u); for (let p = 0; p < i; p++) { const m = p / i, y = m * t; let w = 0; const C = y * 2 % 1; C < .1 && (w += .8 * Math.exp(-C * 20)), w += .3 * Math.sin(y * .5 + d() * Math.PI), w += .2 * Math.sin(y * 1.2 + d() * Math.PI), w += .1 * Math.sin(y * 2.8 + d() * Math.PI), w += (d() - .5) * .1; const N = this.createMusicalEnvelope(m, t); w *= N, o[p] = Math.max(-1, Math.min(1, w)) } return console.log(`Generated procedural waveform for ${e}: ${i} samples`), o } catch (i) { return console.log("Procedural waveform generation failed:", i.message), null } } generateFallbackWaveform(e) { const t = Math.min(1e3, e * 10), i = new Float32Array(t); for (let o = 0; o < t; o++) { const d = o / t * e; let p = .4 * Math.sin(d * .8); p += .2 * Math.sin(d * 2.1), p += .1 * Math.sin(d * 4.3), p *= .8 + .4 * Math.sin(d * .1), i[o] = p } return console.log(`Generated fallback waveform: ${t} samples`), i } createMusicalEnvelope(e, t) { return e < .1 ? e * 10 * .6 : e < .3 ? .6 + (e - .1) * .5 : e < .7 ? .8 + .2 * Math.sin((e - .3) * Math.PI * 2) : e < .9 ? .7 + .3 * Math.sin((e - .7) * Math.PI * 5) : .8 * (1 - (e - .9) * 10) } hashCode(e) { let t = 0; for (let i = 0; i < e.length; i++) { const o = e.charCodeAt(i); t = (t << 5) - t + o, t = t & t } return Math.abs(t) } seededRandom(e) { let t = e; return function () { return t = (t * 9301 + 49297) % 233280, t / 233280 } } async waitForGeneration() { for (; this.isGenerating;)await new Promise(e => setTimeout(e, 100)) } clearCache() { this.cache.clear() } } const Gq = new qq; function Kq({ playerState: n, selectedChop: e, setChopTime: t, waveformData: i, deleteChop: o, youtubeUrl: u, allChops: d = [], onTimestampClick: p, isPlaying: m = !1, onPlayPause: y }) { const w = I.useRef(null), E = I.useRef(null), C = I.useRef(null), N = I.useRef(null), U = I.useRef(null), [k, R] = I.useState(1), [L, z] = I.useState({ startTime: "", endTime: "" }), [$, J] = I.useState(null), [Q, re] = I.useState(!1), [F, V] = I.useState(null), [O, q] = I.useState(null), [G, K] = I.useState(!1), [H, ce] = I.useState(!1), [xe, se] = I.useState(null), [fe, _e] = I.useState(0), [Ie, X] = I.useState(null); I.useEffect(() => { (async () => { if (!(!u || i)) { re(!0); try { const me = $a.getAudioBuffer(u); if (me?.waveformData) { J(me.waveformData), re(!1); return } const nt = await ty.retrieve(u); if (nt?.waveformData) { J(nt.waveformData), re(!1); return } console.log("🎵 No cached waveform found, generating smart waveform..."), K(!0); const qe = u.match(/(?:v=)([^&?]+)/)?.[1]; if (qe && n.duration > 0) { const Qe = await Gq.generateWaveform(qe, n.duration); q(Qe), console.log("✅ Smart waveform generated successfully") } } catch (me) { console.warn("Failed to load waveform data:", me) } finally { re(!1), K(!1) } } })() }, [u, i, n.duration]), I.useEffect(() => { z(e ? { startTime: e.startTime.toFixed(4), endTime: e.endTime.toFixed(4) } : { startTime: "", endTime: "" }) }, [e]); const de = Pe => Pe / n.duration * 100, we = i || $ || O, Ee = I.useCallback(() => { const Pe = E.current; if (!Pe || !we) return; const me = Pe.getContext("2d"), { width: nt, height: qe } = Pe; me.clearRect(0, 0, nt, qe); const Qe = nt * k, zt = (nt - Qe) / 2; me.strokeStyle = "rgba(6, 182, 212, 0.8)", me.lineWidth = 1, me.beginPath(); const Xt = Qe / we.length; let je = zt; for (let Be = 0; Be < we.length; Be++) { const Dt = we[Be] * qe / 2, $t = qe / 2 + Dt; Be === 0 ? me.moveTo(je, $t) : me.lineTo(je, $t), je += Xt } me.stroke(), me.strokeStyle = "rgba(6, 182, 212, 0.4)", me.beginPath(), je = zt; for (let Be = 0; Be < we.length; Be++) { const Dt = we[Be] * qe / 2, $t = qe / 2 - Dt; Be === 0 ? me.moveTo(je, $t) : me.lineTo(je, $t), je += Xt } me.stroke() }, [we, k]); I.useEffect(() => { Ee() }, [Ee]); const Oe = I.useCallback(() => { const Pe = N.current; if (!Pe || !d.length) return; const me = Pe.getContext("2d"), { width: nt, height: qe } = Pe; me.clearRect(0, 0, nt, qe), d.forEach((Qe, zt) => { const Xt = H && e?.padId === Qe.padId && Ie ? Ie : Qe, je = Xt.startTime / n.duration * nt, Be = Xt.endTime / n.duration * nt, Dt = Math.max(2, Be - je), $t = Qe.color || `hsl(${zt * 137.5 % 360}, 70%, 50%)`, os = e?.padId === Qe.padId, ul = H && os, Br = ul ? "66" : os ? "44" : "33"; if (me.fillStyle = `${$t}${Br}`, me.fillRect(je, 0, Dt, qe), me.strokeStyle = $t, me.lineWidth = os ? 3 : 2, me.beginPath(), me.moveTo(je, 0), me.lineTo(je, qe), me.moveTo(Be, 0), me.lineTo(Be, qe), me.stroke(), os && (me.fillStyle = $t, me.fillRect(je - 6 / 2, qe / 2 - 6 / 2, 6, 6), me.fillRect(Be - 6 / 2, qe / 2 - 6 / 2, 6, 6), ul && (me.strokeStyle = "#ffffff", me.lineWidth = 1, me.strokeRect(je - 6 / 2, qe / 2 - 6 / 2, 6, 6), me.strokeRect(Be - 6 / 2, qe / 2 - 6 / 2, 6, 6))), Dt > 30) { me.fillStyle = os ? "#ffffff" : $t, me.font = os ? "bold 10px monospace" : "10px monospace", me.textAlign = "center"; const ir = je + Dt / 2, Fi = Qe.padId || `S${zt + 1}`; if (me.fillText(Fi, ir, qe / 2 + 3), ul && Ie) { me.font = "8px monospace", me.fillStyle = "#ffffff"; const ra = `${(Ie.endTime - Ie.startTime).toFixed(2)}s`; me.fillText(ra, ir, qe / 2 + 15) } } }), H && xe && (me.strokeStyle = "#ffffff", me.lineWidth = 1, me.setLineDash([2, 2]), me.beginPath(), me.moveTo(0, qe / 2), me.lineTo(nt, qe / 2), me.stroke(), me.setLineDash([])) }, [d, n.duration, e, H, Ie, xe]); I.useEffect(() => { Oe() }, [Oe]); const ze = I.useCallback((Pe, me) => Pe / me * n.duration, [n.duration]), Ve = I.useCallback((Pe, me) => Pe / n.duration * me, [n.duration]), Zt = I.useCallback(Pe => { if (!we) return Pe; const me = we.length / n.duration, nt = Math.round(Pe * me), qe = Math.min(50, Math.floor(me * .01)); let Qe = Pe, zt = Math.abs(we[nt] || 0); for (let Xt = -qe; Xt <= qe; Xt++) { const je = nt + Xt; if (je >= 0 && je < we.length) { const Be = Math.abs(we[je]); Be < zt && (zt = Be, Qe = je / me) } } return Qe }, [we, n.duration]), At = I.useCallback(Pe => { if (!e) return; const me = N.current; if (!me) return; const nt = me.getBoundingClientRect(), qe = Pe.clientX - nt.left, Qe = me.width, zt = Ve(e.startTime, Qe), Xt = Ve(e.endTime, Qe), je = 8; Math.abs(qe - zt) < je ? (ce(!0), se("start"), _e(qe), X({ ...e }), Pe.preventDefault()) : Math.abs(qe - Xt) < je && (ce(!0), se("end"), _e(qe), X({ ...e }), Pe.preventDefault()) }, [e, Ve]), Si = I.useCallback(Pe => { if (!H || !Ie || !xe) return; const me = N.current; if (!me) return; const nt = me.getBoundingClientRect(), qe = Pe.clientX - nt.left, Qe = me.width, zt = ze(qe, Qe), Xt = Zt(zt); if (xe === "start") { const je = Ie.endTime - .1, Be = Math.max(0, Math.min(Xt, je)); X(Dt => ({ ...Dt, startTime: Be })) } else if (xe === "end") { const je = Ie.startTime + .1, Be = Math.max(je, Math.min(Xt, n.duration)); X(Dt => ({ ...Dt, endTime: Be })) } }, [H, Ie, xe, ze, Zt, n.duration]), Bi = I.useCallback(() => { H && Ie && e && (t && (t("startTime", Ie.startTime), t("endTime", Ie.endTime)), console.log(`🎯 Sample edited: ${Ie.startTime.toFixed(3)}s - ${Ie.endTime.toFixed(3)}s`)), ce(!1), se(null), _e(0), X(null) }, [H, Ie, e, t]), Ai = I.useCallback(Pe => { if (!e || H) return; const me = N.current; if (!me) return; const nt = me.getBoundingClientRect(), qe = Pe.clientX - nt.left, Qe = me.width, zt = Ve(e.startTime, Qe), Xt = Ve(e.endTime, Qe), je = 8; Math.abs(qe - zt) < je || Math.abs(qe - Xt) < je ? me.style.cursor = "ew-resize" : me.style.cursor = "default" }, [e, H, Ve]); I.useEffect(() => { const Pe = N.current; if (Pe) return Pe.addEventListener("mousedown", At), Pe.addEventListener("mousemove", Ai), document.addEventListener("mousemove", Si), document.addEventListener("mouseup", Bi), () => { Pe.removeEventListener("mousedown", At), Pe.removeEventListener("mousemove", Ai), document.removeEventListener("mousemove", Si), document.removeEventListener("mouseup", Bi) } }, [At, Ai, Si, Bi]); const Sr = I.useCallback(() => { const Pe = C.current; if (!Pe) return; const me = Pe.getContext("2d"), { width: nt, height: qe } = Pe; me.clearRect(0, 0, nt, qe); const Qe = n.currentTime / n.duration * nt; if (me.strokeStyle = "#ef4444", me.lineWidth = 2, me.beginPath(), me.moveTo(Qe, 0), me.lineTo(Qe, qe), me.stroke(), me.fillStyle = "#ef4444", me.beginPath(), me.moveTo(Qe - 6, 0), me.lineTo(Qe + 6, 0), me.lineTo(Qe, 12), me.closePath(), me.fill(), m) { const zt = me.createLinearGradient(0, 0, Qe, 0); zt.addColorStop(0, "rgba(6, 182, 212, 0.1)"), zt.addColorStop(1, "rgba(6, 182, 212, 0.3)"), me.fillStyle = zt, me.fillRect(0, 0, Qe, qe) } }, [n.currentTime, n.duration, m]); I.useEffect(() => { const Pe = () => { Sr(), m && (U.current = requestAnimationFrame(Pe)) }; return m ? Pe() : Sr(), () => { U.current && cancelAnimationFrame(U.current) } }, [Sr, m]); const It = Pe => { if (!w.current) return; const me = w.current.getBoundingClientRect(), qe = (Pe.clientX - me.left) / me.width, Qe = n.duration * qe, zt = d.find(Xt => { const je = Xt.startTime / n.duration, Be = Xt.endTime / n.duration; return qe >= je && qe <= Be }); if (zt) p && p(Qe, zt); else if (e) { const Xt = Math.abs(Qe - e.startTime), je = Math.abs(Qe - e.endTime); Xt < je ? t("startTime", Qe) : t("endTime", Qe) } else t("startTime", Qe) }, ke = Pe => { if (!w.current) return; const me = w.current.getBoundingClientRect(), qe = (Pe.clientX - me.left) / me.width, Qe = n.duration * qe; V(Qe) }, tt = () => { V(null) }, An = (Pe, me) => { z(nt => ({ ...nt, [Pe]: me })) }, Kt = () => { const Pe = parseFloat(L.startTime), me = parseFloat(L.endTime); !isNaN(Pe) && !isNaN(me) && (t("startTime", Pe), t("endTime", me)) }, Ci = () => { e && o(e.padId) }; return x.jsxs(ss.div, { initial: { opacity: 0 }, animate: { opacity: 1 }, className: "bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl shadow-lg p-4 space-y-4", children: [x.jsxs("div", { className: "flex justify-between items-center", children: [x.jsxs("div", { className: "flex items-center gap-2 text-sm text-white/70", children: [x.jsx(nO, { className: "w-4 h-4 text-cyan-400" }), x.jsx("span", { children: "Waveform" }), !we && Q && x.jsx("span", { className: "text-xs text-white/40", children: "(loading cached data...)" }), !we && !Q && x.jsx("span", { className: "text-xs text-white/40", children: "(analyzing audio...)" }), we && x.jsxs("span", { className: "text-xs text-green-400", children: ["(", d.length, " samples)"] })] }), x.jsxs("div", { className: "flex items-center gap-2", children: [y && x.jsx("button", { onClick: y, className: "p-1 hover:bg-white/10 rounded-full", title: m ? "Pause" : "Play", children: m ? x.jsx(HC, { className: "w-4 h-4" }) : x.jsx(O1, { className: "w-4 h-4" }) }), x.jsx("button", { onClick: () => R(Pe => Math.max(1, Pe / 2)), className: "p-1 hover:bg-white/10 rounded-full", title: "Zoom Out", children: x.jsx(_O, { className: "w-5 h-5" }) }), x.jsxs("span", { className: "text-xs font-mono w-8 text-center", children: [k, "x"] }), x.jsx("button", { onClick: () => R(Pe => Math.min(32, Pe * 2)), className: "p-1 hover:bg-white/10 rounded-full", title: "Zoom In", children: x.jsx(bO, { className: "w-5 h-5" }) })] })] }), x.jsxs("div", { ref: w, className: "relative h-32 w-full bg-black/30 rounded-lg cursor-crosshair", onClick: It, onMouseMove: ke, onMouseLeave: tt, children: [x.jsx("canvas", { ref: E, width: 800, height: 128, className: "absolute inset-0 w-full h-full" }), x.jsx("canvas", { ref: N, width: 800, height: 128, className: "absolute inset-0 w-full h-full pointer-events-none" }), x.jsx("canvas", { ref: C, width: 800, height: 128, className: "absolute inset-0 w-full h-full pointer-events-none" }), e && x.jsxs(x.Fragment, { children: [x.jsx("div", { className: "absolute top-0 bottom-0 bg-cyan-500/30 backdrop-brightness-125 z-20 border-2 border-cyan-400", style: { left: `${de(e.startTime)}%`, width: `${de(e.endTime - e.startTime)}%` } }), x.jsx("div", { className: "absolute top-0 bottom-0 w-1 bg-cyan-400 cursor-ew-resize z-30", style: { left: `calc(${de(e.startTime)}% - 2px)` }, title: "Drag to adjust start time" }), x.jsx("div", { className: "absolute top-0 bottom-0 w-1 bg-cyan-400 cursor-ew-resize z-30", style: { left: `calc(${de(e.endTime)}% - 2px)` }, title: "Drag to adjust end time" })] }), F !== null && x.jsx("div", { className: "absolute top-0 bottom-0 w-0.5 bg-white/50 pointer-events-none z-25", style: { left: `${de(F)}%` }, children: x.jsxs("div", { className: "absolute -top-6 left-1/2 transform -translate-x-1/2 bg-black/80 text-white text-xs px-1 py-0.5 rounded whitespace-nowrap", children: [F.toFixed(2), "s"] }) }), !we && x.jsx("div", { className: "absolute inset-0 flex items-center justify-center bg-black/50 rounded-lg", children: x.jsx("div", { className: "text-white/70 text-sm text-center", children: Q ? "Loading cached waveform..." : G ? x.jsxs("div", { children: [x.jsx("div", { children: "Generating smart waveform..." }), x.jsx("div", { className: "text-xs text-white/50 mt-1", children: "Creating visual representation" })] }) : x.jsxs("div", { children: [x.jsx("div", { children: "Preparing waveform..." }), x.jsx("div", { className: "text-xs text-white/50 mt-1", children: "Analyzing audio structure" })] }) }) })] }), e && x.jsxs("div", { className: "grid grid-cols-3 gap-4 items-center", children: [x.jsxs("div", { className: "flex items-center gap-2", children: [x.jsx("label", { className: "text-sm text-white/70", children: "Start" }), x.jsx(Wh, { type: "number", step: "0.01", value: L.startTime, onChange: Pe => An("startTime", Pe.target.value), className: "bg-white/10 border-white/20 w-full" })] }), x.jsxs("div", { className: "flex items-center gap-2", children: [x.jsx("label", { className: "text-sm text-white/70", children: "End" }), x.jsx(Wh, { type: "number", step: "0.01", value: L.endTime, onChange: Pe => An("endTime", Pe.target.value), className: "bg-white/10 border-white/20 w-full" })] }), x.jsxs("div", { className: "flex gap-2", children: [x.jsxs(hn, { onClick: Kt, className: "w-full bg-cyan-500 hover:bg-cyan-600", children: [x.jsx(qC, { className: "w-4 h-4 mr-2" }), " Update"] }), x.jsxs(hn, { onClick: Ci, variant: "destructive", className: "w-full", children: [x.jsx(L1, { className: "w-4 h-4 mr-2" }), " Delete"] })] })] })] }) } function $q({ padId: n, keyLabel: e, isAssigned: t, isSelected: i, color: o, onClick: u, onEdit: d, onDelete: p, chop: m }) {
  const [y, w] = I.useState(!1), [E, C] = I.useState(!1), [N, U] = I.useState({ x: 0, y: 0 }), k = () => { u(), w(!0), C(!1) }, R = I.useCallback(Q => { if (!t) return; Q.preventDefault(), Q.stopPropagation(); const re = Q.currentTarget.getBoundingClientRect(); U({ x: Q.clientX - re.left, y: Q.clientY - re.top }), C(!0) }, [t]), L = I.useCallback(Q => { Q.stopPropagation(), C(!1), d && d(n) }, [n, d]), z = I.useCallback(Q => { Q.stopPropagation(), C(!1), p && p(n) }, [n, p]); I.useEffect(() => { const Q = () => C(!1); if (E) return document.addEventListener("click", Q), () => document.removeEventListener("click", Q) }, [E]); const $ = I.useCallback(Q => { if (isNaN(Q) || Q < 0) return "0:00"; const re = Math.floor(Q / 60), F = Math.floor(Q % 60); return `${re}:${F.toString().padStart(2, "0")}` }, []); I.useEffect(() => { if (y) { const Q = setTimeout(() => w(!1), 150); return () => clearTimeout(Q) } }, [y]); const J = { idle: { scale: 1, boxShadow: "0px 4px 10px rgba(0,0,0,0.3)" }, triggered: { scale: .95, boxShadow: `0px 0px 20px ${o || "#06b6d4"}` } }; return x.jsxs("div", {
    className: "relative w-full h-full", children: [x.jsxs(ss.button, {
      variants: J, animate: y ? "triggered" : "idle", transition: { type: "spring", stiffness: 500, damping: 15 }, onClick: k, onContextMenu: R, className: `relative w-full h-full rounded-lg transition-all duration-200 focus:outline-none flex flex-col justify-between p-2
                    ${i ? "ring-2 ring-offset-2 ring-offset-black/20 ring-cyan-400" : ""}
                    ${t ? "bg-white/20" : "bg-black/30"}
                `, style: { backgroundColor: t ? `${o}4D` : "", border: `1px solid ${t ? o : "rgba(255,255,255,0.2)"}` }, children: [x.jsx("span", { className: "absolute top-1 left-2 text-xs font-mono text-white/40", children: n }), t && d && x.jsx(XD, { className: "absolute top-1 right-2 w-3 h-3 text-white/30" }), x.jsx("span", { className: "text-2xl font-bold text-white/80 self-center", children: e?.toUpperCase() }), t && m && x.jsxs("div", { className: "absolute bottom-6 left-2 right-2 text-xs text-white/60 text-center", children: [$(m.startTime), " - ", $(m.endTime)] }), x.jsx("div", { className: "w-full h-1 absolute bottom-1 left-0", children: t && x.jsx("div", { className: "h-full rounded-full mx-auto", style: { backgroundColor: o, width: "30%" } }) })]
    }), x.jsx(sw, { children: E && x.jsxs(ss.div, { initial: { opacity: 0, scale: .8 }, animate: { opacity: 1, scale: 1 }, exit: { opacity: 0, scale: .8 }, className: "absolute z-50 bg-black/90 backdrop-blur-lg border border-white/20 rounded-lg shadow-lg py-1 min-w-[120px]", style: { left: Math.min(N.x, window.innerWidth - 140), top: Math.min(N.y, window.innerHeight - 80) }, onClick: Q => Q.stopPropagation(), children: [x.jsxs("button", { onClick: L, className: "w-full px-3 py-2 text-left text-sm text-white hover:bg-white/10 flex items-center gap-2", children: [x.jsx(UC, { className: "w-3 h-3" }), "Edit Timestamp"] }), x.jsxs("button", { onClick: z, className: "w-full px-3 py-2 text-left text-sm text-red-300 hover:bg-red-500/20 flex items-center gap-2", children: [x.jsx(L1, { className: "w-3 h-3" }), "Delete Sample"] })] }) })]
  })
} function Wq({ chop: n, audioDuration: e, onSave: t, onCancel: i, onPreview: o, isPreviewPlaying: u = !1, className: d = "" }) { const [p, m] = I.useState(n?.startTime || 0), [y, w] = I.useState(n?.endTime || 0), [E, C] = I.useState({}), [N, U] = I.useState(!1), k = I.useRef(null), R = I.useRef(null); I.useEffect(() => { n && (m(n.startTime), w(n.endTime), U(!1), C({})) }, [n]); const L = I.useCallback(K => { if (isNaN(K) || K < 0) return "00:00.000"; const H = Math.floor(K / 60), ce = Math.floor(K % 60), xe = Math.floor(K % 1 * 1e3); return `${H.toString().padStart(2, "0")}:${ce.toString().padStart(2, "0")}.${xe.toString().padStart(3, "0")}` }, []), z = I.useCallback(K => { if (!K) return 0; const H = K.match(/^(\d{1,2}):(\d{1,2})(?:\.(\d{1,3}))?$/); if (H) { const [, xe, se, fe = "0"] = H, _e = parseInt(xe) * 60 + parseInt(se) + parseInt(fe.padEnd(3, "0")) / 1e3; return Math.max(0, _e) } const ce = parseFloat(K); return isNaN(ce) ? 0 : Math.max(0, ce) }, []), $ = I.useCallback((K, H) => { const ce = {}; K < 0 && (ce.startTime = "Start time cannot be negative"), H < 0 && (ce.endTime = "End time cannot be negative"), e && K >= e && (ce.startTime = `Start time cannot exceed audio duration (${L(e)})`), e && H > e && (ce.endTime = `End time cannot exceed audio duration (${L(e)})`), K >= H && (ce.endTime = "End time must be greater than start time"); const xe = H - K; return xe < .1 && (ce.endTime = "Sample must be at least 0.1 seconds long"), xe > 30 && (ce.endTime = "Sample cannot be longer than 30 seconds"), ce }, [e, L]), J = I.useCallback(K => { const H = z(K); m(H), U(!0); const ce = $(H, y); C(ce) }, [y, z, $]), Q = I.useCallback(K => { const H = z(K); w(H), U(!0); const ce = $(p, H); C(ce) }, [p, z, $]), re = I.useCallback(() => { const K = $(p, y); if (Object.keys(K).length > 0) { C(K); return } t({ ...n, startTime: p, endTime: y }) }, [n, p, y, $, t]), F = I.useCallback(() => { m(n?.startTime || 0), w(n?.endTime || 0), U(!1), C({}), i() }, [n, i]), V = I.useCallback(() => { m(n?.startTime || 0), w(n?.endTime || 0), U(!1), C({}) }, [n]), O = I.useCallback(() => { Object.keys(E).length > 0 || o({ startTime: p, endTime: y, duration: y - p }) }, [p, y, E, o]); if (I.useEffect(() => { const K = H => { H.key === "Enter" && (H.ctrlKey || H.metaKey) ? (H.preventDefault(), re()) : H.key === "Escape" ? (H.preventDefault(), F()) : H.key === " " && (H.ctrlKey || H.metaKey) && (H.preventDefault(), O()) }; return window.addEventListener("keydown", K), () => window.removeEventListener("keydown", K) }, [re, F, O]), !n) return null; const q = y - p, G = Object.keys(E).length > 0; return x.jsxs(ss.div, { initial: { opacity: 0, y: 10 }, animate: { opacity: 1, y: 0 }, exit: { opacity: 0, y: -10 }, className: `bg-black/80 backdrop-blur-lg border border-white/20 rounded-lg p-4 ${d}`, children: [x.jsxs("div", { className: "flex items-center gap-2 mb-4", children: [x.jsx(UC, { className: "w-4 h-4 text-blue-400" }), x.jsxs("h3", { className: "text-sm font-medium text-white", children: ["Edit Timestamp - Pad ", n.padId] }), N && x.jsx("div", { className: "w-2 h-2 bg-yellow-400 rounded-full" })] }), x.jsxs("div", { className: "space-y-4", children: [x.jsxs("div", { children: [x.jsx("label", { className: "block text-xs text-gray-300 mb-1", children: "Start Time" }), x.jsx(Wh, { ref: k, type: "text", value: L(p), onChange: K => J(K.target.value), placeholder: "00:00.000", className: `bg-black/40 border-white/20 text-white ${E.startTime ? "border-red-500" : ""}` }), E.startTime && x.jsx("p", { className: "text-xs text-red-400 mt-1", children: E.startTime })] }), x.jsxs("div", { children: [x.jsx("label", { className: "block text-xs text-gray-300 mb-1", children: "End Time" }), x.jsx(Wh, { ref: R, type: "text", value: L(y), onChange: K => Q(K.target.value), placeholder: "00:00.000", className: `bg-black/40 border-white/20 text-white ${E.endTime ? "border-red-500" : ""}` }), E.endTime && x.jsx("p", { className: "text-xs text-red-400 mt-1", children: E.endTime })] }), x.jsx("div", { className: "bg-black/20 rounded p-2", children: x.jsxs("div", { className: "flex justify-between text-xs text-gray-300", children: [x.jsx("span", { children: "Duration:" }), x.jsx("span", { className: q > 0 ? "text-green-400" : "text-red-400", children: L(q) })] }) }), x.jsx(hn, { onClick: O, disabled: G, variant: "outline", size: "sm", className: "w-full bg-blue-600/20 border-blue-500/50 text-blue-300 hover:bg-blue-600/30", children: u ? x.jsxs(x.Fragment, { children: [x.jsx(HC, { className: "w-3 h-3 mr-2" }), "Stop Preview"] }) : x.jsxs(x.Fragment, { children: [x.jsx(O1, { className: "w-3 h-3 mr-2" }), "Preview Sample"] }) }), x.jsxs("div", { className: "flex gap-2", children: [x.jsxs(hn, { onClick: re, disabled: !N || G, size: "sm", className: "flex-1 bg-green-600 hover:bg-green-700 text-white", children: [x.jsx(SD, { className: "w-3 h-3 mr-2" }), "Save"] }), N && x.jsx(hn, { onClick: V, variant: "outline", size: "sm", className: "bg-yellow-600/20 border-yellow-500/50 text-yellow-300 hover:bg-yellow-600/30", children: x.jsx(eO, { className: "w-3 h-3" }) }), x.jsx(hn, { onClick: F, variant: "outline", size: "sm", className: "bg-red-600/20 border-red-500/50 text-red-300 hover:bg-red-600/30", children: x.jsx(KC, { className: "w-3 h-3" }) })] }), x.jsxs("div", { className: "text-xs text-gray-400 space-y-1", children: [x.jsx("div", { children: "Ctrl+Enter: Save • Escape: Cancel • Ctrl+Space: Preview" }), x.jsx("div", { children: 'Format: MM:SS.mmm or seconds (e.g., "1:30.500" or "90.5")' })] })] })] }) } const g_ = { q: 0, w: 1, e: 2, r: 3, a: 4, s: 5, d: 6, f: 7, z: 8, x: 9, c: 10, v: 11, t: 12, y: 13, u: 14, i: 15 }; function Yq({ chops: n, activeBank: e, selectedPadId: t, setSelectedPadId: i, playerState: o, onCreateSample: u, onUpdateSample: d, onDeleteSample: p, youtubePlayer: m, audioBuffer: y }) { const w = I.useRef(o), [E, C] = I.useState(null); I.useEffect(() => { w.current = o }, [o]); const N = I.useCallback(F => { n.filter(O => O.endTime > F && O.startTime < F).forEach(O => { const q = { ...O, endTime: F }; console.log(`🔄 Updating sample ${O.padId}: end time ${O.endTime}s -> ${F}s`), d?.(q) }) }, [n, d]), U = I.useCallback(F => { console.log(`🎯 FIXED PADGRID v3: Jumping to ${F}s`); const V = ["video", "#youtube-player video", "#youtube-player iframe", 'iframe[src*="youtube"]', '[id*="player"] video']; for (const O of V) { const q = document.querySelector(O); if (q) { if (console.log(`📺 Found element with selector: ${O}`), q.tagName === "VIDEO") try { console.log(`📺 Setting video currentTime to ${F}s`), q.currentTime = F, q.paused && q.play().catch(G => console.log("Play failed:", G.message)), console.log("✅ Video element jump complete"); return } catch (G) { console.log(`❌ Video control failed: ${G.message}`) } else if (q.tagName === "IFRAME") { console.log("📺 Found iframe, trying postMessage"); try { q.contentWindow.postMessage(JSON.stringify({ event: "command", func: "seekTo", args: [F, !0] }), "*"), console.log("✅ Iframe postMessage sent"); return } catch (G) { console.log(`❌ Iframe postMessage failed: ${G.message}`) } } } } if (m && m.seekTo) try { console.log("📺 Trying YouTube API as fallback"), m.seekTo(F, !0), console.log("✅ YouTube API jump complete"); return } catch (O) { console.log("YouTube API seekTo failed:", O.message) } console.log("❌ All jump methods failed") }, [m]), k = I.useCallback(F => { console.log(`🎵 Triggering pad: ${F}`), i(F); const V = n.find(O => O.padId === F); V && U(V.startTime) }, [n, i, U]), R = I.useCallback(F => { console.log(`👆 Selecting pad: ${F}`), i(F) }, [i]), L = I.useCallback(F => { const V = `${e}${F}`; let O = 0, q = "fallback"; if (m && m.getCurrentTime) try { O = m.getCurrentTime(), q = "youtube-api" } catch (xe) { console.log("YouTube API getCurrentTime failed:", xe.message) } if (O === 0) { const xe = document.querySelector("video"); xe && xe.currentTime && (O = xe.currentTime, q = "video-element") } O === 0 && (O = w.current.currentTime, q = "player-state"); const G = w.current.duration || 180; let K; const H = n.filter(xe => xe.startTime > O).sort((xe, se) => xe.startTime - se.startTime); H.length > 0 ? (K = H[0].startTime, console.log(`🎯 Smart boundary: ending at next sample (${K}s)`)) : (K = Math.min(O + 4, G), console.log("🎯 Smart boundary: using default length (4s)")); const ce = .1; K - O < ce && (K = Math.min(O + ce, G)), console.log(`📝 SMART SAMPLE: Creating ${V}`), console.log(`⏱️ Time source: ${q}`), console.log(`🎯 Start: ${O.toFixed(3)}s`), console.log(`🎯 End: ${K.toFixed(3)}s`), console.log(`📏 Length: ${(K - O).toFixed(3)}s`), u(V, O, K), i(V), N(O) }, [e, u, i, m, n]); I.useEffect(() => { const F = V => { if (V.target.tagName === "INPUT" || V.target.tagName === "TEXTAREA") return; const O = g_[V.key.toLowerCase()]; if (O !== void 0) { V.preventDefault(), V.stopPropagation(); const q = `${e}${O}`, G = n.find(K => K.padId === q); console.log(`🎹 FIXED PADGRID v3: Key ${V.key} -> Pad ${q}`), console.log(`🎮 YouTube player available: ${!!(m && m.getCurrentTime)}`), console.log(`📊 PlayerState currentTime: ${w.current.currentTime}`), console.log(`▶️ PlayerState isPlaying: ${w.current.isPlaying}`), console.log(`🎵 Existing chop: ${!!G}`), G ? (console.log("🎯 Triggering existing sample"), k(q)) : w.current.isPlaying ? (console.log("📝 Creating new sample (video is playing)"), L(O)) : (console.log("👆 Just selecting pad (video not playing)"), R(q)) } }; return document.addEventListener("keydown", F, !0), () => document.removeEventListener("keydown", F, !0) }, [n, e, k, L, R]); const z = I.useCallback(F => { C(F), i(F) }, [i]), $ = I.useCallback(F => { d?.(F), C(null) }, [d]), J = I.useCallback(() => { C(null) }, []), Q = I.useCallback(F => { p?.(F), t === F && i(null), E === F && C(null) }, [p, t, E, i]), re = I.useCallback(F => { U(F.startTime) }, [U]); return x.jsxs("div", { className: "relative", children: [x.jsx(ss.div, { initial: { opacity: 0, y: 20 }, animate: { opacity: 1, y: 0 }, transition: { delay: .2 }, className: "grid grid-cols-4 grid-rows-4 gap-3 aspect-square bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl shadow-lg p-4", children: Array.from({ length: 16 }).map((F, V) => { const O = `${e}${V}`, q = n.find(K => K.padId === O), G = Object.keys(g_).find(K => g_[K] === V); return x.jsx($q, { padId: O, keyLabel: G, isAssigned: !!q, isSelected: t === O, color: q?.color, chop: q, onEdit: z, onDelete: Q, onClick: () => { q ? k(O) : R(O) } }, O) }) }), x.jsx(sw, { children: E && x.jsx("div", { className: "absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50", children: x.jsx(Wq, { chop: n.find(F => F.padId === E), audioDuration: o.duration, onSave: $, onCancel: J, onPreview: re, isPreviewPlaying: !1, className: "max-w-md w-full mx-4" }) }) })] }) } function dN(n, [e, t]) { return Math.min(t, Math.max(e, n)) } var Xq = I.createContext(void 0); function Qq(n) { const e = I.useContext(Xq); return n || e || "ltr" } function Jq(n) { const e = I.useRef({ value: n, previous: n }); return I.useMemo(() => (e.current.value !== n && (e.current.previous = e.current.value, e.current.value = n), e.current.previous), [n]) } function Zq(n) { const [e, t] = I.useState(void 0); return Bh(() => { if (n) { t({ width: n.offsetWidth, height: n.offsetHeight }); const i = new ResizeObserver(o => { if (!Array.isArray(o) || !o.length) return; const u = o[0]; let d, p; if ("borderBoxSize" in u) { const m = u.borderBoxSize, y = Array.isArray(m) ? m[0] : m; d = y.inlineSize, p = y.blockSize } else d = n.offsetWidth, p = n.offsetHeight; t({ width: d, height: p }) }); return i.observe(n, { box: "border-box" }), () => i.unobserve(n) } else t(void 0) }, [n]), e } function hN(n) { const e = n + "CollectionProvider", [t, i] = Cb(e), [o, u] = t(e, { collectionRef: { current: null }, itemMap: new Map }), d = k => { const { scope: R, children: L } = k, z = Jo.useRef(null), $ = Jo.useRef(new Map).current; return x.jsx(o, { scope: R, itemMap: $, collectionRef: z, children: L }) }; d.displayName = e; const p = n + "CollectionSlot", m = Lv(p), y = Jo.forwardRef((k, R) => { const { scope: L, children: z } = k, $ = u(p, L), J = tr(R, $.collectionRef); return x.jsx(m, { ref: J, children: z }) }); y.displayName = p; const w = n + "CollectionItemSlot", E = "data-radix-collection-item", C = Lv(w), N = Jo.forwardRef((k, R) => { const { scope: L, children: z, ...$ } = k, J = Jo.useRef(null), Q = tr(R, J), re = u(w, L); return Jo.useEffect(() => (re.itemMap.set(J, { ref: J, ...$ }), () => void re.itemMap.delete(J))), x.jsx(C, { [E]: "", ref: Q, children: z }) }); N.displayName = w; function U(k) { const R = u(n + "CollectionConsumer", k); return Jo.useCallback(() => { const z = R.collectionRef.current; if (!z) return []; const $ = Array.from(z.querySelectorAll(`[${E}]`)); return Array.from(R.itemMap.values()).sort((re, F) => $.indexOf(re.ref.current) - $.indexOf(F.ref.current)) }, [R.collectionRef, R.itemMap]) } return [{ Provider: d, Slot: y, ItemSlot: N }, U, i] } var fN = ["PageUp", "PageDown"], pN = ["ArrowUp", "ArrowDown", "ArrowLeft", "ArrowRight"], mN = { "from-left": ["Home", "PageDown", "ArrowDown", "ArrowLeft"], "from-right": ["Home", "PageDown", "ArrowDown", "ArrowRight"], "from-bottom": ["Home", "PageDown", "ArrowDown", "ArrowLeft"], "from-top": ["Home", "PageDown", "ArrowUp", "ArrowLeft"] }, Am = "Slider", [b1, eG, tG] = hN(Am), [gN, mK] = Cb(Am, [tG]), [nG, dw] = gN(Am), vN = I.forwardRef((n, e) => { const { name: t, min: i = 0, max: o = 100, step: u = 1, orientation: d = "horizontal", disabled: p = !1, minStepsBetweenThumbs: m = 0, defaultValue: y = [i], value: w, onValueChange: E = () => { }, onValueCommit: C = () => { }, inverted: N = !1, form: U, ...k } = n, R = I.useRef(new Set), L = I.useRef(0), $ = d === "horizontal" ? iG : rG, [J = [], Q] = B1({ prop: w, defaultProp: y, onChange: G => { [...R.current][L.current]?.focus(), E(G) } }), re = I.useRef(J); function F(G) { const K = uG(J, G); q(G, K) } function V(G) { q(G, L.current) } function O() { const G = re.current[L.current]; J[L.current] !== G && C(J) } function q(G, K, { commit: H } = { commit: !1 }) { const ce = fG(u), xe = pG(Math.round((G - i) / u) * u + i, ce), se = dN(xe, [i, o]); Q((fe = []) => { const _e = aG(fe, se, K); if (hG(_e, m * u)) { L.current = _e.indexOf(se); const Ie = String(_e) !== String(fe); return Ie && H && C(_e), Ie ? _e : fe } else return fe }) } return x.jsx(nG, { scope: n.__scopeSlider, name: t, disabled: p, min: i, max: o, valueIndexToChangeRef: L, thumbs: R.current, values: J, orientation: d, form: U, children: x.jsx(b1.Provider, { scope: n.__scopeSlider, children: x.jsx(b1.Slot, { scope: n.__scopeSlider, children: x.jsx($, { "aria-disabled": p, "data-disabled": p ? "" : void 0, ...k, ref: e, onPointerDown: In(k.onPointerDown, () => { p || (re.current = J) }), min: i, max: o, inverted: N, onSlideStart: p ? void 0 : F, onSlideMove: p ? void 0 : V, onSlideEnd: p ? void 0 : O, onHomeKeyDown: () => !p && q(i, 0, { commit: !0 }), onEndKeyDown: () => !p && q(o, J.length - 1, { commit: !0 }), onStepKeyDown: ({ event: G, direction: K }) => { if (!p) { const xe = fN.includes(G.key) || G.shiftKey && pN.includes(G.key) ? 10 : 1, se = L.current, fe = J[se], _e = u * xe * K; q(fe + _e, se, { commit: !0 }) } } }) }) }) }) }); vN.displayName = Am; var [yN, bN] = gN(Am, { startEdge: "left", endEdge: "right", size: "width", direction: 1 }), iG = I.forwardRef((n, e) => { const { min: t, max: i, dir: o, inverted: u, onSlideStart: d, onSlideMove: p, onSlideEnd: m, onStepKeyDown: y, ...w } = n, [E, C] = I.useState(null), N = tr(e, $ => C($)), U = I.useRef(void 0), k = Qq(o), R = k === "ltr", L = R && !u || !R && u; function z($) { const J = U.current || E.getBoundingClientRect(), Q = [0, J.width], F = OT(Q, L ? [t, i] : [i, t]); return U.current = J, F($ - J.left) } return x.jsx(yN, { scope: n.__scopeSlider, startEdge: L ? "left" : "right", endEdge: L ? "right" : "left", direction: L ? 1 : -1, size: "width", children: x.jsx(wN, { dir: k, "data-orientation": "horizontal", ...w, ref: N, style: { ...w.style, "--radix-slider-thumb-transform": "translateX(-50%)" }, onSlideStart: $ => { const J = z($.clientX); d?.(J) }, onSlideMove: $ => { const J = z($.clientX); p?.(J) }, onSlideEnd: () => { U.current = void 0, m?.() }, onStepKeyDown: $ => { const Q = mN[L ? "from-left" : "from-right"].includes($.key); y?.({ event: $, direction: Q ? -1 : 1 }) } }) }) }), rG = I.forwardRef((n, e) => { const { min: t, max: i, inverted: o, onSlideStart: u, onSlideMove: d, onSlideEnd: p, onStepKeyDown: m, ...y } = n, w = I.useRef(null), E = tr(e, w), C = I.useRef(void 0), N = !o; function U(k) { const R = C.current || w.current.getBoundingClientRect(), L = [0, R.height], $ = OT(L, N ? [i, t] : [t, i]); return C.current = R, $(k - R.top) } return x.jsx(yN, { scope: n.__scopeSlider, startEdge: N ? "bottom" : "top", endEdge: N ? "top" : "bottom", size: "height", direction: N ? 1 : -1, children: x.jsx(wN, { "data-orientation": "vertical", ...y, ref: E, style: { ...y.style, "--radix-slider-thumb-transform": "translateY(50%)" }, onSlideStart: k => { const R = U(k.clientY); u?.(R) }, onSlideMove: k => { const R = U(k.clientY); d?.(R) }, onSlideEnd: () => { C.current = void 0, p?.() }, onStepKeyDown: k => { const L = mN[N ? "from-bottom" : "from-top"].includes(k.key); m?.({ event: k, direction: L ? -1 : 1 }) } }) }) }), wN = I.forwardRef((n, e) => { const { __scopeSlider: t, onSlideStart: i, onSlideMove: o, onSlideEnd: u, onHomeKeyDown: d, onEndKeyDown: p, onStepKeyDown: m, ...y } = n, w = dw(Am, t); return x.jsx(si.span, { ...y, ref: e, onKeyDown: In(n.onKeyDown, E => { E.key === "Home" ? (d(E), E.preventDefault()) : E.key === "End" ? (p(E), E.preventDefault()) : fN.concat(pN).includes(E.key) && (m(E), E.preventDefault()) }), onPointerDown: In(n.onPointerDown, E => { const C = E.target; C.setPointerCapture(E.pointerId), E.preventDefault(), w.thumbs.has(C) ? C.focus() : i(E) }), onPointerMove: In(n.onPointerMove, E => { E.target.hasPointerCapture(E.pointerId) && o(E) }), onPointerUp: In(n.onPointerUp, E => { const C = E.target; C.hasPointerCapture(E.pointerId) && (C.releasePointerCapture(E.pointerId), u(E)) }) }) }), _N = "SliderTrack", EN = I.forwardRef((n, e) => { const { __scopeSlider: t, ...i } = n, o = dw(_N, t); return x.jsx(si.span, { "data-disabled": o.disabled ? "" : void 0, "data-orientation": o.orientation, ...i, ref: e }) }); EN.displayName = _N; var w1 = "SliderRange", TN = I.forwardRef((n, e) => { const { __scopeSlider: t, ...i } = n, o = dw(w1, t), u = bN(w1, t), d = I.useRef(null), p = tr(e, d), m = o.values.length, y = o.values.map(C => CN(C, o.min, o.max)), w = m > 1 ? Math.min(...y) : 0, E = 100 - Math.max(...y); return x.jsx(si.span, { "data-orientation": o.orientation, "data-disabled": o.disabled ? "" : void 0, ...i, ref: p, style: { ...n.style, [u.startEdge]: w + "%", [u.endEdge]: E + "%" } }) }); TN.displayName = w1; var _1 = "SliderThumb", SN = I.forwardRef((n, e) => { const t = eG(n.__scopeSlider), [i, o] = I.useState(null), u = tr(e, p => o(p)), d = I.useMemo(() => i ? t().findIndex(p => p.ref.current === i) : -1, [t, i]); return x.jsx(sG, { ...n, ref: u, index: d }) }), sG = I.forwardRef((n, e) => { const { __scopeSlider: t, index: i, name: o, ...u } = n, d = dw(_1, t), p = bN(_1, t), [m, y] = I.useState(null), w = tr(e, z => y(z)), E = m ? d.form || !!m.closest("form") : !0, C = Zq(m), N = d.values[i], U = N === void 0 ? 0 : CN(N, d.min, d.max), k = lG(i, d.values.length), R = C?.[p.size], L = R ? cG(R, U, p.direction) : 0; return I.useEffect(() => { if (m) return d.thumbs.add(m), () => { d.thumbs.delete(m) } }, [m, d.thumbs]), x.jsxs("span", { style: { transform: "var(--radix-slider-thumb-transform)", position: "absolute", [p.startEdge]: `calc(${U}% + ${L}px)` }, children: [x.jsx(b1.ItemSlot, { scope: n.__scopeSlider, children: x.jsx(si.span, { role: "slider", "aria-label": n["aria-label"] || k, "aria-valuemin": d.min, "aria-valuenow": N, "aria-valuemax": d.max, "aria-orientation": d.orientation, "data-orientation": d.orientation, "data-disabled": d.disabled ? "" : void 0, tabIndex: d.disabled ? void 0 : 0, ...u, ref: w, style: N === void 0 ? { display: "none" } : n.style, onFocus: In(n.onFocus, () => { d.valueIndexToChangeRef.current = i }) }) }), E && x.jsx(AN, { name: o ?? (d.name ? d.name + (d.values.length > 1 ? "[]" : "") : void 0), form: d.form, value: N }, i)] }) }); SN.displayName = _1; var oG = "RadioBubbleInput", AN = I.forwardRef(({ __scopeSlider: n, value: e, ...t }, i) => { const o = I.useRef(null), u = tr(o, i), d = Jq(e); return I.useEffect(() => { const p = o.current; if (!p) return; const m = window.HTMLInputElement.prototype, w = Object.getOwnPropertyDescriptor(m, "value").set; if (d !== e && w) { const E = new Event("input", { bubbles: !0 }); w.call(p, e), p.dispatchEvent(E) } }, [d, e]), x.jsx(si.input, { style: { display: "none" }, ...t, ref: u, defaultValue: e }) }); AN.displayName = oG; function aG(n = [], e, t) { const i = [...n]; return i[t] = e, i.sort((o, u) => o - u) } function CN(n, e, t) { const u = 100 / (t - e) * (n - e); return dN(u, [0, 100]) } function lG(n, e) { return e > 2 ? `Value ${n + 1} of ${e}` : e === 2 ? ["Minimum", "Maximum"][n] : void 0 } function uG(n, e) { if (n.length === 1) return 0; const t = n.map(o => Math.abs(o - e)), i = Math.min(...t); return t.indexOf(i) } function cG(n, e, t) { const i = n / 2, u = OT([0, 50], [0, i]); return (i - u(e) * t) * t } function dG(n) { return n.slice(0, -1).map((e, t) => n[t + 1] - e) } function hG(n, e) { if (e > 0) { const t = dG(n); return Math.min(...t) >= e } return !0 } function OT(n, e) { return t => { if (n[0] === n[1] || e[0] === e[1]) return e[0]; const i = (e[1] - e[0]) / (n[1] - n[0]); return e[0] + i * (t - n[0]) } } function fG(n) { return (String(n).split(".")[1] || "").length } function pG(n, e) { const t = Math.pow(10, e); return Math.round(n * t) / t } var xN = vN, mG = EN, gG = TN, vG = SN; const RN = I.forwardRef(({ className: n, ...e }, t) => x.jsxs(xN, { ref: t, className: $n("relative flex w-full touch-none select-none items-center", n), ...e, children: [x.jsx(mG, { className: "relative h-2 w-full grow overflow-hidden rounded-full bg-secondary", children: x.jsx(gG, { className: "absolute h-full bg-primary" }) }), x.jsx(vG, { className: "block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50" })] })); RN.displayName = xN.displayName; const _C = AF(n1, "chopSessions"), E1 = { async create(n) { try { const e = Yp.currentUser; if (!e) throw new Error("User not authenticated"); const t = n.chops.map(({ audioData: o, ...u }) => u); return (await WF(_C, { ...n, chops: t, userId: e.uid, created_date: new Date })).id } catch (e) { throw console.error("Error adding document: ", e), e } }, async list(n = "-created_date") { try { const e = Yp.currentUser; if (!e) return []; const t = jF(_C, UF("userId", "==", e.uid), BF("created_date", n.startsWith("-") ? "desc" : "asc")); return (await KF(t)).docs.map(o => ({ id: o.id, ...o.data() })) } catch (e) { throw console.error("Error getting documents: ", e), e } }, async get(n) { try { const e = e1(n1, "chopSessions", n), t = await GF(e); if (t.exists()) { const i = t.data(), o = Yp.currentUser; if (i.userId !== o?.uid) throw new Error("User not authorized to view this session"); return { id: t.id, ...i } } else return console.log("No such document!"), null } catch (e) { throw console.error("Error getting document:", e), e } }, async delete(n) { try { if (!await this.get(n)) throw new Error("Session not found or user not authorized."); await $F(e1(n1, "chopSessions", n)) } catch (e) { throw console.error("Error deleting document: ", e), e } } }, yG = 1, bG = 1e6; let v_ = 0; function wG() { return v_ = (v_ + 1) % Number.MAX_VALUE, v_.toString() } const y_ = new Map, EC = n => { if (y_.has(n)) return; const e = setTimeout(() => { y_.delete(n), Mv({ type: "REMOVE_TOAST", toastId: n }) }, bG); y_.set(n, e) }, _G = (n, e) => { switch (e.type) { case "ADD_TOAST": return { ...n, toasts: [e.toast, ...n.toasts].slice(0, yG) }; case "UPDATE_TOAST": return { ...n, toasts: n.toasts.map(t => t.id === e.toast.id ? { ...t, ...e.toast } : t) }; case "DISMISS_TOAST": { const { toastId: t } = e; return t ? EC(t) : n.toasts.forEach(i => { EC(i.id) }), { ...n, toasts: n.toasts.map(i => i.id === t || t === void 0 ? { ...i, open: !1 } : i) } } case "REMOVE_TOAST": return e.toastId === void 0 ? { ...n, toasts: [] } : { ...n, toasts: n.toasts.filter(t => t.id !== e.toastId) } } }, W0 = []; let Y0 = { toasts: [] }; function Mv(n) { Y0 = _G(Y0, n), W0.forEach(e => { e(Y0) }) } function EG(n) { const e = wG(), t = o => Mv({ type: "UPDATE_TOAST", toast: { ...o, id: e } }), i = () => Mv({ type: "DISMISS_TOAST", toastId: e }); return Mv({ type: "ADD_TOAST", toast: { ...n, id: e, open: !0, onOpenChange: o => { o || i() } } }), { id: e, dismiss: i, update: t } } function IN() { const [n, e] = I.useState(Y0); return I.useEffect(() => (W0.push(e), () => { const t = W0.indexOf(e); t > -1 && W0.splice(t, 1) }), [n]), { ...n, toast: EG, dismiss: t => Mv({ type: "DISMISS_TOAST", toastId: t }) } } var TG = Object.freeze({ position: "absolute", border: 0, width: 1, height: 1, padding: 0, margin: -1, overflow: "hidden", clip: "rect(0, 0, 0, 0)", whiteSpace: "nowrap", wordWrap: "normal" }), SG = "VisuallyHidden", LT = I.forwardRef((n, e) => x.jsx(si.span, { ...n, ref: e, style: { ...TG, ...n.style } })); LT.displayName = SG; var VT = "ToastProvider", [jT, AG, CG] = hN("Toast"), [kN, gK] = Cb("Toast", [CG]), [xG, hw] = kN(VT), PN = n => { const { __scopeToast: e, label: t = "Notification", duration: i = 5e3, swipeDirection: o = "right", swipeThreshold: u = 50, children: d } = n, [p, m] = I.useState(null), [y, w] = I.useState(0), E = I.useRef(!1), C = I.useRef(!1); return t.trim() || console.error(`Invalid prop \`label\` supplied to \`${VT}\`. Expected non-empty \`string\`.`), x.jsx(jT.Provider, { scope: e, children: x.jsx(xG, { scope: e, label: t, duration: i, swipeDirection: o, swipeThreshold: u, toastCount: y, viewport: p, onViewportChange: m, onToastAdd: I.useCallback(() => w(N => N + 1), []), onToastRemove: I.useCallback(() => w(N => N - 1), []), isFocusedToastEscapeKeyDownRef: E, isClosePausedRef: C, children: d }) }) }; PN.displayName = VT; var NN = "ToastViewport", RG = ["F8"], T1 = "toast.viewportPause", S1 = "toast.viewportResume", MN = I.forwardRef((n, e) => { const { __scopeToast: t, hotkey: i = RG, label: o = "Notifications ({hotkey})", ...u } = n, d = hw(NN, t), p = AG(t), m = I.useRef(null), y = I.useRef(null), w = I.useRef(null), E = I.useRef(null), C = tr(e, E, d.onViewportChange), N = i.join("+").replace(/Key/g, "").replace(/Digit/g, ""), U = d.toastCount > 0; I.useEffect(() => { const R = L => { i.length !== 0 && i.every($ => L[$] || L.code === $) && E.current?.focus() }; return document.addEventListener("keydown", R), () => document.removeEventListener("keydown", R) }, [i]), I.useEffect(() => { const R = m.current, L = E.current; if (U && R && L) { const z = () => { if (!d.isClosePausedRef.current) { const re = new CustomEvent(T1); L.dispatchEvent(re), d.isClosePausedRef.current = !0 } }, $ = () => { if (d.isClosePausedRef.current) { const re = new CustomEvent(S1); L.dispatchEvent(re), d.isClosePausedRef.current = !1 } }, J = re => { !R.contains(re.relatedTarget) && $() }, Q = () => { R.contains(document.activeElement) || $() }; return R.addEventListener("focusin", z), R.addEventListener("focusout", J), R.addEventListener("pointermove", z), R.addEventListener("pointerleave", Q), window.addEventListener("blur", z), window.addEventListener("focus", $), () => { R.removeEventListener("focusin", z), R.removeEventListener("focusout", J), R.removeEventListener("pointermove", z), R.removeEventListener("pointerleave", Q), window.removeEventListener("blur", z), window.removeEventListener("focus", $) } } }, [U, d.isClosePausedRef]); const k = I.useCallback(({ tabbingDirection: R }) => { const z = p().map($ => { const J = $.ref.current, Q = [J, ...FG(J)]; return R === "forwards" ? Q : Q.reverse() }); return (R === "forwards" ? z.reverse() : z).flat() }, [p]); return I.useEffect(() => { const R = E.current; if (R) { const L = z => { const $ = z.altKey || z.ctrlKey || z.metaKey; if (z.key === "Tab" && !$) { const Q = document.activeElement, re = z.shiftKey; if (z.target === R && re) { y.current?.focus(); return } const O = k({ tabbingDirection: re ? "backwards" : "forwards" }), q = O.findIndex(G => G === Q); b_(O.slice(q + 1)) ? z.preventDefault() : re ? y.current?.focus() : w.current?.focus() } }; return R.addEventListener("keydown", L), () => R.removeEventListener("keydown", L) } }, [p, k]), x.jsxs(T4, { ref: m, role: "region", "aria-label": o.replace("{hotkey}", N), tabIndex: -1, style: { pointerEvents: U ? void 0 : "none" }, children: [U && x.jsx(A1, { ref: y, onFocusFromOutsideViewport: () => { const R = k({ tabbingDirection: "forwards" }); b_(R) } }), x.jsx(jT.Slot, { scope: t, children: x.jsx(si.ol, { tabIndex: -1, ...u, ref: C }) }), U && x.jsx(A1, { ref: w, onFocusFromOutsideViewport: () => { const R = k({ tabbingDirection: "backwards" }); b_(R) } })] }) }); MN.displayName = NN; var DN = "ToastFocusProxy", A1 = I.forwardRef((n, e) => { const { __scopeToast: t, onFocusFromOutsideViewport: i, ...o } = n, u = hw(DN, t); return x.jsx(LT, { "aria-hidden": !0, tabIndex: 0, ...o, ref: e, style: { position: "fixed" }, onFocus: d => { const p = d.relatedTarget; !u.viewport?.contains(p) && i() } }) }); A1.displayName = DN; var Sy = "Toast", IG = "toast.swipeStart", kG = "toast.swipeMove", PG = "toast.swipeCancel", NG = "toast.swipeEnd", ON = I.forwardRef((n, e) => { const { forceMount: t, open: i, defaultOpen: o, onOpenChange: u, ...d } = n, [p, m] = B1({ prop: i, defaultProp: o ?? !0, onChange: u, caller: Sy }); return x.jsx(ry, { present: t || p, children: x.jsx(OG, { open: p, ...d, ref: e, onClose: () => m(!1), onPause: gu(n.onPause), onResume: gu(n.onResume), onSwipeStart: In(n.onSwipeStart, y => { y.currentTarget.setAttribute("data-swipe", "start") }), onSwipeMove: In(n.onSwipeMove, y => { const { x: w, y: E } = y.detail.delta; y.currentTarget.setAttribute("data-swipe", "move"), y.currentTarget.style.setProperty("--radix-toast-swipe-move-x", `${w}px`), y.currentTarget.style.setProperty("--radix-toast-swipe-move-y", `${E}px`) }), onSwipeCancel: In(n.onSwipeCancel, y => { y.currentTarget.setAttribute("data-swipe", "cancel"), y.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"), y.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"), y.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"), y.currentTarget.style.removeProperty("--radix-toast-swipe-end-y") }), onSwipeEnd: In(n.onSwipeEnd, y => { const { x: w, y: E } = y.detail.delta; y.currentTarget.setAttribute("data-swipe", "end"), y.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"), y.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"), y.currentTarget.style.setProperty("--radix-toast-swipe-end-x", `${w}px`), y.currentTarget.style.setProperty("--radix-toast-swipe-end-y", `${E}px`), m(!1) }) }) }) }); ON.displayName = Sy; var [MG, DG] = kN(Sy, { onClose() { } }), OG = I.forwardRef((n, e) => { const { __scopeToast: t, type: i = "foreground", duration: o, open: u, onClose: d, onEscapeKeyDown: p, onPause: m, onResume: y, onSwipeStart: w, onSwipeMove: E, onSwipeCancel: C, onSwipeEnd: N, ...U } = n, k = hw(Sy, t), [R, L] = I.useState(null), z = tr(e, ce => L(ce)), $ = I.useRef(null), J = I.useRef(null), Q = o || k.duration, re = I.useRef(0), F = I.useRef(Q), V = I.useRef(0), { onToastAdd: O, onToastRemove: q } = k, G = gu(() => { R?.contains(document.activeElement) && k.viewport?.focus(), d() }), K = I.useCallback(ce => { !ce || ce === 1 / 0 || (window.clearTimeout(V.current), re.current = new Date().getTime(), V.current = window.setTimeout(G, ce)) }, [G]); I.useEffect(() => { const ce = k.viewport; if (ce) { const xe = () => { K(F.current), y?.() }, se = () => { const fe = new Date().getTime() - re.current; F.current = F.current - fe, window.clearTimeout(V.current), m?.() }; return ce.addEventListener(T1, se), ce.addEventListener(S1, xe), () => { ce.removeEventListener(T1, se), ce.removeEventListener(S1, xe) } } }, [k.viewport, Q, m, y, K]), I.useEffect(() => { u && !k.isClosePausedRef.current && K(Q) }, [u, Q, k.isClosePausedRef, K]), I.useEffect(() => (O(), () => q()), [O, q]); const H = I.useMemo(() => R ? zN(R) : null, [R]); return k.viewport ? x.jsxs(x.Fragment, { children: [H && x.jsx(LG, { __scopeToast: t, role: "status", "aria-live": i === "foreground" ? "assertive" : "polite", "aria-atomic": !0, children: H }), x.jsx(MG, { scope: t, onClose: G, children: N1.createPortal(x.jsx(jT.ItemSlot, { scope: t, children: x.jsx(E4, { asChild: !0, onEscapeKeyDown: In(p, () => { k.isFocusedToastEscapeKeyDownRef.current || G(), k.isFocusedToastEscapeKeyDownRef.current = !1 }), children: x.jsx(si.li, { role: "status", "aria-live": "off", "aria-atomic": !0, tabIndex: 0, "data-state": u ? "open" : "closed", "data-swipe-direction": k.swipeDirection, ...U, ref: z, style: { userSelect: "none", touchAction: "none", ...n.style }, onKeyDown: In(n.onKeyDown, ce => { ce.key === "Escape" && (p?.(ce.nativeEvent), ce.nativeEvent.defaultPrevented || (k.isFocusedToastEscapeKeyDownRef.current = !0, G())) }), onPointerDown: In(n.onPointerDown, ce => { ce.button === 0 && ($.current = { x: ce.clientX, y: ce.clientY }) }), onPointerMove: In(n.onPointerMove, ce => { if (!$.current) return; const xe = ce.clientX - $.current.x, se = ce.clientY - $.current.y, fe = !!J.current, _e = ["left", "right"].includes(k.swipeDirection), Ie = ["left", "up"].includes(k.swipeDirection) ? Math.min : Math.max, X = _e ? Ie(0, xe) : 0, de = _e ? 0 : Ie(0, se), we = ce.pointerType === "touch" ? 10 : 2, Ee = { x: X, y: de }, Oe = { originalEvent: ce, delta: Ee }; fe ? (J.current = Ee, N0(kG, E, Oe, { discrete: !1 })) : TC(Ee, k.swipeDirection, we) ? (J.current = Ee, N0(IG, w, Oe, { discrete: !1 }), ce.target.setPointerCapture(ce.pointerId)) : (Math.abs(xe) > we || Math.abs(se) > we) && ($.current = null) }), onPointerUp: In(n.onPointerUp, ce => { const xe = J.current, se = ce.target; if (se.hasPointerCapture(ce.pointerId) && se.releasePointerCapture(ce.pointerId), J.current = null, $.current = null, xe) { const fe = ce.currentTarget, _e = { originalEvent: ce, delta: xe }; TC(xe, k.swipeDirection, k.swipeThreshold) ? N0(NG, N, _e, { discrete: !0 }) : N0(PG, C, _e, { discrete: !0 }), fe.addEventListener("click", Ie => Ie.preventDefault(), { once: !0 }) } }) }) }) }), k.viewport) })] }) : null }), LG = n => { const { __scopeToast: e, children: t, ...i } = n, o = hw(Sy, e), [u, d] = I.useState(!1), [p, m] = I.useState(!1); return UG(() => d(!0)), I.useEffect(() => { const y = window.setTimeout(() => m(!0), 1e3); return () => window.clearTimeout(y) }, []), p ? null : x.jsx(z1, { asChild: !0, children: x.jsx(LT, { ...i, children: u && x.jsxs(x.Fragment, { children: [o.label, " ", t] }) }) }) }, VG = "ToastTitle", LN = I.forwardRef((n, e) => { const { __scopeToast: t, ...i } = n; return x.jsx(si.div, { ...i, ref: e }) }); LN.displayName = VG; var jG = "ToastDescription", VN = I.forwardRef((n, e) => { const { __scopeToast: t, ...i } = n; return x.jsx(si.div, { ...i, ref: e }) }); VN.displayName = jG; var jN = "ToastAction", UN = I.forwardRef((n, e) => { const { altText: t, ...i } = n; return t.trim() ? x.jsx(FN, { altText: t, asChild: !0, children: x.jsx(UT, { ...i, ref: e }) }) : (console.error(`Invalid prop \`altText\` supplied to \`${jN}\`. Expected non-empty \`string\`.`), null) }); UN.displayName = jN; var BN = "ToastClose", UT = I.forwardRef((n, e) => { const { __scopeToast: t, ...i } = n, o = DG(BN, t); return x.jsx(FN, { asChild: !0, children: x.jsx(si.button, { type: "button", ...i, ref: e, onClick: In(n.onClick, o.onClose) }) }) }); UT.displayName = BN; var FN = I.forwardRef((n, e) => { const { __scopeToast: t, altText: i, ...o } = n; return x.jsx(si.div, { "data-radix-toast-announce-exclude": "", "data-radix-toast-announce-alt": i || void 0, ...o, ref: e }) }); function zN(n) { const e = []; return Array.from(n.childNodes).forEach(i => { if (i.nodeType === i.TEXT_NODE && i.textContent && e.push(i.textContent), BG(i)) { const o = i.ariaHidden || i.hidden || i.style.display === "none", u = i.dataset.radixToastAnnounceExclude === ""; if (!o) if (u) { const d = i.dataset.radixToastAnnounceAlt; d && e.push(d) } else e.push(...zN(i)) } }), e } function N0(n, e, t, { discrete: i }) { const o = t.originalEvent.currentTarget, u = new CustomEvent(n, { bubbles: !0, cancelable: !0, detail: t }); e && o.addEventListener(n, e, { once: !0 }), i ? nx(o, u) : o.dispatchEvent(u) } var TC = (n, e, t = 0) => { const i = Math.abs(n.x), o = Math.abs(n.y), u = i > o; return e === "left" || e === "right" ? u && i > t : !u && o > t }; function UG(n = () => { }) { const e = gu(n); Bh(() => { let t = 0, i = 0; return t = window.requestAnimationFrame(() => i = window.requestAnimationFrame(e)), () => { window.cancelAnimationFrame(t), window.cancelAnimationFrame(i) } }, [e]) } function BG(n) { return n.nodeType === n.ELEMENT_NODE } function FG(n) { const e = [], t = document.createTreeWalker(n, NodeFilter.SHOW_ELEMENT, { acceptNode: i => { const o = i.tagName === "INPUT" && i.type === "hidden"; return i.disabled || i.hidden || o ? NodeFilter.FILTER_SKIP : i.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP } }); for (; t.nextNode();)e.push(t.currentNode); return e } function b_(n) { const e = document.activeElement; return n.some(t => t === e ? !0 : (t.focus(), document.activeElement !== e)) } var zG = PN, HN = MN, qN = ON, GN = LN, KN = VN, $N = UN, WN = UT; const HG = zG, YN = I.forwardRef(({ className: n, ...e }, t) => x.jsx(HN, { ref: t, className: $n("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]", n), ...e })); YN.displayName = HN.displayName; const qG = XC("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full", { variants: { variant: { default: "border bg-background text-foreground", destructive: "destructive group border-destructive bg-destructive text-destructive-foreground" } }, defaultVariants: { variant: "default" } }), XN = I.forwardRef(({ className: n, variant: e, ...t }, i) => x.jsx(qN, { ref: i, className: $n(qG({ variant: e }), n), ...t })); XN.displayName = qN.displayName; const GG = I.forwardRef(({ className: n, ...e }, t) => x.jsx($N, { ref: t, className: $n("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive", n), ...e })); GG.displayName = $N.displayName; const QN = I.forwardRef(({ className: n, ...e }, t) => x.jsx(WN, { ref: t, className: $n("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600", n), "toast-close": "", ...e, children: x.jsx(KC, { className: "h-4 w-4" }) })); QN.displayName = WN.displayName; const JN = I.forwardRef(({ className: n, ...e }, t) => x.jsx(GN, { ref: t, className: $n("text-sm font-semibold", n), ...e })); JN.displayName = GN.displayName; const ZN = I.forwardRef(({ className: n, ...e }, t) => x.jsx(KN, { ref: t, className: $n("text-sm opacity-90", n), ...e })); ZN.displayName = KN.displayName; function KG() { const { toasts: n } = IN(); return x.jsxs(HG, { children: [n.map(function ({ id: e, title: t, description: i, action: o, ...u }) { return x.jsxs(XN, { ...u, children: [x.jsxs("div", { className: "grid gap-1", children: [t && x.jsx(JN, { children: t }), i && x.jsx(ZN, { children: i })] }), o, x.jsx(QN, {})] }, e) }), x.jsx(YN, {})] }) } function $G({ activeBank: n, setActiveBank: e, masterVolume: t, setMasterVolume: i, chops: o, youtubeUrl: u }) {
  const d = ["A", "B", "C", "D"], { toast: p } = IN(), { currentUser: m } = eT(), [y, w] = I.useState(""), [E, C] = I.useState(!1), N = async () => { if (!m) { p({ variant: "destructive", title: "Authentication Required", description: "You must be signed in to save a session." }); return } if (!y) { p({ variant: "destructive", title: "Uh oh! Something went wrong.", description: "Please enter a name for your session." }); return } C(!0); try { await E1.create({ sessionName: y, youtubeUrl: u, chops: o, userId: m.uid }), p({ title: "Session Saved!", description: `"${y}" has been saved successfully.` }) } catch (U) { console.error("Failed to save session:", U), p({ variant: "destructive", title: "Save Failed", description: "Could not save your session. Please try again." }) } finally { C(!1) } }; return x.jsxs(x.Fragment, {
    children: [x.jsx(KG, {}), x.jsxs(ss.div, {
      initial: { opacity: 0, y: 20 }, animate: { opacity: 1, y: 0 }, transition: { delay: .1 }, className: "bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl shadow-lg p-4 space-y-6", children: [x.jsxs("div", {
        className: "space-y-2", children: [x.jsxs("label", { className: "flex items-center gap-2 text-sm font-medium text-white/80", children: [x.jsx(jD, { className: "w-4 h-4 text-cyan-400" }), "Sample Banks"] }), x.jsx("div", {
          className: "grid grid-cols-4 gap-2", children: d.map(U => x.jsx(hn, {
            onClick: () => e(U), className: `font-mono text-lg transition-all duration-200
                                ${n === U ? "bg-cyan-500 text-black shadow-md" : "bg-white/10 hover:bg-white/20"}`, children: U
          }, U))
        })]
      }), x.jsxs("div", { className: "space-y-2", children: [x.jsxs("label", { className: "flex items-center gap-2 text-sm font-medium text-white/80", children: [x.jsx(GC, { className: "w-4 h-4 text-cyan-400" }), "Master Volume"] }), x.jsx(RN, { defaultValue: [100], max: 100, step: 1, onValueChange: U => i(U[0] / 100), className: "[&>span:first-child]:bg-cyan-400" })] }), x.jsxs("div", { className: "space-y-3 pt-4 border-t border-white/10", children: [x.jsxs("label", { className: "flex items-center gap-2 text-sm font-medium text-white/80", children: [x.jsx(qC, { className: "w-4 h-4 text-cyan-400" }), "Save Session"] }), m ? x.jsxs(x.Fragment, { children: [x.jsx(Wh, { placeholder: "Session Name...", value: y, onChange: U => w(U.target.value), className: "bg-white/10 border-white/20 placeholder-gray-400" }), x.jsx(hn, { onClick: N, disabled: E || !m, className: "w-full bg-purple-600 hover:bg-purple-700 font-bold", children: E ? "Saving..." : "Save Chops" })] }) : x.jsx("div", { className: "text-center text-sm text-white/60 p-4 bg-black/20 rounded-lg", children: x.jsx("p", { children: "Please sign in to save your sessions." }) })] })]
    })]
  })
} function WG(n) { const [e, t] = I.useState("idle"), [i, o] = I.useState(null), [u, d] = I.useState(null), [p, m] = I.useState(0), [y, w] = I.useState(null), [E, C] = I.useState(null), N = I.useRef(null), U = I.useRef(!0), k = I.useCallback(z => { if (!(!U.current || N.current !== n)) switch (m(z.progress || 0), z.status) { case "downloading": t("fetching"), C({ attempt: z.attempt, maxAttempts: z.maxAttempts, bytesReceived: z.bytesReceived, totalBytes: z.totalBytes }); break; case "processing": t("decoding"); break; case "generating_waveform": t("decoding"); break; case "retrying": t("fetching"), C({ attempt: z.attempt, maxAttempts: z.maxAttempts, retryDelay: z.retryDelay, lastError: z.error }); break; case "ready": t("ready"), C(null); break; case "error": t(`error: ${z.error}`), w(z.error), C(null); break } }, [n]), R = I.useCallback(async () => { n && (w(null), t("idle"), m(0), C(null), $a.cancelDownload(n), L()) }, [n]), L = I.useCallback(async () => { if (!n || !U.current) return; if (N.current = n, w(null), o(null), d(null), m(0), C(null), n.includes("youtube.com") || n.includes("youtu.be")) { t("ready"), m(100); return } const z = $a.getAudioBuffer(n); if (z) { d(z.audioBuffer), o(z.waveformData), t("ready"), m(100); return } try { t("fetching"); const $ = await $a.downloadAndProcessAudio(n, k); U.current && N.current === n && (d($.audioBuffer), o($.waveformData), t("ready"), m(100), w(null), C(null)) } catch ($) { U.current && N.current === n && (console.error("Audio Analysis Error:", $), t(`error: ${$.message}`), w($.message), o(null), d(null), m(0), C(null)) } }, [n, k]); return I.useEffect(() => { if (U.current = !0, !n) { t("idle"), o(null), d(null), m(0), w(null), C(null), N.current = null; return } return L(), () => { U.current = !1, N.current && $a.cancelDownload(N.current) } }, [n, L]), I.useEffect(() => () => { U.current = !1, N.current && $a.cancelDownload(N.current) }, []), { waveformData: i, audioBuffer: u, analysisStatus: e, progress: p, error: y, downloadStats: E, retry: R, serviceStats: $a.getStats(), isCached: n ? $a.isCached(n) : !1, cancelDownload: () => { n && $a.cancelDownload(n) } } } function YG(n) { const [e, t] = I.useState(null), [i, o] = I.useState(!1), [u, d] = I.useState(0), [p, m] = I.useState(null), y = I.useRef(n), w = I.useCallback(async (R, L = {}) => { const { maxRetries: z = 3, onProgress: $ = null, onRetry: J = null, context: Q = {} } = L; t(null), o(!1), d(0), m(Date.now()); try { const re = await Op.executeWithRetry(R, y.current, { maxRetries: z, onProgress: F => { F.status === "retrying" || F.status === "waiting_retry" ? (o(!0), d(F.attempt - 1)) : F.status === "starting" && o(!1), $ && $(F) }, onRetry: F => { d(F.attempt - 1), m(Date.now()), J && J(F) }, context: Q }); return o(!1), t(null), re } catch (re) { throw o(!1), t(re), re } }, []), E = I.useCallback(async (R, L = {}) => { if (!R) throw new Error("Operation function is required for retry"); return w(R, L) }, [w]), C = I.useCallback(() => { t(null), o(!1), d(0), m(null) }, []), N = I.useCallback(R => Op.shouldRetry(R, y.current), []), U = I.useCallback(R => Op.getUserFriendlyError(R || R), []), k = I.useCallback(R => Op.classifyError(R || R), []); return { error: e, isRetrying: i, retryCount: u, lastAttempt: p, executeWithRetry: w, retry: E, reset: C, shouldRetry: N, getUserFriendlyError: U, classifyError: k, getStats: () => Op.getErrorStats() } } function XG() { const n = YG("audio_processing"), e = I.useCallback(async (i, o = {}) => n.executeWithRetry(i, { ...o, context: { type: "audio", ...o.context } }), [n]), t = I.useCallback(i => { const o = n.getUserFriendlyError(i); return n.classifyError(i).category === "audio" ? { ...o, suggestions: ["Check if the video has audio content", "Try a different YouTube video", "Ensure your browser supports Web Audio API", ...o.suggestions] } : o }, [n]); return { ...n, executeAudioOperation: e, getAudioErrorGuidance: t } } function Ay({ className: n = "", children: e, ...t }) { return x.jsx("div", { className: `relative w-full rounded-lg border p-4 ${n}`, ...t, children: e }) } function Cy({ className: n = "", children: e, ...t }) { return x.jsx("div", { className: `text-sm ${n}`, ...t, children: e }) } class QG extends Jo.Component { constructor(e) { super(e), this.state = { hasError: !1, error: null, errorInfo: null, retryCount: 0, isRetrying: !1 } } static getDerivedStateFromError(e) { return { hasError: !0, error: e } } componentDidCatch(e, t) { console.error("AudioErrorBoundary caught an error:", e, t), this.setState({ error: e, errorInfo: t, hasError: !0 }), this.props.onError && this.props.onError(e, t) } handleRetry = async () => { this.setState({ isRetrying: !0, retryCount: this.state.retryCount + 1 }); try { this.props.onRetry && await this.props.onRetry(), setTimeout(() => { this.setState({ hasError: !1, error: null, errorInfo: null, isRetrying: !1 }) }, 100) } catch (e) { console.error("Retry failed:", e), this.setState({ isRetrying: !1, error: e }) } }; handleReset = () => { this.setState({ hasError: !1, error: null, errorInfo: null, retryCount: 0, isRetrying: !1 }), this.props.onReset && this.props.onReset() }; getErrorType(e) { const t = e?.message?.toLowerCase() || ""; return t.includes("network") || t.includes("fetch") || t.includes("cors") ? "network" : t.includes("decode") || t.includes("audio") || t.includes("context") ? "audio" : t.includes("timeout") || t.includes("abort") ? "timeout" : t.includes("quota") || t.includes("limit") || t.includes("rate") ? "quota" : t.includes("unavailable") || t.includes("private") || t.includes("restricted") ? "unavailable" : "unknown" } getErrorDetails(e, t) { const i = navigator.onLine; switch (e) { case "network": return { icon: i ? j1 : V1, title: "Network Connection Error", description: i ? "Unable to connect to the audio service. This might be a temporary server issue." : "You appear to be offline. Please check your internet connection.", suggestions: [i ? "Check if the audio service is running" : "Check your internet connection", "Try refreshing the page", "Wait a moment and try again"], canRetry: !0, severity: "warning" }; case "audio": return { icon: S_, title: "Audio Processing Error", description: "Unable to process the audio from this video. The audio format might not be supported.", suggestions: ["Try a different YouTube video", "Check if the video has audio", "Ensure your browser supports Web Audio API"], canRetry: !0, severity: "error" }; case "timeout": return { icon: Ja, title: "Download Timeout", description: "The audio download is taking too long. This might be due to a large file or slow connection.", suggestions: ["Try a shorter video", "Check your internet speed", "Wait and try again later"], canRetry: !0, severity: "warning" }; case "quota": return { icon: Ja, title: "Service Limit Reached", description: "The audio service has reached its usage limit. Please try again later.", suggestions: ["Wait a few minutes and try again", "Try during off-peak hours", "Contact support if this persists"], canRetry: !1, severity: "warning" }; case "unavailable": return { icon: S_, title: "Video Unavailable", description: "This video cannot be processed. It might be private, deleted, or restricted.", suggestions: ["Try a different public YouTube video", "Check if the video exists and is public", "Ensure the video has audio content"], canRetry: !1, severity: "error" }; default: return { icon: Ja, title: "Audio System Error", description: t?.message || "An unexpected error occurred in the audio system.", suggestions: ["Try refreshing the page", "Clear your browser cache", "Try a different browser if the issue persists"], canRetry: !0, severity: "error" } } } render() { if (!this.state.hasError) return this.props.children; const e = this.getErrorType(this.state.error), t = this.getErrorDetails(e, this.state.error), i = t.icon; return x.jsx("div", { className: "p-6 space-y-4", children: x.jsxs(Ay, { className: `border-${t.severity === "error" ? "red" : "yellow"}-400 bg-${t.severity === "error" ? "red" : "yellow"}-400/10`, children: [x.jsx(i, { className: `h-4 w-4 text-${t.severity === "error" ? "red" : "yellow"}-400` }), x.jsx(Cy, { className: `text-${t.severity === "error" ? "red" : "yellow"}-200`, children: x.jsxs("div", { className: "space-y-3", children: [x.jsxs("div", { children: [x.jsx("h4", { className: "font-semibold", children: t.title }), x.jsx("p", { className: "text-sm mt-1", children: t.description })] }), t.suggestions.length > 0 && x.jsxs("div", { children: [x.jsx("p", { className: "text-sm font-medium mb-2", children: "Suggestions:" }), x.jsx("ul", { className: "text-sm space-y-1 list-disc list-inside ml-2", children: t.suggestions.map((o, u) => x.jsx("li", { children: o }, u)) })] }), x.jsxs("div", { className: "flex gap-2 pt-2", children: [t.canRetry && x.jsx(hn, { onClick: this.handleRetry, disabled: this.state.isRetrying, size: "sm", className: "bg-cyan-500 hover:bg-cyan-600 text-black", children: this.state.isRetrying ? x.jsxs(x.Fragment, { children: [x.jsx(el, { className: "w-3 h-3 mr-1 animate-spin" }), "Retrying..."] }) : x.jsxs(x.Fragment, { children: [x.jsx(el, { className: "w-3 h-3 mr-1" }), "Try Again ", this.state.retryCount > 0 && `(${this.state.retryCount + 1})`] }) }), x.jsx(hn, { onClick: this.handleReset, variant: "outline", size: "sm", className: "border-white/20 text-white/80 hover:bg-white/10", children: "Reset" })] }), !1] }) })] }) }) } } class JG extends Jo.Component { constructor(e) { super(e), this.state = { hasError: !1, error: null, errorInfo: null, retryCount: 0, isRetrying: !1, videoUrl: null } } static getDerivedStateFromError(e) { return { hasError: !0, error: e } } componentDidCatch(e, t) { console.error("VideoPlayerErrorBoundary caught an error:", e, t), this.setState({ error: e, errorInfo: t, hasError: !0, videoUrl: this.props.youtubeUrl || null }), this.props.onError && this.props.onError(e, t) } handleRetry = async () => { this.setState({ isRetrying: !0, retryCount: this.state.retryCount + 1 }); try { this.props.onRetry && await this.props.onRetry(), setTimeout(() => { this.setState({ hasError: !1, error: null, errorInfo: null, isRetrying: !1, videoUrl: null }) }, 100) } catch (e) { console.error("Video player retry failed:", e), this.setState({ isRetrying: !1, error: e }) } }; handleReset = () => { this.setState({ hasError: !1, error: null, errorInfo: null, retryCount: 0, isRetrying: !1, videoUrl: null }), this.props.onReset && this.props.onReset() }; getErrorType(e) { const t = e?.message?.toLowerCase() || ""; return t.includes("youtube") || t.includes("player") ? "youtube" : t.includes("network") || t.includes("load") || t.includes("fetch") ? "network" : t.includes("embed") || t.includes("iframe") ? "embed" : t.includes("api") || t.includes("script") ? "api" : t.includes("unavailable") || t.includes("private") || t.includes("restricted") ? "unavailable" : "unknown" } getErrorDetails(e, t, i) { const o = navigator.onLine; switch (e) { case "youtube": return { icon: lS, title: "YouTube Player Error", description: "The YouTube player failed to initialize or load the video.", suggestions: ["Check if the YouTube URL is valid", "Ensure the video is public and available", "Try refreshing the page", "Check if YouTube is accessible in your region"], canRetry: !0, severity: "error", showUrl: !0 }; case "network": return { icon: o ? j1 : V1, title: "Network Connection Error", description: o ? "Unable to load the video player. This might be a temporary connection issue." : "You appear to be offline. Video playback requires an internet connection.", suggestions: [o ? "Check your internet connection" : "Connect to the internet", "Try refreshing the page", "Check if YouTube is accessible", "Wait a moment and try again"], canRetry: !0, severity: "warning", showUrl: !1 }; case "embed": return { icon: uS, title: "Video Embed Error", description: "Failed to embed the YouTube video. The video might not allow embedding.", suggestions: ["Try a different YouTube video", "Check if the video allows embedding", "Ensure the video is public", "Try copying the URL directly from YouTube"], canRetry: !0, severity: "warning", showUrl: !0 }; case "api": return { icon: Ja, title: "YouTube API Error", description: "Failed to load the YouTube player API. This might be due to browser restrictions.", suggestions: ["Check if JavaScript is enabled", "Disable ad blockers temporarily", "Try a different browser", "Clear browser cache and cookies"], canRetry: !0, severity: "error", showUrl: !1 }; case "unavailable": return { icon: lS, title: "Video Unavailable", description: "This video cannot be played. It might be private, deleted, or restricted.", suggestions: ["Try a different public YouTube video", "Check if the video exists and is public", "Ensure the video is available in your region", "Contact the video owner if it's private"], canRetry: !1, severity: "error", showUrl: !0 }; default: return { icon: Ja, title: "Video Player Error", description: t?.message || "An unexpected error occurred with the video player.", suggestions: ["Try refreshing the page", "Check your browser compatibility", "Clear browser cache", "Try a different browser if the issue persists"], canRetry: !0, severity: "error", showUrl: !0 } } } extractVideoId(e) { if (!e) return null; const t = e.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/); return t ? t[1] : null } render() { if (!this.state.hasError) return this.props.children; const e = this.getErrorType(this.state.error), t = this.getErrorDetails(e, this.state.error, this.state.videoUrl), i = t.icon, o = this.extractVideoId(this.state.videoUrl); return x.jsx("div", { className: "bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl shadow-lg p-6", children: x.jsxs(Ay, { className: `border-${t.severity === "error" ? "red" : "yellow"}-400 bg-${t.severity === "error" ? "red" : "yellow"}-400/10`, children: [x.jsx(i, { className: `h-4 w-4 text-${t.severity === "error" ? "red" : "yellow"}-400` }), x.jsx(Cy, { className: `text-${t.severity === "error" ? "red" : "yellow"}-200`, children: x.jsxs("div", { className: "space-y-3", children: [x.jsxs("div", { children: [x.jsx("h4", { className: "font-semibold", children: t.title }), x.jsx("p", { className: "text-sm mt-1", children: t.description })] }), t.showUrl && this.state.videoUrl && x.jsxs("div", { className: "bg-black/20 rounded p-2 text-xs", children: [x.jsx("span", { className: "text-white/60", children: "Video URL: " }), x.jsx("span", { className: "text-white/80 break-all", children: this.state.videoUrl }), o && x.jsxs("div", { className: "mt-1", children: [x.jsx("span", { className: "text-white/60", children: "Video ID: " }), x.jsx("span", { className: "text-white/80", children: o })] })] }), t.suggestions.length > 0 && x.jsxs("div", { children: [x.jsx("p", { className: "text-sm font-medium mb-2", children: "Troubleshooting steps:" }), x.jsx("ul", { className: "text-sm space-y-1 list-disc list-inside ml-2", children: t.suggestions.map((u, d) => x.jsx("li", { children: u }, d)) })] }), x.jsxs("div", { className: "flex gap-2 pt-2", children: [t.canRetry && x.jsx(hn, { onClick: this.handleRetry, disabled: this.state.isRetrying, size: "sm", className: "bg-cyan-500 hover:bg-cyan-600 text-black", children: this.state.isRetrying ? x.jsxs(x.Fragment, { children: [x.jsx(el, { className: "w-3 h-3 mr-1 animate-spin" }), "Retrying..."] }) : x.jsxs(x.Fragment, { children: [x.jsx(el, { className: "w-3 h-3 mr-1" }), "Retry Video ", this.state.retryCount > 0 && `(${this.state.retryCount + 1})`] }) }), x.jsx(hn, { onClick: this.handleReset, variant: "outline", size: "sm", className: "border-white/20 text-white/80 hover:bg-white/10", children: "Reset Player" }), this.state.videoUrl && x.jsxs(hn, { onClick: () => window.open(this.state.videoUrl, "_blank"), variant: "outline", size: "sm", className: "border-white/20 text-white/80 hover:bg-white/10", children: [x.jsx(uS, { className: "w-3 h-3 mr-1" }), "Open in YouTube"] })] }), !1] }) })] }) }) } } class ZG extends Jo.Component { constructor(e) { super(e), this.state = { hasError: !1, error: null, errorInfo: null, retryCount: 0, isRetrying: !1, lastFailedAction: null } } static getDerivedStateFromError(e) { return { hasError: !0, error: e } } componentDidCatch(e, t) { console.error("SamplePlaybackErrorBoundary caught an error:", e, t), this.setState({ error: e, errorInfo: t, hasError: !0, lastFailedAction: this.props.lastAction || "unknown" }), this.props.onError && this.props.onError(e, t) } handleRetry = async () => { this.setState({ isRetrying: !0, retryCount: this.state.retryCount + 1 }); try { this.props.onRetry && await this.props.onRetry(), setTimeout(() => { this.setState({ hasError: !1, error: null, errorInfo: null, isRetrying: !1, lastFailedAction: null }) }, 100) } catch (e) { console.error("Sample playback retry failed:", e), this.setState({ isRetrying: !1, error: e }) } }; handleReset = () => { this.setState({ hasError: !1, error: null, errorInfo: null, retryCount: 0, isRetrying: !1, lastFailedAction: null }), this.props.onReset && this.props.onReset() }; getErrorType(e) { const t = e?.message?.toLowerCase() || ""; return t.includes("audiocontext") || t.includes("suspended") ? "audiocontext" : t.includes("buffer") || t.includes("decode") ? "buffer" : t.includes("playback") || t.includes("play") ? "playback" : t.includes("timestamp") || t.includes("time") ? "timestamp" : t.includes("sample") || t.includes("pad") ? "sample" : "unknown" } getErrorDetails(e, t, i) { switch (e) { case "audiocontext": return { icon: GC, title: "Audio Context Error", description: "The browser's audio system is not responding. This usually happens when audio is blocked or suspended.", suggestions: ["Click anywhere on the page to activate audio", "Check if audio is muted in your browser", "Try refreshing the page", "Ensure your browser supports Web Audio API"], canRetry: !0, severity: "warning", action: "Click to activate audio" }; case "buffer": return { icon: Ja, title: "Audio Buffer Error", description: "There's an issue with the audio data. The audio buffer might be corrupted or invalid.", suggestions: ["Try reloading the audio", "Check if the original video is still available", "Clear the audio cache and try again"], canRetry: !0, severity: "error", action: "Reload audio" }; case "playback": return { icon: O1, title: "Playback Error", description: `Failed to ${i || "play"} the sample. This might be due to audio system conflicts.`, suggestions: ["Stop other audio and try again", "Check your system audio settings", "Try a different sample", "Refresh the page if the issue persists"], canRetry: !0, severity: "warning", action: "Try playback again" }; case "timestamp": return { icon: Ja, title: "Timestamp Error", description: "Invalid sample timing. The start or end time might be outside the audio duration.", suggestions: ["Check that timestamps are within the audio length", "Ensure start time is before end time", "Try creating the sample again", "Reload the audio if timestamps seem correct"], canRetry: !0, severity: "warning", action: "Fix timestamps" }; case "sample": return { icon: Ja, title: "Sample Creation Error", description: "Failed to create or manage the sample. There might be an issue with the sample data.", suggestions: ["Try creating the sample at a different time", "Check if the audio is fully loaded", "Clear existing samples and try again", "Ensure the video is playing when creating samples"], canRetry: !0, severity: "error", action: "Create sample again" }; default: return { icon: Ja, title: "Sample System Error", description: t?.message || "An unexpected error occurred in the sample playback system.", suggestions: ["Try the action again", "Refresh the page", "Clear browser cache if the issue persists", "Try a different browser"], canRetry: !0, severity: "error", action: "Try again" } } } render() { if (!this.state.hasError) return this.props.children; const e = this.getErrorType(this.state.error), t = this.getErrorDetails(e, this.state.error, this.state.lastFailedAction), i = t.icon; return x.jsx("div", { className: "p-4 space-y-3", children: x.jsxs(Ay, { className: `border-${t.severity === "error" ? "red" : "yellow"}-400 bg-${t.severity === "error" ? "red" : "yellow"}-400/10`, children: [x.jsx(i, { className: `h-4 w-4 text-${t.severity === "error" ? "red" : "yellow"}-400` }), x.jsx(Cy, { className: `text-${t.severity === "error" ? "red" : "yellow"}-200`, children: x.jsxs("div", { className: "space-y-2", children: [x.jsxs("div", { children: [x.jsx("h4", { className: "font-semibold text-sm", children: t.title }), x.jsx("p", { className: "text-xs mt-1", children: t.description })] }), t.suggestions.length > 0 && x.jsxs("div", { children: [x.jsx("p", { className: "text-xs font-medium mb-1", children: "Quick fixes:" }), x.jsx("ul", { className: "text-xs space-y-0.5 list-disc list-inside ml-2", children: t.suggestions.slice(0, 2).map((o, u) => x.jsx("li", { children: o }, u)) })] }), x.jsxs("div", { className: "flex gap-2 pt-1", children: [t.canRetry && x.jsx(hn, { onClick: this.handleRetry, disabled: this.state.isRetrying, size: "sm", className: "bg-cyan-500 hover:bg-cyan-600 text-black text-xs h-7", children: this.state.isRetrying ? x.jsxs(x.Fragment, { children: [x.jsx(el, { className: "w-3 h-3 mr-1 animate-spin" }), "Retrying..."] }) : x.jsxs(x.Fragment, { children: [x.jsx(el, { className: "w-3 h-3 mr-1" }), t.action] }) }), x.jsx(hn, { onClick: this.handleReset, variant: "outline", size: "sm", className: "border-white/20 text-white/80 hover:bg-white/10 text-xs h-7", children: "Dismiss" })] })] }) })] }) }) } } function eM({ value: n = 0, className: e = "", ...t }) { const i = Math.min(100, Math.max(0, n)); return x.jsx("div", { className: `relative w-full overflow-hidden rounded-full bg-gray-200 ${e}`, ...t, children: x.jsx("div", { className: "h-full bg-cyan-500 transition-all duration-300 ease-out", style: { width: `${i}%` } }) }) } const eK = ({ error: n, onRetry: e, onReset: t, youtubeUrl: i, isRetrying: o = !1, retryCount: u = 0 }) => { const d = () => { i && window.open(i, "_blank") }, p = () => { t && t() }, m = C => { const N = C?.message?.toLowerCase() || ""; return N.includes("network") || N.includes("timeout") ? "warning" : N.includes("unavailable") || N.includes("private") ? "error" : "warning" }, y = C => { const N = C?.message?.toLowerCase() || ""; return N.includes("network") || N.includes("timeout") ? [{ icon: el, title: "Check Connection", description: "Verify your internet connection and try again", action: e, primary: !0 }, { icon: Nw, title: "Open in YouTube", description: "Listen to the audio directly on YouTube", action: d, primary: !1 }] : N.includes("unavailable") || N.includes("private") ? [{ icon: aS, title: "Try Different Video", description: "Use a public YouTube video that allows audio extraction", action: p, primary: !0 }, { icon: Nw, title: "Open Original", description: "Check if the video exists and is accessible", action: d, primary: !1 }] : [{ icon: el, title: "Try Again", description: "Retry the audio processing", action: e, primary: !0 }, { icon: aS, title: "Different Video", description: "Try with a different YouTube video", action: p, primary: !1 }] }, w = m(n), E = y(n); return x.jsxs("div", { className: "space-y-6", children: [x.jsxs(Ay, { className: `border-${w === "error" ? "red" : "yellow"}-400 bg-${w === "error" ? "red" : "yellow"}-400/10`, children: [x.jsx(S_, { className: `h-4 w-4 text-${w === "error" ? "red" : "yellow"}-400` }), x.jsx(Cy, { className: `text-${w === "error" ? "red" : "yellow"}-200`, children: x.jsxs("div", { className: "space-y-3", children: [x.jsxs("div", { children: [x.jsx("h4", { className: "font-semibold", children: "Audio Processing Failed" }), x.jsx("p", { className: "text-sm mt-1", children: n?.message || "Unable to process audio from this YouTube video." })] }), u > 0 && x.jsxs("div", { className: "text-sm", children: [x.jsx("span", { className: "text-white/60", children: "Retry attempts: " }), x.jsx("span", { className: "text-white/80", children: u })] })] }) })] }), o && x.jsxs("div", { className: "space-y-2", children: [x.jsxs("div", { className: "flex items-center gap-2", children: [x.jsx(el, { className: "w-4 h-4 animate-spin text-cyan-400" }), x.jsx("span", { className: "text-sm text-cyan-200", children: "Retrying audio processing..." })] }), x.jsx(eM, { value: void 0, className: "h-2 bg-white/10" })] }), x.jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: E.map((C, N) => { const U = C.icon; return x.jsx("div", { className: `bg-black/20 backdrop-blur-lg border border-white/20 rounded-xl p-4 ${C.primary ? "ring-2 ring-cyan-500/30" : ""}`, children: x.jsxs("div", { className: "flex items-start gap-3", children: [x.jsx("div", { className: `p-2 rounded-lg ${C.primary ? "bg-cyan-500/20 text-cyan-400" : "bg-white/10 text-white/60"}`, children: x.jsx(U, { className: "w-4 h-4" }) }), x.jsxs("div", { className: "flex-1", children: [x.jsx("h5", { className: "font-medium text-white mb-1", children: C.title }), x.jsx("p", { className: "text-sm text-white/60 mb-3", children: C.description }), x.jsx(hn, { onClick: C.action, disabled: o, size: "sm", className: C.primary ? "bg-cyan-500 hover:bg-cyan-600 text-black" : "bg-white/10 hover:bg-white/20 text-white border-white/20", children: C.title })] })] }) }, N) }) }), x.jsxs("div", { className: "bg-black/10 backdrop-blur-lg border border-white/10 rounded-xl p-4", children: [x.jsxs("h5", { className: "font-medium text-white mb-3 flex items-center gap-2", children: [x.jsx(Ja, { className: "w-4 h-4 text-yellow-400" }), "Troubleshooting Tips"] }), x.jsxs("ul", { className: "text-sm text-white/70 space-y-2 list-disc list-inside", children: [x.jsx("li", { children: "Ensure the YouTube video is public and has audio content" }), x.jsx("li", { children: "Check your internet connection stability" }), x.jsx("li", { children: "Try videos that are shorter than 10 minutes for better performance" }), x.jsx("li", { children: "Clear your browser cache if you continue experiencing issues" }), x.jsx("li", { children: "Some videos may have restrictions that prevent audio extraction" })] })] }), i && x.jsxs("div", { className: "bg-black/10 backdrop-blur-lg border border-white/10 rounded-xl p-4", children: [x.jsx("h5", { className: "font-medium text-white mb-2", children: "Current Video" }), x.jsx("div", { className: "text-sm text-white/60 break-all", children: i }), x.jsx("div", { className: "flex gap-2 mt-3", children: x.jsxs(hn, { onClick: d, variant: "outline", size: "sm", className: "border-white/20 text-white/80 hover:bg-white/10", children: [x.jsx(Nw, { className: "w-3 h-3 mr-1" }), "Open in YouTube"] }) })] })] }) }, M0 = ["#06b6d4", "#3b82f6", "#8b5cf6", "#d946ef", "#059669", "#10b981", "#65a30d", "#ca8a04", "#f97316", "#ef4444", "#ec4899", "#a855f7", "#22c55e", "#eab308", "#f43f5e", "#6366f1"]; function tK() { const [n, e] = I.useState("https://www.youtube.com/watch?v=VATWSbrvnTk&list=RDVATWSbrvnTk&start_radio=1"), [t, i] = I.useState(""), [o, u] = I.useState([]), [d, p] = I.useState("A"), [m, y] = I.useState(null), [w, E] = I.useState({ currentTime: 0, duration: 180, isPlaying: !1 }), [C, N] = I.useState(1), [U, k] = I.useState(null), [R, L] = I.useState(null), [z, $] = I.useState(navigator.onLine), [J, Q] = I.useState(!1), { waveformData: re, audioBuffer: F, analysisStatus: V, progress: O, error: q, downloadStats: G, retry: K } = WG(t), H = XG(), ce = o.find(ke => ke.padId === m); I.useEffect(() => { const ke = () => $(!0), tt = () => $(!1); return window.addEventListener("online", ke), window.addEventListener("offline", tt), () => { window.removeEventListener("online", ke), window.removeEventListener("offline", tt) } }, []); const xe = ke => { e(ke.target.value), L(null) }, se = ke => { if (ke.preventDefault(), L(null), !z) { L("You're offline. Please check your internet connection and try again."); return } if (!n.trim()) { L("Please enter a YouTube URL."); return } console.log(`Submitting URL: ${n}`); try { const tt = new URL(n), An = tt.searchParams.get("v") || tt.pathname.split("/").pop(); if (!An || An.length !== 11) throw new Error("Invalid YouTube URL. Please make sure you're using a valid YouTube video link."); const Kt = `https://www.youtube.com/watch?v=${An}`; console.log(`Cleaned URL for submission: ${Kt}`), i(Kt), u([]) } catch (tt) { console.error("URL processing error:", tt), L(tt.message || "Invalid YouTube URL format. Please check the URL and try again.") } }, fe = ke => { const tt = ke.clipboardData.getData("text"); e(tt) }, _e = I.useCallback(ke => { k(ke) }, []), Ie = I.useCallback((ke, tt) => { m && u(An => { const Kt = An.findIndex(Ci => Ci.padId === m); if (Kt > -1) { const Ci = [...An]; return Ci[Kt] = { ...Ci[Kt], [ke]: tt }, Ci } else { const Ci = parseInt(m.slice(1), 10), Pe = ke === "startTime" ? tt : w.currentTime, me = ke === "endTime" ? tt : Math.min(w.currentTime + 2, w.duration); return [...An, { padId: m, startTime: Pe, endTime: me, color: M0[Ci % M0.length] }] } }) }, [m, w.currentTime, w.duration]), X = I.useCallback((ke, tt, An) => { const Kt = parseInt(ke.slice(1), 10), Ci = { padId: ke, startTime: tt, endTime: An, color: M0[Kt % M0.length] }; u(Pe => { const me = Pe.findIndex(nt => nt.padId === ke); if (me > -1) { const nt = [...Pe]; return nt[me] = Ci, nt } else return [...Pe, Ci] }) }, []), de = I.useCallback(ke => { u(tt => { const An = tt.findIndex(Kt => Kt.padId === ke.padId); if (An > -1) { const Kt = [...tt]; return Kt[An] = ke, Kt } return tt }) }, []), we = I.useCallback(ke => { u(tt => tt.filter(An => An.padId !== ke)), m === ke && y(null) }, [m]), Ee = () => { const ke = { message: "", type: "info", showProgress: !1, showRetry: !1, actionable: null }; switch (V) { case "idle": return { ...ke, message: "Enter a YouTube URL to load video.", type: "info" }; case "fetching": return { ...ke, message: "Loading video...", type: "loading", showProgress: !1 }; case "decoding": return { ...ke, message: "Loading video...", type: "loading", showProgress: !1 }; case "ready": return { ...ke, message: "Video ready. Play video and press a key to create samples!", type: "success" }; default: if (V.startsWith("error:")) { const tt = V.substring(6); return { ...ke, message: Oe(tt), type: "error", showRetry: !0, actionable: ze(tt) } } return { ...ke, message: "Loading...", type: "loading" } } }, Oe = ke => ke.includes("network") || ke.includes("fetch") ? "Network error: Unable to load video. Check your internet connection." : ke.includes("timeout") ? "Loading timeout: The video is taking too long to load." : ke.includes("unavailable") || ke.includes("private") ? "Video unavailable: This video may be private, deleted, or restricted." : ke.includes("quota") || ke.includes("limit") ? "Service limit reached: Please try again later." : `Video loading failed: ${ke}`, ze = ke => ke.includes("network") || ke.includes("fetch") ? "Check your internet connection and try again." : ke.includes("timeout") ? "Try refreshing the page or check your connection speed." : ke.includes("unavailable") || ke.includes("private") ? "Try a different public YouTube video." : ke.includes("quota") || ke.includes("limit") ? "Wait a few minutes and try again." : "Try refreshing the page or using a different video.", Ve = () => { Q(!1), K && K() }, Zt = (ke, tt) => { console.error("Audio processing error caught by boundary:", ke, tt), Q(!0) }, At = () => { Q(!1), i(""), u([]) }, Si = (ke, tt) => { console.error("Video player error caught by boundary:", ke, tt) }, Bi = (ke, tt) => { console.error("Sample playback error caught by boundary:", ke, tt) }, Ai = I.useCallback((ke, tt) => { U && (U.seekTo(ke, !0), tt && y(tt.padId)) }, [U]), Sr = I.useCallback(() => { U && (w.isPlaying ? U.pauseVideo() : U.playVideo()) }, [U, w.isPlaying]), It = Ee(); return x.jsxs("div", { className: "space-y-6", children: [x.jsxs(ss.div, { initial: { opacity: 0, y: -20 }, animate: { opacity: 1, y: 0 }, transition: { duration: .5 }, className: "bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl shadow-lg p-6", children: [x.jsxs("form", { onSubmit: se, className: "flex items-center gap-4", children: [x.jsxs("div", { className: "flex items-center gap-2", children: [x.jsx(mO, { className: "w-6 h-6 text-red-500 flex-shrink-0" }), !z && x.jsx(V1, { className: "w-4 h-4 text-red-400" }), z && x.jsx(j1, { className: "w-4 h-4 text-green-400" })] }), x.jsx(Wh, { type: "text", placeholder: "Paste a YouTube URL to begin...", value: n, onPaste: fe, onChange: xe, className: `bg-white/10 border-white/20 placeholder-gray-400 ${R ? "border-red-400 focus:border-red-400" : ""}`, disabled: !z }), x.jsx(hn, { type: "submit", className: "bg-cyan-500 hover:bg-cyan-600 text-black font-bold", disabled: !z || V === "fetching" || V === "decoding", children: V === "fetching" || V === "decoding" ? x.jsxs(x.Fragment, { children: [x.jsx(oS, { className: "w-4 h-4 mr-2 animate-spin" }), "Loading"] }) : "Load Video" })] }), x.jsx(sw, { children: R && x.jsx(ss.div, { initial: { opacity: 0, height: 0 }, animate: { opacity: 1, height: "auto" }, exit: { opacity: 0, height: 0 }, className: "mt-4", children: x.jsxs(Ay, { className: "border-red-400 bg-red-400/10", children: [x.jsx(sS, { className: "h-4 w-4 text-red-400" }), x.jsx(Cy, { className: "text-red-200", children: R })] }) }) }), x.jsxs("div", { className: "mt-4 space-y-3", children: [x.jsxs("div", { className: "flex items-center justify-between", children: [x.jsxs("div", { className: "flex items-center gap-2", children: [It.type === "loading" && x.jsx(oS, { className: "w-4 h-4 animate-spin text-cyan-400" }), It.type === "success" && x.jsx(xD, { className: "w-4 h-4 text-green-400" }), It.type === "error" && x.jsx(sS, { className: "w-4 h-4 text-red-400" }), x.jsx("span", { className: `text-sm font-medium ${It.type === "error" ? "text-red-200" : It.type === "success" ? "text-green-200" : It.type === "loading" ? "text-cyan-200" : "text-white/60"}`, children: It.message })] }), It.showRetry && x.jsxs(hn, { onClick: Ve, variant: "outline", size: "sm", className: "border-white/20 text-white/80 hover:bg-white/10", children: [x.jsx(el, { className: "w-3 h-3 mr-1" }), "Retry"] })] }), It.showProgress && x.jsxs("div", { className: "space-y-2", children: [x.jsx(eM, { value: O, className: "h-2 bg-white/10" }), x.jsxs("div", { className: "flex justify-between text-xs text-white/50", children: [x.jsxs("span", { children: [Math.round(O), "% complete"] }), G?.bytesReceived && G?.totalBytes && x.jsxs("span", { children: [Math.round(G.bytesReceived / 1024 / 1024), "MB /", Math.round(G.totalBytes / 1024 / 1024), "MB"] })] })] }), It.actionable && x.jsxs("div", { className: "text-xs text-white/40 italic", children: ["💡 ", It.actionable] }), G && (G.attempt > 1 || G.lastError) && x.jsxs("details", { className: "text-xs text-white/40", children: [x.jsx("summary", { className: "cursor-pointer hover:text-white/60", children: "Technical Details" }), x.jsxs("div", { className: "mt-2 space-y-1 pl-4 border-l border-white/10", children: [G.attempt > 1 && x.jsxs("div", { children: ["Retry attempt: ", G.attempt, "/", G.maxAttempts] }), G.retryDelay && x.jsxs("div", { children: ["Next retry in: ", Math.round(G.retryDelay / 1e3), "s"] }), G.lastError && x.jsxs("div", { children: ["Last error: ", G.lastError] })] })] })] })] }), J && q ? x.jsx(eK, { error: q, onRetry: Ve, onReset: At, youtubeUrl: t, isRetrying: H.isRetrying, retryCount: H.retryCount }) : x.jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-6", children: [x.jsxs("div", { className: "lg:col-span-2 space-y-6", children: [x.jsx(JG, { youtubeUrl: t, onError: Si, onRetry: Ve, onReset: At, children: x.jsx(Uq, { youtubeUrl: t, setPlayerState: E, volume: C, onPlayerReady: _e }) }), x.jsx(QG, { onError: Zt, onRetry: Ve, onReset: At, children: x.jsx(Kq, { playerState: w, selectedChop: ce, setChopTime: Ie, waveformData: re, deleteChop: we, youtubeUrl: t, allChops: o, onTimestampClick: Ai, isPlaying: w.isPlaying, onPlayPause: Sr }) })] }), x.jsxs("div", { className: "space-y-6", children: [x.jsx($G, { activeBank: d, setActiveBank: p, masterVolume: C, setMasterVolume: N, chops: o, youtubeUrl: t }), x.jsxs("div", { className: `relative ${V !== "ready" ? "opacity-50 pointer-events-none" : ""}`, children: [x.jsx(ZG, { onError: Bi, onRetry: Ve, onReset: () => u([]), children: x.jsx(Yq, { chops: o, activeBank: d, selectedPadId: m, setSelectedPadId: y, setPlayerState: E, playerState: w, onCreateSample: X, onUpdateSample: de, onDeleteSample: we, youtubePlayer: U, audioBuffer: F }) }), V !== "ready" && x.jsx("div", { className: "absolute inset-0 bg-black/50 rounded-2xl flex items-center justify-center", children: x.jsx("p", { className: "text-white/80 font-semibold", children: "Waiting for video..." }) })] })] })] })] }) } const C1 = I.forwardRef(({ className: n, ...e }, t) => x.jsx("div", { ref: t, className: $n("rounded-lg border bg-card text-card-foreground shadow-sm", n), ...e })); C1.displayName = "Card"; const x1 = I.forwardRef(({ className: n, ...e }, t) => x.jsx("div", { ref: t, className: $n("flex flex-col space-y-1.5 p-6", n), ...e })); x1.displayName = "CardHeader"; const tM = I.forwardRef(({ className: n, ...e }, t) => x.jsx("h3", { ref: t, className: $n("text-2xl font-semibold leading-none tracking-tight", n), ...e })); tM.displayName = "CardTitle"; const nM = I.forwardRef(({ className: n, ...e }, t) => x.jsx("p", { ref: t, className: $n("text-sm text-muted-foreground", n), ...e })); nM.displayName = "CardDescription"; const iM = I.forwardRef(({ className: n, ...e }, t) => x.jsx("div", { ref: t, className: $n("p-6 pt-0", n), ...e })); iM.displayName = "CardContent"; const R1 = I.forwardRef(({ className: n, ...e }, t) => x.jsx("div", { ref: t, className: $n("flex items-center p-6 pt-0", n), ...e })); R1.displayName = "CardFooter"; function dv({ className: n, ...e }) { return x.jsx("div", { className: $n("animate-pulse rounded-md bg-muted", n), ...e }) } function nK() { const [n, e] = I.useState([]), [t, i] = I.useState(!0), { user: o, loading: u } = eT(), [d, p] = I.useState(!1); I.useEffect(() => { !u && o ? m() : !u && !o && (i(!1), e([])) }, [o, u]); const m = async () => { i(!0); try { const E = await E1.list("-created_date"); e(E) } catch (E) { console.error("Failed to load sessions:", E) } finally { i(!1) } }, y = async E => { try { await E1.delete(E), e(n.filter(C => C.id !== E)) } catch (C) { console.error("Failed to delete session:", C) } }, w = E => { if (!E) return ""; const C = E.match(/(?:v=)([^&?]+)/) || E.match(/(?:youtu.be\/)([^&?]+)/), N = C ? C[1] : ""; return N ? `https://img.youtube.com/vi/${N}/mqdefault.jpg` : "" }; return u ? x.jsx("div", { className: "text-center col-span-full py-20 bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl", children: x.jsx("p", { className: "text-white/70", children: "Loading sessions..." }) }) : o ? x.jsxs("div", { className: "space-y-6", children: [x.jsxs(ss.div, { initial: { opacity: 0, y: -20 }, animate: { opacity: 1, y: 0 }, className: "flex items-center gap-4 text-3xl font-bold tracking-tighter", children: [x.jsx(BC, { className: "w-8 h-8 text-cyan-400" }), x.jsx("h2", { children: "My Saved Sessions" })] }), x.jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6", children: x.jsx(sw, { children: t ? Array.from({ length: 4 }).map((E, C) => x.jsxs(C1, { className: "bg-black/20 backdrop-blur-lg border border-white/20 text-white overflow-hidden", children: [x.jsx(x1, { children: x.jsx(dv, { className: "h-40 -mx-6 -mt-6" }) }), x.jsxs(iM, { children: [x.jsx(dv, { className: "h-6 w-3/4 mb-2" }), x.jsx(dv, { className: "h-4 w-1/2" })] }), x.jsxs(R1, { className: "flex justify-between", children: [x.jsx(dv, { className: "h-10 w-24" }), x.jsx(dv, { className: "h-10 w-10" })] })] }, C)) : n.map(E => x.jsx(ss.div, { layout: !0, initial: { opacity: 0, scale: .8 }, animate: { opacity: 1, scale: 1 }, exit: { opacity: 0, scale: .8 }, transition: { type: "spring", stiffness: 260, damping: 20 }, children: x.jsxs(C1, { className: "bg-black/20 backdrop-blur-lg border border-white/20 text-white overflow-hidden shadow-xl hover:shadow-cyan-500/20 transition-shadow duration-300 h-full flex flex-col", children: [x.jsx(x1, { className: "p-0", children: x.jsx("img", { src: w(E.youtubeUrl), alt: E.sessionName, className: "w-full h-40 object-cover" }) }), x.jsxs("div", { className: "p-6 flex flex-col flex-grow", children: [x.jsx(tM, { className: "tracking-tight", children: E.sessionName }), x.jsxs(nM, { className: "text-white/60 flex items-center gap-2 mt-1", children: [x.jsx(zD, { className: "w-4 h-4" }), E.chops?.length || 0, " Chops"] }), x.jsx("div", { className: "flex-grow" }), x.jsxs(R1, { className: "p-0 pt-6 flex justify-between items-center", children: [x.jsx(Q0, { to: `/?sessionId=${E.id}`, children: x.jsx(hn, { className: "bg-cyan-500 hover:bg-cyan-600 text-black font-bold", children: "Load" }) }), x.jsx(hn, { variant: "ghost", size: "icon", className: "text-red-500 hover:bg-red-500/20", onClick: () => y(E.id), children: x.jsx(L1, { className: "w-5 h-5" }) })] })] })] }) }, E.id)) }) }), !t && n.length === 0 && x.jsxs("div", { className: "text-center col-span-full py-20 bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl", children: [x.jsx("p", { className: "text-white/70", children: "You have no saved sessions." }), x.jsx(Q0, { to: "/", children: x.jsx(hn, { className: "mt-4 bg-cyan-500 hover:bg-cyan-600 text-black font-bold", children: "Create your first chop!" }) })] })] }) : x.jsxs("div", { className: "text-center col-span-full py-20 bg-black/20 backdrop-blur-lg border border-white/20 rounded-2xl", children: [x.jsx("p", { className: "text-white/70", children: "Please sign in to view your saved sessions." }), x.jsxs(hn, { onClick: () => p(!0), className: "mt-4 bg-cyan-500 hover:bg-cyan-600 text-black font-bold", children: [x.jsx(FC, { className: "w-4 h-4 mr-2" }), "Sign In"] }), x.jsx(Mk, { isOpen: d, onOpenChange: p })] }) } const iK = [{ icon: BD, title: "Intuitive Sampling", description: "Easily chop YouTube videos into custom samples." }, { icon: vO, title: "Live Performance", description: "Trigger samples instantly with keyboard shortcuts." }, { icon: OD, title: "Web-Based Access", description: "Use it anywhere, anytime, directly in your browser." }], SC = "chopshop_feature_tour_shown"; function rK() { const [n, e] = I.useState(!1); I.useEffect(() => { localStorage.getItem(SC) || e(!0) }, []); const t = () => { localStorage.setItem(SC, "true"), e(!1) }; return x.jsx(Ox, { open: n, onOpenChange: e, children: x.jsxs(K1, { className: "sm:max-w-[500px] bg-gradient-to-br from-gray-900 via-purple-900 to-blue-900 text-white border-white/20 shadow-lg", children: [x.jsxs($1, { className: "text-center", children: [x.jsx(ss.div, { initial: { scale: 0, opacity: 0 }, animate: { scale: 1, opacity: 1 }, transition: { type: "spring", stiffness: 260, damping: 20 }, children: x.jsx(MD, { className: "w-16 h-16 mx-auto text-yellow-400 drop-shadow-lg" }) }), x.jsx(W1, { className: "text-3xl font-bold tracking-tighter mt-4", children: "Welcome to The Chop Shop!" }), x.jsx(Y1, { className: "text-white/80 mt-2", children: "Unleash your creativity by sampling YouTube videos with ease." })] }), x.jsx("div", { className: "space-y-4 py-4", children: iK.map((i, o) => x.jsxs(ss.div, { initial: { x: -50, opacity: 0 }, animate: { x: 0, opacity: 1 }, transition: { delay: .2 + o * .1, type: "spring", stiffness: 100, damping: 10 }, className: "flex items-start gap-4 p-3 bg-black/20 rounded-lg border border-white/10", children: [x.jsx(i.icon, { className: "w-6 h-6 text-cyan-400 flex-shrink-0 mt-1" }), x.jsxs("div", { children: [x.jsx("h3", { className: "font-semibold text-lg", children: i.title }), x.jsx("p", { className: "text-white/70 text-sm", children: i.description })] })] }, o)) }), x.jsxs(ss.div, { initial: { y: 20, opacity: 0 }, animate: { y: 0, opacity: 1 }, transition: { delay: .8, type: "spring", stiffness: 100, damping: 10 }, className: "text-center mt-6 p-4 bg-purple-900/40 rounded-xl border border-purple-700/50 shadow-inner", children: [x.jsxs("p", { className: "text-yellow-200 font-bold flex items-center justify-center gap-2", children: [x.jsx(ID, { className: "w-5 h-5" }), "One-Time Purchase, Free Lifetime Upgrades!"] }), x.jsx("p", { className: "text-white/70 text-sm mt-1", children: "Get all future features and improvements at no extra cost." })] }), x.jsx(Vx, { className: "mt-6", children: x.jsx(hn, { onClick: t, className: "w-full bg-cyan-500 hover:bg-cyan-600 text-black font-bold py-3 text-lg rounded-xl shadow-md hover:shadow-lg transition-all duration-300", children: "Let's Get Chopping!" }) })] }) }) } function sK() { return x.jsxs(Ok, { children: [x.jsx(pD, { future: { v7_startTransition: !0, v7_relativeSplatPath: !0 }, children: x.jsx(l8, { children: x.jsxs(aD, { children: [x.jsx(__, { path: "/", element: x.jsx(tK, {}) }), x.jsx(__, { path: "/my-sessions", element: x.jsx(nK, {}) })] }) }) }), x.jsx(rK, {})] }) } pM.createRoot(document.getElementById("root")).render(x.jsx(I.StrictMode, { children: x.jsx(Ok, { children: x.jsx(sK, {}) }) }));
